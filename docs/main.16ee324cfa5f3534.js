(self.webpackChunkmvp_rorr=self.webpackChunkmvp_rorr||[]).push([[179],{2011:(c,h,f)=>{"use strict";f.d(h,{Dh:()=>j,GT:()=>P,cc:()=>ne,hO:()=>q,on:()=>R,pX:()=>M,xv:()=>Q});var s=f(4650),v=f(9260),y=f(4976);c=f.hmd(c);const D=["ngOnDestroy"],M=(B,ee,te,re={})=>new Proxy(B,{get:(ae,he)=>te.runOutsideAngular(()=>{var Re;if(B[he])return!(null===(Re=re?.spy)||void 0===Re)&&Re.get&&re.spy.get(he,B[he]),B[he];if(D.indexOf(he)>-1)return()=>{};const xe=ee.toPromise().then(Ie=>{const _e=Ie&&Ie[he];return"function"==typeof _e?_e.bind(Ie):_e&&_e.then?_e.then($e=>te.run(()=>$e)):te.run(()=>_e)});return new Proxy(()=>{},{get:(Ie,_e)=>xe[_e],apply:(Ie,_e,$e)=>xe.then(Te=>{var fe;const le=Te&&Te(...$e);return!(null===(fe=re?.spy)||void 0===fe)&&fe.apply&&re.spy.apply(he,$e,le),le})})})}),P=(B,ee)=>{ee.forEach(te=>{Object.getOwnPropertyNames(te.prototype||te).forEach(re=>{Object.defineProperty(B.prototype,re,Object.getOwnPropertyDescriptor(te.prototype||te,re))})})};class O{constructor(ee){return ee}}const j=new s.OlP("angularfire2.app.options"),Q=new s.OlP("angularfire2.app.name");function R(B,ee,te){const ae="object"==typeof te&&te||{};ae.name=ae.name||"string"==typeof te&&te||"[DEFAULT]";const Re=v.Z.apps.filter(xe=>xe&&xe.name===ae.name)[0]||ee.runOutsideAngular(()=>v.Z.initializeApp(B,ae));try{JSON.stringify(B)!==JSON.stringify(Re.options)&&H("error",`${Re.name} Firebase App already initialized with different options${c.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new O(Re)}const H=(B,...ee)=>{(0,s.X6Q)()&&typeof console<"u"&&console[B](...ee)},U={provide:O,useFactory:R,deps:[j,s.R0b,[new s.FiY,Q]]};let q=(()=>{class B{constructor(te){v.Z.registerVersion("angularfire",y.q4.full,"core"),v.Z.registerVersion("angularfire",y.q4.full,"app-compat"),v.Z.registerVersion("angular",s.q4F.full,te.toString())}static initializeApp(te,re){return{ngModule:B,providers:[{provide:j,useValue:te},{provide:Q,useValue:re}]}}}return B.\u0275fac=function(te){return new(te||B)(s.LFG(s.Lbi))},B.\u0275mod=s.oAB({type:B}),B.\u0275inj=s.cJS({providers:[U]}),B})();function ne(B,ee,te,re,ae){const[,he,Re]=globalThis.\u0275AngularfireInstanceCache.find(xe=>xe[0]===B)||[];if(he)return function z(B,ee){try{return B.toString()===ee.toString()}catch{return B===ee}}(ae,Re)||(V("error",`${ee} was already initialized on the ${te} Firebase App with different settings.${G?" You may need to reload as Firebase is not HMR aware.":""}`),V("warn",{is:ae,was:Re})),he;{const xe=re();return globalThis.\u0275AngularfireInstanceCache.push([B,xe,ae]),xe}}const G=!!c.hot,V=(B,...ee)=>{(0,s.X6Q)()&&typeof console<"u"&&console[B](...ee)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(c,h,f)=>{"use strict";f.d(h,{q4:()=>cr,iC:()=>_c,HU:()=>fl,vb:()=>Mu,JM:()=>ep});var s=f(4650),v=f(259),y=f(5861),D=f(6881),M=f(2090),P=f(4859),O=f(1877);let Q,R;const q=new WeakMap,ne=new WeakMap,z=new WeakMap,G=new WeakMap,V=new WeakMap;let te={get(x,N,J){if(x instanceof IDBTransaction){if("done"===N)return ne.get(x);if("objectStoreNames"===N)return x.objectStoreNames||z.get(x);if("store"===N)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return Re(x[N])},set:(x,N,J)=>(x[N]=J,!0),has:(x,N)=>x instanceof IDBTransaction&&("done"===N||"store"===N)||N in x};function he(x){return"function"==typeof x?function ae(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function U(){return R||(R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...N){return x.apply(xe(this),N),Re(q.get(this))}:function(...N){return Re(x.apply(xe(this),N))}:function(N,...J){const ue=x.call(xe(this),N,...J);return z.set(ue,N.sort?N.sort():[N]),Re(ue)}}(x):(x instanceof IDBTransaction&&function ee(x){if(ne.has(x))return;const N=new Promise((J,ue)=>{const we=()=>{x.removeEventListener("complete",De),x.removeEventListener("error",ze),x.removeEventListener("abort",ze)},De=()=>{J(),we()},ze=()=>{ue(x.error||new DOMException("AbortError","AbortError")),we()};x.addEventListener("complete",De),x.addEventListener("error",ze),x.addEventListener("abort",ze)});ne.set(x,N)}(x),((x,N)=>N.some(J=>x instanceof J))(x,function H(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,te):x)}function Re(x){if(x instanceof IDBRequest)return function B(x){const N=new Promise((J,ue)=>{const we=()=>{x.removeEventListener("success",De),x.removeEventListener("error",ze)},De=()=>{J(Re(x.result)),we()},ze=()=>{ue(x.error),we()};x.addEventListener("success",De),x.addEventListener("error",ze)});return N.then(J=>{J instanceof IDBCursor&&q.set(J,x)}).catch(()=>{}),V.set(N,x),N}(x);if(G.has(x))return G.get(x);const N=he(x);return N!==x&&(G.set(x,N),V.set(N,x)),N}const xe=x=>V.get(x),$e=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],fe=new Map;function le(x,N){if(!(x instanceof IDBDatabase)||N in x||"string"!=typeof N)return;if(fe.get(N))return fe.get(N);const J=N.replace(/FromIndex$/,""),ue=N!==J,we=Te.includes(J);if(!(J in(ue?IDBIndex:IDBObjectStore).prototype)||!we&&!$e.includes(J))return;const De=function(){var ze=(0,y.Z)(function*(at,...it){const It=this.transaction(at,we?"readwrite":"readonly");let Dt=It.store;return ue&&(Dt=Dt.index(it.shift())),(yield Promise.all([Dt[J](...it),we&&It.done]))[0]});return function(it){return ze.apply(this,arguments)}}();return fe.set(N,De),De}!function re(x){te=x(te)}(x=>({...x,get:(N,J,ue)=>le(N,J)||x.get(N,J,ue),has:(N,J)=>!!le(N,J)||x.has(N,J)}));const X="@firebase/installations",pe="w:0.6.4",Ne="FIS_v2",zt=new M.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function jt(x){return x instanceof M.ZR&&x.code.includes("request-failed")}function Ut({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Jt(x){return{token:x.token,requestStatus:2,expiresIn:zr(x.expiresIn),creationTime:Date.now()}}function un(x,N){return lt.apply(this,arguments)}function lt(){return(lt=(0,y.Z)(function*(x,N){const ue=(yield N.json()).error;return zt.create("request-failed",{requestName:x,serverCode:ue.code,serverMessage:ue.message,serverStatus:ue.status})})).apply(this,arguments)}function on({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function Fn(x,{refreshToken:N}){const J=on(x);return J.append("Authorization",function jr(x){return`${Ne} ${x}`}(N)),J}function gr(x){return nr.apply(this,arguments)}function nr(){return(nr=(0,y.Z)(function*(x){const N=yield x();return N.status>=500&&N.status<600?x():N})).apply(this,arguments)}function zr(x){return Number(x.replace("s","000"))}function ft(x,N){return bn.apply(this,arguments)}function bn(){return(bn=(0,y.Z)(function*({appConfig:x,heartbeatServiceProvider:N},{fid:J}){const ue=Ut(x),we=on(x),De=N.getImmediate({optional:!0});if(De){const It=yield De.getHeartbeatsHeader();It&&we.append("x-firebase-client",It)}const at={method:"POST",headers:we,body:JSON.stringify({fid:J,authVersion:Ne,appId:x.appId,sdkVersion:pe})},it=yield gr(()=>fetch(ue,at));if(it.ok){const It=yield it.json();return{fid:It.fid||J,registrationStatus:2,refreshToken:It.refreshToken,authToken:Jt(It.authToken)}}throw yield un("Create Installation",it)})).apply(this,arguments)}function ur(x){return new Promise(N=>{setTimeout(N,x)})}const Dr=/^[cdef][\w-]{21}$/;function pn(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const J=function dn(x){return function Gn(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Dr.test(J)?J:""}catch{return""}}function an(x){return`${x.appName}!${x.appId}`}const pt=new Map;function kt(x,N){const J=an(x);Si(J,N),function _r(x,N){const J=function Gr(){return!Lt&&"BroadcastChannel"in self&&(Lt=new BroadcastChannel("[Firebase] FID Change"),Lt.onmessage=x=>{Si(x.data.key,x.data.fid)}),Lt}();J&&J.postMessage({key:x,fid:N}),function Sn(){0===pt.size&&Lt&&(Lt.close(),Lt=null)}()}(J,N)}function Si(x,N){const J=pt.get(x);if(J)for(const ue of J)ue(N)}let Lt=null;const Tr="firebase-installations-store";let $r=null;function Ji(){return $r||($r=function Ie(x,N,{blocked:J,upgrade:ue,blocking:we,terminated:De}={}){const ze=indexedDB.open(x,N),at=Re(ze);return ue&&ze.addEventListener("upgradeneeded",it=>{ue(Re(ze.result),it.oldVersion,it.newVersion,Re(ze.transaction))}),J&&ze.addEventListener("blocked",()=>J()),at.then(it=>{De&&it.addEventListener("close",()=>De()),we&&it.addEventListener("versionchange",()=>we())}).catch(()=>{}),at}("firebase-installations-database",1,{upgrade:(x,N)=>{0===N&&x.createObjectStore(Tr)}})),$r}function Qn(x,N){return qr.apply(this,arguments)}function qr(){return(qr=(0,y.Z)(function*(x,N){const J=an(x),we=(yield Ji()).transaction(Tr,"readwrite"),De=we.objectStore(Tr),ze=yield De.get(J);return yield De.put(N,J),yield we.done,(!ze||ze.fid!==N.fid)&&kt(x,N.fid),N})).apply(this,arguments)}function Cs(x){return ir.apply(this,arguments)}function ir(){return(ir=(0,y.Z)(function*(x){const N=an(x),ue=(yield Ji()).transaction(Tr,"readwrite");yield ue.objectStore(Tr).delete(N),yield ue.done})).apply(this,arguments)}function Ii(x,N){return gi.apply(this,arguments)}function gi(){return(gi=(0,y.Z)(function*(x,N){const J=an(x),we=(yield Ji()).transaction(Tr,"readwrite"),De=we.objectStore(Tr),ze=yield De.get(J),at=N(ze);return void 0===at?yield De.delete(J):yield De.put(at,J),yield we.done,at&&(!ze||ze.fid!==at.fid)&&kt(x,at.fid),at})).apply(this,arguments)}function ye(x){return ge.apply(this,arguments)}function ge(){return(ge=(0,y.Z)(function*(x){let N;const J=yield Ii(x.appConfig,ue=>{const we=Se(ue),De=Be(x,we);return N=De.registrationPromise,De.installationEntry});return""===J.fid?{installationEntry:yield N}:{installationEntry:J,registrationPromise:N}})).apply(this,arguments)}function Se(x){return Je(x||{fid:pn(),registrationStatus:0})}function Be(x,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(zt.create("app-offline"))};const J={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ue=function Pe(x,N){return ot.apply(this,arguments)}(x,J);return{installationEntry:J,registrationPromise:ue}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Vt(x)}:{installationEntry:N}}function ot(){return(ot=(0,y.Z)(function*(x,N){try{const J=yield ft(x,N);return Qn(x.appConfig,J)}catch(J){throw jt(J)&&409===J.customData.serverCode?yield Cs(x.appConfig):yield Qn(x.appConfig,{fid:N.fid,registrationStatus:0}),J}})).apply(this,arguments)}function Vt(x){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,y.Z)(function*(x){let N=yield wn(x.appConfig);for(;1===N.registrationStatus;)yield ur(100),N=yield wn(x.appConfig);if(0===N.registrationStatus){const{installationEntry:J,registrationPromise:ue}=yield ye(x);return ue||J}return N})).apply(this,arguments)}function wn(x){return Ii(x,N=>{if(!N)throw zt.create("installation-not-found");return Je(N)})}function Je(x){return function St(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Mt(x,N){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,y.Z)(function*({appConfig:x,heartbeatServiceProvider:N},J){const ue=Wr(x,J),we=Fn(x,J),De=N.getImmediate({optional:!0});if(De){const It=yield De.getHeartbeatsHeader();It&&we.append("x-firebase-client",It)}const at={method:"POST",headers:we,body:JSON.stringify({installation:{sdkVersion:pe,appId:x.appId}})},it=yield gr(()=>fetch(ue,at));if(it.ok)return Jt(yield it.json());throw yield un("Generate Auth Token",it)})).apply(this,arguments)}function Wr(x,{fid:N}){return`${Ut(x)}/${N}/authTokens:generate`}function Pn(x){return es.apply(this,arguments)}function es(){return(es=(0,y.Z)(function*(x,N=!1){let J;const ue=yield Ii(x.appConfig,De=>{if(!Kt(De))throw zt.create("not-registered");const ze=De.authToken;if(!N&&fn(ze))return De;if(1===ze.requestStatus)return J=Fe(x,N),De;{if(!navigator.onLine)throw zt.create("app-offline");const at=ln(De);return J=Xe(x,at),at}});return J?yield J:ue.authToken})).apply(this,arguments)}function Fe(x,N){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,y.Z)(function*(x,N){let J=yield Ye(x.appConfig);for(;1===J.authToken.requestStatus;)yield ur(100),J=yield Ye(x.appConfig);const ue=J.authToken;return 0===ue.requestStatus?Pn(x,N):ue})).apply(this,arguments)}function Ye(x){return Ii(x,N=>{if(!Kt(N))throw zt.create("not-registered");return function Zr(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function Xe(x,N){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,y.Z)(function*(x,N){try{const J=yield Mt(x,N),ue=Object.assign(Object.assign({},N),{authToken:J});return yield Qn(x.appConfig,ue),J}catch(J){if(!jt(J)||401!==J.customData.serverCode&&404!==J.customData.serverCode){const ue=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield Qn(x.appConfig,ue)}else yield Cs(x.appConfig);throw J}})).apply(this,arguments)}function Kt(x){return void 0!==x&&2===x.registrationStatus}function fn(x){return 2===x.requestStatus&&!function $n(x){const N=Date.now();return N<x.creationTime||x.creationTime+x.expiresIn<N+36e5}(x)}function ln(x){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:N})}function Di(){return(Di=(0,y.Z)(function*(x){const N=x,{installationEntry:J,registrationPromise:ue}=yield ye(N);return ue?ue.catch(console.error):Pn(N).catch(console.error),J.fid})).apply(this,arguments)}function Ol(){return(Ol=(0,y.Z)(function*(x,N=!1){const J=x;return yield mn(J),(yield Pn(J,N)).token})).apply(this,arguments)}function mn(x){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,y.Z)(function*(x){const{registrationPromise:N}=yield ye(x);N&&(yield N)})).apply(this,arguments)}function xr(x){return zt.create("missing-app-config-values",{valueName:x})}const _i="installations",ia=x=>{const N=x.getProvider("app").getImmediate(),J=function Fd(x){if(!x||!x.options)throw xr("App Configuration");if(!x.name)throw xr("App Name");const N=["projectId","apiKey","appId"];for(const J of N)if(!x.options[J])throw xr(J);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(N);return{app:N,appConfig:J,heartbeatServiceProvider:(0,D._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Hs=x=>{const N=x.getProvider("app").getImmediate(),J=(0,D._getProvider)(N,_i).getImmediate();return{getId:()=>function Bi(x){return Di.apply(this,arguments)}(J),getToken:we=>function Ga(x){return Ol.apply(this,arguments)}(J,we)}};(function ts(){(0,D._registerComponent)(new P.wA(_i,ia,"PUBLIC")),(0,D._registerComponent)(new P.wA("installations-internal",Hs,"PRIVATE"))})(),(0,D.registerVersion)(X,"0.6.4"),(0,D.registerVersion)(X,"0.6.4","esm2017");const sa="@firebase/remote-config",Bn=new M.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Hi{constructor(N,J,ue,we){this.client=N,this.storage=J,this.storageCache=ue,this.logger=we}isCachedDataFresh(N,J){if(!J)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-J,we=ue<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${we}.`),we}fetch(N){var J=this;return(0,y.Z)(function*(){const[ue,we]=yield Promise.all([J.storage.getLastSuccessfulFetchTimestampMillis(),J.storage.getLastSuccessfulFetchResponse()]);if(we&&J.isCachedDataFresh(N.cacheMaxAgeMillis,ue))return we;N.eTag=we&&we.eTag;const De=yield J.client.fetch(N),ze=[J.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===De.status&&ze.push(J.storage.setLastSuccessfulFetchResponse(De)),yield Promise.all(ze),De})()}}function jd(x=navigator){return x.languages&&x.languages[0]||x.language}class $a{constructor(N,J,ue,we,De,ze){this.firebaseInstallations=N,this.sdkVersion=J,this.namespace=ue,this.projectId=we,this.apiKey=De,this.appId=ze}fetch(N){var J=this;return(0,y.Z)(function*(){const[ue,we]=yield Promise.all([J.firebaseInstallations.getId(),J.firebaseInstallations.getToken()]),ze=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${J.projectId}/namespaces/${J.namespace}:fetch?key=${J.apiKey}`,at={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},it={sdk_version:J.sdkVersion,app_instance_id:ue,app_instance_id_token:we,app_id:J.appId,language_code:jd()},It={method:"POST",headers:at,body:JSON.stringify(it)},Dt=fetch(ze,It),Gt=new Promise((Lr,Qs)=>{N.signal.addEventListener(()=>{const yc=new Error("The operation was aborted.");yc.name="AbortError",Qs(yc)})});let Xr;try{yield Promise.race([Dt,Gt]),Xr=yield Dt}catch(Lr){let Qs="fetch-client-network";throw"AbortError"===Lr?.name&&(Qs="fetch-timeout"),Bn.create(Qs,{originalErrorMessage:Lr?.message})}let kn=Xr.status;const xt=Xr.headers.get("ETag")||void 0;let cs,mo;if(200===Xr.status){let Lr;try{Lr=yield Xr.json()}catch(Qs){throw Bn.create("fetch-client-parse",{originalErrorMessage:Qs?.message})}cs=Lr.entries,mo=Lr.state}if("INSTANCE_STATE_UNSPECIFIED"===mo?kn=500:"NO_CHANGE"===mo?kn=304:("NO_TEMPLATE"===mo||"EMPTY_CONFIG"===mo)&&(cs={}),304!==kn&&200!==kn)throw Bn.create("fetch-status",{httpStatus:kn});return{status:kn,eTag:xt,config:cs}})()}}class Mf{constructor(N,J){this.client=N,this.storage=J}fetch(N){var J=this;return(0,y.Z)(function*(){const ue=(yield J.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return J.attemptFetch(N,ue)})()}attemptFetch(N,{throttleEndTimeMillis:J,backoffCount:ue}){var we=this;return(0,y.Z)(function*(){yield function ou(x,N){return new Promise((J,ue)=>{const we=Math.max(N-Date.now(),0),De=setTimeout(J,we);x.addEventListener(()=>{clearTimeout(De),ue(Bn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,J);try{const De=yield we.client.fetch(N);return yield we.storage.deleteThrottleMetadata(),De}catch(De){if(!function Vl(x){if(!(x instanceof M.ZR&&x.customData))return!1;const N=Number(x.customData.httpStatus);return 429===N||500===N||503===N||504===N}(De))throw De;const ze={throttleEndTimeMillis:Date.now()+(0,M.$s)(ue),backoffCount:ue+1};return yield we.storage.setThrottleMetadata(ze),we.attemptFetch(N,ze)}})()}}class Pf{constructor(N,J,ue,we,De){this.app=N,this._client=J,this._storageCache=ue,this._storage=we,this._logger=De,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fr(x,N){const J=x.target.error||void 0;return Bn.create(N,{originalErrorMessage:J&&J?.message})}const oi="app_namespace_store";class ow{constructor(N,J,ue,we=function Ul(){return new Promise((x,N)=>{try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=ue=>{N(Fr(ue,"storage-open"))},J.onsuccess=ue=>{x(ue.target.result)},J.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(oi,{keyPath:"compositeKey"})}}catch(J){N(Bn.create("storage-open",{originalErrorMessage:J?.message}))}})}()){this.appId=N,this.appName=J,this.namespace=ue,this.openDbPromise=we}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var J=this;return(0,y.Z)(function*(){const ue=yield J.openDbPromise;return new Promise((we,De)=>{const at=ue.transaction([oi],"readonly").objectStore(oi),it=J.createCompositeKey(N);try{const It=at.get(it);It.onerror=Dt=>{De(Fr(Dt,"storage-get"))},It.onsuccess=Dt=>{const Gt=Dt.target.result;we(Gt?Gt.value:void 0)}}catch(It){De(Bn.create("storage-get",{originalErrorMessage:It?.message}))}})})()}set(N,J){var ue=this;return(0,y.Z)(function*(){const we=yield ue.openDbPromise;return new Promise((De,ze)=>{const it=we.transaction([oi],"readwrite").objectStore(oi),It=ue.createCompositeKey(N);try{const Dt=it.put({compositeKey:It,value:J});Dt.onerror=Gt=>{ze(Fr(Gt,"storage-set"))},Dt.onsuccess=()=>{De()}}catch(Dt){ze(Bn.create("storage-set",{originalErrorMessage:Dt?.message}))}})})()}delete(N){var J=this;return(0,y.Z)(function*(){const ue=yield J.openDbPromise;return new Promise((we,De)=>{const at=ue.transaction([oi],"readwrite").objectStore(oi),it=J.createCompositeKey(N);try{const It=at.delete(it);It.onerror=Dt=>{De(Fr(Dt,"storage-delete"))},It.onsuccess=()=>{we()}}catch(It){De(Bn.create("storage-delete",{originalErrorMessage:It?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class sr{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,y.Z)(function*(){const J=N.storage.getLastFetchStatus(),ue=N.storage.getLastSuccessfulFetchTimestampMillis(),we=N.storage.getActiveConfig(),De=yield J;De&&(N.lastFetchStatus=De);const ze=yield ue;ze&&(N.lastSuccessfulFetchTimestampMillis=ze);const at=yield we;at&&(N.activeConfig=at)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function vi(){return au.apply(this,arguments)}function au(){return(au=(0,y.Z)(function*(){if(!(0,M.hl)())return!1;try{return yield(0,M.eu)()}catch{return!1}})).apply(this,arguments)}let oa,or;!function zs(){(0,D._registerComponent)(new P.wA("remote-config",function x(N,{instanceIdentifier:J}){const ue=N.getProvider("app").getImmediate(),we=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Bn.create("registration-window");if(!(0,M.hl)())throw Bn.create("indexed-db-unavailable");const{projectId:De,apiKey:ze,appId:at}=ue.options;if(!De)throw Bn.create("registration-project-id");if(!ze)throw Bn.create("registration-api-key");if(!at)throw Bn.create("registration-app-id");const it=new ow(at,ue.name,J=J||"firebase"),It=new sr(it),Dt=new O.Yd(sa);Dt.logLevel=O.in.ERROR;const Gt=new $a(we,D.SDK_VERSION,J,De,ze,at),Xr=new Mf(Gt,it),kn=new Hi(Xr,it,It,Dt),xt=new Pf(ue,kn,It,it,Dt);return function Xm(x){const N=(0,M.m9)(x);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(xt),xt},"PUBLIC").setMultipleInstances(!0)),(0,D.registerVersion)(sa,"0.4.4"),(0,D.registerVersion)(sa,"0.4.4","esm2017")}();const lu=new WeakMap,Ti=new WeakMap,uo=new WeakMap,Kr=new WeakMap,Bt=new WeakMap;let qa={get(x,N,J){if(x instanceof IDBTransaction){if("done"===N)return Ti.get(x);if("objectStoreNames"===N)return x.objectStoreNames||uo.get(x);if("store"===N)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return rs(x[N])},set:(x,N,J)=>(x[N]=J,!0),has:(x,N)=>x instanceof IDBTransaction&&("done"===N||"store"===N)||N in x};function Zd(x){return"function"==typeof x?function Wd(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Do(){return or||(or=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...N){return x.apply(Gl(this),N),rs(lu.get(this))}:function(...N){return rs(x.apply(Gl(this),N))}:function(N,...J){const ue=x.call(Gl(this),N,...J);return uo.set(ue,N.sort?N.sort():[N]),rs(ue)}}(x):(x instanceof IDBTransaction&&function $d(x){if(Ti.has(x))return;const N=new Promise((J,ue)=>{const we=()=>{x.removeEventListener("complete",De),x.removeEventListener("error",ze),x.removeEventListener("abort",ze)},De=()=>{J(),we()},ze=()=>{ue(x.error||new DOMException("AbortError","AbortError")),we()};x.addEventListener("complete",De),x.addEventListener("error",ze),x.addEventListener("abort",ze)});Ti.set(x,N)}(x),((x,N)=>N.some(J=>x instanceof J))(x,function Jm(){return oa||(oa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,qa):x)}function rs(x){if(x instanceof IDBRequest)return function Gd(x){const N=new Promise((J,ue)=>{const we=()=>{x.removeEventListener("success",De),x.removeEventListener("error",ze)},De=()=>{J(rs(x.result)),we()},ze=()=>{ue(x.error),we()};x.addEventListener("success",De),x.addEventListener("error",ze)});return N.then(J=>{J instanceof IDBCursor&&lu.set(J,x)}).catch(()=>{}),Bt.set(N,x),N}(x);if(Kr.has(x))return Kr.get(x);const N=Zd(x);return N!==x&&(Kr.set(x,N),Bt.set(N,x)),N}const Gl=x=>Bt.get(x);function qe(x,N,{blocked:J,upgrade:ue,blocking:we,terminated:De}={}){const ze=indexedDB.open(x,N),at=rs(ze);return ue&&ze.addEventListener("upgradeneeded",it=>{ue(rs(ze.result),it.oldVersion,it.newVersion,rs(ze.transaction))}),J&&ze.addEventListener("blocked",()=>J()),at.then(it=>{De&&it.addEventListener("close",()=>De()),we&&it.addEventListener("versionchange",()=>we())}).catch(()=>{}),at}function nn(x,{blocked:N}={}){const J=indexedDB.deleteDatabase(x);return N&&J.addEventListener("blocked",()=>N()),rs(J).then(()=>{})}const $l=["get","getKey","getAll","getAllKeys","count"],cu=["put","add","delete","clear"],Xn=new Map;function ql(x,N){if(!(x instanceof IDBDatabase)||N in x||"string"!=typeof N)return;if(Xn.get(N))return Xn.get(N);const J=N.replace(/FromIndex$/,""),ue=N!==J,we=cu.includes(J);if(!(J in(ue?IDBIndex:IDBObjectStore).prototype)||!we&&!$l.includes(J))return;const De=function(){var ze=(0,y.Z)(function*(at,...it){const It=this.transaction(at,we?"readwrite":"readonly");let Dt=It.store;return ue&&(Dt=Dt.index(it.shift())),(yield Promise.all([Dt[J](...it),we&&It.done]))[0]});return function(it){return ze.apply(this,arguments)}}();return Xn.set(N,De),De}!function qd(x){qa=x(qa)}(x=>({...x,get:(N,J,ue)=>ql(N,J)||x.get(N,J,ue),has:(N,J)=>!!ql(N,J)||x.has(N,J)}));const To="/firebase-messaging-sw.js",xi="/firebase-cloud-messaging-push-scope",aa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",du="google.c.a.c_id",Jn="google.c.a.c_l",Rf="google.c.a.ts",Of="google.c.a.e";var Ai=(()=>{return(x=Ai||(Ai={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",Ai;var x})();function is(x){const N=new Uint8Array(x);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function js(x){const J=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(J),we=new Uint8Array(ue.length);for(let De=0;De<ue.length;++De)we[De]=ue.charCodeAt(De);return we}const Mi="fcm_token_details_db",xo="fcm_token_object_Store";function eg(x){return la.apply(this,arguments)}function la(){return la=(0,y.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(De=>De.name).includes(Mi))return null;let N=null;return(yield qe(Mi,5,{upgrade:(ue=(0,y.Z)(function*(we,De,ze,at){var it;if(De<2||!we.objectStoreNames.contains(xo))return;const It=at.objectStore(xo),Dt=yield It.index("fcmSenderId").get(x);if(yield It.clear(),Dt)if(2===De){const Gt=Dt;if(!Gt.auth||!Gt.p256dh||!Gt.endpoint)return;N={token:Gt.fcmToken,createTime:null!==(it=Gt.createTime)&&void 0!==it?it:Date.now(),subscriptionOptions:{auth:Gt.auth,p256dh:Gt.p256dh,endpoint:Gt.endpoint,swScope:Gt.swScope,vapidKey:"string"==typeof Gt.vapidKey?Gt.vapidKey:is(Gt.vapidKey)}}}else if(3===De){const Gt=Dt;N={token:Gt.fcmToken,createTime:Gt.createTime,subscriptionOptions:{auth:is(Gt.auth),p256dh:is(Gt.p256dh),endpoint:Gt.endpoint,swScope:Gt.swScope,vapidKey:is(Gt.vapidKey)}}}else if(4===De){const Gt=Dt;N={token:Gt.fcmToken,createTime:Gt.createTime,subscriptionOptions:{auth:is(Gt.auth),p256dh:is(Gt.p256dh),endpoint:Gt.endpoint,swScope:Gt.swScope,vapidKey:is(Gt.vapidKey)}}}}),function(De,ze,at,it){return ue.apply(this,arguments)})})).close(),yield nn(Mi),yield nn("fcm_vapid_details_db"),yield nn("undefined"),hu(N)?N:null;var ue}),la.apply(this,arguments)}function hu(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:N}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const li="firebase-messaging-store";let fu=null;function Za(){return fu||(fu=qe("firebase-messaging-database",1,{upgrade:(x,N)=>{0===N&&x.createObjectStore(li)}})),fu}function Ka(x){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,y.Z)(function*(x){const N=Zl(x),ue=yield(yield Za()).transaction(li).objectStore(li).get(N);if(ue)return ue;{const we=yield eg(x.appConfig.senderId);if(we)return yield pu(x,we),we}})).apply(this,arguments)}function pu(x,N){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,y.Z)(function*(x,N){const J=Zl(x),we=(yield Za()).transaction(li,"readwrite");return yield we.objectStore(li).put(N,J),yield we.done,N})).apply(this,arguments)}function Yd(x){return ca.apply(this,arguments)}function ca(){return(ca=(0,y.Z)(function*(x){const N=Zl(x),ue=(yield Za()).transaction(li,"readwrite");yield ue.objectStore(li).delete(N),yield ue.done})).apply(this,arguments)}function Zl({appConfig:x}){return x.appId}const _n=new M.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gs(x,N){return Un.apply(this,arguments)}function Un(){return(Un=(0,y.Z)(function*(x,N){const J=yield _u(x),ue=Qa(N),we={method:"POST",headers:J,body:JSON.stringify(ue)};let De;try{De=yield(yield fetch(Kl(x.appConfig),we)).json()}catch(ze){throw _n.create("token-subscribe-failed",{errorInfo:ze?.toString()})}if(De.error)throw _n.create("token-subscribe-failed",{errorInfo:De.error.message});if(!De.token)throw _n.create("token-subscribe-no-token");return De.token})).apply(this,arguments)}function mu(x,N){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,y.Z)(function*(x,N){const J=yield _u(x),ue=Qa(N.subscriptionOptions),we={method:"PATCH",headers:J,body:JSON.stringify(ue)};let De;try{De=yield(yield fetch(`${Kl(x.appConfig)}/${N.token}`,we)).json()}catch(ze){throw _n.create("token-update-failed",{errorInfo:ze?.toString()})}if(De.error)throw _n.create("token-update-failed",{errorInfo:De.error.message});if(!De.token)throw _n.create("token-update-no-token");return De.token})).apply(this,arguments)}function gu(x,N){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,y.Z)(function*(x,N){const ue={method:"DELETE",headers:yield _u(x)};try{const De=yield(yield fetch(`${Kl(x.appConfig)}/${N}`,ue)).json();if(De.error)throw _n.create("token-unsubscribe-failed",{errorInfo:De.error.message})}catch(we){throw _n.create("token-unsubscribe-failed",{errorInfo:we?.toString()})}})).apply(this,arguments)}function Kl({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function _u(x){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,y.Z)(function*({appConfig:x,installations:N}){const J=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${J}`})})).apply(this,arguments)}function Qa({p256dh:x,auth:N,endpoint:J,vapidKey:ue}){const we={web:{endpoint:J,auth:N,p256dh:x}};return ue!==aa&&(we.web.applicationPubKey=ue),we}const ua=6048e5;function Jd(x){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,y.Z)(function*(x){const N=yield yu(x.swRegistration,x.vapidKey),J={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:N.endpoint,auth:is(N.getKey("auth")),p256dh:is(N.getKey("p256dh"))},ue=yield Ka(x.firebaseDependencies);if(ue){if(Lf(ue.subscriptionOptions,J))return Date.now()>=ue.createTime+ua?Ja(x,{token:ue.token,createTime:Date.now(),subscriptionOptions:J}):ue.token;try{yield gu(x.firebaseDependencies,ue.token)}catch(we){console.warn(we)}return Nf(x.firebaseDependencies,J)}return Nf(x.firebaseDependencies,J)})).apply(this,arguments)}function Ff(x){return $s.apply(this,arguments)}function $s(){return($s=(0,y.Z)(function*(x){const N=yield Ka(x.firebaseDependencies);N&&(yield gu(x.firebaseDependencies,N.token),yield Yd(x.firebaseDependencies));const J=yield x.swRegistration.pushManager.getSubscription();return!J||J.unsubscribe()})).apply(this,arguments)}function Ja(x,N){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,y.Z)(function*(x,N){try{const J=yield mu(x.firebaseDependencies,N),ue=Object.assign(Object.assign({},N),{token:J,createTime:Date.now()});return yield pu(x.firebaseDependencies,ue),J}catch(J){throw yield Ff(x),J}})).apply(this,arguments)}function Nf(x,N){return ss.apply(this,arguments)}function ss(){return(ss=(0,y.Z)(function*(x,N){const ue={token:yield Gs(x,N),createTime:Date.now(),subscriptionOptions:N};return yield pu(x,ue),ue.token})).apply(this,arguments)}function yu(x,N){return eh.apply(this,arguments)}function eh(){return(eh=(0,y.Z)(function*(x,N){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:js(N)})})).apply(this,arguments)}function Lf(x,N){return N.vapidKey===x.vapidKey&&N.endpoint===x.endpoint&&N.auth===x.auth&&N.p256dh===x.p256dh}function vu(x){const N={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Ql(x,N){if(!N.notification)return;x.notification={};const J=N.notification.title;J&&(x.notification.title=J);const ue=N.notification.body;ue&&(x.notification.body=ue);const we=N.notification.image;we&&(x.notification.image=we);const De=N.notification.icon;De&&(x.notification.icon=De)}(N,x),function Xl(x,N){!N.data||(x.data=N.data)}(N,x),function Jl(x,N){var J,ue,we,De,ze;if(!(N.fcmOptions||null!==(J=N.notification)&&void 0!==J&&J.click_action))return;x.fcmOptions={};const at=null!==(we=null===(ue=N.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==we?we:null===(De=N.notification)||void 0===De?void 0:De.click_action;at&&(x.fcmOptions.link=at);const it=null===(ze=N.fcmOptions)||void 0===ze?void 0:ze.analytics_label;it&&(x.fcmOptions.analyticsLabel=it)}(N,x),N}function Vf(x){return"object"==typeof x&&!!x&&du in x}function da(x,N){const J=[];for(let ue=0;ue<x.length;ue++)J.push(x.charAt(ue)),ue<N.length&&J.push(N.charAt(ue));return J.join("")}function bu(x){return _n.create("missing-app-config-values",{valueName:x})}da("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),da("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class el{constructor(N,J,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const we=function th(x){if(!x||!x.options)throw bu("App Configuration Object");if(!x.name)throw bu("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:J}=x;for(const ue of N)if(!J[ue])throw bu(ue);return{appName:x.name,projectId:J.projectId,apiKey:J.apiKey,appId:J.appId,senderId:J.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:we,installations:J,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function Bf(x){return Is.apply(this,arguments)}function Is(){return(Is=(0,y.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(To,{scope:xi}),x.swRegistration.update().catch(()=>{})}catch(N){throw _n.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function tl(x,N){return qs.apply(this,arguments)}function qs(){return(qs=(0,y.Z)(function*(x,N){if(!N&&!x.swRegistration&&(yield Bf(x)),N||!x.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw _n.create("invalid-sw-registration");x.swRegistration=N}})).apply(this,arguments)}function Po(x,N){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,y.Z)(function*(x,N){N?x.vapidKey=N:x.vapidKey||(x.vapidKey=aa)})).apply(this,arguments)}function nl(){return(nl=(0,y.Z)(function*(x,N){if(!navigator)throw _n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _n.create("permission-blocked");return yield Po(x,N?.vapidKey),yield tl(x,N?.serviceWorkerRegistration),Jd(x)})).apply(this,arguments)}function zi(x,N,J){return wu.apply(this,arguments)}function wu(){return(wu=(0,y.Z)(function*(x,N,J){const ue=ha(N);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:J[du],message_name:J[Jn],message_time:J[Rf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ha(x){switch(x){case Ai.NOTIFICATION_CLICKED:return"notification_open";case Ai.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ko(){return(ko=(0,y.Z)(function*(x,N){const J=N.data;if(!J.isFirebaseMessaging)return;x.onMessageHandler&&J.messageType===Ai.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(vu(J)):x.onMessageHandler.next(vu(J)));const ue=J.data;Vf(ue)&&"1"===ue[Of]&&(yield zi(x,J.messageType,ue))})).apply(this,arguments)}const Ro="@firebase/messaging",Oo=x=>{const N=new el(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",J=>function Eu(x,N){return ko.apply(this,arguments)}(N,J)),N},tc=x=>{const N=x.getProvider("messaging").getImmediate();return{getToken:ue=>function ec(x,N){return nl.apply(this,arguments)}(N,ue)}};function fa(){return pa.apply(this,arguments)}function pa(){return(pa=(0,y.Z)(function*(){try{yield(0,M.eu)()}catch{return!1}return typeof window<"u"&&(0,M.hl)()&&(0,M.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Hf(){(0,D._registerComponent)(new P.wA("messaging",Oo,"PUBLIC")),(0,D._registerComponent)(new P.wA("messaging-internal",tc,"PRIVATE")),(0,D.registerVersion)(Ro,"0.12.4"),(0,D.registerVersion)(Ro,"0.12.4","esm2017")}();const zn="analytics",Cu="firebase_id",rc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ws="https://www.googletagmanager.com/gtag/js",er=new O.Yd("@firebase/analytics"),Yr=new M.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ma(x){if(!x.startsWith(Ws)){const N=Yr.create("invalid-gtag-resource",{gtagURL:x});return er.warn(N.message),""}return x}function Zs(x){return Promise.all(x.map(N=>N.catch(J=>J)))}function ol(x,N){const J=function ic(x,N){let J;return window.trustedTypes&&(J=window.trustedTypes.createPolicy(x,N)),J}("firebase-js-sdk-policy",{createScriptURL:ma}),ue=document.createElement("script"),we=`${Ws}?l=${x}&id=${N}`;ue.src=J?J?.createScriptURL(we):we,ue.async=!0,document.head.appendChild(ue)}function Su(x,N,J,ue,we,De){return sc.apply(this,arguments)}function sc(){return(sc=(0,y.Z)(function*(x,N,J,ue,we,De){const ze=ue[we];try{if(ze)yield N[ze];else{const it=(yield Zs(J)).find(It=>It.measurementId===we);it&&(yield N[it.appId])}}catch(at){er.error(at)}x("config",we,De)})).apply(this,arguments)}function jf(x,N,J,ue,we){return nh.apply(this,arguments)}function nh(){return(nh=(0,y.Z)(function*(x,N,J,ue,we){try{let De=[];if(we&&we.send_to){let ze=we.send_to;Array.isArray(ze)||(ze=[ze]);const at=yield Zs(J);for(const it of ze){const It=at.find(Gt=>Gt.measurementId===it),Dt=It&&N[It.appId];if(!Dt){De=[];break}De.push(Dt)}}0===De.length&&(De=Object.values(N)),yield Promise.all(De),x("event",ue,we||{})}catch(De){er.error(De)}})).apply(this,arguments)}function qf(x){const N=window.document.getElementsByTagName("script");for(const J of Object.values(N))if(J.src&&J.src.includes(Ws)&&J.src.includes(x))return J;return null}const yr=new class oc{constructor(N={},J=1e3){this.throttleMetadata=N,this.intervalMillis=J}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,J){this.throttleMetadata[N]=J}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function ac(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function ji(x){return rh.apply(this,arguments)}function rh(){return(rh=(0,y.Z)(function*(x){var N;const{appId:J,apiKey:ue}=x,we={method:"GET",headers:ac(ue)},De=rc.replace("{app-id}",J),ze=yield fetch(De,we);if(200!==ze.status&&304!==ze.status){let at="";try{const it=yield ze.json();null!==(N=it.error)&&void 0!==N&&N.message&&(at=it.error.message)}catch{}throw Yr.create("config-fetch-failed",{httpStatus:ze.status,responseMessage:at})}return ze.json()})).apply(this,arguments)}function Wf(x){return dr.apply(this,arguments)}function dr(){return(dr=(0,y.Z)(function*(x,N=yr,J){const{appId:ue,apiKey:we,measurementId:De}=x.options;if(!ue)throw Yr.create("no-app-id");if(!we){if(De)return{measurementId:De,appId:ue};throw Yr.create("no-api-key")}const ze=N.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},at=new ih;return setTimeout((0,y.Z)(function*(){at.abort()}),void 0!==J?J:6e4),os({appId:ue,apiKey:we,measurementId:De},ze,at,N)})).apply(this,arguments)}function os(x,N,J){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,y.Z)(function*(x,{throttleEndTimeMillis:N,backoffCount:J},ue,we=yr){var De;const{appId:ze,measurementId:at}=x;try{yield Du(ue,N)}catch(it){if(at)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${it?.message}]`),{appId:ze,measurementId:at};throw it}try{const it=yield ji(x);return we.deleteThrottleMetadata(ze),it}catch(it){const It=it;if(!ga(It)){if(we.deleteThrottleMetadata(ze),at)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${It?.message}]`),{appId:ze,measurementId:at};throw it}const Dt=503===Number(null===(De=It?.customData)||void 0===De?void 0:De.httpStatus)?(0,M.$s)(J,we.intervalMillis,30):(0,M.$s)(J,we.intervalMillis),Gt={throttleEndTimeMillis:Date.now()+Dt,backoffCount:J+1};return we.setThrottleMetadata(ze,Gt),er.debug(`Calling attemptFetch again in ${Dt} millis`),os(x,Gt,ue,we)}})).apply(this,arguments)}function Du(x,N){return new Promise((J,ue)=>{const we=Math.max(N-Date.now(),0),De=setTimeout(J,we);x.addEventListener(()=>{clearTimeout(De),ue(Yr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function ga(x){if(!(x instanceof M.ZR&&x.customData))return!1;const N=Number(x.customData.httpStatus);return 429===N||500===N||503===N||504===N}class ih{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let sh,xu;function Zf(){return(Zf=(0,y.Z)(function*(x,N,J,ue,we){if(we&&we.global)x("event",J,ue);else{const De=yield N;x("event",J,Object.assign(Object.assign({},ue),{send_to:De}))}})).apply(this,arguments)}function cl(x){xu=x}function dc(x){sh=x}function En(){return as.apply(this,arguments)}function as(){return(as=(0,y.Z)(function*(){if(!(0,M.hl)())return er.warn(Yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,M.eu)()}catch(x){return er.warn(Yr.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function bt(){return(bt=(0,y.Z)(function*(x,N,J,ue,we,De,ze){var at;const it=Wf(x);it.then(kn=>{J[kn.measurementId]=kn.appId,x.options.measurementId&&kn.measurementId!==x.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${kn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(kn=>er.error(kn)),N.push(it);const It=En().then(kn=>{if(kn)return ue.getId()}),[Dt,Gt]=yield Promise.all([it,It]);qf(De)||ol(De,Dt.measurementId),xu&&(we("consent","default",xu),cl(void 0)),we("js",new Date);const Xr=null!==(at=ze?.config)&&void 0!==at?at:{};return Xr.origin="firebase",Xr.update=!0,null!=Gt&&(Xr[Cu]=Gt),we("config",Dt.measurementId,Xr),sh&&(we("set",sh),dc(void 0)),Dt.measurementId})).apply(this,arguments)}class hr{constructor(N){this.app=N}_delete(){return delete ci[this.app.options.appId],Promise.resolve()}}let ci={},_a=[];const Nr={};let Vo,ui,hc="dataLayer",fc=!1;function Et(x,N,J){!function ya(){const x=[];if((0,M.ru)()&&x.push("This is a browser extension environment."),(0,M.zI)()||x.push("Cookies are not available."),x.length>0){const N=x.map((ue,we)=>`(${we+1}) ${ue}`).join(" "),J=Yr.create("invalid-analytics-context",{errorInfo:N});er.warn(J.message)}}();const ue=x.options.appId;if(!ue)throw Yr.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Yr.create("no-api-key");er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ci[ue])throw Yr.create("already-exists",{id:ue});if(!fc){!function In(x){let N=[];Array.isArray(window[x])?N=window[x]:window[x]=N}(hc);const{wrappedGtag:De,gtagCore:ze}=function $f(x,N,J,ue,we){let De=function(...ze){window[ue].push(arguments)};return window[we]&&"function"==typeof window[we]&&(De=window[we]),window[we]=function Gf(x,N,J,ue){function De(){return(De=(0,y.Z)(function*(ze,...at){try{if("event"===ze){const[it,It]=at;yield jf(x,N,J,it,It)}else if("config"===ze){const[it,It]=at;yield Su(x,N,J,ue,it,It)}else if("consent"===ze){const[it]=at;x("consent","update",it)}else if("get"===ze){const[it,It,Dt]=at;x("get",it,It,Dt)}else if("set"===ze){const[it]=at;x("set",it)}else x(ze,...at)}catch(it){er.error(it)}})).apply(this,arguments)}return function we(ze){return De.apply(this,arguments)}}(De,x,N,J),{gtagCore:De,wrappedGtag:window[we]}}(ci,_a,Nr,hc,"gtag");ui=De,Vo=ze,fc=!0}return ci[ue]=function gt(x,N,J,ue,we,De,ze){return bt.apply(this,arguments)}(x,_a,Nr,N,Vo,hc,J),new hr(x)}function dl(){return pc.apply(this,arguments)}function pc(){return(pc=(0,y.Z)(function*(){if((0,M.ru)()||!(0,M.zI)()||!(0,M.hl)())return!1;try{return yield(0,M.eu)()}catch{return!1}})).apply(this,arguments)}const ba="@firebase/analytics";!function Ps(){(0,D._registerComponent)(new P.wA(zn,(N,{options:J})=>Et(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),J),"PUBLIC")),(0,D._registerComponent)(new P.wA("analytics-internal",function x(N){try{const J=N.getProvider(zn).getImmediate();return{logEvent:(ue,we,De)=>function As(x,N,J,ue){x=(0,M.m9)(x),function ig(x,N,J,ue,we){return Zf.apply(this,arguments)}(ui,ci[x.app.options.appId],N,J,ue).catch(we=>er.error(we))}(J,ue,we,De)}}catch(J){throw Yr.create("interop-component-reg-failed",{reason:J})}},"PRIVATE")),(0,D.registerVersion)(ba,"0.10.0"),(0,D.registerVersion)(ba,"0.10.0","esm2017")}();var ki=f(4408),Qr=f(7565);const mc=new class vr extends Qr.v{}(class Gi extends ki.o{constructor(N,J){super(N,J),this.scheduler=N,this.work=J}schedule(N,J=0){return J>0?super.schedule(N,J):(this.delay=J,this.state=N,this.scheduler.flush(this),this)}execute(N,J){return J>0||this.closed?super.execute(N,J):this._execute(N,J)}requestAsyncId(N,J,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(N,J,ue):(N.flush(this),0)}});var fr=f(4986),Ar=f(8505),bi=f(9468),lr=f(5363);const cr=new s.GfV("7.5.0"),ho="__angularfire_symbol__analyticsIsSupportedValue",wa="__angularfire_symbol__analyticsIsSupported",gc="__angularfire_symbol__remoteConfigIsSupportedValue",Ri="__angularfire_symbol__remoteConfigIsSupported",$i="__angularfire_symbol__messagingIsSupportedValue",tr="__angularfire_symbol__messagingIsSupported";function ep(x,N,J){if(N){if(1===N.length)return N[0];const De=N.filter(ze=>ze.app===J);if(1===De.length)return De[0]}return J.container.getProvider(x).getImmediate({optional:!0})}globalThis[wa]||(globalThis[wa]=dl().then(x=>globalThis[ho]=x).catch(()=>globalThis[ho]=!1)),globalThis[tr]||(globalThis[tr]=fa().then(x=>globalThis[$i]=x).catch(()=>globalThis[$i]=!1)),globalThis[Ri]||(globalThis[Ri]=vi().then(x=>globalThis[gc]=x).catch(()=>globalThis[gc]=!1));const Mu=(x,N)=>{const J=N?[N]:(0,v.C6)(),ue=[];return J.forEach(we=>{we.container.getProvider(x).instances.forEach(ze=>{ue.includes(ze)||ue.push(ze)})}),ue};function Uo(){}class hl{constructor(N,J=mc){this.zone=N,this.delegate=J}now(){return this.delegate.now()}schedule(N,J,ue){const we=this.zone;return this.delegate.schedule(function(ze){we.runGuarded(()=>{N.apply(this,[ze])})},J,ue)}}class sn{constructor(N){this.zone=N,this.task=null}call(N,J){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uo,{},Uo,Uo)),J.pipe((0,Ar.b)({next:ue,complete:ue,error:ue})).subscribe(N).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fl=(()=>{class x{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new hl(Zone.current)),this.insideAngular=J.run(()=>new hl(Zone.current,fr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(J){return new(J||x)(s.LFG(s.R0b))},x.\u0275prov=s.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Ea(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function _c(x){return Ea(),function Pu(x){return function(J){return(J=J.lift(new sn(x.ngZone))).pipe((0,bi.R)(x.outsideAngular),(0,lr.Q)(x.insideAngular))}}(Ea())(x)}},2090:(c,h,f)=>{"use strict";f.d(h,{$s:()=>Cs,BH:()=>he,G6:()=>pe,L:()=>Q,LL:()=>Qe,Pz:()=>ae,Sg:()=>Re,UG:()=>_e,US:()=>P,ZB:()=>U,ZR:()=>ht,aH:()=>re,b$:()=>fe,eu:()=>Le,hl:()=>Ne,jU:()=>$e,m9:()=>gi,ne:()=>an,pd:()=>pn,r3:()=>nr,ru:()=>Te,tV:()=>R,uI:()=>Ie,vZ:()=>bn,w1:()=>X,xO:()=>Dr,xb:()=>jr,z$:()=>xe,zI:()=>nt,zd:()=>rr});const D=function(ye){const ge=[];let Se=0;for(let Be=0;Be<ye.length;Be++){let Pe=ye.charCodeAt(Be);Pe<128?ge[Se++]=Pe:Pe<2048?(ge[Se++]=Pe>>6|192,ge[Se++]=63&Pe|128):55296==(64512&Pe)&&Be+1<ye.length&&56320==(64512&ye.charCodeAt(Be+1))?(Pe=65536+((1023&Pe)<<10)+(1023&ye.charCodeAt(++Be)),ge[Se++]=Pe>>18|240,ge[Se++]=Pe>>12&63|128,ge[Se++]=Pe>>6&63|128,ge[Se++]=63&Pe|128):(ge[Se++]=Pe>>12|224,ge[Se++]=Pe>>6&63|128,ge[Se++]=63&Pe|128)}return ge},P={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,ge){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Se=ge?this.byteToCharMapWebSafe_:this.byteToCharMap_,Be=[];for(let Pe=0;Pe<ye.length;Pe+=3){const ot=ye[Pe],Vt=Pe+1<ye.length,Zt=Vt?ye[Pe+1]:0,wn=Pe+2<ye.length,Je=wn?ye[Pe+2]:0;let Mn=(15&Zt)<<2|Je>>6,Wr=63&Je;wn||(Wr=64,Vt||(Mn=64)),Be.push(Se[ot>>2],Se[(3&ot)<<4|Zt>>4],Se[Mn],Se[Wr])}return Be.join("")},encodeString(ye,ge){return this.HAS_NATIVE_SUPPORT&&!ge?btoa(ye):this.encodeByteArray(D(ye),ge)},decodeString(ye,ge){return this.HAS_NATIVE_SUPPORT&&!ge?atob(ye):function(ye){const ge=[];let Se=0,Be=0;for(;Se<ye.length;){const Pe=ye[Se++];if(Pe<128)ge[Be++]=String.fromCharCode(Pe);else if(Pe>191&&Pe<224){const ot=ye[Se++];ge[Be++]=String.fromCharCode((31&Pe)<<6|63&ot)}else if(Pe>239&&Pe<365){const wn=((7&Pe)<<18|(63&ye[Se++])<<12|(63&ye[Se++])<<6|63&ye[Se++])-65536;ge[Be++]=String.fromCharCode(55296+(wn>>10)),ge[Be++]=String.fromCharCode(56320+(1023&wn))}else{const ot=ye[Se++],Vt=ye[Se++];ge[Be++]=String.fromCharCode((15&Pe)<<12|(63&ot)<<6|63&Vt)}}return ge.join("")}(this.decodeStringToByteArray(ye,ge))},decodeStringToByteArray(ye,ge){this.init_();const Se=ge?this.charToByteMapWebSafe_:this.charToByteMap_,Be=[];for(let Pe=0;Pe<ye.length;){const ot=Se[ye.charAt(Pe++)],Zt=Pe<ye.length?Se[ye.charAt(Pe)]:0;++Pe;const Je=Pe<ye.length?Se[ye.charAt(Pe)]:64;++Pe;const Mt=Pe<ye.length?Se[ye.charAt(Pe)]:64;if(++Pe,null==ot||null==Zt||null==Je||null==Mt)throw new O;Be.push(ot<<2|Zt>>4),64!==Je&&(Be.push(Zt<<4&240|Je>>2),64!==Mt&&Be.push(Je<<6&192|Mt))}return Be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}};class O extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q=function(ye){return function(ye){const ge=D(ye);return P.encodeByteArray(ge,!0)}(ye).replace(/\./g,"")},R=function(ye){try{return P.decodeString(ye,!0)}catch(ge){console.error("base64Decode failed: ",ge)}return null};function U(ye,ge){if(!(ge instanceof Object))return ge;switch(ge.constructor){case Date:return new Date(ge.getTime());case Object:void 0===ye&&(ye={});break;case Array:ye=[];break;default:return ge}for(const Se in ge)!ge.hasOwnProperty(Se)||!q(Se)||(ye[Se]=U(ye[Se],ge[Se]));return ye}function q(ye){return"__proto__"!==ye}const B=()=>{try{return function ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ye=process.env.__FIREBASE_DEFAULTS__;return ye?JSON.parse(ye):void 0})()||(()=>{if(typeof document>"u")return;let ye;try{ye=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ge=ye&&R(ye[1]);return ge&&JSON.parse(ge)})()}catch(ye){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ye}`)}},re=()=>{var ye;return null===(ye=B())||void 0===ye?void 0:ye.config},ae=ye=>{var ge;return null===(ge=B())||void 0===ge?void 0:ge[`_${ye}`]};class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ge,Se)=>{this.resolve=ge,this.reject=Se})}wrapCallback(ge){return(Se,Be)=>{Se?this.reject(Se):this.resolve(Be),"function"==typeof ge&&(this.promise.catch(()=>{}),1===ge.length?ge(Se):ge(Se,Be))}}}function Re(ye,ge){if(ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Be=ge||"demo-project",Pe=ye.iat||0,ot=ye.sub||ye.user_id;if(!ot)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Vt=Object.assign({iss:`https://securetoken.google.com/${Be}`,aud:Be,iat:Pe,exp:Pe+3600,auth_time:Pe,sub:ot,user_id:ot,firebase:{sign_in_provider:"custom",identities:{}}},ye);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(Vt)),""].join(".")}function xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function _e(){var ye;const ge=null===(ye=B())||void 0===ye?void 0:ye.forceEnvironment;if("node"===ge)return!0;if("browser"===ge)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $e(){return"object"==typeof self&&self.self===self}function Te(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function X(){const ye=xe();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function pe(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ne(){try{return"object"==typeof indexedDB}catch{return!1}}function Le(){return new Promise((ye,ge)=>{try{let Se=!0;const Be="validate-browser-context-for-indexeddb-analytics-module",Pe=self.indexedDB.open(Be);Pe.onsuccess=()=>{Pe.result.close(),Se||self.indexedDB.deleteDatabase(Be),ye(!0)},Pe.onupgradeneeded=()=>{Se=!1},Pe.onerror=()=>{var ot;ge((null===(ot=Pe.error)||void 0===ot?void 0:ot.message)||"")}}catch(Se){ge(Se)}})}function nt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ht extends Error{constructor(ge,Se,Be){super(Se),this.code=ge,this.customData=Be,this.name="FirebaseError",Object.setPrototypeOf(this,ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(ge,Se,Be){this.service=ge,this.serviceName=Se,this.errors=Be}create(ge,...Se){const Be=Se[0]||{},Pe=`${this.service}/${ge}`,ot=this.errors[ge],Vt=ot?function zt(ye,ge){return ye.replace(jt,(Se,Be)=>{const Pe=ge[Be];return null!=Pe?String(Pe):`<${Be}?>`})}(ot,Be):"Error";return new ht(Pe,`${this.serviceName}: ${Vt} (${Pe}).`,Be)}}const jt=/\{\$([^}]+)}/g;function nr(ye,ge){return Object.prototype.hasOwnProperty.call(ye,ge)}function jr(ye){for(const ge in ye)if(Object.prototype.hasOwnProperty.call(ye,ge))return!1;return!0}function bn(ye,ge){if(ye===ge)return!0;const Se=Object.keys(ye),Be=Object.keys(ge);for(const Pe of Se){if(!Be.includes(Pe))return!1;const ot=ye[Pe],Vt=ge[Pe];if(ur(ot)&&ur(Vt)){if(!bn(ot,Vt))return!1}else if(ot!==Vt)return!1}for(const Pe of Be)if(!Se.includes(Pe))return!1;return!0}function ur(ye){return null!==ye&&"object"==typeof ye}function Dr(ye){const ge=[];for(const[Se,Be]of Object.entries(ye))Array.isArray(Be)?Be.forEach(Pe=>{ge.push(encodeURIComponent(Se)+"="+encodeURIComponent(Pe))}):ge.push(encodeURIComponent(Se)+"="+encodeURIComponent(Be));return ge.length?"&"+ge.join("&"):""}function rr(ye){const ge={};return ye.replace(/^\?/,"").split("&").forEach(Be=>{if(Be){const[Pe,ot]=Be.split("=");ge[decodeURIComponent(Pe)]=decodeURIComponent(ot)}}),ge}function pn(ye){const ge=ye.indexOf("?");if(!ge)return"";const Se=ye.indexOf("#",ge);return ye.substring(ge,Se>0?Se:void 0)}function an(ye,ge){const Se=new pt(ye,ge);return Se.subscribe.bind(Se)}class pt{constructor(ge,Se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(()=>{ge(this)}).catch(Be=>{this.error(Be)})}next(ge){this.forEachObserver(Se=>{Se.next(ge)})}error(ge){this.forEachObserver(Se=>{Se.error(ge)}),this.close(ge)}complete(){this.forEachObserver(ge=>{ge.complete()}),this.close()}subscribe(ge,Se,Be){let Pe;if(void 0===ge&&void 0===Se&&void 0===Be)throw new Error("Missing Observer.");Pe=function An(ye,ge){if("object"!=typeof ye||null===ye)return!1;for(const Se of ge)if(Se in ye&&"function"==typeof ye[Se])return!0;return!1}(ge,["next","error","complete"])?ge:{next:ge,error:Se,complete:Be},void 0===Pe.next&&(Pe.next=Es),void 0===Pe.error&&(Pe.error=Es),void 0===Pe.complete&&(Pe.complete=Es);const ot=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Pe.error(this.finalError):Pe.complete()}catch{}}),this.observers.push(Pe),ot}unsubscribeOne(ge){void 0===this.observers||void 0===this.observers[ge]||(delete this.observers[ge],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ge){if(!this.finalized)for(let Se=0;Se<this.observers.length;Se++)this.sendOne(Se,ge)}sendOne(ge,Se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ge])try{Se(this.observers[ge])}catch(Be){typeof console<"u"&&console.error&&console.error(Be)}})}close(ge){this.finalized||(this.finalized=!0,void 0!==ge&&(this.finalError=ge),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Es(){}function Cs(ye,ge=1e3,Se=2){const Be=ge*Math.pow(Se,ye),Pe=Math.round(.5*Be*(Math.random()-.5)*2);return Math.min(144e5,Be+Pe)}function gi(ye){return ye&&ye._delegate?ye._delegate:ye}},5085:(c,h,f)=>{"use strict";var s=f(4650);let v=null;function y(){return v}const O=new s.OlP("DocumentToken");let j=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Q(){return(0,s.LFG)(H)}()},providedIn:"platform"}),n})();const R=new s.OlP("Location Initialized");let H=(()=>{class n extends j{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return y().getBaseHref(this._doc)}onPopState(t){const r=y().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=y().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){U()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){U()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function q(){return new H((0,s.LFG)(O))}()},providedIn:"platform"}),n})();function U(){return!!window.history.pushState}function ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function G(n){return n&&"?"!==n[0]?"?"+n:n}let V=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(ee)},providedIn:"root"}),n})();const B=new s.OlP("appBaseHref");let ee=(()=>{class n extends V{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(O).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ne(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+G(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const d=this.prepareExternalUrl(i+G(a));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){const d=this.prepareExternalUrl(i+G(a));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(j),s.LFG(B,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),te=(()=>{class n extends V{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ne(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let d=this.prepareExternalUrl(i+G(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){let d=this.prepareExternalUrl(i+G(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(j),s.LFG(B,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),re=(()=>{class n{constructor(t){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=z(Re(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+G(r))}normalize(t){return n.stripTrailingSlash(function he(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Re(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+G(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+G(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=G,n.joinWithSlash=ne,n.stripTrailingSlash=z,n.\u0275fac=function(t){return new(t||n)(s.LFG(V))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ae(){return new re((0,s.LFG)(V))}()},providedIn:"root"}),n})();function Re(n){return n.replace(/\/index.html$/,"")}var $e=(()=>(($e=$e||{})[$e.Format=0]="Format",$e[$e.Standalone=1]="Standalone",$e))(),Te=(()=>((Te=Te||{})[Te.Narrow=0]="Narrow",Te[Te.Abbreviated=1]="Abbreviated",Te[Te.Wide=2]="Wide",Te[Te.Short=3]="Short",Te))(),fe=(()=>((fe=fe||{})[fe.Short=0]="Short",fe[fe.Medium=1]="Medium",fe[fe.Long=2]="Long",fe[fe.Full=3]="Full",fe))(),le=(()=>((le=le||{})[le.Decimal=0]="Decimal",le[le.Group=1]="Group",le[le.List=2]="List",le[le.PercentSign=3]="PercentSign",le[le.PlusSign=4]="PlusSign",le[le.MinusSign=5]="MinusSign",le[le.Exponential=6]="Exponential",le[le.SuperscriptingExponent=7]="SuperscriptingExponent",le[le.PerMille=8]="PerMille",le[le.Infinity=9]="Infinity",le[le.NaN=10]="NaN",le[le.TimeSeparator=11]="TimeSeparator",le[le.CurrencyDecimal=12]="CurrencyDecimal",le[le.CurrencyGroup=13]="CurrencyGroup",le))();function ht(n,e){return ft((0,s.cg1)(n)[s.wAp.DateFormat],e)}function Qe(n,e){return ft((0,s.cg1)(n)[s.wAp.TimeFormat],e)}function zt(n,e){return ft((0,s.cg1)(n)[s.wAp.DateTimeFormat],e)}function jt(n,e){const t=(0,s.cg1)(n),r=t[s.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===le.CurrencyDecimal)return t[s.wAp.NumberSymbols][le.Decimal];if(e===le.CurrencyGroup)return t[s.wAp.NumberSymbols][le.Group]}return r}function gr(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ft(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function bn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const rr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pn={},dn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var an=(()=>((an=an||{})[an.Short=0]="Short",an[an.ShortGMT=1]="ShortGMT",an[an.Long=2]="Long",an[an.Extended=3]="Extended",an))(),pt=(()=>((pt=pt||{})[pt.FullYear=0]="FullYear",pt[pt.Month=1]="Month",pt[pt.Date=2]="Date",pt[pt.Hours=3]="Hours",pt[pt.Minutes=4]="Minutes",pt[pt.Seconds=5]="Seconds",pt[pt.FractionalSeconds=6]="FractionalSeconds",pt[pt.Day=7]="Day",pt))(),kt=(()=>((kt=kt||{})[kt.DayPeriods=0]="DayPeriods",kt[kt.Days=1]="Days",kt[kt.Months=2]="Months",kt[kt.Eras=3]="Eras",kt))();function An(n,e,t,r){let i=function Pe(n){if(Vt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,d=1]=n.split("-").map(m=>+m);return Es(i,a-1,d)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(rr))return function ot(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-t,m=Number(n[5]||0)-r,E=Number(n[6]||0),I=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,d,m,E,I),e}(r)}const e=new Date(n);if(!Vt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Si(t,e)||e;let m,d=[];for(;e;){if(m=dn.exec(e),!m){d.push(e);break}{d=d.concat(m.slice(1));const F=d.pop();if(!F)break;e=F}}let E=i.getTimezoneOffset();r&&(E=ge(r,E),i=function Be(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Se(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(ge(e,i)-i))}(i,r,!0));let I="";return d.forEach(F=>{const W=function ye(n){if(gi[n])return gi[n];let e;switch(n){case"G":case"GG":case"GGG":e=hn(kt.Eras,Te.Abbreviated);break;case"GGGG":e=hn(kt.Eras,Te.Wide);break;case"GGGGG":e=hn(kt.Eras,Te.Narrow);break;case"y":e=Sn(pt.FullYear,1,0,!1,!0);break;case"yy":e=Sn(pt.FullYear,2,0,!0,!0);break;case"yyy":e=Sn(pt.FullYear,3,0,!1,!0);break;case"yyyy":e=Sn(pt.FullYear,4,0,!1,!0);break;case"Y":e=Ii(1);break;case"YY":e=Ii(2,!0);break;case"YYY":e=Ii(3);break;case"YYYY":e=Ii(4);break;case"M":case"L":e=Sn(pt.Month,1,1);break;case"MM":case"LL":e=Sn(pt.Month,2,1);break;case"MMM":e=hn(kt.Months,Te.Abbreviated);break;case"MMMM":e=hn(kt.Months,Te.Wide);break;case"MMMMM":e=hn(kt.Months,Te.Narrow);break;case"LLL":e=hn(kt.Months,Te.Abbreviated,$e.Standalone);break;case"LLLL":e=hn(kt.Months,Te.Wide,$e.Standalone);break;case"LLLLL":e=hn(kt.Months,Te.Narrow,$e.Standalone);break;case"w":e=ir(1);break;case"ww":e=ir(2);break;case"W":e=ir(1,!0);break;case"d":e=Sn(pt.Date,1);break;case"dd":e=Sn(pt.Date,2);break;case"c":case"cc":e=Sn(pt.Day,1);break;case"ccc":e=hn(kt.Days,Te.Abbreviated,$e.Standalone);break;case"cccc":e=hn(kt.Days,Te.Wide,$e.Standalone);break;case"ccccc":e=hn(kt.Days,Te.Narrow,$e.Standalone);break;case"cccccc":e=hn(kt.Days,Te.Short,$e.Standalone);break;case"E":case"EE":case"EEE":e=hn(kt.Days,Te.Abbreviated);break;case"EEEE":e=hn(kt.Days,Te.Wide);break;case"EEEEE":e=hn(kt.Days,Te.Narrow);break;case"EEEEEE":e=hn(kt.Days,Te.Short);break;case"a":case"aa":case"aaa":e=hn(kt.DayPeriods,Te.Abbreviated);break;case"aaaa":e=hn(kt.DayPeriods,Te.Wide);break;case"aaaaa":e=hn(kt.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":e=hn(kt.DayPeriods,Te.Abbreviated,$e.Standalone,!0);break;case"bbbb":e=hn(kt.DayPeriods,Te.Wide,$e.Standalone,!0);break;case"bbbbb":e=hn(kt.DayPeriods,Te.Narrow,$e.Standalone,!0);break;case"B":case"BB":case"BBB":e=hn(kt.DayPeriods,Te.Abbreviated,$e.Format,!0);break;case"BBBB":e=hn(kt.DayPeriods,Te.Wide,$e.Format,!0);break;case"BBBBB":e=hn(kt.DayPeriods,Te.Narrow,$e.Format,!0);break;case"h":e=Sn(pt.Hours,1,-12);break;case"hh":e=Sn(pt.Hours,2,-12);break;case"H":e=Sn(pt.Hours,1);break;case"HH":e=Sn(pt.Hours,2);break;case"m":e=Sn(pt.Minutes,1);break;case"mm":e=Sn(pt.Minutes,2);break;case"s":e=Sn(pt.Seconds,1);break;case"ss":e=Sn(pt.Seconds,2);break;case"S":e=Sn(pt.FractionalSeconds,1);break;case"SS":e=Sn(pt.FractionalSeconds,2);break;case"SSS":e=Sn(pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=$r(an.Short);break;case"ZZZZZ":e=$r(an.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$r(an.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=$r(an.Long);break;default:return null}return gi[n]=e,e}(F);I+=W?W(i,t,E):"''"===F?"'":F.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),I}function Es(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Si(n,e){const t=function oe(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(pn[t]=pn[t]||{},pn[t][e])return pn[t][e];let r="";switch(e){case"shortDate":r=ht(n,fe.Short);break;case"mediumDate":r=ht(n,fe.Medium);break;case"longDate":r=ht(n,fe.Long);break;case"fullDate":r=ht(n,fe.Full);break;case"shortTime":r=Qe(n,fe.Short);break;case"mediumTime":r=Qe(n,fe.Medium);break;case"longTime":r=Qe(n,fe.Long);break;case"fullTime":r=Qe(n,fe.Full);break;case"short":const i=Si(n,"shortTime"),a=Si(n,"shortDate");r=_r(zt(n,fe.Short),[i,a]);break;case"medium":const d=Si(n,"mediumTime"),m=Si(n,"mediumDate");r=_r(zt(n,fe.Medium),[d,m]);break;case"long":const E=Si(n,"longTime"),I=Si(n,"longDate");r=_r(zt(n,fe.Long),[E,I]);break;case"full":const F=Si(n,"fullTime"),W=Si(n,"fullDate");r=_r(zt(n,fe.Full),[F,W])}return r&&(pn[t][e]=r),r}function _r(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Lt(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let d=String(n);for(;d.length<e;)d="0"+d;return r&&(d=d.slice(d.length-e)),a+d}function Sn(n,e,t=0,r=!1,i=!1){return function(a,d){let m=function na(n,e){switch(n){case pt.FullYear:return e.getFullYear();case pt.Month:return e.getMonth();case pt.Date:return e.getDate();case pt.Hours:return e.getHours();case pt.Minutes:return e.getMinutes();case pt.Seconds:return e.getSeconds();case pt.FractionalSeconds:return e.getMilliseconds();case pt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||m>-t)&&(m+=t),n===pt.Hours)0===m&&-12===t&&(m=12);else if(n===pt.FractionalSeconds)return function Gr(n,e){return Lt(n,3).substring(0,e)}(m,e);const E=jt(d,le.MinusSign);return Lt(m,e,E,r,i)}}function hn(n,e,t=$e.Format,r=!1){return function(i,a){return function Tr(n,e,t,r,i,a){switch(t){case kt.Months:return function Ne(n,e,t){const r=(0,s.cg1)(n),a=ft([r[s.wAp.MonthsFormat],r[s.wAp.MonthsStandalone]],e);return ft(a,t)}(e,i,r)[n.getMonth()];case kt.Days:return function pe(n,e,t){const r=(0,s.cg1)(n),a=ft([r[s.wAp.DaysFormat],r[s.wAp.DaysStandalone]],e);return ft(a,t)}(e,i,r)[n.getDay()];case kt.DayPeriods:const d=n.getHours(),m=n.getMinutes();if(a){const I=function nr(n){const e=(0,s.cg1)(n);return gr(e),(e[s.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?bn(r):[bn(r[0]),bn(r[1])])}(e),F=function zr(n,e,t){const r=(0,s.cg1)(n);gr(r);const a=ft([r[s.wAp.ExtraData][0],r[s.wAp.ExtraData][1]],e)||[];return ft(a,t)||[]}(e,i,r),W=I.findIndex(ce=>{if(Array.isArray(ce)){const[me,Ce]=ce,Me=d>=me.hours&&m>=me.minutes,Ue=d<Ce.hours||d===Ce.hours&&m<Ce.minutes;if(me.hours<Ce.hours){if(Me&&Ue)return!0}else if(Me||Ue)return!0}else if(ce.hours===d&&ce.minutes===m)return!0;return!1});if(-1!==W)return F[W]}return function be(n,e,t){const r=(0,s.cg1)(n),a=ft([r[s.wAp.DayPeriodsFormat],r[s.wAp.DayPeriodsStandalone]],e);return ft(a,t)}(e,i,r)[d<12?0:1];case kt.Eras:return function Le(n,e){return ft((0,s.cg1)(n)[s.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function $r(n){return function(e,t,r){const i=-1*r,a=jt(t,le.MinusSign),d=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case an.Short:return(i>=0?"+":"")+Lt(d,2,a)+Lt(Math.abs(i%60),2,a);case an.ShortGMT:return"GMT"+(i>=0?"+":"")+Lt(d,1,a);case an.Long:return"GMT"+(i>=0?"+":"")+Lt(d,2,a)+":"+Lt(Math.abs(i%60),2,a);case an.Extended:return 0===r?"Z":(i>=0?"+":"")+Lt(d,2,a)+":"+Lt(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function Cs(n){return Es(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function ir(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();i=1+Math.floor((d+a)/7)}else{const a=Cs(t),d=function qr(n){const e=Es(n,0,1).getDay();return Es(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),m=a.getTime()-d.getTime();i=1+Math.round(m/6048e5)}return Lt(i,n,jt(r,le.MinusSign))}}function Ii(n,e=!1){return function(t,r){return Lt(Cs(t).getFullYear(),n,jt(r,le.MinusSign),e)}}const gi={};function ge(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Vt(n){return n instanceof Date&&!isNaN(n.valueOf())}let mn=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Jc{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Jc(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===a?void 0:a);else if(null!==a){const m=r.get(a);r.move(m,d),lo(m,i)}});for(let i=0,a=r.length;i<a;i++){const m=r.get(i).context;m.index=i,m.count=a,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{lo(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function lo(n,e){n.context.$implicit=e.item}let Nn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Fd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){xr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){xr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Fd{constructor(){this.$implicit=null,this.ngIf=null}}function xr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(e)}'.`)}class _i{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let co=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ia=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new _i(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(co,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();function Bn(n,e){return new s.vHH(2100,!1)}class Vd{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class tu{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Bd=new tu,Df=new Vd;let nu=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,s.QGY)(t))return Bd;if((0,s.F4k)(t))return Df;throw Bn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Xm=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let ru=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,a){if(null==t||""===t||t!=t)return null;try{return An(t,r,a||this.locale,i??this.defaultTimezone??void 0)}catch(d){throw Bn()}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.soG,16),s.Y36(Xm,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),yi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Bl="browser";function Hl(n){return"server"===n}let zs=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new zl((0,s.LFG)(O),window)}),n})();class zl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function vi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const d=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ui(this.window.history)||Ui(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ui(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class vu extends class Lf extends class P{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function M(n){v||(v=n)}(new vu)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Xl(){return Ql=Ql||document.querySelector("base"),Ql?Ql.getAttribute("href"):null}();return null==t?null:function Vf(n){Jl=Jl||document.createElement("a"),Jl.setAttribute("href",n);const e=Jl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ql=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ol(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Jl,Ql=null;const da=new s.OlP("TRANSITION_ID"),bu=[{provide:s.ip1,useFactory:function th(n,e,t){return()=>{t.get(s.CZH).donePromise.then(()=>{const r=y(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[da,O,s.zs3],multi:!0}];let Bf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Is=new s.OlP("EventManagerPlugins");let tl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const d=i[a];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Is),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class qs{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=y().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Po=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ds=(()=>{class n extends Po{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ec),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ec))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function ec(n){y().remove(n)}const nl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zi=/%COMP%/g;function Oo(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Oo(n,i,t):(i=i.replace(zi,n),t.push(i))}return t}function tc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let fa=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new pa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case s.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Fo(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case s.ifc.ShadowDom:return new Uf(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Oo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(tl),s.LFG(Ds),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class pa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(nl[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(il(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(il(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=nl[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=nl[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,r,i&s.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,tc(r)):this.eventManager.addEventListener(e,t,tc(r))}}function il(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Fo extends pa{constructor(e,t,r,i){super(e),this.component=r;const a=Oo(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Ro(n){return"_ngcontent-%COMP%".replace(zi,n)}(i+"-"+r.id),this.hostAttr=function rl(n){return"_nghost-%COMP%".replace(zi,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Uf extends pa{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Oo(i.id,i.styles,[]);for(let d=0;d<a.length;d++){const m=document.createElement("style");m.textContent=a[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let nc=(()=>{class n extends qs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const xs=["alt","control","meta","shift"],rg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Cu=(()=>{class n extends qs{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),d=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>y().onAndCancel(t,a.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),xs.forEach(I=>{const F=r.indexOf(I);F>-1&&(r.splice(F,1),d+=I+".")}),d+=a,0!=r.length||0===a.length)return null;const E={};return E.domEventName=i,E.fullKey=d,E}static matchEventFullKeyCode(t,r){let i=rg[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),xs.forEach(d=>{d!==i&&(0,zn[d])(t)&&(a+=d+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ic=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Bl},{provide:s.g9A,useValue:function No(){vu.makeCurrent()},multi:!0},{provide:O,useFactory:function ma(){return(0,s.RDi)(document),document},deps:[]}]),ol=new s.OlP(""),In=[{provide:s.rWj,useClass:class el{addToWindow(e){s.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(r=>{const i=s.dqk.getAllAngularTestabilities();let a=i.length,d=!1;const m=function(E){d=d||E,a--,0==a&&r(d)};i.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?y().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Su=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Yr(){return new s.qLn},deps:[]},{provide:Is,useClass:nc,multi:!0,deps:[O,s.R0b,s.Lbi]},{provide:Is,useClass:Cu,multi:!0,deps:[O]},{provide:fa,useClass:fa,deps:[tl,Ds,s.AFp]},{provide:s.FYo,useExisting:fa},{provide:Po,useExisting:Ds},{provide:Ds,useClass:Ds,deps:[O]},{provide:tl,useClass:tl,deps:[Is,s.R0b]},{provide:class jl{},useClass:Bf,deps:[]},[]];let sc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:s.AFp,useValue:t.appId},{provide:da,useExisting:s.AFp},bu]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ol,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...Su,...In],imports:[yi,s.hGG]}),n})(),qf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function $f(){return new qf((0,s.LFG)(O))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Lo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):s.LFG(cl),r},providedIn:"root"}),n})(),cl=(()=>{class n extends Lo{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case s.q3G.NONE:return r;case s.q3G.HTML:return(0,s.qzn)(r,"HTML")?(0,s.z3N)(r):(0,s.EiD)(this._doc,String(r)).toString();case s.q3G.STYLE:return(0,s.qzn)(r,"Style")?(0,s.z3N)(r):r;case s.q3G.SCRIPT:if((0,s.qzn)(r,"Script"))return(0,s.z3N)(r);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(r,"URL")?(0,s.z3N)(r):(0,s.mCW)(String(r));case s.q3G.RESOURCE_URL:if((0,s.qzn)(r,"ResourceURL"))return(0,s.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,s.JVY)(t)}bypassSecurityTrustStyle(t){return(0,s.L6k)(t)}bypassSecurityTrustScript(t){return(0,s.eBb)(t)}bypassSecurityTrustUrl(t){return(0,s.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,s.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function xu(n){return new cl(n.get(O))}(s.LFG(s.zs3)),r},providedIn:"root"}),n})();var En=f(8996),as=f(3269);function gt(...n){const e=(0,as.yG)(n);return(0,En.D)(n,e)}var bt=f(7579);class hr extends bt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const _a=(0,f(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Nr=f(9751);const{isArray:hc}=Array,{getPrototypeOf:ul,prototype:Vo,keys:ui}=Object;function fc(n){if(1===n.length){const e=n[0];if(hc(e))return{args:e,keys:null};if(function ar(n){return n&&"object"==typeof n&&ul(n)===Vo}(e)){const t=ui(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ya=f(4671),Et=f(4004);const{isArray:oh}=Array;function dl(n){return(0,Et.U)(e=>function Bo(n,e){return oh(e)?n(...e):n(e)}(n,e))}function pc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var qn=f(5403),ah=f(9672);function Ks(...n){const e=(0,as.yG)(n),t=(0,as.jO)(n),{args:r,keys:i}=fc(n);if(0===r.length)return(0,En.D)([],e);const a=new Nr.y(function Au(n,e,t=ya.y){return r=>{Ho(e,()=>{const{length:i}=n,a=new Array(i);let d=i,m=i;for(let E=0;E<i;E++)Ho(e,()=>{const I=(0,En.D)(n[E],e);let F=!1;I.subscribe((0,qn.x)(r,W=>{a[E]=W,F||(F=!0,m--),m||r.next(t(a.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>pc(i,d):ya.y));return t?a.pipe(dl(t)):a}function Ho(n,e,t){n?(0,ah.f)(t,n,e):e()}var va=f(8189);function As(...n){return function Yf(){return(0,va.J)(1)}()((0,En.D)(n,(0,as.yG)(n)))}var Ms=f(8421);function ba(n){return new Nr.y(e=>{(0,Ms.Xf)(n()).subscribe(e)})}var lh=f(9635),Ps=f(576);function ki(n,e){const t=(0,Ps.m)(n)?n:()=>n,r=i=>i.error(t());return new Nr.y(e?i=>e.schedule(r,0,i):r)}var Gi=f(515),Qr=f(727),vr=f(4482);function mc(){return(0,vr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,qn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Qf extends Nr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,vr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,qn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qr.w0.EMPTY)}return e}refCount(){return mc()(this)}}function fr(n,e){return(0,vr.e)((t,r)=>{let i=null,a=0,d=!1;const m=()=>d&&!i&&r.complete();t.subscribe((0,qn.x)(r,E=>{i?.unsubscribe();let I=0;const F=a++;(0,Ms.Xf)(n(E,F)).subscribe(i=(0,qn.x)(r,W=>r.next(e?e(E,W,F,I++):W),()=>{i=null,m()}))},()=>{d=!0,m()}))})}function Ar(n){return n<=0?()=>Gi.E:(0,vr.e)((e,t)=>{let r=0;e.subscribe((0,qn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function bi(...n){const e=(0,as.yG)(n);return(0,vr.e)((t,r)=>{(e?As(n,t,e):As(n,t)).subscribe(r)})}function lr(n,e){return(0,vr.e)((t,r)=>{let i=0;t.subscribe((0,qn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var cr=f(5577);function ho(n){return(0,vr.e)((e,t)=>{let r=!1;e.subscribe((0,qn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function wa(n=gc){return(0,vr.e)((e,t)=>{let r=!1;e.subscribe((0,qn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function gc(){return new _a}function Ri(n,e){const t=arguments.length>=2;return r=>r.pipe(n?lr((i,a)=>n(i,a,r)):ya.y,Ar(1),t?ho(e):wa(()=>new _a))}function $i(n,e){return(0,Ps.m)(e)?(0,cr.z)(n,e,1):(0,cr.z)(n,1)}var tr=f(8505);function Oi(n){return(0,vr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,qn.x)(t,void 0,void 0,d=>{a=(0,Ms.Xf)(n(d,Oi(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Xf(n,e,t,r,i){return(a,d)=>{let m=t,E=e,I=0;a.subscribe((0,qn.x)(d,F=>{const W=I++;E=m?n(E,F,W):(m=!0,F),r&&d.next(E)},i&&(()=>{m&&d.next(E),d.complete()})))}}function fo(n,e){return(0,vr.e)(Xf(n,e,arguments.length>=2,!0))}function Jf(n){return n<=0?()=>Gi.E:(0,vr.e)((e,t)=>{let r=[];e.subscribe((0,qn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ep(n,e){const t=arguments.length>=2;return r=>r.pipe(n?lr((i,a)=>n(i,a,r)):ya.y,Jf(1),t?ho(e):wa(()=>new _a))}function hl(n){return(0,vr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const sn="primary",fl=Symbol("RouteTitle");class Ea{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ys(n){return new Ea(n)}function po(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const d=r[a],m=n[a];if(d.startsWith(":"))i[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ks(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!_c(n[i],e[i]))return!1;return!0}function _c(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Pu(n){return Array.prototype.concat.apply([],n)}function ls(n){return n.length>0?n[n.length-1]:null}function x(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function N(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,En.D)(Promise.resolve(n)):gt(n)}const J=!1,we={exact:function it(n,e,t){if(!Lr(n.segments,e.segments)||!Xr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!it(n.children[r],e.children[r],t))return!1;return!0},subset:Dt},De={exact:function at(n,e){return ks(n,e)},subset:function It(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_c(n[t],e[t]))},ignored:()=>!0};function ze(n,e,t){return we[t.paths](n.root,e.root,t.matrixParams)&&De[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Dt(n,e,t){return Gt(n,e,e.segments,t)}function Gt(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Lr(i,t)||e.hasChildren()||!Xr(i,t,r))}if(n.segments.length===t.length){if(!Lr(n.segments,t)||!Xr(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Dt(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Lr(n.segments,i)&&Xr(n.segments,i,r)&&n.children[sn])&&Gt(n.children[sn],e,a,r)}}function Xr(n,e,t){return e.every((r,i)=>De[t](n[i].parameters,r.parameters))}class kn{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ys(this.queryParams)),this._queryParamMap}toString(){return og.serialize(this)}}class xt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,x(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tp(this)}}class cs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ys(this.parameters)),this._parameterMap}toString(){return ag(this)}}function Lr(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let yc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new ku},providedIn:"root"}),n})();class ku{parse(e){const t=new Ou(e);return new kn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ca(e.root,!0)}`,r=function by(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${pl(t)}=${pl(i)}`).join("&"):`${pl(t)}=${pl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function uh(n){return encodeURI(n)}(e.fragment)}`:""}`}}const og=new ku;function tp(n){return n.segments.map(e=>ag(e)).join("/")}function Ca(n,e){if(!n.hasChildren())return tp(n);if(e){const t=n.children[sn]?Ca(n.children[sn],!1):"",r=[];return x(n.children,(i,a)=>{a!==sn&&r.push(`${a}:${Ca(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Qs(n,e){let t=[];return x(n.children,(r,i)=>{i===sn&&(t=t.concat(e(r,i)))}),x(n.children,(r,i)=>{i!==sn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===sn?[Ca(n.children[sn],!1)]:[`${i}:${Ca(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[sn]?`${tp(n)}/${t[0]}`:`${tp(n)}/(${t.join("//")})`}}function np(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pl(n){return np(n).replace(/%3B/gi,";")}function vc(n){return np(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dh(n){return decodeURIComponent(n)}function rp(n){return dh(n.replace(/\+/g,"%20"))}function ag(n){return`${vc(n.path)}${function Ru(n){return Object.keys(n).map(e=>`;${vc(e)}=${vc(n[e])}`).join("")}(n.parameters)}`}const lg=/^[^\/()?;=#]+/;function bc(n){const e=n.match(lg);return e?e[0]:""}const cg=/^[^=?&#]+/,aw=/^[^&#]+/;class Ou{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[sn]=new xt(e,t)),r}parseSegment(){const e=bc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new s.vHH(4009,J);return this.capture(e),new cs(dh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=bc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=bc(this.remaining);i&&(r=i,this.capture(r))}e[dh(t)]=dh(r)}parseQueryParam(e){const t=function Sa(n){const e=n.match(cg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function wc(n){const e=n.match(aw);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=rp(t),a=rp(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new s.vHH(4010,J);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=sn);const d=this.parseChildren();t[a]=1===Object.keys(d).length?d[sn]:new xt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new s.vHH(4011,J)}}function hh(n){return n.segments.length>0?new xt([],{[sn]:n}):n}function Ec(n){const e={};for(const r of Object.keys(n.children)){const a=Ec(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function ip(n){if(1===n.numberOfChildren&&n.children[sn]){const e=n.children[sn];return new xt(n.segments.concat(e.segments),e.children)}return n}(new xt(n.segments,e))}function ml(n){return n instanceof kn}function Ey(n,e,t,r,i){if(0===t.length)return _l(e.root,e.root,e.root,r,i);const a=function ph(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new op(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const m={};return x(a.outlets,(E,I)=>{m[I]="string"==typeof E?E.split("/"):E}),[...i,{outlets:m}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===d?(a.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,a]},[]);return new op(t,e,r)}(t);return a.toRoot()?_l(e.root,e.root,new xt([],{}),r,i):function d(E){const I=function zo(n,e,t,r){if(n.isAbsolute)return new yl(e.root,!0,0);if(-1===r)return new yl(t,t===e.root,0);return function Nu(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new s.vHH(4005,!1);i=r.segments.length}return new yl(r,!1,i-a)}(t,r+(Cc(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,E),F=I.processChildren?vl(I.segmentGroup,I.index,a.commands):ap(I.segmentGroup,I.index,a.commands);return _l(e.root,I.segmentGroup,F,r,i)}(n.snapshot?._lastPathIndex)}function Cc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function gl(n){return"object"==typeof n&&null!=n&&n.outlets}function _l(n,e,t,r,i){let d,a={};r&&x(r,(E,I)=>{a[I]=Array.isArray(E)?E.map(F=>`${F}`):`${E}`}),d=n===e?t:fh(n,e,t);const m=hh(Ec(d));return new kn(m,a,i)}function fh(n,e,t){const r={};return x(n.children,(i,a)=>{r[a]=i===e?t:fh(i,e,t)}),new xt(n.segments,r)}class op{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Cc(r[0]))throw new s.vHH(4003,!1);const i=r.find(gl);if(i&&i!==ls(r))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ap(n,e,t){if(n||(n=new xt([],{})),0===n.segments.length&&n.hasChildren())return vl(n,e,t);const r=function mh(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const d=n.segments[i],m=t[r];if(gl(m))break;const E=`${m}`,I=r<t.length-1?t[r+1]:null;if(i>0&&void 0===E)break;if(E&&I&&"object"==typeof I&&void 0===I.outlets){if(!cp(E,I,d))return a;r+=2}else{if(!cp(E,{},d))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new xt(n.segments.slice(0,r.pathIndex),{});return a.children[sn]=new xt(n.segments.slice(r.pathIndex),n.children),vl(a,0,i)}return r.match&&0===i.length?new xt(n.segments,{}):r.match&&!n.hasChildren()?lp(n,e,t):r.match?vl(n,0,i):lp(n,e,t)}function vl(n,e,t){if(0===t.length)return new xt(n.segments,{});{const r=function dg(n){return gl(n[0])?n[0].outlets:{[sn]:n}}(t),i={};return x(r,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[d]=ap(n.children[d],e,a))}),x(n.children,(a,d)=>{void 0===r[d]&&(i[d]=a)}),new xt(n.segments,i)}}function lp(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(gl(a)){const E=hg(a.outlets);return new xt(r,E)}if(0===i&&Cc(t[0])){r.push(new cs(n.segments[e].path,gh(t[0]))),i++;continue}const d=gl(a)?a.outlets[sn]:`${a}`,m=i<t.length-1?t[i+1]:null;d&&m&&Cc(m)?(r.push(new cs(d,gh(m))),i+=2):(r.push(new cs(d,{})),i++)}return new xt(r,{})}function hg(n){const e={};return x(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=lp(new xt([],{}),0,t))}),e}function gh(n){const e={};return x(n,(t,r)=>e[r]=`${t}`),e}function cp(n,e,t){return n==t.path&&ks(e,t.parameters)}class Xs{constructor(e,t){this.id=e,this.url=t}}class _h extends Xs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class go extends Xs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Js extends Xs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class up extends Xs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yh extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dp extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hp extends Xs{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Lu extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cy extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fp{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pp{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mp{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _p{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sc{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vh{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ic{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=bh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fg(e,this._root).map(t=>t.value)}}function bh(n,e){if(n===e.value)return e;for(const t of e.children){const r=bh(n,t);if(r)return r}return null}function fg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=fg(n,t);if(r.length)return r.unshift(e),r}return[]}class eo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function _o(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class pg extends Ic{constructor(e,t){super(e),this.snapshot=t,Sh(this,e)}toString(){return this.snapshot.toString()}}function wh(n,e){const t=function Eh(n,e){const d=new Vu([],{},{},"",{},sn,e,null,n.root,-1,{});return new Ia("",new eo(d,[]))}(n,e),r=new hr([new cs("",{})]),i=new hr({}),a=new hr({}),d=new hr({}),m=new hr(""),E=new Jr(r,i,d,m,a,sn,e,t.root);return E.snapshot=t.root,new pg(new eo(E,[]),t)}class Jr{constructor(e,t,r,i,a,d,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,Et.U)(I=>I[fl]))??gt(void 0),this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(e=>Ys(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(e=>Ys(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ch(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function mg(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Vu{constructor(e,t,r,i,a,d,m,E,I,F,W,ce){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=m,this.title=this.data?.[fl],this.routeConfig=E,this._urlSegment=I,this._lastPathIndex=F,this._correctedLastPathIndex=ce??F,this._resolve=W}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ys(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ys(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ia extends Ic{constructor(e,t){super(t),this.url=e,Sh(this,t)}toString(){return Fi(this._root)}}function Sh(n,e){e.value._routerState=n,e.children.forEach(t=>Sh(n,t))}function Fi(n){const e=n.children.length>0?` { ${n.children.map(Fi).join(", ")} } `:"";return`${n.value}${e}`}function Bu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ks(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ks(e.params,t.params)||n.params.next(t.params),function ch(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ks(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ks(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Hu(n,e){const t=ks(n.params,e.params)&&function mo(n,e){return Lr(n,e)&&n.every((t,r)=>ks(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Hu(n.parent,e.parent))}function br(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function yo(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return br(n,r,i);return br(n,r)})}(n,e,t);return new eo(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>br(n,m)),d}}const r=function gg(n){return new Jr(new hr(n.url),new hr(n.params),new hr(n.queryParams),new hr(n.fragment),new hr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>br(n,a));return new eo(r,i)}}const Ih="ngNavigationCancelingError";function _g(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ml(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Dh(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Dh(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ih]=!0,r.cancellationCode=e,t&&(r.url=t),r}function yg(n){return vg(n)&&ml(n.url)}function vg(n){return n&&n[Ih]}class bg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Uu,this.attachRef=null}}let Uu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new bg,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const C=!1;let _=(()=>{class n{constructor(t,r,i,a,d){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=i||sn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,C);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,C);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,C);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new s.vHH(4013,C);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,E=new b(t,m,i.injector);if(r&&function T(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(d);this.activated=i.createComponent(I,i.length,E)}else this.activated=i.createComponent(d,{index:i.length,injector:E,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Uu),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class b{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Jr?this.route:e===Uu?this.childContexts:this.parent.get(e,t)}}let $=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(t,r){1&t&&s._UZ(0,"router-outlet")},dependencies:[_],encapsulation:2}),n})();function ie(n,e){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function zu(n){const e=n.children&&n.children.map(zu),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==sn&&(t.component=$),t}function Rs(n){return n.outlet||sn}function ju(n,e){const t=n.filter(r=>Rs(r)===e);return t.push(...n.filter(r=>Rs(r)!==e)),t}function Dc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class yp{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Bu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=_o(t);e.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,i[d],r),delete i[d]}),x(i,(a,d)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=_o(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=_o(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=_o(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Sc(a.value.snapshot))}),e.children.length&&this.forwardEvent(new gp(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Bu(i),i===a)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Bu(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=Dc(i.snapshot),E=m?.get(s._Vd)??null;d.attachRef=null,d.route=i,d.resolver=E,d.injector=m,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class vp{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Tc{constructor(e,t){this.component=e,this.route=t}}function xc(n,e,t){const r=n._root;return bl(r,e?e._root:null,t,[r.value])}function Da(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,s.Z0I)(n)?e.get(n):n:r}function bl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=_o(e);return n.children.forEach(d=>{(function wr(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const E=function pD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Lr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Lr(n.url,e.url)||!ks(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hu(n,e)||!ks(n.queryParams,e.queryParams);default:return!Hu(n,e)}}(d,a,a.routeConfig.runGuardsAndResolvers);E?i.canActivateChecks.push(new vp(r)):(a.data=d.data,a._resolvedData=d._resolvedData),bl(n,e,a.component?m?m.children:null:t,r,i),E&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new Tc(m.outlet.component,d))}else d&&wp(e,m,i),i.canActivateChecks.push(new vp(r)),bl(n,null,a.component?m?m.children:null:t,r,i)})(d,a[d.value.outlet],t,r.concat([d.value]),i),delete a[d.value.outlet]}),x(a,(d,m)=>wp(d,t.getContext(m),i)),i}function wp(n,e,t){const r=_o(n),i=n.value;x(r,(a,d)=>{wp(a,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Tc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Gu(n){return"function"==typeof n}function $u(n){return n instanceof _a||"EmptyError"===n?.name}const Th=Symbol("INITIAL_VALUE");function qu(){return fr(n=>Ks(n.map(e=>e.pipe(Ar(1),bi(Th)))).pipe((0,Et.U)(e=>{for(const t of e)if(!0!==t){if(t===Th)return Th;if(!1===t||t instanceof kn)return t}return!0}),lr(e=>e!==Th),Ar(1)))}function Ty(n){return(0,lh.z)((0,tr.b)(e=>{if(ml(e))throw _g(0,e)}),(0,Et.U)(e=>!0===e))}const wl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mw(n,e,t,r,i){const a=Ep(n,e,t);return a.matched?function pw(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?gt(i.map(d=>{const m=Da(d,n);return N(function vD(n){return n&&Gu(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(qu(),Ty()):gt(!0)}(r=ie(e,r),e,t).pipe((0,Et.U)(d=>!0===d?a:{...wl})):gt(a)}function Ep(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...wl}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||po)(t,n,e);if(!i)return{...wl};const a={};x(i.posParams,(m,E)=>{a[E]=m.path});const d=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function Wu(n,e,t,r,i="corrected"){if(t.length>0&&function Eg(n,e,t){return t.some(r=>Cp(n,e,r)&&Rs(r)!==sn)}(n,t,r)){const d=new xt(e,function xy(n,e,t,r){const i={};i[sn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Rs(a)!==sn){const d=new xt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[Rs(a)]=d}return i}(n,e,r,new xt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function Zu(n,e,t){return t.some(r=>Cp(n,e,r))}(n,t,r)){const d=new xt(n.segments,function ED(n,e,t,r,i,a){const d={};for(const m of r)if(Cp(n,t,m)&&!i[Rs(m)]){const E=new xt([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===a?n.segments.length:e.length,d[Rs(m)]=E}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const a=new xt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Cp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Cg(n,e,t,r){return!!(Rs(n)===r||r!==sn&&Cp(e,t,n))&&("**"===n.path||Ep(e,n,t).matched)}function gw(n,e,t){return 0===e.length&&!n.children[t]}const Sg=!1;class Sp{constructor(e){this.segmentGroup=e||null}}class Ku{constructor(e){this.urlTree=e}}function Ip(n){return ki(new Sp(n))}function _w(n){return ki(new Ku(n))}class ID{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Wu(this.urlTree.root,[],[],this.config).segmentGroup,t=new xt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,sn).pipe((0,Et.U)(a=>this.createUrlTree(Ec(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Oi(a=>{if(a instanceof Ku)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Sp?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,sn).pipe((0,Et.U)(i=>this.createUrlTree(Ec(i),e.queryParams,e.fragment))).pipe(Oi(i=>{throw i instanceof Sp?this.noMatchError(i):i}))}noMatchError(e){return new s.vHH(4002,Sg)}createUrlTree(e,t,r){const i=hh(e);return new kn(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Et.U)(a=>new xt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,En.D)(i).pipe($i(a=>{const d=r.children[a],m=ju(t,a);return this.expandSegmentGroup(e,m,d,a).pipe((0,Et.U)(E=>({segment:E,outlet:a})))}),fo((a,d)=>(a[d.outlet]=d.segment,a),{}),ep())}expandSegment(e,t,r,i,a,d){return(0,En.D)(r).pipe($i(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,a,d).pipe(Oi(I=>{if(I instanceof Sp)return gt(null);throw I}))),Ri(m=>!!m),Oi((m,E)=>{if($u(m))return gw(t,i,a)?gt(new xt([],{})):Ip(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,a,d,m){return Cg(i,t,a,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d):Ip(t):Ip(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_w(a):this.lineralizeSegments(r,a).pipe((0,cr.z)(d=>{const m=new xt(d,{});return this.expandSegment(e,m,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){const{matched:m,consumedSegments:E,remainingSegments:I,positionalParamSegments:F}=Ep(t,i,a);if(!m)return Ip(t);const W=this.applyRedirectCommands(E,i.redirectTo,F);return i.redirectTo.startsWith("/")?_w(W):this.lineralizeSegments(i,W).pipe((0,cr.z)(ce=>this.expandSegment(e,t,r,ce.concat(I),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=ie(r,e),r.loadChildren?(r._loadedRoutes?gt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Et.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new xt(i,{})))):gt(new xt(i,{}))):mw(t,r,i,e).pipe(fr(({matched:d,consumedSegments:m,remainingSegments:E})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,cr.z)(F=>{const W=F.injector??e,ce=F.routes,{segmentGroup:me,slicedSegments:Ce}=Wu(t,m,E,ce),Me=new xt(me.segments,me.children);if(0===Ce.length&&Me.hasChildren())return this.expandChildren(W,ce,Me).pipe((0,Et.U)(dt=>new xt(m,dt)));if(0===ce.length&&0===Ce.length)return gt(new xt(m,{}));const Ue=Rs(r)===a;return this.expandSegment(W,Me,ce,Ce,Ue?sn:a,!0).pipe((0,Et.U)(vt=>new xt(m.concat(vt.segments),vt.children)))})):Ip(t)))}getChildConfig(e,t,r){return t.children?gt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?gt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Dy(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?gt(!0):gt(i.map(d=>{const m=Da(d,n);return N(function mD(n){return n&&Gu(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(qu(),Ty())}(e,t,r).pipe((0,cr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,tr.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function SD(n){return ki(Dh(Sg,3))}())):gt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return gt(r);if(i.numberOfChildren>1||!i.children[sn])return ki(new s.vHH(4e3,Sg));i=i.children[sn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new kn(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return x(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[a]=t[m]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let d={};return x(t.children,(m,E)=>{d[E]=this.createSegmentGroup(e,m,r,i)}),new xt(a,d)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new s.vHH(4001,Sg);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class vw{}class Dp{constructor(e,t,r,i,a,d,m,E){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=m,this.urlSerializer=E}recognize(){const e=Wu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,sn).pipe((0,Et.U)(t=>{if(null===t)return null;const r=new Vu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},sn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new eo(r,t),a=new Ia(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Ch(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,En.D)(Object.keys(r.children)).pipe($i(i=>{const a=r.children[i],d=ju(t,i);return this.processSegmentGroup(e,d,a,i)}),fo((i,a)=>i&&a?(i.push(...a),i):null),function Mu(n,e=!1){return(0,vr.e)((t,r)=>{let i=0;t.subscribe((0,qn.x)(r,a=>{const d=n(a,i++);(d||e)&&r.next(a),!d&&r.complete()}))})}(i=>null!==i),ho(null),ep(),(0,Et.U)(i=>{if(null===i)return null;const a=bw(i);return function TD(n){n.sort((e,t)=>e.value.outlet===sn?-1:t.value.outlet===sn?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,En.D)(t).pipe($i(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,a)),Ri(d=>!!d),Oi(d=>{if($u(d))return gw(r,i,a)?gt([]):gt(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Cg(t,r,i,a))return gt(null);let d;if("**"===t.path){const m=i.length>0?ls(i).parameters:{},E=ww(r)+i.length;d=gt({snapshot:new Vu(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cw(t),Rs(t),t.component??t._loadedComponent??null,t,My(r),E,Py(t),E),consumedSegments:[],remainingSegments:[]})}else d=mw(r,t,i,e).pipe((0,Et.U)(({matched:m,consumedSegments:E,remainingSegments:I,parameters:F})=>{if(!m)return null;const W=ww(r)+E.length;return{snapshot:new Vu(E,F,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cw(t),Rs(t),t.component??t._loadedComponent??null,t,My(r),W,Py(t),W),consumedSegments:E,remainingSegments:I}}));return d.pipe(fr(m=>{if(null===m)return gt(null);const{snapshot:E,consumedSegments:I,remainingSegments:F}=m;e=t._injector??e;const W=t._loadedInjector??e,ce=function xh(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:me,slicedSegments:Ce}=Wu(r,I,F,ce.filter(Ue=>void 0===Ue.redirectTo),this.relativeLinkResolution);if(0===Ce.length&&me.hasChildren())return this.processChildren(W,ce,me).pipe((0,Et.U)(Ue=>null===Ue?null:[new eo(E,Ue)]));if(0===ce.length&&0===Ce.length)return gt([new eo(E,[])]);const Me=Rs(t)===a;return this.processSegment(W,ce,me,Ce,Me?sn:a).pipe((0,Et.U)(Ue=>null===Ue?null:[new eo(E,Ue)]))}))}}function Tp(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function bw(n){const e=[],t=new Set;for(const r of n){if(!Tp(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=bw(r.children);e.push(new eo(r.value,i))}return e.filter(r=>!t.has(r))}function My(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ww(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Cw(n){return n.data||{}}function Py(n){return n.resolve||{}}function Iw(n){return"string"==typeof n.title||null===n.title}function Fy(n){return fr(e=>{const t=n(e);return t?(0,En.D)(t).pipe((0,Et.U)(()=>e)):gt(e)})}let Dw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===sn);return r}getResolvedTitleForRoute(t){return t.data[fl]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Tw)},providedIn:"root"}),n})(),Tw=(()=>{class n extends Dw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(qf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AD{}class Ah extends class MD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Dg=new s.OlP("",{providedIn:"root",factory:()=>({})}),Aw=new s.OlP("ROUTES");let Mw=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return gt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=N(t.loadComponent()).pipe((0,tr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),hl(()=>{this.componentLoaders.delete(t)})),i=new Qf(r,()=>new bt.x).pipe(mc());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return gt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Et.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let E,I,F=!1;Array.isArray(m)?I=m:(E=m.create(t).injector,I=Pu(E.get(Aw,[],s.XFs.Self|s.XFs.Optional)));return{routes:I.map(zu),injector:E}}),hl(()=>{this.childrenLoaders.delete(r)})),d=new Qf(a,()=>new bt.x).pipe(mc());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return N(t()).pipe((0,cr.z)(r=>r instanceof s.YKP||Array.isArray(r)?gt(r):(0,En.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Pw{}class Fk{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Nk(n){throw n}function kw(n,e,t){return e.parse("/")}const PD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ow(){const n=(0,s.f3M)(yc),e=(0,s.f3M)(Uu),t=(0,s.f3M)(re),r=(0,s.f3M)(s.zs3),i=(0,s.f3M)(s.Sil),a=(0,s.f3M)(Aw,{optional:!0})??[],d=(0,s.f3M)(Dg,{optional:!0})??{},m=(0,s.f3M)(Tw),E=(0,s.f3M)(Dw,{optional:!0}),I=(0,s.f3M)(Pw,{optional:!0}),F=(0,s.f3M)(AD,{optional:!0}),W=new Rn(null,n,e,t,r,i,Pu(a));return I&&(W.urlHandlingStrategy=I),F&&(W.routeReuseStrategy=F),W.titleStrategy=E??m,function kD(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,W),W}let Rn=(()=>{class n{constructor(t,r,i,a,d,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new bt.x,this.errorHandler=Nk,this.malformedUriErrorHandler=kw,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>gt(void 0),this.urlHandlingStrategy=new Fk,this.routeReuseStrategy=new Ah,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(Mw),this.configLoader.onLoadEndListener=ce=>this.triggerEvent(new pp(ce)),this.configLoader.onLoadStartListener=ce=>this.triggerEvent(new fp(ce)),this.ngModule=d.get(s.h0i),this.console=d.get(s.c2e);const W=d.get(s.R0b);this.isNgZoneEnabled=W instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function ue(){return new kn(new xt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wh(this.currentUrlTree,this.rootComponentType),this.transitions=new hr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(lr(i=>0!==i.id),(0,Et.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),fr(i=>{let a=!1,d=!1;return gt(i).pipe((0,tr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),fr(m=>{const E=this.browserUrlTree.toString(),I=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Ny(m.source)&&(this.browserUrlTree=m.extractedUrl),gt(m).pipe(fr(W=>{const ce=this.transitions.getValue();return r.next(new _h(W.id,this.serializeUrl(W.extractedUrl),W.source,W.restoredState)),ce!==this.transitions.getValue()?Gi.E:Promise.resolve(W)}),function yw(n,e,t,r){return fr(i=>function Ay(n,e,t,r,i){return new ID(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Et.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,tr.b)(W=>{this.currentNavigation={...this.currentNavigation,finalUrl:W.urlAfterRedirects},i.urlAfterRedirects=W.urlAfterRedirects}),function Sw(n,e,t,r,i,a){return(0,cr.z)(d=>function DD(n,e,t,r,i,a,d="emptyOnly",m="legacy"){return new Dp(n,e,t,r,i,d,m,a).recognize().pipe(fr(E=>null===E?function kk(n){return new Nr.y(e=>e.error(n))}(new vw):gt(E)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,i,a).pipe((0,Et.U)(m=>({...d,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,tr.b)(W=>{if(i.targetSnapshot=W.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!W.extras.skipLocationChange){const me=this.urlHandlingStrategy.merge(W.urlAfterRedirects,W.rawUrl);this.setBrowserUrl(me,W)}this.browserUrlTree=W.urlAfterRedirects}const ce=new yh(W.id,this.serializeUrl(W.extractedUrl),this.serializeUrl(W.urlAfterRedirects),W.targetSnapshot);r.next(ce)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ce,extractedUrl:me,source:Ce,restoredState:Me,extras:Ue}=m,rt=new _h(ce,this.serializeUrl(me),Ce,Me);r.next(rt);const vt=wh(me,this.rootComponentType).snapshot;return gt(i={...m,targetSnapshot:vt,urlAfterRedirects:me,extras:{...Ue,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),Gi.E}),(0,tr.b)(m=>{const E=new dp(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,Et.U)(m=>i={...m,guards:xc(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function uw(n,e){return(0,cr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:d}}=t;return 0===d.length&&0===a.length?gt({...t,guardsResult:!0}):function dw(n,e,t,r){return(0,En.D)(n).pipe((0,cr.z)(i=>function wD(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?gt(a.map(m=>{const E=Dc(e)??i,I=Da(m,E);return N(function yD(n){return n&&Gu(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,r):E.runInContext(()=>I(n,e,t,r))).pipe(Ri())})).pipe(qu()):gt(!0)}(i.component,i.route,t,e,r)),Ri(i=>!0!==i,!0))}(d,r,i,n).pipe((0,cr.z)(m=>m&&function cw(n){return"boolean"==typeof n}(m)?function bD(n,e,t,r){return(0,En.D)(e).pipe($i(i=>As(function fw(n,e){return null!==n&&e&&e(new mp(n)),gt(!0)}(i.route.parent,r),function hw(n,e){return null!==n&&e&&e(new _p(n)),gt(!0)}(i.route,r),function Pk(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(d=>function bp(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>ba(()=>gt(d.guards.map(E=>{const I=Dc(d.node)??t,F=Da(E,I);return N(function _D(n){return n&&Gu(n.canActivateChild)}(F)?F.canActivateChild(r,n):I.runInContext(()=>F(r,n))).pipe(Ri())})).pipe(qu())));return gt(a).pipe(qu())}(n,i.path,t),function Iy(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return gt(!0);const i=r.map(a=>ba(()=>{const d=Dc(e)??t,m=Da(a,d);return N(function gD(n){return n&&Gu(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(Ri())}));return gt(i).pipe(qu())}(n,i.route,t))),Ri(i=>!0!==i,!0))}(r,a,n,e):gt(m)),(0,Et.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,tr.b)(m=>{if(i.guardsResult=m.guardsResult,ml(m.guardsResult))throw _g(0,m.guardsResult);const E=new hp(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),lr(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),Fy(m=>{if(m.guards.canActivateChecks.length)return gt(m).pipe((0,tr.b)(E=>{const I=new Lu(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}),fr(E=>{let I=!1;return gt(E).pipe(function ky(n,e){return(0,cr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return gt(t);let a=0;return(0,En.D)(i).pipe($i(d=>function Ry(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Iw(i)&&(a[fl]=i.title),function xD(n,e,t,r){const i=function Oy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return gt({});const a={};return(0,En.D)(i).pipe((0,cr.z)(d=>function xp(n,e,t,r){const i=Dc(e)??r,a=Da(n,i);return N(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[d],e,t,r).pipe(Ri(),(0,tr.b)(m=>{a[d]=m}))),Jf(1),function Uo(n){return(0,Et.U)(()=>n)}(a),Oi(d=>$u(d)?Gi.E:ki(d)))}(a,n,e,r).pipe((0,Et.U)(d=>(n._resolvedData=d,n.data=Ch(n,t).resolve,i&&Iw(i)&&(n.data[fl]=i.title),null)))}(d.route,r,n,e)),(0,tr.b)(()=>a++),Jf(1),(0,cr.z)(d=>a===i.length?gt(t):Gi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,tr.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(E),this.cancelNavigationTransition(E,"",2))}}))}),(0,tr.b)(E=>{const I=new Cy(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(I)}))}),Fy(m=>{const E=I=>{const F=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&F.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,tr.b)(W=>{I.component=W}),(0,Et.U)(()=>{})));for(const W of I.children)F.push(...E(W));return F};return Ks(E(m.targetSnapshot.root)).pipe(ho(),Ar(1))}),Fy(()=>this.afterPreactivation()),(0,Et.U)(m=>{const E=function Sy(n,e,t){const r=br(n,e._root,t?t._root:void 0);return new pg(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return i={...m,targetRouterState:E}}),(0,tr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Et.U)(r=>(new yp(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,tr.b)({next(){a=!0},complete(){a=!0}}),hl(()=>{a||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Oi(m=>{if(d=!0,vg(m)){yg(m)||(this.navigated=!0,this.restoreHistory(i,!0));const E=new Js(i.id,this.serializeUrl(i.extractedUrl),m.message,m.cancellationCode);if(r.next(E),yg(m)){const I=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),F={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ny(i.source)};this.scheduleNavigation(I,"imperative",null,F,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const E=new up(i.id,this.serializeUrl(i.extractedUrl),m,i.targetSnapshot??void 0);r.next(E);try{i.resolve(this.errorHandler(m))}catch(I){i.reject(I)}}return Gi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const m={...a};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(i.state=m)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(zu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:d,queryParamsHandling:m,preserveFragment:E}=r,I=i||this.routerState.root,F=E?this.currentUrlTree.fragment:d;let W=null;switch(m){case"merge":W={...this.currentUrlTree.queryParams,...a};break;case"preserve":W=this.currentUrlTree.queryParams;break;default:W=a||null}return null!==W&&(W=this.removeEmptyProps(W)),Ey(I,this.currentUrlTree,t,W,F??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ml(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function RD(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new s.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...PD}:!1===r?{...Rw}:r,ml(t))return ze(this.currentUrlTree,t,i);const a=this.parseUrl(t);return ze(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new go(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,d){if(this.disposed)return Promise.resolve(!1);let m,E,I;d?(m=d.resolve,E=d.reject,I=d.promise):I=new Promise((ce,me)=>{m=ce,E=me});const F=++this.navigationId;let W;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),W=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):W=0,this.setTransition({id:F,targetPageId:W,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:m,reject:E,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(ce=>Promise.reject(ce))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new Js(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return Ow()},providedIn:"root"}),n})();function Ny(n){return"imperative"!==n}class By{}let ND=(()=>{class n{constructor(t,r,i,a,d){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(lr(t=>t instanceof go),$i(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,s.MMx)(a.providers,t,`Route: ${a.path}`));const d=a._injector??t,m=a._loadedInjector??d;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(d,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(m,a.children??a._loadedRoutes))}return(0,En.D)(i).pipe((0,va.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):gt(null);const a=i.pipe((0,cr.z)(d=>null===d?gt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,En.D)([a,d]).pipe((0,va.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Rn),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(By),s.LFG(Mw))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xt=new s.OlP("");let Hy=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _h?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof go&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new vh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Mh(n,e){return{\u0275kind:n,\u0275providers:e}}function Tg(n){return[{provide:Aw,multi:!0,useValue:n}]}function Uy(){const n=(0,s.f3M)(s.zs3);return e=>{const t=n.get(s.z2F);if(e!==t.components[0])return;const r=n.get(Rn),i=n.get(Nw);1===n.get(zy)&&r.initialNavigation(),n.get(Ac,null,s.XFs.Optional)?.setUpPreloading(),n.get(Xt,null,s.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Nw=new s.OlP("",{factory:()=>new bt.x}),zy=new s.OlP("",{providedIn:"root",factory:()=>1});const Ac=new s.OlP("");function VD(n){return Mh(0,[{provide:Ac,useExisting:ND},{provide:By,useExisting:n}])}const BD=new s.OlP("ROUTER_FORROOT_GUARD"),zk=[re,{provide:yc,useClass:ku},{provide:Rn,useFactory:Ow},Uu,{provide:Jr,useFactory:function Fw(n){return n.routerState.root},deps:[Rn]},Mw];function jk(){return new s.PXZ("Router",Rn)}let Pp=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[zk,[],Tg(t),{provide:BD,useFactory:kh,deps:[[Rn,new s.FiY,new s.tp0]]},{provide:Dg,useValue:r||{}},r?.useHash?{provide:V,useClass:te}:{provide:V,useClass:ee},{provide:Xt,useFactory:()=>{const n=(0,s.f3M)(Rn),e=(0,s.f3M)(zs),t=(0,s.f3M)(Dg);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Hy(n,e,t)}},r?.preloadingStrategy?VD(r.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:jk},r?.initialNavigation?UD(r):[],[{provide:jy,useFactory:Uy},{provide:s.tb,multi:!0,useExisting:jy}]]}}static forChild(t){return{ngModule:n,providers:[Tg(t)]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(BD,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$]}),n})();function kh(n){return"guarded"}function UD(n){return["disabled"===n.initialNavigation?Mh(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const e=(0,s.f3M)(Rn);return()=>{e.setUpLocationChangeListener()}}},{provide:zy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Mh(2,[{provide:zy,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:e=>{const t=e.get(R,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const d=e.get(Rn),m=e.get(Nw);(function i(a){e.get(Rn).events.pipe(lr(m=>m instanceof go||m instanceof Js||m instanceof up),(0,Et.U)(m=>m instanceof go||m instanceof Js&&(0===m.code||1===m.code)&&null),lr(m=>null!==m),Ar(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),d.afterPreactivation=()=>(a(!0),r||m.closed?gt(void 0):m),d.initialNavigation()}))}}]).\u0275providers:[]]}const jy=new s.OlP("");var Uw=f(4487),zD=f.n(Uw);function Gy(...n){const e=(0,as.jO)(n),{args:t,keys:r}=fc(n),i=new Nr.y(a=>{const{length:d}=t;if(!d)return void a.complete();const m=new Array(d);let E=d,I=d;for(let F=0;F<d;F++){let W=!1;(0,Ms.Xf)(t[F]).subscribe((0,qn.x)(a,ce=>{W||(W=!0,I--),m[F]=ce},()=>E--,void 0,()=>{(!E||!W)&&(I||a.next(r?pc(r,m):m),a.complete())}))}});return e?i.pipe(dl(e)):i}let zw=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Yu=(()=>{class n extends zw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Ta=new s.OlP("NgValueAccessor"),jw={provide:Ta,useExisting:(0,s.Gpc)(()=>Ag),multi:!0};let Ag=(()=>{class n extends Yu{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&s.NdJ("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},features:[s._Bn([jw]),s.qOj]}),n})();const Gw={provide:Ta,useExisting:(0,s.Gpc)(()=>Mc),multi:!0},$y=new s.OlP("CompositionEventMode");let Mc=(()=>{class n extends zw{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $w(){const n=y()?y().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36($y,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&s.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[s._Bn([Gw]),s.qOj]}),n})();function Pc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function jD(n){return null!=n&&"number"==typeof n.length}const Br=new s.OlP("NgValidators"),Cl=new s.OlP("NgAsyncValidators"),qw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ln{static min(e){return function vo(n){return e=>{if(Pc(e.value)||Pc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Wy(n){return e=>{if(Pc(e.value)||Pc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Ww(e)}static requiredTrue(e){return function Mg(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function xa(n){return Pc(n.value)||qw.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Pg(n){return e=>Pc(e.value)||!jD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return Zy(e)}static pattern(e){return kg(e)}static nullValidator(e){return null}static compose(e){return Og(e)}static composeAsync(e){return Kw(e)}}function Ww(n){return Pc(n.value)?{required:!0}:null}function Zy(n){return e=>jD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function kg(n){if(!n)return Ky;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Pc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Ky(n){return null}function Yy(n){return null!=n}function GD(n){return(0,s.QGY)(n)?(0,En.D)(n):n}function kp(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Rp(n,e){return e.map(t=>t(n))}function Rg(n){return n.map(e=>function Qy(n){return!n.validate}(e)?e:t=>e.validate(t))}function Og(n){if(!n)return null;const e=n.filter(Yy);return 0==e.length?null:function(t){return kp(Rp(t,e))}}function Zw(n){return null!=n?Og(Rg(n)):null}function Kw(n){if(!n)return null;const e=n.filter(Yy);return 0==e.length?null:function(t){return Gy(Rp(t,e).map(GD)).pipe((0,Et.U)(kp))}}function Xy(n){return null!=n?Kw(Rg(n)):null}function Yw(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Qw(n){return n._rawValidators}function Jy(n){return n._rawAsyncValidators}function Xw(n){return n?Array.isArray(n)?n:[n]:[]}function Fg(n,e){return Array.isArray(n)?n.includes(e):n===e}function $D(n,e){const t=Xw(e);return Xw(n).forEach(i=>{Fg(t,i)||t.push(i)}),t}function ev(n,e){return Xw(e).filter(t=>!Fg(n,t))}class tv{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Zw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ds extends tv{get formDirective(){return null}get path(){return null}}class jo extends tv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qD{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Rh=(()=>{class n extends qD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(jo,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[s.qOj]}),n})(),Op=(()=>{class n extends qD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(ds,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[s.qOj]}),n})();const Fp="VALID",Lg="INVALID",Il="PENDING",Aa="DISABLED";function Np(n){return(Bp(n)?n.validators:n)||null}function Xu(n){return Array.isArray(n)?Zw(n):n||null}function Lp(n,e){return(Bp(e)?e.asyncValidators:n)||null}function Vp(n){return Array.isArray(n)?Xy(n):n||null}function Bp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function rv(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new s.vHH(1e3,"");if(!r[t])throw new s.vHH(1001,"")}function Vg(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new s.vHH(1002,"")})}class Oh{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Xu(this._rawValidators),this._composedAsyncValidatorFn=Vp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fp}get invalid(){return this.status===Lg}get pending(){return this.status==Il}get disabled(){return this.status===Aa}get enabled(){return this.status!==Aa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Xu(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Vp(e)}addValidators(e){this.setValidators($D(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($D(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ev(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ev(e,this._rawAsyncValidators))}hasValidator(e){return Fg(this._rawValidators,e)}hasAsyncValidator(e){return Fg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Il,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Aa,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fp||this.status===Il)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Aa:Fp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Il,this._hasOwnPendingAsyncValidator=!0;const t=GD(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Aa:this.errors?Lg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Il)?Il:this._anyControlsHaveStatus(Lg)?Lg:Fp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Ju extends Oh{constructor(e,t,r){super(Np(t),Lp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Vg(this,0,e),Object.keys(e).forEach(r=>{rv(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class XD extends Ju{}function Up(n,e){hs(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function eT(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oE(n,e)})}(n,e),function iv(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Qk(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function JD(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function zp(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Gp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function jp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hs(n,e){const t=Qw(n);null!==e.validator?n.setValidators(Yw(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Jy(n);null!==e.asyncValidator?n.setAsyncValidators(Yw(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();jp(e._rawValidators,i),jp(e._rawAsyncValidators,i)}function Gp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Qw(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=Jy(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return jp(e._rawValidators,r),jp(e._rawAsyncValidators,r),t}function oE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sv(n,e){hs(n,e)}function Bg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function aE(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Hg(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Mc?t=a:function rT(n){return Object.getPrototypeOf(n.constructor)===Yu}(a)?r=a:i=a}),i||r||t||null}const Ma={provide:ds,useExisting:(0,s.Gpc)(()=>Ug)},ed=(()=>Promise.resolve())();let Ug=(()=>{class n extends ds{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new Ju({},Zw(t),Xy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ed.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Up(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ed.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ed.then(()=>{const r=this._findContainer(t.path),i=new Ju({});sv(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ed.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ed.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,aE(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Br,10),s.Y36(Cl,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&s.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Ma]),s.qOj]}),n})();function cE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function iT(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const kc=class extends Oh{constructor(e=null,t,r){super(Np(t),Lp(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=iT(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){iT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let td=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Pa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Zp=new s.OlP("NgModelWithFormControlWarning"),gE={provide:jo,useExisting:(0,s.Gpc)(()=>uv)};let uv=(()=>{class n extends jo{constructor(t,r,i,a){super(),this._ngModelWarningConfig=a,this.update=new s.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=Hg(0,i)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&zp(r,this,!1),Up(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Bg(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&zp(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(s.Y36(Br,10),s.Y36(Cl,10),s.Y36(Ta,10),s.Y36(Zp,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[s._Bn([gE]),s.qOj,s.TTD]}),n})();const aT={provide:ds,useExisting:(0,s.Gpc)(()=>to)};let to=(()=>{class n extends ds{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Up(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){zp(t.control||null,t,!1),function lE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,aE(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(zp(r||null,t),(n=>n instanceof kc)(i)&&(Up(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);sv(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function tT(n,e){return Gp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hs(this.form,this),this._oldForm&&Gp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Br,10),s.Y36(Cl,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&s.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([aT]),s.qOj,s.TTD]}),n})();const uT={provide:jo,useExisting:(0,s.Gpc)(()=>nd)};let nd=(()=>{class n extends jo{constructor(t,r,i,a,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Hg(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Bg(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Hp(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(s.Y36(ds,13),s.Y36(Br,10),s.Y36(Cl,10),s.Y36(Ta,10),s.Y36(Zp,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([uT]),s.qOj,s.TTD]}),n})();let Go=(()=>{class n{constructor(){this._validator=Ky}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ky,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const ka={provide:Br,useExisting:(0,s.Gpc)(()=>ei),multi:!0};let ei=(()=>{class n extends Go{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=t=>Ww}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&s.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([ka]),s.qOj]}),n})();const Fh={provide:Br,useExisting:(0,s.Gpc)(()=>Ra),multi:!0};let Ra=(()=>{class n extends Go{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function Rc(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>Zy(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&s.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[s._Bn([Fh]),s.qOj]}),n})();const Nh={provide:Br,useExisting:(0,s.Gpc)(()=>Fc),multi:!0};let Fc=(()=>{class n extends Go{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>kg(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&s.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[s._Bn([Nh]),s.qOj]}),n})(),id=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Pa]}),n})(),pv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[id]}),n})(),Lh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Zp,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[id]}),n})();class mv extends Oh{constructor(e,t,r){super(Np(t),Lp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Vg(this,0,e),e.forEach((r,i)=>{rv(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function gv(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let em=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return gv(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new Ju(i,a)}record(t,r=null){const i=this._reduceControls(t);return new XD(i,r)}control(t,r,i){let a={};return this.useNonNullable?(gv(r)?a=r:(a.validators=r,a.asyncValidators=i),new kc(t,{...a,nonNullable:!0})):new kc(t,r,i)}array(t,r,i){const a=t.map(d=>this._createControl(d));return new mv(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof kc||t instanceof Oh?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:Lh}),n})();var SE=f(1520);function qi(n){return null!=n&&"false"!=`${n}`}function Nc(n,e=0){return function IE(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function sd(n){return Array.isArray(n)?n:[n]}function Mr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Pr(n){return n instanceof s.SBq?n.nativeElement:n}var Wg=f(1144);const yv=["addListener","removeListener"],wT=["addEventListener","removeEventListener"],Zg=["on","off"];function od(n,e,t,r){if((0,Ps.m)(t)&&(r=t,t=void 0),r)return od(n,e,t).pipe(dl(r));const[i,a]=function TE(n){return(0,Ps.m)(n.addEventListener)&&(0,Ps.m)(n.removeEventListener)}(n)?wT.map(d=>m=>n[d](e,m,t)):function DE(n){return(0,Ps.m)(n.addListener)&&(0,Ps.m)(n.removeListener)}(n)?yv.map(vv(n,e)):function bv(n){return(0,Ps.m)(n.on)&&(0,Ps.m)(n.off)}(n)?Zg.map(vv(n,e)):[];if(!i&&(0,Wg.z)(n))return(0,cr.z)(d=>od(d,e,t))((0,Ms.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Nr.y(d=>{const m=(...E)=>d.next(1<E.length?E:E[0]);return i(m),()=>a(m)})}function vv(n,e){return t=>r=>n[t](e,r)}var wv=f(4408);const ad={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=ad;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new Qr.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=ad;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=ad;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var xE=f(7565);const Cv=new class AE extends xE.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Ev extends wv.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=ad.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(ad.cancelAnimationFrame(t),e._scheduled=void 0)}});let Sv,ME=1;const tm={};function Iv(n){return n in tm&&(delete tm[n],!0)}const PE={setImmediate(n){const e=ME++;return tm[e]=!0,Sv||(Sv=Promise.resolve()),Sv.then(()=>Iv(e)&&n()),e},clearImmediate(n){Iv(n)}},{setImmediate:kE,clearImmediate:RE}=PE,nm={setImmediate(...n){const{delegate:e}=nm;return(e?.setImmediate||kE)(...n)},clearImmediate(n){const{delegate:e}=nm;return(e?.clearImmediate||RE)(n)},delegate:void 0};new class FE extends xE.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class OE extends wv.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=nm.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(nm.clearImmediate(t),e._scheduled=void 0)}});var Vh=f(4986),ST=f(3532);function Tv(n=0,e,t=Vh.P){let r=-1;return null!=e&&((0,ST.K)(e)?t=e:r=e),new Nr.y(i=>{let a=function IT(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},a)})}function LE(n,e=Vh.z){return function aR(n){return(0,vr.e)((e,t)=>{let r=!1,i=null,a=null,d=!1;const m=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const I=i;i=null,t.next(I)}d&&t.complete()},E=()=>{a=null,d&&t.complete()};e.subscribe((0,qn.x)(t,I=>{r=!0,i=I,a||(0,Ms.Xf)(n(I)).subscribe(a=(0,qn.x)(t,m,E))},()=>{d=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>Tv(n,e))}let Hr;try{Hr=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Hr=!1}let Bh,di=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function kf(n){return n===Bl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Hr)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xv=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function VE(){if(Bh)return Bh;if("object"!=typeof document||!document)return Bh=new Set(xv),Bh;let n=document.createElement("input");return Bh=new Set(xv.filter(e=>(n.setAttribute("type",e),n.type===e))),Bh}let Hh,ld,Yg;function ro(n){return function BE(){if(null==Hh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Hh=!0}))}finally{Hh=Hh||!1}return Hh}()?n:!!n.capture}function HE(){if(null==ld){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ld=!1,ld;if("scrollBehavior"in document.documentElement.style)ld=!0;else{const n=Element.prototype.scrollTo;ld=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ld}function Uh(n){if(function uR(){if(null==Yg){const n=typeof document<"u"?document.head:null;Yg=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Yg}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function rm(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function ti(n){return n.composedPath?n.composedPath()[0]:n.target}function Av(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const DT=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function Oa(){return(0,s.f3M)(O)}}),$o=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Lc=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new s.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function qo(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?$o.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(DT,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),im=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Mv=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new bt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Nr.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(LE(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):gt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(lr(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Pr(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>od(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.R0b),s.LFG(di),s.LFG(O,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cd=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new bt.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(LE(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(di),s.LFG(s.R0b),s.LFG(O,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),kv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[im,zh],im,zh]}),n})();class Rv{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class jh extends Rv{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class Ov extends Rv{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class LT extends Rv{constructor(e){super(),this.element=e instanceof s.SBq?e.nativeElement:e}}class Xg{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof jh?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Ov?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof LT?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class VT extends Xg{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=d=>{const m=d.element,E=this._document.createComment("dom-portal");m.parentNode.insertBefore(E,m),this.outletElement.appendChild(m),this._attachedPortal=d,super.setDisposeFn(()=>{E.parentNode&&E.parentNode.replaceChild(m,E)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Jg=(()=>{class n extends Xg{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=a=>{const d=a.element,m=this._document.createComment("dom-portal");a.setAttachedHost(this),d.parentNode.insertBefore(m,d),this._getRootNode().appendChild(d),this._attachedPortal=a,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(d,m)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),d=r.createComponent(a,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=t,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(O))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),Fv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var sm=f(6451),BT=f(5032);function hi(n){return(0,vr.e)((e,t)=>{(0,Ms.Xf)(n).subscribe((0,qn.x)(t,()=>t.complete(),BT.Z)),!t.closed&&e.subscribe(t)})}const $E=HE();class qE{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Mr(-this._previousScrollPosition.left),e.style.top=Mr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",d=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),$E&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$E&&(r.scrollBehavior=a,i.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class WE{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Nv{enable(){}disable(){}attach(){}}function e_(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Lv(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class ZE{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();e_(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let KE=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Nv,this.close=d=>new WE(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new qE(this._viewportRuler,this._document),this.reposition=d=>new ZE(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Mv),s.LFG(cd),s.LFG(s.R0b),s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class t_{constructor(e){if(this.scrollStrategy=new Nv,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class ud{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let dd=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SR=(()=>{class n extends dd{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let d=a.length-1;d>-1;d--)if(a[d]._keydownEvents.observers.length>0){const m=a[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(i)):m.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vv=(()=>{class n extends dd{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=ti(a)},this._clickListener=a=>{const d=ti(a),m="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const E=this._attachedOverlays.slice();for(let I=E.length-1;I>-1;I--){const F=E[I];if(F._outsidePointerEvents.observers.length<1||!F.hasAttached())continue;if(F.overlayElement.contains(d)||F.overlayElement.contains(m))break;const W=F._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>W.next(a)):W.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O),s.LFG(di),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XE=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Av()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),Av()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O),s.LFG(di))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class JE{constructor(e,t,r,i,a,d,m,E,I){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=d,this._document=m,this._location=E,this._outsideClickDispatcher=I,this._backdropElement=null,this._backdropClick=new bt.x,this._attachments=new bt.x,this._detachments=new bt.x,this._locationChanges=Qr.w0.EMPTY,this._backdropClickHandler=F=>this._backdropClick.next(F),this._backdropTransitionendHandler=F=>{this._disposeBackdrop(F.target)},this._keydownEvents=new bt.x,this._outsidePointerEvents=new bt.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ar(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Mr(this._config.width),e.height=Mr(this._config.height),e.minWidth=Mr(this._config.minWidth),e.minHeight=Mr(this._config.minHeight),e.maxWidth=Mr(this._config.maxWidth),e.maxHeight=Mr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=sd(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(hi((0,sm.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Bv="cdk-overlay-connected-position-bounding-box",IR=/([A-Za-z%]+)$/;class $t{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new bt.x,this._resizeSubscription=Qr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(Bv),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let d;for(let m of this._preferredPositions){let E=this._getOriginPoint(e,i,m),I=this._getOverlayPoint(E,t,m),F=this._getOverlayFit(I,t,r,m);if(F.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,E);this._canFitWithFlexibleDimensions(F,I,r)?a.push({position:m,origin:E,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(E,m)}):(!d||d.overlayFit.visibleArea<F.visibleArea)&&(d={overlayFit:F,overlayPoint:I,originPoint:E,position:m,overlayRect:t})}if(a.length){let m=null,E=-1;for(const I of a){const F=I.boundingBoxRect.width*I.boundingBoxRect.height*(I.position.weight||1);F>E&&(E=F,m=I)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&hd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Bv),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const d=this._isRtl()?e.right:e.left,m=this._isRtl()?e.left:e.right;i="start"==r.originX?d:m}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=tC(t);let{x:d,y:m}=e,E=this._getOffset(i,"x"),I=this._getOffset(i,"y");E&&(d+=E),I&&(m+=I);let ce=0-m,me=m+a.height-r.height,Ce=this._subtractOverflows(a.width,0-d,d+a.width-r.width),Me=this._subtractOverflows(a.height,ce,me),Ue=Ce*Me;return{visibleArea:Ue,isCompletelyWithinViewport:a.width*a.height===Ue,fitsInViewportVertically:Me===a.height,fitsInViewportHorizontally:Ce==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,d=eC(this._overlayRef.getConfig().minHeight),m=eC(this._overlayRef.getConfig().minWidth),I=e.fitsInViewportHorizontally||null!=m&&m<=a;return(e.fitsInViewportVertically||null!=d&&d<=i)&&I}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=tC(t),a=this._viewportRect,d=Math.max(e.x+i.width-a.width,0),m=Math.max(e.y+i.height-a.height,0),E=Math.max(a.top-r.top-e.y,0),I=Math.max(a.left-r.left-e.x,0);let F=0,W=0;return F=i.width<=a.width?I||-d:e.x<this._viewportMargin?a.left-r.left-e.x:0,W=i.height<=a.height?E||-m:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:F,y:W},{x:e.x+F,y:e.y+W}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new ud(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,d,m,F,W,ce;if("top"===t.overlayY)d=e.y,a=r.height-d+this._viewportMargin;else if("bottom"===t.overlayY)m=r.height-e.y+2*this._viewportMargin,a=r.height-m+this._viewportMargin;else{const me=Math.min(r.bottom-e.y+r.top,e.y),Ce=this._lastBoundingBoxSize.height;a=2*me,d=e.y-me,a>Ce&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.y-Ce/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)ce=r.width-e.x+this._viewportMargin,F=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)W=e.x,F=r.right-e.x;else{const me=Math.min(r.right-e.x+r.left,e.x),Ce=this._lastBoundingBoxSize.width;F=2*me,W=e.x-me,F>Ce&&!this._isInitialRender&&!this._growAfterOpen&&(W=e.x-Ce/2)}return{top:d,left:W,bottom:m,right:ce,width:F,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;i.height=Mr(r.height),i.top=Mr(r.top),i.bottom=Mr(r.bottom),i.width=Mr(r.width),i.left=Mr(r.left),i.right=Mr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=Mr(a)),d&&(i.maxWidth=Mr(d))}this._lastBoundingBoxSize=r,hd(this._boundingBox.style,i)}_resetBoundingBoxStyles(){hd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){hd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(i){const F=this._viewportRuler.getViewportScrollPosition();hd(r,this._getExactOverlayY(t,e,F)),hd(r,this._getExactOverlayX(t,e,F))}else r.position="static";let m="",E=this._getOffset(t,"x"),I=this._getOffset(t,"y");E&&(m+=`translateX(${E}px) `),I&&(m+=`translateY(${I}px)`),r.transform=m.trim(),d.maxHeight&&(i?r.maxHeight=Mr(d.maxHeight):a&&(r.maxHeight="")),d.maxWidth&&(i?r.maxWidth=Mr(d.maxWidth):a&&(r.maxWidth="")),hd(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=Mr(a.y),i}_getExactOverlayX(e,t,r){let d,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),d=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===d?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=Mr(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Lv(e,r),isOriginOutsideView:e_(e,r),isOverlayClipped:Lv(t,r),isOverlayOutsideView:e_(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&sd(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof s.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function hd(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function eC(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(IR);return t&&"px"!==t?null:parseFloat(e)}return n||null}function tC(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const fd="cdk-global-overlay-wrapper";class UT{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(fd),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:d,maxHeight:m}=r,E=!("100%"!==i&&"100vw"!==i||d&&"100%"!==d&&"100vw"!==d),I=!("100%"!==a&&"100vh"!==a||m&&"100%"!==m&&"100vh"!==m);e.position=this._cssPosition,e.marginLeft=E?"0":this._leftOffset,e.marginTop=I?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,E?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=I?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(fd),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let n_=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new UT}flexibleConnectedTo(t){return new $t(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(cd),s.LFG(O),s.LFG(di),s.LFG(XE))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r_=0,Vn=(()=>{class n{constructor(t,r,i,a,d,m,E,I,F,W,ce){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=d,this._injector=m,this._ngZone=E,this._document=I,this._directionality=F,this._location=W,this._outsideClickDispatcher=ce}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),d=new t_(t);return d.direction=d.direction||this._directionality.value,new JE(a,r,i,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+r_++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new VT(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(KE),s.LFG(XE),s.LFG(s._Vd),s.LFG(n_),s.LFG(SR),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(O),s.LFG(Lc),s.LFG(re),s.LFG(Vv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const iC={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Vn],useFactory:function rC(n){return()=>n.scrollStrategies.reposition()}};let om=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Vn,iC],imports:[[im,Fv,kv],kv]}),n})();function pC(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function mC(n){return lr((e,t)=>n<=t)}function gC(n,e=ya.y){return n=n??Ix,(0,vr.e)((t,r)=>{let i,a=!0;t.subscribe((0,qn.x)(r,d=>{const m=e(d);(a||!n(i,m))&&(a=!1,i=m,r.next(d))}))})}function Ix(n,e){return n===e}function Gh(n,e=Vh.z){return(0,vr.e)((t,r)=>{let i=null,a=null,d=null;const m=()=>{if(i){i.unsubscribe(),i=null;const I=a;a=null,r.next(I)}};function E(){const I=d+n,F=e.now();if(F<I)return i=this.schedule(void 0,I-F),void r.add(i);m()}t.subscribe((0,qn.x)(r,I=>{a=I,d=e.now(),i||(i=e.schedule(E,n),r.add(i))},()=>{m(),r.complete()},void 0,()=>{a=i=null}))})}let zv=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_C=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Pr(t);return new Nr.y(i=>{const d=this._observeElement(r).subscribe(i);return()=>{d.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new bt.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(zv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yC=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=qi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Nc(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Gh(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(_C),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),jv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[zv]}),n})();function $v(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const bC="cdk-describedby-message",u_="cdk-describedby-host";let wC=0,xx=(()=>{class n{constructor(t,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+wC++,this._document=t}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const a=pd(r,i);"string"!=typeof r?(EC(r),this._messageRegistry.set(a,{messageElement:r,referenceCount:0})):this._messageRegistry.has(a)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,a)||this._addMessageReference(t,a)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;const a=pd(r,i);if(this._isElementDescribedByMessage(t,a)&&this._removeMessageReference(t,a),"string"==typeof r){const d=this._messageRegistry.get(a);d&&0===d.referenceCount&&this._deleteMessageElement(a)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${u_}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(u_);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");EC(i),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(pd(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let a=0;a<r.length;a++)r[a].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){const r=$v(t,"aria-describedby").filter(i=>0!=i.indexOf(bC));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=this._messageRegistry.get(r);(function vC(n,e,t){const r=$v(n,e);r.some(i=>i.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(u_,this._id),i.referenceCount++}_removeMessageReference(t,r){const i=this._messageRegistry.get(r);i.referenceCount--,function Dx(n,e,t){const i=$v(n,e).filter(a=>a!=t.trim());i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(u_)}_isElementDescribedByMessage(t,r){const i=$v(t,"aria-describedby"),a=this._messageRegistry.get(r),d=a&&a.messageElement.id;return!!d&&-1!=i.indexOf(d)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),a=t.getAttribute("aria-label");return!(!i||a&&a.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O),s.LFG(di))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pd(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function EC(n){n.id||(n.id=`${bC}-${wC++}`)}let $h=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Mx(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Ax(n){try{return n.frameElement}catch{return null}}(function Ox(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===Wv(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),a=Wv(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Zv(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function IC(n){return!function d_(n){return function kx(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Px(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function h_(n){return function Rx(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||qv(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(di))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qv(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Wv(n){if(!qv(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Fx{constructor(e,t,r,i,a=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Ar(1)).subscribe(e)}}let kO=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Fx(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG($h),s.LFG(s.R0b),s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kv(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Yv(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Lx=new s.OlP("cdk-input-modality-detector-options"),MC={ignoreKeys:[18,17,224,91,16]},md=ro({passive:!0,capture:!0});let PC=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new hr(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(m=>m===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ti(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Kv(d)?"keyboard":"mouse"),this._mostRecentTarget=ti(d))},this._onTouchstart=d=>{Yv(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ti(d))},this._options={...MC,...a},this.modalityDetected=this._modality.pipe(mC(1)),this.modalityChanged=this.modalityDetected.pipe(gC()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,md),i.addEventListener("mousedown",this._onMousedown,md),i.addEventListener("touchstart",this._onTouchstart,md)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,md),document.removeEventListener("mousedown",this._onMousedown,md),document.removeEventListener("touchstart",this._onTouchstart,md))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(di),s.LFG(s.R0b),s.LFG(O),s.LFG(Lx,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kC=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function RC(){return null}}),Vx=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Qv=(()=>{class n{constructor(t,r,i,a){this._ngZone=r,this._defaultOptions=a,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let a,d;return 1===r.length&&"number"==typeof r[0]?d=r[0]:[a,d]=r,this.clear(),clearTimeout(this._previousTimeout),a||(a=i&&i.politeness?i.politeness:"polite"),null==d&&i&&(d=i.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(m=>this._currentResolve=m)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let a=0;a<r.length;a++)r[a].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(kC,8),s.LFG(s.R0b),s.LFG(O),s.LFG(Vx,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hx=new s.OlP("cdk-focus-monitor-default-options"),lm=ro({passive:!0,capture:!0});let p_=(()=>{class n{constructor(t,r,i,a,d){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new bt.x,this._rootNodeFocusAndBlurListener=m=>{const E=ti(m),I="focus"===m.type?this._onFocus:this._onBlur;for(let F=E;F;F=F.parentElement)I.call(this,m,F)},this._document=a,this._detectionMode=d?.detectionMode||0}monitor(t,r=!1){const i=Pr(t);if(!this._platform.isBrowser||1!==i.nodeType)return gt(null);const a=Uh(i)||this._getDocument(),d=this._elementInfo.get(i);if(d)return r&&(d.checkChildren=!0),d.subject;const m={checkChildren:r,subject:new bt.x,rootNode:a};return this._elementInfo.set(i,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(t){const r=Pr(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=Pr(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([m,E])=>this._originChanged(m,r,E)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=ti(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,lm),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,lm)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(hi(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lm),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lm),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.R0b),s.LFG(di),s.LFG(PC),s.LFG(O,8),s.LFG(Hx,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gd="cdk-high-contrast-black-on-white",OC="cdk-high-contrast-white-on-black",Xv="cdk-high-contrast-active";let Ux=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Xv),t.remove(gd),t.remove(OC),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Xv),t.add(gd)):2===r&&(t.add(Xv),t.add(OC))}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(di),s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OO=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ux))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[jv]]}),n})();const t0=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function jx(){return!0}});let pr=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Av()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ux),s.LFG(t0,8),s.LFG(O))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[im],im]}),n})();function BO(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=qi(e)}}}function cm(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function $x(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=qi(e)}}}function qh(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new bt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let s0=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Xx{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const o0={enterDuration:225,exitDuration:150},g_=ro({passive:!0}),a0=["mousedown","touchstart"],VC=["mouseup","mouseleave","touchend","touchcancel"];class Jx{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Pr(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...o0,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const d=r.radius||function BC(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),m=e-i.left,E=t-i.top,I=a.enterDuration,F=document.createElement("div");F.classList.add("mat-ripple-element"),F.style.left=m-d+"px",F.style.top=E-d+"px",F.style.height=2*d+"px",F.style.width=2*d+"px",null!=r.color&&(F.style.backgroundColor=r.color),F.style.transitionDuration=`${I}ms`,this._containerElement.appendChild(F),function WO(n){window.getComputedStyle(n).getPropertyValue("opacity")}(F),F.style.transform="scale(1)";const W=new Xx(this,F,r);return W.state=0,this._activeRipples.add(W),r.persistent||(this._mostRecentTransientRipple=W),this._runTimeoutOutsideZone(()=>{const ce=W===this._mostRecentTransientRipple;W.state=1,!r.persistent&&(!ce||!this._isPointerDown)&&W.fadeOut()},I),W}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i={...o0,...e.config.animation};r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Pr(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(a0))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(VC),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Kv(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Yv(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,g_)})})}_removeTriggerEvents(){this._triggerElement&&(a0.forEach(e=>{this._triggerElement.removeEventListener(e,this,g_)}),this._pointerUpEventsRegistered&&VC.forEach(e=>{this._triggerElement.removeEventListener(e,this,g_)}))}}const ZO=new s.OlP("mat-ripple-global-options");let eA=(()=>{class n{constructor(t,r,i,a,d){this._elementRef=t,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new Jx(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(di),s.Y36(ZO,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&s.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),tA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[pr],pr]}),n})(),KO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[pr]]}),n})(),UC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[tA,yi,pr,KO]]}),n})();class u0{}const Tl="*";function Vc(n,e){return{type:7,name:n,definitions:e,options:{}}}function Fs(n,e=null){return{type:4,styles:e,timings:n}}function dm(n,e=null){return{type:3,steps:n,options:e}}function zC(n,e=null){return{type:2,steps:n,options:e}}function jn(n){return{type:6,styles:n,offset:null}}function Wo(n,e,t){return{type:0,name:n,styles:e,options:t}}function fs(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function d0(n=null){return{type:9,options:n}}function h0(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function f0(n){Promise.resolve().then(n)}class __{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){f0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class bo{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?f0(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==a&&this._onFinish()}),d.onDestroy(()=>{++r==a&&this._onDestroy()}),d.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((d,m)=>Math.max(d,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function m0(n,e){}class g0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const wo={dialogContainer:Vc("dialogContainer",[Wo("void, exit",jn({opacity:0,transform:"scale(0.7)"})),Wo("enter",jn({transform:"none"})),fs("* => enter",dm([Fs("150ms cubic-bezier(0, 0, 0.2, 1)",jn({transform:"none",opacity:1})),h0("@*",d0(),{optional:!0})])),fs("* => void, * => exit",dm([Fs("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",jn({opacity:0})),h0("@*",d0(),{optional:!0})]))])};let _0=(()=>{class n extends Xg{constructor(t,r,i,a,d,m,E,I){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=d,this._interactivityChecker=m,this._ngZone=E,this._focusMonitor=I,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=F=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(F)),this._ariaLabelledBy=d.ariaLabelledBy||null,this._document=a}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=rm())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=rm(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=rm();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(kO),s.Y36(s.sBO),s.Y36(O,8),s.Y36(g0),s.Y36($h),s.Y36(s.R0b),s.Y36(p_))},n.\u0275dir=s.lG2({type:n,viewQuery:function(t,r){if(1&t&&s.Gf(Jg,7),2&t){let i;s.iGM(i=s.CRH())&&(r._portalOutlet=i.first)}},features:[s.qOj]}),n})(),aA=(()=>{class n extends _0{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&s.WFA("@dialogContainer.start",function(a){return r._onAnimationStart(a)})("@dialogContainer.done",function(a){return r._onAnimationDone(a)}),2&t&&(s.Ikx("id",r._id),s.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),s.d8E("@dialogContainer",r._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&s.YNc(0,m0,0,0,"ng-template",0)},dependencies:[Jg],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[wo.dialogContainer]}}),n})(),lA=0;class xl{constructor(e,t,r="mat-dialog-"+lA++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new bt.x,this._afterClosed=new bt.x,this._beforeClosed=new bt.x,this._state=0,t._id=r,t._animationStateChanged.pipe(lr(i=>"opened"===i.state),Ar(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(lr(i=>"closed"===i.state),Ar(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(lr(i=>27===i.keyCode&&!this.disableClose&&!pC(i))).subscribe(i=>{i.preventDefault(),y0(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():y0(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(lr(t=>"closing"===t.state),Ar(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function y0(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const hm=new s.OlP("MatDialogData"),cA=new s.OlP("mat-dialog-default-options"),v0=new s.OlP("mat-dialog-scroll-strategy"),jC={provide:v0,deps:[Vn],useFactory:function dA(n){return()=>n.scrollStrategies.block()}};let hA=(()=>{class n{constructor(t,r,i,a,d,m,E,I,F,W){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=d,this._dialogRefConstructor=E,this._dialogContainerType=I,this._dialogDataToken=F,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new bt.x,this._afterOpenedAtThisLevel=new bt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=ba(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(bi(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){r=function Bc(n,e){return{...e,...n}}(r,this._defaultOptions||new g0),r.id&&this.getDialogById(r.id);const i=this._createOverlay(r),a=this._attachDialogContainer(i,r),d=this._attachDialogContent(t,a,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.afterClosed().subscribe(()=>this._removeOpenDialog(d)),this.afterOpened.next(d),a._initializeWithAttachedContent(),d}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new t_({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const a=s.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:g0,useValue:r}]}),d=new jh(this._dialogContainerType,r.viewContainerRef,a,r.componentFactoryResolver);return t.attach(d).instance}_attachDialogContent(t,r,i,a){const d=new this._dialogRefConstructor(i,r,a.id);if(t instanceof s.Rgc)r.attachTemplatePortal(new Ov(t,null,{$implicit:a.data,dialogRef:d}));else{const m=this._createInjector(a,d,r),E=r.attachComponentPortal(new jh(t,a.viewContainerRef,m,a.componentFactoryResolver));d.componentInstance=E.instance}return d.updateSize(a.width,a.height).updatePosition(a.position),d}_createInjector(t,r,i){const a=t&&t.viewContainerRef&&t.viewContainerRef.injector,d=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!a||!a.get(Lc,null,s.XFs.Optional))&&d.push({provide:Lc,useValue:{value:t.direction,change:gt()}}),s.zs3.create({parent:a||this._injector,providers:d})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,a)=>{i?a.setAttribute("aria-hidden",i):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let a=r[i];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){s.$Z()},n.\u0275dir=s.lG2({type:n}),n})(),Al=(()=>{class n extends hA{constructor(t,r,i,a,d,m,E,I){super(t,r,a,m,E,d,xl,aA,hm,I)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Vn),s.LFG(s.zs3),s.LFG(re,8),s.LFG(cA,8),s.LFG(v0),s.LFG(n,12),s.LFG(XE),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),GC=0,Fa=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+GC++}ngOnInit(){this._dialogRef||(this._dialogRef=function fA(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(xl,8),s.Y36(s.SBq),s.Y36(Al))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&s.Ikx("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),b0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),eF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})(),w0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Al,jC],imports:[[om,Fv,pr],pr]}),n})();var He=f(5861),wi=f(4976);function y_(){return(0,vr.e)((n,e)=>{let t,r=!1;n.subscribe((0,qn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var yt,Na=f(2011),mA=(f(3042),f(3942)),Hc=f(6881),E0=f(4859),La=f(1877),Cn=f(2090),qC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Eo={},v_=v_||{},Yt=qC||self;function _d(){}function fm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function pm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var b_="closure_uid_"+(1e9*Math.random()>>>0),gA=0;function _A(n,e,t){return n.call.apply(n.bind,arguments)}function tF(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ps(n,e,t){return(ps=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_A:tF).apply(null,arguments)}function mm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ei(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[i].apply(r,d)}}function Uc(){this.s=this.s,this.o=this.o}Uc.prototype.s=!1,Uc.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function WC(n){Object.prototype.hasOwnProperty.call(n,b_)&&n[b_]||(n[b_]=++gA)}(this)},Uc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vA=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ZC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function bA(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(fm(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let d=0;d<a;d++)n[i+d]=r[d]}else n.push(r)}}function ms(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ms.prototype.h=function(){this.defaultPrevented=!0};var nF=function(){if(!Yt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Yt.addEventListener("test",_d,e),Yt.removeEventListener("test",_d,e)}catch{}return n}();function w_(n){return/^[\s\xa0]*$/.test(n)}var gm=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function C0(n,e){return n<e?-1:n>e?1:0}function E_(){var n=Yt.navigator;return n&&(n=n.userAgent)?n:""}function Zo(n){return-1!=E_().indexOf(n)}function Ml(n){return Ml[" "](n),n}function S0(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Ml[" "]=_d;var D0,n,I0=Zo("Opera"),zc=Zo("Trident")||Zo("MSIE"),KC=Zo("Edge"),_m=KC||zc,C_=Zo("Gecko")&&!(-1!=E_().toLowerCase().indexOf("webkit")&&!Zo("Edge"))&&!(Zo("Trident")||Zo("MSIE"))&&!Zo("Edge"),S_=-1!=E_().toLowerCase().indexOf("webkit")&&!Zo("Edge");function wA(){var n=Yt.document;return n?n.documentMode:void 0}e:{var YC="",QC=(n=E_(),C_?/rv:([^\);]+)(\)|;)/.exec(n):KC?/Edge\/([\d\.]+)/.exec(n):zc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):S_?/WebKit\/(\S+)/.exec(n):I0?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(QC&&(YC=QC?QC[1]:""),zc){var I_=wA();if(null!=I_&&I_>parseFloat(YC)){D0=String(I_);break e}}D0=YC}var EA={},JC=Yt.document&&zc&&(wA()||parseInt(D0,10))||void 0;function Wh(n,e){if(ms.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(C_){e:{try{Ml(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:eS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wh.$.h.call(this)}}Ei(Wh,ms);var eS={2:"touch",3:"pen",4:"mouse"};Wh.prototype.h=function(){Wh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ym="closure_listenable_"+(1e6*Math.random()|0),SA=0;function tS(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++SA,this.fa=this.ia=!1}function Zh(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function nS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function x0(n){const e={};for(const t in n)e[t]=n[t];return e}const D_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rS(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<D_.length;a++)t=D_[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function T_(n){this.src=n,this.g={},this.h=0}function iS(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=vA(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Zh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function sS(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}T_.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=sS(n,e,r,i);return-1<d?(e=n[d],t||(e.ia=!1)):((e=new tS(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var A0="closure_lm_"+(1e6*Math.random()|0),M0={};function oS(n,e,t,r,i){if(r&&r.once)return DA(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)oS(n,e[a],t,r,i);return null}return t=dS(t),n&&n[ym]?n.O(e,t,pm(r)?!!r.capture:!!r,i):IA(n,e,t,!1,r,i)}function IA(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var d=pm(i)?!!i.capture:!!i,m=cS(n);if(m||(n[A0]=m=new T_(n)),(t=m.add(e,t,r,d,a)).proxy)return t;if(r=function rF(){const e=iF;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)nF||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(lS(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function DA(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)DA(n,e[a],t,r,i);return null}return t=dS(t),n&&n[ym]?n.P(e,t,pm(r)?!!r.capture:!!r,i):IA(n,e,t,!0,r,i)}function TA(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)TA(n,e[a],t,r,i);else r=pm(r)?!!r.capture:!!r,t=dS(t),n&&n[ym]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=sS(a=n.g[e],t,r,i))&&(Zh(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=cS(n))&&(e=n.g[e.toString()],n=-1,e&&(n=sS(e,t,r,i)),(t=-1<n?e[n]:null)&&aS(t))}function aS(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ym])iS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(lS(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=cS(e))?(iS(t,n),0==t.h&&(t.src=null,e[A0]=null)):Zh(n)}}}function lS(n){return n in M0?M0[n]:M0[n]="on"+n}function iF(n,e){if(n.fa)n=!0;else{e=new Wh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&aS(n),n=t.call(r,e)}return n}function cS(n){return(n=n[A0])instanceof T_?n:null}var uS="__closure_events_fn_"+(1e9*Math.random()>>>0);function dS(n){return"function"==typeof n?n:(n[uS]||(n[uS]=function(e){return n.handleEvent(e)}),n[uS])}function Ni(){Uc.call(this),this.i=new T_(this),this.S=this,this.J=null}function Wi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ms(e,n);else if(e instanceof ms)e.target=e.target||n;else{var i=e;rS(e=new ms(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var d=e.g=t[a];i=o(d,r,!0,e)&&i}if(i=o(d=e.g=n,r,!0,e)&&i,i=o(d,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=o(d=e.g=t[a],r,!1,e)&&i}function o(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var d=e[a];if(d&&!d.fa&&d.capture==t){var m=d.listener,E=d.la||d.src;d.ia&&iS(n.i,d),i=!1!==m.call(E,r)&&i}}return i&&!r.defaultPrevented}Ei(Ni,Uc),Ni.prototype[ym]=!0,Ni.prototype.removeEventListener=function(n,e,t,r){TA(this,n,e,t,r)},Ni.prototype.N=function(){if(Ni.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Zh(t[r]);delete n.g[e],n.h--}}this.J=null},Ni.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ni.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var l=Yt.JSON.stringify;function u(){var n=de;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var L,g=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new w,n=>n.reset());class w{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function S(n){Yt.setTimeout(()=>{throw n},0)}function k(n,e){L||function Y(){var n=Yt.Promise.resolve(void 0);L=function(){n.then(Ee)}}(),se||(L(),se=!0),de.add(n,e)}var se=!1,de=new class p{constructor(){this.h=this.g=null}add(e,t){const r=g.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Ee(){for(var n;n=u();){try{n.h.call(n.g)}catch(t){S(t)}var e=g;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}se=!1}function ke(n,e){Ni.call(this),this.h=n||1,this.g=e||Yt,this.j=ps(this.qb,this),this.l=Date.now()}function Ge(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function tt(n,e,t){if("function"==typeof n)t&&(n=ps(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ps(n.handleEvent,n)}return 2147483647<Number(e)?-1:Yt.setTimeout(n,e||0)}function ct(n){n.g=tt(()=>{n.g=null,n.i&&(n.i=!1,ct(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ei(ke,Ni),(yt=ke.prototype).ga=!1,yt.T=null,yt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wi(this,"tick"),this.ga&&(Ge(this),this.start()))}},yt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yt.N=function(){ke.$.N.call(this),Ge(this),delete this.g};class Tt extends Uc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ct(this)}N(){super.N(),this.g&&(Yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rt(n){Uc.call(this),this.h=n,this.g={}}Ei(Rt,Uc);var We=[];function qt(n,e,t,r){Array.isArray(t)||(t&&(We[0]=t.toString()),t=We);for(var i=0;i<t.length;i++){var a=oS(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Dn(n){nS(n.g,function(e,t){this.g.hasOwnProperty(t)&&aS(e)},n),n.g={}}function Zn(){this.g=!0}function jc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function R0(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<i.length;d++)i[d]=""}}}return l(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Rt.prototype.N=function(){Rt.$.N.call(this),Dn(this)},Rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zn.prototype.Ea=function(){this.g=!1},Zn.prototype.info=function(){};var Pl={},x_=null;function Kh(){return x_=x_||new Ni}function A_(n){ms.call(this,Pl.Ta,n)}function vd(n){const e=Kh();Wi(e,new A_(e))}function sF(n,e){ms.call(this,Pl.STAT_EVENT,n),this.stat=e}function io(n){const e=Kh();Wi(e,new sF(e,n))}function oF(n,e){ms.call(this,Pl.Ua,n),this.size=e}function O0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Yt.setTimeout(function(){n()},e)}Pl.Ta="serverreachability",Ei(A_,ms),Pl.STAT_EVENT="statevent",Ei(sF,ms),Pl.Ua="timingevent",Ei(oF,ms);var hS={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},aF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xA(){}function cF(){}xA.prototype.h=null;var PA,F0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function AA(){ms.call(this,"d")}function MA(){ms.call(this,"c")}function fS(){}function N0(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Rt(this),this.P=D3,this.V=new ke(n=_m?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new uF}function uF(){this.i=null,this.g="",this.h=!1}Ei(AA,ms),Ei(MA,ms),Ei(fS,xA),fS.prototype.g=function(){return new XMLHttpRequest},fS.prototype.i=function(){return{}},PA=new fS;var D3=45e3,kA={},pS={};function RA(n,e,t){n.L=1,n.v=yS(bd(e)),n.s=t,n.S=!0,dF(n,null)}function dF(n,e){n.G=Date.now(),L0(n),n.A=bd(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),wF(t.i,"t",r),n.C=0,t=n.l.I,n.h=new uF,n.g=$F(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Tt(ps(n.Pa,n,n.g),n.O)),qt(n.U,n.g,"readystatechange",n.nb),e=n.I?x0(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),vd(),function yd(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var d="",m=a.split("&"),E=0;E<m.length;E++){var I=m[E].split("=");if(1<I.length){var F=I[0];I=I[1];var W=F.split("_");d=2<=W.length&&"type"==W[1]?d+(F+"=")+I+"&":d+(F+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.W,n.s)}function hF(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function fF(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=T3(n,t),i==pS){4==e&&(n.o=4,io(14),r=!1),jc(n.j,n.m,null,"[Incomplete Response]");break}if(i==kA){n.o=4,io(15),jc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}jc(n.j,n.m,i,null),OA(n,i)}hF(n)&&i!=pS&&i!=kA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,io(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),zA(e),e.L=!0,io(11))):(jc(n.j,n.m,t,"[Invalid Chunked Response]"),vm(n),V0(n))}function T3(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?pS:(t=Number(e.substring(t,r)),isNaN(t)?kA:(r+=1)+t>e.length?pS:(e=e.substr(r,t),n.C=r+t,e))}function L0(n){n.Y=Date.now()+n.P,pF(n,n.P)}function pF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=O0(ps(n.lb,n),e)}function mS(n){n.B&&(Yt.clearTimeout(n.B),n.B=null)}function V0(n){0==n.l.H||n.J||UF(n.l,n)}function vm(n){mS(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Ge(n.V),Dn(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function OA(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||FA(t.h,n)))if(!n.K&&FA(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;SS(t),ES(t)}UA(t),io(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=O0(ps(t.ib,t),6e3));if(1>=SF(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else wm(t,11)}else if((n.K||t.g==n)&&SS(t),!w_(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let I=i[e];if(t.V=I[0],I=I[1],2==t.H)if("c"==I[0]){t.J=I[1],t.oa=I[2];const F=I[3];null!=F&&(t.qa=F,t.j.info("VER="+t.qa));const W=I[4];null!=W&&(t.Ga=W,t.j.info("SVER="+t.Ga));const ce=I[5];null!=ce&&"number"==typeof ce&&0<ce&&(t.K=r=1.5*ce,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const me=n.g;if(me){const Ce=me.g?me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ce){var a=r.h;a.g||-1==Ce.indexOf("spdy")&&-1==Ce.indexOf("quic")&&-1==Ce.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(NA(a,a.h),a.h=null))}if(r.F){const Me=me.g?me.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(r.Da=Me,kr(r.G,r.F,Me))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var d=n;if((r=t).wa=GF(r,r.I?r.oa:null,r.Y),d.K){IF(r.h,d);var m=d,E=r.K;E&&m.setTimeout(E),m.B&&(mS(m),L0(m)),r.g=d}else BF(r);0<t.i.length&&CS(t)}else"stop"!=I[0]&&"close"!=I[0]||wm(t,7);else 3==t.H&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?wm(t,7):HA(t):"noop"!=I[0]&&t.l&&t.l.Aa(I),t.A=0)}vd()}catch{}}function mF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(fm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function A3(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(fm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function x3(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(fm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(yt=N0.prototype).setTimeout=function(n){this.P=n},yt.nb=function(n){n=n.target;const e=this.M;e&&3==wd(n)?e.l():this.Pa(n)},yt.Pa=function(n){try{if(n==this.g)e:{const F=wd(this.g);var e=this.g.Ia();if(this.g.da(),!(3>F)&&(3!=F||_m||this.g&&(this.h.h||this.g.ja()||RF(this.g)))){this.J||4!=F||7==e||vd(),mS(this);var t=this.g.da();this.aa=t;t:if(hF(this)){var r=RF(this.g);n="";var i=r.length,a=4==wd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){vm(this),V0(this);var d="";break t}this.h.i=new Yt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==t,function P0(n,e,t,r,i,a,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.W,F,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w_(m)){var I=m;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,io(12),vm(this),V0(this);break e}jc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,OA(this,t)}this.S?(fF(this,F,d),_m&&this.i&&3==F&&(qt(this.U,this.V,"tick",this.mb),this.V.start())):(jc(this.j,this.m,d,null),OA(this,d)),4==F&&vm(this),this.i&&!this.J&&(4==F?UF(this.l,this):(this.i=!1,L0(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,io(12)):(this.o=0,io(13)),vm(this),V0(this)}}}catch{}},yt.mb=function(){if(this.g){var n=wd(this.g),e=this.g.ja();this.C<e.length&&(mS(this),fF(this,n,e),this.i&&4!=n&&L0(this))}},yt.cancel=function(){this.J=!0,vm(this)},yt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function k0(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(vd(),io(17)),vm(this),this.o=2,V0(this)):pF(this,this.Y-n)};var gF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bm(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof bm){this.h=void 0!==e?e:n.h,gS(this,n.j),this.s=n.s,this.g=n.g,_S(this,n.m),this.l=n.l,e=n.i;var t=new U0;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),_F(this,t),this.o=n.o}else n&&(t=String(n).match(gF))?(this.h=!!e,gS(this,t[1]||"",!0),this.s=B0(t[2]||""),this.g=B0(t[3]||"",!0),_S(this,t[4]),this.l=B0(t[5]||"",!0),_F(this,t[6]||"",!0),this.o=B0(t[7]||"")):(this.h=!!e,this.i=new U0(null,this.h))}function bd(n){return new bm(n)}function gS(n,e,t){n.j=t?B0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function _S(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function _F(n,e,t){e instanceof U0?(n.i=e,function N3(n,e){e&&!n.j&&(Yh(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(vF(this,r),wF(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=H0(e,O3)),n.i=new U0(e,n.h))}function kr(n,e,t){n.i.set(e,t)}function yS(n){return kr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function B0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function H0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,P3),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function P3(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bm.prototype.toString=function(){var n=[],e=this.j;e&&n.push(H0(e,yF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(H0(e,yF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(H0(t,"/"==t.charAt(0)?R3:k3,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",H0(t,F3)),n.join("")};var yF=/[#\/\?@]/g,k3=/[#\?:]/g,R3=/[#\?]/g,O3=/[#\?@]/g,F3=/#/g;function U0(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Yh(n){n.g||(n.g=new Map,n.h=0,n.i&&function M3(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vF(n,e){Yh(n),e=M_(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function bF(n,e){return Yh(n),e=M_(n,e),n.g.has(e)}function wF(n,e,t){vF(n,e),0<t.length&&(n.i=null,n.g.set(M_(n,e),ZC(t)),n.h+=t.length)}function M_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function EF(n){this.l=n||V3,n=Yt.PerformanceNavigationTiming?0<(n=Yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Yt.g&&Yt.g.Ka&&Yt.g.Ka()&&Yt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(yt=U0.prototype).add=function(n,e){Yh(this),this.i=null,n=M_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},yt.forEach=function(n,e){Yh(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},yt.sa=function(){Yh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},yt.Z=function(n){Yh(this);let e=[];if("string"==typeof n)bF(this,n)&&(e=e.concat(this.g.get(M_(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},yt.set=function(n,e){return Yh(this),this.i=null,bF(this,n=M_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},yt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},yt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),d=this.Z(r);for(r=0;r<d.length;r++){var i=a;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var V3=10;function CF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function SF(n){return n.h?1:n.g?n.g.size:0}function FA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function NA(n,e){n.g?n.g.add(e):n.h=e}function IF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function DF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ZC(n.i)}function LA(){}function B3(){this.g=new LA}function H3(n,e,t){const r=t||"";try{mF(n,function(i,a){let d=i;pm(i)&&(d=l(i)),e.push(r+a+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vS(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function z0(n){this.l=n.fc||null,this.j=n.ob||!1}function bS(n,e){Ni.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=VA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}EF.prototype.cancel=function(){if(this.i=DF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},LA.prototype.stringify=function(n){return Yt.JSON.stringify(n,void 0)},LA.prototype.parse=function(n){return Yt.JSON.parse(n,void 0)},Ei(z0,xA),z0.prototype.g=function(){return new bS(this.l,this.j)},z0.prototype.i=function(n){return function(){return n}}({}),Ei(bS,Ni);var VA=0;function TF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function j0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,G0(n)}function G0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(yt=bS.prototype).open=function(n,e){if(this.readyState!=VA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,G0(this)},yt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Yt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},yt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,j0(this)),this.readyState=VA},yt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,G0(this)),this.g&&(this.readyState=3,G0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Yt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},yt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?j0(this):G0(this),3==this.readyState&&TF(this)}},yt.Za=function(n){this.g&&(this.response=this.responseText=n,j0(this))},yt.Ya=function(n){this.g&&(this.response=n,j0(this))},yt.ka=function(){this.g&&j0(this)},yt.setRequestHeader=function(n,e){this.v.append(n,e)},yt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},yt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(bS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var z3=Yt.JSON.parse;function ni(n){Ni.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xF,this.L=this.M=!1}Ei(ni,Ni);var xF="",j3=/^https?$/i,G3=["POST","PUT"];function AF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,MF(n),wS(n)}function MF(n){n.F||(n.F=!0,Wi(n,"complete"),Wi(n,"error"))}function PF(n){if(n.h&&typeof v_<"u"&&(!n.C[1]||4!=wd(n)||2!=n.da()))if(n.v&&4==wd(n))tt(n.La,0,n);else if(Wi(n,"readystatechange"),4==wd(n)){n.h=!1;try{const m=n.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.I).match(gF)[1]||null;if(!i&&Yt.self&&Yt.self.location){var a=Yt.self.location.protocol;i=a.substr(0,a.length-1)}r=!j3.test(i?i.toLowerCase():"")}t=r}if(t)Wi(n,"complete"),Wi(n,"success");else{n.m=6;try{var d=2<wd(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.da()+"]",MF(n)}}finally{wS(n)}}}function wS(n,e){if(n.g){kF(n);const t=n.g,r=n.C[0]?_d:null;n.g=null,n.C=null,e||Wi(n,"ready");try{t.onreadystatechange=r}catch{}}}function kF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Yt.clearTimeout(n.A),n.A=null)}function wd(n){return n.g?n.g.readyState:0}function RF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case xF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function OF(n){let e="";return nS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function BA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=OF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):kr(n,e,t))}function $0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function FF(n){this.Ga=0,this.i=[],this.j=new Zn,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$0("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$0("baseRetryDelayMs",5e3,n),this.hb=$0("retryDelaySeedMs",1e4,n),this.eb=$0("forwardChannelMaxRetries",2,n),this.xa=$0("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new EF(n&&n.concurrentRequestLimit),this.Ja=new B3,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function HA(n){if(NF(n),3==n.H){var e=n.W++,t=bd(n.G);kr(t,"SID",n.J),kr(t,"RID",e),kr(t,"TYPE","terminate"),q0(n,t),(e=new N0(n,n.j,e,void 0)).L=2,e.v=yS(bd(t)),t=!1,Yt.navigator&&Yt.navigator.sendBeacon&&(t=Yt.navigator.sendBeacon(e.v.toString(),"")),!t&&Yt.Image&&((new Image).src=e.v,t=!0),t||(e.g=$F(e.l,null),e.g.ha(e.v)),e.G=Date.now(),L0(e)}jF(n)}function ES(n){n.g&&(zA(n),n.g.cancel(),n.g=null)}function NF(n){ES(n),n.u&&(Yt.clearTimeout(n.u),n.u=null),SS(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Yt.clearTimeout(n.m),n.m=null)}function CS(n){CF(n.h)||n.m||(n.m=!0,k(n.Na,n),n.C=0)}function LF(n,e){var t;t=e?e.m:n.W++;const r=bd(n.G);kr(r,"SID",n.J),kr(r,"RID",t),kr(r,"AID",n.V),q0(n,r),n.o&&n.s&&BA(r,n.o,n.s),t=new N0(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=VF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),NA(n.h,t),RA(t,r,e)}function q0(n,e){n.ma&&nS(n.ma,function(t,r){kr(e,r,t)}),n.l&&mF({},function(t,r){kr(e,r,t)})}function VF(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ps(n.l.Va,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const d=["count="+t];-1==a?0<t?(a=i[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let m=!0;for(let E=0;E<t;E++){let I=i[E].h;const F=i[E].g;if(I-=a,0>I)a=Math.max(0,i[E].h-100),m=!1;else try{H3(F,d,"req"+I+"_")}catch{r&&r(F)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function BF(n){n.g||n.u||(n.ba=1,k(n.Ma,n),n.A=0)}function UA(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=O0(ps(n.Ma,n),zF(n,n.A)),n.A++,0))}function zA(n){null!=n.B&&(Yt.clearTimeout(n.B),n.B=null)}function HF(n){n.g=new N0(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=bd(n.wa);kr(e,"RID","rpc"),kr(e,"SID",n.J),kr(e,"CI",n.M?"0":"1"),kr(e,"AID",n.V),kr(e,"TYPE","xmlhttp"),q0(n,e),n.o&&n.s&&BA(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=yS(bd(e)),t.s=null,t.S=!0,dF(t,n)}function SS(n){null!=n.v&&(Yt.clearTimeout(n.v),n.v=null)}function UF(n,e){var t=null;if(n.g==e){SS(n),zA(n),n.g=null;var r=2}else{if(!FA(n.h,e))return;t=e.F,IF(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Wi(r=Kh(),new oF(r,t)),CS(n)}else BF(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function q3(n,e){return!(SF(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=O0(ps(n.Na,n,e),zF(n,n.C)),n.C++,0)))}(n,e)||2==r&&UA(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:wm(n,5);break;case 4:wm(n,10);break;case 3:wm(n,6);break;default:wm(n,2)}}function zF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function wm(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ps(n.pb,n);t||(t=new bm("//www.google.com/images/cleardot.gif"),Yt.location&&"http"==Yt.location.protocol||gS(t,"https"),yS(t)),function U3(n,e){const t=new Zn;if(Yt.Image){const r=new Image;r.onload=mm(vS,t,r,"TestLoadImage: loaded",!0,e),r.onerror=mm(vS,t,r,"TestLoadImage: error",!1,e),r.onabort=mm(vS,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=mm(vS,t,r,"TestLoadImage: timeout",!1,e),Yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else io(2);n.H=0,n.l&&n.l.za(e),jF(n),NF(n)}function jF(n){if(n.H=0,n.pa=[],n.l){const e=DF(n.h);(0!=e.length||0!=n.i.length)&&(bA(n.pa,e),bA(n.pa,n.i),n.h.i.length=0,ZC(n.i),n.i.length=0),n.l.ya()}}function GF(n,e,t){var r=t instanceof bm?bd(t):new bm(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),_S(r,r.m);else{var i=Yt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new bm(null,void 0);r&&gS(a,r),e&&(a.g=e),i&&_S(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&kr(r,t,e),kr(r,"VER",n.qa),q0(n,r),r}function $F(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ni(t&&n.Ha&&!n.va?new z0({ob:!0}):n.va)).Oa(n.I),e}function qF(){}function IS(){if(zc&&!(10<=Number(JC)))throw Error("Environmental error: no available transport.")}function Ko(n,e){Ni.call(this),this.g=new FF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!w_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!w_(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new P_(this)}function WF(n){AA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ZF(){MA.call(this),this.status=1}function P_(n){this.g=n}function kl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function jA(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],d=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;d=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(d<<7&4294967295|d>>>25))+((d=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((a=(e=t+((d=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((i=a+((d=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(d<<21&4294967295|d>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function Kn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(yt=ni.prototype).Oa=function(n){this.M=n},yt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():PA.g(),this.C=function lF(n){return n.h||(n.h=n.i())}(this.u?this.u:PA),this.g.onreadystatechange=ps(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void AF(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Yt.FormData&&n instanceof Yt.FormData,!(0<=vA(G3,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,d]of t)this.g.setRequestHeader(a,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{kF(this),0<this.B&&((this.L=function $3(n){return zc&&function CA(){return S0(EA,9,function(){let n=0;const e=gm(String(D0)).split("."),t=gm("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",a=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=C0(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||C0(0==i[2].length,0==a[2].length)||C0(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ps(this.ua,this)):this.A=tt(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){AF(this,a)}},yt.ua=function(){typeof v_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wi(this,"timeout"),this.abort(8))},yt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Wi(this,"complete"),Wi(this,"abort"),wS(this))},yt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wS(this,!0)),ni.$.N.call(this)},yt.La=function(){this.s||(this.G||this.v||this.l?PF(this):this.kb())},yt.kb=function(){PF(this)},yt.da=function(){try{return 2<wd(this)?this.g.status:-1}catch{return-1}},yt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},yt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),z3(e)}},yt.Ia=function(){return this.m},yt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(yt=FF.prototype).qa=8,yt.H=1,yt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new N0(this,this.j,n,void 0);let a=this.s;if(this.U&&(a?(a=x0(a),rS(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=VF(this,i,e),kr(t=bd(this.G),"RID",n),kr(t,"CVER",22),this.F&&kr(t,"X-HTTP-Session-Id",this.F),q0(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(OF(a)))+"&"+e:this.o&&BA(t,this.o,a)),NA(this.h,i),this.bb&&kr(t,"TYPE","init"),this.P?(kr(t,"$req",e),kr(t,"SID","null"),i.ba=!0,RA(i,t,null)):RA(i,t,e),this.H=2}}else 3==this.H&&(n?LF(this,n):0==this.i.length||CF(this.h)||LF(this))},yt.Ma=function(){if(this.u=null,HF(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=O0(ps(this.jb,this),n)}},yt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,io(10),ES(this),HF(this))},yt.ib=function(){null!=this.v&&(this.v=null,ES(this),UA(this),io(19))},yt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),io(2)):(this.j.info("Failed to ping google.com"),io(1))},(yt=qF.prototype).Ba=function(){},yt.Aa=function(){},yt.za=function(){},yt.ya=function(){},yt.Va=function(){},IS.prototype.g=function(n,e){return new Ko(n,e)},Ei(Ko,Ni),Ko.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;io(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=GF(n,null,n.Y),CS(n)},Ko.prototype.close=function(){HA(this.g)},Ko.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=l(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&CS(e)},Ko.prototype.N=function(){this.g.l=null,delete this.j,HA(this.g),delete this.g,Ko.$.N.call(this)},Ei(WF,AA),Ei(ZF,MA),Ei(P_,qF),P_.prototype.Ba=function(){Wi(this.g,"a")},P_.prototype.Aa=function(n){Wi(this.g,new WF(n))},P_.prototype.za=function(n){Wi(this.g,new ZF)},P_.prototype.ya=function(){Wi(this.g,"b")},Ei(kl,function W3(){this.blockSize=-1}),kl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},kl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)jA(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){jA(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){jA(this,r),i=0;break}}this.h=i,this.i+=e},kl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Z3={};function GA(n){return-128<=n&&128>n?S0(Z3,n,function(e){return new Kn([0|e],0>e?-1:0)}):new Kn([0|n],0>n?-1:0)}function Gc(n){if(isNaN(n)||!isFinite(n))return k_;if(0>n)return gs(Gc(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=$A;return new Kn(e,0)}var $A=4294967296,k_=GA(0),qA=GA(1),YF=GA(16777216);function Ed(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Va(n){return-1==n.h}function gs(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Kn(t,~n.h).add(qA)}function DS(n,e){return n.add(gs(e))}function TS(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function W0(n,e){this.g=n,this.h=e}function xS(n,e){if(Ed(e))throw Error("division by zero");if(Ed(n))return new W0(k_,k_);if(Va(n))return e=xS(gs(n),e),new W0(gs(e.g),gs(e.h));if(Va(e))return e=xS(n,gs(e)),new W0(gs(e.g),e.h);if(30<n.g.length){if(Va(n)||Va(e))throw Error("slowDivide_ only works with positive integers.");for(var t=qA,r=e;0>=r.X(n);)t=QF(t),r=QF(r);var i=R_(t,1),a=R_(r,1);for(r=R_(r,2),t=R_(t,2);!Ed(r);){var d=a.add(r);0>=d.X(n)&&(i=i.add(t),a=d),r=R_(r,1),t=R_(t,1)}return e=DS(n,i.R(e)),new W0(i,e)}for(i=k_;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),d=(a=Gc(t)).R(e);Va(d)||0<d.X(n);)d=(a=Gc(t-=r)).R(e);Ed(a)&&(a=qA),i=i.add(a),n=DS(n,d)}return new W0(i,n)}function QF(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Kn(t,n.h)}function R_(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Kn(i,n.h)}(yt=Kn.prototype).ea=function(){if(Va(this))return-gs(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:$A+r)*e,e*=$A}return n},yt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ed(this))return"0";if(Va(this))return"-"+gs(this).toString(n);for(var e=Gc(Math.pow(n,6)),t=this,r="";;){var i=xS(t,e).g,a=((0<(t=DS(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ed(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},yt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},yt.X=function(n){return Va(n=DS(this,n))?-1:Ed(n)?0:1},yt.abs=function(){return Va(this)?gs(this):this},yt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),d=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=d>>>16,t[i]=(d&=65535)<<16|(a&=65535)}return new Kn(t,-2147483648&t[t.length-1]?-1:0)},yt.R=function(n){if(Ed(this)||Ed(n))return k_;if(Va(this))return Va(n)?gs(this).R(gs(n)):gs(gs(this).R(n));if(Va(n))return gs(this.R(gs(n)));if(0>this.X(YF)&&0>n.X(YF))return Gc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,d=65535&this.D(r),m=n.D(i)>>>16,E=65535&n.D(i);t[2*r+2*i]+=d*E,TS(t,2*r+2*i),t[2*r+2*i+1]+=a*E,TS(t,2*r+2*i+1),t[2*r+2*i+1]+=d*m,TS(t,2*r+2*i+1),t[2*r+2*i+2]+=a*m,TS(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Kn(t,0)},yt.gb=function(n){return xS(this,n).h},yt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Kn(t,this.h&n.h)},yt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Kn(t,this.h|n.h)},yt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Kn(t,this.h^n.h)},IS.prototype.createWebChannel=IS.prototype.g,Ko.prototype.send=Ko.prototype.u,Ko.prototype.open=Ko.prototype.m,Ko.prototype.close=Ko.prototype.close,hS.NO_ERROR=0,hS.TIMEOUT=8,hS.HTTP_ERROR=6,aF.COMPLETE="complete",cF.EventType=F0,F0.OPEN="a",F0.CLOSE="b",F0.ERROR="c",F0.MESSAGE="d",Ni.prototype.listen=Ni.prototype.O,ni.prototype.listenOnce=ni.prototype.P,ni.prototype.getLastError=ni.prototype.Sa,ni.prototype.getLastErrorCode=ni.prototype.Ia,ni.prototype.getStatus=ni.prototype.da,ni.prototype.getResponseJson=ni.prototype.Wa,ni.prototype.getResponseText=ni.prototype.ja,ni.prototype.send=ni.prototype.ha,ni.prototype.setWithCredentials=ni.prototype.Oa,kl.prototype.digest=kl.prototype.l,kl.prototype.reset=kl.prototype.reset,kl.prototype.update=kl.prototype.j,Kn.prototype.add=Kn.prototype.add,Kn.prototype.multiply=Kn.prototype.R,Kn.prototype.modulo=Kn.prototype.gb,Kn.prototype.compare=Kn.prototype.X,Kn.prototype.toNumber=Kn.prototype.ea,Kn.prototype.toString=Kn.prototype.toString,Kn.prototype.getBits=Kn.prototype.D,Kn.fromNumber=Gc,Kn.fromString=function KF(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return gs(KF(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Gc(Math.pow(e,8)),r=k_,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),d=parseInt(n.substring(i,i+a),e);8>a?(a=Gc(Math.pow(e,a)),r=r.R(a).add(Gc(d))):r=(r=r.R(t)).add(Gc(d))}return r};var K3=Eo.createWebChannelTransport=function(){return new IS},Y3=Eo.getStatEventTarget=function(){return Kh()},WA=Eo.ErrorCode=hS,Q3=Eo.EventType=aF,X3=Eo.Event=Pl,XF=Eo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},J3=Eo.FetchXmlHttpFactory=z0,AS=Eo.WebChannel=cF,eU=Eo.XhrIo=ni,tU=Eo.Md5=kl,O_=Eo.Integer=Kn;const JF="@firebase/firestore";class Zi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zi.UNAUTHENTICATED=new Zi(null),Zi.GOOGLE_CREDENTIALS=new Zi("google-credentials-uid"),Zi.FIRST_PARTY=new Zi("first-party-uid"),Zi.MOCK_USER=new Zi("mock-user");let F_="9.21.0";const Qh=new La.Yd("@firebase/firestore");function ZA(){return Qh.logLevel}function et(n,...e){if(Qh.logLevel<=La.in.DEBUG){const t=e.map(KA);Qh.debug(`Firestore (${F_}): ${n}`,...t)}}function fi(n,...e){if(Qh.logLevel<=La.in.ERROR){const t=e.map(KA);Qh.error(`Firestore (${F_}): ${n}`,...t)}}function Ba(n,...e){if(Qh.logLevel<=La.in.WARN){const t=e.map(KA);Qh.warn(`Firestore (${F_}): ${n}`,...t)}}function KA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ct(n="Unexpected state"){const e=`FIRESTORE (${F_}) INTERNAL ASSERTION FAILED: `+n;throw fi(e),new Error(e)}function Ot(n,e){n||Ct()}function mt(n,e){return n}const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Cn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Li{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class eN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zi.UNAUTHENTICATED))}shutdown(){}}class sU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class oU{constructor(e){this.t=e,this.currentUser=Zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=I=>this.i!==i?(i=this.i,t(I)):Promise.resolve();let d=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Li,e.enqueueRetryable(()=>a(this.currentUser))};const m=()=>{const I=d;e.enqueueRetryable((0,He.Z)(function*(){yield I.promise,yield a(r.currentUser)}))},E=I=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(I=>E(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?E(I):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Li)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot("string"==typeof r.accessToken),new eN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ot(null===e||"string"==typeof e),new Zi(e)}}class aU{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Zi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class lU{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new aU(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cU{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const d=a.token!==this.T;return this.T=a.token,et("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ot("string"==typeof t.token),this.T=t.token,new tN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function uU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class nN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=uU(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function tn(n,e){return n<e?-1:n>e?1:0}function N_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function rN(n){return n+"\0"}class Rr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ke(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ke(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ke(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rr.fromMillis(Date.now())}static fromDate(e){return Rr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Rr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tn(this.nanoseconds,e.nanoseconds):tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new Rr(0,0))}static max(){return new Nt(new Rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Z0{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ct(),void 0===r?r=e.length-t:r>e.length-t&&Ct(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Z0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Z0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),d=t.get(i);if(a<d)return-1;if(a>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tn extends Z0{construct(e,t,r){return new Tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(je.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Tn(t)}static emptyPath(){return new Tn([])}}const dU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ri extends Z0{construct(e,t,r){return new ri(e,t,r)}static isValidIdentifier(e){return dU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ri.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ri(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ke(je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new Ke(je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[i+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Ke(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,i+=2}else"`"===m?(d=!d,i++):"."!==m||d?(r+=m,i++):(a(),i++)}if(a(),d)throw new Ke(je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ri(t)}static emptyPath(){return new ri([])}}class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Tn.fromString(e))}static fromName(e){return new ut(Tn.fromString(e).popFirst(5))}static empty(){return new ut(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Tn(e.slice()))}}class MS{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function YA(n){return n.fields.find(e=>2===e.kind)}function Em(n){return n.fields.filter(e=>2!==e.kind)}MS.UNKNOWN_ID=-1;class PS{constructor(e,t){this.fieldPath=e,this.kind=t}}class K0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new K0(0,Yo.min())}}function iN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(1e9===r?new Rr(t+1,0):new Rr(t,r));return new Yo(i,ut.empty(),e)}function sN(n){return new Yo(n.readTime,n.key,-1)}class Yo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Yo(Nt.min(),ut.empty(),-1)}static max(){return new Yo(Nt.max(),ut.empty(),-1)}}function QA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ut.comparator(n.documentKey,e.documentKey),0!==t?t:tn(n.largestBatchId,e.largestBatchId))}const oN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Xh(n){return XA.apply(this,arguments)}function XA(){return XA=(0,He.Z)(function*(n){if(n.code!==je.FAILED_PRECONDITION||n.message!==oN)throw n;et("LocalStore","Unexpectedly lost primary lease")}),XA.apply(this,arguments)}class Ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ve((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ve?t:Ve.resolve(t)}catch(t){return Ve.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ve.reject(t)}static resolve(e){return new Ve((t,r)=>{t(e)})}static reject(e){return new Ve((t,r)=>{r(e)})}static waitFor(e){return new Ve((t,r)=>{let i=0,a=0,d=!1;e.forEach(m=>{++i,m.next(()=>{++a,d&&a===i&&t()},E=>r(E))}),d=!0,a===i&&t()})}static or(e){let t=Ve.resolve(!1);for(const r of e)t=t.next(i=>i?Ve.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new Ve((r,i)=>{const a=e.length,d=new Array(a);let m=0;for(let E=0;E<a;E++){const I=E;t(e[I]).next(F=>{d[I]=F,++m,m===a&&r(d)},F=>i(F))}})}static doWhile(e,t){return new Ve((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class kS{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Li,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Y0(e,t.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=JA(r.target.error);this.R.reject(new Y0(e,i))}}static open(e,t,r,i){try{return new kS(t,e.transaction(i,r))}catch(a){throw new Y0(t,a)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(et("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new mU(t)}}class Rl{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Rl.S((0,Cn.z$)())&&fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return et("SimpleDb","Removing database:",e),Cm(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Cn.hl)())return!1;if(Rl.C())return!0;const e=(0,Cn.z$)(),t=Rl.S(e),r=0<t&&t<10,i=Rl.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,He.Z)(function*(){return t.db||(et("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=d=>{r(d.target.result)},a.onblocked=()=>{i(new Y0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const m=d.target.error;i("VersionError"===m.name?new Ke(je.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ke(je.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Y0(e,m))},a.onupgradeneeded=d=>{et("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.V.$(d.target.result,a.transaction,d.oldVersion,t.version).next(()=>{et("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,He.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{a.db=yield a.O(e);const E=kS.open(a.db,e,d?"readonly":"readwrite",r),I=i(E).next(F=>(E.P(),F)).catch(F=>(E.abort(F),Ve.reject(F))).toPromise();return I.catch(()=>{}),yield E.v,I}catch(E){const I=E,F="FirebaseError"!==I.name&&m<3;if(et("SimpleDb","Transaction failed with error:",I.message,"Retrying:",F),a.close(),!F)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pU{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Cm(this.L.delete())}}class Y0 extends Ke{constructor(e,t){super(je.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Jh(n){return"IndexedDbTransactionError"===n.name}class mU{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(et("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(et("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Cm(r)}add(e){return et("SimpleDb","ADD",this.store.name,e,e),Cm(this.store.add(e))}get(e){return Cm(this.store.get(e)).next(t=>(void 0===t&&(t=null),et("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return et("SimpleDb","DELETE",this.store.name,e),Cm(this.store.delete(e))}count(){return et("SimpleDb","COUNT",this.store.name),Cm(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(d,m)=>{a.push(m)}).next(()=>a)}{const i=this.store.getAll(r.range);return new Ve((a,d)=>{i.onerror=m=>{d(m.target.error)},i.onsuccess=m=>{a(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ve((i,a)=>{r.onerror=d=>{a(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}J(e,t){et("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,d,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new Ve((r,i)=>{t.onerror=a=>{const d=JA(a.target.error);i(d)},t.onsuccess=a=>{const d=a.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}W(e,t){const r=[];return new Ve((i,a)=>{e.onerror=d=>{a(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void i();const E=new pU(m),I=t(m.primaryKey,m.value,E);if(I instanceof Ve){const F=I.catch(W=>(E.done(),Ve.reject(W)));r.push(F)}E.isDone?i():null===E.K?m.continue():m.continue(E.K)}}).next(()=>Ve.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Cm(n){return new Ve((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=JA(r.target.error);t(i)}})}let lN=!1;function JA(n){const e=Rl.S((0,Cn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lN||(lN=!0,setTimeout(()=>{throw r},0)),r}}return n}class gU{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;et("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,He.Z)(function*(){t.task=null;try{et("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Jh(r)?et("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Xh(r)}yield t.et(6e4)}))}}class _U{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,He.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return Ve.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return et("IndexBackiller",`Processing collection: ${d}`),this.it(e,d,i).next(m=>{i-=m,r.add(d)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const d=a.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.rt(i,a)).next(m=>(et("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const d=sN(a);QA(d,r)>0&&(r=d)}),new Yo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Qo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Q0(n){return null==n}function X0(n){return 0===n&&1/n==-1/0}function cN(n){return"number"==typeof n&&Number.isInteger(n)&&!X0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ns(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=uN(e)),e=yU(n.get(t),e);return uN(e)}function yU(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function uN(n){return n+"\x01\x01"}function $c(n){const e=n.length;if(Ot(e>=2),2===e)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const d=n.indexOf("\x01",a);switch((d<0||d>t)&&Ct(),n.charAt(d+1)){case"\x01":const m=n.substring(a,d);let E;0===i.length?E=m:(i+=m,E=i,i=""),r.push(E);break;case"\x10":i+=n.substring(a,d),i+="\0";break;case"\x11":i+=n.substring(a,d+1);break;default:Ct()}a=d+2}return new Tn(r)}const dN=["userId","batchId"];function RS(n,e){return[n,Ns(e)]}function hN(n,e,t){return[n,Ns(e),t]}const vU={},bU=["prefixPath","collectionGroup","readTime","documentId"],wU=["prefixPath","collectionGroup","documentId"],EU=["collectionGroup","readTime","prefixPath","documentId"],CU=["canonicalId","targetId"],SU=["targetId","path"],IU=["path","targetId"],DU=["collectionId","parent"],TU=["indexId","uid"],xU=["uid","sequenceNumber"],AU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],MU=["indexId","uid","orderedDocumentKey"],PU=["userId","collectionPath","documentId"],kU=["userId","collectionPath","largestBatchId"],RU=["userId","collectionGroup","largestBatchId"],fN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],OU=[...fN,"documentOverlays"],pN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mN=pN,FU=[...mN,"indexConfiguration","indexState","indexEntries"];class e1 extends aN{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Ki(n,e){const t=mt(n);return Rl.M(t.at,e)}function gN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ef(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _N(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class mr{constructor(e,t){this.comparator=e,this.root=t||_s.EMPTY}insert(e,t){return new mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_s.BLACK,null,null))}remove(e){return new mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_s.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new OS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new OS(this.root,e,this.comparator,!1)}getReverseIterator(){return new OS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new OS(this.root,e,this.comparator,!0)}}class OS{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _s{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??_s.RED,this.left=i??_s.EMPTY,this.right=a??_s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new _s(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return _s.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ct();const e=this.left.check();if(e!==this.right.check())throw Ct();return e+(this.isRed()?0:1)}}_s.EMPTY=null,_s.RED=!0,_s.BLACK=!1,_s.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct()}get value(){throw Ct()}get color(){throw Ct()}get left(){throw Ct()}get right(){throw Ct()}copy(n,e,t,r,i){return this}insert(n,e,t){return new _s(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Er{constructor(e){this.comparator=e,this.data=new mr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yN(this.data.getIterator())}getIteratorFrom(e){return new yN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Er)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Er(this.comparator);return t.data=e,t}}class yN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function L_(n){return n.hasNext()?n.getNext():void 0}class Co{constructor(e){this.fields=e,e.sort(ri.comparator)}static empty(){return new Co([])}unionWith(e){let t=new Er(ri.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Co(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return N_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class vN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new vN("Invalid base64 string: "+i):i}}(e);return new Vi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vi.EMPTY_BYTE_STRING=new Vi("");const LU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tf(n){if(Ot(!!n),"string"==typeof n){let e=0;const t=LU.exec(n);if(Ot(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ii(n.seconds),nanos:ii(n.nanos)}}function ii(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Cd(n){return"string"==typeof n?Vi.fromBase64String(n):Vi.fromUint8Array(n)}function FS(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function NS(n){const e=n.mapValue.fields.__previous_value__;return FS(e)?NS(e):e}function J0(n){const e=tf(n.mapValue.fields.__local_write_time__.timestampValue);return new Rr(e.seconds,e.nanos)}class VU{constructor(e,t,r,i,a,d,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class nf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nf&&e.projectId===this.projectId&&e.database===this.database}}const rf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},LS={nullValue:"NULL_VALUE"};function sf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?FS(n)?4:CN(n)?9007199254740991:10:Ct()}function qc(n,e){if(n===e)return!0;const t=sf(n);if(t!==sf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return J0(n).isEqual(J0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=tf(r.timestampValue),d=tf(i.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Cd(n.bytesValue).isEqual(Cd(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ii(r.geoPointValue.latitude)===ii(i.geoPointValue.latitude)&&ii(r.geoPointValue.longitude)===ii(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ii(r.integerValue)===ii(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=ii(r.doubleValue),d=ii(i.doubleValue);return a===d?X0(a)===X0(d):isNaN(a)&&isNaN(d)}return!1}(n,e);case 9:return N_(n.arrayValue.values||[],e.arrayValue.values||[],qc);case 10:return function(r,i){const a=r.mapValue.fields||{},d=i.mapValue.fields||{};if(gN(a)!==gN(d))return!1;for(const m in a)if(a.hasOwnProperty(m)&&(void 0===d[m]||!qc(a[m],d[m])))return!1;return!0}(n,e);default:return Ct()}var i}function eb(n,e){return void 0!==(n.values||[]).find(t=>qc(t,e))}function af(n,e){if(n===e)return 0;const t=sf(n),r=sf(e);if(t!==r)return tn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return tn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const d=ii(i.integerValue||i.doubleValue),m=ii(a.integerValue||a.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return bN(n.timestampValue,e.timestampValue);case 4:return bN(J0(n),J0(e));case 5:return tn(n.stringValue,e.stringValue);case 6:return function(i,a){const d=Cd(i),m=Cd(a);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const d=i.split("/"),m=a.split("/");for(let E=0;E<d.length&&E<m.length;E++){const I=tn(d[E],m[E]);if(0!==I)return I}return tn(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const d=tn(ii(i.latitude),ii(a.latitude));return 0!==d?d:tn(ii(i.longitude),ii(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const d=i.values||[],m=a.values||[];for(let E=0;E<d.length&&E<m.length;++E){const I=af(d[E],m[E]);if(I)return I}return tn(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===rf.mapValue&&a===rf.mapValue)return 0;if(i===rf.mapValue)return 1;if(a===rf.mapValue)return-1;const d=i.fields||{},m=Object.keys(d),E=a.fields||{},I=Object.keys(E);m.sort(),I.sort();for(let F=0;F<m.length&&F<I.length;++F){const W=tn(m[F],I[F]);if(0!==W)return W;const ce=af(d[m[F]],E[I[F]]);if(0!==ce)return ce}return tn(m.length,I.length)}(n.mapValue,e.mapValue);default:throw Ct()}}function bN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return tn(n,e);const t=tf(n),r=tf(e),i=tn(t.seconds,r.seconds);return 0!==i?i:tn(t.nanos,r.nanos)}function V_(n){return t1(n)}function t1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=tf(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Cd(n.bytesValue).toBase64():"referenceValue"in n?ut.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const d of r.values||[])a?a=!1:i+=",",i+=t1(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",d=!0;for(const m of i)d?d=!1:a+=",",a+=`${m}:${t1(r.fields[m])}`;return a+"}"}(n.mapValue):Ct();var e}function Sm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function n1(n){return!!n&&"integerValue"in n}function tb(n){return!!n&&"arrayValue"in n}function wN(n){return!!n&&"nullValue"in n}function EN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function BS(n){return!!n&&"mapValue"in n}function nb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ef(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=nb(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function CN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function BU(n){return"nullValue"in n?LS:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Sm(nf.empty(),ut.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ct()}function HU(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Sm(nf.empty(),ut.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?rf:Ct()}function SN(n,e){const t=af(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function IN(n,e){const t=af(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ys{constructor(e){this.value=e}static empty(){return new ys({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!BS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nb(t)}setAll(e){let t=ri.emptyPath(),r={},i=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,i),r={},i=[],t=m.popLast()}d?r[m.lastSegment()]=nb(d):i.push(m.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());BS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];BS(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ef(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ys(nb(this.value))}}function DN(n){const e=[];return ef(n.fields,(t,r)=>{const i=new ri([t]);if(BS(r)){const a=DN(r.mapValue).fields;if(0===a.length)e.push(i);else for(const d of a)e.push(i.child(d))}else e.push(i)}),new Co(e)}class Cr{constructor(e,t,r,i,a,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Cr(e,0,Nt.min(),Nt.min(),Nt.min(),ys.empty(),0)}static newFoundDocument(e,t,r,i){return new Cr(e,1,t,Nt.min(),r,i,0)}static newNoDocument(e,t){return new Cr(e,2,t,Nt.min(),Nt.min(),ys.empty(),0)}static newUnknownDocument(e,t){return new Cr(e,3,t,Nt.min(),Nt.min(),ys.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ys.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lf{constructor(e,t){this.position=e,this.inclusive=t}}function TN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],d=n.position[i];if(r=a.field.isKeyField()?ut.comparator(ut.fromName(d.referenceValue),t.key):af(d,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function xN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qc(n.position[t],e.position[t]))return!1;return!0}class B_{constructor(e,t="asc"){this.field=e,this.dir=t}}function UU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class AN{}class yn extends AN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new zU(e,t,r):"array-contains"===t?new $U(e,r):"in"===t?new FN(e,r):"not-in"===t?new qU(e,r):"array-contains-any"===t?new WU(e,r):new yn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new jU(e,r):new GU(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(af(t,this.value)):null!==t&&sf(this.value)===sf(t)&&this.matchesComparison(af(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Yn extends AN{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Yn(e,t)}matches(e){return H_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function H_(n){return"and"===n.op}function r1(n){return"or"===n.op}function s1(n){return MN(n)&&H_(n)}function MN(n){for(const e of n.filters)if(e instanceof Yn)return!1;return!0}function o1(n){if(n instanceof yn)return n.field.canonicalString()+n.op.toString()+V_(n.value);if(s1(n))return n.filters.map(e=>o1(e)).join(",");{const e=n.filters.map(t=>o1(t)).join(",");return`${n.op}(${e})`}}function PN(n,e){return n instanceof yn?(t=n,(r=e)instanceof yn&&t.op===r.op&&t.field.isEqual(r.field)&&qc(t.value,r.value)):n instanceof Yn?function(t,r){return r instanceof Yn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,d)=>i&&PN(a,r.filters[d]),!0)}(n,e):void Ct();var t,r}function kN(n,e){const t=n.filters.concat(e);return Yn.create(t,n.op)}function RN(n){return n instanceof yn?`${(e=n).field.canonicalString()} ${e.op} ${V_(e.value)}`:n instanceof Yn?function(e){return e.op.toString()+" {"+e.getFilters().map(RN).join(" ,")+"}"}(n):"Filter";var e}class zU extends yn{constructor(e,t,r){super(e,t,r),this.key=ut.fromName(r.referenceValue)}matches(e){const t=ut.comparator(e.key,this.key);return this.matchesComparison(t)}}class jU extends yn{constructor(e,t){super(e,"in",t),this.keys=ON(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class GU extends yn{constructor(e,t){super(e,"not-in",t),this.keys=ON(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ON(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ut.fromName(r.referenceValue))}class $U extends yn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tb(t)&&eb(t.arrayValue,this.value)}}class FN extends yn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&eb(this.value.arrayValue,t)}}class qU extends yn{constructor(e,t){super(e,"not-in",t)}matches(e){if(eb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!eb(this.value.arrayValue,t)}}class WU extends yn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>eb(this.value.arrayValue,r))}}class ZU{constructor(e,t=null,r=[],i=[],a=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=d,this.endAt=m,this.ft=null}}function a1(n,e=null,t=[],r=[],i=null,a=null,d=null){return new ZU(n,e,t,r,i,a,d)}function Im(n){const e=mt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>o1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Q0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>V_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>V_(r)).join(",")),e.ft=t}return e.ft}function rb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!UU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!PN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xN(n.startAt,e.startAt)&&xN(n.endAt,e.endAt)}function HS(n){return ut.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function US(n,e){return n.filters.filter(t=>t instanceof yn&&t.field.isEqual(e))}function NN(n,e,t){let r=LS,i=!0;for(const a of US(n,e)){let d=LS,m=!0;switch(a.op){case"<":case"<=":d=BU(a.value);break;case"==":case"in":case">=":d=a.value;break;case">":d=a.value,m=!1;break;case"!=":case"not-in":d=LS}SN({value:r,inclusive:i},{value:d,inclusive:m})<0&&(r=d,i=m)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];SN({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function LN(n,e,t){let r=rf,i=!0;for(const a of US(n,e)){let d=rf,m=!0;switch(a.op){case">=":case">":d=HU(a.value),m=!1;break;case"==":case"in":case"<=":d=a.value;break;case"<":d=a.value,m=!1;break;case"!=":case"not-in":d=rf}IN({value:r,inclusive:i},{value:d,inclusive:m})>0&&(r=d,i=m)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];IN({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Sd{constructor(e,t=null,r=[],i=[],a=null,d="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=d,this.startAt=m,this.endAt=E,this.dt=null,this._t=null}}function VN(n,e,t,r,i,a,d,m){return new Sd(n,e,t,r,i,a,d,m)}function U_(n){return new Sd(n)}function BN(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function l1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function zS(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function c1(n){return null!==n.collectionGroup}function Dm(n){const e=mt(n);if(null===e.dt){e.dt=[];const t=zS(e),r=l1(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new B_(t)),e.dt.push(new B_(ri.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new B_(ri.keyField(),a))}}}return e.dt}function so(n){const e=mt(n);if(!e._t)if("F"===e.limitType)e._t=a1(e.path,e.collectionGroup,Dm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Dm(e))t.push(new B_(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new lf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new lf(e.startAt.position,e.startAt.inclusive):null;e._t=a1(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function u1(n,e){e.getFirstInequalityField(),zS(n);const t=n.filters.concat([e]);return new Sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function jS(n,e,t){return new Sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ib(n,e){return rb(so(n),so(e))&&n.limitType===e.limitType}function HN(n){return`${Im(so(n))}|lt:${n.limitType}`}function d1(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>RN(r)).join(", ")}]`),Q0(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>V_(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>V_(r)).join(",")),`Target(${t})`}(so(n))}; limitType=${n.limitType})`}function sb(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ut.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Dm(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,d){const m=TN(i,a,d);return i.inclusive?m<=0:m<0}(t.startAt,Dm(t),r)||t.endAt&&!function(i,a,d){const m=TN(i,a,d);return i.inclusive?m>=0:m>0}(t.endAt,Dm(t),r)));var t,r}function UN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zN(n){return(e,t)=>{let r=!1;for(const i of Dm(n)){const a=KU(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function KU(n,e,t){const r=n.field.isKeyField()?ut.comparator(e.key,t.key):function(i,a,d){const m=a.data.field(i),E=d.data.field(i);return null!==m&&null!==E?af(m,E):Ct()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ct()}}class Id{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ef(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return _N(this.inner)}size(){return this.innerSize}}const YU=new mr(ut.comparator);function So(){return YU}const jN=new mr(ut.comparator);function ab(...n){let e=jN;for(const t of n)e=e.insert(t.key,t);return e}function GN(n){let e=jN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Wc(){return lb()}function $N(){return lb()}function lb(){return new Id(n=>n.toString(),(n,e)=>n.isEqual(e))}const QU=new mr(ut.comparator),XU=new Er(ut.comparator);function cn(...n){let e=XU;for(const t of n)e=e.add(t);return e}const JU=new Er(tn);function h1(){return JU}function qN(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:X0(e)?"-0":e}}function WN(n){return{integerValue:""+n}}function ZN(n,e){return cN(e)?WN(e):qN(n,e)}class GS{constructor(){this._=void 0}}function ez(n,e,t){return n instanceof z_?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&FS(i)&&(i=NS(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Tm?YN(n,e):n instanceof xm?QN(n,e):function(r,i){const a=KN(r,i),d=XN(a)+XN(r.wt);return n1(a)&&n1(r.wt)?WN(d):qN(r.serializer,d)}(n,e)}function tz(n,e,t){return n instanceof Tm?YN(n,e):n instanceof xm?QN(n,e):t}function KN(n,e){return n instanceof j_?n1(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class z_ extends GS{}class Tm extends GS{constructor(e){super(),this.elements=e}}function YN(n,e){const t=JN(e);for(const r of n.elements)t.some(i=>qc(i,r))||t.push(r);return{arrayValue:{values:t}}}class xm extends GS{constructor(e){super(),this.elements=e}}function QN(n,e){let t=JN(e);for(const r of n.elements)t=t.filter(i=>!qc(i,r));return{arrayValue:{values:t}}}class j_ extends GS{constructor(e,t){super(),this.serializer=e,this.wt=t}}function XN(n){return ii(n.integerValue||n.doubleValue)}function JN(n){return tb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class cb{constructor(e,t){this.field=e,this.transform=t}}class rz{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $S(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class qS{}function eL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new $_(n.key,Or.none()):new G_(n.key,n.data,Or.none());{const t=n.data,r=ys.empty();let i=new Er(ri.comparator);for(let a of e.fields)if(!i.has(a)){let d=t.field(a);null===d&&a.length>1&&(a=a.popLast(),d=t.field(a)),null===d?r.delete(a):r.set(a,d),i=i.add(a)}return new Dd(n.key,r,new Co(i.toArray()),Or.none())}}function iz(n,e,t){n instanceof G_?function(r,i,a){const d=r.value.clone(),m=rL(r.fieldTransforms,i,a.transformResults);d.setAll(m),i.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Dd?function(r,i,a){if(!$S(r.precondition,i))return void i.convertToUnknownDocument(a.version);const d=rL(r.fieldTransforms,i,a.transformResults),m=i.data;m.setAll(nL(r)),m.setAll(d),i.convertToFoundDocument(a.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ub(n,e,t,r){return n instanceof G_?function(i,a,d,m){if(!$S(i.precondition,a))return d;const E=i.value.clone(),I=iL(i.fieldTransforms,m,a);return E.setAll(I),a.convertToFoundDocument(a.version,E).setHasLocalMutations(),null}(n,e,t,r):n instanceof Dd?function(i,a,d,m){if(!$S(i.precondition,a))return d;const E=iL(i.fieldTransforms,m,a),I=a.data;return I.setAll(nL(i)),I.setAll(E),a.convertToFoundDocument(a.version,I).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(F=>F.field))}(n,e,t,r):(d=t,$S(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):d);var a,d}function sz(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=KN(r.transform,i||null);null!=a&&(null===t&&(t=ys.empty()),t.set(r.field,a))}return t||null}function tL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&N_(t,r,(i,a)=>function nz(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Tm&&r instanceof Tm||t instanceof xm&&r instanceof xm?N_(t.elements,r.elements,qc):t instanceof j_&&r instanceof j_?qc(t.wt,r.wt):t instanceof z_&&r instanceof z_);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class G_ extends qS{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Dd extends qS{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function nL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function rL(n,e,t){const r=new Map;Ot(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],d=a.transform,m=e.data.field(a.field);r.set(a.field,tz(d,m,t[i]))}return r}function iL(n,e,t){const r=new Map;for(const i of n){const a=i.transform,d=t.data.field(i.field);r.set(i.field,ez(a,d,e))}return r}class $_ extends qS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f1 extends qS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class p1{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&iz(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ub(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ub(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=$N();return this.mutations.forEach(i=>{const a=e.get(i.key),d=a.overlayedDocument;let m=this.applyToLocalView(d,a.mutatedFields);m=t.has(i.key)?null:m;const E=eL(d,m);null!==E&&r.set(i.key,E),d.isValidDocument()||d.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cn())}isEqual(e){return this.batchId===e.batchId&&N_(this.mutations,e.mutations,(t,r)=>tL(t,r))&&N_(this.baseMutations,e.baseMutations,(t,r)=>tL(t,r))}}class m1{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ot(e.mutations.length===r.length);let i=QU;const a=e.mutations;for(let d=0;d<a.length;d++)i=i.insert(a[d].key,r[d].version);return new m1(e,t,r,i)}}class g1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class az{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ci,xn;function sL(n){switch(n){default:return Ct();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0}}function oL(n){if(void 0===n)return fi("GRPC error has no .code"),je.UNKNOWN;switch(n){case Ci.OK:return je.OK;case Ci.CANCELLED:return je.CANCELLED;case Ci.UNKNOWN:return je.UNKNOWN;case Ci.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case Ci.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case Ci.INTERNAL:return je.INTERNAL;case Ci.UNAVAILABLE:return je.UNAVAILABLE;case Ci.UNAUTHENTICATED:return je.UNAUTHENTICATED;case Ci.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case Ci.NOT_FOUND:return je.NOT_FOUND;case Ci.ALREADY_EXISTS:return je.ALREADY_EXISTS;case Ci.PERMISSION_DENIED:return je.PERMISSION_DENIED;case Ci.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case Ci.ABORTED:return je.ABORTED;case Ci.OUT_OF_RANGE:return je.OUT_OF_RANGE;case Ci.UNIMPLEMENTED:return je.UNIMPLEMENTED;case Ci.DATA_LOSS:return je.DATA_LOSS;default:return Ct()}}(xn=Ci||(Ci={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";class _1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return WS}static getOrCreateInstance(){return null===WS&&(WS=new _1),WS}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let WS=null;function aL(){return new TextEncoder}const lz=new O_([4294967295,4294967295],0);function lL(n){const e=aL().encode(n),t=new tU;return t.update(e),new Uint8Array(t.digest())}function cL(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new O_([t,r],0),new O_([i,a],0)]}class y1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new db(`Invalid padding: ${t}`);if(r<0)throw new db(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new db(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new db(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=O_.fromNumber(this.yt)}Tt(e,t,r){let i=e.add(t.multiply(O_.fromNumber(r)));return 1===i.compare(lz)&&(i=new O_([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=lL(e),[r,i]=cL(t);for(let a=0;a<this.hashCount;a++){const d=this.Tt(r,i,a);if(!this.Et(d))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),d=new y1(a,i,t);return r.forEach(m=>d.insert(m)),d}insert(e){if(0===this.yt)return;const t=lL(e),[r,i]=cL(t);for(let a=0;a<this.hashCount;a++){const d=this.Tt(r,i,a);this.Rt(d)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class db extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hb{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,fb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new hb(Nt.min(),i,new mr(tn),So(),cn())}}class fb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new fb(r,t,cn(),cn(),cn())}}class ZS{constructor(e,t,r,i){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=i}}class uL{constructor(e,t){this.targetId=e,this.bt=t}}class dL{constructor(e,t,r=Vi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class hL{constructor(){this.Vt=0,this.St=pL(),this.Dt=Vi.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=cn(),t=cn(),r=cn();return this.St.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ct()}}),new fb(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=pL()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class cz{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=So(),this.jt=fL(),this.zt=new mr(tn)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:Ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,i)=>{this.Zt(i)&&t(i)})}ee(e){var t;const r=e.targetId,i=e.bt.count,a=this.ne(r);if(a){const d=a.target;if(HS(d))if(0===i){const m=new ut(d.path);this.Jt(r,m,Cr.newNoDocument(m,Nt.min()))}else Ot(1===i);else{const m=this.se(r);if(m!==i){const E=this.ie(e,m);0!==E&&(this.te(r),this.zt=this.zt.insert(r,2===E?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=_1.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(I,F,W){var ce,me,Ce,Me,Ue,rt;const vt={localCacheCount:F,existenceFilterCount:W.count},dt=W.unchangedNames;return dt&&(vt.bloomFilter={applied:0===I,hashCount:null!==(ce=dt?.hashCount)&&void 0!==ce?ce:0,bitmapLength:null!==(Me=null===(Ce=null===(me=dt?.bits)||void 0===me?void 0:me.bitmap)||void 0===Ce?void 0:Ce.length)&&void 0!==Me?Me:0,padding:null!==(rt=null===(Ue=dt?.bits)||void 0===Ue?void 0:Ue.padding)&&void 0!==rt?rt:0}),vt}(E,m,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:d=0},hashCount:m=0}=r;let E,I;try{E=Cd(a).toUint8Array()}catch(F){if(F instanceof vN)return Ba("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw F}try{I=new y1(E,d,m)}catch(F){return Ba(F instanceof db?"BloomFilter error: ":"Applying bloom filter failed: ",F),1}return 0===I.yt?1:i!==t-this.re(e.targetId,I)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const d=this.Kt.oe(),m=`projects/${d.projectId}/databases/${d.database}/documents/${a.path.canonicalString()}`;t.At(m)||(this.Jt(e,a,null),i++)}),i}ue(e){const t=new Map;this.Gt.forEach((a,d)=>{const m=this.ne(d);if(m){if(a.current&&HS(m.target)){const E=new ut(m.target.path);null!==this.Qt.get(E)||this.ce(d,E)||this.Jt(d,E,Cr.newNoDocument(E,e))}a.kt&&(t.set(d,a.Ot()),a.$t())}});let r=cn();this.jt.forEach((a,d)=>{let m=!0;d.forEachWhile(E=>{const I=this.ne(E);return!I||"TargetPurposeLimboResolution"===I.purpose||(m=!1,!1)}),m&&(r=r.add(a))}),this.Qt.forEach((a,d)=>d.setReadTime(e));const i=new hb(e,t,this.zt,this.Qt,r);return this.Qt=So(),this.jt=fL(),this.zt=new mr(tn),i}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,t)?i.Ft(t,1):i.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new hL,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new Er(tn),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||et("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new hL),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function fL(){return new mr(ut.comparator)}function pL(){return new mr(ut.comparator)}const uz={asc:"ASCENDING",desc:"DESCENDING"},dz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hz={and:"AND",or:"OR"};class fz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function v1(n,e){return n.useProto3Json||Q0(e)?e:{value:e}}function q_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function pz(n,e){return q_(n,e.toTimestamp())}function pi(n){return Ot(!!n),Nt.fromTimestamp(function(e){const t=tf(e);return new Rr(t.seconds,t.nanos)}(n))}function b1(n,e){return(t=n,new Tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gL(n){const e=Tn.fromString(n);return Ot(IL(e)),e}function pb(n,e){return b1(n.databaseId,e.path)}function Zc(n,e){const t=gL(e);if(t.get(1)!==n.databaseId.projectId)throw new Ke(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ke(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ut(yL(t))}function w1(n,e){return b1(n.databaseId,e)}function _L(n){const e=gL(n);return 4===e.length?Tn.emptyPath():yL(e)}function mb(n){return new Tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yL(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function vL(n,e,t){return{name:pb(n,e),fields:t.value.mapValue.fields}}function bL(n,e,t){const r=Zc(n,e.name),i=pi(e.updateTime),a=e.createTime?pi(e.createTime):Nt.min(),d=new ys({mapValue:{fields:e.fields}}),m=Cr.newFoundDocument(r,i,a,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function gb(n,e){let t;if(e instanceof G_)t={update:vL(n,e.key,e.value)};else if(e instanceof $_)t={delete:pb(n,e.key)};else if(e instanceof Dd)t={update:vL(n,e.key,e.data),updateMask:Ez(e.fieldMask)};else{if(!(e instanceof f1))return Ct();t={verify:pb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const d=a.transform;if(d instanceof z_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Tm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof xm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof j_)return{fieldPath:a.field.canonicalString(),increment:d.wt};throw Ct()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:pz(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Ct()),t;var i}function E1(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Or.updateTime(pi(i.updateTime)):void 0!==i.exists?Or.exists(i.exists):Or.none():Or.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,d){let m=null;"setToServerValue"in d?(Ot("REQUEST_TIME"===d.setToServerValue),m=new z_):"appendMissingElements"in d?m=new Tm(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new xm(d.removeAllFromArray.values||[]):"increment"in d?m=new j_(a,d.increment):Ct();const E=ri.fromServerFormat(d.fieldPath);return new cb(E,m)}(n,i)):[];var i;if(e.update){const i=Zc(n,e.update.name),a=new ys({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Co((e.updateMask.fieldPaths||[]).map(I=>ri.fromServerFormat(I)));return new Dd(i,a,d,t,r)}return new G_(i,a,t,r)}if(e.delete){const i=Zc(n,e.delete);return new $_(i,t)}if(e.verify){const i=Zc(n,e.verify);return new f1(i,t)}return Ct()}function wL(n,e){return{documents:[w1(n,e.path)]}}function C1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=w1(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=w1(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(E){if(0!==E.length)return SL(Yn.create(E,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(E){if(0!==E.length)return E.map(I=>{return{field:cf((F=I).field),direction:vz(F.dir)};var F})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const d=v1(n,e.limit);var m,E;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function EL(n){let e=_L(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ot(1===r);const F=t.from[0];F.allDescendants?i=F.collectionId:e=e.child(F.collectionId)}let a=[];t.where&&(a=function(F){const W=CL(F);return W instanceof Yn&&s1(W)?W.getFilters():[W]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(F=>{return new B_(W_((W=F).field),function(ce){switch(ce){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction));var W}));let m=null;t.limit&&(m=function(F){let W;return W="object"==typeof F?F.value:F,Q0(W)?null:W}(t.limit));let E=null;var F;t.startAt&&(E=new lf((F=t.startAt).values||[],!!F.before));let I=null;return t.endAt&&(I=function(F){return new lf(F.values||[],!F.before)}(t.endAt)),VN(e,i,d,a,m,"F",E,I)}function CL(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=W_(e.unaryFilter.field);return yn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=W_(e.unaryFilter.field);return yn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=W_(e.unaryFilter.field);return yn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=W_(e.unaryFilter.field);return yn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ct()}}(n):void 0!==n.fieldFilter?yn.create(W_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ct()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Yn.create(e.compositeFilter.filters.map(t=>CL(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ct()}}(e.compositeFilter.op))}(n):Ct();var e}function vz(n){return uz[n]}function bz(n){return dz[n]}function wz(n){return hz[n]}function cf(n){return{fieldPath:n.canonicalString()}}function W_(n){return ri.fromServerFormat(n.fieldPath)}function SL(n){return n instanceof yn?function(e){if("=="===e.op){if(EN(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NAN"}};if(wN(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(EN(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NOT_NAN"}};if(wN(e.value))return{unaryFilter:{field:cf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cf(e.field),op:bz(e.op),value:e.value}}}(n):n instanceof Yn?function(e){const t=e.getFilters().map(r=>SL(r));return 1===t.length?t[0]:{compositeFilter:{op:wz(e.op),filters:t}}}(n):Ct()}function Ez(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Td{constructor(e,t,r,i,a=Nt.min(),d=Nt.min(),m=Vi.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=E}withSequenceNumber(e){return new Td(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Td(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class DL{constructor(e){this.le=e}}function TL(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:KS(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:pb(i=n.le,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:q_(i,a.version.toTimestamp()),createTime:q_(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Am(e.version)};else{if(!e.isUnknownDocument())return Ct();r.unknownDocument={path:t.path.toArray(),version:Am(e.version)}}var i,a;return r}function KS(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Am(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Mm(n){const e=new Rr(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function Pm(n,e){const t=(e.baseMutations||[]).map(a=>E1(n.le,a));for(let a=0;a<e.mutations.length-1;++a){const d=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(d.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>E1(n.le,a)),i=Rr.fromMillis(e.localWriteTimeMs);return new p1(e.batchId,i,t,r)}function _b(n){const e=Mm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Mm(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var i;return void 0!==n.query.documents?(Ot(1===(i=n.query).documents.length),r=so(U_(_L(i.documents[0])))):r=so(EL(n.query)),new Td(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Vi.fromBase64String(n.resumeToken))}function xL(n,e){const t=Am(e.snapshotVersion),r=Am(e.lastLimboFreeSnapshotVersion);let i;i=HS(e.target)?wL(n.le,e.target):C1(n.le,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Im(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function S1(n){const e=EL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?jS(e,e.limit,"L"):e}function I1(n,e){return new g1(e.largestBatchId,E1(n.le,e.overlayMutation))}function AL(n,e){const t=e.path.lastSegment();return[n,Ns(e.path.popLast()),t]}function ML(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Am(r.readTime),documentKey:Ns(r.documentKey.path),largestBatchId:r.largestBatchId}}class Sz{getBundleMetadata(e,t){return PL(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Mm(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return PL(e).put({bundleId:(r=t).id,createTime:Am(pi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return kL(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:S1(i.bundledQuery),readTime:Mm(i.readTime)};var i})}saveNamedQuery(e,t){return kL(e).put({name:(r=t).name,readTime:Am(pi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function PL(n){return Ki(n,"bundles")}function kL(n){return Ki(n,"namedQueries")}class YS{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new YS(e,t.uid||"")}getOverlay(e,t){return yb(e).get(AL(this.userId,t)).next(r=>r?I1(this.serializer,r):null)}getOverlays(e,t){const r=Wc();return Ve.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,d)=>{const m=new g1(t,d);i.push(this.de(e,m))}),Ve.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Ns(d.getCollectionPath())));const a=[];return i.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);a.push(yb(e).J("collectionPathOverlayIndex",m))}),Ve.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Wc(),a=Ns(t),d=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return yb(e).j("collectionPathOverlayIndex",d).next(m=>{for(const E of m){const I=I1(this.serializer,E);i.set(I.getKey(),I)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Wc();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yb(e).X({index:"collectionGroupOverlayIndex",range:m},(E,I,F)=>{const W=I1(this.serializer,I);a.size()<i||W.largestBatchId===d?(a.set(W.getKey(),W),d=W.largestBatchId):F.done()}).next(()=>a)}de(e,t){return yb(e).put(function(r,i,a){const[d,m,E]=AL(i,a.mutation.key);return{userId:i,collectionPath:m,documentId:E,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:gb(r.le,a.mutation)}}(this.serializer,this.userId,t))}}function yb(n){return Ki(n,"documentOverlays")}class km{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(ii(e.integerValue));else if("doubleValue"in e){const r=ii(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),X0(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Cd(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?CN(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):Ct()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),ut.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function Iz(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function RL(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=Iz(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}km.be=new km;class Dz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Se(r.value),r=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.xe(r.value),r=t.next();this.Ne()}ke(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Se(r);else if(r<2048)this.Se(960|r>>>6),this.Se(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Se(480|r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r);else{const i=t.codePointAt(0);this.Se(240|i>>>18),this.Se(128|63&i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i)}}this.De()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.xe(r);else if(r<2048)this.xe(960|r>>>6),this.xe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.xe(480|r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r);else{const i=t.codePointAt(0);this.xe(240|i>>>18),this.xe(128|63&i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i)}}this.Ne()}Oe(e){const t=this.$e(e),r=RL(t);this.Fe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Be(e){const t=this.$e(e),r=RL(t);this.Fe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Tz{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class xz{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class vb{constructor(){this.Qe=new Dz,this.je=new Tz(this.Qe),this.ze=new xz(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class Rm{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Rm(this.indexId,this.documentKey,this.arrayValue,r)}}function uf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=OL(n.arrayValue,e.arrayValue),0!==t?t:(t=OL(n.directionalValue,e.directionalValue),0!==t?t:ut.comparator(n.documentKey,e.documentKey)))}function OL(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Az{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xe=r:this.Ye.push(r)}}Ze(e){Ot(e.collectionGroup===this.collectionId);const t=YA(e);if(void 0!==t&&!this.tn(t))return!1;const r=Em(e);let i=0,a=0;for(;i<r.length&&this.tn(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Xe){const d=r[i];if(!this.en(this.Xe,d)||!this.nn(this.Je[a++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(a>=this.Je.length||!this.nn(this.Je[a++],d))return!1}return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function FL(n){var e,t;if(Ot(n instanceof yn||n instanceof Yn),n instanceof yn){if(n instanceof FN){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>yn.create(n.field,"==",a)))||[];return Yn.create(i,"or")}return n}const r=n.filters.map(i=>FL(i));return Yn.create(r,n.op)}function Mz(n){if(0===n.getFilters().length)return[];const e=x1(FL(n));return Ot(NL(e)),D1(e)||T1(e)?[e]:e.getFilters()}function D1(n){return n instanceof yn}function T1(n){return n instanceof Yn&&s1(n)}function NL(n){return D1(n)||T1(n)||function(e){if(e instanceof Yn&&r1(e)){for(const t of e.getFilters())if(!D1(t)&&!T1(t))return!1;return!0}return!1}(n)}function x1(n){if(Ot(n instanceof yn||n instanceof Yn),n instanceof yn)return n;if(1===n.filters.length)return x1(n.filters[0]);const e=n.filters.map(r=>x1(r));let t=Yn.create(e,n.op);return t=QS(t),NL(t)?t:(Ot(t instanceof Yn),Ot(H_(t)),Ot(t.filters.length>1),t.filters.reduce((r,i)=>A1(r,i)))}function A1(n,e){let t;return Ot(n instanceof yn||n instanceof Yn),Ot(e instanceof yn||e instanceof Yn),t=n instanceof yn?e instanceof yn?Yn.create([n,e],"and"):LL(n,e):e instanceof yn?LL(e,n):function(r,i){if(Ot(r.filters.length>0&&i.filters.length>0),H_(r)&&H_(i))return kN(r,i.getFilters());const a=r1(r)?r:i,d=r1(r)?i:r,m=a.filters.map(E=>A1(E,d));return Yn.create(m,"or")}(n,e),QS(t)}function LL(n,e){if(H_(e))return kN(e,n.getFilters());{const t=e.filters.map(r=>A1(n,r));return Yn.create(t,"or")}}function QS(n){if(Ot(n instanceof yn||n instanceof Yn),n instanceof yn)return n;const e=n.getFilters();if(1===e.length)return QS(e[0]);if(MN(n))return n;const t=e.map(i=>QS(i)),r=[];return t.forEach(i=>{i instanceof yn?r.push(i):i instanceof Yn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Yn.create(r,n.op)}class Pz{constructor(){this.sn=new M1}addToCollectionParentIndex(e,t){return this.sn.add(t),Ve.resolve()}getCollectionParents(e,t){return Ve.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Ve.resolve()}deleteFieldIndex(e,t){return Ve.resolve()}getDocumentsMatchingTarget(e,t){return Ve.resolve(null)}getIndexType(e,t){return Ve.resolve(0)}getFieldIndexes(e,t){return Ve.resolve([])}getNextCollectionGroupToUpdate(e){return Ve.resolve(null)}getMinOffset(e,t){return Ve.resolve(Yo.min())}getMinOffsetFromCollectionGroup(e,t){return Ve.resolve(Yo.min())}updateCollectionGroup(e,t,r){return Ve.resolve()}updateIndexEntries(e,t){return Ve.resolve()}}class M1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Er(Tn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Er(Tn.comparator)).toArray()}}const XS=new Uint8Array(0);class kz{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new M1,this.on=new Id(r=>Im(r),(r,i)=>rb(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const a={collectionId:r,parent:Ns(i)};return VL(e).put(a)}return Ve.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[rN(t),""],!1,!0);return VL(e).j(i).next(a=>{for(const d of a){if(d.collectionId!==t)break;r.push($c(d.parent))}return r})}addFieldIndex(e,t){const r=JS(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete i.indexId;const a=r.add(i);if(t.indexState){const d=wb(e);return a.next(m=>{d.put(ML(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=JS(e),i=wb(e),a=bb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=bb(e);let i=!0;const a=new Map;return Ve.forEach(this.un(t),d=>this.cn(e,d).next(m=>{i&&(i=!!m),a.set(d,m)})).next(()=>{if(i){let d=cn();const m=[];return Ve.forEach(a,(E,I)=>{var F;et("IndexedDbIndexManager",`Using index ${F=E,`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(dt=>`${dt.fieldPath}:${dt.kind}`).join(",")}`} to execute ${Im(t)}`);const W=function(dt,At){const en=YA(At);if(void 0===en)return null;for(const rn of US(dt,en.fieldPath))switch(rn.op){case"array-contains-any":return rn.value.arrayValue.values||[];case"array-contains":return[rn.value]}return null}(I,E),ce=function(dt,At){const en=new Map;for(const rn of Em(At))for(const Hn of US(dt,rn.fieldPath))switch(Hn.op){case"==":case"in":en.set(rn.fieldPath.canonicalString(),Hn.value);break;case"not-in":case"!=":return en.set(rn.fieldPath.canonicalString(),Hn.value),Array.from(en.values())}return null}(I,E),me=function(dt,At){const en=[];let rn=!0;for(const Hn of Em(At)){const Qi=0===Hn.kind?NN(dt,Hn.fieldPath,dt.startAt):LN(dt,Hn.fieldPath,dt.startAt);en.push(Qi.value),rn&&(rn=Qi.inclusive)}return new lf(en,rn)}(I,E),Ce=function(dt,At){const en=[];let rn=!0;for(const Hn of Em(At)){const Qi=0===Hn.kind?LN(dt,Hn.fieldPath,dt.endAt):NN(dt,Hn.fieldPath,dt.endAt);en.push(Qi.value),rn&&(rn=Qi.inclusive)}return new lf(en,rn)}(I,E),Me=this.an(E,I,me),Ue=this.an(E,I,Ce),rt=this.hn(E,I,ce),vt=this.ln(E.indexId,W,Me,me.inclusive,Ue,Ce.inclusive,rt);return Ve.forEach(vt,dt=>r.H(dt,t.limit).next(At=>{At.forEach(en=>{const rn=ut.fromSegments(en.documentKey);d.has(rn)||(d=d.add(rn),m.push(rn))})}))}).next(()=>m)}return Ve.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:Mz(Yn.create(e.filters,"and")).map(r=>a1(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,r,i,a,d,m){const E=(null!=t?t.length:1)*Math.max(r.length,a.length),I=E/(null!=t?t.length:1),F=[];for(let W=0;W<E;++W){const ce=t?this.fn(t[W/I]):XS,me=this.dn(e,ce,r[W%I],i),Ce=this._n(e,ce,a[W%I],d),Me=m.map(Ue=>this.dn(e,ce,Ue,!0));F.push(...this.createRange(me,Ce,Me))}return F}dn(e,t,r,i){const a=new Rm(e,ut.empty(),t,r);return i?a:a.He()}_n(e,t,r,i){const a=new Rm(e,ut.empty(),t,r);return i?a.He():a}cn(e,t){const r=new Az(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let d=null;for(const m of a)r.Ze(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;const i=this.un(t);return Ve.forEach(i,a=>this.cn(e,a).next(d=>{d?0!==r&&d.fields.length<function(m){let E=new Er(ri.comparator),I=!1;for(const F of m.filters)for(const W of F.getFlattenedFilters())W.field.isKeyField()||("array-contains"===W.op||"array-contains-any"===W.op?I=!0:E=E.add(W.field));for(const F of m.orderBy)F.field.isKeyField()||(E=E.add(F.field));return E.size+(I?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}wn(e,t){const r=new vb;for(const i of Em(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const d=r.We(i.kind);km.be._e(a,d)}return r.Ge()}fn(e){const t=new vb;return km.be._e(e,t.We(0)),t.Ge()}mn(e,t){const r=new vb;return km.be._e(Sm(this.databaseId,t),r.We(function(i){const a=Em(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Ge()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new vb);let a=0;for(const d of Em(e)){const m=r[a++];for(const E of i)if(this.gn(t,d.fieldPath)&&tb(m))i=this.yn(i,d,m);else{const I=E.We(d.kind);km.be._e(m,I)}}return this.pn(i)}an(e,t,r){return this.hn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ge();return t}yn(e,t,r){const i=[...e],a=[];for(const d of r.arrayValue.values||[])for(const m of i){const E=new vb;E.seed(m.Ge()),km.be._e(d,E.We(t.kind)),a.push(E)}return a}gn(e,t){return!!e.filters.find(r=>r instanceof yn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=JS(e),i=wb(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const d=[];return Ve.forEach(a,m=>i.get([m.indexId,this.uid]).next(E=>{d.push(function(I,F){const W=F?new K0(F.sequenceNumber,new Yo(Mm(F.readTime),new ut($c(F.documentKey)),F.largestBatchId)):K0.empty(),ce=I.fields.map(([me,Ce])=>new PS(ri.fromServerFormat(me),Ce));return new MS(I.indexId,I.collectionGroup,ce,W)}(m,E))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:tn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=JS(e),a=wb(e);return this.In(e).next(d=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Ve.forEach(m,E=>a.put(ML(E.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return Ve.forEach(t,(i,a)=>{const d=r.get(i.collectionGroup);return(d?Ve.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),Ve.forEach(m,E=>this.Tn(e,i,E).next(I=>{const F=this.En(a,E);return I.isEqual(F)?Ve.resolve():this.An(e,a,E,I,F)}))))})}Rn(e,t,r,i){return bb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return bb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}Tn(e,t,r){const i=bb(e);let a=new Er(uf);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(d,m)=>{a=a.add(new Rm(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>a)}En(e,t){let r=new Er(uf);const i=this.wn(t,e);if(null==i)return r;const a=YA(t);if(null!=a){const d=e.data.field(a.fieldPath);if(tb(d))for(const m of d.arrayValue.values||[])r=r.add(new Rm(t.indexId,e.key,this.fn(m),i))}else r=r.add(new Rm(t.indexId,e.key,XS,i));return r}An(e,t,r,i,a){et("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,E,I,F,W){const ce=m.getIterator(),me=E.getIterator();let Ce=L_(ce),Me=L_(me);for(;Ce||Me;){let Ue=!1,rt=!1;if(Ce&&Me){const vt=I(Ce,Me);vt<0?rt=!0:vt>0&&(Ue=!0)}else null!=Ce?rt=!0:Ue=!0;Ue?(F(Me),Me=L_(me)):rt?(W(Ce),Ce=L_(ce)):(Ce=L_(ce),Me=L_(me))}}(i,a,uf,m=>{d.push(this.Rn(e,t,r,m))},m=>{d.push(this.vn(e,t,r,m))}),Ve.waitFor(d)}In(e){let t=1;return wb(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>uf(d,m)).filter((d,m,E)=>!m||0!==uf(d,E[m-1]));const i=[];i.push(e);for(const d of r){const m=uf(d,e),E=uf(d,t);if(0===m)i[0]=e.He();else if(m>0&&E<0)i.push(d),i.push(d.He());else if(E>0)break}i.push(t);const a=[];for(let d=0;d<i.length;d+=2){if(this.Pn(i[d],i[d+1]))return[];a.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,XS,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,XS,[]]))}return a}Pn(e,t){return uf(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(BL)}getMinOffset(e,t){return Ve.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||Ct())).next(BL)}}function VL(n){return Ki(n,"collectionParents")}function bb(n){return Ki(n,"indexEntries")}function JS(n){return Ki(n,"indexConfiguration")}function wb(n){return Ki(n,"indexState")}function BL(n){Ot(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;QA(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Yo(e.readTime,e.documentKey,t)}const HL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ls{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ls(e,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function UL(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],d=IDBKeyRange.only(t.batchId);let m=0;const E=r.X({range:d},(F,W,ce)=>(m++,ce.delete()));a.push(E.next(()=>{Ot(1===m)}));const I=[];for(const F of t.mutations){const W=hN(e,F.key.path,t.batchId);a.push(i.delete(W)),I.push(F.key)}return Ve.waitFor(a).next(()=>I)}function eI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ct();e=n.noDocument}return JSON.stringify(e).length}Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(41943040,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);class tI{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.bn={}}static fe(e,t,r,i){Ot(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new tI(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return df(e).X({index:"userMutationsIndex",range:r},(i,a,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Z_(e),d=df(e);return d.add({}).next(m=>{Ot("number"==typeof m);const E=new p1(m,t,r,i),I=function(ce,me,Ce){const Me=Ce.baseMutations.map(rt=>gb(ce.le,rt)),Ue=Ce.mutations.map(rt=>gb(ce.le,rt));return{userId:me,batchId:Ce.batchId,localWriteTimeMs:Ce.localWriteTime.toMillis(),baseMutations:Me,mutations:Ue}}(this.serializer,this.userId,E),F=[];let W=new Er((ce,me)=>tn(ce.canonicalString(),me.canonicalString()));for(const ce of i){const me=hN(this.userId,ce.key.path,m);W=W.add(ce.key.path.popLast()),F.push(d.put(I)),F.push(a.put(me,vU))}return W.forEach(ce=>{F.push(this.indexManager.addToCollectionParentIndex(e,ce))}),e.addOnCommittedListener(()=>{this.bn[m]=E.keys()}),Ve.waitFor(F).next(()=>E)})}lookupMutationBatch(e,t){return df(e).get(t).next(r=>r?(Ot(r.userId===this.userId),Pm(this.serializer,r)):null)}Vn(e,t){return this.bn[t]?Ve.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return df(e).X({index:"userMutationsIndex",range:i},(d,m,E)=>{m.userId===this.userId&&(Ot(m.batchId>=r),a=Pm(this.serializer,m)),E.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return df(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,d)=>{r=a.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return df(e).j("userMutationsIndex",t).next(r=>r.map(i=>Pm(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=RS(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Z_(e).X({range:i},(d,m,E)=>{const[I,F,W]=d,ce=$c(F);if(I===this.userId&&t.path.isEqual(ce))return df(e).get(W).next(me=>{if(!me)throw Ct();Ot(me.userId===this.userId),a.push(Pm(this.serializer,me))});E.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Er(tn);const i=[];return t.forEach(a=>{const d=RS(this.userId,a.path),m=IDBKeyRange.lowerBound(d),E=Z_(e).X({range:m},(I,F,W)=>{const[ce,me,Ce]=I,Me=$c(me);ce===this.userId&&a.path.isEqual(Me)?r=r.add(Ce):W.done()});i.push(E)}),Ve.waitFor(i).next(()=>this.Sn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=RS(this.userId,r),d=IDBKeyRange.lowerBound(a);let m=new Er(tn);return Z_(e).X({range:d},(E,I,F)=>{const[W,ce,me]=E,Ce=$c(ce);W===this.userId&&r.isPrefixOf(Ce)?Ce.length===i&&(m=m.add(me)):F.done()}).next(()=>this.Sn(e,m))}Sn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(df(e).get(a).next(d=>{if(null===d)throw Ct();Ot(d.userId===this.userId),r.push(Pm(this.serializer,d))}))}),Ve.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return UL(e.at,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),Ve.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ve.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Z_(e).X({range:r},(a,d,m)=>{if(a[0]===this.userId){const E=$c(a[1]);i.push(E)}else m.done()}).next(()=>{Ot(0===i.length)})})}containsKey(e,t){return zL(e,this.userId,t)}Cn(e){return jL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zL(n,e,t){const r=RS(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let d=!1;return Z_(n).X({range:a,Y:!0},(m,E,I)=>{const[F,W,ce]=m;F===e&&W===i&&(d=!0),I.done()}).next(()=>d)}function df(n){return Ki(n,"mutations")}function Z_(n){return Ki(n,"documentMutations")}function jL(n){return Ki(n,"mutationQueues")}class Om{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Om(0)}static kn(){return new Om(-1)}}class Rz{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const r=new Om(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>Nt.fromTimestamp(new Rr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Mn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(r=>(r.targetCount+=1,this.Fn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>K_(e).delete(t.targetId)).next(()=>this.Mn(e)).next(r=>(Ot(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return K_(e).X((d,m)=>{const E=_b(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(i++,a.push(this.removeTargetData(e,E)))}).next(()=>Ve.waitFor(a)).next(()=>i)}forEachTarget(e,t){return K_(e).X((r,i)=>{const a=_b(i);t(a)})}Mn(e){return GL(e).get("targetGlobalKey").next(t=>(Ot(null!==t),t))}On(e,t){return GL(e).put("targetGlobalKey",t)}$n(e,t){return K_(e).put(xL(this.serializer,t))}Fn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Im(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return K_(e).X({range:i,index:"queryTargetsIndex"},(d,m,E)=>{const I=_b(m);rb(t,I.target)&&(a=I,E.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=hf(e);return t.forEach(d=>{const m=Ns(d.path);i.push(a.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,d))}),Ve.waitFor(i)}removeMatchingKeys(e,t,r){const i=hf(e);return Ve.forEach(t,a=>{const d=Ns(a.path);return Ve.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=hf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=hf(e);let a=cn();return i.X({range:r,Y:!0},(d,m,E)=>{const I=$c(d[1]),F=new ut(I);a=a.add(F)}).next(()=>a)}containsKey(e,t){const r=Ns(t.path),i=IDBKeyRange.bound([r],[rN(r)],!1,!0);let a=0;return hf(e).X({index:"documentTargetsIndex",Y:!0,range:i},([d,m],E,I)=>{0!==d&&(a++,I.done())}).next(()=>a>0)}he(e,t){return K_(e).get(t).next(r=>r?_b(r):null)}}function K_(n){return Ki(n,"targets")}function GL(n){return Ki(n,"targetGlobal")}function hf(n){return Ki(n,"targetDocuments")}function $L([n,e],[t,r]){const i=tn(n,t);return 0===i?tn(e,r):i}class Oz{constructor(e){this.Bn=e,this.buffer=new Er($L),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();$L(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;et("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,He.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Jh(r)?et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Xh(r)}yield t.Gn(3e5)}))}}class Fz{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ve.resolve(Qo.ct);const r=new Oz(t);return this.Qn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.Qn.zn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Qn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(HL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HL):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let r,i,a,d,m,E,I;const F=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(W=>(W>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${W}`),i=this.params.maximumSequenceNumbersToCollect):i=W,d=Date.now(),this.nthSequenceNumber(e,i))).next(W=>(r=W,m=Date.now(),this.removeTargets(e,r,t))).next(W=>(a=W,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(W=>(I=Date.now(),ZA()<=La.in.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-F}ms\n\tDetermined least recently used ${i} in `+(m-d)+`ms\n\tRemoved ${a} targets in `+(E-m)+`ms\n\tRemoved ${W} documents in `+(I-E)+`ms\nTotal Duration: ${I-F}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:W})))}}class Nz{constructor(e,t){this.db=e,this.garbageCollector=function WL(n,e){return new Fz(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Hn(e){let t=0;return this.zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(r,i)=>t(i))}addReference(e,t,r){return nI(e,r)}removeReference(e,t,r){return nI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return nI(e,t)}Yn(e,t){return function(r,i){let a=!1;return jL(r).Z(d=>zL(r,d,i).next(m=>(m&&(a=!0),Ve.resolve(!m)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Jn(e,(d,m)=>{if(m<=t){const E=this.Yn(e,d).next(I=>{if(!I)return a++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Nt.min()),hf(e).delete([0,Ns(d.path)])))});i.push(E)}}).next(()=>Ve.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return nI(e,t)}Jn(e,t){const r=hf(e);let i,a=Qo.ct;return r.X({index:"documentTargetsIndex"},([d,m],{path:E,sequenceNumber:I})=>{0===d?(a!==Qo.ct&&t(new ut($c(i)),a),a=I,i=E):a=Qo.ct}).next(()=>{a!==Qo.ct&&t(new ut($c(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nI(n,e){return hf(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ns(e.path),sequenceNumber:r}));var r}class ZL{constructor(){this.changes=new Id(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ve.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Fm(e).put(r)}removeEntry(e,t,r){return Fm(e).delete(function(i,a){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],KS(a),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Xn(e,r)))}getEntry(e,t){let r=Cr.newInvalidDocument(t);return Fm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Eb(t))},(i,a)=>{r=this.Zn(t,a)}).next(()=>r)}ts(e,t){let r={size:0,document:Cr.newInvalidDocument(t)};return Fm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Eb(t))},(i,a)=>{r={document:this.Zn(t,a),size:eI(a)}}).next(()=>r)}getEntries(e,t){let r=So();return this.es(e,t,(i,a)=>{const d=this.Zn(i,a);r=r.insert(i,d)}).next(()=>r)}ns(e,t){let r=So(),i=new mr(ut.comparator);return this.es(e,t,(a,d)=>{const m=this.Zn(a,d);r=r.insert(a,m),i=i.insert(a,eI(d))}).next(()=>({documents:r,ss:i}))}es(e,t,r){if(t.isEmpty())return Ve.resolve();let i=new Er(XL);t.forEach(E=>i=i.add(E));const a=IDBKeyRange.bound(Eb(i.first()),Eb(i.last())),d=i.getIterator();let m=d.getNext();return Fm(e).X({index:"documentKeyIndex",range:a},(E,I,F)=>{const W=ut.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;m&&XL(m,W)<0;)r(m,null),m=d.getNext();m&&m.isEqual(W)&&(r(m,I),m=d.hasNext()?d.getNext():null),m?F.G(Eb(m)):F.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,d=[a.popLast().toArray(),a.lastSegment(),KS(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fm(e).j(IDBKeyRange.bound(d,m,!0)).next(E=>{let I=So();for(const F of E){const W=this.Zn(ut.fromSegments(F.prefixPath.concat(F.collectionGroup,F.documentId)),F);W.isFoundDocument()&&(sb(t,W)||i.has(W.key))&&(I=I.insert(W.key,W))}return I})}getAllFromCollectionGroup(e,t,r,i){let a=So();const d=QL(t,r),m=QL(t,Yo.max());return Fm(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(E,I,F)=>{const W=this.Zn(ut.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);a=a.insert(W.key,W),a.size===i&&F.done()}).next(()=>a)}newChangeBuffer(e){return new Vz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return YL(e).get("remoteDocumentGlobalKey").next(t=>(Ot(!!t),t))}Xn(e,t){return YL(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const r=function Cz(n,e){let t;if(e.document)t=bL(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ut.fromSegments(e.noDocument.path),i=Mm(e.noDocument.readTime);t=Cr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ct();{const r=ut.fromSegments(e.unknownDocument.path),i=Mm(e.unknownDocument.version);t=Cr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Rr(r[0],r[1]);return Nt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return Cr.newInvalidDocument(e)}}function KL(n){return new Lz(n)}class Vz extends ZL{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new Id(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Er((a,d)=>tn(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const m=this.os.get(a);if(t.push(this.rs.removeEntry(e,a,m.readTime)),d.isValidDocument()){const E=TL(this.rs.serializer,d);i=i.add(a.path.popLast()),r+=eI(E)-m.size,t.push(this.rs.addEntry(e,a,E))}else if(r-=m.size,this.trackRemovals){const E=TL(this.rs.serializer,d.convertToNoDocument(Nt.min()));t.push(this.rs.addEntry(e,a,E))}}),i.forEach(a=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.rs.updateMetadata(e,r)),Ve.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(r=>(this.os.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:r,ss:i})=>(i.forEach((a,d)=>{this.os.set(a,{size:d,readTime:r.get(a).readTime})}),r))}}function YL(n){return Ki(n,"remoteDocumentGlobal")}function Fm(n){return Ki(n,"remoteDocumentsV14")}function Eb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function QL(n,e){const t=e.documentKey.path.toArray();return[n,KS(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function XL(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=tn(t[a],r[a]),i)return i;return i=tn(t.length,r.length),i||(i=tn(t[t.length-2],r[r.length-2]),i||tn(t[t.length-1],r[r.length-1]))}class Bz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class JL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&ub(r.mutation,i,Co.empty(),Rr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,cn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=cn()){const i=Wc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let d=ab();return a.forEach((m,E)=>{d=d.insert(m,E.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Wc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,cn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,i){let a=So();const d=lb(),m=lb();return t.forEach((E,I)=>{const F=r.get(I.key);i.has(I.key)&&(void 0===F||F.mutation instanceof Dd)?a=a.insert(I.key,I):void 0!==F?(d.set(I.key,F.mutation.getFieldMask()),ub(F.mutation,I,F.mutation.getFieldMask(),Rr.now())):d.set(I.key,Co.empty())}),this.recalculateAndSaveOverlays(e,a).next(E=>(E.forEach((I,F)=>d.set(I,F)),t.forEach((I,F)=>{var W;return m.set(I,new Bz(F,null!==(W=d.get(I))&&void 0!==W?W:null))}),m))}recalculateAndSaveOverlays(e,t){const r=lb();let i=new mr((d,m)=>d-m),a=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(E=>{const I=t.get(E);if(null===I)return;let F=r.get(E)||Co.empty();F=m.applyToLocalView(I,F),r.set(E,F);const W=(i.get(m.batchId)||cn()).add(E);i=i.insert(m.batchId,W)})}).next(()=>{const d=[],m=i.getReverseIterator();for(;m.hasNext();){const E=m.getNext(),I=E.key,F=E.value,W=$N();F.forEach(ce=>{if(!a.has(ce)){const me=eL(t.get(ce),r.get(ce));null!==me&&W.set(ce,me),a=a.add(ce)}}),d.push(this.documentOverlayCache.saveOverlays(e,I,W))}return Ve.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ut.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):c1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const d=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Ve.resolve(Wc());let m=-1,E=a;return d.next(I=>Ve.forEach(I,(F,W)=>(m<W.largestBatchId&&(m=W.largestBatchId),a.get(F)?Ve.resolve():this.remoteDocumentCache.getEntry(e,F).next(ce=>{E=E.insert(F,ce)}))).next(()=>this.populateOverlays(e,I,a)).next(()=>this.computeViews(e,E,I,cn())).next(F=>({batchId:m,changes:GN(F)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ut(t)).next(r=>{let i=ab();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=ab();return this.indexManager.getCollectionParents(e,i).next(d=>Ve.forEach(d,m=>{const E=(I=t,F=m.child(i),new Sd(F,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,F;return this.getDocumentsMatchingCollectionQuery(e,E,r).next(I=>{I.forEach((F,W)=>{a=a.insert(F,W)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((m,E)=>{const I=E.getKey();null===a.get(I)&&(a=a.insert(I,Cr.newInvalidDocument(I)))});let d=ab();return a.forEach((m,E)=>{const I=i.get(m);void 0!==I&&ub(I.mutation,E,Co.empty(),Rr.now()),sb(t,E)&&(d=d.insert(m,E))}),d})}}class Hz{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return Ve.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:pi(r.createTime)}),Ve.resolve()}getNamedQuery(e,t){return Ve.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:S1(r.bundledQuery),readTime:pi(r.readTime)}),Ve.resolve();var r}}class Uz{constructor(){this.overlays=new mr(ut.comparator),this.hs=new Map}getOverlay(e,t){return Ve.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Wc();return Ve.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.de(e,t,a)}),Ve.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hs.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.hs.delete(r)),Ve.resolve()}getOverlaysForCollection(e,t,r){const i=Wc(),a=t.length+1,d=new ut(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const E=m.getNext().value,I=E.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===a&&E.largestBatchId>r&&i.set(E.getKey(),E)}return Ve.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new mr((I,F)=>I-F);const d=this.overlays.getIterator();for(;d.hasNext();){const I=d.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let F=a.get(I.largestBatchId);null===F&&(F=Wc(),a=a.insert(I.largestBatchId,F)),F.set(I.getKey(),I)}}const m=Wc(),E=a.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((I,F)=>m.set(I,F)),!(m.size()>=i)););return Ve.resolve(m)}de(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new g1(t,r));let a=this.hs.get(t);void 0===a&&(a=cn(),this.hs.set(t,a)),this.hs.set(t,a.add(r.key))}}class P1{constructor(){this.ls=new Er(Yi.fs),this.ds=new Er(Yi._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new Yi(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new Yi(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new ut(new Tn([])),r=new Yi(t,e),i=new Yi(t,e+1),a=[];return this.ds.forEachInRange([r,i],d=>{this.gs(d),a.push(d.key)}),a}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new ut(new Tn([])),r=new Yi(t,e),i=new Yi(t,e+1);let a=cn();return this.ds.forEachInRange([r,i],d=>{a=a.add(d.key)}),a}containsKey(e){const t=new Yi(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Yi{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return ut.comparator(e.key,t.key)||tn(e.Es,t.Es)}static _s(e,t){return tn(e.Es,t.Es)||ut.comparator(e.key,t.key)}}class zz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new Er(Yi.fs)}checkEmpty(e){return Ve.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.As;this.As++;const d=new p1(a,t,r,i);this.mutationQueue.push(d);for(const m of i)this.Rs=this.Rs.add(new Yi(m.key,a)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ve.resolve(d)}lookupMutationBatch(e,t){return Ve.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ps(t+1),a=i<0?0:i;return Ve.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return Ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yi(t,0),i=new Yi(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],d=>{const m=this.vs(d.Es);a.push(m)}),Ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Er(tn);return t.forEach(i=>{const a=new Yi(i,0),d=new Yi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,d],m=>{r=r.add(m.Es)})}),Ve.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;ut.isDocumentKey(a)||(a=a.child(""));const d=new Yi(new ut(a),0);let m=new Er(tn);return this.Rs.forEachWhile(E=>{const I=E.key.path;return!!r.isPrefixOf(I)&&(I.length===i&&(m=m.add(E.Es)),!0)},d),Ve.resolve(this.bs(m))}bs(e){const t=[];return e.forEach(r=>{const i=this.vs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ot(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Ve.forEach(t.mutations,i=>{const a=new Yi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new Yi(t,0),i=this.Rs.firstAfterOrEqual(r);return Ve.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Ve.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jz{constructor(e){this.Ss=e,this.docs=new mr(ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,d=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ve.resolve(r?r.document.mutableCopy():Cr.newInvalidDocument(t))}getEntries(e,t){let r=So();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Cr.newInvalidDocument(i))}),Ve.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=So();const d=t.path,m=new ut(d.child("")),E=this.docs.getIteratorFrom(m);for(;E.hasNext();){const{key:I,value:{document:F}}=E.getNext();if(!d.isPrefixOf(I.path))break;I.path.length>d.length+1||QA(sN(F),r)<=0||(i.has(F.key)||sb(t,F))&&(a=a.insert(F.key,F.mutableCopy()))}return Ve.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Ct()}Ds(e,t){return Ve.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Gz(this)}getSize(e){return Ve.resolve(this.size)}}class Gz extends ZL{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),Ve.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class $z{constructor(e){this.persistence=e,this.Cs=new Id(t=>Im(t),rb),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new P1,this.targetCount=0,this.ks=Om.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,i)=>t(i)),Ve.resolve()}getLastRemoteSnapshotVersion(e){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ve.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),Ve.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Om(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,Ve.resolve()}updateTargetData(e,t){return this.$n(t),Ve.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Cs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Cs.delete(d),a.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),Ve.waitFor(a).next(()=>i)}getTargetCount(e){return Ve.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return Ve.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),Ve.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(d=>{a.push(i.markPotentiallyOrphaned(e,d))}),Ve.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),Ve.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return Ve.resolve(r)}containsKey(e,t){return Ve.resolve(this.Ns.containsKey(t))}}class k1{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Qo(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new $z(this),this.indexManager=new Pz,this.remoteDocumentCache=new jz(r=>this.referenceDelegate.Bs(r)),this.serializer=new DL(t),this.Ls=new Hz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Uz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new zz(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){et("MemoryPersistence","Starting transaction:",e);const i=new qz(this.Os.next());return this.referenceDelegate.qs(),r(i).next(a=>this.referenceDelegate.Us(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ks(e,t){return Ve.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class qz extends aN{constructor(e){super(),this.currentSequenceNumber=e}}class rI{constructor(e){this.persistence=e,this.Gs=new P1,this.Qs=null}static js(e){return new rI(e)}get zs(){if(this.Qs)return this.Qs;throw Ct()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),Ve.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),Ve.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),Ve.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.zs.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.zs,r=>{const i=ut.fromPath(r);return this.Ws(e,i).next(a=>{a||t.removeEntry(i,Nt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return Ve.or([()=>Ve.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class Wz{constructor(e){this.serializer=e}$(e,t,r,i){const a=new kS("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dN,{unique:!0}),m.createObjectStore("documentMutations"),e2(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=Ve.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),e2(e)),d=d.next(()=>function(m){const E=m.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",I)}(a))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(m,E){return E.store("mutations").j().next(I=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dN,{unique:!0});const F=E.store("mutations"),W=I.map(ce=>F.put(ce));return Ve.waitFor(W)})}(e,a))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Js(a))),r<6&&i>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(a)))),r<7&&i>=7&&(d=d.next(()=>this.Xs(a))),r<8&&i>=8&&(d=d.next(()=>this.Zs(e,a))),r<9&&i>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.ti(a))),r<11&&i>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:PU});E.createIndex("collectionPathOverlayIndex",kU,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",RU,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:bU});E.createIndex("documentKeyIndex",wU),E.createIndex("collectionGroupIndex",EU)}(e)).next(()=>this.ei(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.ni(e,a))),r<15&&i>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:TU}).createIndex("sequenceNumberIndex",xU,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:AU}).createIndex("documentKeyIndex",MU,{unique:!1})}(e))),d}Ys(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=eI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Js(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>Ve.forEach(i,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",d).next(m=>Ve.forEach(m,E=>{Ot(E.userId===a.userId);const I=Pm(this.serializer,E);return UL(e,a.userId,I).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((d,m)=>{const E=new Tn(d),I=[0,Ns(E)];a.push(t.get(I).next(F=>F?Ve.resolve():t.put({targetId:0,path:Ns(E),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Ve.waitFor(a))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:DU});const r=t.store("collectionParents"),i=new M1,a=d=>{if(i.add(d)){const m=d.lastSegment(),E=d.popLast();return r.put({collectionId:m,parent:Ns(E)})}};return t.store("remoteDocuments").X({Y:!0},(d,m)=>{const E=new Tn(d);return a(E.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([d,m,E],I)=>{const F=$c(m);return a(F.popLast())}))}ti(e){const t=e.store("targets");return t.X((r,i)=>{const a=_b(i),d=xL(this.serializer,a);return t.put(d)})}ei(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,d)=>{const m=t.store("remoteDocumentsV14"),E=(I=d,I.document?new ut(Tn.fromString(I.document.name).popFirst(5)):I.noDocument?ut.fromSegments(I.noDocument.path):I.unknownDocument?ut.fromSegments(I.unknownDocument.path):Ct()).path.toArray();var I;const F={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(m.put(F))}).next(()=>Ve.waitFor(i))}ni(e,t){const r=t.store("mutations"),i=KL(this.serializer),a=new k1(rI.js,this.serializer.le);return r.j().next(d=>{const m=new Map;return d.forEach(E=>{var I;let F=null!==(I=m.get(E.userId))&&void 0!==I?I:cn();Pm(this.serializer,E).keys().forEach(W=>F=F.add(W)),m.set(E.userId,F)}),Ve.forEach(m,(E,I)=>{const F=new Zi(I),W=YS.fe(this.serializer,F),ce=a.getIndexManager(F),me=tI.fe(F,this.serializer,ce,a.referenceDelegate);return new JL(i,me,W,ce).recalculateAndSaveOverlaysForDocumentKeys(new e1(t,Qo.ct),E).next()})})}}function e2(n){n.createObjectStore("targetDocuments",{keyPath:SU}).createIndex("documentTargetsIndex",IU,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",CU,{unique:!0}),n.createObjectStore("targetGlobal")}const R1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class O1{constructor(e,t,r,i,a,d,m,E,I,F,W=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=a,this.window=d,this.document=m,this.ii=I,this.ri=F,this.oi=W,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=ce=>Promise.resolve(),!O1.D())throw new Ke(je.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nz(this,i),this.fi=t+"main",this.serializer=new DL(E),this.di=new Rl(this.fi,this.oi,new Wz(this.serializer)),this.Fs=new Rz(this.referenceDelegate,this.serializer),this.remoteDocumentCache=KL(this.serializer),this.Ls=new Sz,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===F&&fi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ke(je.FAILED_PRECONDITION,R1);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Qo(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var r=(0,He.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,He.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,He.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>sI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(Jh(e))return et("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return Cb(e).get("owner").next(t=>Ve.resolve(this.Ri(t)))}vi(e){return sI(e).delete(this.clientId)}Pi(){var e=this;return(0,He.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ki(r,"clientMetadata");return i.j().next(a=>{const d=e.Vi(a,18e5),m=a.filter(E=>-1===d.indexOf(E));return Ve.forEach(m,E=>i.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Si(r.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?Ve.resolve(!0):Cb(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ke(je.FAILED_PRECONDITION,R1);return!1}}return!(!this.networkEnabled||!this.inForeground)||sI(e).j().next(r=>void 0===this.Vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&et("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,He.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new e1(t,Qo.ct);return e.Ei(r).next(()=>e.vi(r))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(r=>this.bi(r.updateTimeMs,t)&&!this.Di(r.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>sI(e).j().next(t=>this.Vi(t,18e5).map(r=>r.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return tI.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new kz(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return YS.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,r){et("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(d=this.oi)?FU:14===d?mN:13===d?pN:12===d?OU:11===d?fN:void Ct();var d;let m;return this.di.runTransaction(e,i,a,E=>(m=new e1(E,this.Os?this.Os.next():Qo.ct),"readwrite-primary"===t?this.Ii(m).next(I=>!!I||this.Ti(m)).next(I=>{if(!I)throw fi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Ke(je.FAILED_PRECONDITION,oN);return r(m)}).next(I=>this.Ai(m).next(()=>I)):this.Oi(m).next(()=>r(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}Oi(e){return Cb(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ke(je.FAILED_PRECONDITION,R1)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cb(e).put("owner",t)}static D(){return Rl.D()}Ei(e){const t=Cb(e);return t.get("owner").next(r=>this.Ri(r)?(et("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ve.resolve())}bi(e,t){const r=Date.now();return!(e<r-t||e>r&&(fi(`Detected an update time that is in the future: ${e} > ${r}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,Cn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return et("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return fi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){fi("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cb(n){return Ki(n,"owner")}function sI(n){return Ki(n,"clientMetadata")}function F1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class N1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=i}static Bi(e,t){let r=cn(),i=cn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new N1(e,t.fromCache,r,i)}}class t2{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ui(e,t).next(a=>a||this.Ki(e,t,i,r)).next(a=>a||this.Gi(e,t))}Ui(e,t){if(BN(t))return Ve.resolve(null);let r=so(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=jS(t,null,"F"),r=so(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const d=cn(...a);return this.qi.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(E=>{const I=this.Qi(t,m);return this.ji(t,I,d,E.readTime)?this.Ui(e,jS(t,null,"F")):this.zi(e,I,t,E)}))})))}Ki(e,t,r,i){return BN(t)||i.isEqual(Nt.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(a=>{const d=this.Qi(t,a);return this.ji(t,d,r,i)?this.Gi(e,t):(ZA()<=La.in.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),d1(t)),this.zi(e,d,t,iN(i,-1)))})}Qi(e,t){let r=new Er(zN(e));return t.forEach((i,a)=>{sb(e,a)&&(r=r.add(a))}),r}ji(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Gi(e,t){return ZA()<=La.in.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",d1(t)),this.qi.getDocumentsMatchingQuery(e,t,Yo.min())}zi(e,t,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(d=>{a=a.insert(d.key,d)}),a))}}class Zz{constructor(e,t,r,i){this.persistence=e,this.Wi=t,this.serializer=i,this.Hi=new mr(tn),this.Ji=new Id(a=>Im(a),rb),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JL(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function n2(n,e,t,r){return new Zz(n,e,t,r)}function r2(n,e){return L1.apply(this,arguments)}function L1(){return L1=(0,He.Z)(function*(n,e){const t=mt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const d=[],m=[];let E=cn();for(const I of i){d.push(I.batchId);for(const F of I.mutations)E=E.add(F.key)}for(const I of a){m.push(I.batchId);for(const F of I.mutations)E=E.add(F.key)}return t.localDocuments.getDocuments(r,E).next(I=>({tr:I,removedBatchIds:d,addedBatchIds:m}))})})}),L1.apply(this,arguments)}function Kz(n,e){const t=mt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Xi.newChangeBuffer({trackRemovals:!0});return function(d,m,E,I){const F=E.batch,W=F.keys();let ce=Ve.resolve();return W.forEach(me=>{ce=ce.next(()=>I.getEntry(m,me)).next(Ce=>{const Me=E.docVersions.get(me);Ot(null!==Me),Ce.version.compareTo(Me)<0&&(F.applyToRemoteDocument(Ce,E),Ce.isValidDocument()&&(Ce.setReadTime(E.commitVersion),I.addEntry(Ce)))})}),ce.next(()=>d.mutationQueue.removeMutationBatch(m,F))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=cn();for(let E=0;E<d.mutationResults.length;++E)d.mutationResults[E].transformResults.length>0&&(m=m.add(d.batch.mutations[E].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function s2(n){const e=mt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function Yz(n,e){const t=mt(n),r=e.snapshotVersion;let i=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=t.Xi.newChangeBuffer({trackRemovals:!0});i=t.Hi;const m=[];e.targetChanges.forEach((F,W)=>{const ce=i.get(W);if(!ce)return;m.push(t.Fs.removeMatchingKeys(a,F.removedDocuments,W).next(()=>t.Fs.addMatchingKeys(a,F.addedDocuments,W)));let me=ce.withSequenceNumber(a.currentSequenceNumber);var Ce,Me,Ue;null!==e.targetMismatches.get(W)?me=me.withResumeToken(Vi.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):F.resumeToken.approximateByteSize()>0&&(me=me.withResumeToken(F.resumeToken,r)),i=i.insert(W,me),Me=me,Ue=F,(0===(Ce=ce).resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-Ce.snapshotVersion.toMicroseconds()>=3e8||Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0)&&m.push(t.Fs.updateTargetData(a,me))});let E=So(),I=cn();if(e.documentUpdates.forEach(F=>{e.resolvedLimboDocuments.has(F)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(a,F))}),m.push(o2(a,d,e.documentUpdates).next(F=>{E=F.er,I=F.nr})),!r.isEqual(Nt.min())){const F=t.Fs.getLastRemoteSnapshotVersion(a).next(W=>t.Fs.setTargetsMetadata(a,a.currentSequenceNumber,r));m.push(F)}return Ve.waitFor(m).next(()=>d.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,E,I)).next(()=>E)}).then(a=>(t.Hi=i,a))}function o2(n,e,t){let r=cn(),i=cn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let d=So();return t.forEach((m,E)=>{const I=a.get(m);E.isFoundDocument()!==I.isFoundDocument()&&(i=i.add(m)),E.isNoDocument()&&E.version.isEqual(Nt.min())?(e.removeEntry(m,E.readTime),d=d.insert(m,E)):!I.isValidDocument()||E.version.compareTo(I.version)>0||0===E.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(E),d=d.insert(m,E)):et("LocalStore","Ignoring outdated watch update for ",m,". Current version:",I.version," Watch version:",E.version)}),{er:d,nr:i}})}function Qz(n,e){const t=mt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y_(n,e){const t=mt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Fs.getTargetData(r,e).next(a=>a?(i=a,Ve.resolve(i)):t.Fs.allocateTargetId(r).next(d=>(i=new Td(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Hi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}function Q_(n,e,t){return V1.apply(this,arguments)}function V1(){return V1=(0,He.Z)(function*(n,e,t){const r=mt(n),i=r.Hi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Jh(d))throw d;et("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}),V1.apply(this,arguments)}function oI(n,e,t){const r=mt(n);let i=Nt.min(),a=cn();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,E,I){const F=mt(m),W=F.Ji.get(I);return void 0!==W?Ve.resolve(F.Hi.get(W)):F.Fs.getTargetData(E,I)}(r,d,so(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(d,m.targetId).next(E=>{a=E})}).next(()=>r.Wi.getDocumentsMatchingQuery(d,e,t?i:Nt.min(),t?a:cn())).next(m=>(c2(r,UN(e),m),{documents:m,sr:a})))}function a2(n,e){const t=mt(n),r=mt(t.Fs),i=t.Hi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.he(a,e).next(d=>d?d.target:null))}function l2(n,e){const t=mt(n),r=t.Yi.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Xi.getAllFromCollectionGroup(i,e,iN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(c2(t,e,i),i))}function c2(n,e,t){let r=n.Yi.get(e)||Nt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Yi.set(e,r)}function B1(){return B1=(0,He.Z)(function*(n,e,t,r){const i=mt(n);let a=cn(),d=So();for(const I of t){const F=e.ir(I.metadata.name);I.document&&(a=a.add(F));const W=e.rr(I);W.setReadTime(e.ur(I.metadata.readTime)),d=d.insert(F,W)}const m=i.Xi.newChangeBuffer({trackRemovals:!0}),E=yield Y_(i,(I=r,so(U_(Tn.fromString(`__bundle__/docs/${I}`)))));var I;return i.persistence.runTransaction("Apply bundle documents","readwrite",I=>o2(I,m,d).next(F=>(m.apply(I),F)).next(F=>i.Fs.removeMatchingKeysForTargetId(I,E.targetId).next(()=>i.Fs.addMatchingKeys(I,a,E.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(I,F.er,F.nr)).next(()=>F.er)))}),B1.apply(this,arguments)}function Jz(n,e){return H1.apply(this,arguments)}function H1(){return H1=(0,He.Z)(function*(n,e,t=cn()){const r=yield Y_(n,so(S1(e.bundledQuery))),i=mt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const d=pi(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ls.saveNamedQuery(a,e);const m=r.withResumeToken(Vi.EMPTY_BYTE_STRING,d);return i.Hi=i.Hi.insert(m.targetId,m),i.Fs.updateTargetData(a,m).next(()=>i.Fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Fs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ls.saveNamedQuery(a,e))})}),H1.apply(this,arguments)}function u2(n,e){return`firestore_clients_${n}_${e}`}function d2(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function U1(n,e){return`firestore_targets_${n}_${e}`}class aI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static cr(e,t,r){const i=JSON.parse(r);let a,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(a=new Ke(i.error.code,i.error.message))),d?new aI(e,t,i.state,a):(fi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static cr(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Ke(r.error.code,r.error.message))),a?new Sb(e,r.state,i):(fi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=h1();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=cN(r.activeTargetIds[d]),a=a.add(r.activeTargetIds[d]);return i?new lI(e,a):(fi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class z1{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new z1(t.clientId,t.onlineState):(fi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class j1{constructor(){this.activeTargetIds=h1()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G1{constructor(e,t,r,i,a){this.window=e,this.si=t,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new mr(tn),this.started=!1,this.gr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.yr=u2(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new j1),this.Ir=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,He.Z)(function*(){const t=yield e.syncEngine.Mi();for(const i of t){if(i===e.dr)continue;const a=e.getItem(u2(e.persistenceKey,i));if(a){const d=lI.cr(i,a);d&&(e.mr=e.mr.insert(d.clientId,d))}}e.vr();const r=e.storage.getItem(e.Ar);if(r){const i=e.Pr(r);i&&e.br(i)}for(const i of e.gr)e.wr(i);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,r){this.Sr(e,t,r),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(U1(this.persistenceKey,e));if(r){const i=Sb.cr(e,r);i&&(t=i.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(U1(this.persistenceKey,e))}updateQueryState(e,t,r){this.Nr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Dr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return et("SharedClientState","READ",e,t),t}setItem(e,t){et("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){et("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(et("SharedClientState","EVENT",r.key,r.newValue),r.key===this.yr)return void fi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,He.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ir.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.$r(i,null)}{const i=t.Fr(r.key,r.newValue);if(i)return t.$r(i.clientId,i)}}else if(t.Tr.test(r.key)){if(null!==r.newValue){const i=t.Br(r.key,r.newValue);if(i)return t.Lr(i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.qr(r.key,r.newValue);if(i)return t.Ur(i)}}else if(r.key===t.Ar){if(null!==r.newValue){const i=t.Pr(r.newValue);if(i)return t.br(i)}}else if(r.key===t.pr){const i=function(a){let d=Qo.ct;if(null!=a)try{const m=JSON.parse(a);Ot("number"==typeof m),d=m}catch(m){fi("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);i!==Qo.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Kr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Gr(a)))}}else t.gr.push(r)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,r){const i=new aI(this.currentUser,e,t,r),a=d2(this.persistenceKey,this.currentUser,e);this.setItem(a,i.ar())}Dr(e){const t=d2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,r){const i=U1(this.persistenceKey,e),a=new Sb(e,t,r);this.setItem(i,a.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const r=this.Or(e);return lI.cr(r,t)}Br(e,t){const r=this.Tr.exec(e),i=Number(r[1]);return aI.cr(new Zi(void 0!==r[2]?r[2]:null),i,t)}qr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return Sb.cr(i,t)}Pr(e){return z1.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,He.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);et("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),a=this.Vr(r),d=[],m=[];return a.forEach(E=>{i.has(E)||d.push(E)}),i.forEach(E=>{a.has(E)||m.push(E)}),this.syncEngine.zr(d,m).then(()=>{this.mr=r})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=h1();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class h2{constructor(){this.Wr=new j1,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new j1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ej{Jr(e){}shutdown(){}}class f2{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let cI=null;function $1(){return null===cI?cI=268435456+Math.round(2147483648*Math.random()):cI++,"0x"+cI.toString(16)}const tj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nj{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Vs="WebChannelConnection";class rj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,i,a){const d=$1(),m=this.Io(e,t);et("RestConnection",`Sending RPC '${e}' ${d}:`,m,r);const E={};return this.To(E,i,a),this.Eo(e,m,E,r).then(I=>(et("RestConnection",`Received RPC '${e}' ${d}: `,I),I),I=>{throw Ba("RestConnection",`RPC '${e}' ${d} failed with error: `,I,"url: ",m,"request:",r),I})}Ao(e,t,r,i,a,d){return this.po(e,t,r,i,a)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+F_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Io(e,t){return`${this.wo}/v1/${t}:${tj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,i){const a=$1();return new Promise((d,m)=>{const E=new eU;E.setWithCredentials(!0),E.listenOnce(Q3.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case WA.NO_ERROR:const F=E.getResponseJson();et(Vs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(F)),d(F);break;case WA.TIMEOUT:et(Vs,`RPC '${e}' ${a} timed out`),m(new Ke(je.DEADLINE_EXCEEDED,"Request time out"));break;case WA.HTTP_ERROR:const W=E.getStatus();if(et(Vs,`RPC '${e}' ${a} failed with status:`,W,"response text:",E.getResponseText()),W>0){let ce=E.getResponseJson();Array.isArray(ce)&&(ce=ce[0]);const me=ce?.error;if(me&&me.status&&me.message){const Ce=function(Me){const Ue=Me.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(Ue)>=0?Ue:je.UNKNOWN}(me.status);m(new Ke(Ce,me.message))}else m(new Ke(je.UNKNOWN,"Server responded with status "+E.getStatus()))}else m(new Ke(je.UNAVAILABLE,"Connection failed."));break;default:Ct()}}finally{et(Vs,`RPC '${e}' ${a} completed.`)}});const I=JSON.stringify(i);et(Vs,`RPC '${e}' ${a} sending request:`,i),E.send(t,"POST",I,r,15)})}Ro(e,t,r){const i=$1(),a=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=K3(),m=Y3(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(E.xmlHttpFactory=new J3({})),this.To(E.initMessageHeaders,t,r),E.encodeInitMessageHeaders=!0;const I=a.join("");et(Vs,`Creating RPC '${e}' stream ${i}: ${I}`,E);const F=d.createWebChannel(I,E);let W=!1,ce=!1;const me=new nj({io:Me=>{ce?et(Vs,`Not sending because RPC '${e}' stream ${i} is closed:`,Me):(W||(et(Vs,`Opening RPC '${e}' stream ${i} transport.`),F.open(),W=!0),et(Vs,`RPC '${e}' stream ${i} sending:`,Me),F.send(Me))},ro:()=>F.close()}),Ce=(Me,Ue,rt)=>{Me.listen(Ue,vt=>{try{rt(vt)}catch(dt){setTimeout(()=>{throw dt},0)}})};return Ce(F,AS.EventType.OPEN,()=>{ce||et(Vs,`RPC '${e}' stream ${i} transport opened.`)}),Ce(F,AS.EventType.CLOSE,()=>{ce||(ce=!0,et(Vs,`RPC '${e}' stream ${i} transport closed`),me.fo())}),Ce(F,AS.EventType.ERROR,Me=>{ce||(ce=!0,Ba(Vs,`RPC '${e}' stream ${i} transport errored:`,Me),me.fo(new Ke(je.UNAVAILABLE,"The operation could not be completed")))}),Ce(F,AS.EventType.MESSAGE,Me=>{var Ue;if(!ce){const rt=Me.data[0];Ot(!!rt);const vt=rt,dt=vt.error||(null===(Ue=vt[0])||void 0===Ue?void 0:Ue.error);if(dt){et(Vs,`RPC '${e}' stream ${i} received error:`,dt);const At=dt.status;let en=function(Hn){const Qi=Ci[Hn];if(void 0!==Qi)return oL(Qi)}(At),rn=dt.message;void 0===en&&(en=je.INTERNAL,rn="Unknown error status: "+At+" with message "+dt.message),ce=!0,me.fo(new Ke(en,rn)),F.close()}else et(Vs,`RPC '${e}' stream ${i} received:`,rt),me._o(rt)}}),Ce(m,X3.STAT_EVENT,Me=>{Me.stat===XF.PROXY?et(Vs,`RPC '${e}' stream ${i} detected buffering proxy`):Me.stat===XF.NOPROXY&&et(Vs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{me.lo()},0),me}}function p2(){return typeof window<"u"?window:null}function uI(){return typeof document<"u"?document:null}function Ib(n){return new fz(n,!0)}class q1{constructor(e,t,r=1e3,i=1.5,a=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class m2{constructor(e,t,r,i,a,d,m,E){this.si=e,this.Mo=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new q1(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,He.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,He.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return(0,He.Z)(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===je.RESOURCE_EXHAUSTED?(fi(t.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===je.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===t&&this.Xo(r,i)},r=>{e(()=>{const i=new Ke(je.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,He.Z)(function*(){e.state=0,e.start()}))}Zo(e){return et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ij extends m2{constructor(e,t,r,i,a,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.serializer=a}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function gz(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:Ct(),i=e.targetChange.targetIds||[],a=function(E,I){return E.useProto3Json?(Ot(void 0===I||"string"==typeof I),Vi.fromBase64String(I||"")):(Ot(void 0===I||I instanceof Uint8Array),Vi.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(E){const I=void 0===E.code?je.UNKNOWN:oL(E.code);return new Ke(I,E.message||"")}(d);t=new dL(r,i,a,m||null)}else if("documentChange"in e){const r=e.documentChange,i=Zc(n,r.document.name),a=pi(r.document.updateTime),d=r.document.createTime?pi(r.document.createTime):Nt.min(),m=new ys({mapValue:{fields:r.document.fields}}),E=Cr.newFoundDocument(i,a,d,m);t=new ZS(r.targetIds||[],r.removedTargetIds||[],E.key,E)}else if("documentDelete"in e){const r=e.documentDelete,i=Zc(n,r.document),a=r.readTime?pi(r.readTime):Nt.min(),d=Cr.newNoDocument(i,a);t=new ZS([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Zc(n,r.document);t=new ZS([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ct();{const r=e.filter,{count:i=0,unchangedNames:a}=r,d=new az(i,a);t=new uL(r.targetId,d)}}var E;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Nt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Nt.min():a.readTime?pi(a.readTime):Nt.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=mb(this.serializer),t.addTarget=function(i,a){let d;const m=a.target;if(d=HS(m)?{documents:wL(i,m)}:{query:C1(i,m)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){d.resumeToken=mL(i,a.resumeToken);const E=v1(i,a.expectedCount);null!==E&&(d.expectedCount=E)}else if(a.snapshotVersion.compareTo(Nt.min())>0){d.readTime=q_(i,a.snapshotVersion.toTimestamp());const E=v1(i,a.expectedCount);null!==E&&(d.expectedCount=E)}return d}(this.serializer,e);const r=function yz(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=mb(this.serializer),t.removeTarget=e,this.zo(t)}}class sj extends m2{constructor(e,t,r,i,a,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.serializer=a,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function _z(n,e){return n&&n.length>0?(Ot(void 0!==e),n.map(t=>function(r,i){let a=pi(r.updateTime?r.updateTime:i);return a.isEqual(Nt.min())&&(a=pi(i)),new rz(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=pi(e.commitTime);return this.listener.uu(r,t)}return Ot(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=mb(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>gb(this.serializer,r))};this.zo(t)}}class oj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new Ke(je.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.po(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ke(je.UNKNOWN,i.toString())})}Ao(e,t,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.connection.Ao(e,t,r,a,d,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ke(je.UNKNOWN,a.toString())})}terminate(){this.hu=!0}}class lj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(fi(t),this.wu=!1):et("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class cj{constructor(e,t,r,i,a){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr(m=>{r.enqueueAndForget((0,He.Z)(function*(){var E;ff(d)&&(et("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,He.Z)(function*(I){const F=mt(I);F.Au.add(4),yield X_(F),F.Pu.set("Unknown"),F.Au.delete(4),yield Db(F)}),function(I){return E.apply(this,arguments)})(d))}))}),this.Pu=new lj(r,i)}}function Db(n){return Z1.apply(this,arguments)}function Z1(){return Z1=(0,He.Z)(function*(n){if(ff(n))for(const e of n.Ru)yield e(!0)}),Z1.apply(this,arguments)}function X_(n){return K1.apply(this,arguments)}function K1(){return K1=(0,He.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),K1.apply(this,arguments)}function dI(n,e){const t=mt(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),X1(t)?Q1(t):ey(t).Uo()&&Y1(t,e))}function Tb(n,e){const t=mt(n),r=ey(t);t.Eu.delete(e),r.Uo()&&g2(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():ff(t)&&t.Pu.set("Unknown"))}function Y1(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ey(n).nu(e)}function g2(n,e){n.bu.Lt(e),ey(n).su(e)}function Q1(n){n.bu=new cz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),ey(n).start(),n.Pu.mu()}function X1(n){return ff(n)&&!ey(n).qo()&&n.Eu.size>0}function ff(n){return 0===mt(n).Au.size}function _2(n){n.bu=void 0}function uj(n){return J1.apply(this,arguments)}function J1(){return J1=(0,He.Z)(function*(n){n.Eu.forEach((e,t)=>{Y1(n,e)})}),J1.apply(this,arguments)}function dj(n,e){return eM.apply(this,arguments)}function eM(){return eM=(0,He.Z)(function*(n,e){_2(n),X1(n)?(n.Pu.pu(e),Q1(n)):n.Pu.set("Unknown")}),eM.apply(this,arguments)}function hj(n,e,t){return tM.apply(this,arguments)}function tM(){return tM=(0,He.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof dL&&2===e.state&&e.cause)try{yield(r=(0,He.Z)(function*(i,a){const d=a.cause;for(const m of a.targetIds)i.Eu.has(m)&&(yield i.remoteSyncer.rejectListen(m,d),i.Eu.delete(m),i.bu.removeTarget(m))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hI(n,r)}else if(e instanceof ZS?n.bu.Wt(e):e instanceof uL?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(Nt.min()))try{const r=yield s2(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const d=i.bu.ue(a);return d.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const I=i.Eu.get(E);I&&i.Eu.set(E,I.withResumeToken(m.resumeToken,a))}}),d.targetMismatches.forEach((m,E)=>{const I=i.Eu.get(m);if(!I)return;i.Eu.set(m,I.withResumeToken(Vi.EMPTY_BYTE_STRING,I.snapshotVersion)),g2(i,m);const F=new Td(I.target,m,E,I.sequenceNumber);Y1(i,F)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){et("RemoteStore","Failed to raise snapshot:",r),yield hI(n,r)}var r}),tM.apply(this,arguments)}function hI(n,e,t){return nM.apply(this,arguments)}function nM(){return nM=(0,He.Z)(function*(n,e,t){if(!Jh(e))throw e;n.Au.add(1),yield X_(n),n.Pu.set("Offline"),t||(t=()=>s2(n.localStore)),n.asyncQueue.enqueueRetryable((0,He.Z)(function*(){et("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield Db(n)}))}),nM.apply(this,arguments)}function y2(n,e){return e().catch(t=>hI(n,t,e))}function J_(n){return rM.apply(this,arguments)}function rM(){return rM=(0,He.Z)(function*(n){const e=mt(n),t=pf(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;fj(e);)try{const i=yield Qz(e.localStore,r);if(null===i){0===e.Tu.length&&t.Qo();break}r=i.batchId,pj(e,i)}catch(i){yield hI(e,i)}v2(e)&&b2(e)}),rM.apply(this,arguments)}function fj(n){return ff(n)&&n.Tu.length<10}function pj(n,e){n.Tu.push(e);const t=pf(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function v2(n){return ff(n)&&!pf(n).qo()&&n.Tu.length>0}function b2(n){pf(n).start()}function mj(n){return iM.apply(this,arguments)}function iM(){return iM=(0,He.Z)(function*(n){pf(n).au()}),iM.apply(this,arguments)}function gj(n){return sM.apply(this,arguments)}function sM(){return sM=(0,He.Z)(function*(n){const e=pf(n);for(const t of n.Tu)e.ou(t.mutations)}),sM.apply(this,arguments)}function _j(n,e,t){return oM.apply(this,arguments)}function oM(){return oM=(0,He.Z)(function*(n,e,t){const r=n.Tu.shift(),i=m1.from(r,e,t);yield y2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield J_(n)}),oM.apply(this,arguments)}function yj(n,e){return aM.apply(this,arguments)}function aM(){return aM=(0,He.Z)(function*(n,e){var t;e&&pf(n).ru&&(yield(t=(0,He.Z)(function*(r,i){if(sL(a=i.code)&&a!==je.ABORTED){const d=r.Tu.shift();pf(r).Go(),yield y2(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield J_(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),v2(n)&&b2(n)}),aM.apply(this,arguments)}function w2(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,He.Z)(function*(n,e){const t=mt(n);t.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const r=ff(t);t.Au.add(3),yield X_(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield Db(t)}),lM.apply(this,arguments)}function cM(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,He.Z)(function*(n,e){const t=mt(n);e?(t.Au.delete(2),yield Db(t)):e||(t.Au.add(2),yield X_(t),t.Pu.set("Unknown"))}),uM.apply(this,arguments)}function ey(n){return n.Vu||(n.Vu=function(e,t,r){const i=mt(e);return i.lu(),new ij(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:uj.bind(null,n),co:dj.bind(null,n),eu:hj.bind(null,n)}),n.Ru.push(function(){var e=(0,He.Z)(function*(t){t?(n.Vu.Go(),X1(n)?Q1(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),_2(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function pf(n){return n.Su||(n.Su=function(e,t,r){const i=mt(e);return i.lu(),new sj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:mj.bind(null,n),co:yj.bind(null,n),cu:gj.bind(null,n),uu:_j.bind(null,n)}),n.Ru.push(function(){var e=(0,He.Z)(function*(t){t?(n.Su.Go(),yield J_(n)):(yield n.Su.stop(),n.Tu.length>0&&(et("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class dM{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,a){const d=Date.now()+r,m=new dM(e,t,d,i,a);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ke(je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ty(n,e){if(fi("AsyncQueue",`${e}: ${n}`),Jh(n))return new Ke(je.UNAVAILABLE,`${e}: ${n}`);throw n}class ny{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ut.comparator(t.key,r.key):(t,r)=>ut.comparator(t.key,r.key),this.keyedMap=ab(),this.sortedSet=new mr(this.comparator)}static emptySet(e){return new ny(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ny)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ny;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class E2{constructor(){this.Du=new mr(ut.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):Ct():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class ry{constructor(e,t,r,i,a,d,m,E,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=E,this.hasCachedResults=I}static fromInitialDocuments(e,t,r,i,a){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new ry(e,t,ny.emptySet(t),d,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ib(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class vj{constructor(){this.xu=void 0,this.listeners=[]}}class bj{constructor(){this.queries=new Id(e=>HN(e),ib),this.onlineState="Unknown",this.Nu=new Set}}function hM(n,e){return fM.apply(this,arguments)}function fM(){return fM=(0,He.Z)(function*(n,e){const t=mt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new vj),i)try{a.xu=yield t.onListen(r)}catch(d){const m=ty(d,`Initialization of query '${d1(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,a),a.listeners.push(e),e.ku(t.onlineState),a.xu&&e.Mu(a.xu)&&gM(t)}),fM.apply(this,arguments)}function pM(n,e){return mM.apply(this,arguments)}function mM(){return mM=(0,He.Z)(function*(n,e){const t=mt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const d=a.listeners.indexOf(e);d>=0&&(a.listeners.splice(d,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),mM.apply(this,arguments)}function wj(n,e){const t=mt(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const m of d.listeners)m.Mu(i)&&(r=!0);d.xu=i}}r&&gM(t)}function Ej(n,e,t){const r=mt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function gM(n){n.Nu.forEach(e=>{e.next()})}class _M{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ry(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=ry.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class Cj{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class C2{constructor(e){this.serializer=e}ir(e){return Zc(this.serializer,e)}rr(e){return e.metadata.exists?bL(this.serializer,e.document,!1):Cr.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return pi(e)}}class Sj{constructor(e,t,r){this.Qu=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=S2(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const r=Tn.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,r=new C2(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.ir(i.metadata.name);for(const d of i.metadata.queries){const m=(t.get(d)||cn()).add(a);t.set(d,m)}}return t}complete(){var e=this;return(0,He.Z)(function*(){const t=yield function Xz(n,e,t,r){return B1.apply(this,arguments)}(e.localStore,new C2(e.serializer),e.documents,e.Qu.id),r=e.zu(e.documents);for(const i of e.queries)yield Jz(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function S2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class I2{constructor(e){this.key=e}}class D2{constructor(e){this.key=e}}class T2{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=cn(),this.mutatedKeys=cn(),this.Zu=zN(e),this.tc=new ny(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new E2,i=t?t.tc:this.tc;let a=t?t.mutatedKeys:this.mutatedKeys,d=i,m=!1;const E="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,I="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((F,W)=>{const ce=i.get(F),me=sb(this.query,W)?W:null,Ce=!!ce&&this.mutatedKeys.has(ce.key),Me=!!me&&(me.hasLocalMutations||this.mutatedKeys.has(me.key)&&me.hasCommittedMutations);let Ue=!1;ce&&me?ce.data.isEqual(me.data)?Ce!==Me&&(r.track({type:3,doc:me}),Ue=!0):this.ic(ce,me)||(r.track({type:2,doc:me}),Ue=!0,(E&&this.Zu(me,E)>0||I&&this.Zu(me,I)<0)&&(m=!0)):!ce&&me?(r.track({type:0,doc:me}),Ue=!0):ce&&!me&&(r.track({type:1,doc:ce}),Ue=!0,(E||I)&&(m=!0)),Ue&&(me?(d=d.add(me),a=Me?a.add(F):a.delete(F)):(d=d.delete(F),a=a.delete(F)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const F="F"===this.query.limitType?d.last():d.first();d=d.delete(F.key),a=a.delete(F.key),r.track({type:1,doc:F})}return{tc:d,sc:r,ji:m,mutatedKeys:a}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const a=e.sc.Cu();a.sort((I,F)=>function(W,ce){const me=Ce=>{switch(Ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct()}};return me(W)-me(ce)}(I.type,F.type)||this.Zu(I.doc,F.doc)),this.rc(r);const d=t?this.oc():[],m=0===this.Xu.size&&this.current?1:0,E=m!==this.Yu;return this.Yu=m,0!==a.length||E?{snapshot:new ry(this.query,e.tc,i,a,e.mutatedKeys,0===m,E,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:d}:{uc:d}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new E2,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=cn(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new D2(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new I2(r))}),t}ac(e){this.Ju=e.sr,this.Xu=cn();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return ry.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class Ij{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Dj{constructor(e){this.key=e,this.lc=!1}}class Tj{constructor(e,t,r,i,a,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.fc={},this.dc=new Id(m=>HN(m),ib),this._c=new Map,this.wc=new Set,this.mc=new mr(ut.comparator),this.gc=new Map,this.yc=new P1,this.Ic={},this.Tc=new Map,this.Ec=Om.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function xj(n,e){return yM.apply(this,arguments)}function yM(){return yM=(0,He.Z)(function*(n,e){const t=UM(n);let r,i;const a=t.dc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.hc();else{const d=yield Y_(t.localStore,so(e)),m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield vM(t,e,r,"current"===m,d.resumeToken),t.isPrimaryClient&&dI(t.remoteStore,d)}return i}),yM.apply(this,arguments)}function vM(n,e,t,r,i){return bM.apply(this,arguments)}function bM(){return bM=(0,He.Z)(function*(n,e,t,r,i){n.Rc=(W,ce,me)=>{return(Ce=(0,He.Z)(function*(Me,Ue,rt,vt){let dt=Ue.view.nc(rt);dt.ji&&(dt=yield oI(Me.localStore,Ue.query,!1).then(({documents:rn})=>Ue.view.nc(rn,dt)));const At=vt&&vt.targetChanges.get(Ue.targetId),en=Ue.view.applyChanges(dt,Me.isPrimaryClient,At);return MM(Me,Ue.targetId,en.uc),en.snapshot}),function(Me,Ue,rt,vt){return Ce.apply(this,arguments)})(n,W,ce,me);var Ce};const a=yield oI(n.localStore,e,!0),d=new T2(e,a.sr),m=d.nc(a.documents),E=fb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),I=d.applyChanges(m,n.isPrimaryClient,E);MM(n,t,I.uc);const F=new Ij(e,t,d);return n.dc.set(e,F),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),I.snapshot}),bM.apply(this,arguments)}function Aj(n,e){return wM.apply(this,arguments)}function wM(){return wM=(0,He.Z)(function*(n,e){const t=mt(n),r=t.dc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!ib(a,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Q_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Tb(t.remoteStore,r.targetId),iy(t,r.targetId)}).catch(Xh))):(iy(t,r.targetId),yield Q_(t.localStore,r.targetId,!0))}),wM.apply(this,arguments)}function EM(){return EM=(0,He.Z)(function*(n,e,t){const r=zM(n);try{const i=yield function(a,d){const m=mt(a),E=Rr.now(),I=d.reduce((ce,me)=>ce.add(me.key),cn());let F,W;return m.persistence.runTransaction("Locally write mutations","readwrite",ce=>{let me=So(),Ce=cn();return m.Xi.getEntries(ce,I).next(Me=>{me=Me,me.forEach((Ue,rt)=>{rt.isValidDocument()||(Ce=Ce.add(Ue))})}).next(()=>m.localDocuments.getOverlayedDocuments(ce,me)).next(Me=>{F=Me;const Ue=[];for(const rt of d){const vt=sz(rt,F.get(rt.key).overlayedDocument);null!=vt&&Ue.push(new Dd(rt.key,vt,DN(vt.value.mapValue),Or.exists(!0)))}return m.mutationQueue.addMutationBatch(ce,E,Ue,d)}).next(Me=>{W=Me;const Ue=Me.applyToLocalDocumentSet(F,Ce);return m.documentOverlayCache.saveOverlays(ce,Me.batchId,Ue)})}).then(()=>({batchId:W.batchId,changes:GN(F)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,d,m){let E=a.Ic[a.currentUser.toKey()];E||(E=new mr(tn)),E=E.insert(d,m),a.Ic[a.currentUser.toKey()]=E}(r,i.batchId,t),yield xd(r,i.changes),yield J_(r.remoteStore)}catch(i){const a=ty(i,"Failed to persist write");t.reject(a)}}),EM.apply(this,arguments)}function x2(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,He.Z)(function*(n,e){const t=mt(n);try{const r=yield Yz(t.localStore,e);e.targetChanges.forEach((i,a)=>{const d=t.gc.get(a);d&&(Ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.lc=!0:i.modifiedDocuments.size>0?Ot(d.lc):i.removedDocuments.size>0&&(Ot(d.lc),d.lc=!1))}),yield xd(t,r,e)}catch(r){yield Xh(r)}}),CM.apply(this,arguments)}function A2(n,e,t){const r=mt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.dc.forEach((a,d)=>{const m=d.view.ku(e);m.snapshot&&i.push(m.snapshot)}),function(a,d){const m=mt(a);m.onlineState=d;let E=!1;m.queries.forEach((I,F)=>{for(const W of F.listeners)W.ku(d)&&(E=!0)}),E&&gM(m)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Pj(n,e,t){return SM.apply(this,arguments)}function SM(){return SM=(0,He.Z)(function*(n,e,t){const r=mt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.gc.get(e),a=i&&i.key;if(a){let d=new mr(ut.comparator);d=d.insert(a,Cr.newNoDocument(a,Nt.min()));const m=cn().add(a),E=new hb(Nt.min(),new Map,new mr(tn),d,m);yield x2(r,E),r.mc=r.mc.remove(a),r.gc.delete(e),PM(r)}else yield Q_(r.localStore,e,!1).then(()=>iy(r,e,t)).catch(Xh)}),SM.apply(this,arguments)}function kj(n,e){return IM.apply(this,arguments)}function IM(){return IM=(0,He.Z)(function*(n,e){const t=mt(n),r=e.batch.batchId;try{const i=yield Kz(t.localStore,e);AM(t,r,null),xM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xd(t,i)}catch(i){yield Xh(i)}}),IM.apply(this,arguments)}function Rj(n,e,t){return DM.apply(this,arguments)}function DM(){return DM=(0,He.Z)(function*(n,e,t){const r=mt(n);try{const i=yield function(a,d){const m=mt(a);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let I;return m.mutationQueue.lookupMutationBatch(E,d).next(F=>(Ot(null!==F),I=F.keys(),m.mutationQueue.removeMutationBatch(E,F))).next(()=>m.mutationQueue.performConsistencyCheck(E)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(E,I,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,I)).next(()=>m.localDocuments.getDocuments(E,I))})}(r.localStore,e);AM(r,e,t),xM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xd(r,i)}catch(i){yield Xh(i)}}),DM.apply(this,arguments)}function TM(){return TM=(0,He.Z)(function*(n,e){const t=mt(n);ff(t.remoteStore)||et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const d=mt(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Tc.get(r)||[];i.push(e),t.Tc.set(r,i)}catch(r){const i=ty(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),TM.apply(this,arguments)}function xM(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function AM(n,e,t){const r=mt(n);let i=r.Ic[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function iy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||M2(n,r)})}function M2(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(Tb(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),PM(n))}function MM(n,e,t){for(const r of t)r instanceof I2?(n.yc.addReference(r.key,e),Fj(n,r)):r instanceof D2?(et("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||M2(n,r.key)):Ct()}function Fj(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||(et("SyncEngine","New document in limbo: "+t),n.wc.add(r),PM(n))}function PM(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new ut(Tn.fromString(e)),r=n.Ec.next();n.gc.set(r,new Dj(t)),n.mc=n.mc.insert(t,r),dI(n.remoteStore,new Td(so(U_(t.path)),r,"TargetPurposeLimboResolution",Qo.ct))}}function xd(n,e,t){return kM.apply(this,arguments)}function kM(){return kM=(0,He.Z)(function*(n,e,t){const r=mt(n),i=[],a=[],d=[];var m;r.dc.isEmpty()||(r.dc.forEach((m,E)=>{d.push(r.Rc(E,e,t).then(I=>{if((I||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,I?.fromCache?"not-current":"current"),I){i.push(I);const F=N1.Bi(E.targetId,I);a.push(F)}}))}),yield Promise.all(d),r.fc.eu(i),yield(m=(0,He.Z)(function*(E,I){const F=mt(E);try{yield F.persistence.runTransaction("notifyLocalViewChanges","readwrite",W=>Ve.forEach(I,ce=>Ve.forEach(ce.$i,me=>F.persistence.referenceDelegate.addReference(W,ce.targetId,me)).next(()=>Ve.forEach(ce.Fi,me=>F.persistence.referenceDelegate.removeReference(W,ce.targetId,me)))))}catch(W){if(!Jh(W))throw W;et("LocalStore","Failed to update sequence numbers: "+W)}for(const W of I){const ce=W.targetId;if(!W.fromCache){const me=F.Hi.get(ce),Me=me.withLastLimboFreeSnapshotVersion(me.snapshotVersion);F.Hi=F.Hi.insert(ce,Me)}}}),function(E,I){return m.apply(this,arguments)})(r.localStore,a))}),kM.apply(this,arguments)}function Nj(n,e){return RM.apply(this,arguments)}function RM(){return RM=(0,He.Z)(function*(n,e){const t=mt(n);if(!t.currentUser.isEqual(e)){et("SyncEngine","User change. New user:",e.toKey());const r=yield r2(t.localStore,e);t.currentUser=e,(i=t).Tc.forEach(d=>{d.forEach(m=>{m.reject(new Ke(je.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xd(t,r.tr)}var i}),RM.apply(this,arguments)}function Lj(n,e){const t=mt(n),r=t.gc.get(e);if(r&&r.lc)return cn().add(r.key);{let i=cn();const a=t._c.get(e);if(!a)return i;for(const d of a){const m=t.dc.get(d);i=i.unionWith(m.view.ec)}return i}}function Vj(n,e){return OM.apply(this,arguments)}function OM(){return OM=(0,He.Z)(function*(n,e){const t=mt(n),r=yield oI(t.localStore,e.query,!0),i=e.view.ac(r);return t.isPrimaryClient&&MM(t,e.targetId,i.uc),i}),OM.apply(this,arguments)}function Bj(n,e){return FM.apply(this,arguments)}function FM(){return FM=(0,He.Z)(function*(n,e){const t=mt(n);return l2(t.localStore,e).then(r=>xd(t,r))}),FM.apply(this,arguments)}function Hj(n,e,t,r){return NM.apply(this,arguments)}function NM(){return NM=(0,He.Z)(function*(n,e,t,r){const i=mt(n),a=yield function(d,m){const E=mt(d),I=mt(E.mutationQueue);return E.persistence.runTransaction("Lookup mutation documents","readonly",F=>I.Vn(F,m).next(W=>W?E.localDocuments.getDocuments(F,W):Ve.resolve(null)))}(i.localStore,e);var m;null!==a?("pending"===t?yield J_(i.remoteStore):"acknowledged"===t||"rejected"===t?(AM(i,e,r||null),xM(i,e),m=e,mt(mt(i.localStore).mutationQueue).Dn(m)):Ct(),yield xd(i,a)):et("SyncEngine","Cannot apply mutation batch with id: "+e)}),NM.apply(this,arguments)}function LM(){return LM=(0,He.Z)(function*(n,e){const t=mt(n);if(UM(t),zM(t),!0===e&&!0!==t.Ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield P2(t,r.toArray());t.Ac=!0,yield cM(t.remoteStore,!0);for(const a of i)dI(t.remoteStore,a)}else if(!1===e&&!1!==t.Ac){const r=[];let i=Promise.resolve();t._c.forEach((a,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(iy(t,d),Q_(t.localStore,d,!0))),Tb(t.remoteStore,d)}),yield i,yield P2(t,r),function(a){const d=mt(a);d.gc.forEach((m,E)=>{Tb(d.remoteStore,E)}),d.yc.Is(),d.gc=new Map,d.mc=new mr(ut.comparator)}(t),t.Ac=!1,yield cM(t.remoteStore,!1)}}),LM.apply(this,arguments)}function P2(n,e,t){return VM.apply(this,arguments)}function VM(){return VM=(0,He.Z)(function*(n,e,t){const r=mt(n),i=[],a=[];for(const d of e){let m;const E=r._c.get(d);if(E&&0!==E.length){m=yield Y_(r.localStore,so(E[0]));for(const I of E){const F=r.dc.get(I),W=yield Vj(r,F);W.snapshot&&a.push(W.snapshot)}}else{const I=yield a2(r.localStore,d);m=yield Y_(r.localStore,I),yield vM(r,k2(I),d,!1,m.resumeToken)}i.push(m)}return r.fc.eu(a),i}),VM.apply(this,arguments)}function k2(n){return VN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function zj(n){const e=mt(n);return mt(mt(e.localStore).persistence).Mi()}function jj(n,e,t,r){return BM.apply(this,arguments)}function BM(){return BM=(0,He.Z)(function*(n,e,t,r){const i=mt(n);if(i.Ac)return void et("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const d=yield l2(i.localStore,UN(a[0])),m=hb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Vi.EMPTY_BYTE_STRING);yield xd(i,d,m);break}case"rejected":yield Q_(i.localStore,e,!0),iy(i,e,r);break;default:Ct()}}),BM.apply(this,arguments)}function Gj(n,e,t){return HM.apply(this,arguments)}function HM(){return HM=(0,He.Z)(function*(n,e,t){const r=UM(n);if(r.Ac){for(const i of e){if(r._c.has(i)){et("SyncEngine","Adding an already active target "+i);continue}const a=yield a2(r.localStore,i),d=yield Y_(r.localStore,a);yield vM(r,k2(a),d.targetId,!1,d.resumeToken),dI(r.remoteStore,d)}for(const i of t)r._c.has(i)&&(yield Q_(r.localStore,i,!1).then(()=>{Tb(r.remoteStore,i),iy(r,i)}).catch(Xh))}}),HM.apply(this,arguments)}function UM(n){const e=mt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=x2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pj.bind(null,e),e.fc.eu=wj.bind(null,e.eventManager),e.fc.vc=Ej.bind(null,e.eventManager),e}function zM(n){const e=mt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rj.bind(null,e),e}class xb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,He.Z)(function*(){t.serializer=Ib(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return n2(this.persistence,new t2,e.initialUser,this.serializer)}createPersistence(e){return new k1(rI.js,this.serializer)}createSharedClientState(e){return new h2}terminate(){var e=this;return(0,He.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jM extends xb{constructor(e,t,r){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,He.Z)(function*(){yield t().call(r,e),yield r.bc.initialize(r,e),yield zM(r.bc.syncEngine),yield J_(r.bc.remoteStore),yield r.persistence.pi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return n2(this.persistence,new t2,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new qL(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new _U(t,this.persistence);return new gU(e.asyncQueue,r)}createPersistence(e){const t=F1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new O1(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,p2(),uI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new h2}}class R2 extends jM{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,He.Z)(function*(){yield t().call(r,e);const i=r.bc.syncEngine;r.sharedClientState instanceof G1&&(r.sharedClientState.syncEngine={Qr:Hj.bind(null,i),jr:jj.bind(null,i),zr:Gj.bind(null,i),Mi:zj.bind(null,i),Gr:Bj.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.pi(function(){var a=(0,He.Z)(function*(d){yield function Uj(n,e){return LM.apply(this,arguments)}(r.bc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=p2();if(!G1.D(t))throw new Ke(je.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=F1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new G1(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class sy{initialize(e,t){var r=this;return(0,He.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>A2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Nj.bind(null,r.syncEngine),yield cM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bj}createDatastore(e){const t=Ib(e.databaseInfo.databaseId),r=new rj(e.databaseInfo);return new oj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=m=>A2(this.syncEngine,m,0),d=f2.D()?new f2:new ej,new cj(t,r,i,a,d);var t,r,i,a,d}createSyncEngine(e,t){return function(r,i,a,d,m,E,I){const F=new Tj(r,i,a,d,m,E);return I&&(F.Ac=!0),F}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,He.Z)(function*(t){const r=mt(t);et("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield X_(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function O2(n,e=10240){let t=0;return{read:()=>(0,He.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,He.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class fI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Wj{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new Li,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(r=>{r&&r.Gu()?this.metadata.resolve(r.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Ku)}`))},r=>this.metadata.reject(r))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,He.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,He.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,He.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const r=e.Cc.decode(t),i=Number(r);isNaN(i)&&e.kc(`length string (${r}) is not valid number`);const a=yield e.Mc(i);return new Cj(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,He.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Mc(e){var t=this;return(0,He.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const r=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,He.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Zj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,He.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ke(je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,He.Z)(function*(a,d){const m=mt(a),E=mb(m.serializer)+"/documents",I={documents:d.map(me=>pb(m.serializer,me))},F=yield m.Ao("BatchGetDocuments",E,I,d.length),W=new Map;F.forEach(me=>{const Ce=function mz(n,e){return"found"in e?function(t,r){Ot(!!r.found);const i=Zc(t,r.found.name),a=pi(r.found.updateTime),d=r.found.createTime?pi(r.found.createTime):Nt.min(),m=new ys({mapValue:{fields:r.found.fields}});return Cr.newFoundDocument(i,a,d,m)}(n,e):"missing"in e?function(t,r){Ot(!!r.missing),Ot(!!r.readTime);const i=Zc(t,r.missing),a=pi(r.readTime);return Cr.newNoDocument(i,a)}(n,e):Ct()}(m.serializer,me);W.set(Ce.key.toString(),Ce)});const ce=[];return d.forEach(me=>{const Ce=W.get(me.toString());Ot(!!Ce),ce.push(Ce)}),ce}),function(a,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,He.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=ut.fromPath(i);e.mutations.push(new f1(a,e.precondition(a)))}),yield(r=(0,He.Z)(function*(i,a){const d=mt(i),m=mb(d.serializer)+"/documents",E={writes:a.map(I=>gb(d.serializer,I))};yield d.po("Commit",m,E)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ct();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ke(je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nt.min())?Or.exists(!1):Or.updateTime(t):Or.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new Ke(je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Or.updateTime(t)}return Or.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Kj{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Fc=r.maxAttempts,this.Lo=new q1(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,He.Z)(function*(){const t=new Zj(e.datastore),r=e.Lc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.qc(a)}))}).catch(i=>{e.qc(i)})}))}Lc(e){try{const t=this.updateFunction(e);return!Q0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!sL(t)}return!1}}class Yj{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Zi.UNAUTHENTICATED,this.clientId=nN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,He.Z)(function*(m){et("FirestoreClient","Received user=",m.uid),yield a.authCredentialListener(m),a.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(et("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,He.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ke(je.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,He.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ty(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function pI(n,e){return GM.apply(this,arguments)}function GM(){return GM=(0,He.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,He.Z)(function*(a){r.isEqual(a)||(yield r2(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),GM.apply(this,arguments)}function $M(n,e){return qM.apply(this,arguments)}function qM(){return qM=(0,He.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield WM(n);et("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>w2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>w2(e.remoteStore,a)),n._onlineComponents=e}),qM.apply(this,arguments)}function F2(n){return"FirebaseError"===n.name?n.code===je.FAILED_PRECONDITION||n.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function WM(n){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,He.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{yield pI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!F2(t))throw t;Ba("Error using user provided cache. Falling back to memory cache: "+t),yield pI(n,new xb)}}else et("FirestoreClient","Using default OfflineComponentProvider"),yield pI(n,new xb);return n._offlineComponents}),ZM.apply(this,arguments)}function mI(n){return KM.apply(this,arguments)}function KM(){return KM=(0,He.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),yield $M(n,n._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),yield $M(n,new sy))),n._onlineComponents}),KM.apply(this,arguments)}function N2(n){return WM(n).then(e=>e.persistence)}function gI(n){return WM(n).then(e=>e.localStore)}function L2(n){return mI(n).then(e=>e.remoteStore)}function YM(n){return mI(n).then(e=>e.syncEngine)}function oy(n){return QM.apply(this,arguments)}function QM(){return QM=(0,He.Z)(function*(n){const e=yield mI(n),t=e.eventManager;return t.onListen=xj.bind(null,e.syncEngine),t.onUnlisten=Aj.bind(null,e.syncEngine),t}),QM.apply(this,arguments)}function B2(n,e,t={}){const r=new Li;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function(i,a,d,m,E){const I=new fI({next:W=>{a.enqueueAndForget(()=>pM(i,F));const ce=W.docs.has(d);!ce&&W.fromCache?E.reject(new Ke(je.UNAVAILABLE,"Failed to get document because the client is offline.")):ce&&W.fromCache&&m&&"server"===m.source?E.reject(new Ke(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(W)},error:W=>E.reject(W)}),F=new _M(U_(d.path),I,{includeMetadataChanges:!0,Uu:!0});return hM(i,F)}(yield oy(n),n.asyncQueue,e,t,r)})),r.promise}function H2(n,e,t={}){const r=new Li;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function(i,a,d,m,E){const I=new fI({next:W=>{a.enqueueAndForget(()=>pM(i,F)),W.fromCache&&"server"===m.source?E.reject(new Ke(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(W)},error:W=>E.reject(W)}),F=new _M(d,I,{includeMetadataChanges:!0,Uu:!0});return hM(i,F)}(yield oy(n),n.asyncQueue,e,t,r)})),r.promise}const U2=new Map;function XM(n,e,t){if(!t)throw new Ke(je.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function z2(n,e,t,r){if(!0===e&&!0===r)throw new Ke(je.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function j2(n){if(!ut.isDocumentKey(n))throw new Ke(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function G2(n){if(ut.isDocumentKey(n))throw new Ke(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _I(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ct()}function vn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ke(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_I(n);throw new Ke(je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function $2(n,e){if(e<=0)throw new Ke(je.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class q2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ke(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ke(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ab{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ke(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ke(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new iU;switch(t.type){case"firstParty":return new lU(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ke(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=U2.get(e);t&&(et("ComponentProvider","Removing Datastore"),U2.delete(e),t.terminate())}(this),Promise.resolve()}}class Sr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sr(this.firestore,e,this._key)}}class vs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class Kc extends vs{constructor(e,t,r){super(e,t,U_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sr(this.firestore,null,new ut(e))}withConverter(e){return new Kc(this.firestore,e,this._path)}}function Z2(n,e,...t){if(n=(0,Cn.m9)(n),XM("collection","path",e),n instanceof Ab){const r=Tn.fromString(e,...t);return G2(r),new Kc(n,null,r)}{if(!(n instanceof Sr||n instanceof Kc))throw new Ke(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return G2(r),new Kc(n.firestore,null,r)}}function yI(n,e,...t){if(n=(0,Cn.m9)(n),1===arguments.length&&(e=nN.A()),XM("doc","path",e),n instanceof Ab){const r=Tn.fromString(e,...t);return j2(r),new Sr(n,null,new ut(r))}{if(!(n instanceof Sr||n instanceof Kc))throw new Ke(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return j2(r),new Sr(n.firestore,n instanceof Kc?n.converter:null,new ut(r))}}function K2(n,e){return n=(0,Cn.m9)(n),e=(0,Cn.m9)(e),(n instanceof Sr||n instanceof Kc)&&(e instanceof Sr||e instanceof Kc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function JM(n,e){return n=(0,Cn.m9)(n),e=(0,Cn.m9)(e),n instanceof vs&&e instanceof vs&&n.firestore===e.firestore&&ib(n._query,e._query)&&n.converter===e.converter}class o6{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new q1(this,"async_queue_retry"),this.Yc=()=>{const t=uI();t&&et("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=uI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=uI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Li;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,He.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Jh(t))throw t;et("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,fi("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=dM.createAndSchedule(this,e,t,r,a=>this.ea(a));return this.jc.push(i),i}Xc(){this.zc&&Ct()}verifyOperationInProgress(){}na(){var e=this;return(0,He.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function eP(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class a6{constructor(){this._progressObserver={},this._taskCompletionResolver=new Li,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ir extends Ab{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new o6,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Y2(this),this._firestoreClient.terminate()}}function mi(n){return n._firestoreClient||Y2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Y2(n){var e,t,r;const i=n._freezeSettings(),a=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new VU(n._databaseId,m,n._persistenceKey,(I=i).host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,I.useFetchStreams));var m,I;n._firestoreClient=new Yj(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function Q2(n,e,t){const r=new Li;return n.asyncQueue.enqueue((0,He.Z)(function*(){try{yield pI(n,t),yield $M(n,e),r.resolve()}catch(i){const a=i;if(!F2(a))throw a;Ba("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function X2(n){if(n._initialized||n._terminated)throw new Ke(je.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yc(Vi.fromBase64String(e))}catch(t){throw new Ke(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yc(Vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ad{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ke(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ri(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nm{constructor(e){this._methodName=e}}class vI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ke(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ke(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tn(this._lat,e._lat)||tn(this._long,e._long)}}const y6=/^__.*__$/;class v6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Dd(e,this.data,this.fieldMask,t,this.fieldTransforms):new G_(e,this.data,t,this.fieldTransforms)}}class J2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Dd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct()}}class bI{constructor(e,t,r,i,a,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new bI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return CI(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(eV(this.ua)&&y6.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class b6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ib(e)}ga(e,t,r,i=!1){return new bI({ua:e,methodName:t,ma:r,path:ri.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(n){const e=n._freezeSettings(),t=Ib(n._databaseId);return new b6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wI(n,e,t,r,i,a={}){const d=n.ga(a.merge||a.mergeFields?2:0,e,t,i);iP("Data must be an object, but it was:",d,r);const m=rV(r,d);let E,I;if(a.merge)E=new Co(d.fieldMask),I=d.fieldTransforms;else if(a.mergeFields){const F=[];for(const W of a.mergeFields){const ce=kb(e,W,t);if(!d.contains(ce))throw new Ke(je.INVALID_ARGUMENT,`Field '${ce}' is specified in your field mask but missing from your input data.`);sV(F,ce)||F.push(ce)}E=new Co(F),I=d.fieldTransforms.filter(W=>E.covers(W.field))}else E=null,I=d.fieldTransforms;return new v6(new ys(m),E,I)}class Pb extends Nm{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pb}}function tV(n,e,t){return new bI({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class tP extends Nm{_toFieldTransform(e){return new cb(e.path,new z_)}isEqual(e){return e instanceof tP}}class w6 extends Nm{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=tV(this,e,!0),r=this.ya.map(a=>Vm(a,t)),i=new Tm(r);return new cb(e.path,i)}isEqual(e){return this===e}}class E6 extends Nm{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=tV(this,e,!0),r=this.ya.map(a=>Vm(a,t)),i=new xm(r);return new cb(e.path,i)}isEqual(e){return this===e}}class C6 extends Nm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new j_(e.serializer,ZN(e.serializer,this.pa));return new cb(e.path,t)}isEqual(e){return this===e}}function nP(n,e,t,r){const i=n.ga(1,e,t);iP("Data must be an object, but it was:",i,r);const a=[],d=ys.empty();ef(r,(E,I)=>{const F=EI(e,E,t);I=(0,Cn.m9)(I);const W=i.fa(F);if(I instanceof Pb)a.push(F);else{const ce=Vm(I,W);null!=ce&&(a.push(F),d.set(F,ce))}});const m=new Co(a);return new J2(d,m,i.fieldTransforms)}function rP(n,e,t,r,i,a){const d=n.ga(1,e,t),m=[kb(e,r,t)],E=[i];if(a.length%2!=0)throw new Ke(je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ce=0;ce<a.length;ce+=2)m.push(kb(e,a[ce])),E.push(a[ce+1]);const I=[],F=ys.empty();for(let ce=m.length-1;ce>=0;--ce)if(!sV(I,m[ce])){const me=m[ce];let Ce=E[ce];Ce=(0,Cn.m9)(Ce);const Me=d.fa(me);if(Ce instanceof Pb)I.push(me);else{const Ue=Vm(Ce,Me);null!=Ue&&(I.push(me),F.set(me,Ue))}}const W=new Co(I);return new J2(F,W,d.fieldTransforms)}function nV(n,e,t,r=!1){return Vm(t,n.ga(r?4:3,e))}function Vm(n,e){if(iV(n=(0,Cn.m9)(n)))return iP("Unsupported field value:",e,n),rV(n,e);if(n instanceof Nm)return function(t,r){if(!eV(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const d of t){let m=Vm(d,r.da(a));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Cn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ZN(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Rr.fromDate(t);return{timestampValue:q_(r.serializer,i)}}if(t instanceof Rr){const i=new Rr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:q_(r.serializer,i)}}if(t instanceof vI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yc)return{bytesValue:mL(r.serializer,t._byteString)};if(t instanceof Sr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:b1(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${_I(t)}`)}(n,e)}function rV(n,e){const t={};return _N(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ef(n,(r,i)=>{const a=Vm(i,e.aa(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function iV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Rr||n instanceof vI||n instanceof Yc||n instanceof Sr||n instanceof Nm)}function iP(n,e,t){if(!iV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=_I(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function kb(n,e,t){if((e=(0,Cn.m9)(e))instanceof Ad)return e._internalPath;if("string"==typeof e)return EI(n,e);throw CI("Field path arguments must be of type string or ",n,!1,void 0,t)}const S6=new RegExp("[~\\*/\\[\\]]");function EI(n,e,t){if(e.search(S6)>=0)throw CI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ad(...e.split("."))._internalPath}catch{throw CI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function CI(n,e,t,r,i){const a=r&&!r.isEmpty(),d=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(a||d)&&(E+=" (found",a&&(E+=` in field ${r}`),d&&(E+=` in document ${i}`),E+=")"),new Ke(je.INVALID_ARGUMENT,m+n+E)}function sV(n,e){return n.some(t=>t.isEqual(e))}class Rb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Sr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new I6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class I6 extends Rb{data(){return super.data()}}function SI(n,e){return"string"==typeof e?EI(n,e):e instanceof Ad?e._internalPath:e._delegate._internalPath}function oV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ke(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sP{}class Ob extends sP{}function mf(n,e,...t){let r=[];e instanceof sP&&r.push(e),r=r.concat(t),function(i){const a=i.filter(m=>m instanceof ay).length,d=i.filter(m=>m instanceof Fb).length;if(a>1||a>0&&d>0)throw new Ke(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Fb extends Ob{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Fb(e,t,r)}_apply(e){const t=this._parse(e);return uV(e._query,t),new vs(e.firestore,e.converter,u1(e._query,t))}_parse(e){const t=Lm(e.firestore);return function(i,a,d,m,E,I,F){let W;if(E.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new Ke(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){cV(F,I);const ce=[];for(const me of F)ce.push(lV(m,i,me));W={arrayValue:{values:ce}}}else W=lV(m,i,F)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||cV(F,I),W=nV(d,"where",F,"in"===I||"not-in"===I);return yn.create(E,I,W)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class ay extends sP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ay(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const d=i.getFlattenedFilters();for(const m of d)uV(a,m),a=u1(a,m)}(e._query,t),new vs(e.firestore,e.converter,u1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class oP extends Ob{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new oP(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Ke(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ke(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new B_(i,a);return function(m,E){if(null===l1(m)){const I=zS(m);null!==I&&dV(0,I,E.field)}}(r,d),d}(e._query,this._field,this._direction);return new vs(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Sd(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class II extends Ob{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new II(e,t,r)}_apply(e){return new vs(e.firestore,e.converter,jS(e._query,this._limit,this._limitType))}}class DI extends Ob{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new DI(e,t,r)}_apply(e){const t=aV(e,this.type,this._docOrFields,this._inclusive);return new vs(e.firestore,e.converter,(i=t,new Sd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class TI extends Ob{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new TI(e,t,r)}_apply(e){const t=aV(e,this.type,this._docOrFields,this._inclusive);return new vs(e.firestore,e.converter,(i=t,new Sd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function aV(n,e,t,r){if(t[0]=(0,Cn.m9)(t[0]),t[0]instanceof Rb)return function(i,a,d,m,E){if(!m)throw new Ke(je.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const I=[];for(const F of Dm(i))if(F.field.isKeyField())I.push(Sm(a,m.key));else{const W=m.data.field(F.field);if(FS(W))throw new Ke(je.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+F.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===W){const ce=F.field.canonicalString();throw new Ke(je.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ce}' (used as the orderBy) does not exist.`)}I.push(W)}return new lf(I,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Lm(n.firestore);return function(a,d,m,E,I,F){const W=a.explicitOrderBy;if(I.length>W.length)throw new Ke(je.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ce=[];for(let me=0;me<I.length;me++){const Ce=I[me];if(W[me].field.isKeyField()){if("string"!=typeof Ce)throw new Ke(je.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof Ce}`);if(!c1(a)&&-1!==Ce.indexOf("/"))throw new Ke(je.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${Ce}' contains a slash.`);const Me=a.path.child(Tn.fromString(Ce));if(!ut.isDocumentKey(Me))throw new Ke(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Me}' is not because it contains an odd number of segments.`);const Ue=new ut(Me);ce.push(Sm(d,Ue))}else{const Me=nV(m,E,Ce);ce.push(Me)}}return new lf(ce,F)}(n._query,n.firestore._databaseId,i,e,t,r)}}function lV(n,e,t){if("string"==typeof(t=(0,Cn.m9)(t))){if(""===t)throw new Ke(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c1(e)&&-1!==t.indexOf("/"))throw new Ke(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tn.fromString(t));if(!ut.isDocumentKey(r))throw new Ke(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Sm(n,new ut(r))}if(t instanceof Sr)return Sm(n,t._key);throw new Ke(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_I(t)}.`)}function cV(n,e){if(!Array.isArray(n)||0===n.length)throw new Ke(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uV(n,e){if(e.isInequality()){const r=zS(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ke(je.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=l1(n);null!==a&&dV(0,i,a)}const t=function(r,i){for(const a of r)for(const d of a.getFlattenedFilters())if(i.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ke(je.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function dV(n,e,t){if(!t.isEqual(e))throw new Ke(je.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class aP{convertValue(e,t="none"){switch(sf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ct()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ef(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new vI(ii(e.latitude),ii(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=NS(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(J0(e));default:return null}}convertTimestamp(e){const t=tf(e);return new Rr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tn.fromString(e);Ot(IL(r));const i=new nf(r.get(1),r.get(3)),a=new ut(r.popFirst(5));return i.isEqual(t)||fi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function xI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class O6 extends aP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,t)}}class Bm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Md extends Rb{constructor(e,t,r,i,a,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(SI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Nb extends Md{data(e={}){return super.data(e)}}class gf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Bm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Nb(this._firestore,this._userDataWriter,r.key,r,new Bm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ke(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Nb(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Bm(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const m=new Nb(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Bm(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,I=-1;return 0!==d.type&&(E=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),I=a.indexOf(d.doc.key)),{type:N6(d.type),doc:m,oldIndex:E,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function N6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct()}}function fV(n,e){return n instanceof Md&&e instanceof Md?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof gf&&e instanceof gf&&n._firestore===e._firestore&&JM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class _f extends aP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,t)}}function pV(n,e,t){n=vn(n,Sr);const r=vn(n.firestore,Ir),i=xI(n.converter,e,t);return ly(r,[wI(Lm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Or.none())])}function mV(n,e,t,...r){n=vn(n,Sr);const i=vn(n.firestore,Ir),a=Lm(i);let d;return d="string"==typeof(e=(0,Cn.m9)(e))||e instanceof Ad?rP(a,"updateDoc",n._key,e,t,r):nP(a,"updateDoc",n._key,e),ly(i,[d.toMutation(n._key,Or.exists(!0))])}function gV(n,...e){var t,r,i;n=(0,Cn.m9)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||eP(e[d])||(a=e[d],d++);const m={includeMetadataChanges:a.includeMetadataChanges};if(eP(e[d])){const W=e[d];e[d]=null===(t=W.next)||void 0===t?void 0:t.bind(W),e[d+1]=null===(r=W.error)||void 0===r?void 0:r.bind(W),e[d+2]=null===(i=W.complete)||void 0===i?void 0:i.bind(W)}let E,I,F;if(n instanceof Sr)I=vn(n.firestore,Ir),F=U_(n._key.path),E={next:W=>{e[d]&&e[d](lP(I,n,W))},error:e[d+1],complete:e[d+2]};else{const W=vn(n,vs);I=vn(W.firestore,Ir),F=W._query;const ce=new _f(I);E={next:me=>{e[d]&&e[d](new gf(I,ce,W,me))},error:e[d+1],complete:e[d+2]},oV(n._query)}return function(W,ce,me,Ce){const Me=new fI(Ce),Ue=new _M(ce,Me,me);return W.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return hM(yield oy(W),Ue)})),()=>{Me.Sc(),W.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return pM(yield oy(W),Ue)}))}}(mi(I),F,m,E)}function ly(n,e){return function(t,r){const i=new Li;return t.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function Mj(n,e,t){return EM.apply(this,arguments)}(yield YM(t),r,i)})),i.promise}(mi(n),e)}function lP(n,e,t){const r=t.docs.get(e._key),i=new _f(n);return new Md(n,i,e._key,r,new Bm(t.hasPendingWrites,t.fromCache),e.converter)}const eG={maxAttempts:5};class _V{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Lm(e)}set(e,t,r){this._verifyNotCommitted();const i=yf(e,this._firestore),a=xI(i.converter,t,r),d=wI(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Or.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=yf(e,this._firestore);let d;return d="string"==typeof(t=(0,Cn.m9)(t))||t instanceof Ad?rP(this._dataReader,"WriteBatch.update",a._key,t,r,i):nP(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(d.toMutation(a._key,Or.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=yf(e,this._firestore);return this._mutations=this._mutations.concat(new $_(t._key,Or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ke(je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yf(n,e){if((n=(0,Cn.m9)(n)).firestore!==e)throw new Ke(je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class tG extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Lm(e)}get(e){const t=yf(e,this._firestore),r=new O6(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Ct();const a=i[0];if(a.isFoundDocument())return new Rb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Rb(this._firestore,r,t._key,null,t.converter);throw Ct()})}set(e,t,r){const i=yf(e,this._firestore),a=xI(i.converter,t,r),d=wI(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const a=yf(e,this._firestore);let d;return d="string"==typeof(t=(0,Cn.m9)(t))||t instanceof Ad?rP(this._dataReader,"Transaction.update",a._key,t,r,i):nP(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,d),this}delete(e){const t=yf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=yf(e,this._firestore),r=new _f(this._firestore);return super.get(e).then(i=>new Md(this._firestore,r,t._key,i._document,new Bm(!1,!1),t.converter))}}function cP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function vV(){if(typeof Uint8Array>"u")throw new Ke("unimplemented","Uint8Arrays are not available in this environment.")}function bV(){if(!function NU(){return typeof atob<"u"}())throw new Ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){F_=Hc.SDK_VERSION,(0,Hc._registerComponent)(new E0.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),d=new Ir(new oU(t.getProvider("auth-internal")),new cU(t.getProvider("app-check-internal")),function(m,E){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ke(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nf(m.options.projectId,E)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,Hc.registerVersion)(JF,"3.11.0",n),(0,Hc.registerVersion)(JF,"3.11.0","esm2017")}();class Lb{constructor(e){this._delegate=e}static fromBase64String(e){return bV(),new Lb(Yc.fromBase64String(e))}static fromUint8Array(e){return vV(),new Lb(Yc.fromUint8Array(e))}toBase64(){return bV(),this._delegate.toBase64()}toUint8Array(){return vV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function uP(n){return function uG(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class dG{enableIndexedDbPersistence(e,t){return function c6(n,e){X2(n=vn(n,Ir));const t=mi(n);if(t._uninitializedComponentsProvider)throw new Ke(je.FAILED_PRECONDITION,"SDK cache is already specified.");Ba("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new sy;return Q2(t,i,new jM(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function u6(n){X2(n=vn(n,Ir));const e=mi(n);if(e._uninitializedComponentsProvider)throw new Ke(je.FAILED_PRECONDITION,"SDK cache is already specified.");Ba("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new sy;return Q2(e,r,new R2(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function d6(n){if(n._initialized&&!n._terminated)throw new Ke(je.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Li;return n._queue.enqueueAndForgetEvenWhileRestricted((0,He.Z)(function*(){try{yield(t=(0,He.Z)(function*(r){if(!Rl.D())return Promise.resolve();const i=r+"main";yield Rl.delete(i)}),function(r){return t.apply(this,arguments)})(F1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class wV{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof nf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ba("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function W2(n,e,t,r={}){var i;const a=(n=vn(n,Ab))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Ba("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Zi.MOCK_USER;else{d=(0,Cn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ke(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Zi(E)}n._authCredentials=new sU(new eN(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function f6(n){return function Qj(n){return n.asyncQueue.enqueue((0,He.Z)(function*(){const e=yield N2(n),t=yield L2(n);return e.setNetworkEnabled(!0),function(r){const i=mt(r);return i.Au.delete(0),Db(i)}(t)}))}(mi(n=vn(n,Ir)))}(this._delegate)}disableNetwork(){return function p6(n){return function Xj(n){return n.asyncQueue.enqueue((0,He.Z)(function*(){const e=yield N2(n),t=yield L2(n);return e.setNetworkEnabled(!1),(r=(0,He.Z)(function*(i){const a=mt(i);a.Au.add(0),yield X_(a),a.Pu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(mi(n=vn(n,Ir)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,z2("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function h6(n){return function(e){const t=new Li;return e.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function Oj(n,e){return TM.apply(this,arguments)}(yield YM(e),t)})),t.promise}(mi(n=vn(n,Ir)))}(this._delegate)}onSnapshotsInSync(e){return function $6(n,e){return function t6(n,e){const t=new fI(e);return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return r=yield oy(n),i=t,mt(r).Nu.add(i),void i.next();var r,i})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return r=yield oy(n),i=t,void mt(r).Nu.delete(i);var r,i}))}}(mi(n=vn(n,Ir)),eP(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new cy(this,Z2(this._delegate,e))}catch(t){throw oo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ha(this,yI(this._delegate,e))}catch(t){throw oo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ao(this,function s6(n,e){if(n=vn(n,Ab),XM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ke(je.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vs(n,null,(t=e,new Sd(Tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw oo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function nG(n,e,t){n=vn(n,Ir);const r=Object.assign(Object.assign({},eG),t);return function(i){if(i.maxAttempts<1)throw new Ke(je.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,d){const m=new Li;return i.asyncQueue.enqueueAndForget((0,He.Z)(function*(){const E=yield function V2(n){return mI(n).then(e=>e.datastore)}(i);new Kj(i.asyncQueue,E,d,a,m).run()})),m.promise}(mi(n),i=>e(new tG(n,i)),r)}(this._delegate,t=>e(new EV(this,t)))}batch(){return mi(this._delegate),new CV(new _V(this._delegate,e=>ly(this._delegate,e)))}loadBundle(e){return function m6(n,e){const t=mi(n=vn(n,Ir)),r=new a6;return function n6(n,e,t,r){const i=function(a,d){let m;return m="string"==typeof a?aL().encode(a):a,E=function(E,I){if(E instanceof Uint8Array)return O2(E,I);if(E instanceof ArrayBuffer)return O2(new Uint8Array(E),I);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new Wj(E,d);var E}(t,Ib(e));n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){!function $j(n,e,t){const r=mt(n);var i;(i=(0,He.Z)(function*(a,d,m){try{const E=yield d.getMetadata();if(yield function(ce,me){const Ce=mt(ce),Me=pi(me.createTime);return Ce.persistence.runTransaction("hasNewerBundle","readonly",Ue=>Ce.Ls.getBundleMetadata(Ue,me.id)).then(Ue=>!!Ue&&Ue.createTime.compareTo(Me)>=0)}(a.localStore,E))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(ce=E).totalDocuments,bytesLoaded:ce.totalBytes,totalDocuments:ce.totalDocuments,totalBytes:ce.totalBytes}),Promise.resolve(new Set);m._updateProgress(S2(E));const I=new Sj(E,a.localStore,d.serializer);let F=yield d.Pc();for(;F;){const ce=yield I.ju(F);ce&&m._updateProgress(ce),F=yield d.Pc()}const W=yield I.complete();return yield xd(a,W.Hu,void 0),yield function(ce,me){const Ce=mt(ce);return Ce.persistence.runTransaction("Save bundle","readwrite",Me=>Ce.Ls.saveBundleMetadata(Me,me))}(a.localStore,E),m._completeWith(W.progress),Promise.resolve(W.Wu)}catch(E){return Ba("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var ce}),function(a,d,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield YM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function g6(n,e){return function r6(n,e){return n.asyncQueue.enqueue((0,He.Z)(function*(){return function(t,r){const i=mt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ls.getNamedQuery(a,r))}(yield gI(n),e)}))}(mi(n=vn(n,Ir)),e).then(t=>t?new vs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ao(this,t):null)}}class AI extends aP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lb(new Yc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ha.forKey(t,this.firestore,null)}}class EV{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}get(e){const t=Um(e);return this._delegate.get(t).then(r=>new Vb(this._firestore,new Md(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Um(e);return r?(cP("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Um(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Um(e);return this._delegate.delete(t),this}}class CV{constructor(e){this._delegate=e}set(e,t,r){const i=Um(e);return r?(cP("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Um(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Um(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Hm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Nb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Hm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Hm(e,new AI(e),t),i.set(t,a)),a}}Hm.INSTANCES=new WeakMap;class Ha{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ha(t,new Sr(t._delegate,r,new ut(e)))}static forKey(e,t,r){return new Ha(t,new Sr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new cy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new cy(this.firestore,Z2(this._delegate,e))}catch(t){throw oo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Cn.m9)(e))instanceof Sr&&K2(this._delegate,e)}set(e,t){t=cP("DocumentReference.set",t);try{return t?pV(this._delegate,e,t):pV(this._delegate,e)}catch(r){throw oo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?mV(this._delegate,e):mV(this._delegate,e,t,...r)}catch(i){throw oo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function j6(n){return ly(vn(n.firestore,Ir),[new $_(n._key,Or.none())])}(this._delegate)}onSnapshot(...e){const t=SV(e),r=IV(e,i=>new Vb(this.firestore,new Md(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return gV(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function V6(n){n=vn(n,Sr);const e=vn(n.firestore,Ir),t=mi(e),r=new _f(e);return function Jj(n,e){const t=new Li;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return(r=(0,He.Z)(function*(i,a,d){try{const m=yield function(E,I){const F=mt(E);return F.persistence.runTransaction("read document","readonly",W=>F.localDocuments.getDocument(W,I))}(i,a);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Ke(je.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=ty(m,`Failed to get document '${a} from cache`);d.reject(E)}}),function(i,a,d){return r.apply(this,arguments)})(yield gI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Md(e,r,n._key,i,new Bm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function B6(n){n=vn(n,Sr);const e=vn(n.firestore,Ir);return B2(mi(e),n._key,{source:"server"}).then(t=>lP(e,n,t))}(this._delegate):function L6(n){n=vn(n,Sr);const e=vn(n.firestore,Ir);return B2(mi(e),n._key).then(t=>lP(e,n,t))}(this._delegate),t.then(r=>new Vb(this.firestore,new Md(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ha(this.firestore,this._delegate.withConverter(e?Hm.getInstance(this.firestore,e):null))}}function oo(n,e,t){return n.message=n.message.replace(e,t),n}function SV(n){for(const e of n)if("object"==typeof e&&!uP(e))return e;return{}}function IV(n,e){var t,r;let i;return i=uP(n[0])?n[0]:uP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Vb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ha(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fV(this._delegate,e._delegate)}}class Bb extends Vb{data(e){const t=this._delegate.data(e);return function rU(n,e){n||Ct()}(void 0!==t),t}}class ao{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}where(e,t,r){try{return new ao(this.firestore,mf(this._delegate,function D6(n,e,t){const r=e,i=SI("where",n);return Fb._create(i,r,t)}(e,t,r)))}catch(i){throw oo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ao(this.firestore,mf(this._delegate,function T6(n,e="asc"){const t=e,r=SI("orderBy",n);return oP._create(r,t)}(e,t)))}catch(r){throw oo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ao(this.firestore,mf(this._delegate,function x6(n){return $2("limit",n),II._create("limit",n,"F")}(e)))}catch(t){throw oo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ao(this.firestore,mf(this._delegate,function A6(n){return $2("limitToLast",n),II._create("limitToLast",n,"L")}(e)))}catch(t){throw oo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ao(this.firestore,mf(this._delegate,function M6(...n){return DI._create("startAt",n,!0)}(...e)))}catch(t){throw oo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ao(this.firestore,mf(this._delegate,function P6(...n){return DI._create("startAfter",n,!1)}(...e)))}catch(t){throw oo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ao(this.firestore,mf(this._delegate,function k6(...n){return TI._create("endBefore",n,!1)}(...e)))}catch(t){throw oo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ao(this.firestore,mf(this._delegate,function R6(...n){return TI._create("endAt",n,!0)}(...e)))}catch(t){throw oo(t,"endAt()","Query.endAt()")}}isEqual(e){return JM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function U6(n){n=vn(n,vs);const e=vn(n.firestore,Ir),t=mi(e),r=new _f(e);return function e6(n,e){const t=new Li;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return(r=(0,He.Z)(function*(i,a,d){try{const m=yield oI(i,a,!0),E=new T2(a,m.sr),I=E.nc(m.documents),F=E.applyChanges(I,!1);d.resolve(F.snapshot)}catch(m){const E=ty(m,`Failed to execute query '${a} against cache`);d.reject(E)}}),function(i,a,d){return r.apply(this,arguments)})(yield gI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new gf(e,r,n,i))}(this._delegate):"server"===e?.source?function z6(n){n=vn(n,vs);const e=vn(n.firestore,Ir),t=mi(e),r=new _f(e);return H2(t,n._query,{source:"server"}).then(i=>new gf(e,r,n,i))}(this._delegate):function H6(n){n=vn(n,vs);const e=vn(n.firestore,Ir),t=mi(e),r=new _f(e);return oV(n._query),H2(t,n._query).then(i=>new gf(e,r,n,i))}(this._delegate),t.then(r=>new dP(this.firestore,new gf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=SV(e),r=IV(e,i=>new dP(this.firestore,new gf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return gV(this._delegate,t,r)}withConverter(e){return new ao(this.firestore,this._delegate.withConverter(e?Hm.getInstance(this.firestore,e):null))}}class fG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Bb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ao(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new fG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Bb(this._firestore,r))})}isEqual(e){return fV(this._delegate,e._delegate)}}class cy extends ao{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ha(this.firestore,e):null}doc(e){try{return new Ha(this.firestore,void 0===e?yI(this._delegate):yI(this._delegate,e))}catch(t){throw oo(t,"doc()","CollectionReference.doc()")}}add(e){return function G6(n,e){const t=vn(n.firestore,Ir),r=yI(n),i=xI(n.converter,e);return ly(t,[wI(Lm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Or.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ha(this.firestore,t))}isEqual(e){return K2(this._delegate,e._delegate)}withConverter(e){return new cy(this.firestore,this._delegate.withConverter(e?Hm.getInstance(this.firestore,e):null))}}function Um(n){return vn(n,Sr)}class hP{constructor(...e){this._delegate=new Ad(...e)}static documentId(){return new hP(ri.keyField().canonicalString())}isEqual(e){return(e=(0,Cn.m9)(e))instanceof Ad&&this._delegate._internalPath.isEqual(e._internalPath)}}class zm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function iG(){return new tP("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new zm(e)}static delete(){const e=function rG(){return new Pb("deleteField")}();return e._methodName="FieldValue.delete",new zm(e)}static arrayUnion(...e){const t=function sG(...n){return new w6("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new zm(t)}static arrayRemove(...e){const t=function oG(...n){return new E6("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new zm(t)}static increment(e){const t=function aG(n){return new C6("increment",n)}(e);return t._methodName="FieldValue.increment",new zm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const pG={Firestore:wV,GeoPoint:vI,Timestamp:Rr,Blob:Lb,Transaction:EV,WriteBatch:CV,DocumentReference:Ha,DocumentSnapshot:Vb,Query:ao,QueryDocumentSnapshot:Bb,QuerySnapshot:dP,CollectionReference:cy,FieldPath:hP,FieldValue:zm,setLogLevel:function hG(n){!function nU(n){Qh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function gG(n){(function mG(n,e){n.INTERNAL.registerComponent(new E0.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},pG)))})(n,(e,t)=>new wV(e,t,new dG)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(mA.Z);var MI=f(5363),_G=f(6063);class yG extends bt.x{constructor(e=1/0,t=1/0,r=_G.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:d}=this;t||(r.push(e),!i&&r.push(a.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let d=0;d<a.length&&!e.closed;d+=r?1:2)e.next(a[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const d=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=d;E+=2)m=E;m&&r.splice(0,m+1)}}}var DV=f(3099);function TV(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,DV.B)({connector:()=>new yG(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function xV(n,e){return(0,Ps.m)(e)?fr(()=>n,e):fr(()=>n)}var fP=f(9468);f(259);const mP=new Map,MV={activated:!1,tokenObservers:[]},CG={initialized:!1,enabled:!1};function si(n){return mP.get(n)||Object.assign({},MV)}function kI(){return CG}class AG{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,He.Z)(function*(){t.stop();try{t.pending=new Cn.BH,yield function MG(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Cn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const bs=new Cn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _P(n){if(!si(n).activated)throw bs.create("use-before-activation",{appName:n.name})}function FI(n,e){return vP.apply(this,arguments)}function vP(){return vP=(0,He.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const W=yield i.getHeartbeatsHeader();W&&(r["X-Firebase-Client"]=W)}const a={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,a)}catch(W){throw bs.create("fetch-network-error",{originalErrorMessage:W?.message})}if(200!==d.status)throw bs.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(W){throw bs.create("fetch-parse-error",{originalErrorMessage:W?.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw bs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const I=1e3*Number(E[1]),F=Date.now();return{token:m.token,expireTimeMillis:F+I,issuedAtTimeMillis:F}}),vP.apply(this,arguments)}function kV(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Hb="firebase-app-check-store";let NI=null;function OV(){return NI||(NI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(bs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Hb,{keyPath:"compositeKey"})}}catch(t){e(bs.create("storage-open",{originalErrorMessage:t?.message}))}}),NI)}function bP(){return bP=(0,He.Z)(function*(n,e){const r=(yield OV()).transaction(Hb,"readwrite"),a=r.objectStore(Hb).put({compositeKey:n,value:e});return new Promise((d,m)=>{a.onsuccess=E=>{d()},r.onerror=E=>{var I;m(bs.create("storage-set",{originalErrorMessage:null===(I=E.target.error)||void 0===I?void 0:I.message}))}})}),bP.apply(this,arguments)}const Ub=new La.Yd("@firebase/app-check");function CP(n,e){return(0,Cn.hl)()?function LG(n,e){return function FV(n,e){return bP.apply(this,arguments)}(function LV(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ub.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function IP(){return kI().enabled}function DP(){return TP.apply(this,arguments)}function TP(){return TP=(0,He.Z)(function*(){const n=kI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),TP.apply(this,arguments)}const jG={error:"UNKNOWN_ERROR"};function GG(n){return Cn.US.encodeString(JSON.stringify(n),!1)}function LI(n){return xP.apply(this,arguments)}function xP(){return xP=(0,He.Z)(function*(n,e=!1){const t=n.app;_P(t);const r=si(t);let a,i=r.token;if(i&&!uy(i)&&(r.token=void 0,i=void 0),!i){const E=yield r.cachedTokenPromise;E&&(uy(E)?i=E:yield CP(t,void 0))}if(!e&&i&&uy(i))return{token:i.token};let m,d=!1;if(IP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=FI(kV(t,yield DP()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const E=yield r.exchangeTokenPromise;return yield CP(t,E),r.token=E,{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield si(t).exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Ub.warn(E.message):Ub.error(E),a=E}return i?a?m=uy(i)?{token:i.token,internalError:a}:HV(a):(m={token:i.token},r.token=i,yield CP(t,i)):m=HV(a),d&&BV(t,m),m}),xP.apply(this,arguments)}function PP(n,e){const t=si(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function VV(n){const{app:e}=n,t=si(e);let r=t.tokenRefresher;r||(r=function qG(n){const{app:e}=n;return new AG((0,He.Z)(function*(){let r;if(r=si(e).token?yield LI(n,!0):yield LI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=si(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function BV(n,e){const t=si(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function uy(n){return n.expireTimeMillis-Date.now()>0}function HV(n){return{token:GG(jG),error:n}}class WG{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=si(this.app);for(const t of e)PP(this.app,t.next);return Promise.resolve()}}const ZV="app-check-internal";!function l4(){(0,Hc._registerComponent)(new E0.wA("app-check",n=>function ZG(n,e){return new WG(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ZV).initialize()})),(0,Hc._registerComponent)(new E0.wA(ZV,n=>function KG(n){return{getToken:e=>LI(n,e),addTokenListener:e=>function MP(n,e,t,r){const{app:i}=n,a=si(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&uy(a.token)){const m=a.token;Promise.resolve().then(()=>{t({token:m.token}),VV(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>VV(n))}(n,"INTERNAL",e),removeTokenListener:e=>PP(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Hc.registerVersion)("@firebase/app-check","0.7.0")}();class FP{constructor(){return(0,wi.vb)("app-check")}}typeof window<"u"&&window;var LP=f(9260);const YV=new s.OlP("angularfire2.auth.use-emulator"),QV=new s.OlP("angularfire2.auth.settings"),XV=new s.OlP("angularfire2.auth.tenant-id"),JV=new s.OlP("angularfire2.auth.langugage-code"),eB=new s.OlP("angularfire2.auth.use-device-language"),tB=new s.OlP("angularfire.auth.persistence"),nB=(n,e,t,r,i,a,d,m)=>(0,Na.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=i,a&&E.useDeviceLanguage(),d)for(const[I,F]of Object.entries(d))E.settings[I]=F;return m&&E.setPersistence(m),E},[t,r,i,a,d,m]);let VP=(()=>{class n{constructor(t,r,i,a,d,m,E,I,F,W,ce,me){const Ce=new bt.x,Me=gt(void 0).pipe((0,MI.Q)(d.outsideAngular),fr(()=>a.runOutsideAngular(()=>Promise.resolve().then(f.bind(f,3042)))),(0,Et.U)(()=>(0,Na.on)(t,a,r)),(0,Et.U)(Ue=>nB(Ue,a,m,I,F,W,E,ce)),TV({bufferSize:1,refCount:!1}));if(Hl(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{Me.pipe(Ri()).subscribe();const rt=Me.pipe(fr(At=>At.getRedirectResult().then(en=>en,()=>null)),wi.iC,TV({bufferSize:1,refCount:!1})),vt=Me.pipe(fr(At=>new Nr.y(en=>({unsubscribe:a.runOutsideAngular(()=>At.onAuthStateChanged(rn=>en.next(rn),rn=>en.error(rn),()=>en.complete()))})))),dt=Me.pipe(fr(At=>new Nr.y(en=>({unsubscribe:a.runOutsideAngular(()=>At.onIdTokenChanged(rn=>en.next(rn),rn=>en.error(rn),()=>en.complete()))}))));this.authState=rt.pipe(xV(vt),(0,fP.R)(d.outsideAngular),(0,MI.Q)(d.insideAngular)),this.user=rt.pipe(xV(dt),(0,fP.R)(d.outsideAngular),(0,MI.Q)(d.insideAngular)),this.idToken=this.user.pipe(fr(At=>At?(0,En.D)(At.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(fr(At=>At?(0,En.D)(At.getIdTokenResult()):gt(null))),this.credential=(0,sm.T)(rt,Ce,this.authState.pipe(lr(At=>!At))).pipe((0,Et.U)(At=>At?.user?At:null),(0,fP.R)(d.outsideAngular),(0,MI.Q)(d.insideAngular))}return(0,Na.pX)(this,Me,a,{spy:{apply:(Ue,rt,vt)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&vt.then(dt=>Ce.next(dt))}}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Na.Dh),s.LFG(Na.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(wi.HU),s.LFG(YV,8),s.LFG(QV,8),s.LFG(XV,8),s.LFG(JV,8),s.LFG(eB,8),s.LFG(tB,8),s.LFG(FP,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),p4=(()=>{class n{constructor(){LP.Z.registerVersion("angularfire",wi.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[VP]}),n})();function rB(n,e){return function m4(n,e=Vh.z){return new Nr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function BP(n,e){return rB(n,e).pipe((0,Et.U)(t=>({payload:t,type:"query"})))}function BI(n,e){return BP(n,e).pipe(bi(void 0),y_(),(0,Et.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const E=i.find(F=>F.doc.ref.isEqual(d.ref)),I=t?.payload.docs.find(F=>F.ref.isEqual(d.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(d.metadata)||!E&&I&&JSON.stringify(I.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),a}))}function iB(n,e,t){return BI(n,t).pipe(fo((r,i)=>function _4(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function y4(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return HP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return HP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return HP(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),gC(),(0,Et.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function HP(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function sB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class oB{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=BI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Et.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(bi(void 0),y_(),lr(([r,i])=>i.length>0||!r),(0,Et.U)(([r,i])=>i),wi.iC)}auditTrail(e){return this.stateChanges(e).pipe(fo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=sB(e);return iB(this.query,t,this.afs.schedulers.outsideAngular).pipe(wi.iC)}valueChanges(e={}){return BP(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),wi.iC)}get(e){return(0,En.D)(this.query.get(e)).pipe(wi.iC)}add(e){return this.ref.add(e)}doc(e){return new aB(this.ref.doc(e),this.afs)}}class aB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=uB(r,t);return new oB(i,a,this.afs)}snapshotChanges(){return function g4(n,e){return rB(n,e).pipe(bi(void 0),y_(),(0,Et.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Et.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,En.D)(this.ref.get(e)).pipe(wi.iC)}}class v4{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?BI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),lr(t=>t.length>0),wi.iC):BI(this.query,this.afs.schedulers.outsideAngular).pipe(wi.iC)}auditTrail(e){return this.stateChanges(e).pipe(fo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=sB(e);return iB(this.query,t,this.afs.schedulers.outsideAngular).pipe(wi.iC)}valueChanges(e={}){return BP(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),wi.iC)}get(e){return(0,En.D)(this.query.get(e)).pipe(wi.iC)}}const lB=new s.OlP("angularfire2.enableFirestorePersistence"),cB=new s.OlP("angularfire2.firestore.persistenceSettings"),b4=new s.OlP("angularfire2.firestore.settings"),w4=new s.OlP("angularfire2.firestore.use-emulator");function uB(n,e=(t=>t)){return{query:e(n),ref:n}}let dy=(()=>{class n{constructor(t,r,i,a,d,m,E,I,F,W,ce,me,Ce,Me,Ue,rt,vt){this.schedulers=E;const dt=(0,Na.on)(t,m,r),At=F;W&&nB(dt,m,ce,Ce,Me,Ue,me,rt),[this.firestore,this.persistenceEnabled$]=(0,Na.cc)(`${dt.name}.firestore`,"AngularFirestore",dt.name,()=>{const en=m.runOutsideAngular(()=>dt.firestore());if(a&&en.settings(a),At&&en.useEmulator(...At),i&&!Hl(d)){const rn=()=>{try{return(0,En.D)(en.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(Hn){return typeof console<"u"&&console.warn(Hn),gt(!1)}};return[en,m.runOutsideAngular(rn)]}return[en,gt(!1)]},[a,At,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:d}=uB(i,r),m=this.schedulers.ngZone.run(()=>a);return new oB(m,d,this)}collectionGroup(t,r){const i=r||(d=>d),a=this.firestore.collectionGroup(t);return new v4(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new aB(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Na.Dh),s.LFG(Na.xv,8),s.LFG(lB,8),s.LFG(b4,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(wi.HU),s.LFG(cB,8),s.LFG(w4,8),s.LFG(VP,8),s.LFG(YV,8),s.LFG(QV,8),s.LFG(XV,8),s.LFG(JV,8),s.LFG(eB,8),s.LFG(tB,8),s.LFG(FP,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),E4=(()=>{class n{constructor(){LP.Z.registerVersion("angularfire",wi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:lB,useValue:!0},{provide:cB,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[dy]}),n})();var C4=f(930);let zb=(()=>{class n{constructor(t){this.db=t}createTicket(t,r,i,a,d){var m=this;return(0,He.Z)(function*(){if(!t||!r||!i)throw new Error("Required fields are missing");const E=m.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").doc(i).collection("tickets").doc();yield E.set({...a,id:E.ref.id,position:d})})()}createDefaultTickets(t,r,i){var a=this;return(0,He.Z)(function*(){const m=["TBD","TBD","TBD"].map((E,I)=>a.createTicket(t,r,i,{title:E,description:"",boardId:t,monthId:r,sprintId:i},I));yield Promise.all(m)})()}getTickets(t,r,i){return this.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").doc(i).collection("tickets").valueChanges({idField:"id"})}getTicketsPromise(t,r,i){var a=this;return(0,He.Z)(function*(){return(yield a.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").doc(i).collection("tickets").ref.get()).docs.map(m=>({...m.data(),id:m.id}))})()}updateTicket(t,r){var i=this;return(0,He.Z)(function*(){if(!r.boardId||!r.monthId||!r.sprintId)throw new Error("Required fields are missing");yield i.db.collection("boards").doc(r.boardId).collection("months").doc(r.monthId).collection("sprints").doc(r.sprintId).collection("tickets").doc(t).update({...r,boardId:r.boardId,monthId:r.monthId,sprintId:r.sprintId})})()}deleteTicket(t,r,i,a){return this.db.collection("boards").doc(r).collection("months").doc(i).collection("sprints").doc(a).collection("tickets").doc(t).delete()}getNewTicketPosition(t,r,i){var a=this;return(0,He.Z)(function*(){const d=a.getTickets(t,r,i),E=(yield function S4(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const a=new C4.Hp({next:d=>{r(d),a.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new _a)}});n.subscribe(a)})}(d)).map(F=>F.position);return(E.length?Math.max(...E):0)+1})()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(dy))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jb=(()=>{class n{constructor(t,r){this.db=t,this.ticketService=r}createSprintsForMonth(t,r){var i=this;return(0,He.Z)(function*(){const d=["Sprint 1","Sprint 2"].map(function(){var m=(0,He.Z)(function*(E){const I=yield i.createSprint(t,r,{boardId:t,monthId:r,name:E});if(I.id)return i.ticketService.createDefaultTickets(t,r,I.id);throw new Error("Failed to create a sprint")});return function(E){return m.apply(this,arguments)}}());yield Promise.all(d)})()}createSprint(t,r,i){var a=this;return(0,He.Z)(function*(){const d=a.db.collection("boards").doc(t).collection("months").doc(r),m=yield d.collection("sprints").add(i);return yield d.collection("sprints").doc(m.id).collection("sprintStates").doc("state").set({isCollapsed:!1}),{id:m.id,...i}})()}getSprintState(t,r,i){return this.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").doc(i).collection("sprintStates").doc("state").valueChanges()}updateSprintState(t,r,i,a){return this.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").doc(i).collection("sprintStates").doc("state").update(a)}getSprints(t,r){return this.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").valueChanges({idField:"id"})}updateSprint(t,r,i,a){return this.db.collection("boards").doc(r).collection("months").doc(i).collection("sprints").doc(t).update(a)}deleteSprint(t,r,i){return this.db.collection("boards").doc(r).collection("months").doc(i).collection("sprints").doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(dy),s.LFG(zb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UP=(()=>{class n{constructor(t,r){this.db=t,this.sprintService=r}createDefaultMonths(t){var r=this;return(0,He.Z)(function*(){const i=[{boardId:t,name:"January"},{boardId:t,name:"February"},{boardId:t,name:"March"}],a=i.map(m=>r.db.collection("boards").doc(t).collection("months").add(m));return(yield Promise.all(a)).map((m,E)=>({id:m.id,...i[E]}))})()}createMonth(t,r){var i=this;return(0,He.Z)(function*(){const d=yield i.db.collection("boards").doc(t).collection("months").add(r);yield i.sprintService.createSprintsForMonth(t,d.id)})()}getMonths(t){return this.db.collection("boards").doc(t).collection("months").valueChanges({idField:"id"})}updateMonth(t,r,i){return this.db.collection("boards").doc(r).collection("months").doc(t).update(i)}deleteMonth(t,r){var i=this;return(0,He.Z)(function*(){try{console.log(`Deleting month with boardId ${t} and monthId ${r}`);const d=yield i.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").get().toPromise();if(console.log("sprintsSnapshot:",d),d?.empty)return void console.log("No matching documents.");if(d?.forEach(E=>{console.log(E.id,"=>",E.data())}),d&&d.docs)for(const E of d.docs){const I=E.id;console.log(`Deleting sprint with sprintId ${I}`);const W=yield i.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").doc(I).collection("sprintStates").get().toPromise();if(W&&W.docs){for(const Ce of W.docs)yield Ce.ref.delete();console.log(`SprintStates deleted for sprintId ${I}`)}const me=yield i.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").doc(I).collection("tickets").get().toPromise();if(me&&me.docs){for(const Ce of me.docs)yield Ce.ref.delete();console.log(`Tickets deleted for sprintId ${I}`)}yield E.ref.delete(),console.log(`Sprint ${I} deleted`)}yield i.db.collection("boards").doc(t).collection("months").doc(r).delete(),console.log("Month and its subcollections successfully deleted.")}catch(a){console.error("Error deleting month:",a)}})()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(dy),s.LFG(jb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dB=(()=>{class n{constructor(t,r,i){this.db=t,this.monthService=r,this.sprintService=i}createNewBoard(t,r,i){var a=this;return(0,He.Z)(function*(){const d={name:t,code:r,editorAccessOnCreation:i},m=yield a.db.collection("boards").add(d),E=yield a.monthService.createDefaultMonths(m.id);for(const I of E)yield a.sprintService.createSprintsForMonth(m.id,I.id);return m.id})()}getBoard(t){return this.db.collection("boards").doc(t).valueChanges().pipe((0,Et.U)(r=>{if(!r)throw new Error("Board not found");return{id:t,...r}}))}updateBoard(t,r){return this.db.collection("boards").doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(dy),s.LFG(UP),s.LFG(jb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I4=["connectionContainer"],D4=["inputContainer"],T4=["label"];function x4(n,e){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function A4(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.updateOutlineGap())}),s.Hsn(1,1),s.qZA()}if(2&n){const t=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function M4(n,e){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const t=s.oxw(2);s.xp6(3),s.Oqu(t._control.placeholder)}}function P4(n,e){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function k4(n,e){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function R4(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.updateOutlineGap())}),s.YNc(2,M4,4,1,"ng-container",12),s.YNc(3,P4,1,0,"ng-content",12),s.YNc(4,k4,2,0,"span",22),s.qZA()}if(2&n){const t=s.oxw();s.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),s.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),s.uIk("for",t._control.id)("aria-owns",t._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function O4(n,e){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function F4(n,e){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function N4(n,e){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const t=s.oxw();s.Q6J("@transitionMessages",t._subscriptAnimationState)}}function L4(n,e){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.Q6J("id",t._hintLabelId),s.xp6(1),s.Oqu(t.hintLabel)}}function V4(n,e){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,L4,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const t=s.oxw();s.Q6J("@transitionMessages",t._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",t.hintLabel)}}const B4=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],H4=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let U4=0;const hB=new s.OlP("MatError");let z4=(()=>{class n{constructor(t,r){this.id="mat-error-"+U4++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,r){2&t&&s.uIk("id",r.id)},inputs:{id:"id"},features:[s._Bn([{provide:hB,useExisting:n}])]}),n})();const j4={transitionMessages:Vc("transitionMessages",[Wo("enter",jn({opacity:1,transform:"translateY(0%)"})),fs("void => enter",[jn({opacity:0,transform:"translateY(-5px)"}),Fs("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let zP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n}),n})(),G4=0;const fB=new s.OlP("MatHint");let pB=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+G4++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,r){2&t&&(s.uIk("id",r.id)("align",null),s.ekj("mat-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},features:[s._Bn([{provide:fB,useExisting:n}])]}),n})(),Gb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),$4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const mB=new s.OlP("MatPrefix");let gB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matPrefix",""]],features:[s._Bn([{provide:mB,useExisting:n}])]}),n})();const q4=new s.OlP("MatSuffix");let _B=0;const Z4=cm(class{constructor(n){this._elementRef=n}},"primary"),K4=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),vB=new s.OlP("MatFormField");let HI=(()=>{class n extends Z4{constructor(t,r,i,a,d,m,E){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=d,this._ngZone=m,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new bt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+_B++,this._labelId="mat-form-field-label-"+_B++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==E,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=qi(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(bi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(hi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(hi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,sm.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(bi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(bi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(hi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,od(this._label.nativeElement,"transitionend").pipe(Ar(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const F=r.querySelectorAll(`${i}, ${a}`);for(let W=0;W<F.length;W++)F[W].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,m=0;const E=r.querySelectorAll(i),I=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const F=r.getBoundingClientRect();if(0===F.width&&0===F.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const W=this._getStartEnd(F),ce=t.children,me=this._getStartEnd(ce[0].getBoundingClientRect());let Ce=0;for(let Me=0;Me<ce.length;Me++)Ce+=ce[Me].offsetWidth;d=Math.abs(me-W)-5,m=Ce>0?.75*Ce+10:0}for(let F=0;F<E.length;F++)E[F].style.width=`${d}px`;for(let F=0;F<I.length;F++)I[F].style.width=`${m}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Lc,8),s.Y36(K4,8),s.Y36(di),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(s.Suo(i,zP,5),s.Suo(i,zP,7),s.Suo(i,Gb,5),s.Suo(i,Gb,7),s.Suo(i,$4,5),s.Suo(i,hB,5),s.Suo(i,fB,5),s.Suo(i,mB,5),s.Suo(i,q4,5)),2&t){let a;s.iGM(a=s.CRH())&&(r._controlNonStatic=a.first),s.iGM(a=s.CRH())&&(r._controlStatic=a.first),s.iGM(a=s.CRH())&&(r._labelChildNonStatic=a.first),s.iGM(a=s.CRH())&&(r._labelChildStatic=a.first),s.iGM(a=s.CRH())&&(r._placeholderChild=a.first),s.iGM(a=s.CRH())&&(r._errorChildren=a),s.iGM(a=s.CRH())&&(r._hintChildren=a),s.iGM(a=s.CRH())&&(r._prefixChildren=a),s.iGM(a=s.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(s.Gf(I4,7),s.Gf(D4,5),s.Gf(T4,5)),2&t){let i;s.iGM(i=s.CRH())&&(r._connectionContainerRef=i.first),s.iGM(i=s.CRH())&&(r._inputContainerRef=i.first),s.iGM(i=s.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&s.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:vB,useExisting:n}]),s.qOj],ngContentSelectors:H4,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(s.F$t(B4),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),s.YNc(3,x4,9,0,"ng-container",3),s.YNc(4,A4,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,R4,5,16,"label",8),s.qZA()(),s.YNc(10,O4,2,0,"div",9),s.qZA(),s.YNc(11,F4,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,N4,2,1,"div",12),s.YNc(14,V4,5,2,"div",13),s.qZA()()),2&t&&(s.xp6(3),s.Q6J("ngIf","outline"==r.appearance),s.xp6(1),s.Q6J("ngIf",r._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",r._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",r._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=r.appearance),s.xp6(1),s.Q6J("ngSwitch",r._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[Nn,yC,co,ia],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[j4.transitionMessages]},changeDetection:0}),n})(),hy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[yi,pr,jv],pr]}),n})();const bB=ro({passive:!0});let Y4=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Gi.E;const r=Pr(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new bt.x,d="cdk-text-field-autofilled",m=E=>{"cdk-text-field-autofill-start"!==E.animationName||r.classList.contains(d)?"cdk-text-field-autofill-end"===E.animationName&&r.classList.contains(d)&&(r.classList.remove(d),this._ngZone.run(()=>a.next({target:E.target,isAutofilled:!1}))):(r.classList.add(d),this._ngZone.run(()=>a.next({target:E.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",m,bB),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",m,bB)}}),a}stopMonitoring(t){const r=Pr(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(di),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Q4=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),X4=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let J4=0;const e5=qh(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let $b=(()=>{class n extends e5{constructor(t,r,i,a,d,m,E,I,F,W){super(m,a,d,i),this._elementRef=t,this._platform=r,this._autofillMonitor=I,this._formField=W,this._uid="mat-input-"+J4++,this.focused=!1,this.stateChanges=new bt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ce=>VE().has(Ce)),this._iOSKeyupListener=Ce=>{const Me=Ce.target;!Me.value&&0===Me.selectionStart&&0===Me.selectionEnd&&(Me.setSelectionRange(1,1),Me.setSelectionRange(0,0))};const ce=this._elementRef.nativeElement,me=ce.nodeName.toLowerCase();this._inputValueAccessor=E||ce,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&F.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===me,this._isTextarea="textarea"===me,this._isInFormField=!!W,this._isNativeSelect&&(this.controlType=ce.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=qi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ln.required)??!1}set required(t){this._required=qi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&VE().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=qi(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){X4.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(di),s.Y36(jo,10),s.Y36(Ug,8),s.Y36(to,8),s.Y36(s0),s.Y36(Q4,10),s.Y36(Y4),s.Y36(s.R0b),s.Y36(vB,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&s.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(s.Ikx("disabled",r.disabled)("required",r.required),s.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),s.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:zP,useExisting:n}]),s.qOj,s.TTD]}),n})(),jP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[s0],imports:[[wB,hy,pr],wB,hy]}),n})();const t5=function(n){return{"cancel-button":n}},n5=["*"];let jm=(()=>{class n{constructor(){this.width=277,this.height=44,this.disabled=!1,this.buttonType=""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-custom-button"]],inputs:{width:"width",height:"height",disabled:"disabled",buttonType:"buttonType"},ngContentSelectors:n5,decls:2,vars:10,consts:[[1,"custom-button",3,"ngClass","disabled"]],template:function(t,r){1&t&&(s.F$t(),s.TgZ(0,"button",0),s.Hsn(1),s.qZA()),2&t&&(s.Udp("width",r.width,"px")("height",r.height,"px"),s.ekj("disabled",r.disabled),s.Q6J("ngClass",s.VKq(8,t5,"cancel-button"===r.buttonType))("disabled",r.disabled))},dependencies:[mn],styles:[".custom-button[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Inter,Raleway,sans-serif;font-size:18px;background:#ecf3fc;border:1px solid #4388dd;box-shadow:0 4px 180px #00000040;border-radius:6px;cursor:pointer;transition:all .3s ease}.custom-button[_ngcontent-%COMP%]:hover{background:#4388dd;border-color:#4388dd;color:#fff;box-shadow:0 6px 180px #00000059;transform:translateY(-2px)}.custom-button[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 4px 180px #00000040}.custom-button.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.custom-button.cancel-button[_ngcontent-%COMP%]{background:#f44336;border:1px solid #f44336;color:#fff}.custom-button.cancel-button[_ngcontent-%COMP%]:hover{background:#d32f2f;border:1px solid #d32f2f;color:#fff;box-shadow:0 6px 180px #00000059;transform:translateY(-2px)}@media (max-width: 767px){.custom-button[_ngcontent-%COMP%]{font-size:16px}}"]}),n})();const r5=["inputElem"];function s5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"mat-form-field",14)(1,"input",15,16),s.NdJ("input",function(i){const d=s.CHM(t).index,m=s.oxw();return s.KtG(m.onInput(i,d))})("keyup",function(i){const d=s.CHM(t).index,m=s.oxw();return s.KtG(m.onKeyUp(i,d))}),s.qZA()()}if(2&n){const t=e.index;s.xp6(1),s.MGl("formControlName","roadmapCode",t,"")}}function o5(n,e){1&n&&(s.TgZ(0,"div",17),s._uU(1," Only digits are accepted. "),s.qZA())}let a5=(()=>{class n{constructor(t,r,i,a){this.formBuilder=t,this.dialogRef=r,this.boardService=i,this.router=a,this.controlsArray=[],this.invalidInput=!1,this.subscriptions=new Qr.w0}ngOnInit(){this.roadmapCodeForm=this.formBuilder.group({boardName:["",Ln.required],roadmapCode0:["",[Ln.required,Ln.pattern("\\d")]],roadmapCode1:["",[Ln.required,Ln.pattern("\\d")]],roadmapCode2:["",[Ln.required,Ln.pattern("\\d")]],roadmapCode3:["",[Ln.required,Ln.pattern("\\d")]],roadmapCode4:["",[Ln.required,Ln.pattern("\\d")]],roadmapCode5:["",[Ln.required,Ln.pattern("\\d")]]}),this.controlsArray=Object.values(this.roadmapCodeForm.controls).filter(t=>t!==this.roadmapCodeForm.controls.boardName)}ngOnDestroy(){this.subscriptions.unsubscribe()}onInput(t,r){const i=t.target,a=i.value;a.length>1&&(i.value=a.slice(0,1)),/\d/.test(a)?(this.invalidInput=!1,r<this.controlsArray.length-1&&this.controlsArray[r+1].enable()):""===a?this.invalidInput=!1:(i.value="",this.invalidInput=!0)}onKeyUp(t,r){if(1!==t.key.length||isNaN(Number(t.key))){if("Backspace"===t.key||"Delete"===t.key){this.invalidInput=!1;const i=r-1;i>=0&&this.inputElements.toArray()[i].nativeElement.focus()}}else{const i=r+1;i<this.inputElements.length&&setTimeout(()=>{this.inputElements.toArray()[i].nativeElement.focus()},50)}}onSubmit(){if(this.roadmapCodeForm.valid){const t=this.roadmapCodeForm.controls.boardName.value,r=this.controlsArray.map(a=>a.value).join(""),i=(0,SE.sha256)(r);this.boardService.createNewBoard(t,i,!0).then(a=>{this.dialogRef.close(a)}).catch(a=>{console.error("Error creating new board:",a)})}}onCancel(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(em),s.Y36(xl),s.Y36(dB),s.Y36(Rn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-roadmap-popup"]],viewQuery:function(t,r){if(1&t&&s.Gf(r5,5),2&t){let i;s.iGM(i=s.CRH())&&(r.inputElements=i)}},decls:21,vars:4,consts:[[1,"popup-container"],[1,"setup-title"],[1,"content-container"],[1,"title"],[1,"description"],[1,"pin-code-form",3,"formGroup"],[1,"board-name-input"],["matInput","","formControlName","boardName","required",""],[1,"pin-inputs"],["class","pin-input",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],[1,"popup-actions"],[3,"disabled","click"],["buttonType","cancel-button",3,"click"],[1,"pin-input"],["matInput","","type","password","maxlength","1","pattern","\\d","required","",3,"formControlName","input","keyup"],["inputElem",""],[1,"error-message"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2,"Setup a Pin Code"),s.qZA(),s.TgZ(3,"div",2)(4,"h2",3),s._uU(5,"To obtain editor rights"),s.qZA(),s.TgZ(6,"p",4),s._uU(7,"Please enter the 6 digit code pin that will ensure your admin rights:"),s.qZA(),s.TgZ(8,"form",5)(9,"mat-form-field",6)(10,"mat-label"),s._uU(11,"Board Name"),s.qZA(),s._UZ(12,"input",7),s.qZA(),s.TgZ(13,"div",8),s.YNc(14,s5,3,1,"mat-form-field",9),s.qZA()(),s.YNc(15,o5,2,0,"div",10),s.qZA(),s.TgZ(16,"div",11)(17,"app-custom-button",12),s.NdJ("click",function(){return r.onSubmit()}),s._uU(18,"Validate"),s.qZA(),s.TgZ(19,"app-custom-button",13),s.NdJ("click",function(){return r.onCancel()}),s._uU(20,"Cancel"),s.qZA()()()),2&t&&(s.xp6(8),s.Q6J("formGroup",r.roadmapCodeForm),s.xp6(6),s.Q6J("ngForOf",r.controlsArray),s.xp6(1),s.Q6J("ngIf",r.invalidInput),s.xp6(2),s.Q6J("disabled",!r.roadmapCodeForm.valid))},dependencies:[gn,Nn,td,Mc,Rh,Op,ei,Ra,Fc,to,nd,HI,Gb,$b,jm],styles:[".popup-container[_ngcontent-%COMP%]{box-sizing:border-box;background:#323232;border:1px solid #323232;box-shadow:0 4px 20px #0009;border-radius:5px;padding:20px;height:100%;width:100%}.setup-title[_ngcontent-%COMP%]{width:100%;height:50px;font-size:clamp(16px,1.5vw,18px);line-height:24px;color:#fff}.content-container[_ngcontent-%COMP%]{background:#e8f0fb;border-radius:5px;padding:20px;position:relative}.title[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:700;font-size:20px;line-height:150%;color:#000;margin-bottom:20px}.description[_ngcontent-%COMP%]{width:250px;height:39px;font-family:Roboto;font-style:normal;font-weight:400;font-size:clamp(14px,1.2vw,16px);line-height:19px;color:#000}.board-name-input[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.pin-inputs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.pin-input[_ngcontent-%COMP%]{width:42px}.pin-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:55px;margin:3px;padding:0;background:#ecf3fc;border:1px solid #000000;border-radius:10px;display:flex;justify-content:center;align-items:center}@media (max-width: 480px){.popup-container[_ngcontent-%COMP%]{padding:10px}.setup-title[_ngcontent-%COMP%]{font-size:14px;height:40px}.title[_ngcontent-%COMP%]{font-size:clamp(16px,1.5vw,18px);margin-bottom:10px}.description[_ngcontent-%COMP%]{width:100%;font-size:14px;line-height:17px}.pin-input[_ngcontent-%COMP%]{width:35px}.pin-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:40px}input[type=password][_ngcontent-%COMP%]{font-size:46px}input[type=password][_ngcontent-%COMP%]::-webkit-text-security{font-size:50px}}input[type=password][_ngcontent-%COMP%]{text-align:center;font-size:62px}input[type=password][_ngcontent-%COMP%]::-webkit-text-security{font-size:66px}.popup-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;padding:20px}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;text-align:center;margin-top:8px}"]}),n})();function l5(n,e){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const t=s.oxw(),r=s.MAs(1);s.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),s.uIk("r",t._getCircleRadius())}}function c5(n,e){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const t=s.oxw(),r=s.MAs(1);s.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),s.uIk("r",t._getCircleRadius())}}const d5=cm(class{constructor(n){this._elementRef=n}},"primary"),h5=new s.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function f5(){return{diameter:100}}});class Pd extends d5{constructor(e,t,r,i,a,d,m,E){super(e),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=Qr.w0.EMPTY,this.mode="determinate";const I=Pd._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),I.has(r.head)||I.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!a&&!a._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),a&&(a.diameter&&(this.diameter=a.diameter),a.strokeWidth&&(this.strokeWidth=a.strokeWidth)),t.isBrowser&&t.SAFARI&&m&&d&&E&&(this._resizeSubscription=m.change(150).subscribe(()=>{"indeterminate"===this.mode&&E.run(()=>d.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=Nc(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=Nc(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Nc(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=Uh(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){const t=50*(e.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=Pd._diameters;let i=r.get(e);if(!i||!i.has(t)){const a=this._document.createElement("style");a.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),a.textContent=this._getAnimationText(),e.appendChild(a),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Pd._diameters=new WeakMap,Pd.\u0275fac=function(e){return new(e||Pd)(s.Y36(s.SBq),s.Y36(di),s.Y36(O,8),s.Y36(s.QbO,8),s.Y36(h5),s.Y36(s.sBO),s.Y36(cd),s.Y36(s.R0b))},Pd.\u0275cmp=s.Xpm({type:Pd,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(s.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),s.Udp("width",t.diameter,"px")("height",t.diameter,"px"),s.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[s.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(s.O4$(),s.TgZ(0,"svg",0,1),s.YNc(2,l5,1,11,"circle",2),s.YNc(3,c5,1,9,"circle",3),s.qZA()),2&e&&(s.Udp("width",t.diameter,"px")("height",t.diameter,"px"),s.Q6J("ngSwitch","indeterminate"===t.mode),s.uIk("viewBox",t._getViewBox()),s.xp6(2),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1))},dependencies:[co,ia],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let EB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[pr,yi],pr]}),n})(),UI=(()=>{class n{constructor(){this.diameter=50,this.strokeWidth=5}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-circle-loader"]],inputs:{diameter:"diameter",strokeWidth:"strokeWidth"},decls:2,vars:2,consts:[[1,"loader-container"],["mode","indeterminate","color","accent",1,"circle-loader",3,"diameter","strokeWidth"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"mat-progress-spinner",1),s.qZA()),2&t&&(s.xp6(1),s.Q6J("diameter",r.diameter)("strokeWidth",r.strokeWidth))},dependencies:[Pd],styles:[".loader-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.circle-loader[_ngcontent-%COMP%]{transform-origin:center;animation:rotation 2s linear infinite}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();const m5=["lottieContainer"];function g5(n,e){1&n&&s._UZ(0,"app-circle-loader",3)}function _5(n,e){1&n&&(s.TgZ(0,"div",4)(1,"h1",5),s._uU(2,"Hang in there! Your personalized roadmap is coming together"),s.qZA(),s._UZ(3,"div",6,7),s.qZA())}function y5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",8)(1,"div",9),s._uU(2," Welcome to ROR, the easiest roadmap builder to really"),s._UZ(3,"br"),s._uU(4," Get Sh!t Done "),s.qZA(),s.TgZ(5,"app-custom-button",10),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.openPopup())}),s._uU(6,"Create a roadmap"),s.qZA()()}2&n&&(s.xp6(5),s.Q6J("width",277)("height",44))}let v5=(()=>{class n{constructor(t,r){this.dialog=t,this.router=r,this.loading=!1,this.creatingBoard=!1}openPopup(){this.dialog.open(a5,{width:"390px",height:"542px",panelClass:"custom-popup"}).afterClosed().subscribe(r=>{r&&(this.creatingBoard=!0,setTimeout(()=>{this.startAnimation(r)},0))})}startAnimation(t){if(this.lottieContainer)try{this.animation=zD().loadAnimation({container:this.lottieContainer.nativeElement,path:"assets/animations/animation-building-page.json",renderer:"svg",loop:!0,autoplay:!0}),this.animation.addEventListener("DOMLoaded",()=>{setTimeout(()=>{this.router.navigate(["/board",t])},5e3)})}catch(r){console.error("Error loading the animation: ",r)}}ngOnDestroy(){this.animation&&this.animation.destroy()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Al),s.Y36(Rn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-landing"]],viewQuery:function(t,r){if(1&t&&s.Gf(m5,5),2&t){let i;s.iGM(i=s.CRH())&&(r.lottieContainer=i.first)}},decls:3,vars:3,consts:[["class","loading",4,"ngIf"],["class","landing-page-creation",4,"ngIf"],["class","landing-page",4,"ngIf"],[1,"loading"],[1,"landing-page-creation"],["data-aos","fade-down","data-aos-duration","1000",1,"title"],["data-aos","zoom-in","data-aos-duration","1500",1,"animation-build"],["lottieContainer",""],[1,"landing-page"],[1,"landing-page__welcome"],[1,"landing-page__button",3,"width","height","click"]],template:function(t,r){1&t&&(s.YNc(0,g5,1,0,"app-circle-loader",0),s.YNc(1,_5,5,0,"div",1),s.YNc(2,y5,7,2,"div",2)),2&t&&(s.Q6J("ngIf",r.loading),s.xp6(1),s.Q6J("ngIf",r.creatingBoard),s.xp6(1),s.Q6J("ngIf",!r.creatingBoard&&!r.loading))},dependencies:[Nn,UI,jm],styles:[".landing-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;min-height:100%;background-color:#2f80ed1a}.landing-page-creation[_ngcontent-%COMP%]{padding-top:2em;display:flex;flex-direction:column;align-items:center;text-align:center;height:100%;background-color:#2f80ed1a}.landing-page__welcome[_ngcontent-%COMP%]{max-width:730px;font-family:Inter,sans-serif;font-style:normal;font-weight:600;font-size:40px;line-height:44px;color:#373f41}.title[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-style:normal;font-weight:600;font-size:32px;line-height:44px;color:#373f41;animation:fadeInUp 1s ease-out}.landing-page__button[_ngcontent-%COMP%]{margin-top:4.18rem}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.animation-build[_ngcontent-%COMP%]{width:70%;height:70%;animation:pulse 2s infinite alternate}@keyframes pulse{0%{transform:scale(1)}to{transform:scale(1.2)}}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.popup[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:#323232;border:1px solid #323232;box-shadow:0 4px 20px #0009;border-radius:5px}@media screen and (max-width: 767px){.landing-page__welcome[_ngcontent-%COMP%]{font-size:28px;line-height:32px}.landing-page__button[_ngcontent-%COMP%]{margin-top:2rem}}@media screen and (max-width: 480px){.landing-page__welcome[_ngcontent-%COMP%]{font-size:24px;line-height:28px}.popup[_ngcontent-%COMP%]{width:90%;height:auto}}"]}),n})();function qb(n,e){localStorage.setItem(`lastViewedMonthIndex_${n}`,e.toString())}const w5=Vc("slideIn",[fs(":increment",[jn({transform:"translateX(100%)",opacity:0}),Fs("500ms ease-out",jn({transform:"translateX(0)",opacity:1}))]),fs(":decrement",[jn({transform:"translateX(-100%)",opacity:0}),Fs("500ms ease-out",jn({transform:"translateX(0)",opacity:1}))])]),E5=["mat-button",""],C5=["*"],I5=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],D5=cm(BO($x(class{constructor(n){this._elementRef=n}})));let vf=(()=>{class n extends D5{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of I5)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(p_),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&s.Gf(eA,5),2&t){let i;s.iGM(i=s.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(s.uIk("disabled",r.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:E5,ngContentSelectors:C5,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&t&&(s.xp6(2),s.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),s.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[eA],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),fy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[tA,pr],pr]}),n})();class T5{}class bf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(d):this.headers.set(a,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof bf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new bf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof bf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let d=this.headers.get(t);if(!d)return;d=d.filter(m=>-1===a.indexOf(m)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class x5{encodeKey(e){return CB(e)}encodeValue(e){return CB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const M5=/%(\d[a-f0-9])/gi,P5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function CB(n){return encodeURIComponent(n).replace(M5,(e,t)=>P5[t]??e)}function zI(n){return`${n}`}class wf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new x5,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function A5(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[d,m]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],E=t.get(d)||[];E.push(m),t.set(d,E)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(zI):[zI(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new wf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(zI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(zI(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class k5{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function SB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function IB(n){return typeof Blob<"u"&&n instanceof Blob}function DB(n){return typeof FormData<"u"&&n instanceof FormData}class Wb{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function R5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new bf),this.context||(this.context=new k5),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+d}}else this.params=new wf,this.urlWithParams=t}serializeBody(){return null===this.body?null:SB(this.body)||IB(this.body)||DB(this.body)||function O5(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof wf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||DB(this.body)?null:IB(this.body)?this.body.type||null:SB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,I=e.params||this.params;const F=e.context??this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((W,ce)=>W.set(ce,e.setHeaders[ce]),E)),e.setParams&&(I=Object.keys(e.setParams).reduce((W,ce)=>W.set(ce,e.setParams[ce]),I)),new Wb(t,r,a,{params:I,headers:E,context:F,reportProgress:m,responseType:i,withCredentials:d})}}var ws=(()=>((ws=ws||{})[ws.Sent=0]="Sent",ws[ws.UploadProgress=1]="UploadProgress",ws[ws.ResponseHeader=2]="ResponseHeader",ws[ws.DownloadProgress=3]="DownloadProgress",ws[ws.Response=4]="Response",ws[ws.User=5]="User",ws))();class $P extends class F5{constructor(e,t=200,r="OK"){this.headers=e.headers||new bf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=ws.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new $P({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function qP(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let xB=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof Wb)a=t;else{let E,I;E=i.headers instanceof bf?i.headers:new bf(i.headers),i.params&&(I=i.params instanceof wf?i.params:new wf({fromObject:i.params})),a=new Wb(t,r,void 0!==i.body?i.body:null,{headers:E,context:i.context,params:I,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=gt(a).pipe($i(E=>this.handler.handle(E)));if(t instanceof Wb||"events"===i.observe)return d;const m=d.pipe(lr(E=>E instanceof $P));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return m.pipe((0,Et.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return m.pipe((0,Et.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return m.pipe((0,Et.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));default:return m.pipe((0,Et.U)(E=>E.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new wf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,qP(i,r))}post(t,r,i={}){return this.request("POST",t,qP(i,r))}put(t,r,i={}){return this.request("PUT",t,qP(i,r))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(T5))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const L5=["*"];let jI;function Zb(n){return function V5(){if(void 0===jI&&(jI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(jI=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return jI}()?.createHTML(n)||n}function AB(n){return Error(`Unable to find icon with the name "${n}"`)}function MB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function PB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Gm{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let GI=(()=>{class n{constructor(t,r,i,a){this._httpClient=t,this._sanitizer=r,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,a){return this._addSvgIconConfig(t,r,new Gm(i,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,a){const d=this._sanitizer.sanitize(s.q3G.HTML,i);if(!d)throw PB(i);const m=Zb(d);return this._addSvgIconConfig(t,r,new Gm("",m,a))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Gm(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const a=this._sanitizer.sanitize(s.q3G.HTML,r);if(!a)throw PB(r);const d=Zb(a);return this._addSvgIconSetConfig(t,new Gm("",d,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,t);if(!r)throw MB(t);const i=this._cachedIconsByUrl.get(r);return i?gt($I(i)):this._loadSvgIconFromConfig(new Gm(t,null)).pipe((0,tr.b)(a=>this._cachedIconsByUrl.set(r,a)),(0,Et.U)(a=>$I(a)))}getNamedSvgIcon(t,r=""){const i=kB(r,t);let a=this._svgIconConfigs.get(i);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(r,t),a)return this._svgIconConfigs.set(i,a),this._getSvgFromConfig(a);const d=this._iconSetConfigs.get(r);return d?this._getSvgFromIconSetConfigs(t,d):ki(AB(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?gt($I(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Et.U)(r=>$I(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?gt(i):Gy(r.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Oi(m=>{const I=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,d.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(I)),gt(null)})))).pipe((0,Et.U)(()=>{const d=this._extractIconWithNameFromAnySet(t,r);if(!d)throw AB(t);return d}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const a=r[i];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const d=this._svgElementFromConfig(a),m=this._extractSvgIconFromSet(d,t,a.options);if(m)return m}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,tr.b)(r=>t.svgText=r),(0,Et.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?gt(null):this._fetchIcon(t).pipe((0,tr.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const a=t.querySelector(`[id="${r}"]`);if(!a)return null;const d=a.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,i);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),i);const m=this._svgElementFromString(Zb("<svg></svg>"));return m.appendChild(d),this._setSvgAttributes(m,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Zb("<svg></svg>")),i=t.attributes;for(let a=0;a<i.length;a++){const{name:d,value:m}=i[a];"id"!==d&&r.setAttribute(d,m)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[a].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,a=i?.withCredentials??!1;if(!this._httpClient)throw function B5(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,r);if(!d)throw MB(r);const m=this._inProgressUrlFetches.get(d);if(m)return m;const E=this._httpClient.get(d,{responseType:"text",withCredentials:a}).pipe((0,Et.U)(I=>Zb(I)),hl(()=>this._inProgressUrlFetches.delete(d)),(0,DV.B)());return this._inProgressUrlFetches.set(d,E),E}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(kB(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const a=this._resolvers[i](r,t);if(a)return U5(a)?new Gm(a.url,null,a.options):new Gm(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(xB,8),s.LFG(Lo),s.LFG(O,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $I(n){return n.cloneNode(!0)}function kB(n,e){return n+":"+e}function U5(n){return!(!n.url||!n.options)}const z5=cm(class{constructor(n){this._elementRef=n}}),j5=new s.OlP("mat-icon-location",{providedIn:"root",factory:function G5(){const n=(0,s.f3M)(O),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),RB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$5=RB.map(n=>`[${n}]`).join(", "),q5=/^url\(['"]?#(.*?)['"]?\)$/;let $m=(()=>{class n extends z5{constructor(t,r,i,a,d){super(t),this._iconRegistry=r,this._location=a,this._errorHandler=d,this._inline=!1,this._currentIconFetch=Qr.w0.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=qi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,a)=>{i.forEach(d=>{a.setAttribute(d.name,`url('${t}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll($5),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<r.length;a++)RB.forEach(d=>{const m=r[a],E=m.getAttribute(d),I=E?E.match(q5):null;if(I){let F=i.get(m);F||(F=[],i.set(m,F)),F.push({name:d,value:I[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Ar(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(GI),s.$8M("aria-hidden"),s.Y36(j5),s.Y36(s.qLn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(s.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),s.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:L5,decls:1,vars:0,template:function(t,r){1&t&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Kb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[pr],pr]}),n})();function WP(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];i?n.setProperty(r,i,t?.has(r)?"important":""):n.removeProperty(r)}return n}function py(n,e){const t=e?"":"none";WP(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function OB(n,e,t){WP(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function qI(n,e){return e&&"none"!=e?n+" "+e:n}function FB(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function ZP(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}function KP(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function YP(n,e,t){const{top:r,bottom:i,left:a,right:d}=n;return t>=r&&t<=i&&e>=a&&e<=d}function Yb(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function NB(n,e,t,r){const{top:i,right:a,bottom:d,left:m,width:E,height:I}=n,F=E*e,W=I*e;return r>i-W&&r<d+W&&t>m-F&&t<a+F}class LB{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:KP(t)})})}handleScroll(e){const t=ti(e),r=this.positions.get(t);if(!r)return null;const i=r.scrollPosition;let a,d;if(t===this._document){const I=this.getViewportScrollPosition();a=I.top,d=I.left}else a=t.scrollTop,d=t.scrollLeft;const m=i.top-a,E=i.left-d;return this.positions.forEach((I,F)=>{I.clientRect&&t!==F&&t.contains(F)&&Yb(I.clientRect,m,E)}),i.top=a,i.left=d,{top:m,left:E}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function VB(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return"canvas"===r?UB(n,e):("input"===r||"select"===r||"textarea"===r)&&HB(n,e),BB("canvas",n,e,UB),BB("input, textarea, select",n,e,HB),e}function BB(n,e,t,r){const i=e.querySelectorAll(n);if(i.length){const a=t.querySelectorAll(n);for(let d=0;d<i.length;d++)r(i[d],a[d])}}let K5=0;function HB(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${K5++}`)}function UB(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}const zB=ro({passive:!0}),WI=ro({passive:!1}),QP=new Set(["position"]);class Q5{constructor(e,t,r,i,a,d){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=a,this._dragDropRegistry=d,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new bt.x,this._pointerMoveSubscription=Qr.w0.EMPTY,this._pointerUpSubscription=Qr.w0.EMPTY,this._scrollSubscription=Qr.w0.EMPTY,this._resizeSubscription=Qr.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new bt.x,this.started=new bt.x,this.released=new bt.x,this.ended=new bt.x,this.entered=new bt.x,this.exited=new bt.x,this.dropped=new bt.x,this.moved=this._moveEvents,this._pointerDown=m=>{if(this.beforeStarted.next(),this._handles.length){const E=this._getTargetHandle(m);E&&!this._disabledHandles.has(E)&&!this.disabled&&this._initializeDragSequence(E,m)}else this.disabled||this._initializeDragSequence(this._rootElement,m)},this._pointerMove=m=>{const E=this._getPointerPositionOnPage(m);if(!this._hasStartedDragging){if(Math.abs(E.x-this._pickupPositionOnPage.x)+Math.abs(E.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const me=Date.now()>=this._dragStartTime+this._getDragStartDelay(m),Ce=this._dropContainer;if(!me)return void this._endDragSequence(m);(!Ce||!Ce.isDragging()&&!Ce.isReceiving())&&(m.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(m)))}return}m.preventDefault();const I=this._getConstrainedPointerPosition(E);if(this._hasMoved=!0,this._lastKnownPointerPosition=E,this._updatePointerDirectionDelta(I),this._dropContainer)this._updateActiveDropContainer(I,E);else{const F=this._activeTransform;F.x=I.x-this._pickupPositionOnPage.x+this._passiveTransform.x,F.y=I.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(F.x,F.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:I,event:m,distance:this._getDragDistance(I),delta:this._pointerDirectionDelta})})},this._pointerUp=m=>{this._endDragSequence(m)},this._nativeDragStart=m=>{if(this._handles.length){const E=this._getTargetHandle(m);E&&!this._disabledHandles.has(E)&&!this.disabled&&m.preventDefault()}else this.disabled||m.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new LB(r),d.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=qi(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>py(r,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>Pr(r)),this._handles.forEach(r=>py(r,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=Pr(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,WI),t.addEventListener("touchstart",this._pointerDown,zB),t.addEventListener("dragstart",this._nativeDragStart,WI)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Pr(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),py(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),py(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Qb(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const r=this._rootElement,i=r.parentNode,a=this._placeholder=this._createPlaceholderElement(),d=this._anchor=this._anchor||this._document.createComment(""),m=this._getShadowRoot();i.insertBefore(d,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),OB(r,!1,QP),this._document.body.appendChild(i.replaceChild(a,r)),this._getPreviewInsertionPoint(i,m).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const r=this.isDragging(),i=Qb(t),a=!i&&0!==t.button,d=this._rootElement,m=ti(t),E=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),I=i?Yv(t):Kv(t);if(m&&m.draggable&&"mousedown"===t.type&&t.preventDefault(),r||a||E||I)return;if(this._handles.length){const ce=d.style;this._rootElementTapHighlight=ce.webkitTapHighlightColor||"",ce.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ce=>this._updateOnScroll(ce)),this._boundaryElement&&(this._boundaryRect=KP(this._boundaryElement));const F=this._previewTemplate;this._pickupPositionInElement=F&&F.template&&!F.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const W=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:W.x,y:W.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){OB(this._rootElement,!0,QP),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),a=this._getDragDistance(i),d=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:a,dropPoint:i}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:d,distance:a,dropPoint:i}),t.drop(this,r,this._initialIndex,this._initialContainer,d,a,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let a=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,e,t,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,r=e?e.template:null;let i;if(r&&e){const a=e.matchSize?this._rootElement.getBoundingClientRect():null,d=e.viewContainer.createEmbeddedView(r,e.context);d.detectChanges(),i=GB(d,this._document),this._previewRef=d,e.matchSize?$B(i,a):i.style.transform=ZI(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const a=this._rootElement;i=VB(a),$B(i,a.getBoundingClientRect()),this._initialTransform&&(i.style.transform=this._initialTransform)}return WP(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},QP),py(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(a=>i.classList.add(a)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function Z5(n){const e=getComputedStyle(n),t=ZP(e,"transition-property"),r=t.find(m=>"transform"===m||"all"===m);if(!r)return 0;const i=t.indexOf(r),a=ZP(e,"transition-duration"),d=ZP(e,"transition-delay");return FB(a[i])+FB(d[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=d=>{(!d||ti(d)===this._preview&&"transform"===d.propertyName)&&(this._preview?.removeEventListener("transitionend",i),r(),clearTimeout(a))},a=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=GB(this._placeholderRef,this._document)):r=VB(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t){const r=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,a=i?i.getBoundingClientRect():r,d=Qb(t)?t.targetTouches[0]:t,m=this._getViewportScrollPosition();return{x:a.left-r.left+(d.pageX-a.left-m.left),y:a.top-r.top+(d.pageY-a.top-m.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),r=Qb(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,a=r.pageY-t.top;if(this._ownerSVGElement){const d=this._ownerSVGElement.getScreenCTM();if(d){const m=this._ownerSVGElement.createSVGPoint();return m.x=i,m.y=a,m.matrixTransform(d.inverse())}}return{x:i,y:a}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:a,y:d}=this._pickupPositionInElement,m=this._boundaryRect,{width:E,height:I}=this._getPreviewRect(),F=m.top+d,W=m.bottom-(I-d);r=jB(r,m.left+a,m.right-(E-a)),i=jB(i,F,W)}return{x:r,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:r}=e,i=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,d=Math.abs(t-a.x),m=Math.abs(r-a.y);return d>this._config.pointerDirectionChangeThreshold&&(i.x=t>a.x?1:-1,a.x=t),m>this._config.pointerDirectionChangeThreshold&&(i.y=r>a.y?1:-1,a.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,py(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,WI),e.removeEventListener("touchstart",this._pointerDown,zB),e.removeEventListener("dragstart",this._nativeDragStart,WI)}_applyRootElementTransform(e,t){const r=ZI(e,t),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=qI(r,this._initialTransform)}_applyPreviewTransform(e,t){const r=this._previewTemplate?.template?void 0:this._initialTransform,i=ZI(e,t);this._preview.style.transform=qI(i,r)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const a=r.left-i.left,d=i.right-r.right,m=r.top-i.top,E=i.bottom-r.bottom;r.width>i.width?(a>0&&(e+=a),d>0&&(e-=d)):e=0,r.height>i.height?(m>0&&(t+=m),E>0&&(t-=E)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:Qb(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const r=ti(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&Yb(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Uh(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const r=this._previewContainer||"global";if("parent"===r)return e;if("global"===r){const i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Pr(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function ZI(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function jB(n,e,t){return Math.max(e,Math.min(t,n))}function Qb(n){return"t"===n.type[0]}function GB(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function $B(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=ZI(e.left,e.top)}function qB(n,e,t){const r=Xb(e,n.length-1),i=Xb(t,n.length-1);if(r===i)return;const a=n[r],d=i<r?-1:1;for(let m=r;m!==i;m+=d)n[m]=n[m+d];n[i]=a}function Xb(n,e){return Math.max(0,Math.min(e,n))}class J5{constructor(e,t,r,i,a){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new bt.x,this.entered=new bt.x,this.exited=new bt.x,this.dropped=new bt.x,this.sorted=new bt.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Qr.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new bt.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function W5(n=0,e=Vh.z){return n<0&&(n=0),Tv(n,n,e)}(0,Cv).pipe(hi(this._stopScrollTimers)).subscribe(()=>{const d=this._scrollNode,m=this.autoScrollStep;1===this._verticalScrollDirection?d.scrollBy(0,-m):2===this._verticalScrollDirection&&d.scrollBy(0,m),1===this._horizontalScrollDirection?d.scrollBy(-m,0):2===this._horizontalScrollDirection&&d.scrollBy(m,0)})},this.element=Pr(e),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new LB(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){let a;this._draggingStarted(),null==i?(a=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===a&&(a=this._getItemIndexFromPointerPosition(e,t,r))):a=i;const d=this._activeDraggables,m=d.indexOf(e),E=e.getPlaceholderElement();let I=d[a];if(I===e&&(I=d[a+1]),!I&&(null==a||-1===a||a<d.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(I=d[0]),m>-1&&d.splice(m,1),I&&!this._dragDropRegistry.isDragging(I)){const F=I.getRootElement();F.parentElement.insertBefore(E,F),d.splice(a,0,e)}else Pr(this.element).appendChild(E),d.push(e);E.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,a,d,m){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:a,distance:d,dropPoint:m})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>-1===e.indexOf(i))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=Pr(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._clientRect||!NB(this._clientRect,.05,t,r))return;const a=this._itemPositions,d=this._getItemIndexFromPointerPosition(e,t,r,i);if(-1===d&&a.length>0)return;const m="horizontal"===this._orientation,E=a.findIndex(Ue=>Ue.drag===e),I=a[d],W=I.clientRect,ce=E>d?1:-1,me=this._getItemOffsetPx(a[E].clientRect,W,ce),Ce=this._getSiblingOffsetPx(E,a,ce),Me=a.slice();qB(a,E,d),this.sorted.next({previousIndex:E,currentIndex:d,container:this,item:e}),a.forEach((Ue,rt)=>{if(Me[rt]===Ue)return;const vt=Ue.drag===e,dt=vt?me:Ce,At=vt?e.getPlaceholderElement():Ue.drag.getRootElement();Ue.offset+=dt,m?(At.style.transform=qI(`translate3d(${Math.round(Ue.offset)}px, 0, 0)`,Ue.initialTransform),Yb(Ue.clientRect,0,dt)):(At.style.transform=qI(`translate3d(0, ${Math.round(Ue.offset)}px, 0)`,Ue.initialTransform),Yb(Ue.clientRect,dt,0))}),this._previousSwap.overlaps=YP(W,t,r),this._previousSwap.drag=I.drag,this._previousSwap.delta=m?i.x:i.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=0,a=0;if(this._parentPositions.positions.forEach((d,m)=>{m===this._document||!d.clientRect||r||NB(d.clientRect,.05,e,t)&&([i,a]=function e$(n,e,t,r){const i=KB(e,r),a=YB(e,t);let d=0,m=0;if(i){const E=n.scrollTop;1===i?E>0&&(d=1):n.scrollHeight-E>n.clientHeight&&(d=2)}if(a){const E=n.scrollLeft;1===a?E>0&&(m=1):n.scrollWidth-E>n.clientWidth&&(m=2)}return[d,m]}(m,d.clientRect,e,t),(i||a)&&(r=m))}),!i&&!a){const{width:d,height:m}=this._viewportRuler.getViewportSize(),E={width:d,height:m,top:0,right:d,bottom:m,left:0};i=KB(E,t),a=YB(E,e),r=window}r&&(i!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=a,this._scrollNode=r,(i||a)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=Pr(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=Pr(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:KP(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const e=Pr(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const r=t.getRootElement();if(r){const i=this._itemPositions.find(a=>a.drag===t)?.initialTransform;r.style.transform=i||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,r){const i="horizontal"===this._orientation,a=t[e].clientRect,d=t[e+-1*r];let m=a[i?"width":"height"]*r;if(d){const E=i?"left":"top",I=i?"right":"bottom";-1===r?m-=d.clientRect[E]-a[I]:m+=a[E]-d.clientRect[I]}return m}_getItemOffsetPx(e,t,r){const i="horizontal"===this._orientation;let a=i?t.left-e.left:t.top-e.top;return-1===r&&(a+=i?t.width-e.width:t.height-e.height),a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const d=r[r.length-1].clientRect;return i?e>=d.right:t>=d.bottom}{const d=r[0].clientRect;return i?e<=d.left:t<=d.top}}_getItemIndexFromPointerPosition(e,t,r,i){const a="horizontal"===this._orientation,d=this._itemPositions.findIndex(({drag:m,clientRect:E})=>{if(m===e)return!1;if(i){const I=a?i.x:i.y;if(m===this._previousSwap.drag&&this._previousSwap.overlaps&&I===this._previousSwap.delta)return!1}return a?t>=Math.floor(E.left)&&t<Math.floor(E.right):r>=Math.floor(E.top)&&r<Math.floor(E.bottom)});return-1!==d&&this.sortPredicate(d,e,this)?d:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&YP(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._clientRect||!YP(this._clientRect,t,r)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,r);if(!i)return!1;const a=Pr(this.element);return i===a||a.contains(i)}_startReceiving(e,t){const r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:r})=>{Yb(r,t.top,t.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=Uh(Pr(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function KB(n,e){const{top:t,bottom:r,height:i}=n,a=.05*i;return e>=t-a&&e<=t+a?1:e>=r-a&&e<=r+a?2:0}function YB(n,e){const{left:t,right:r,width:i}=n,a=.05*i;return e>=t-a&&e<=t+a?1:e>=r-a&&e<=r+a?2:0}const KI=ro({passive:!1,capture:!0});let t$=(()=>{class n{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new bt.x,this.pointerUp=new bt.x,this.scroll=new bt.x,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,KI)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,KI)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:KI}),i||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:KI}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,d)=>{this._document.addEventListener(d,a.handler,a.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new Nr.y(i=>this._ngZone.runOutsideAngular(()=>{const d=m=>{this._activeDragInstances.length&&i.next(m)};return t.addEventListener("scroll",d,!0),()=>{t.removeEventListener("scroll",d,!0)}}))),(0,sm.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.R0b),s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n$={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let XP=(()=>{class n{constructor(t,r,i,a){this._document=t,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=a}createDrag(t,r=n$){return new Q5(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new J5(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O),s.LFG(s.R0b),s.LFG(cd),s.LFG(t$))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QB=new s.OlP("CDK_DRAG_PARENT"),JP=new s.OlP("CdkDropListGroup");let r$=(()=>{class n{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=qi(t)}ngOnDestroy(){this._items.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[s._Bn([{provide:JP,useExisting:n}])]}),n})();const XB=new s.OlP("CDK_DRAG_CONFIG");let i$=0;const JB=new s.OlP("CdkDropList");let s$=(()=>{class n{constructor(t,r,i,a,d,m,E){this.element=t,this._changeDetectorRef=i,this._scrollDispatcher=a,this._dir=d,this._group=m,this._destroyed=new bt.x,this.connectedTo=[],this.id="cdk-drop-list-"+i$++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.sorted=new s.vpe,this._unsortedItems=new Set,this._dropListRef=r.createDropList(t),this._dropListRef.data=this,E&&this._assignDefaults(E),this._dropListRef.enterPredicate=(I,F)=>this.enterPredicate(I.data,F.data),this._dropListRef.sortPredicate=(I,F,W)=>this.sortPredicate(I,F.data,W.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),m&&m._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=qi(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,r)=>t._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(bi(this._dir.value),hi(this._destroyed)).subscribe(r=>t.withDirection(r)),t.beforeStarted.subscribe(()=>{const r=sd(this.connectedTo).map(i=>"string"==typeof i?n._dropLists.find(d=>d.id===i):i);if(this._group&&this._group._items.forEach(i=>{-1===r.indexOf(i)&&r.push(i)}),!this._scrollableParentsResolved){const i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(a=>a.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=qi(this.sortingDisabled),t.autoScrollDisabled=qi(this.autoScrollDisabled),t.autoScrollStep=Nc(this.autoScrollStep,2),t.connectedTo(r.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:r,draggingDisabled:i,sortingDisabled:a,listAutoScrollDisabled:d,listOrientation:m}=t;this.disabled=i??!1,this.sortingDisabled=a??!1,this.autoScrollDisabled=d??!1,this.orientation=m||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return n._dropLists=[],n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(XP),s.Y36(s.sBO),s.Y36(Mv),s.Y36(Lc,8),s.Y36(JP,12),s.Y36(XB,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,r){2&t&&(s.uIk("id",r.id),s.ekj("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[s._Bn([{provide:JP,useValue:void 0},{provide:JB,useExisting:n}])]}),n})();const eH=new s.OlP("CdkDragHandle"),o$=new s.OlP("CdkDragPlaceholder"),a$=new s.OlP("CdkDragPreview");let c$=(()=>{class n{constructor(t,r,i,a,d,m,E,I,F,W,ce){this.element=t,this.dropContainer=r,this._ngZone=a,this._viewContainerRef=d,this._dir=E,this._changeDetectorRef=F,this._selfHandle=W,this._parentDrag=ce,this._destroyed=new bt.x,this.started=new s.vpe,this.released=new s.vpe,this.ended=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.dropped=new s.vpe,this.moved=new Nr.y(me=>{const Ce=this._dragRef.moved.pipe((0,Et.U)(Me=>({source:this,pointerPosition:Me.pointerPosition,event:Me.event,delta:Me.delta,distance:Me.distance}))).subscribe(me);return()=>{Ce.unsubscribe()}}),this._dragRef=I.createDrag(t,{dragStartThreshold:m&&null!=m.dragStartThreshold?m.dragStartThreshold:5,pointerDirectionChangeThreshold:m&&null!=m.pointerDirectionChangeThreshold?m.pointerDirectionChangeThreshold:5,zIndex:m?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),m&&this._assignDefaults(m),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=qi(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ar(1),hi(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let r=t;this.rootElementSelector&&(r=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):Pr(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const r=this._dir,i=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,d=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:Nc(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(d).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(Ar(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){t.withParent(n._dragInstances.find(i=>i.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(t){const{lockAxis:r,dragStartDelay:i,constrainPosition:a,previewClass:d,boundaryElement:m,draggingDisabled:E,rootElementSelector:I,previewContainer:F}=t;this.disabled=E??!1,this.dragStartDelay=i||0,r&&(this.lockAxis=r),a&&(this.constrainPosition=a),d&&(this.previewClass=d),m&&(this.boundaryElement=m),I&&(this.rootElementSelector=I),F&&(this.previewContainer=F)}_setupHandlesListener(){this._handles.changes.pipe(bi(this._handles),(0,tr.b)(t=>{const r=t.filter(i=>i._parentDrag===this).map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),fr(t=>(0,sm.T)(...t.map(r=>r._stateChanges.pipe(bi(r))))),hi(this._destroyed)).subscribe(t=>{const r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(JB,12),s.Y36(O),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(XB,8),s.Y36(Lc,8),s.Y36(XP),s.Y36(s.sBO),s.Y36(eH,10),s.Y36(QB,12))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,i){if(1&t&&(s.Suo(i,a$,5),s.Suo(i,o$,5),s.Suo(i,eH,5)),2&t){let a;s.iGM(a=s.CRH())&&(r._previewTemplate=a.first),s.iGM(a=s.CRH())&&(r._placeholderTemplate=a.first),s.iGM(a=s.CRH())&&(r._handles=a)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){2&t&&s.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[s._Bn([{provide:QB,useExisting:n}]),s.TTD]}),n})(),Jb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[XP],imports:[zh]}),n})();var qm=(()=>(function(n){n.Todo="todo",n.InProgress="in_progress",n.Done="done"}(qm||(qm={})),qm))(),Xo=(()=>(function(n){n.Low="low",n.Medium="medium",n.High="high"}(Xo||(Xo={})),Xo))();const tH=new Set;let my,u$=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):h$}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function d$(n){if(!tH.has(n))try{my||(my=document.createElement("style"),my.setAttribute("type","text/css"),document.head.appendChild(my)),my.sheet&&(my.sheet.insertRule(`@media ${n} {body{ }}`,0),tH.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(di))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function h$(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let ek=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new bt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return nH(sd(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=Ks(nH(sd(t)).map(d=>this._registerQuery(d).observable));return a=As(a.pipe(Ar(1)),a.pipe(mC(1),Gh(0))),a.pipe((0,Et.U)(d=>{const m={matches:!1,breakpoints:{}};return d.forEach(({matches:E,query:I})=>{m.matches=m.matches||E,m.breakpoints[I]=E}),m}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new Nr.y(d=>{const m=E=>this._zone.run(()=>d.next(E));return r.addListener(m),()=>{r.removeListener(m)}}).pipe(bi(r),(0,Et.U)(({matches:d})=>({query:t,matches:d})),hi(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(u$),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nH(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function f$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",2)(1,"button",3),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.action())}),s._uU(2),s.qZA()()}if(2&n){const t=s.oxw();s.xp6(2),s.Oqu(t.data.action)}}function p$(n,e){}const iH=new s.OlP("MatSnackBarData");class YI{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const m$=Math.pow(2,31)-1;class tk{constructor(e,t){this._overlayRef=t,this._afterDismissed=new bt.x,this._afterOpened=new bt.x,this._onAction=new bt.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,m$))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let g$=(()=>{class n{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(tk),s.Y36(iH))},n.\u0275cmp=s.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"span",0),s._uU(1),s.qZA(),s.YNc(2,f$,3,1,"div",1)),2&t&&(s.xp6(1),s.Oqu(r.data.message),s.xp6(1),s.Q6J("ngIf",r.hasAction))},dependencies:[vf,Nn],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const _$={snackBarState:Vc("state",[Wo("void, hidden",jn({transform:"scale(0.8)",opacity:0})),Wo("visible",jn({transform:"scale(1)",opacity:1})),fs("* => visible",Fs("150ms cubic-bezier(0, 0, 0.2, 1)")),fs("* => void, * => hidden",Fs("75ms cubic-bezier(0.4, 0.0, 1, 1)",jn({opacity:0})))])};let y$=(()=>{class n extends Xg{constructor(t,r,i,a,d){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=i,this._platform=a,this.snackBarConfig=d,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new bt.x,this._onExit=new bt.x,this._onEnter=new bt.x,this._animationState="void",this.attachDomPortal=m=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(m)),this._live="assertive"!==d.politeness||d.announcementMessage?"off"===d.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:r,toState:i}=t;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Ar(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>t.classList.add(i)):t.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(di),s.Y36(YI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,r){if(1&t&&s.Gf(Jg,7),2&t){let i;s.iGM(i=s.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,r){1&t&&s.WFA("@state.done",function(a){return r.onAnimationEnd(a)}),2&t&&s.d8E("@state",r._animationState)},features:[s.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,p$,0,0,"ng-template",1),s.qZA(),s._UZ(2,"div")),2&t&&(s.xp6(2),s.uIk("aria-live",r._live)("role",r._role))},dependencies:[Jg],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[_$.snackBarState]}}),n})(),sH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[om,Fv,yi,fy,pr],pr]}),n})();const oH=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function v$(){return new YI}});let b$=(()=>{class n{constructor(t,r,i,a,d,m){this._overlay=t,this._live=r,this._injector=i,this._breakpointObserver=a,this._parentSnackBar=d,this._defaultConfig=m,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){const a={...this._defaultConfig,...i};return a.data={message:t,action:r},a.announcementMessage===t&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const a=s.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:YI,useValue:r}]}),d=new jh(this.snackBarContainerComponent,r.viewContainerRef,a),m=t.attach(d);return m.instance.snackBarConfig=r,m.instance}_attach(t,r){const i={...new YI,...this._defaultConfig,...r},a=this._createOverlay(i),d=this._attachSnackBarContainer(a,i),m=new tk(d,a);if(t instanceof s.Rgc){const E=new Ov(t,null,{$implicit:i.data,snackBarRef:m});m.instance=d.attachTemplatePortal(E)}else{const E=this._createInjector(i,m),I=new jh(t,void 0,E),F=d.attachComponentPortal(I);m.instance=F.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(hi(a.detachments())).subscribe(E=>{a.overlayElement.classList.toggle(this.handsetCssClass,E.matches)}),i.announcementMessage&&d._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(m,i),this._openedSnackBarRef=m,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new t_;r.direction=t.direction;let i=this._overlay.position().global();const a="rtl"===t.direction,d="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!a||"end"===t.horizontalPosition&&a,m=!d&&"center"!==t.horizontalPosition;return d?i.left("0"):m?i.right("0"):i.centerHorizontally(),"top"===t.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){return s.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:tk,useValue:r},{provide:iH,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Vn),s.LFG(Qv),s.LFG(s.zs3),s.LFG(ek),s.LFG(n,12),s.LFG(oH))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),w$=(()=>{class n extends b${constructor(t,r,i,a,d,m){super(t,r,i,a,d,m),this.simpleSnackBarComponent=g$,this.snackBarContainerComponent=y$,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Vn),s.LFG(Qv),s.LFG(s.zs3),s.LFG(ek),s.LFG(n,12),s.LFG(oH))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:sH}),n})(),ew=(()=>{class n{constructor(t){this.snackBar=t}showSuccess(t,r=3e3){this.snackBar.open(t,"Close",{duration:r,panelClass:["snackbar-success"]})}showError(t,r=3e3){this.snackBar.open(t,"Close",{duration:r,panelClass:["snackbar-error"]})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(w$))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E$=(()=>{class n{constructor(t,r,i,a,d){this.dialogRef=t,this.data=r,this.fb=i,this.snackbarService=a,this.ticketService=d,this.ticketForm=this.fb.group({title:["",Ln.required],description:["",Ln.maxLength(280)],priority:[Xo.Low],link:[""]})}ngOnInit(){}getTicketsSafe(){var t=this;return(0,He.Z)(function*(){return(yield t.ticketService.getTicketsPromise(t.data.boardId,t.data.monthId,t.data.sprintId))||[]})()}onSubmit(){var t=this;return(0,He.Z)(function*(){if(t.data.boardId&&t.data.sprintId&&t.data.monthId){if(t.ticketForm.valid){const r=t.ticketForm.value,i={title:r.title,boardId:t.data.boardId,monthId:t.data.monthId,sprintId:t.data.sprintId,description:r.description,status:qm.Todo,priority:r.priority?Xo.High:Xo.Low,createdAt:new Date,updatedAt:new Date,link:r.link,assignee:""},a=yield t.getTicketsSafe(),d=yield t.ticketService.getNewTicketPosition(t.data.boardId,t.data.monthId,t.data.sprintId);for(const[m,E]of a.entries())m>=d&&(console.log("for const",E),E.position=m+1,yield t.ticketService.updateTicket(E.id,E));i.position=d;try{yield t.ticketService.createTicket(t.data.boardId,t.data.monthId,t.data.sprintId,i,d),t.dialogRef.close(),t.snackbarService.showSuccess("Ticket created successfully")}catch(m){console.error(m),t.snackbarService.showError("An error occurred while creating the ticket")}}}else t.snackbarService.showError("Required data is missing")})()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(xl),s.Y36(hm),s.Y36(em),s.Y36(ew),s.Y36(zb))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-ticket-creation-dialog"]],decls:35,vars:5,consts:[[1,"dialog-container"],["mat-dialog-title",""],["mat-icon-button","",1,"close-button",3,"click"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","title","placeholder","Issue title","cdkFocusInitial",""],["matInput","","formControlName","description","placeholder","Add description...","maxlength","280",2,"min-height","101px","resize","none"],["align","end"],[1,"toggle-priority"],[1,"switch"],["type","checkbox","formControlName","priority"],[1,"slider","round"],["matInput","","formControlName","link","placeholder","Paste a link"],["matPrefix",""],[1,"save-button"],["type","submit",3,"width","height","disabled"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"h1",1),s._uU(2,"Create a new ticket"),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return r.dialogRef.close()}),s.TgZ(4,"mat-icon"),s._uU(5,"close"),s.qZA()(),s.TgZ(6,"mat-dialog-content")(7,"form",3),s.NdJ("ngSubmit",function(){return r.onSubmit()}),s.TgZ(8,"mat-form-field",4)(9,"mat-label"),s._uU(10,"Issue title"),s.qZA(),s._UZ(11,"input",5),s.qZA(),s.TgZ(12,"mat-form-field",4)(13,"mat-label"),s._uU(14,"Add description..."),s.qZA(),s._UZ(15,"textarea",6),s.TgZ(16,"mat-hint",7),s._uU(17),s.qZA()(),s.TgZ(18,"div",8)(19,"label",9),s._UZ(20,"input",10)(21,"span",11),s.qZA(),s.TgZ(22,"span"),s._uU(23,"This item is a "),s.TgZ(24,"strong"),s._uU(25,"must have"),s.qZA()()(),s.TgZ(26,"mat-form-field",4)(27,"mat-label"),s._uU(28,"Paste a link"),s.qZA(),s._UZ(29,"input",12),s.TgZ(30,"mat-icon",13),s._uU(31,"link"),s.qZA()(),s.TgZ(32,"div",14)(33,"app-custom-button",15),s._uU(34," Save "),s.qZA()()()()()),2&t&&(s.xp6(7),s.Q6J("formGroup",r.ticketForm),s.xp6(10),s.hij("",r.ticketForm.controls.description.value.length,"/280"),s.xp6(16),s.Q6J("width",277)("height",44)("disabled",!r.ticketForm.valid))},dependencies:[td,Mc,Ag,Rh,Op,Ra,to,nd,vf,$m,Fa,b0,HI,pB,Gb,gB,$b,jm],styles:['[_nghost-%COMP%]{font-family:Inter;position:relative;display:flex;flex-direction:column}.dialog-container[_ngcontent-%COMP%]{position:relative}.close-button[_ngcontent-%COMP%]{position:absolute;top:-16px;right:-16px;z-index:10}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;border-radius:50%;transition:background-color .3s ease}mat-form-field[_ngcontent-%COMP%]{width:100%}.toggle-priority[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:16px;margin-bottom:16px;gap:8px}.toggle-priority[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:500;font-size:17.3264px;line-height:25px;color:#323232}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:36px;height:14px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:0;bottom:-1.9px;background-color:#fff;transition:.4s;border:1px solid #B2B2B2;box-shadow:0 1px 1px #00000026}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ff4581e6}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.slider.round[_ngcontent-%COMP%]{border-radius:14px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.save-button[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:center}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{font-family:Inter;font-weight:500}.form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.select-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}h1[_ngcontent-%COMP%]{text-align:center}']}),n})();const C$=Vc("collapseExpand",[Wo("expanded",jn({height:"*",opacity:1,padding:"*"})),Wo("collapsed",jn({height:"0px",opacity:0,padding:"0px"})),fs("void => expanded",[jn({height:"0px",opacity:0,padding:"0px"}),Fs("300ms")]),fs("expanded => void",[Fs("300ms",jn({height:"0px",opacity:0,padding:"0px"}))]),fs("expanded <=> collapsed",[Fs("300ms")])]);let aH=(()=>{class n{constructor(t,r){this.dialogRef=t,this.data=r}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(xl),s.Y36(hm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-confirmation-dialog"]],decls:10,vars:0,consts:[[1,"dialog-container"],["mat-dialog-title","",1,"dialog-title"],[1,"dialog-content"],[1,"dialog-actions"],["mat-raised-button","",1,"yes-button",3,"click"],["mat-raised-button","",1,"no-button",3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"h2",1),s._uU(2,"Delete Confirmation"),s.qZA(),s.TgZ(3,"mat-dialog-content",2),s._uU(4,"Are you sure you want to delete this ticket?"),s.qZA(),s.TgZ(5,"mat-dialog-actions",3)(6,"button",4),s.NdJ("click",function(){return r.dialogRef.close(!0)}),s._uU(7,"Yes"),s.qZA(),s.TgZ(8,"button",5),s.NdJ("click",function(){return r.dialogRef.close(!1)}),s._uU(9,"No"),s.qZA()()())},dependencies:[vf,Fa,b0,eF],styles:['[_nghost-%COMP%]{width:100%;height:100%}.dialog-container[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.dialog-title[_ngcontent-%COMP%]{text-align:center;padding:1em 0;font-size:1.5em;transition:color .3s ease}.dialog-content[_ngcontent-%COMP%]{padding:1em 0;text-align:center;color:#4388dd;transition:color .3s ease}.dialog-actions[_ngcontent-%COMP%]{justify-content:space-around;padding:1em 0}.yes-button[_ngcontent-%COMP%]{background-color:#4388dd;color:#fff;font-weight:700;transition:background-color .3s ease}.yes-button[_ngcontent-%COMP%]:hover{background-color:#3076a6}.no-button[_ngcontent-%COMP%]{background-color:#ff4581;color:#fff;font-weight:700;transition:background-color .3s ease}.no-button[_ngcontent-%COMP%]:hover{background-color:#ff2157}.is-visible[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]{transform:translateY(0);transition:transform .3s ease-in-out}']}),n})();function S$(n,e){1&n&&s._UZ(0,"app-circle-loader",3)}function I$(n,e){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Issue title is required "),s.qZA())}function D$(n,e){1&n&&(s.TgZ(0,"span"),s._uU(1,"This item is a "),s.TgZ(2,"strong"),s._uU(3,"must have"),s.qZA()())}function T$(n,e){1&n&&(s.TgZ(0,"span"),s._uU(1,"This item is a "),s.TgZ(2,"strong"),s._uU(3,"must have"),s.qZA()())}function x$(n,e){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Invalid URL "),s.qZA())}function A$(n,e){if(1&n&&(s.ynx(0),s.TgZ(1,"div",20)(2,"mat-form-field",6),s._UZ(3,"input",21),s.TgZ(4,"mat-icon",22),s._uU(5,"link"),s.qZA(),s.YNc(6,x$,2,0,"mat-error",2),s.qZA()(),s.BQk()),2&n){const t=s.oxw(2);s.xp6(6),s.Q6J("ngIf",t.ticketForm.controls.link.hasError("url")&&t.ticketForm.controls.link.touched)}}function M$(n,e){if(1&n&&(s.TgZ(0,"div",23)(1,"mat-icon",22),s._uU(2,"link"),s.qZA(),s.TgZ(3,"mat-label")(4,"a",24),s._uU(5,"Link to additional information"),s.qZA()()()),2&n){const t=s.oxw(2);s.xp6(4),s.Q6J("href",t.ticketForm.controls.link.value,s.LSH)}}function P$(n,e){if(1&n&&(s.TgZ(0,"app-custom-button",25),s._uU(1," Save "),s.qZA()),2&n){const t=s.oxw(2);s.Q6J("width",277)("height",44)("disabled",t.ticketForm.invalid||t.loading||!t.isEditorMode)}}function k$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2);return s.KtG(i.onDelete())}),s.TgZ(1,"mat-icon"),s._uU(2,"delete"),s.qZA()()}}function R$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"mat-dialog-content")(1,"form",4),s.NdJ("ngSubmit",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.onSubmit())}),s.TgZ(2,"div",5)(3,"mat-form-field",6),s._UZ(4,"textarea",7),s.YNc(5,I$,2,0,"mat-error",2),s.qZA()(),s.TgZ(6,"div",5)(7,"mat-form-field",6),s._UZ(8,"textarea",8),s.TgZ(9,"mat-hint",9),s._uU(10),s.qZA()()(),s.TgZ(11,"div",5)(12,"div",10)(13,"label",11),s._UZ(14,"input",12)(15,"span",13),s.qZA(),s.YNc(16,D$,4,0,"span",14),s.YNc(17,T$,4,0,"ng-template",null,15,s.W1O),s.qZA()(),s.YNc(19,A$,7,1,"ng-container",14),s.YNc(20,M$,6,1,"ng-template",null,16,s.W1O),s.TgZ(22,"div",17),s.YNc(23,P$,2,3,"app-custom-button",18),s.qZA()(),s.YNc(24,k$,3,0,"button",19),s.qZA()}if(2&n){const t=s.MAs(18),r=s.MAs(21),i=s.oxw();s.xp6(1),s.Q6J("formGroup",i.ticketForm),s.xp6(3),s.uIk("cdkFocusInitial",i.isEditorMode?"":null),s.xp6(1),s.Q6J("ngIf",i.ticketForm.controls.title.hasError("required")&&i.ticketForm.controls.title.touched),s.xp6(5),s.hij("",(null==i.ticketForm.controls.description.value?null:i.ticketForm.controls.description.value.length)||0,"/280"),s.xp6(6),s.Q6J("ngIf",i.ticketForm.controls.priority.value)("ngIfElse",t),s.xp6(3),s.Q6J("ngIf",i.isEditorMode)("ngIfElse",r),s.xp6(4),s.Q6J("ngIf",i.isEditorMode),s.xp6(1),s.Q6J("ngIf",i.isEditorMode)}}let O$=(()=>{class n{constructor(t,r,i,a,d,m){this.dialogRef=t,this.data=r,this.fb=i,this.snackbarService=a,this.ticketService=d,this.dialog=m,this.loading=!1,this.ticketStatuses=Object.values(qm),this.isEditorMode=this.data.isEditorMode,this.ticketForm=this.fb.group({boardId:[{value:"",disabled:!this.isEditorMode},Ln.required],monthId:[{value:"",disabled:!this.isEditorMode},Ln.required],sprintId:[{value:"",disabled:!this.isEditorMode},Ln.required],title:[{value:"",disabled:!this.isEditorMode},Ln.required],description:[{value:"",disabled:!this.isEditorMode},Ln.maxLength(280)],priority:[{value:Xo.Low,disabled:!this.isEditorMode}],link:[{value:"",disabled:!this.isEditorMode},Ln.pattern("https?://.+")],status:[{value:qm.Todo,disabled:!this.isEditorMode}]})}ngOnInit(){this.initializeForm()}initializeForm(){const t=this.data.ticket||{};let r=t.title.trim();this.isEditorMode&&"tbd"===r.toLowerCase()&&(r=""),this.ticketForm.patchValue({boardId:t.boardId,monthId:t.monthId,sprintId:t.sprintId,title:r,description:t.description||"",priority:t.priority===Xo.High,link:t.link||"",status:t.status||qm.Todo})}onSubmit(){var t=this;return(0,He.Z)(function*(){if(t.ticketForm.valid&&t.isEditorMode){t.loading=!0;try{const r=t.prepareTicketData();yield t.ticketService.updateTicket(t.data.ticket.id,r),t.snackbarService.showSuccess("Ticket updated successfully"),t.dialogRef.close()}catch(r){console.error(r),t.snackbarService.showError("An error occurred while updating the ticket")}finally{t.loading=!1}}})()}prepareTicketData(){const t=this.ticketForm.value;return{boardId:t.boardId,monthId:t.monthId,sprintId:t.sprintId,title:t.title,description:t.description,status:t.status,priority:t.priority?Xo.High:Xo.Low,updatedAt:new Date,link:t.link}}formatStatus(t){return t.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}onDelete(){var t=this;return(0,He.Z)(function*(){console.log(t.data.ticket.id,t.data.ticket.boardId,t.data.ticket.monthId,t.data.ticket.sprintId),t.dialog.open(aH,{width:"330px",height:"210px",panelClass:"confirmation-popup"}).afterClosed().subscribe(function(){var i=(0,He.Z)(function*(a){if(a)try{yield t.ticketService.deleteTicket(t.data.ticket.id,t.data.ticket.boardId,t.data.ticket.monthId,t.data.ticket.sprintId),t.snackbarService.showSuccess("Ticket deleted successfully"),t.dialogRef.close()}catch(d){console.error(d),t.snackbarService.showError("An error occurred while deleting the ticket")}});return function(a){return i.apply(this,arguments)}}())})()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(xl),s.Y36(hm),s.Y36(em),s.Y36(ew),s.Y36(zb),s.Y36(Al))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-ticket-edit-dialog"]],decls:3,vars:2,consts:[[1,"dialog-container"],["class","loading",4,"ngIf"],[4,"ngIf"],[1,"loading"],[3,"formGroup","ngSubmit"],[1,"form-group"],["appearance","outline"],["matInput","","formControlName","title","placeholder","Issue title",2,"resize","none"],["matInput","","formControlName","description","placeholder","Add description...","maxlength","280","appClickableLinks","",2,"min-height","120px","resize","none"],["align","end"],[1,"toggle-priority"],[1,"switch"],["type","checkbox","formControlName","priority"],[1,"slider","round"],[4,"ngIf","ngIfElse"],["notImportant",""],["linkView",""],[1,"save-button"],["type","submit",3,"width","height","disabled",4,"ngIf"],["mat-icon-button","","class","delete-button",3,"click",4,"ngIf"],[1,"form-group","editor-view"],["matInput","","formControlName","link","placeholder","Paste a link"],["matPrefix",""],[1,"form-group","link-readonly"],["target","_blank","tabindex","-1",3,"href"],["type","submit",3,"width","height","disabled"],["mat-icon-button","",1,"delete-button",3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,S$,1,0,"app-circle-loader",1),s.YNc(2,R$,25,10,"mat-dialog-content",2),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngIf",r.loading),s.xp6(1),s.Q6J("ngIf",!r.loading))},dependencies:[Nn,td,Mc,Ag,Rh,Op,Ra,to,nd,vf,$m,b0,z4,HI,pB,Gb,gB,$b,UI,jm],styles:['[_nghost-%COMP%]{font-family:Inter;position:relative;display:flex;flex-direction:column;animation:fadeIn ease 1s;-webkit-animation:fadeIn ease 1s;-moz-animation:fadeIn ease 1s;-o-animation:fadeIn ease 1s;-ms-animation:fadeIn ease 1s;width:100%;height:100%}mat-dialog-content[_ngcontent-%COMP%]{width:100%;height:100%;margin:0}form[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.dialog-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;box-sizing:border-box;padding:12px;box-shadow:0 5px 15px #0000001a}.form-group[_ngcontent-%COMP%]:nth-child(2){padding-bottom:15px;border-bottom:3px solid rgba(0,0,0,.1)}.form-group[_ngcontent-%COMP%]:nth-child(4){border-bottom:3px solid rgba(0,0,0,.1)}.form-group[_ngcontent-%COMP%]:nth-child(4)   input[_ngcontent-%COMP%]{height:20px;padding:.25rem}.form-group[_ngcontent-%COMP%]:nth-child(4)   input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 5px #005aa04d;background-color:#005aa00d}mat-form-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{width:100%;position:relative;animation:slideInLeft ease .5s;-webkit-animation:slideInLeft ease .5s;-moz-animation:slideInLeft ease .5s;-o-animation:slideInLeft ease .5s;-ms-animation:slideInLeft ease .5s}@keyframes slideInLeft{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}.toggle-priority[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:16px;margin-bottom:16px;gap:8px}.toggle-priority[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:500;font-size:17.3264px;line-height:25px;color:#323232}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:36px;height:14px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:0;bottom:-1.9px;background-color:#fff;transition:.4s;border:1px solid #B2B2B2;box-shadow:0 1px 1px #00000026}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ff4581e6}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.slider.round[_ngcontent-%COMP%]{border-radius:14px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.save-button[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:center}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{font-family:Inter;font-weight:500}.form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.select-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}h1[_ngcontent-%COMP%]{text-align:center}.separator-border[_ngcontent-%COMP%]{border-bottom:3px solid rgba(0,0,0,.1)}.link-readonly[_ngcontent-%COMP%]{height:50px;display:flex;justify-content:flex-start;align-items:center}.link-readonly[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:25px;margin-left:.7rem;margin-right:.6rem}.delete-button[_ngcontent-%COMP%]{position:absolute;left:1rem;bottom:20px}']}),n})();function F$(n,e){1&n&&s._UZ(0,"div",5)}function N$(n,e){1&n&&s._UZ(0,"div",6)}function L$(n,e){1&n&&(s.TgZ(0,"div",7)(1,"button",8)(2,"mat-icon"),s._uU(3,"edit"),s.qZA()()())}const V$=function(n){return{"tbd-ticket":n}};let B$=(()=>{class n{constructor(t,r,i){this.dialog=t,this.snackBarService=r,this.ticketService=i,this.isEditorMode=!1}ngOnInit(){}getPriorityClass(t){switch(t){case Xo.Low:return"low-priority";case Xo.Medium:return"medium-priority";case Xo.High:return"high-priority";default:return""}}openEditDialog(){this.dialog.open(O$,{width:"520px",height:"542px",panelClass:"custom-popup",data:{ticket:this.ticket,isEditorMode:this.isEditorMode}}).afterClosed().subscribe(r=>{r&&this.isEditorMode&&(this.ticket=r)})}confirmDelete(t){t.stopPropagation(),this.dialog.open(aH,{width:"300px"}).afterClosed().subscribe(i=>{i&&this.deleteTicket()})}deleteTicket(){var t=this;return(0,He.Z)(function*(){if(t.ticket.id&&t.boardId&&t.monthId&&t.sprintId)try{yield t.ticketService.deleteTicket(t.ticket.id,t.boardId,t.monthId,t.sprintId),t.snackBarService.showSuccess("Ticket deleted successfully!")}catch(r){t.snackBarService.showError("Error while deleting ticket"),console.error(r)}else console.error("Missing required properties")})()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Al),s.Y36(ew),s.Y36(zb))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-ticket"]],inputs:{ticket:"ticket",isEditorMode:"isEditorMode",boardId:"boardId",monthId:"monthId",sprintId:"sprintId"},decls:6,vars:8,consts:[[1,"ticket",3,"ngClass","click"],["class","priority-line",4,"ngIf"],[3,"ngClass"],["class","priority-indicator",4,"ngIf"],["class","ticket-buttons",4,"ngIf"],[1,"priority-line"],[1,"priority-indicator"],[1,"ticket-buttons"],["mat-icon-button","",1,"edit-button"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.NdJ("click",function(){return r.openEditDialog()}),s.YNc(1,F$,1,0,"div",1),s.TgZ(2,"h4",2),s._uU(3),s.qZA(),s.YNc(4,N$,1,0,"div",3),s.YNc(5,L$,4,0,"div",4),s.qZA()),2&t&&(s.Q6J("ngClass",r.getPriorityClass(r.ticket.priority)),s.xp6(1),s.Q6J("ngIf",r.ticket.priority),s.xp6(1),s.Q6J("ngClass",s.VKq(6,V$,r.ticket.title.includes("TBD"))),s.xp6(1),s.Oqu(r.ticket.title),s.xp6(1),s.Q6J("ngIf",r.ticket.priority),s.xp6(1),s.Q6J("ngIf",r.isEditorMode))},dependencies:[mn,Nn,vf,$m],styles:[".ticket[_ngcontent-%COMP%]{position:relative;background-color:#f5f5f5;border-radius:3px;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;padding:8px 12px;margin:4px 7px;transition:.3s;display:flex;flex-direction:row;justify-content:space-between}.tbd-ticket[_ngcontent-%COMP%]{color:#ccc!important}.ticket[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.ticket[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Helvetica;font-style:normal;font-size:clamp(11px,1.2vw,14px);line-height:18px;margin:0;color:#000}.ticket[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(11px,1.2vw,14px);color:#333;margin-bottom:10px}.priority-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:2px;height:100%}.low-priority[_ngcontent-%COMP%]   .priority-line[_ngcontent-%COMP%]{border-left:3px dashed rgb(255,69,129)}.medium-priority[_ngcontent-%COMP%]   .priority-line[_ngcontent-%COMP%], .high-priority[_ngcontent-%COMP%]   .priority-line[_ngcontent-%COMP%]{border-left:3px solid rgb(255,69,129)}.edit-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0}.edit-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}"]}),n})();function H$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"h3",4),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.startRenaming())}),s._uU(1),s.qZA()}if(2&n){const t=s.oxw();s.xp6(1),s.Oqu(t.sprint.name)}}function U$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"input",7),s.NdJ("blur",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.saveSprintName())}),s.qZA()}if(2&n){const t=s.oxw();s.Q6J("formControl",t.sprintNameControl)}}function z$(n,e){if(1&n&&(s.ynx(0),s._UZ(1,"app-ticket",11),s.BQk()),2&n){const t=e.$implicit,r=s.oxw(2);s.xp6(1),s.Q6J("ticket",t)("cdkDragDisabled",!r.isEditorMode)("cdkDragData",t)("isEditorMode",r.isEditorMode)("sprintId",r.sprint.id)("boardId",r.boardId)("monthId",r.monthId)}}function j$(n,e){if(1&n&&(s.TgZ(0,"div",8)(1,"p",9),s._uU(2,"User facing changes:"),s.qZA(),s.YNc(3,z$,2,7,"ng-container",10),s.qZA()),2&n){const t=s.oxw();s.Q6J("@collapseExpand",t.isSprintCollapsed?"collapsed":"expanded"),s.xp6(3),s.Q6J("ngForOf",t.tickets)}}function G$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",12)(1,"button",13),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.openTicketCreationDialog())}),s.TgZ(2,"mat-icon"),s._uU(3,"add"),s.qZA()()()}}const $$=function(n,e){return{tickets:n,monthId:e}};let q$=(()=>{class n{constructor(t,r,i){this.dialog=t,this.sprintService=r,this.ticketService=i,this.isEditorMode=!1,this.isRenamingSprint=!1,this.sprintNameControl=new kc(""),this.isSprintCollapsed=!1,this.tickets=[],this.subscriptions=new Qr.w0,this.loading=!1}ngOnInit(){this.sprint.boardId&&this.sprint.id&&this.monthId&&(this.loading=!0,this.fetchSprintData())}fetchSprintData(){try{this.fetchTickets(),this.fetchSprintState(),this.setSprintNameControl()}catch(t){console.error("Error fetching sprint data:",t),this.loading=!1}}fetchTickets(){this.ticketService.getTickets(this.sprint.boardId,this.monthId,this.sprint.id).subscribe(t=>{this.tickets=t&&t.length>0?t.filter(r=>null!=r&&null!=r.position).sort((r,i)=>(r.position??0)-(i.position??0)):[]},t=>{console.error("Error fetching tickets:",t),this.loading=!1})}fetchSprintState(){this.sprint.boardId&&this.sprint.id&&this.monthId&&this.sprintService.getSprintState(this.sprint.boardId,this.monthId,this.sprint.id).subscribe(t=>{t&&(this.isSprintCollapsed=t.isCollapsed||!1),this.loading=!1},t=>{console.error("Error fetching sprint state:",t)})}setSprintNameControl(){this.sprint.name&&this.sprintNameControl.setValue(this.sprint.name)}ngOnDestroy(){this.subscriptions.unsubscribe()}startRenaming(){this.isEditorMode&&(this.isRenamingSprint=!0)}saveSprintName(){if(this.isEditorMode&&this.sprint.id&&this.sprint.boardId&&this.monthId){const t=this.sprintNameControl.value;t&&t!==this.sprint.name&&this.sprintService.updateSprint(this.sprint.id,this.sprint.boardId,this.monthId,{name:t}).then(()=>{this.sprint.name=t}).catch(r=>{console.error("Error updating sprint name:",r)}),this.isRenamingSprint=!1}}toggleSprintCollapse(){this.isSprintCollapsed=!this.isSprintCollapsed,this.sprint.id&&this.sprint.boardId&&this.monthId&&this.sprintService.updateSprintState(this.sprint.boardId,this.monthId,this.sprint.id,{isCollapsed:this.isSprintCollapsed}).catch(t=>{console.error("Error updating sprint collapse state:",t)})}openTicketCreationDialog(){this.isEditorMode&&this.sprint.boardId&&this.sprint.id&&this.monthId&&this.dialog.open(E$,{width:"400px",data:{boardId:this.sprint.boardId,sprintId:this.sprint.id,monthId:this.monthId}})}drop(t){var r=this;return(0,He.Z)(function*(){if(r.isEditorMode)if(t.previousContainer===t.container)qB(t.container.data.tickets,t.previousIndex,t.currentIndex),r.monthId&&r.updateTicketOrder(t.container.data.tickets,r.sprint.id,r.monthId);else if(function X5(n,e,t,r){const i=Xb(t,n.length-1),a=Xb(r,e.length);n.length&&e.splice(a,0,n.splice(i,1)[0])}(t.previousContainer.data.tickets,t.container.data.tickets,t.previousIndex,t.currentIndex),r.monthId&&t.previousContainer.data.monthId&&t.container.data.monthId){yield r.ticketService.deleteTicket(t.item.data.id,r.boardId,t.previousContainer.data.monthId,t.previousContainer.id);const i={...t.item.data,position:t.currentIndex};yield r.ticketService.createTicket(r.boardId,t.container.data.monthId,t.container.id,i,t.currentIndex),r.updateTicketOrder(t.previousContainer.data.tickets,t.previousContainer.id,t.previousContainer.data.monthId),r.updateTicketOrder(t.container.data.tickets,r.sprint.id,r.monthId)}})()}updateTicketOrder(t,r,i){var a=this;return(0,He.Z)(function*(){t.forEach(function(){var d=(0,He.Z)(function*(m,E){const I={...m,position:E};yield a.ticketService.updateTicket(I.id,{...I,boardId:a.boardId,sprintId:r,monthId:i})});return function(m,E){return d.apply(this,arguments)}}())})()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Al),s.Y36(jb),s.Y36(zb))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sprint"]],inputs:{boardId:"boardId",sprint:"sprint",monthId:"monthId",isEditorMode:"isEditorMode"},decls:9,vars:10,consts:[["cdkDropList","",1,"sprint",3,"id","cdkDropListData","cdkDropListDropped"],[1,"sprint-header"],[3,"click",4,"ngIf"],["matInput","",3,"formControl","blur",4,"ngIf"],[3,"click"],["class","tickets",4,"ngIf"],["class","create-ticket-button-container",4,"ngIf"],["matInput","",3,"formControl","blur"],[1,"tickets"],[1,"tickets__paragraph"],[4,"ngFor","ngForOf"],["cdkDrag","",3,"ticket","cdkDragDisabled","cdkDragData","isEditorMode","sprintId","boardId","monthId"],[1,"create-ticket-button-container"],["mat-icon-button","",1,"create-ticket-button",3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.NdJ("cdkDropListDropped",function(a){return r.drop(a)}),s.TgZ(1,"div",1),s.YNc(2,H$,2,1,"h3",2),s.YNc(3,U$,1,1,"input",3),s.TgZ(4,"button",4),s.NdJ("click",function(){return r.toggleSprintCollapse()}),s.TgZ(5,"mat-icon"),s._uU(6),s.qZA()()(),s.YNc(7,j$,4,2,"div",5),s.YNc(8,G$,4,0,"div",6),s.qZA()),2&t&&(s.Q6J("id",r.sprint.id||"defaultId")("cdkDropListData",s.WLB(7,$$,r.tickets,r.monthId)),s.xp6(2),s.Q6J("ngIf",!r.isRenamingSprint),s.xp6(1),s.Q6J("ngIf",r.isRenamingSprint),s.xp6(3),s.Oqu(r.isSprintCollapsed?"keyboard_arrow_down":"keyboard_arrow_up"),s.xp6(1),s.Q6J("ngIf",!r.loading),s.xp6(1),s.Q6J("ngIf",r.isEditorMode&&!r.isSprintCollapsed))},dependencies:[gn,Nn,Mc,Rh,uv,vf,$m,$b,s$,c$,B$],styles:["app-ticket[_ngcontent-%COMP%]{width:100%;transition:transform .12s cubic-bezier(0,0,.2,1)}.loading[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.sprint[_ngcontent-%COMP%]{max-height:400px;min-height:190px}.sprint-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-direction:row-reverse;padding:10px 12px;background:#ffffff;border-radius:8px;box-shadow:0 2px 6px #00000024,0 1px 2px #00000014,0 0 1px #0000000f,0 0 #0000000a}.sprint-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:90%;text-align:center}.sprint-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .sprint-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex:none;order:1;flex-grow:0;font-family:Roboto;font-style:normal;font-weight:500;font-size:clamp(14px,1.2vw,16px);line-height:clamp(14px,1.2vw,16px);text-align:center;letter-spacing:.02em;color:#005aa0;margin:0}.sprint-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center}.sprint-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#005aa0;transition:transform .3s ease}.sprint-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.sprint[_ngcontent-%COMP%]   .collapsed[_ngcontent-%COMP%]{display:none;transition:opacity .3s ease-in-out}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]{margin-top:6px;border:1px solid #ccc;width:100%;min-height:100px;max-height:370px;display:flex;flex-direction:column;justify-content:flex-start;padding:12px 0;border-radius:4px;background:#ffffff;box-shadow:0 4px 17px #0000001a;overflow-y:auto;scroll-behavior:smooth}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:10px;-webkit-transition:background .2s ease-in-out;transition:background .2s ease-in-out}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.sprint[_ngcontent-%COMP%]   .tickets.expanded[_ngcontent-%COMP%]{display:flex}.sprint[_ngcontent-%COMP%]   .tickets__paragraph[_ngcontent-%COMP%]{margin:0 0 10px .5rem;font-family:Inter;font-style:normal;font-weight:600;font-size:clamp(11px,1.2vw,14px);line-height:18px;color:#3a4650;flex:none;order:0;flex-grow:0}.sprint[_ngcontent-%COMP%]   .create-ticket-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;bottom:10px}.sprint[_ngcontent-%COMP%]   .create-ticket-button[_ngcontent-%COMP%]{width:13px;height:13px;background:#ff4581;border:1px solid #fffdfd;border-radius:50%;display:flex;justify-content:center;align-items:center;padding:10px}.sprint[_ngcontent-%COMP%]   .create-ticket-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:13px;color:#fffdfd}  .mat-input-element{border:none;font-family:Roboto;font-style:normal;font-weight:500;font-size:clamp(14px,1.2vw,16px);line-height:clamp(14px,1.2vw,16px);color:#005aa0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .12s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{position:relative;z-index:100;box-sizing:border-box}.cdk-drag-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{pointer-events:none}.cdk-drag-handle[_ngcontent-%COMP%]{-webkit-user-drag:none;touch-action:none}"],data:{animation:[C$]}}),n})();function W$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"mat-icon",6),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2);return s.KtG(i.deleteMonth())}),s._uU(1,"close"),s.qZA()}}function Z$(n,e){if(1&n&&s._UZ(0,"app-sprint",7),2&n){const t=e.$implicit,r=s.oxw(2);s.Q6J("sprint",t)("boardId",r.boardId)("monthId",r.month.id)("isEditorMode",r.isEditorMode)}}function K$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",1)(1,"h2",2),s.NdJ("mouseover",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.showDeleteIcon=!0)})("mouseleave",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.showDeleteIcon=!1)}),s._uU(2),s.YNc(3,W$,2,0,"mat-icon",3),s.qZA(),s.TgZ(4,"div",4),s.YNc(5,Z$,1,4,"app-sprint",5),s.qZA()()}if(2&n){const t=s.oxw();s.xp6(2),s.hij(" ",t.month.name," "),s.xp6(1),s.Q6J("ngIf",t.showDeleteIcon&&t.isEditorMode),s.xp6(2),s.Q6J("ngForOf",t.sprints)}}let Y$=(()=>{class n{constructor(t,r){this.sprintService=t,this.monthService=r,this.isEditorMode=!1,this.sprints=[],this.showDeleteIcon=!1,this.subscriptions=new Qr.w0,this.monthDeleted=new s.vpe}ngOnInit(){this.fetchSprints()}ngOnDestroy(){this.subscriptions.unsubscribe()}fetchSprints(){const t=this.sprintService.getSprints(this.boardId,this.month.id).subscribe(r=>{this.sprints=r&&r.length>0?r.filter(i=>null!=i&&null!=i.name).sort((i,a)=>i.name.localeCompare(a.name)):[]});this.subscriptions.add(t)}deleteMonth(){var t=this;return(0,He.Z)(function*(){try{t.month.id&&t.boardId&&(yield t.monthService.deleteMonth(t.boardId,t.month.id),t.monthDeleted.emit(t.month.id))}catch(r){console.error("Failed to delete month:",r)}})()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(jb),s.Y36(UP))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-month"]],inputs:{month:"month",boardId:"boardId",isEditorMode:"isEditorMode"},outputs:{monthDeleted:"monthDeleted"},decls:1,vars:1,consts:[["class","month",4,"ngIf"],[1,"month"],[3,"mouseover","mouseleave"],["class","delete-icon",3,"click",4,"ngIf"],[1,"sprints"],[3,"sprint","boardId","monthId","isEditorMode",4,"ngFor","ngForOf"],[1,"delete-icon",3,"click"],[3,"sprint","boardId","monthId","isEditorMode"]],template:function(t,r){1&t&&s.YNc(0,K$,6,3,"div",0),2&t&&s.Q6J("ngIf",r.month)},dependencies:[gn,Nn,$m,q$],styles:["h2[_ngcontent-%COMP%]{position:relative;font-family:Assistant;font-style:normal;font-weight:600;font-size:clamp(16px,1.5vw,18px);line-height:24px;text-align:center;color:#000;border:2px solid #4388dd;border-radius:6px;box-shadow:0 4px 180px #00000040;overflow:hidden}.delete-icon[_ngcontent-%COMP%]{position:absolute;right:5px;top:2px;padding:2px;border-radius:50%;background-color:red;color:#fff;cursor:pointer;opacity:0;transform:scale(0);animation:fadeOut .5s ease-in-out;font-size:16px;width:16px;height:16px;transition:all .5s ease}h2[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{animation:fadeIn .5s ease-in-out forwards;transform:rotate(360deg);background-color:#ff4136}.sprints[_ngcontent-%COMP%]{display:grid;gap:.75rem;grid-template-columns:repeat(auto-fill,minmax(calc(50% - .375rem),1fr))}@keyframes fadeIn{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2);opacity:1}to{transform:scale(1);opacity:1}}@keyframes fadeOut{0%{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:1}to{transform:scale(0);opacity:0}}"]}),n})();function Q$(n,e){if(1&n){const t=s.EpF();s.ynx(0),s.TgZ(1,"app-month",7),s.NdJ("monthDeleted",function(i){s.CHM(t);const a=s.oxw(2);return s.KtG(a.onMonthDeleted(i))}),s.qZA(),s.BQk()}if(2&n){const t=e.$implicit,r=s.oxw(2);s.xp6(1),s.Q6J("month",t)("boardId",r.boardId)("isEditorMode",r.isEditorMode)("@slideIn",r.state)}}function X$(n,e){if(1&n&&(s.ynx(0),s.TgZ(1,"div",5),s.YNc(2,Q$,2,4,"ng-container",6),s.qZA(),s.BQk()),2&n){const t=s.oxw();s.xp6(2),s.Q6J("ngForOf",t.months.slice(t.currentIndex,t.currentIndex+3))}}function J$(n,e){if(1&n){const t=s.EpF();s.ynx(0),s.TgZ(1,"app-month",7),s.NdJ("monthDeleted",function(i){s.CHM(t);const a=s.oxw(2);return s.KtG(a.onMonthDeleted(i))}),s.qZA(),s.BQk()}if(2&n){const t=e.$implicit,r=s.oxw(2);s.xp6(1),s.Q6J("month",t)("boardId",r.boardId)("isEditorMode",r.isEditorMode)("@slideIn",r.state)}}function eq(n,e){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,J$,2,4,"ng-container",6),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.months.slice(t.currentIndex,t.currentIndex+3))}}let lH=(()=>{class n{constructor(){this.months=[],this.boardId="",this.isEditorMode=!1,this.visibleMonthsChange=new s.vpe,this.monthDeleted=new s.vpe,this.currentIndex=0,this.state=0,this.slideInTrigger=0}ngOnInit(){this.updateDisplayedMonths()}ngOnDestroy(){qb(this.boardId,this.currentIndex)}ngOnChanges(t){t.months&&this.updateDisplayedMonths()}updateDisplayedMonths(){const t=function b5(n){const e=localStorage.getItem(`lastViewedMonthIndex_${n}`);return null!==e?parseInt(e,10):null}(this.boardId);this.currentIndex=null!==t&&t<=this.months.length-3?t:Math.max(0,this.months.length-3),this.slideInTrigger=this.currentIndex,this.emitVisibleMonths()}hasPrevious(){return this.currentIndex>0}hasNext(){return this.currentIndex<this.months.length-3}previous(){this.hasPrevious()&&(this.currentIndex--,this.slideInTrigger=this.currentIndex,qb(this.boardId,this.currentIndex),this.emitVisibleMonths())}next(){this.hasNext()&&(this.currentIndex++,this.slideInTrigger=this.currentIndex,qb(this.boardId,this.currentIndex),this.emitVisibleMonths())}onMonthDeleted(t){this.months=this.months.filter(r=>r.id!==t),this.state++,this.slideInTrigger=this.currentIndex,this.monthDeleted.emit(t),this.updateDisplayedMonths()}showLastCreatedMonth(){this.currentIndex=Math.max(0,this.months.length-2),this.slideInTrigger=this.currentIndex,qb(this.boardId,this.currentIndex),this.emitVisibleMonths()}scrollToMonth(t){t>=1&&t<=this.months.length-2?this.currentIndex=t-1:t<1?this.currentIndex=0:t>this.months.length-2&&(this.currentIndex=Math.max(0,this.months.length-3)),this.slideInTrigger=this.currentIndex,qb(this.boardId,this.currentIndex),this.emitVisibleMonths()}emitVisibleMonths(){this.visibleMonthsChange.emit({start:this.currentIndex,end:this.currentIndex+3})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-carousel"]],hostVars:1,hostBindings:function(t,r){2&t&&s.d8E("@slideIn",r.slideInTrigger)},inputs:{months:"months",boardId:"boardId",isEditorMode:"isEditorMode"},outputs:{visibleMonthsChange:"visibleMonthsChange",monthDeleted:"monthDeleted"},features:[s.TTD],decls:10,vars:6,consts:[[1,"carousel"],["mat-icon-button","",1,"nav-button","nav-button-left",3,"click"],[4,"ngIf","ngIfElse"],["readMode",""],["mat-icon-button","",1,"nav-button","nav-button-right",3,"click"],["cdkDropListGroup","",1,"carousel-content"],[4,"ngFor","ngForOf"],[3,"month","boardId","isEditorMode","monthDeleted"],[1,"carousel-content"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0)(1,"button",1),s.NdJ("click",function(){return r.previous()}),s.TgZ(2,"mat-icon"),s._uU(3,"navigate_before"),s.qZA()(),s.YNc(4,X$,3,1,"ng-container",2),s.YNc(5,eq,2,1,"ng-template",null,3,s.W1O),s.TgZ(7,"button",4),s.NdJ("click",function(){return r.next()}),s.TgZ(8,"mat-icon"),s._uU(9,"navigate_next"),s.qZA()()()),2&t){const i=s.MAs(6);s.xp6(1),s.ekj("hidden",!r.hasPrevious()),s.xp6(3),s.Q6J("ngIf",r.isEditorMode)("ngIfElse",i),s.xp6(3),s.ekj("hidden",!r.hasNext())}},dependencies:[gn,Nn,vf,$m,r$,Y$],styles:["[_nghost-%COMP%]{width:100%}.loading[_ngcontent-%COMP%]{height:450px;display:flex;justify-content:center;align-items:center}.carousel[_ngcontent-%COMP%]{height:450px;display:flex}.carousel[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{border:none;background-color:transparent;cursor:pointer;color:#0000008a}.carousel[_ngcontent-%COMP%]   .nav-button.hidden[_ngcontent-%COMP%]{visibility:hidden}.carousel[_ngcontent-%COMP%]   .nav-button-left[_ngcontent-%COMP%]{margin-right:.15rem;margin-top:-6.5px}.carousel[_ngcontent-%COMP%]   .nav-button-right[_ngcontent-%COMP%]{margin-left:1rem;margin-top:-8px}.carousel[_ngcontent-%COMP%]   .carousel-content[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem}"],data:{animation:[w5]}}),n})();const nk=["January","February","March","April","May","June","July","August","September","October","November","December"];let tq=(()=>{class n{constructor(t,r){this.formBuilder=t,this.dialogRef=r,this.accessCodeForm=this.formBuilder.group({accessCode:["",[Ln.required,Ln.minLength(6),Ln.maxLength(6)]]})}onNoClick(){this.dialogRef.close()}submitForm(){if(this.accessCodeForm.valid){const t=this.accessCodeForm.get("accessCode")?.value;this.dialogRef.close(t)}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(em),s.Y36(xl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-access-popup"]],decls:16,vars:2,consts:[[1,"popup-container"],[1,"setup-title"],[1,"content-container"],[1,"title"],[1,"description"],[1,"access-code-form",3,"formGroup","ngSubmit"],[1,"access-code-input"],["matInput","","formControlName","accessCode","type","password","required",""],[1,"popup-actions"],["mat-button","",3,"disabled","click"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2,"Enter Access Code"),s.qZA(),s.TgZ(3,"div",2)(4,"h2",3),s._uU(5,"To obtain editor rights"),s.qZA(),s.TgZ(6,"p",4),s._uU(7,"Please enter the 6 digit access code:"),s.qZA(),s.TgZ(8,"form",5),s.NdJ("ngSubmit",function(){return r.submitForm()}),s.TgZ(9,"mat-form-field",6),s._UZ(10,"input",7),s.qZA()()(),s.TgZ(11,"div",8)(12,"app-custom-button",9),s.NdJ("click",function(){return r.submitForm()}),s._uU(13,"Submit"),s.qZA(),s.TgZ(14,"app-custom-button",10),s.NdJ("click",function(){return r.onNoClick()}),s._uU(15,"Cancel"),s.qZA()()()),2&t&&(s.xp6(8),s.Q6J("formGroup",r.accessCodeForm),s.xp6(4),s.Q6J("disabled",r.accessCodeForm.invalid))},dependencies:[td,Mc,Rh,Op,ei,to,nd,HI,$b,jm],styles:[".popup-container[_ngcontent-%COMP%]{box-sizing:border-box;background:#323232;border:1px solid #323232;box-shadow:0 4px 20px #0009;border-radius:5px;padding:20px;height:100%;width:100%}.setup-title[_ngcontent-%COMP%]{width:100%;height:50px;font-size:clamp(16px,1.5vw,18px);line-height:24px;color:#fff}.content-container[_ngcontent-%COMP%]{background:#e8f0fb;border-radius:5px;padding:20px;position:relative}.title[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:700;font-size:20px;line-height:150%;color:#000;margin-bottom:20px}.description[_ngcontent-%COMP%]{height:39px;font-family:Roboto;font-style:normal;font-weight:400;font-size:clamp(14px,1.2vw,16px);line-height:19px;color:#000}.access-code-input[_ngcontent-%COMP%]{width:100%}input[type=password][_ngcontent-%COMP%]{text-align:center;font-size:62px}input[type=password][_ngcontent-%COMP%]::-webkit-text-security{font-size:66px}.popup-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;padding:20px}.error-message[_ngcontent-%COMP%]{color:red;font-size:clamp(11px,1.2vw,14px);text-align:center;margin-top:8px}@media (max-width: 480px){.popup-container[_ngcontent-%COMP%]{padding:10px}.setup-title[_ngcontent-%COMP%]{font-size:clamp(11px,1.2vw,14px);height:40px}.title[_ngcontent-%COMP%]{font-size:clamp(16px,1.5vw,18px);margin-bottom:10px}.description[_ngcontent-%COMP%]{width:100%;font-size:clamp(11px,1.2vw,14px);line-height:17px}input[type=password][_ngcontent-%COMP%]{font-size:46px}input[type=password][_ngcontent-%COMP%]::-webkit-text-security{font-size:50px}}"]}),n})(),nq=(()=>{class n{constructor(t){this.db=t}createSubscription(t){return this.db.collection("newsletter-subscriptions").doc(t.email).set(t)}getSubscriptionByEmail(t){return this.db.collection("newsletter-subscriptions").doc(t).valueChanges().pipe((0,Et.U)(r=>r||null))}addBoardSubscription(t,r){return this.db.collection("newsletter-subscriptions").doc(t).update({boardSubscriptions:LP.Z.firestore.FieldValue.arrayUnion(r)})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(dy))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rq=["tooltip"],cH="tooltip-panel",uH=ro({passive:!0}),dH=new s.OlP("mat-tooltip-scroll-strategy"),aq={provide:dH,deps:[Vn],useFactory:function oq(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},lq=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function cq(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let uq=(()=>{class n{constructor(t,r,i,a,d,m,E,I,F,W,ce,me){this._overlay=t,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=a,this._ngZone=d,this._platform=m,this._ariaDescriber=E,this._focusMonitor=I,this._dir=W,this._defaultOptions=ce,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new bt.x,this._scrollStrategy=F,this._document=me,ce&&(ce.position&&(this.position=ce.position),ce.touchGestures&&(this.touchGestures=ce.touchGestures)),W.change.pipe(hi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=qi(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Nc(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Nc(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(hi(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{t.removeEventListener(r,i,uH)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const r=this._createOverlay();this._detach(),this._portal=this._portal||new jh(this._tooltipComponent,this._viewContainerRef);const i=this._tooltipInstance=r.attach(this._portal).instance;i._triggerElement=this._elementRef.nativeElement,i._mouseLeaveHideDelay=this._hideDelay,i.afterHidden().pipe(hi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),i.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return r.positionChanges.pipe(hi(this._destroyed)).subscribe(i=>{this._updateCurrentPositionClass(i.connectionPair),this._tooltipInstance&&i.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${cH}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(hi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(hi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(hi(this._destroyed)).subscribe(i=>{this._isTooltipVisible()&&27===i.keyCode&&!pC(i)&&(i.preventDefault(),i.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const r=t.getConfig().positionStrategy,i=this._getOrigin(),a=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...a.main}),this._addOffset({...i.fallback,...a.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={originX:"end",originY:"center"});const{x:a,y:d}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:a,originY:d}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={overlayX:"start",overlayY:"center"});const{x:a,y:d}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:a,overlayY:d}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ar(1),hi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:r}}_updateCurrentPositionClass(t){const{overlayY:r,originX:i,originY:a}=t;let d;if(d="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===a?"above":"below",d!==this._currentPosition){const m=this._overlayRef;if(m){const E=`${this._cssClassPrefix}-${cH}-`;m.removePanelClass(E+this._currentPosition),m.addPanelClass(E+d)}this._currentPosition=d}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",r],["touchcancel",r])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,uH)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const r=this._elementRef.nativeElement,i=r.style;("on"===t||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===t||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),dq=(()=>{class n extends uq{constructor(t,r,i,a,d,m,E,I,F,W,ce,me){super(t,r,i,a,d,m,E,I,F,W,ce,me),this._tooltipComponent=fq}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Vn),s.Y36(s.SBq),s.Y36(Mv),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(di),s.Y36(xx),s.Y36(p_),s.Y36(dH),s.Y36(Lc,8),s.Y36(lq,8),s.Y36(O))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),hq=(()=>{class n{constructor(t,r){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new bt.x,this._animationsDisabled="NoopAnimations"===r}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const r=this._tooltip.nativeElement,i=this._showAnimation,a=this._hideAnimation;if(r.classList.remove(t?a:i),r.classList.add(t?i:a),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const d=getComputedStyle(r);("0s"===d.getPropertyValue("animation-duration")||"none"===d.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.sBO),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n}),n})(),fq=(()=>{class n extends hq{constructor(t,r,i){super(t,i),this._breakpointObserver=r,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.sBO),s.Y36(ek),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,r){if(1&t&&s.Gf(rq,7),2&t){let i;s.iGM(i=s.CRH())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,r){1&t&&s.NdJ("mouseleave",function(a){return r._handleMouseLeave(a)}),2&t&&s.Udp("zoom",r.isVisible()?1:null)},features:[s.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(a){return r._handleAnimationEnd(a)}),s.ALo(2,"async"),s._uU(3),s.qZA()),2&t){let i;s.ekj("mat-tooltip-handset",null==(i=s.lcZ(2,4,r._isHandset))?null:i.matches),s.Q6J("ngClass",r.tooltipClass),s.xp6(3),s.Oqu(r.message)}},dependencies:[mn,nu],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),hH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[aq],imports:[[OO,yi,om,pr],pr,zh]}),n})();function pq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.openAccessPopup())}),s._uU(1," Request edit "),s.qZA()}}function mq(n,e){1&n&&s._UZ(0,"app-circle-loader",19)}function gq(n,e){}function _q(n,e){1&n&&(s.ynx(0),s.YNc(1,gq,0,0,"ng-template",23),s.BQk())}function yq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",24),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2);return s.KtG(i.addMonth())}),s.TgZ(1,"mat-icon"),s._uU(2,"add"),s.qZA()()}if(2&n){const t=s.oxw(2);s.Q6J("disabled",t.isAddMonthDisabled||t.loading||!t.isEditorMode)}}function vq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",20)(1,"app-carousel",21),s.NdJ("monthDeleted",function(i){s.CHM(t);const a=s.oxw();return s.KtG(a.onMonthDeleted(i))}),s.YNc(2,_q,2,0,"ng-container",15),s.qZA(),s.YNc(3,yq,3,1,"button",22),s.qZA()}if(2&n){const t=s.oxw();s.xp6(1),s.Q6J("months",t.months)("boardId",t.boardId)("isEditorMode",t.isEditorMode),s.xp6(1),s.Q6J("ngForOf",t.months),s.xp6(1),s.Q6J("ngIf",t.isEditorMode&&!t.isAddMonthDisabled)}}function bq(n,e){if(1&n){const t=s.EpF();s.ynx(0),s.TgZ(1,"div",25,26),s.NdJ("click",function(){const a=s.CHM(t).index,d=s.oxw();return s.KtG(d.selectMonth(a))}),s._UZ(3,"div",27)(4,"div",28),s.qZA(),s.BQk()}if(2&n){const t=e.$implicit;s.xp6(1),s.Q6J("matTooltip",t.name)}}function wq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",29)(1,"form",30),s.NdJ("ngSubmit",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.onNewsletterSubscribe())}),s._UZ(2,"input",31),s.TgZ(3,"button",32)(4,"span"),s._uU(5,"Subscribe"),s.qZA()()()()}if(2&n){const t=s.oxw();s.xp6(1),s.Q6J("formGroup",t.newsletterForm)}}function Eq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",33)(1,"app-custom-button",34),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.publishBoard())}),s.TgZ(2,"span"),s._uU(3,"Publish \u{1f680}"),s.qZA()()()}2&n&&(s.xp6(1),s.Q6J("width",200)("height",50)("disabled",!1))}let Cq=(()=>{class n{constructor(t,r,i,a,d,m,E,I){this.boardService=t,this.route=r,this.monthService=i,this.dialog=a,this.snackbarService=d,this.router=m,this.newsletterService=E,this.sprintService=I,this.board={},this.boardName="",this.boardId="",this.months=[],this.isEditorMode=!1,this.userHasEditorRights=!0,this.loading=!1,this.currentMonth=(new Date).getMonth(),this.isAddMonthDisabled=!1,this.subscriptions=new Qr.w0,this.newsletterForm=new Ju({email:new kc(null,[Ln.required,Ln.email])})}ngOnInit(){this.boardId=this.route.snapshot.paramMap.get("boardId")||"",this.boardId&&(this.fetchBoardData(),this.getBoard())}onMonthDeleted(t){this.months=this.months.filter(r=>r.id!==t),this.isAddMonthDisabled=this.months.length>=12}getBoard(){this.boardService.getBoard(this.boardId).subscribe(t=>{this.board=t})}ngOnDestroy(){this.subscriptions.unsubscribe()}fetchBoardData(){this.loading=!0,Gy([this.boardService.getBoard(this.boardId).pipe(Ri(),Oi(i=>(this.snackbarService.showError("Board not found."),this.router.navigate(["/"]),gt(null)))),this.monthService.getMonths(this.boardId).pipe(Ri(),Oi(i=>gt(null)))]).pipe(hl(()=>this.loading=!1)).subscribe(([i,a])=>{i&&(this.boardName=i.name||"",i.editorAccessOnCreation&&(this.isEditorMode=!0,this.boardService.updateBoard(this.boardId,{editorAccessOnCreation:!1}))),a&&(this.months=a.sort((d,m)=>nk.indexOf(d.name)-nk.indexOf(m.name)),this.isAddMonthDisabled=this.months.length>=12)})}toggleEditorView(){this.isEditorMode?this.isEditorMode=!1:this.openAccessPopup()}openAccessPopup(){this.userHasEditorRights?this.dialog.open(tq,{width:"390px",height:"542px",panelClass:"custom-popup"}).afterClosed().subscribe(r=>{r&&((0,SE.sha256)(r)===this.board.code?(this.isEditorMode=!0,this.snackbarService.showSuccess("Access granted. You are now in editor mode.")):this.snackbarService.showError("Invalid code. Please try again."))}):this.snackbarService.showError("You do not have editor rights for this board.")}addMonth(){this.isAddMonthDisabled||this.monthService.createMonth(this.boardId,{boardId:this.boardId,name:nk[this.months.length]}).then(()=>{this.fetchBoardData(),this.carouselComponent?.showLastCreatedMonth()}).catch(i=>{console.error(i)})}selectMonth(t){this.carouselComponent&&this.carouselComponent.scrollToMonth(t)}onNewsletterSubscribe(){if(this.newsletterForm.valid){const t=this.newsletterForm.value.email;this.newsletterService.getSubscriptionByEmail(t).pipe(Ar(1)).subscribe(r=>{if(null===r){const i={email:t,boardSubscriptions:[{boardId:this.boardId,subscriptionDate:new Date}]};this.newsletterService.createSubscription(i).then(()=>{this.snackbarService.showSuccess(`Thank you! ${t} will receive updates about changes to this roadmap.`)}).catch(a=>{this.snackbarService.showError("An error occurred while creating the subscription")})}else if(r.boardSubscriptions.find(i=>i.boardId===this.boardId))this.snackbarService.showError(`The email ${t} is already subscribed to updates for this roadmap.`);else{const i={boardId:this.boardId,subscriptionDate:new Date};this.newsletterService.addBoardSubscription(t,i).then(()=>{this.snackbarService.showSuccess(`Thank you! ${t} will receive updates about changes to this roadmap.`)}).catch(a=>{this.snackbarService.showError("An error occurred while adding the board subscription")})}},r=>{this.snackbarService.showError("An error occurred while checking the subscription")})}else this.snackbarService.showError("Please enter a valid email")}publishBoard(){this.router.navigate(["/publish",this.boardId])}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(dB),s.Y36(Jr),s.Y36(UP),s.Y36(Al),s.Y36(ew),s.Y36(Rn),s.Y36(nq),s.Y36(jb))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-board"]],viewQuery:function(t,r){if(1&t&&s.Gf(lH,5),2&t){let i;s.iGM(i=s.CRH())&&(r.carouselComponent=i.first)}},decls:23,vars:6,consts:[[1,"board"],[1,"container"],[1,"content-header"],[1,"title"],[1,"title-line"],["mat-icon-button","","class","editor-view-button",3,"click",4,"ngIf"],[1,"container-lines"],[1,"lines"],[1,"line-1"],[1,"line"],[1,"line-text"],[1,"line-2"],["class","loading",4,"ngIf"],["class","content-body",4,"ngIf"],[1,"timeline-container"],[4,"ngFor","ngForOf"],["class","newsletter-container",4,"ngIf"],["class","publish-button-container",4,"ngIf"],["mat-icon-button","",1,"editor-view-button",3,"click"],[1,"loading"],[1,"content-body"],[3,"months","boardId","isEditorMode","monthDeleted"],["mat-icon-button","","class","add-button",3,"disabled","click",4,"ngIf"],["carouselItem",""],["mat-icon-button","",1,"add-button",3,"disabled","click"],[1,"month-point-container",3,"matTooltip","click"],["monthPoint",""],[1,"month-point"],[1,"shadow-circle"],[1,"newsletter-container"],[3,"formGroup","ngSubmit"],["formControlName","email","type","email","placeholder","Enter your email to be alerted about changes",1,"newsletter-input"],["type","submit",1,"newsletter-button"],[1,"publish-button-container"],["buttonType","submit",3,"width","height","disabled","click"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),s._uU(4," User facing Roadmap of Release "),s._UZ(5,"div",4),s.qZA(),s.YNc(6,pq,2,0,"button",5),s.TgZ(7,"div",6)(8,"div",7)(9,"div",8),s._UZ(10,"div",9),s.TgZ(11,"span",10),s._uU(12,"Must be delivered during sprint"),s.qZA()(),s.TgZ(13,"div",11),s._UZ(14,"div",9),s.TgZ(15,"span",10),s._uU(16,"Nice to be delivered during sprint"),s.qZA()()()()(),s.YNc(17,mq,1,0,"app-circle-loader",12),s.YNc(18,vq,4,5,"div",13),s.TgZ(19,"div",14),s.YNc(20,bq,5,1,"ng-container",15),s.qZA(),s.YNc(21,wq,6,1,"div",16),s.YNc(22,Eq,4,3,"div",17),s.qZA()()),2&t&&(s.xp6(6),s.Q6J("ngIf",!r.isEditorMode&&r.userHasEditorRights),s.xp6(11),s.Q6J("ngIf",r.loading),s.xp6(1),s.Q6J("ngIf",!r.loading),s.xp6(2),s.Q6J("ngForOf",r.months),s.xp6(1),s.Q6J("ngIf",!r.isEditorMode),s.xp6(1),s.Q6J("ngIf",r.isEditorMode))},dependencies:[gn,Nn,td,Mc,Rh,Op,to,nd,UI,vf,$m,jm,lH,dq],styles:['.board[_ngcontent-%COMP%]{min-height:100vh;background-color:#2f80ed1a}.loading[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{padding:1.5rem 2.5rem}.content-header[_ngcontent-%COMP%]{display:flex;text-align:center;margin-top:58px;color:#373f41}.content-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:600;font-size:clamp(32px,2.15vw,40px);line-height:44px;color:#373f41}.content-body[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:50px}.add-button[_ngcontent-%COMP%]{position:relative;top:-8px;right:62px}.add-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4388dd}.title-line[_ngcontent-%COMP%]{width:539.02px;height:5px;margin-top:10px;background:linear-gradient(270deg,#ff4581 -.22%,#4388dd 99.78%)}.editor-view-button[_ngcontent-%COMP%]{width:101px;height:35px;background:#ecf3fc;border:1px solid #ff4581;box-shadow:0 4px 180px #00000040;border-radius:6px;font-family:Inter,sans-serif;font-style:normal;font-weight:600;font-size:clamp(11px,1.2vw,14px);line-height:44px;display:flex;align-items:center;justify-content:center;color:#ff4581;text-transform:none;margin-left:20px}.container-lines[_ngcontent-%COMP%]{display:flex;width:50%;justify-content:flex-end}.lines[_ngcontent-%COMP%]{margin-left:1rem;opacity:.5}.lines[_ngcontent-%COMP%]   .line-1[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .line-2[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.lines[_ngcontent-%COMP%]   .line-1[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .line-2[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:2px;height:18px;opacity:.5}.lines[_ngcontent-%COMP%]   .line-1[_ngcontent-%COMP%]   .line-text[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .line-2[_ngcontent-%COMP%]   .line-text[_ngcontent-%COMP%]{margin-left:10px}.lines[_ngcontent-%COMP%]   .line-1[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{border-left:3px solid #ff4581}.lines[_ngcontent-%COMP%]   .line-2[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{border-left:3px dashed #ff4581}.month-point-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;cursor:pointer}.month-point[_ngcontent-%COMP%]{height:16px;width:16px;border-radius:50%;background-color:#ff4581;z-index:1;transition:background-color .3s}.shadow-circle[_ngcontent-%COMP%]{position:absolute;height:32px;width:32px;border-radius:50%;background-color:#ff45811a;z-index:0}.publish-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:space-between;margin-top:4rem;height:50px;width:100%}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:8px;background:rgba(47,128,237,.1);z-index:0}.newsletter-container[_ngcontent-%COMP%]{text-align:center;display:flex;justify-content:center;align-items:center;width:-moz-fit-content;width:fit-content;padding:.25rem .5rem;background:#ecf3fc;border:1px solid #4388dd;box-shadow:0 4px 180px #00000040;border-radius:6px;margin:auto;margin-top:2rem}form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:-moz-fit-content;width:fit-content}form[_ngcontent-%COMP%]   .newsletter-input[_ngcontent-%COMP%]{padding:8px;font-family:Inter;font-style:normal;font-weight:200;font-size:17px;line-height:21px;width:370px;color:#415162;box-sizing:border-box;border:none;background:none;outline:transparent}form[_ngcontent-%COMP%]   .newsletter-button[_ngcontent-%COMP%]{margin-left:.5rem;box-sizing:border-box;background:#4388dd!important;border:1px solid #d2e1f5;border-radius:3px;width:102px;height:29px;font-family:Inter;font-style:normal;font-weight:500;font-size:17px;line-height:21px;color:#fff;transition:all .3s ease-in-out}form[_ngcontent-%COMP%]   .newsletter-button[_ngcontent-%COMP%]:hover{background-color:#3673ac!important;cursor:pointer;transform:scale(1.05)}form[_ngcontent-%COMP%]   .newsletter-button[_ngcontent-%COMP%]:active{transform:scale(.95)}']}),n})();const Sq=["boardLink"];function Iq(n,e){1&n&&s._UZ(0,"app-circle-loader",2)}function Dq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",3)(1,"h1",4),s._uU(2,"Awesome! You're ready to go \u{1f680}"),s.qZA(),s.TgZ(3,"p",5),s._uU(4,"You can share your delivery roadmap with your stakeholders"),s.qZA(),s.TgZ(5,"a",6,7),s._uU(7),s.qZA(),s.TgZ(8,"app-custom-button",8),s.NdJ("click",function(){s.CHM(t);const i=s.MAs(6),a=s.oxw();return s.KtG(a.copyLink(i))}),s._uU(9,"Copy link"),s.qZA()()}if(2&n){const t=s.oxw();s.xp6(5),s.Q6J("href",t.boardUrl,s.LSH),s.xp6(2),s.Oqu(t.boardUrl),s.xp6(1),s.Q6J("width",277)("height",44)}}const Tq=[{path:"",component:v5},{path:"board/:boardId",component:Cq},{path:"publish/:boardId",component:(()=>{class n{constructor(t,r,i){this.route=t,this.router=r,this.snackbarService=i,this.loading=!1,this.boardId="",this.boardUrl=""}ngOnInit(){this.loading=!0,this.boardId=this.route.snapshot.paramMap.get("boardId")||"",this.boardUrl=this.getBoardUrl(),this.loading=!1}getBoardUrl(){const t=this.router.createUrlTree(["/board",this.boardId]);return window.location.origin+"/#"+this.router.serializeUrl(t)}copyLink(t){navigator.clipboard.writeText(t.href).then(()=>{this.snackbarService.showSuccess("Link copied to clipboard")}).catch(i=>{this.snackbarService.showError("Failed to copy link to clipboard")})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Jr),s.Y36(Rn),s.Y36(ew))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-publish-roadmap"]],viewQuery:function(t,r){if(1&t&&s.Gf(Sq,5),2&t){let i;s.iGM(i=s.CRH())&&(r.boardLink=i.first)}},decls:2,vars:2,consts:[["class","loading",4,"ngIf"],["class","page",4,"ngIf"],[1,"loading"],[1,"page"],[1,"title"],[1,"paragraph"],[1,"link",3,"href"],["boardLink",""],[1,"button",3,"width","height","click"]],template:function(t,r){1&t&&(s.YNc(0,Iq,1,0,"app-circle-loader",0),s.YNc(1,Dq,10,4,"div",1)),2&t&&(s.Q6J("ngIf",r.loading),s.xp6(1),s.Q6J("ngIf",!r.loading))},dependencies:[Nn,UI,jm],styles:[".page[_ngcontent-%COMP%]{min-height:100vh;background-color:#2f80ed1a;display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative}.loading[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}.title[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-style:normal;font-weight:600;font-size:34px;line-height:41px;display:flex;align-items:flex-end;justify-content:center;color:#373f41}.paragraph[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-style:normal;font-weight:400;font-size:24px;line-height:28px;text-align:center;letter-spacing:.01em;color:#3a4650}.link[_ngcontent-%COMP%]{margin:5rem 0;font-family:IBM Plex Mono,monospace;font-style:normal;font-weight:700;font-size:24px;line-height:31px;text-align:center;letter-spacing:.01em;text-decoration-line:underline;color:#4285f4}.button[_ngcontent-%COMP%]{box-sizing:border-box;background:#ECF3FC;box-shadow:0 4px 180px #00000040;border-radius:6px;font-size:16px;font-weight:500;display:flex;justify-content:center;align-items:center;cursor:pointer}"]}),n})()}];let xq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Pp.forRoot(Tq),Pp]}),n})(),Aq=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"hexagon-container"],[1,"hexagon"],[1,"hexagon-2"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"div",1)(2,"div",2),s.qZA())},styles:[".hexagon-container[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:50%;overflow:hidden;z-index:-99}.hexagon[_ngcontent-%COMP%]{position:absolute;width:232.72px;height:201.58px;left:-16.12px;bottom:0;transform:matrix(0,1,1,0,0,0);clip-path:polygon(25% 0%,75% 0%,100% 50%,75% 100%,25% 100%,0% 50%);background:linear-gradient(49.11deg,rgba(67,136,221,.09) 12.62%,rgba(67,136,221,.084) 16.08%,rgba(67,136,221,.063) 29.29%,rgba(67,136,221,.045) 42.43%,rgba(67,136,221,.021) 55.37%,rgba(67,136,221,0) 67.87%)}.hexagon-2[_ngcontent-%COMP%]{position:absolute;width:232.72px;height:201.57px;left:-48px;bottom:0;transform:matrix(0,1,1,0,0,0);clip-path:polygon(25% 0%,75% 0%,100% 50%,75% 100%,25% 100%,0% 50%);background:linear-gradient(49.11deg,rgba(67,136,221,.09) 12.62%,rgba(67,136,221,.075) 16.07%,rgba(67,136,221,.045) 29.29%,rgba(67,136,221,.0405) 42.43%,rgba(67,136,221,.021) 55.37%,rgba(67,136,221,0) 67.87%)}"]}),n})(),Mq=(()=>{class n{constructor(){this.title="MVP Ror"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&s._UZ(0,"router-outlet")(1,"app-footer")},dependencies:[_,Aq]}),n})();const fH_firebaseConfig={apiKey:"AIzaSyCoFK8wf2T_Cjmq1HGd78wMkq1r1e6LumY",authDomain:"rorr-1124e.firebaseapp.com",projectId:"rorr-1124e",storageBucket:"rorr-1124e.appspot.com",messagingSenderId:"1023753832713",appId:"1:1023753832713:web:b5f7e7d0960d2477126bd8",measurementId:"G-0Q1J784GZB"};function pH(n){return new s.vHH(3e3,!1)}function h8(){return typeof window<"u"&&typeof window.document<"u"}function rk(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ef(n){switch(n.length){case 0:return new __;case 1:return n[0];default:return new bo(n)}}function mH(n,e,t,r,i=new Map,a=new Map){const d=[],m=[];let E=-1,I=null;if(r.forEach(F=>{const W=F.get("offset"),ce=W==E,me=ce&&I||new Map;F.forEach((Ce,Me)=>{let Ue=Me,rt=Ce;if("offset"!==Me)switch(Ue=e.normalizePropertyName(Ue,d),rt){case"!":rt=i.get(Me);break;case Tl:rt=a.get(Me);break;default:rt=e.normalizeStyleValue(Me,Ue,rt,d)}me.set(Ue,rt)}),ce||m.push(me),I=me,E=W}),d.length)throw function Jq(n){return new s.vHH(3502,!1)}();return m}function ik(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&sk(t,"start",n)));break;case"done":n.onDone(()=>r(t&&sk(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&sk(t,"destroy",n)))}}function sk(n,e,t){const a=ok(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),d=n._data;return null!=d&&(a._data=d),a}function ok(n,e,t,r,i="",a=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!d}}function Jo(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function gH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let ak=(n,e)=>!1,_H=(n,e,t)=>[],yH=null;function lk(n){const e=n.parentNode||n.host;return e===yH?null:e}(rk()||typeof Element<"u")&&(h8()?(yH=(()=>document.documentElement)(),ak=(n,e)=>{for(;e;){if(e===n)return!0;e=lk(e)}return!1}):ak=(n,e)=>n.contains(e),_H=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Wm=null,vH=!1;const bH=ak,wH=_H;let EH=(()=>{class n{validateStyleProperty(t){return function p8(n){Wm||(Wm=function m8(){return typeof document<"u"?document.body:null}()||{},vH=!!Wm.style&&"WebkitAppearance"in Wm.style);let e=!0;return Wm.style&&!function f8(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Wm.style,!e&&vH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Wm.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return bH(t,r)}getParentElement(t){return lk(t)}query(t,r,i){return wH(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,d,m=[],E){return new __(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ck=(()=>{class n{}return n.NOOP=new EH,n})();const uk="ng-enter",QI="ng-leave",XI="ng-trigger",JI=".ng-trigger",SH="ng-animating",dk=".ng-animating";function kd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:hk(parseFloat(e[1]),e[2])}function hk(n,e){return"s"===e?1e3*n:n}function eD(n,e,t){return n.hasOwnProperty("duration")?n:function y8(n,e,t){let i,a=0,d="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(pH()),{duration:0,delay:0,easing:""};i=hk(parseFloat(m[1]),m[2]);const E=m[3];null!=E&&(a=hk(parseFloat(E),m[4]));const I=m[5];I&&(d=I)}else i=n;if(!t){let m=!1,E=e.length;i<0&&(e.push(function Pq(){return new s.vHH(3100,!1)}()),m=!0),a<0&&(e.push(function kq(){return new s.vHH(3101,!1)}()),m=!0),m&&e.splice(E,0,pH())}return{duration:i,delay:a,easing:d}}(n,e,t)}function tw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function IH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Cf(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function TH(n,e,t){return t?e+":"+t+";":""}function xH(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=TH(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=TH(0,E8(t),n.style[t]));n.setAttribute("style",e)}function Qc(n,e,t){n.style&&(e.forEach((r,i)=>{const a=pk(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),rk()&&xH(n))}function Zm(n,e){n.style&&(e.forEach((t,r)=>{const i=pk(r);n.style[i]=""}),rk()&&xH(n))}function nw(n){return Array.isArray(n)?1==n.length?n[0]:zC(n):n}const fk=new RegExp("{{\\s*(.+?)\\s*}}","g");function AH(n){let e=[];if("string"==typeof n){let t;for(;t=fk.exec(n);)e.push(t[1]);fk.lastIndex=0}return e}function rw(n,e,t){const r=n.toString(),i=r.replace(fk,(a,d)=>{let m=e[d];return null==m&&(t.push(function Oq(n){return new s.vHH(3003,!1)}()),m=""),m.toString()});return i==r?n:i}function tD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const w8=/-+([a-z0-9])/g;function pk(n){return n.replace(w8,(...e)=>e[1].toUpperCase())}function E8(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ea(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Fq(n){return new s.vHH(3004,!1)}()}}function MH(n,e){return window.getComputedStyle(n)[e]}function x8(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function A8(n,e,t){if(":"==n[0]){const E=function M8(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Kq(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof E)return void e.push(E);n=E}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Zq(n){return new s.vHH(3015,!1)}()),e;const i=r[1],a=r[2],d=r[3];e.push(PH(i,d));"<"==a[0]&&!("*"==i&&"*"==d)&&e.push(PH(d,i))}(r,t,e)):t.push(n),t}const sD=new Set(["true","1"]),oD=new Set(["false","0"]);function PH(n,e){const t=sD.has(n)||oD.has(n),r=sD.has(e)||oD.has(e);return(i,a)=>{let d="*"==n||n==i,m="*"==e||e==a;return!d&&t&&"boolean"==typeof i&&(d=i?sD.has(n):oD.has(n)),!m&&r&&"boolean"==typeof a&&(m=a?sD.has(e):oD.has(e)),d&&m}}const P8=new RegExp("s*:selfs*,?","g");function mk(n,e,t,r){return new k8(n).build(e,t,r)}class k8{constructor(e){this._driver=e}build(e,t,r){const i=new F8(t);return this._resetContextStyleTimingState(i),ea(this,nw(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function Lq(){return new s.vHH(3006,!1)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const E=m,I=E.name;I.toString().split(/\s*,\s*/).forEach(F=>{E.name=F,a.push(this.visitState(E,t))}),E.name=I}else if(1==m.type){const E=this.visitTransition(m,t);r+=E.queryCount,i+=E.depCount,d.push(E)}else t.errors.push(function Vq(){return new s.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,d=i||{};r.styles.forEach(m=>{m instanceof Map&&m.forEach(E=>{AH(E).forEach(I=>{d.hasOwnProperty(I)||a.add(I)})})}),a.size&&(tD(a.values()),t.errors.push(function Bq(n,e){return new s.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ea(this,nw(e.animation),t);return{type:1,matchers:x8(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Km(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ea(this,r,t)),options:Km(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(d=>{t.currentTime=r;const m=ea(this,d,t);return i=Math.max(i,t.currentTime),m});return t.currentTime=i,{type:3,steps:a,options:Km(e.options)}}visitAnimate(e,t){const r=function L8(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return gk(eD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=gk(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=eD(t,e);return gk(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:jn({});if(5==a.type)i=this.visitKeyframes(a,t);else{let d=e.styles,m=!1;if(!d){m=!0;const I={};r.easing&&(I.easing=r.easing),d=jn(I)}t.currentTime+=r.duration+r.delay;const E=this.visitStyle(d,t);E.isEmptyStep=m,i=E}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let m of i)"string"==typeof m?m===Tl?r.push(m):t.errors.push(new s.vHH(3002,!1)):r.push(IH(m));let a=!1,d=null;return r.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(d=m.get("easing"),m.delete("easing")),!a))for(let E of m.values())if(E.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:d,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&d.forEach((m,E)=>{const I=t.collectedStyles.get(t.currentQuerySelector),F=I.get(E);let W=!0;F&&(a!=i&&a>=F.startTime&&i<=F.endTime&&(t.errors.push(function Uq(n,e,t,r,i){return new s.vHH(3010,!1)}()),W=!1),a=F.startTime),W&&I.set(E,{startTime:a,endTime:i}),t.options&&function b8(n,e,t){const r=e.params||{},i=AH(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function Rq(n){return new s.vHH(3001,!1)}())})}(m,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function zq(){return new s.vHH(3011,!1)}()),r;let a=0;const d=[];let m=!1,E=!1,I=0;const F=e.steps.map(rt=>{const vt=this._makeStyleAst(rt,t);let dt=null!=vt.offset?vt.offset:function N8(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(vt.styles),At=0;return null!=dt&&(a++,At=vt.offset=dt),E=E||At<0||At>1,m=m||At<I,I=At,d.push(At),vt});E&&t.errors.push(function jq(){return new s.vHH(3012,!1)}()),m&&t.errors.push(function Gq(){return new s.vHH(3200,!1)}());const W=e.steps.length;let ce=0;a>0&&a<W?t.errors.push(function $q(){return new s.vHH(3202,!1)}()):0==a&&(ce=1/(W-1));const me=W-1,Ce=t.currentTime,Me=t.currentAnimateTimings,Ue=Me.duration;return F.forEach((rt,vt)=>{const dt=ce>0?vt==me?1:ce*vt:d[vt],At=dt*Ue;t.currentTime=Ce+Me.delay+At,Me.duration=At,this._validateStyleAst(rt,t),rt.offset=dt,r.styles.push(rt)}),r}visitReference(e,t){return{type:8,animation:ea(this,nw(e.animation),t),options:Km(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Km(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Km(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,d]=function R8(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(P8,"")),n=n.replace(/@\*/g,JI).replace(/@\w+/g,t=>JI+"-"+t.slice(1)).replace(/:animating/g,dk),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Jo(t.collectedStyles,t.currentQuerySelector,new Map);const m=ea(this,nw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:m,originalSelector:e.selector,options:Km(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function qq(){return new s.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:eD(e.timings,t.errors,!0);return{type:12,animation:ea(this,nw(e.animation),t),timings:r,options:null}}}class F8{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Km(n){return n?(n=tw(n)).params&&(n.params=function O8(n){return n?tw(n):null}(n.params)):n={},n}function gk(n,e,t){return{duration:n,delay:e,easing:t}}function _k(n,e,t,r,i,a,d=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:d,subTimeline:m}}class aD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const H8=new RegExp(":enter","g"),z8=new RegExp(":leave","g");function yk(n,e,t,r,i,a=new Map,d=new Map,m,E,I=[]){return(new j8).buildKeyframes(n,e,t,r,i,a,d,m,E,I)}class j8{buildKeyframes(e,t,r,i,a,d,m,E,I,F=[]){I=I||new aD;const W=new vk(e,t,I,i,a,F,[]);W.options=E;const ce=E.delay?kd(E.delay):0;W.currentTimeline.delayNextStep(ce),W.currentTimeline.setStyles([d],null,W.errors,E),ea(this,r,W);const me=W.timelines.filter(Ce=>Ce.containsAnimation());if(me.length&&m.size){let Ce;for(let Me=me.length-1;Me>=0;Me--){const Ue=me[Me];if(Ue.element===t){Ce=Ue;break}}Ce&&!Ce.allowOnlyTimelineStyles()&&Ce.setStyles([m],null,W.errors,E)}return me.length?me.map(Ce=>Ce.buildKeyframes()):[_k(t,[],[],[],0,ce,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);a!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const d="number"==typeof a?a:kd(rw(a,i?.params??{},t.errors));r.delayNextStep(d)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const d=null!=r.duration?kd(r.duration):null,m=null!=r.delay?kd(r.delay):null;return 0!==d&&e.forEach(E=>{const I=t.appendInstructionToTimeline(E,d,m);a=Math.max(a,I.duration+I.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ea(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=lD);const d=kd(a.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>ea(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?kd(e.options.delay):0;e.steps.forEach(d=>{const m=t.createSubContext(e.options);a&&m.delayNextStep(a),ea(this,d,m),i=Math.max(i,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return eD(t.params?rw(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(E=>{m.forwardTime((E.offset||0)*a),m.setStyles(E.styles,E.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?kd(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=lD);let d=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=m.length;let E=null;m.forEach((I,F)=>{t.currentQueryIndex=F;const W=t.createSubContext(e.options,I);a&&W.delayNextStep(a),I===t.element&&(E=W.currentTimeline),ea(this,e.animation,W),W.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,W.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),E&&(t.currentTimeline.mergeTimelineCollectedStyles(E),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,d=Math.abs(a.duration),m=d*(t.currentQueryTotal-1);let E=d*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":E=m-E;break;case"full":E=r.currentStaggerTime}const F=t.currentTimeline;E&&F.delayNextStep(E);const W=F.currentTime;ea(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-W+(i.startTime-r.currentTimeline.startTime)}}const lD={};class vk{constructor(e,t,r,i,a,d,m,E){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=d,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new cD(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=kd(r.duration)),null!=r.delay&&(i.delay=kd(r.delay));const a=r.params;if(a){let d=i.params;d||(d=this.options.params={}),Object.keys(a).forEach(m=>{(!t||!d.hasOwnProperty(m))&&(d[m]=rw(a[m],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new vk(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=lD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new G8(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,d){let m=[];if(i&&m.push(this.element),e.length>0){e=(e=e.replace(H8,"."+this._enterClassName)).replace(z8,"."+this._leaveClassName);let I=this._driver.query(this.element,e,1!=r);0!==r&&(I=r<0?I.slice(I.length+r,I.length):I.slice(0,r)),m.push(...I)}return!a&&0==m.length&&d.push(function Wq(n){return new s.vHH(3014,!1)}()),m}}class cD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new cD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Tl),this._currentKeyframe.set(t,Tl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},d=function $8(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,Tl)}else Cf(i,t)}),t}(e,this._globalTimelineStyles);for(let[m,E]of d){const I=rw(E,a,r);this._pendingStyles.set(m,I),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??Tl),this._updateStyle(m,I)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((m,E)=>{const I=Cf(m,new Map,this._backFill);I.forEach((F,W)=>{"!"===F?e.add(W):F===Tl&&t.add(W)}),r||I.set("offset",E/this.duration),i.push(I)});const a=e.size?tD(e.values()):[],d=t.size?tD(t.values()):[];if(r){const m=i[0],E=new Map(m);m.set("offset",0),E.set("offset",1),i=[m,E]}return _k(this.element,i,a,d,this.duration,this.startTime,this.easing,!1)}}class G8 extends cD{constructor(e,t,r,i,a,d,m=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=m,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],d=r+t,m=t/d,E=Cf(e[0]);E.set("offset",0),a.push(E);const I=Cf(e[0]);I.set("offset",OH(m)),a.push(I);const F=e.length-1;for(let W=1;W<=F;W++){let ce=Cf(e[W]);const me=ce.get("offset");ce.set("offset",OH((t+me*r)/d)),a.push(ce)}r=d,t=0,i="",e=a}return _k(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function OH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class bk{}const q8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class W8 extends bk{normalizePropertyName(e,t){return pk(e)}normalizeStyleValue(e,t,r,i){let a="";const d=r.toString().trim();if(q8.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&i.push(function Nq(n,e){return new s.vHH(3005,!1)}())}return d+a}}function FH(n,e,t,r,i,a,d,m,E,I,F,W,ce){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:d,timelines:m,queriedElements:E,preStyleProps:I,postStyleProps:F,totalTime:W,errors:ce}}const wk={};class NH{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Z8(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,d,m,E,I,F){const W=[],ce=this.ast.options&&this.ast.options.params||wk,Ce=this.buildStyles(r,m&&m.params||wk,W),Me=E&&E.params||wk,Ue=this.buildStyles(i,Me,W),rt=new Set,vt=new Map,dt=new Map,At="void"===i,en={params:K8(Me,ce),delay:this.ast.options?.delay},rn=F?[]:yk(e,t,this.ast.animation,a,d,Ce,Ue,en,I,W);let Hn=0;if(rn.forEach(Rd=>{Hn=Math.max(Rd.duration+Rd.delay,Hn)}),W.length)return FH(t,this._triggerName,r,i,At,Ce,Ue,[],[],vt,dt,Hn,W);rn.forEach(Rd=>{const Od=Rd.element,e3=Jo(vt,Od,new Set);Rd.preStyleProps.forEach(Ym=>e3.add(Ym));const sw=Jo(dt,Od,new Set);Rd.postStyleProps.forEach(Ym=>sw.add(Ym)),Od!==t&&rt.add(Od)});const Qi=tD(rt.values());return FH(t,this._triggerName,r,i,At,Ce,Ue,rn,Qi,vt,dt,Hn)}}function K8(n,e){const t=tw(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Y8{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=tw(this.defaultParams);return Object.keys(e).forEach(a=>{const d=e[a];null!==d&&(i[a]=d)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((d,m)=>{d&&(d=rw(d,i,t));const E=this.normalizer.normalizePropertyName(m,t);d=this.normalizer.normalizeStyleValue(m,E,d,t),r.set(E,d)})}),r}}class X8{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Y8(i.style,i.options&&i.options.params||{},r))}),LH(this.states,"true","1"),LH(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new NH(e,i,this.states))}),this.fallbackTransition=function J8(n,e,t){return new NH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function LH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const e9=new aD;class t9{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=mk(this._driver,t,r,[]);if(r.length)throw function e8(n){return new s.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=mH(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let d;const m=new Map;if(a?(d=yk(this._driver,t,a,uk,QI,new Map,new Map,r,e9,i),d.forEach(F=>{const W=Jo(m,F.element,new Map);F.postStyleProps.forEach(ce=>W.set(ce,null))})):(i.push(function t8(){return new s.vHH(3300,!1)}()),d=[]),i.length)throw function n8(n){return new s.vHH(3504,!1)}();m.forEach((F,W)=>{F.forEach((ce,me)=>{F.set(me,this._driver.computeStyle(W,me,Tl))})});const I=Ef(d.map(F=>{const W=m.get(F.element);return this._buildPlayer(F,new Map,W)}));return this._playersById.set(e,I),I.onDestroy(()=>this.destroy(e)),this.players.push(I),I}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function r8(n){return new s.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=ok(t,"","","");return ik(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const VH="ng-animate-queued",Ek="ng-animate-disabled",o9=[],BH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},a9={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ua="__ng_removed";class Ck{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function d9(n){return n??null}(r?e.value:e),r){const a=tw(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const iw="void",Sk=new Ck(iw);class l9{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,za(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function s8(n,e){return new s.vHH(3302,!1)}();if(null==r||0==r.length)throw function o8(n){return new s.vHH(3303,!1)}();if(!function h9(n){return"start"==n||"done"==n}(r))throw function a8(n,e){return new s.vHH(3400,!1)}();const a=Jo(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};a.push(d);const m=Jo(this._engine.statesByElement,e,new Map);return m.has(t)||(za(e,XI),za(e,XI+"-"+t),m.set(t,Sk)),()=>{this._engine.afterFlush(()=>{const E=a.indexOf(d);E>=0&&a.splice(E,1),this._triggers.has(t)||m.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function l8(n){return new s.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),d=new Ik(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(za(e,XI),za(e,XI+"-"+t),this._engine.statesByElement.set(e,m=new Map));let E=m.get(t);const I=new Ck(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&E&&I.absorbOptions(E.options),m.set(t,I),E||(E=Sk),I.value!==iw&&E.value===I.value){if(!function m9(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(E.params,I.params)){const Me=[],Ue=a.matchStyles(E.value,E.params,Me),rt=a.matchStyles(I.value,I.params,Me);Me.length?this._engine.reportError(Me):this._engine.afterFlush(()=>{Zm(e,Ue),Qc(e,rt)})}return}const ce=Jo(this._engine.playersByElement,e,[]);ce.forEach(Me=>{Me.namespaceId==this.id&&Me.triggerName==t&&Me.queued&&Me.destroy()});let me=a.matchTransition(E.value,I.value,e,I.params),Ce=!1;if(!me){if(!i)return;me=a.fallbackTransition,Ce=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:me,fromState:E,toState:I,player:d,isFallbackTransition:Ce}),Ce||(za(e,VH),d.onStart(()=>{gy(e,VH)})),d.onDone(()=>{let Me=this.players.indexOf(d);Me>=0&&this.players.splice(Me,1);const Ue=this._engine.playersByElement.get(e);if(Ue){let rt=Ue.indexOf(d);rt>=0&&Ue.splice(rt,1)}}),this.players.push(d),ce.push(d),d}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,JI,!0);r.forEach(i=>{if(i[Ua])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),d=new Map;if(a){const m=[];if(a.forEach((E,I)=>{if(d.set(I,E.value),this._triggers.has(I)){const F=this.trigger(e,I,iw,i);F&&m.push(F)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&Ef(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const d=a.name;if(i.has(d))return;i.add(d);const E=this._triggers.get(d).fallbackTransition,I=r.get(d)||Sk,F=new Ck(iw),W=new Ik(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:E,fromState:I,toState:F,player:W,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ua];(!a||a===BH)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){za(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,d=this._elementListeners.get(a);d&&d.forEach(m=>{if(m.name==r.triggerName){const E=ok(a,r.triggerName,r.fromState.value,r.toState.value);E._data=e,ik(r.player,m.phase,E,m.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==a||0==d?a-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class c9{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new l9(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let d=!1,m=this.driver.getParentElement(t);for(;m;){const E=i.get(m);if(E){const I=r.indexOf(E);r.splice(I+1,0,e),d=!0;break}m=this.driver.getParentElement(m)}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(uD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!uD(t))return;const a=t[Ua];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),za(e,Ek)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),gy(e,Ek))}removeNode(e,t,r,i){if(uD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Ua]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return uD(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,JI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,dk,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ef(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ua];if(t&&t.setForRemoval){if(e[Ua]=BH,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Ek)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)za(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ef(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function c8(n){return new s.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new aD,i=[],a=new Map,d=[],m=new Map,E=new Map,I=new Map,F=new Set;this.disabledNodes.forEach(Pt=>{F.add(Pt);const Wt=this.driver.query(Pt,".ng-animate-queued",!0);for(let Qt=0;Qt<Wt.length;Qt++)F.add(Wt[Qt])});const W=this.bodyNode,ce=Array.from(this.statesByElement.keys()),me=zH(ce,this.collectedEnterElements),Ce=new Map;let Me=0;me.forEach((Pt,Wt)=>{const Qt=uk+Me++;Ce.set(Wt,Qt),Pt.forEach(On=>za(On,Qt))});const Ue=[],rt=new Set,vt=new Set;for(let Pt=0;Pt<this.collectedLeaveElements.length;Pt++){const Wt=this.collectedLeaveElements[Pt],Qt=Wt[Ua];Qt&&Qt.setForRemoval&&(Ue.push(Wt),rt.add(Wt),Qt.hasAnimation?this.driver.query(Wt,".ng-star-inserted",!0).forEach(On=>rt.add(On)):vt.add(Wt))}const dt=new Map,At=zH(ce,Array.from(rt));At.forEach((Pt,Wt)=>{const Qt=QI+Me++;dt.set(Wt,Qt),Pt.forEach(On=>za(On,Qt))}),e.push(()=>{me.forEach((Pt,Wt)=>{const Qt=Ce.get(Wt);Pt.forEach(On=>gy(On,Qt))}),At.forEach((Pt,Wt)=>{const Qt=dt.get(Wt);Pt.forEach(On=>gy(On,Qt))}),Ue.forEach(Pt=>{this.processLeaveNode(Pt)})});const en=[],rn=[];for(let Pt=this._namespaceList.length-1;Pt>=0;Pt--)this._namespaceList[Pt].drainQueuedTransitions(t).forEach(Qt=>{const On=Qt.player,Xi=Qt.element;if(en.push(On),this.collectedEnterElements.length){const Bs=Xi[Ua];if(Bs&&Bs.setForMove){if(Bs.previousTriggersValues&&Bs.previousTriggersValues.has(Qt.triggerName)){const Qm=Bs.previousTriggersValues.get(Qt.triggerName),ja=this.statesByElement.get(Qt.element);if(ja&&ja.has(Qt.triggerName)){const fD=ja.get(Qt.triggerName);fD.value=Qm,ja.set(Qt.triggerName,fD)}}return void On.destroy()}}const Xc=!W||!this.driver.containsElement(W,Xi),ta=dt.get(Xi),Sf=Ce.get(Xi),Ur=this._buildInstruction(Qt,r,Sf,ta,Xc);if(Ur.errors&&Ur.errors.length)return void rn.push(Ur);if(Xc)return On.onStart(()=>Zm(Xi,Ur.fromStyles)),On.onDestroy(()=>Qc(Xi,Ur.toStyles)),void i.push(On);if(Qt.isFallbackTransition)return On.onStart(()=>Zm(Xi,Ur.fromStyles)),On.onDestroy(()=>Qc(Xi,Ur.toStyles)),void i.push(On);const r3=[];Ur.timelines.forEach(Bs=>{Bs.stretchStartingKeyframe=!0,this.disabledNodes.has(Bs.element)||r3.push(Bs)}),Ur.timelines=r3,r.append(Xi,Ur.timelines),d.push({instruction:Ur,player:On,element:Xi}),Ur.queriedElements.forEach(Bs=>Jo(m,Bs,[]).push(On)),Ur.preStyleProps.forEach((Bs,Qm)=>{if(Bs.size){let ja=E.get(Qm);ja||E.set(Qm,ja=new Set),Bs.forEach((fD,Ak)=>ja.add(Ak))}}),Ur.postStyleProps.forEach((Bs,Qm)=>{let ja=I.get(Qm);ja||I.set(Qm,ja=new Set),Bs.forEach((fD,Ak)=>ja.add(Ak))})});if(rn.length){const Pt=[];rn.forEach(Wt=>{Pt.push(function u8(n,e){return new s.vHH(3505,!1)}())}),en.forEach(Wt=>Wt.destroy()),this.reportError(Pt)}const Hn=new Map,Qi=new Map;d.forEach(Pt=>{const Wt=Pt.element;r.has(Wt)&&(Qi.set(Wt,Wt),this._beforeAnimationBuild(Pt.player.namespaceId,Pt.instruction,Hn))}),i.forEach(Pt=>{const Wt=Pt.element;this._getPreviousPlayers(Wt,!1,Pt.namespaceId,Pt.triggerName,null).forEach(On=>{Jo(Hn,Wt,[]).push(On),On.destroy()})});const Rd=Ue.filter(Pt=>GH(Pt,E,I)),Od=new Map;UH(Od,this.driver,vt,I,Tl).forEach(Pt=>{GH(Pt,E,I)&&Rd.push(Pt)});const sw=new Map;me.forEach((Pt,Wt)=>{UH(sw,this.driver,new Set(Pt),E,"!")}),Rd.forEach(Pt=>{const Wt=Od.get(Pt),Qt=sw.get(Pt);Od.set(Pt,new Map([...Array.from(Wt?.entries()??[]),...Array.from(Qt?.entries()??[])]))});const Ym=[],t3=[],n3={};d.forEach(Pt=>{const{element:Wt,player:Qt,instruction:On}=Pt;if(r.has(Wt)){if(F.has(Wt))return Qt.onDestroy(()=>Qc(Wt,On.toStyles)),Qt.disabled=!0,Qt.overrideTotalTime(On.totalTime),void i.push(Qt);let Xi=n3;if(Qi.size>1){let ta=Wt;const Sf=[];for(;ta=ta.parentNode;){const Ur=Qi.get(ta);if(Ur){Xi=Ur;break}Sf.push(ta)}Sf.forEach(Ur=>Qi.set(Ur,Xi))}const Xc=this._buildAnimation(Qt.namespaceId,On,Hn,a,sw,Od);if(Qt.setRealPlayer(Xc),Xi===n3)Ym.push(Qt);else{const ta=this.playersByElement.get(Xi);ta&&ta.length&&(Qt.parentPlayer=Ef(ta)),i.push(Qt)}}else Zm(Wt,On.fromStyles),Qt.onDestroy(()=>Qc(Wt,On.toStyles)),t3.push(Qt),F.has(Wt)&&i.push(Qt)}),t3.forEach(Pt=>{const Wt=a.get(Pt.element);if(Wt&&Wt.length){const Qt=Ef(Wt);Pt.setRealPlayer(Qt)}}),i.forEach(Pt=>{Pt.parentPlayer?Pt.syncPlayerEvents(Pt.parentPlayer):Pt.destroy()});for(let Pt=0;Pt<Ue.length;Pt++){const Wt=Ue[Pt],Qt=Wt[Ua];if(gy(Wt,QI),Qt&&Qt.hasAnimation)continue;let On=[];if(m.size){let Xc=m.get(Wt);Xc&&Xc.length&&On.push(...Xc);let ta=this.driver.query(Wt,dk,!0);for(let Sf=0;Sf<ta.length;Sf++){let Ur=m.get(ta[Sf]);Ur&&Ur.length&&On.push(...Ur)}}const Xi=On.filter(Xc=>!Xc.destroyed);Xi.length?f9(this,Wt,Xi):this.processLeaveNode(Wt)}return Ue.length=0,Ym.forEach(Pt=>{this.players.push(Pt),Pt.onDone(()=>{Pt.destroy();const Wt=this.players.indexOf(Pt);this.players.splice(Wt,1)}),Pt.play()}),Ym}elementContainsData(e,t){let r=!1;const i=t[Ua];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let d=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(d=m)}else{const m=this.playersByElement.get(e);if(m){const E=!a||a==iw;m.forEach(I=>{I.queued||!E&&I.triggerName!=i||d.push(I)})}}return(r||i)&&(d=d.filter(m=>!(r&&r!=m.namespaceId||i&&i!=m.triggerName))),d}_beforeAnimationBuild(e,t,r){const a=t.element,d=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const E of t.timelines){const I=E.element,F=I!==a,W=Jo(r,I,[]);this._getPreviousPlayers(I,F,d,m,t.toState).forEach(me=>{const Ce=me.getRealPlayer();Ce.beforeDestroy&&Ce.beforeDestroy(),me.destroy(),W.push(me)})}Zm(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,d){const m=t.triggerName,E=t.element,I=[],F=new Set,W=new Set,ce=t.timelines.map(Ce=>{const Me=Ce.element;F.add(Me);const Ue=Me[Ua];if(Ue&&Ue.removedBeforeQueried)return new __(Ce.duration,Ce.delay);const rt=Me!==E,vt=function p9(n){const e=[];return jH(n,e),e}((r.get(Me)||o9).map(Hn=>Hn.getRealPlayer())).filter(Hn=>!!Hn.element&&Hn.element===Me),dt=a.get(Me),At=d.get(Me),en=mH(0,this._normalizer,0,Ce.keyframes,dt,At),rn=this._buildPlayer(Ce,en,vt);if(Ce.subTimeline&&i&&W.add(Me),rt){const Hn=new Ik(e,m,Me);Hn.setRealPlayer(rn),I.push(Hn)}return rn});I.forEach(Ce=>{Jo(this.playersByQueriedElement,Ce.element,[]).push(Ce),Ce.onDone(()=>function u9(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Ce.element,Ce))}),F.forEach(Ce=>za(Ce,SH));const me=Ef(ce);return me.onDestroy(()=>{F.forEach(Ce=>gy(Ce,SH)),Qc(E,t.toStyles)}),W.forEach(Ce=>{Jo(i,Ce,[]).push(me)}),me}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new __(e.duration,e.delay)}}class Ik{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new __,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>ik(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Jo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function uD(n){return n&&1===n.nodeType}function HH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function UH(n,e,t,r,i){const a=[];t.forEach(E=>a.push(HH(E)));const d=[];r.forEach((E,I)=>{const F=new Map;E.forEach(W=>{const ce=e.computeStyle(I,W,i);F.set(W,ce),(!ce||0==ce.length)&&(I[Ua]=a9,d.push(I))}),n.set(I,F)});let m=0;return t.forEach(E=>HH(E,a[m++])),d}function zH(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const i=new Set(e),a=new Map;function d(m){if(!m)return 1;let E=a.get(m);if(E)return E;const I=m.parentNode;return E=t.has(I)?I:i.has(I)?1:d(I),a.set(m,E),E}return e.forEach(m=>{const E=d(m);1!==E&&t.get(E).push(m)}),t}function za(n,e){n.classList?.add(e)}function gy(n,e){n.classList?.remove(e)}function f9(n,e,t){Ef(t).onDone(()=>n.processLeaveNode(e))}function jH(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof bo?jH(r.players,e):e.push(r)}}function GH(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class dD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new c9(e,t,r),this._timelineEngine=new t9(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const d=e+"-"+i;let m=this._triggerCache[d];if(!m){const E=[],F=mk(this._driver,a,E,[]);if(E.length)throw function Xq(n,e){return new s.vHH(3404,!1)}();m=function Q8(n,e,t){return new X8(n,e,t)}(i,F,this._normalizer),this._triggerCache[d]=m}this._transitionEngine.registerTrigger(t,i,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,d]=gH(r);this._timelineEngine.command(a,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[d,m]=gH(r);return this._timelineEngine.listen(d,t,m,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _9=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Qc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qc(this._element,this._initialStyles),this._endStyles&&(Qc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Zm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zm(this._element,this._endStyles),this._endStyles=null),Qc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Dk(n){let e=null;return n.forEach((t,r)=>{(function y9(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class $H{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:MH(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class v9{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return bH(e,t)}getParentElement(e){return lk(e)}query(e,t,r){return wH(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,d=[]){const E={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(E.easing=a);const I=new Map,F=d.filter(me=>me instanceof $H);(function C8(n,e){return 0===n||0===e})(r,i)&&F.forEach(me=>{me.currentSnapshot.forEach((Ce,Me)=>I.set(Me,Ce))});let W=function v8(n){return n.length?n[0]instanceof Map?n:n.map(e=>IH(e)):[]}(t).map(me=>Cf(me));W=function S8(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,d)=>{r.has(d)||i.push(d),r.set(d,a)}),i.length)for(let a=1;a<e.length;a++){let d=e[a];i.forEach(m=>d.set(m,MH(n,m)))}}return e}(e,W,I);const ce=function g9(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Dk(e[0]),e.length>1&&(r=Dk(e[e.length-1]))):e instanceof Map&&(t=Dk(e)),t||r?new _9(n,t,r):null}(e,W);return new $H(e,W,E,ce)}}let b9=(()=>{class n extends u0{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?zC(t):t;return qH(this._renderer,null,r,"register",[i]),new w9(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class w9 extends class YO{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new E9(this._id,e,t||{},this._renderer)}}class E9{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return qH(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function qH(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const WH="@.disabled";let C9=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,d)=>{const m=d?.parentNode(a);m&&d.removeChild(m,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let F=this._rendererCache.get(a);return F||(F=new ZH("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,F)),F}const d=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const E=F=>{Array.isArray(F)?F.forEach(E):this.engine.registerTrigger(d,m,t,F.name,F)};return r.data.animation.forEach(E),new S9(this,m,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[d,m]=a;d(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(dD),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class ZH{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==WH?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class S9 extends ZH{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==WH?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function I9(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),d="";return"@"!=a.charAt(0)&&([a,d]=function D9(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,d,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let T9=(()=>{class n extends dD{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O),s.LFG(ck),s.LFG(bk),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const KH=[{provide:u0,useClass:b9},{provide:bk,useFactory:function x9(){return new W8}},{provide:dD,useClass:T9},{provide:s.FYo,useFactory:function A9(n,e,t){return new C9(n,e,t)},deps:[fa,dD,s.R0b]}],Tk=[{provide:ck,useFactory:()=>new v9},{provide:s.QbO,useValue:"BrowserAnimations"},...KH],YH=[{provide:ck,useClass:EH},{provide:s.QbO,useValue:"NoopAnimations"},...KH];let QH=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?YH:Tk}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Tk,imports:[sc]}),n})(),xk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[pr],pr]}),n})();const O9={provide:new s.OlP("mat-select-scroll-strategy"),deps:[Vn],useFactory:function R9(n){return()=>n.scrollStrategies.reposition()}};let F9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[O9],imports:[[yi,om,UC,pr],zh,hy,UC,pr]}),n})(),JH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[yi,pv,Lh,Pp,xk,fy,Kb,w0,hy,jP,EB,Jb,fy,Kb,Jb,F9,hH,yi,pv,Lh,Pp,xk,fy,Kb,w0,hy,jP,Jb,fy,Kb,Jb]}),n})(),N9=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[N9],imports:[yi]}),n})(),V9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ru],imports:[yi,JH,hH]}),n})(),B9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[Mq]}),n.\u0275inj=s.cJS({providers:[{provide:V,useClass:te}],imports:[sc,yi,Pp,xq,Na.hO.initializeApp(fH_firebaseConfig),p4,E4,QH,JH,L9,V9,EB,w0,Lh,hy,jP,fy,Kb,xk,Jb,sH,Lh,QH]}),n})();(0,s.G48)(),ic().bootstrapModule(B9).catch(n=>console.error(n))},1520:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(c){return"[object Array]"===Object.prototype.toString.call(c)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(c){return"object"==typeof c&&c.buffer&&c.buffer.constructor===ArrayBuffer});var createOutputMethod=function(c,h){return function(f){return new Sha256(h,!0).update(f)[c]()}},createMethod=function(c){var h=createOutputMethod("hex",c);NODE_JS&&(h=nodeWrap(h,c)),h.create=function(){return new Sha256(c)},h.update=function(v){return h.create().update(v)};for(var f=0;f<OUTPUT_TYPES.length;++f){var s=OUTPUT_TYPES[f];h[s]=createOutputMethod(s,c)}return h},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(c){if("string"==typeof c)return crypto.createHash(algorithm).update(c,"utf8").digest("hex");if(null==c)throw new Error(ERROR);return c.constructor===ArrayBuffer&&(c=new Uint8Array(c)),Array.isArray(c)||ArrayBuffer.isView(c)||c.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(c)).digest("hex"):method(c)};return nodeMethod},createHmacOutputMethod=function(c,h){return function(f,s){return new HmacSha256(f,h,!0).update(s)[c]()}},createHmacMethod=function(c){var h=createHmacOutputMethod("hex",c);h.create=function(v){return new HmacSha256(v,c)},h.update=function(v,y){return h.create(v).update(y)};for(var f=0;f<OUTPUT_TYPES.length;++f){var s=OUTPUT_TYPES[f];h[s]=createHmacOutputMethod(s,c)}return h};function Sha256(c,h){h?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=c}function HmacSha256(c,h,f){var s,v=typeof c;if("string"===v){var P,y=[],D=c.length,M=0;for(s=0;s<D;++s)(P=c.charCodeAt(s))<128?y[M++]=P:P<2048?(y[M++]=192|P>>6,y[M++]=128|63&P):P<55296||P>=57344?(y[M++]=224|P>>12,y[M++]=128|P>>6&63,y[M++]=128|63&P):(P=65536+((1023&P)<<10|1023&c.charCodeAt(++s)),y[M++]=240|P>>18,y[M++]=128|P>>12&63,y[M++]=128|P>>6&63,y[M++]=128|63&P);c=y}else{if("object"!==v)throw new Error(ERROR);if(null===c)throw new Error(ERROR);if(ARRAY_BUFFER&&c.constructor===ArrayBuffer)c=new Uint8Array(c);else if(!(Array.isArray(c)||ARRAY_BUFFER&&ArrayBuffer.isView(c)))throw new Error(ERROR)}c.length>64&&(c=new Sha256(h,!0).update(c).array());var O=[],j=[];for(s=0;s<64;++s){var Q=c[s]||0;O[s]=92^Q,j[s]=54^Q}Sha256.call(this,h,f),this.update(j),this.oKeyPad=O,this.inner=!0,this.sharedMemory=f}Sha256.prototype.update=function(c){if(!this.finalized){var h,f=typeof c;if("string"!==f){if("object"!==f)throw new Error(ERROR);if(null===c)throw new Error(ERROR);if(ARRAY_BUFFER&&c.constructor===ArrayBuffer)c=new Uint8Array(c);else if(!(Array.isArray(c)||ARRAY_BUFFER&&ArrayBuffer.isView(c)))throw new Error(ERROR);h=!0}for(var s,y,v=0,D=c.length,M=this.blocks;v<D;){if(this.hashed&&(this.hashed=!1,M[0]=this.block,M[16]=M[1]=M[2]=M[3]=M[4]=M[5]=M[6]=M[7]=M[8]=M[9]=M[10]=M[11]=M[12]=M[13]=M[14]=M[15]=0),h)for(y=this.start;v<D&&y<64;++v)M[y>>2]|=c[v]<<SHIFT[3&y++];else for(y=this.start;v<D&&y<64;++v)(s=c.charCodeAt(v))<128?M[y>>2]|=s<<SHIFT[3&y++]:s<2048?(M[y>>2]|=(192|s>>6)<<SHIFT[3&y++],M[y>>2]|=(128|63&s)<<SHIFT[3&y++]):s<55296||s>=57344?(M[y>>2]|=(224|s>>12)<<SHIFT[3&y++],M[y>>2]|=(128|s>>6&63)<<SHIFT[3&y++],M[y>>2]|=(128|63&s)<<SHIFT[3&y++]):(s=65536+((1023&s)<<10|1023&c.charCodeAt(++v)),M[y>>2]|=(240|s>>18)<<SHIFT[3&y++],M[y>>2]|=(128|s>>12&63)<<SHIFT[3&y++],M[y>>2]|=(128|s>>6&63)<<SHIFT[3&y++],M[y>>2]|=(128|63&s)<<SHIFT[3&y++]);this.lastByteIndex=y,this.bytes+=y-this.start,y>=64?(this.block=M[16],this.start=y-64,this.hash(),this.hashed=!0):this.start=y}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var c=this.blocks,h=this.lastByteIndex;c[16]=this.block,c[h>>2]|=EXTRA[3&h],this.block=c[16],h>=56&&(this.hashed||this.hash(),c[0]=this.block,c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),c[14]=this.hBytes<<3|this.bytes>>>29,c[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var O,H,ne,z,G,V,c=this.h0,h=this.h1,f=this.h2,s=this.h3,v=this.h4,y=this.h5,D=this.h6,M=this.h7,P=this.blocks;for(O=16;O<64;++O)P[O]=P[O-16]+(((H=P[O-15])>>>7|H<<25)^(H>>>18|H<<14)^H>>>3)+P[O-7]+(((H=P[O-2])>>>17|H<<15)^(H>>>19|H<<13)^H>>>10)<<0;for(V=h&f,O=0;O<64;O+=4)this.first?(this.is224?(ne=300032,M=(H=P[0]-1413257819)-150054599<<0,s=H+24177077<<0):(ne=704751109,M=(H=P[0]-210244248)-1521486534<<0,s=H+143694565<<0),this.first=!1):(M=s+(H=M+((v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&y^~v&D)+K[O]+P[O])<<0,s=H+(((c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10))+((ne=c&h)^c&f^V))<<0),D=f+(H=D+((M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(M&v^~M&y)+K[O+1]+P[O+1])<<0,f=H+(((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+((z=s&c)^s&h^ne))<<0,y=h+(H=y+((D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7))+(D&M^~D&v)+K[O+2]+P[O+2])<<0,h=H+(((f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10))+((G=f&s)^f&c^z))<<0,v=c+(H=v+((y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&D^~y&M)+K[O+3]+P[O+3])<<0,c=H+(((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+((V=h&f)^h&s^G))<<0;this.h0=this.h0+c<<0,this.h1=this.h1+h<<0,this.h2=this.h2+f<<0,this.h3=this.h3+s<<0,this.h4=this.h4+v<<0,this.h5=this.h5+y<<0,this.h6=this.h6+D<<0,this.h7=this.h7+M<<0},Sha256.prototype.hex=function(){this.finalize();var c=this.h0,h=this.h1,f=this.h2,s=this.h3,v=this.h4,y=this.h5,D=this.h6,M=this.h7,P=HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[15&c]+HEX_CHARS[h>>28&15]+HEX_CHARS[h>>24&15]+HEX_CHARS[h>>20&15]+HEX_CHARS[h>>16&15]+HEX_CHARS[h>>12&15]+HEX_CHARS[h>>8&15]+HEX_CHARS[h>>4&15]+HEX_CHARS[15&h]+HEX_CHARS[f>>28&15]+HEX_CHARS[f>>24&15]+HEX_CHARS[f>>20&15]+HEX_CHARS[f>>16&15]+HEX_CHARS[f>>12&15]+HEX_CHARS[f>>8&15]+HEX_CHARS[f>>4&15]+HEX_CHARS[15&f]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[v>>28&15]+HEX_CHARS[v>>24&15]+HEX_CHARS[v>>20&15]+HEX_CHARS[v>>16&15]+HEX_CHARS[v>>12&15]+HEX_CHARS[v>>8&15]+HEX_CHARS[v>>4&15]+HEX_CHARS[15&v]+HEX_CHARS[y>>28&15]+HEX_CHARS[y>>24&15]+HEX_CHARS[y>>20&15]+HEX_CHARS[y>>16&15]+HEX_CHARS[y>>12&15]+HEX_CHARS[y>>8&15]+HEX_CHARS[y>>4&15]+HEX_CHARS[15&y]+HEX_CHARS[D>>28&15]+HEX_CHARS[D>>24&15]+HEX_CHARS[D>>20&15]+HEX_CHARS[D>>16&15]+HEX_CHARS[D>>12&15]+HEX_CHARS[D>>8&15]+HEX_CHARS[D>>4&15]+HEX_CHARS[15&D];return this.is224||(P+=HEX_CHARS[M>>28&15]+HEX_CHARS[M>>24&15]+HEX_CHARS[M>>20&15]+HEX_CHARS[M>>16&15]+HEX_CHARS[M>>12&15]+HEX_CHARS[M>>8&15]+HEX_CHARS[M>>4&15]+HEX_CHARS[15&M]),P},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var c=this.h0,h=this.h1,f=this.h2,s=this.h3,v=this.h4,y=this.h5,D=this.h6,M=this.h7,P=[c>>24&255,c>>16&255,c>>8&255,255&c,h>>24&255,h>>16&255,h>>8&255,255&h,f>>24&255,f>>16&255,f>>8&255,255&f,s>>24&255,s>>16&255,s>>8&255,255&s,v>>24&255,v>>16&255,v>>8&255,255&v,y>>24&255,y>>16&255,y>>8&255,255&y,D>>24&255,D>>16&255,D>>8&255,255&D];return this.is224||P.push(M>>24&255,M>>16&255,M>>8&255,255&M),P},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var c=new ArrayBuffer(this.is224?28:32),h=new DataView(c);return h.setUint32(0,this.h0),h.setUint32(4,this.h1),h.setUint32(8,this.h2),h.setUint32(12,this.h3),h.setUint32(16,this.h4),h.setUint32(20,this.h5),h.setUint32(24,this.h6),this.is224||h.setUint32(28,this.h7),c},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var c=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(c),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},4487:function(module,exports,__webpack_require__){var h;typeof navigator<"u"&&(h=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(h){_useWebWorker=!!h},getWebWorker=function(){return _useWebWorker},setLocationHref=function(h){locationHref=h},getLocationHref=function(){return locationHref};function createTag(c){return document.createElement(c)}function extendPrototype(c,h){var f,v,s=c.length;for(f=0;f<s;f+=1)for(var y in v=c[f].prototype)Object.prototype.hasOwnProperty.call(v,y)&&(h.prototype[y]=v[y])}function getDescriptor(c,h){return Object.getOwnPropertyDescriptor(c,h)}function createProxyFunction(c){function h(){}return h.prototype=c,h}var audioControllerFactory=function(){function c(h){this.audios=[],this.audioFactory=h,this._volume=1,this._isMuted=!1}return c.prototype={addAudio:function(f){this.audios.push(f)},pause:function(){var f,s=this.audios.length;for(f=0;f<s;f+=1)this.audios[f].pause()},resume:function(){var f,s=this.audios.length;for(f=0;f<s;f+=1)this.audios[f].resume()},setRate:function(f){var s,v=this.audios.length;for(s=0;s<v;s+=1)this.audios[s].setRate(f)},createAudio:function(f){return this.audioFactory?this.audioFactory(f):window.Howl?new window.Howl({src:[f]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(f){this.audioFactory=f},setVolume:function(f){this._volume=f,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var f,s=this.audios.length;for(f=0;f<s;f+=1)this.audios[f].volume(this._volume*(this._isMuted?0:1))}},function(){return new c}}(),createTypedArray=function(){function c(f,s){var D,v=0,y=[];switch(f){case"int16":case"uint8c":D=1;break;default:D=1.1}for(v=0;v<s;v+=1)y.push(D);return y}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function h(f,s){return"float32"===f?new Float32Array(s):"int16"===f?new Int16Array(s):"uint8c"===f?new Uint8ClampedArray(s):c(f,s)}:c}();function createSizedArray(c){return Array.apply(null,{length:c})}function _typeof$6(c){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var h,c=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],f=c.length;for(h=0;h<f;h+=1)BMMath[c[h]]=Math[c[h]]}(),BMMath.random=Math.random,BMMath.abs=function(c){if("object"===_typeof$6(c)&&c.length){var s,f=createSizedArray(c.length),v=c.length;for(s=0;s<v;s+=1)f[s]=Math.abs(c[s]);return f}return Math.abs(c)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(c){_shouldRoundValues=!!c}function bmRnd(c){return _shouldRoundValues?Math.round(c):c}function styleDiv(c){c.style.position="absolute",c.style.top=0,c.style.left=0,c.style.display="block",c.style.transformOrigin="0 0",c.style.webkitTransformOrigin="0 0",c.style.backfaceVisibility="visible",c.style.webkitBackfaceVisibility="visible",c.style.transformStyle="preserve-3d",c.style.webkitTransformStyle="preserve-3d",c.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(c,h,f,s){this.type=c,this.currentTime=h,this.totalTime=f,this.direction=s<0?-1:1}function BMCompleteEvent(c,h){this.type=c,this.direction=h<0?-1:1}function BMCompleteLoopEvent(c,h,f,s){this.type=c,this.currentLoop=f,this.totalLoops=h,this.direction=s<0?-1:1}function BMSegmentStartEvent(c,h,f){this.type=c,this.firstFrame=h,this.totalFrames=f}function BMDestroyEvent(c,h){this.type=c,this.target=h}function BMRenderFrameErrorEvent(c,h){this.type="renderFrameError",this.nativeError=c,this.currentTime=h}function BMConfigErrorEvent(c){this.type="configError",this.nativeError=c}function BMAnimationConfigErrorEvent(c,h){this.type=c,this.nativeError=h}var createElementID=(c=0,function(){return idPrefix$1+"__lottie_element_"+(c+=1)}),c;function HSVtoRGB(c,h,f){var s,v,y,D,M,P,O,j;switch(P=f*(1-h),O=f*(1-(M=6*c-(D=Math.floor(6*c)))*h),j=f*(1-(1-M)*h),D%6){case 0:s=f,v=j,y=P;break;case 1:s=O,v=f,y=P;break;case 2:s=P,v=f,y=j;break;case 3:s=P,v=O,y=f;break;case 4:s=j,v=P,y=f;break;case 5:s=f,v=P,y=O}return[s,v,y]}function RGBtoHSV(c,h,f){var D,s=Math.max(c,h,f),v=Math.min(c,h,f),y=s-v,M=0===s?0:y/s,P=s/255;switch(s){case v:D=0;break;case c:D=h-f+y*(h<f?6:0),D/=6*y;break;case h:D=f-c+2*y,D/=6*y;break;case f:D=c-h+4*y,D/=6*y}return[D,M,P]}function addSaturationToRGB(c,h){var f=RGBtoHSV(255*c[0],255*c[1],255*c[2]);return f[1]+=h,f[1]>1?f[1]=1:f[1]<=0&&(f[1]=0),HSVtoRGB(f[0],f[1],f[2])}function addBrightnessToRGB(c,h){var f=RGBtoHSV(255*c[0],255*c[1],255*c[2]);return f[2]+=h,f[2]>1?f[2]=1:f[2]<0&&(f[2]=0),HSVtoRGB(f[0],f[1],f[2])}function addHueToRGB(c,h){var f=RGBtoHSV(255*c[0],255*c[1],255*c[2]);return f[0]+=h/360,f[0]>1?f[0]-=1:f[0]<0&&(f[0]+=1),HSVtoRGB(f[0],f[1],f[2])}var rgbToHex=function(){var h,f,c=[];for(h=0;h<256;h+=1)f=h.toString(16),c[h]=1===f.length?"0"+f:f;return function(s,v,y){return s<0&&(s=0),v<0&&(v=0),y<0&&(y=0),"#"+c[s]+c[v]+c[y]}}(),setSubframeEnabled=function(h){subframeEnabled=!!h},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(h){expressionsPlugin=h},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(h){expressionsInterfaces=h},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(h){defaultCurveSegments=h},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(h){idPrefix$1=h},getIdPrefix=function(){return idPrefix$1};function createNS(c){return document.createElementNS(svgNS,c)}function _typeof$5(c){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var dataManager=function(){var f,s,c=1,h=[],v={onmessage:function(){},postMessage:function(H){f({data:H})}},y={postMessage:function(H){v.onmessage({data:H})}};function M(){s||((s=function D(R){if(window.Worker&&window.Blob&&getWebWorker()){var H=new Blob(["var _workerSelf = self; self.onmessage = ",R.toString()],{type:"text/javascript"}),U=URL.createObjectURL(H);return new Worker(U)}return f=R,v}(function(H){if(y.dataManager||(y.dataManager=function U(){function ne(Te,fe){var le,X,be,pe,Ne,Le,oe=Te.length;for(X=0;X<oe;X+=1)if("ks"in(le=Te[X])&&!le.completed){if(le.completed=!0,le.hasMask){var nt=le.masksProperties;for(pe=nt.length,be=0;be<pe;be+=1)if(nt[be].pt.k.i)ee(nt[be].pt.k);else for(Le=nt[be].pt.k.length,Ne=0;Ne<Le;Ne+=1)nt[be].pt.k[Ne].s&&ee(nt[be].pt.k[Ne].s[0]),nt[be].pt.k[Ne].e&&ee(nt[be].pt.k[Ne].e[0])}0===le.ty?(le.layers=V(le.refId,fe),ne(le.layers,fe)):4===le.ty&&B(le.shapes)}}function V(Te,fe){var le=function G(Te,fe){for(var le=0,X=fe.length;le<X;){if(fe[le].id===Te)return fe[le];le+=1}return null}(Te,fe);return le?le.layers.__used?JSON.parse(JSON.stringify(le.layers)):(le.layers.__used=!0,le.layers):null}function B(Te){var fe,X,oe;for(fe=Te.length-1;fe>=0;fe-=1)if("sh"===Te[fe].ty)if(Te[fe].ks.k.i)ee(Te[fe].ks.k);else for(oe=Te[fe].ks.k.length,X=0;X<oe;X+=1)Te[fe].ks.k[X].s&&ee(Te[fe].ks.k[X].s[0]),Te[fe].ks.k[X].e&&ee(Te[fe].ks.k[X].e[0]);else"gr"===Te[fe].ty&&B(Te[fe].it)}function ee(Te){var fe,le=Te.i.length;for(fe=0;fe<le;fe+=1)Te.i[fe][0]+=Te.v[fe][0],Te.i[fe][1]+=Te.v[fe][1],Te.o[fe][0]+=Te.v[fe][0],Te.o[fe][1]+=Te.v[fe][1]}function te(Te,fe){var le=fe?fe.split("."):[100,100,100];return Te[0]>le[0]||!(le[0]>Te[0])&&(Te[1]>le[1]||!(le[1]>Te[1])&&(Te[2]>le[2]||!(le[2]>Te[2])&&null))}var Te,re=function(){var Te=[4,4,14];function fe(X){X.t.d={k:[{s:X.t.d,t:0}]}}function le(X){var oe,be=X.length;for(oe=0;oe<be;oe+=1)5===X[oe].ty&&fe(X[oe])}return function(X){if(te(Te,X.v)&&(le(X.layers),X.assets)){var oe,be=X.assets.length;for(oe=0;oe<be;oe+=1)X.assets[oe].layers&&le(X.assets[oe].layers)}}}(),ae=(Te=[4,7,99],function(fe){if(fe.chars&&!te(Te,fe.v)){var le,X=fe.chars.length;for(le=0;le<X;le+=1){var oe=fe.chars[le];oe.data&&oe.data.shapes&&(B(oe.data.shapes),oe.data.ip=0,oe.data.op=99999,oe.data.st=0,oe.data.sr=1,oe.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},fe.chars[le].t||(oe.data.shapes.push({ty:"no"}),oe.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),he=function(){var Te=[5,7,15];function fe(X){var oe=X.t.p;"number"==typeof oe.a&&(oe.a={a:0,k:oe.a}),"number"==typeof oe.p&&(oe.p={a:0,k:oe.p}),"number"==typeof oe.r&&(oe.r={a:0,k:oe.r})}function le(X){var oe,be=X.length;for(oe=0;oe<be;oe+=1)5===X[oe].ty&&fe(X[oe])}return function(X){if(te(Te,X.v)&&(le(X.layers),X.assets)){var oe,be=X.assets.length;for(oe=0;oe<be;oe+=1)X.assets[oe].layers&&le(X.assets[oe].layers)}}}(),Re=function(){var Te=[4,1,9];function fe(X){var oe,pe,Ne,be=X.length;for(oe=0;oe<be;oe+=1)if("gr"===X[oe].ty)fe(X[oe].it);else if("fl"===X[oe].ty||"st"===X[oe].ty)if(X[oe].c.k&&X[oe].c.k[0].i)for(Ne=X[oe].c.k.length,pe=0;pe<Ne;pe+=1)X[oe].c.k[pe].s&&(X[oe].c.k[pe].s[0]/=255,X[oe].c.k[pe].s[1]/=255,X[oe].c.k[pe].s[2]/=255,X[oe].c.k[pe].s[3]/=255),X[oe].c.k[pe].e&&(X[oe].c.k[pe].e[0]/=255,X[oe].c.k[pe].e[1]/=255,X[oe].c.k[pe].e[2]/=255,X[oe].c.k[pe].e[3]/=255);else X[oe].c.k[0]/=255,X[oe].c.k[1]/=255,X[oe].c.k[2]/=255,X[oe].c.k[3]/=255}function le(X){var oe,be=X.length;for(oe=0;oe<be;oe+=1)4===X[oe].ty&&fe(X[oe].shapes)}return function(X){if(te(Te,X.v)&&(le(X.layers),X.assets)){var oe,be=X.assets.length;for(oe=0;oe<be;oe+=1)X.assets[oe].layers&&le(X.assets[oe].layers)}}}(),xe=function(){var Te=[4,4,18];function fe(X){var oe,pe,Ne;for(oe=X.length-1;oe>=0;oe-=1)if("sh"===X[oe].ty)if(X[oe].ks.k.i)X[oe].ks.k.c=X[oe].closed;else for(Ne=X[oe].ks.k.length,pe=0;pe<Ne;pe+=1)X[oe].ks.k[pe].s&&(X[oe].ks.k[pe].s[0].c=X[oe].closed),X[oe].ks.k[pe].e&&(X[oe].ks.k[pe].e[0].c=X[oe].closed);else"gr"===X[oe].ty&&fe(X[oe].it)}function le(X){var oe,be,Ne,Le,nt,Ht,pe=X.length;for(be=0;be<pe;be+=1){if((oe=X[be]).hasMask){var ht=oe.masksProperties;for(Le=ht.length,Ne=0;Ne<Le;Ne+=1)if(ht[Ne].pt.k.i)ht[Ne].pt.k.c=ht[Ne].cl;else for(Ht=ht[Ne].pt.k.length,nt=0;nt<Ht;nt+=1)ht[Ne].pt.k[nt].s&&(ht[Ne].pt.k[nt].s[0].c=ht[Ne].cl),ht[Ne].pt.k[nt].e&&(ht[Ne].pt.k[nt].e[0].c=ht[Ne].cl)}4===oe.ty&&fe(oe.shapes)}}return function(X){if(te(Te,X.v)&&(le(X.layers),X.assets)){var oe,be=X.assets.length;for(oe=0;oe<be;oe+=1)X.assets[oe].layers&&le(X.assets[oe].layers)}}}(),$e={completeData:function Ie(Te){Te.__complete||(Re(Te),re(Te),ae(Te),he(Te),xe(Te),ne(Te.layers,Te.assets),function z(Te,fe){if(Te){var le=0,X=Te.length;for(le=0;le<X;le+=1)1===Te[le].t&&(Te[le].data.layers=V(Te[le].data.refId,fe),ne(Te[le].data.layers,fe))}}(Te.chars,Te.assets),Te.__complete=!0)}};return $e.checkColors=Re,$e.checkChars=ae,$e.checkPathProperties=he,$e.checkShapes=xe,$e.completeLayers=ne,$e}()),y.assetLoader||(y.assetLoader=function(){function ne(G){var V=G.getResponseHeader("content-type");return V&&"json"===G.responseType&&-1!==V.indexOf("json")||G.response&&"object"===_typeof$5(G.response)?G.response:G.response&&"string"==typeof G.response?JSON.parse(G.response):G.responseText?JSON.parse(G.responseText):null}return{load:function z(G,V,B,ee){var te,re=new XMLHttpRequest;try{re.responseType="json"}catch{}re.onreadystatechange=function(){if(4===re.readyState)if(200===re.status)te=ne(re),B(te);else try{te=ne(re),B(te)}catch(ae){ee&&ee(ae)}};try{re.open(["G","E","T"].join(""),G,!0)}catch{re.open(["G","E","T"].join(""),V+"/"+G,!0)}re.send()}}}()),"loadAnimation"===H.data.type)y.assetLoader.load(H.data.path,H.data.fullPath,function(ne){y.dataManager.completeData(ne),y.postMessage({id:H.data.id,payload:ne,status:"success"})},function(){y.postMessage({id:H.data.id,status:"error"})});else if("complete"===H.data.type){var q=H.data.animation;y.dataManager.completeData(q),y.postMessage({id:H.data.id,payload:q,status:"success"})}else"loadData"===H.data.type&&y.assetLoader.load(H.data.path,H.data.fullPath,function(ne){y.postMessage({id:H.data.id,payload:ne,status:"success"})},function(){y.postMessage({id:H.data.id,status:"error"})})})).onmessage=function(R){var H=R.data,U=H.id,q=h[U];h[U]=null,"success"===H.status?q.onComplete(H.payload):q.onError&&q.onError()})}function P(R,H){var U="processId_"+(c+=1);return h[U]={onComplete:R,onError:H},U}return{loadAnimation:function O(R,H,U){M();var q=P(H,U);s.postMessage({type:"loadAnimation",path:R,fullPath:window.location.origin+window.location.pathname,id:q})},loadData:function j(R,H,U){M();var q=P(H,U);s.postMessage({type:"loadData",path:R,fullPath:window.location.origin+window.location.pathname,id:q})},completeAnimation:function Q(R,H,U){M();var q=P(H,U);s.postMessage({type:"complete",animation:R,id:q})}}}(),ImagePreloader=function(){var c=function(){var z=createTag("canvas");z.width=1,z.height=1;var G=z.getContext("2d");return G.fillStyle="rgba(0,0,0,0)",G.fillRect(0,0,1,1),z}();function h(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function f(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(z,G,V){var B="";if(z.e)B=z.p;else if(G){var ee=z.p;-1!==ee.indexOf("images/")&&(ee=ee.split("/")[1]),B=G+ee}else B=V,B+=z.u?z.u:"",B+=z.p;return B}function v(z){var G=0,V=setInterval(function(){(z.getBBox().width||G>500)&&(this._imageLoaded(),clearInterval(V)),G+=1}.bind(this),50)}function M(z){var G={assetData:z},V=s(z,this.assetsPath,this.path);return dataManager.loadData(V,function(B){G.img=B,this._footageLoaded()}.bind(this),function(){G.img={},this._footageLoaded()}.bind(this)),G}function ne(){this._imageLoaded=h.bind(this),this._footageLoaded=f.bind(this),this.testImageLoaded=v.bind(this),this.createFootageData=M.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return ne.prototype={loadAssets:function P(z,G){this.imagesLoadedCb=G;var V,B=z.length;for(V=0;V<B;V+=1)z[V].layers||(z[V].t&&"seq"!==z[V].t?3===z[V].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(z[V]))):(this.totalImages+=1,this.images.push(this._createImageData(z[V]))))},setAssetsPath:function j(z){this.assetsPath=z||""},setPath:function O(z){this.path=z||""},loadedImages:function H(){return this.totalImages===this.loadedAssets},loadedFootages:function U(){return this.totalFootages===this.loadedFootagesCount},destroy:function R(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function Q(z){for(var G=0,V=this.images.length;G<V;){if(this.images[G].assetData===z)return this.images[G].img;G+=1}return null},createImgData:function D(z){var G=s(z,this.assetsPath,this.path),V=createTag("img");V.crossOrigin="anonymous",V.addEventListener("load",this._imageLoaded,!1),V.addEventListener("error",function(){B.img=c,this._imageLoaded()}.bind(this),!1),V.src=G;var B={img:V,assetData:z};return B},createImageData:function y(z){var G=s(z,this.assetsPath,this.path),V=createNS("image");isSafari?this.testImageLoaded(V):V.addEventListener("load",this._imageLoaded,!1),V.addEventListener("error",function(){B.img=c,this._imageLoaded()}.bind(this),!1),V.setAttributeNS("http://www.w3.org/1999/xlink","href",G),this._elementHelper.append?this._elementHelper.append(V):this._elementHelper.appendChild(V);var B={img:V,assetData:z};return B},imageLoaded:h,footageLoaded:f,setCacheType:function q(z,G){"svg"===z?(this._elementHelper=G,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},ne}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(h,f){if(this._cbs[h])for(var s=this._cbs[h],v=0;v<s.length;v+=1)s[v](f)},addEventListener:function(h,f){return this._cbs[h]||(this._cbs[h]=[]),this._cbs[h].push(f),function(){this.removeEventListener(h,f)}.bind(this)},removeEventListener:function(h,f){if(f){if(this._cbs[h]){for(var s=0,v=this._cbs[h].length;s<v;)this._cbs[h][s]===f&&(this._cbs[h].splice(s,1),s-=1,v-=1),s+=1;this._cbs[h].length||(this._cbs[h]=null)}}else this._cbs[h]=null}};var markerParser=function(){function c(h){for(var v,f=h.split("\r\n"),s={},y=0,D=0;D<f.length;D+=1)2===(v=f[D].split(":")).length&&(s[v[0]]=v[1].trim(),y+=1);if(0===y)throw new Error;return s}return function(h){for(var f=[],s=0;s<h.length;s+=1){var v=h[s],y={time:v.tm,duration:v.dr};try{y.payload=JSON.parse(h[s].cm)}catch{try{y.payload=c(h[s].cm)}catch{y.payload={name:h[s].cm}}}f.push(y)}return f}}(),ProjectInterface=function(){function c(h){this.compositions.push(h)}return function(){function h(f){for(var s=0,v=this.compositions.length;s<v;){if(this.compositions[s].data&&this.compositions[s].data.nm===f)return this.compositions[s].prepareFrame&&this.compositions[s].data.xt&&this.compositions[s].prepareFrame(this.currentFrame),this.compositions[s].compInterface;s+=1}return null}return h.compositions=[],h.currentFrame=0,h.registerComposition=c,h}}(),renderers={},registerRenderer=function(h,f){renderers[h]=f};function getRenderer(c){return renderers[c]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var c in renderers)if(renderers[c])return c;return""}function _typeof$4(c){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(c){(c.wrapper||c.container)&&(this.wrapper=c.wrapper||c.container);var h="svg";c.animType?h=c.animType:c.renderer&&(h=c.renderer);var f=getRenderer(h);this.renderer=new f(this,c.rendererSettings),this.imagePreloader.setCacheType(h,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=h,this.loop=""===c.loop||null==c.loop||!0===c.loop||!1!==c.loop&&parseInt(c.loop,10),this.autoplay=!("autoplay"in c)||c.autoplay,this.name=c.name?c.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(c,"autoloadSegments")||c.autoloadSegments,this.assetsPath=c.assetsPath,this.initialSegment=c.initialSegment,c.audioFactory&&this.audioController.setAudioFactory(c.audioFactory),c.animationData?this.setupAnimation(c.animationData):c.path&&(this.path=-1!==c.path.lastIndexOf("\\")?c.path.substr(0,c.path.lastIndexOf("\\")+1):c.path.substr(0,c.path.lastIndexOf("/")+1),this.fileName=c.path.substr(c.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(c.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(c){dataManager.completeAnimation(c,this.configAnimation)},AnimationItem.prototype.setData=function(c,h){h&&"object"!==_typeof$4(h)&&(h=JSON.parse(h));var f={wrapper:c,animationData:h},s=c.attributes;f.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",f.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var v=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";"false"===v?f.loop=!1:"true"===v?f.loop=!0:""!==v&&(f.loop=parseInt(v,10));var y=s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:!s.getNamedItem("bm-autoplay")||s.getNamedItem("bm-autoplay").value;f.autoplay="false"!==y,f.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"","false"===(s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"")&&(f.prerender=!1),f.path?this.setParams(f):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(c){c.op>this.animationData.op&&(this.animationData.op=c.op,this.totalFrames=Math.floor(c.op-this.animationData.ip));var f,y,h=this.animationData.layers,s=h.length,v=c.layers,D=v.length;for(y=0;y<D;y+=1)for(f=0;f<s;){if(h[f].id===v[y].id){h[f]=v[y];break}f+=1}if((c.chars||c.fonts)&&(this.renderer.globalData.fontManager.addChars(c.chars),this.renderer.globalData.fontManager.addFonts(c.fonts,this.renderer.globalData.defs)),c.assets)for(s=c.assets.length,f=0;f<s;f+=1)this.animationData.assets.push(c.assets[f]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(c){this.animationData=c;var h=getExpressionsPlugin();h&&h.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var c=this.animationData.segments;if(!c||0===c.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var h=c.shift();this.timeCompleted=h.time*this.frameRate;var f=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(f,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(c){if(this.renderer)try{this.animationData=c,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(c),c.assets||(c.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(c.assets),this.markers=markerParser(c.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(h){this.triggerConfigError(h)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var c=getExpressionsPlugin();c&&c.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(c,h){this.renderer.updateContainerSize("number"==typeof c?c:void 0,"number"==typeof h?h:void 0)},AnimationItem.prototype.setSubframe=function(c){this.isSubframeEnabled=!!c},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(c){this.triggerRenderFrameError(c)}},AnimationItem.prototype.play=function(c){c&&this.name!==c||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(c){c&&this.name!==c||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(c){c&&this.name!==c||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(c){c&&this.name!==c||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(c){for(var h,f=0;f<this.markers.length;f+=1)if((h=this.markers[f]).payload&&h.payload.name===c)return h;return null},AnimationItem.prototype.goToAndStop=function(c,h,f){if(!f||this.name===f){var s=Number(c);if(isNaN(s)){var v=this.getMarkerData(c);v&&this.goToAndStop(v.time,!0)}else this.setCurrentRawFrameValue(h?c:c*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(c,h,f){if(!f||this.name===f){var s=Number(c);if(isNaN(s)){var v=this.getMarkerData(c);v&&(v.duration?this.playSegments([v.time,v.time+v.duration],!0):this.goToAndStop(v.time,!0))}else this.goToAndStop(s,h,f);this.play()}},AnimationItem.prototype.advanceTime=function(c){if(!0!==this.isPaused&&!1!==this.isLoaded){var h=this.currentRawFrame+c*this.frameModifier,f=!1;h>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?h>=this.totalFrames?(this.playCount+=1,this.checkSegments(h%this.totalFrames)||(this.setCurrentRawFrameValue(h%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(h):this.checkSegments(h>this.totalFrames?h%this.totalFrames:0)||(f=!0,h=this.totalFrames-1):h<0?this.checkSegments(h%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(f=!0,h=0):(this.setCurrentRawFrameValue(this.totalFrames+h%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(h),f&&(this.setCurrentRawFrameValue(h),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(c,h){this.playCount=0,c[1]<c[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=c[0]-c[1],this.timeCompleted=this.totalFrames,this.firstFrame=c[1],this.setCurrentRawFrameValue(this.totalFrames-.001-h)):c[1]>c[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=c[1]-c[0],this.timeCompleted=this.totalFrames,this.firstFrame=c[0],this.setCurrentRawFrameValue(.001+h)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(c,h){var f=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<c?f=c:this.currentRawFrame+this.firstFrame>h&&(f=h-c)),this.firstFrame=c,this.totalFrames=h-c,this.timeCompleted=this.totalFrames,-1!==f&&this.goToAndStop(f,!0)},AnimationItem.prototype.playSegments=function(c,h){if(h&&(this.segments.length=0),"object"===_typeof$4(c[0])){var f,s=c.length;for(f=0;f<s;f+=1)this.segments.push(c[f])}else this.segments.push(c);this.segments.length&&h&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(c){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),c&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(c){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),c),!0)},AnimationItem.prototype.destroy=function(c){c&&this.name!==c||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(c){this.currentRawFrame=c,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(c){this.playSpeed=c,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(c){this.playDirection=c<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(c){this.loop=c},AnimationItem.prototype.setVolume=function(c,h){h&&this.name!==h||this.audioController.setVolume(c)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(c){c&&this.name!==c||this.audioController.mute()},AnimationItem.prototype.unmute=function(c){c&&this.name!==c||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(c){var h="";if(c.e)h=c.p;else if(this.assetsPath){var f=c.p;-1!==f.indexOf("images/")&&(f=f.split("/")[1]),h=this.assetsPath+f}else h=this.path,h+=c.u?c.u:"",h+=c.p;return h},AnimationItem.prototype.getAssetData=function(c){for(var h=0,f=this.assets.length;h<f;){if(c===this.assets[h].id)return this.assets[h];h+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(c){return c?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(c,h,f){try{this.renderer.getElementByPath(c).updateDocumentData(h,f)}catch{}},AnimationItem.prototype.trigger=function(c){if(this._cbs&&this._cbs[c])switch(c){case"enterFrame":this.triggerEvent(c,new BMEnterFrameEvent(c,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(c,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(c,new BMCompleteLoopEvent(c,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(c,new BMCompleteEvent(c,this.frameMult));break;case"segmentStart":this.triggerEvent(c,new BMSegmentStartEvent(c,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(c,new BMDestroyEvent(c,this));break;default:this.triggerEvent(c)}"enterFrame"===c&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(c,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===c&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(c,this.loop,this.playCount,this.frameMult)),"complete"===c&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(c,this.frameMult)),"segmentStart"===c&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(c,this.firstFrame,this.totalFrames)),"destroy"===c&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(c,this))},AnimationItem.prototype.triggerRenderFrameError=function(c){var h=new BMRenderFrameErrorEvent(c,this.currentFrame);this.triggerEvent("error",h),this.onError&&this.onError.call(this,h)},AnimationItem.prototype.triggerConfigError=function(c){var h=new BMConfigErrorEvent(c,this.currentFrame);this.triggerEvent("error",h),this.onError&&this.onError.call(this,h)};var animationManager=function(){var c={},h=[],f=0,s=0,v=0,y=!0,D=!1;function M(fe){for(var le=0,X=fe.target;le<s;)h[le].animation===X&&(h.splice(le,1),le-=1,s-=1,X.isPaused||Q()),le+=1}function P(fe,le){if(!fe)return null;for(var X=0;X<s;){if(h[X].elem===fe&&null!==h[X].elem)return h[X].animation;X+=1}var oe=new AnimationItem;return R(oe,fe),oe.setData(fe,le),oe}function j(){v+=1,Re()}function Q(){v-=1}function R(fe,le){fe.addEventListener("destroy",M),fe.addEventListener("_active",j),fe.addEventListener("_idle",Q),h.push({elem:le,animation:fe}),s+=1}function z(fe){var X,le=fe-f;for(X=0;X<s;X+=1)h[X].animation.advanceTime(le);f=fe,v&&!D?window.requestAnimationFrame(z):y=!0}function G(fe){f=fe,window.requestAnimationFrame(z)}function Re(){!D&&v&&y&&(window.requestAnimationFrame(G),y=!1)}return c.registerAnimation=P,c.loadAnimation=function H(fe){var le=new AnimationItem;return R(le,null),le.setParams(fe),le},c.setSpeed=function U(fe,le){var X;for(X=0;X<s;X+=1)h[X].animation.setSpeed(fe,le)},c.setDirection=function q(fe,le){var X;for(X=0;X<s;X+=1)h[X].animation.setDirection(fe,le)},c.play=function ne(fe){var le;for(le=0;le<s;le+=1)h[le].animation.play(fe)},c.pause=function V(fe){var le;for(le=0;le<s;le+=1)h[le].animation.pause(fe)},c.stop=function ee(fe){var le;for(le=0;le<s;le+=1)h[le].animation.stop(fe)},c.togglePause=function te(fe){var le;for(le=0;le<s;le+=1)h[le].animation.togglePause(fe)},c.searchAnimations=function ae(fe,le,X){var be,oe=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),pe=oe.length;for(be=0;be<pe;be+=1)X&&oe[be].setAttribute("data-bm-type",X),P(oe[be],fe);if(le&&0===pe){X||(X="svg");var Ne=document.getElementsByTagName("body")[0];Ne.innerText="";var Le=createTag("div");Le.style.width="100%",Le.style.height="100%",Le.setAttribute("data-bm-type",X),Ne.appendChild(Le),P(Le,fe)}},c.resize=function he(){var fe;for(fe=0;fe<s;fe+=1)h[fe].animation.resize()},c.goToAndStop=function B(fe,le,X){var oe;for(oe=0;oe<s;oe+=1)h[oe].animation.goToAndStop(fe,le,X)},c.destroy=function re(fe){var le;for(le=s-1;le>=0;le-=1)h[le].animation.destroy(fe)},c.freeze=function xe(){D=!0},c.unfreeze=function Ie(){D=!1,Re()},c.setVolume=function _e(fe,le){var X;for(X=0;X<s;X+=1)h[X].animation.setVolume(fe,le)},c.mute=function $e(fe){var le;for(le=0;le<s;le+=1)h[le].animation.mute(fe)},c.unmute=function Te(fe){var le;for(le=0;le<s;le+=1)h[le].animation.unmute(fe)},c.getRegisteredAnimations=function O(){var fe,le=h.length,X=[];for(fe=0;fe<le;fe+=1)X.push(h[fe].animation);return X},c}(),BezierFactory=function(){var c={getBezierEasing:function f(G,V,B,ee,te){var re=te||("bez_"+G+"_"+V+"_"+B+"_"+ee).replace(/\./g,"p");if(h[re])return h[re];var ae=new z([G,V,B,ee]);return h[re]=ae,ae}},h={},P=.1,O="function"==typeof Float32Array;function j(G,V){return 1-3*V+3*G}function Q(G,V){return 3*V-6*G}function R(G){return 3*G}function H(G,V,B){return((j(V,B)*G+Q(V,B))*G+R(V))*G}function U(G,V,B){return 3*j(V,B)*G*G+2*Q(V,B)*G+R(V)}function z(G){this._p=G,this._mSampleValues=O?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return z.prototype={get:function(V){var B=this._p[0],ee=this._p[1],te=this._p[2],re=this._p[3];return this._precomputed||this._precompute(),B===ee&&te===re?V:0===V?0:1===V?1:H(this._getTForX(V),ee,re)},_precompute:function(){var V=this._p[0],B=this._p[1],ee=this._p[2],te=this._p[3];this._precomputed=!0,(V!==B||ee!==te)&&this._calcSampleValues()},_calcSampleValues:function(){for(var V=this._p[0],B=this._p[2],ee=0;ee<11;++ee)this._mSampleValues[ee]=H(ee*P,V,B)},_getTForX:function(V){for(var B=this._p[0],ee=this._p[2],te=this._mSampleValues,re=0,ae=1;10!==ae&&te[ae]<=V;++ae)re+=P;var xe=re+(V-te[--ae])/(te[ae+1]-te[ae])*P,Ie=U(xe,B,ee);return Ie>=.001?function ne(G,V,B,ee){for(var te=0;te<4;++te){var re=U(V,B,ee);if(0===re)return V;V-=(H(V,B,ee)-G)/re}return V}(V,xe,B,ee):0===Ie?xe:function q(G,V,B,ee,te){var re,ae,he=0;do{(re=H(ae=V+(B-V)/2,ee,te)-G)>0?B=ae:V=ae}while(Math.abs(re)>1e-7&&++he<10);return ae}(V,re,re+P,B,ee)}},c}(),pooling={double:function c(h){return h.concat(createSizedArray(h.length))}},poolFactory=function(c,h,f){var s=0,v=c,y=createSizedArray(v);return{newElement:function M(){return s?y[s-=1]:h()},release:function P(O){s===v&&(y=pooling.double(y),v*=2),f&&f(O),y[s]=O,s+=1}}},bezierLengthPool=poolFactory(8,function c(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function c(){return{lengths:[],totalLength:0}},function h(f){var s,v=f.lengths.length;for(s=0;s<v;s+=1)bezierLengthPool.release(f.lengths[s]);f.lengths.length=0});function bezFunction(){var c=Math;function h(R,H,U,q,ne,z){var G=R*q+H*ne+U*z-ne*q-z*R-U*H;return G>-.001&&G<.001}var s=function(R,H,U,q){var z,G,V,B,ee,re,ne=getDefaultCurveSegments(),te=0,ae=[],he=[],Re=bezierLengthPool.newElement();for(V=U.length,z=0;z<ne;z+=1){for(ee=z/(ne-1),re=0,G=0;G<V;G+=1)B=bmPow(1-ee,3)*R[G]+3*bmPow(1-ee,2)*ee*U[G]+3*(1-ee)*bmPow(ee,2)*q[G]+bmPow(ee,3)*H[G],ae[G]=B,null!==he[G]&&(re+=bmPow(ae[G]-he[G],2)),he[G]=ae[G];re&&(te+=re=bmSqrt(re)),Re.percents[z]=ee,Re.lengths[z]=te}return Re.addedLength=te,Re};function y(R){this.segmentLength=0,this.points=new Array(R)}function D(R,H){this.partialLength=R,this.point=H}var R,M=(R={},function(H,U,q,ne){var z=(H[0]+"_"+H[1]+"_"+U[0]+"_"+U[1]+"_"+q[0]+"_"+q[1]+"_"+ne[0]+"_"+ne[1]).replace(/\./g,"p");if(!R[z]){var V,B,ee,te,re,he,Re,G=getDefaultCurveSegments(),ae=0,xe=null;2===H.length&&(H[0]!==U[0]||H[1]!==U[1])&&h(H[0],H[1],U[0],U[1],H[0]+q[0],H[1]+q[1])&&h(H[0],H[1],U[0],U[1],U[0]+ne[0],U[1]+ne[1])&&(G=2);var Ie=new y(G);for(ee=q.length,V=0;V<G;V+=1){for(Re=createSizedArray(ee),re=V/(G-1),he=0,B=0;B<ee;B+=1)te=bmPow(1-re,3)*H[B]+3*bmPow(1-re,2)*re*(H[B]+q[B])+3*(1-re)*bmPow(re,2)*(U[B]+ne[B])+bmPow(re,3)*U[B],Re[B]=te,null!==xe&&(he+=bmPow(Re[B]-xe[B],2));ae+=he=bmSqrt(he),Ie.points[V]=new D(he,Re),xe=Re}Ie.segmentLength=ae,R[z]=Ie}return R[z]});function P(R,H){var U=H.percents,q=H.lengths,ne=U.length,z=bmFloor((ne-1)*R),G=R*H.addedLength,V=0;if(z===ne-1||0===z||G===q[z])return U[z];for(var B=q[z]>G?-1:1,ee=!0;ee;)if(q[z]<=G&&q[z+1]>G?(V=(G-q[z])/(q[z+1]-q[z]),ee=!1):z+=B,z<0||z>=ne-1){if(z===ne-1)return U[z];ee=!1}return U[z]+(U[z+1]-U[z])*V}var j=createTypedArray("float32",8);return{getSegmentsLength:function v(R){var G,H=segmentsLengthPool.newElement(),U=R.c,q=R.v,ne=R.o,z=R.i,V=R._length,B=H.lengths,ee=0;for(G=0;G<V-1;G+=1)B[G]=s(q[G],q[G+1],ne[G],z[G+1]),ee+=B[G].addedLength;return U&&V&&(B[G]=s(q[G],q[0],ne[G],z[0]),ee+=B[G].addedLength),H.totalLength=ee,H},getNewSegment:function Q(R,H,U,q,ne,z,G){ne<0?ne=0:ne>1&&(ne=1);var ee,V=P(ne,G),B=P(z=z>1?1:z,G),te=R.length,re=1-V,ae=1-B,he=re*re*re,Re=V*re*re*3,xe=V*V*re*3,Ie=V*V*V,_e=re*re*ae,$e=V*re*ae+re*V*ae+re*re*B,Te=V*V*ae+re*V*B+V*re*B,fe=V*V*B,le=re*ae*ae,X=V*ae*ae+re*B*ae+re*ae*B,oe=V*B*ae+re*B*B+V*ae*B,be=V*B*B,pe=ae*ae*ae,Ne=B*ae*ae+ae*B*ae+ae*ae*B,Le=B*B*ae+ae*B*B+B*ae*B,nt=B*B*B;for(ee=0;ee<te;ee+=1)j[4*ee]=c.round(1e3*(he*R[ee]+Re*U[ee]+xe*q[ee]+Ie*H[ee]))/1e3,j[4*ee+1]=c.round(1e3*(_e*R[ee]+$e*U[ee]+Te*q[ee]+fe*H[ee]))/1e3,j[4*ee+2]=c.round(1e3*(le*R[ee]+X*U[ee]+oe*q[ee]+be*H[ee]))/1e3,j[4*ee+3]=c.round(1e3*(pe*R[ee]+Ne*U[ee]+Le*q[ee]+nt*H[ee]))/1e3;return j},getPointInSegment:function O(R,H,U,q,ne,z){var G=P(ne,z),V=1-G;return[c.round(1e3*(V*V*V*R[0]+(G*V*V+V*G*V+V*V*G)*U[0]+(G*G*V+V*G*G+G*V*G)*q[0]+G*G*G*H[0]))/1e3,c.round(1e3*(V*V*V*R[1]+(G*V*V+V*G*V+V*V*G)*U[1]+(G*G*V+V*G*G+G*V*G)*q[1]+G*G*G*H[1]))/1e3]},buildBezierData:M,pointOnLine2D:h,pointOnLine3D:function f(R,H,U,q,ne,z,G,V,B){if(0===U&&0===z&&0===B)return h(R,H,q,ne,G,V);var ae,ee=c.sqrt(c.pow(q-R,2)+c.pow(ne-H,2)+c.pow(z-U,2)),te=c.sqrt(c.pow(G-R,2)+c.pow(V-H,2)+c.pow(B-U,2)),re=c.sqrt(c.pow(G-q,2)+c.pow(V-ne,2)+c.pow(B-z,2));return(ae=ee>te?ee>re?ee-te-re:re-te-ee:re>te?re-te-ee:te-ee-re)>-1e-4&&ae<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(c,h){var s,f=this.offsetTime;"multidimensional"===this.propType&&(s=createTypedArray("float32",this.pv.length));for(var P,O,j,v=h.lastIndex,y=v,D=this.keyframes.length-1,M=!0;M;){if(P=this.keyframes[y],O=this.keyframes[y+1],y===D-1&&c>=O.t-f){P.h&&(P=O),v=0;break}if(O.t-f>c){v=y;break}y<D-1?y+=1:(v=0,M=!1)}j=this.keyframesMetadata[y]||{};var Q,R,H,U,q,ne,V,z=O.t-f,G=P.t-f;if(P.to){j.bezierData||(j.bezierData=bez.buildBezierData(P.s,O.s||P.e,P.to,P.ti));var B=j.bezierData;if(c>=z||c<G){var ee=c>=z?B.points.length-1:0;for(R=B.points[ee].point.length,Q=0;Q<R;Q+=1)s[Q]=B.points[ee].point[Q]}else{j.__fnct?ne=j.__fnct:(ne=BezierFactory.getBezierEasing(P.o.x,P.o.y,P.i.x,P.i.y,P.n).get,j.__fnct=ne),H=ne((c-G)/(z-G));var re,te=B.segmentLength*H,ae=h.lastFrame<c&&h._lastKeyframeIndex===y?h._lastAddedLength:0;for(q=h.lastFrame<c&&h._lastKeyframeIndex===y?h._lastPoint:0,M=!0,U=B.points.length;M;){if(ae+=B.points[q].partialLength,0===te||0===H||q===B.points.length-1){for(R=B.points[q].point.length,Q=0;Q<R;Q+=1)s[Q]=B.points[q].point[Q];break}if(te>=ae&&te<ae+B.points[q+1].partialLength){for(re=(te-ae)/B.points[q+1].partialLength,R=B.points[q].point.length,Q=0;Q<R;Q+=1)s[Q]=B.points[q].point[Q]+(B.points[q+1].point[Q]-B.points[q].point[Q])*re;break}q<U-1?q+=1:M=!1}h._lastPoint=q,h._lastAddedLength=ae-B.points[q].partialLength,h._lastKeyframeIndex=y}}else{var _e;if(D=P.s.length,V=O.s||P.e,this.sh&&1!==P.h)c>=z?(s[0]=V[0],s[1]=V[1],s[2]=V[2]):c<=G?(s[0]=P.s[0],s[1]=P.s[1],s[2]=P.s[2]):quaternionToEuler(s,slerp(createQuaternion(P.s),createQuaternion(V),(c-G)/(z-G)));else for(y=0;y<D;y+=1)1!==P.h&&(c>=z?H=1:c<G?H=0:(P.o.x.constructor===Array?(j.__fnct||(j.__fnct=[]),j.__fnct[y]?ne=j.__fnct[y]:(ne=BezierFactory.getBezierEasing(void 0===P.o.x[y]?P.o.x[0]:P.o.x[y],void 0===P.o.y[y]?P.o.y[0]:P.o.y[y],void 0===P.i.x[y]?P.i.x[0]:P.i.x[y],void 0===P.i.y[y]?P.i.y[0]:P.i.y[y]).get,j.__fnct[y]=ne)):j.__fnct?ne=j.__fnct:(ne=BezierFactory.getBezierEasing(P.o.x,P.o.y,P.i.x,P.i.y).get,P.keyframeMetadata=ne),H=ne((c-G)/(z-G)))),V=O.s||P.e,_e=1===P.h?P.s[y]:P.s[y]+(V[y]-P.s[y])*H,"multidimensional"===this.propType?s[y]=_e:s=_e}return h.lastIndex=v,s}function slerp(c,h,f){var R,H,U,q,ne,s=[],v=c[0],y=c[1],D=c[2],M=c[3],P=h[0],O=h[1],j=h[2],Q=h[3];return(H=v*P+y*O+D*j+M*Q)<0&&(H=-H,P=-P,O=-O,j=-j,Q=-Q),1-H>1e-6?(R=Math.acos(H),U=Math.sin(R),q=Math.sin((1-f)*R)/U,ne=Math.sin(f*R)/U):(q=1-f,ne=f),s[0]=q*v+ne*P,s[1]=q*y+ne*O,s[2]=q*D+ne*j,s[3]=q*M+ne*Q,s}function quaternionToEuler(c,h){var f=h[0],s=h[1],v=h[2],y=h[3],D=Math.atan2(2*s*y-2*f*v,1-2*s*s-2*v*v),M=Math.asin(2*f*s+2*v*y),P=Math.atan2(2*f*y-2*s*v,1-2*f*f-2*v*v);c[0]=D/degToRads,c[1]=M/degToRads,c[2]=P/degToRads}function createQuaternion(c){var h=c[0]*degToRads,f=c[1]*degToRads,s=c[2]*degToRads,v=Math.cos(h/2),y=Math.cos(f/2),D=Math.cos(s/2),M=Math.sin(h/2),P=Math.sin(f/2),O=Math.sin(s/2);return[M*P*D+v*y*O,M*y*D+v*P*O,v*P*D-M*y*O,v*y*D-M*P*O]}function getValueAtCurrentTime(){var c=this.comp.renderedFrame-this.offsetTime,h=this.keyframes[0].t-this.offsetTime,f=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(c===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=f&&c>=f||this._caching.lastFrame<h&&c<h))){this._caching.lastFrame>=c&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var s=this.interpolateValue(c,this._caching);this.pv=s}return this._caching.lastFrame=c,this.pv}function setVValue(c){var h;if("unidimensional"===this.propType)mathAbs(this.v-(h=c*this.mult))>1e-5&&(this.v=h,this._mdf=!0);else for(var f=0,s=this.v.length;f<s;)mathAbs(this.v[f]-(h=c[f]*this.mult))>1e-5&&(this.v[f]=h,this._mdf=!0),f+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var c,h=this.effectsSequence.length,f=this.kf?this.pv:this.data.k;for(c=0;c<h;c+=1)f=this.effectsSequence[c](f);this.setVValue(f),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(c){this.effectsSequence.push(c),this.container.addDynamicProperty(this)}function ValueProperty(c,h,f,s){this.propType="unidimensional",this.mult=f||1,this.data=h,this.v=f?h.k*f:h.k,this.pv=h.k,this._mdf=!1,this.elem=c,this.container=s,this.comp=c.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(c,h,f,s){this.propType="multidimensional",this.mult=f||1,this.data=h,this._mdf=!1,this.elem=c,this.container=s,this.comp=c.comp,this.k=!1,this.kf=!1,this.frameId=-1;var v,y=h.k.length;for(this.v=createTypedArray("float32",y),this.pv=createTypedArray("float32",y),this.vel=createTypedArray("float32",y),v=0;v<y;v+=1)this.v[v]=h.k[v]*this.mult,this.pv[v]=h.k[v];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(c,h,f,s){this.propType="unidimensional",this.keyframes=h.k,this.keyframesMetadata=[],this.offsetTime=c.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=h,this.mult=f||1,this.elem=c,this.container=s,this.comp=c.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(c,h,f,s){this.propType="multidimensional";var v,D,M,P,O,y=h.k.length;for(v=0;v<y-1;v+=1)h.k[v].to&&h.k[v].s&&h.k[v+1]&&h.k[v+1].s&&(M=h.k[v+1].s,P=h.k[v].to,O=h.k[v].ti,(2===(D=h.k[v].s).length&&!(D[0]===M[0]&&D[1]===M[1])&&bez.pointOnLine2D(D[0],D[1],M[0],M[1],D[0]+P[0],D[1]+P[1])&&bez.pointOnLine2D(D[0],D[1],M[0],M[1],M[0]+O[0],M[1]+O[1])||3===D.length&&!(D[0]===M[0]&&D[1]===M[1]&&D[2]===M[2])&&bez.pointOnLine3D(D[0],D[1],D[2],M[0],M[1],M[2],D[0]+P[0],D[1]+P[1],D[2]+P[2])&&bez.pointOnLine3D(D[0],D[1],D[2],M[0],M[1],M[2],M[0]+O[0],M[1]+O[1],M[2]+O[2]))&&(h.k[v].to=null,h.k[v].ti=null),D[0]===M[0]&&D[1]===M[1]&&0===P[0]&&0===P[1]&&0===O[0]&&0===O[1]&&(2===D.length||D[2]===M[2]&&0===P[2]&&0===O[2])&&(h.k[v].to=null,h.k[v].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=h,this.keyframes=h.k,this.keyframesMetadata=[],this.offsetTime=c.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=f||1,this.elem=c,this.container=s,this.comp=c.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var j=h.k[0].s.length;for(this.v=createTypedArray("float32",j),this.pv=createTypedArray("float32",j),v=0;v<j;v+=1)this.v[v]=initFrame,this.pv[v]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",j)},this.addEffect=addEffect}var PropertyFactory={getProp:function c(f,s,v,y,D){var M;if(s.sid&&(s=f.globalData.slotManager.getProp(s)),s.k.length)if("number"==typeof s.k[0])M=new MultiDimensionalProperty(f,s,y,D);else switch(v){case 0:M=new KeyframedValueProperty(f,s,y,D);break;case 1:M=new KeyframedMultidimensionalProperty(f,s,y,D)}else M=new ValueProperty(f,s,y,D);return M.effectsSequence.length&&D.addDynamicProperty(M),M}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(h){-1===this.dynamicProperties.indexOf(h)&&(this.dynamicProperties.push(h),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var h,f=this.dynamicProperties.length;for(h=0;h<f;h+=1)this.dynamicProperties[h].getValue(),this.dynamicProperties[h]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(h){this.container=h,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function c(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(c,h){this.c=c,this.setLength(h);for(var f=0;f<h;)this.v[f]=pointPool.newElement(),this.o[f]=pointPool.newElement(),this.i[f]=pointPool.newElement(),f+=1},ShapePath.prototype.setLength=function(c){for(;this._maxLength<c;)this.doubleArrayLength();this._length=c},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(c,h,f,s,v){var y;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),f){case"v":y=this.v;break;case"i":y=this.i;break;case"o":y=this.o;break;default:y=[]}(!y[s]||y[s]&&!v)&&(y[s]=pointPool.newElement()),y[s][0]=c,y[s][1]=h},ShapePath.prototype.setTripleAt=function(c,h,f,s,v,y,D,M){this.setXYAt(c,h,"v",D,M),this.setXYAt(f,s,"o",D,M),this.setXYAt(v,y,"i",D,M)},ShapePath.prototype.reverse=function(){var c=new ShapePath;c.setPathData(this.c,this._length);var h=this.v,f=this.o,s=this.i,v=0;this.c&&(c.setTripleAt(h[0][0],h[0][1],s[0][0],s[0][1],f[0][0],f[0][1],0,!1),v=1);var M,y=this._length-1,D=this._length;for(M=v;M<D;M+=1)c.setTripleAt(h[y][0],h[y][1],s[y][0],s[y][1],f[y][0],f[y][1],M,!1),y-=1;return c},ShapePath.prototype.length=function(){return this._length};var shapePool=(s=poolFactory(4,function c(){return new ShapePath},function h(v){var D,y=v._length;for(D=0;D<y;D+=1)pointPool.release(v.v[D]),pointPool.release(v.i[D]),pointPool.release(v.o[D]),v.v[D]=null,v.i[D]=null,v.o[D]=null;v._length=0,v.c=!1}),s.clone=function f(v){var D,y=s.newElement(),M=void 0===v._length?v.v.length:v._length;for(y.setLength(M),y.c=v.c,D=0;D<M;D+=1)y.setTripleAt(v.v[D][0],v.v[D][1],v.o[D][0],v.o[D][1],v.i[D][0],v.i[D][1],D);return y},s),s;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(c){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=c,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var c;for(c=0;c<this._length;c+=1)shapePool.release(this.shapes[c]);this._length=0};var shapeCollectionPool=function(){var c={newShapeCollection:function v(){return h?s[h-=1]:new ShapeCollection},release:function y(D){var M,P=D._length;for(M=0;M<P;M+=1)shapePool.release(D.shapes[M]);D._length=0,h===f&&(s=pooling.double(s),f*=2),s[h]=D,h+=1}},h=0,f=4,s=createSizedArray(f);return c}(),ShapePropertyFactory=function(){var c=-999999;function h(z,G,V){var ee,te,re,ae,he,Re,xe,Ie,B=V.lastIndex,$e=this.keyframes;if(z<$e[0].t-this.offsetTime)ee=$e[0].s[0],re=!0,B=0;else if(z>=$e[$e.length-1].t-this.offsetTime)ee=$e[$e.length-1].s?$e[$e.length-1].s[0]:$e[$e.length-2].e[0],re=!0;else{for(var X,oe,be,Te=B,fe=$e.length-1,le=!0;le&&(X=$e[Te],!((oe=$e[Te+1]).t-this.offsetTime>z));)Te<fe-1?Te+=1:le=!1;if(be=this.keyframesMetadata[Te]||{},B=Te,!(re=1===X.h)){if(z>=oe.t-this.offsetTime)Ie=1;else if(z<X.t-this.offsetTime)Ie=0;else{var pe;be.__fnct?pe=be.__fnct:(pe=BezierFactory.getBezierEasing(X.o.x,X.o.y,X.i.x,X.i.y).get,be.__fnct=pe),Ie=pe((z-(X.t-this.offsetTime))/(oe.t-this.offsetTime-(X.t-this.offsetTime)))}te=oe.s?oe.s[0]:X.e[0]}ee=X.s[0]}for(Re=G._length,xe=ee.i[0].length,V.lastIndex=B,ae=0;ae<Re;ae+=1)for(he=0;he<xe;he+=1)G.i[ae][he]=re?ee.i[ae][he]:ee.i[ae][he]+(te.i[ae][he]-ee.i[ae][he])*Ie,G.o[ae][he]=re?ee.o[ae][he]:ee.o[ae][he]+(te.o[ae][he]-ee.o[ae][he])*Ie,G.v[ae][he]=re?ee.v[ae][he]:ee.v[ae][he]+(te.v[ae][he]-ee.v[ae][he])*Ie}function f(){var z=this.comp.renderedFrame-this.offsetTime,G=this.keyframes[0].t-this.offsetTime,V=this.keyframes[this.keyframes.length-1].t-this.offsetTime,B=this._caching.lastFrame;return B!==c&&(B<G&&z<G||B>V&&z>V)||(this._caching.lastIndex=B<z?this._caching.lastIndex:0,this.interpolateShape(z,this.pv,this._caching)),this._caching.lastFrame=z,this.pv}function s(){this.paths=this.localShapeCollection}function y(z){(function v(z,G){if(z._length!==G._length||z.c!==G.c)return!1;var V,B=z._length;for(V=0;V<B;V+=1)if(z.v[V][0]!==G.v[V][0]||z.v[V][1]!==G.v[V][1]||z.o[V][0]!==G.o[V][0]||z.o[V][1]!==G.o[V][1]||z.i[V][0]!==G.i[V][0]||z.i[V][1]!==G.i[V][1])return!1;return!0})(this.v,z)||(this.v=shapePool.clone(z),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function D(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length)return void(this._mdf=!1);if(this.lock)return void this.setVValue(this.pv);var z;this.lock=!0,this._mdf=!1,z=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var G,V=this.effectsSequence.length;for(G=0;G<V;G+=1)z=this.effectsSequence[G](z);this.setVValue(z),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function M(z,G,V){this.propType="shape",this.comp=z.comp,this.container=z,this.elem=z,this.data=G,this.k=!1,this.kf=!1,this._mdf=!1,this.v=shapePool.clone(3===V?G.pt.k:G.ks.k),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s,this.effectsSequence=[]}function P(z){this.effectsSequence.push(z),this.container.addDynamicProperty(this)}function O(z,G,V){this.propType="shape",this.comp=z.comp,this.elem=z,this.container=z,this.offsetTime=z.data.st,this.keyframes=3===V?G.pt.k:G.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var B=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,B),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=c,this.reset=s,this._caching={lastFrame:c,lastIndex:0},this.effectsSequence=[f.bind(this)]}M.prototype.interpolateShape=h,M.prototype.getValue=D,M.prototype.setVValue=y,M.prototype.addEffect=P,O.prototype.getValue=D,O.prototype.interpolateShape=h,O.prototype.setVValue=y,O.prototype.addEffect=P;var j=function(){var z=roundCorner;function G(V,B){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=B.d,this.elem=V,this.comp=V.comp,this.frameId=-1,this.initDynamicPropertyContainer(V),this.p=PropertyFactory.getProp(V,B.p,1,0,this),this.s=PropertyFactory.getProp(V,B.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return G.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var B=this.p.v[0],ee=this.p.v[1],te=this.s.v[0]/2,re=this.s.v[1]/2,ae=3!==this.d,he=this.v;he.v[0][0]=B,he.v[0][1]=ee-re,he.v[1][0]=ae?B+te:B-te,he.v[1][1]=ee,he.v[2][0]=B,he.v[2][1]=ee+re,he.v[3][0]=ae?B-te:B+te,he.v[3][1]=ee,he.i[0][0]=ae?B-te*z:B+te*z,he.i[0][1]=ee-re,he.i[1][0]=ae?B+te:B-te,he.i[1][1]=ee-re*z,he.i[2][0]=ae?B+te*z:B-te*z,he.i[2][1]=ee+re,he.i[3][0]=ae?B-te:B+te,he.i[3][1]=ee+re*z,he.o[0][0]=ae?B+te*z:B-te*z,he.o[0][1]=ee-re,he.o[1][0]=ae?B+te:B-te,he.o[1][1]=ee+re*z,he.o[2][0]=ae?B-te*z:B+te*z,he.o[2][1]=ee+re,he.o[3][0]=ae?B-te:B+te,he.o[3][1]=ee-re*z}},extendPrototype([DynamicPropertyContainer],G),G}(),Q=function(){function z(G,V){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=G,this.comp=G.comp,this.data=V,this.frameId=-1,this.d=V.d,this.initDynamicPropertyContainer(G),1===V.sy?(this.ir=PropertyFactory.getProp(G,V.ir,0,0,this),this.is=PropertyFactory.getProp(G,V.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(G,V.pt,0,0,this),this.p=PropertyFactory.getProp(G,V.p,1,0,this),this.r=PropertyFactory.getProp(G,V.r,0,degToRads,this),this.or=PropertyFactory.getProp(G,V.or,0,0,this),this.os=PropertyFactory.getProp(G,V.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return z.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Ie,_e,$e,Te,V=2*Math.floor(this.pt.v),B=2*Math.PI/V,ee=!0,te=this.or.v,re=this.ir.v,ae=this.os.v,he=this.is.v,Re=2*Math.PI*te/(2*V),xe=2*Math.PI*re/(2*V),fe=-Math.PI/2;fe+=this.r.v;var le=3===this.data.d?-1:1;for(this.v._length=0,Ie=0;Ie<V;Ie+=1){$e=ee?ae:he,Te=ee?Re:xe;var X=(_e=ee?te:re)*Math.cos(fe),oe=_e*Math.sin(fe),be=0===X&&0===oe?0:oe/Math.sqrt(X*X+oe*oe),pe=0===X&&0===oe?0:-X/Math.sqrt(X*X+oe*oe);this.v.setTripleAt(X+=+this.p.v[0],oe+=+this.p.v[1],X-be*Te*$e*le,oe-pe*Te*$e*le,X+be*Te*$e*le,oe+pe*Te*$e*le,Ie,!0),ee=!ee,fe+=B*le}},convertPolygonToPath:function(){var ae,V=Math.floor(this.pt.v),B=2*Math.PI/V,ee=this.or.v,te=this.os.v,re=2*Math.PI*ee/(4*V),he=.5*-Math.PI,Re=3===this.data.d?-1:1;for(he+=this.r.v,this.v._length=0,ae=0;ae<V;ae+=1){var xe=ee*Math.cos(he),Ie=ee*Math.sin(he),_e=0===xe&&0===Ie?0:Ie/Math.sqrt(xe*xe+Ie*Ie),$e=0===xe&&0===Ie?0:-xe/Math.sqrt(xe*xe+Ie*Ie);this.v.setTripleAt(xe+=+this.p.v[0],Ie+=+this.p.v[1],xe-_e*re*te*Re,Ie-$e*re*te*Re,xe+_e*re*te*Re,Ie+$e*re*te*Re,ae,!0),he+=B*Re}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],z),z}(),R=function(){function z(G,V){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=G,this.comp=G.comp,this.frameId=-1,this.d=V.d,this.initDynamicPropertyContainer(G),this.p=PropertyFactory.getProp(G,V.p,1,0,this),this.s=PropertyFactory.getProp(G,V.s,1,0,this),this.r=PropertyFactory.getProp(G,V.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return z.prototype={convertRectToPath:function(){var V=this.p.v[0],B=this.p.v[1],ee=this.s.v[0]/2,te=this.s.v[1]/2,re=bmMin(ee,te,this.r.v),ae=re*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(V+ee,B-te+re,V+ee,B-te+re,V+ee,B-te+ae,0,!0),this.v.setTripleAt(V+ee,B+te-re,V+ee,B+te-ae,V+ee,B+te-re,1,!0),0!==re?(this.v.setTripleAt(V+ee-re,B+te,V+ee-re,B+te,V+ee-ae,B+te,2,!0),this.v.setTripleAt(V-ee+re,B+te,V-ee+ae,B+te,V-ee+re,B+te,3,!0),this.v.setTripleAt(V-ee,B+te-re,V-ee,B+te-re,V-ee,B+te-ae,4,!0),this.v.setTripleAt(V-ee,B-te+re,V-ee,B-te+ae,V-ee,B-te+re,5,!0),this.v.setTripleAt(V-ee+re,B-te,V-ee+re,B-te,V-ee+ae,B-te,6,!0),this.v.setTripleAt(V+ee-re,B-te,V+ee-ae,B-te,V+ee-re,B-te,7,!0)):(this.v.setTripleAt(V-ee,B+te,V-ee+ae,B+te,V-ee,B+te,2),this.v.setTripleAt(V-ee,B-te,V-ee,B-te+ae,V-ee,B-te,3))):(this.v.setTripleAt(V+ee,B-te+re,V+ee,B-te+ae,V+ee,B-te+re,0,!0),0!==re?(this.v.setTripleAt(V+ee-re,B-te,V+ee-re,B-te,V+ee-ae,B-te,1,!0),this.v.setTripleAt(V-ee+re,B-te,V-ee+ae,B-te,V-ee+re,B-te,2,!0),this.v.setTripleAt(V-ee,B-te+re,V-ee,B-te+re,V-ee,B-te+ae,3,!0),this.v.setTripleAt(V-ee,B+te-re,V-ee,B+te-ae,V-ee,B+te-re,4,!0),this.v.setTripleAt(V-ee+re,B+te,V-ee+re,B+te,V-ee+ae,B+te,5,!0),this.v.setTripleAt(V+ee-re,B+te,V+ee-ae,B+te,V+ee-re,B+te,6,!0),this.v.setTripleAt(V+ee,B+te-re,V+ee,B+te-re,V+ee,B+te-ae,7,!0)):(this.v.setTripleAt(V-ee,B-te,V-ee+ae,B-te,V-ee,B-te,1,!0),this.v.setTripleAt(V-ee,B+te,V-ee,B+te-ae,V-ee,B+te,2,!0),this.v.setTripleAt(V+ee,B+te,V+ee-ae,B+te,V+ee,B+te,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:s},extendPrototype([DynamicPropertyContainer],z),z}();return{getShapeProp:function H(z,G,V){var B;return 3===V||4===V?B=(3===V?G.pt:G.ks).k.length?new O(z,G,V):new M(z,G,V):5===V?B=new R(z,G):6===V?B=new j(z,G):7===V&&(B=new Q(z,G)),B.k&&z.addDynamicProperty(B),B},getConstructorFunction:function U(){return M},getKeyframedConstructorFunction:function q(){return O}}}(),Matrix=function(){var c=Math.cos,h=Math.sin,f=Math.tan,s=Math.round;function v(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function y(le){if(0===le)return this;var X=c(le),oe=h(le);return this._t(X,-oe,0,0,oe,X,0,0,0,0,1,0,0,0,0,1)}function D(le){if(0===le)return this;var X=c(le),oe=h(le);return this._t(1,0,0,0,0,X,-oe,0,0,oe,X,0,0,0,0,1)}function M(le){if(0===le)return this;var X=c(le),oe=h(le);return this._t(X,0,oe,0,0,1,0,0,-oe,0,X,0,0,0,0,1)}function P(le){if(0===le)return this;var X=c(le),oe=h(le);return this._t(X,-oe,0,0,oe,X,0,0,0,0,1,0,0,0,0,1)}function O(le,X){return this._t(1,X,le,1,0,0)}function j(le,X){return this.shear(f(le),f(X))}function Q(le,X){var oe=c(X),be=h(X);return this._t(oe,be,0,0,-be,oe,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,f(le),1,0,0,0,0,1,0,0,0,0,1)._t(oe,-be,0,0,be,oe,0,0,0,0,1,0,0,0,0,1)}function R(le,X,oe){return!oe&&0!==oe&&(oe=1),1===le&&1===X&&1===oe?this:this._t(le,0,0,0,0,X,0,0,0,0,oe,0,0,0,0,1)}function H(le,X,oe,be,pe,Ne,Le,nt,Ht,ht,Qe,zt,jt,Ut,Jt,un){return this.props[0]=le,this.props[1]=X,this.props[2]=oe,this.props[3]=be,this.props[4]=pe,this.props[5]=Ne,this.props[6]=Le,this.props[7]=nt,this.props[8]=Ht,this.props[9]=ht,this.props[10]=Qe,this.props[11]=zt,this.props[12]=jt,this.props[13]=Ut,this.props[14]=Jt,this.props[15]=un,this}function U(le,X,oe){return oe=oe||0,0!==le||0!==X||0!==oe?this._t(1,0,0,0,0,1,0,0,0,0,1,0,le,X,oe,1):this}function q(le,X,oe,be,pe,Ne,Le,nt,Ht,ht,Qe,zt,jt,Ut,Jt,un){var lt=this.props;if(1===le&&0===X&&0===oe&&0===be&&0===pe&&1===Ne&&0===Le&&0===nt&&0===Ht&&0===ht&&1===Qe&&0===zt)return lt[12]=lt[12]*le+lt[15]*jt,lt[13]=lt[13]*Ne+lt[15]*Ut,lt[14]=lt[14]*Qe+lt[15]*Jt,lt[15]*=un,this._identityCalculated=!1,this;var on=lt[0],Fn=lt[1],gr=lt[2],nr=lt[3],zr=lt[4],jr=lt[5],ft=lt[6],bn=lt[7],ur=lt[8],Gn=lt[9],Dr=lt[10],rr=lt[11],pn=lt[12],dn=lt[13],an=lt[14],pt=lt[15];return lt[0]=on*le+Fn*pe+gr*Ht+nr*jt,lt[1]=on*X+Fn*Ne+gr*ht+nr*Ut,lt[2]=on*oe+Fn*Le+gr*Qe+nr*Jt,lt[3]=on*be+Fn*nt+gr*zt+nr*un,lt[4]=zr*le+jr*pe+ft*Ht+bn*jt,lt[5]=zr*X+jr*Ne+ft*ht+bn*Ut,lt[6]=zr*oe+jr*Le+ft*Qe+bn*Jt,lt[7]=zr*be+jr*nt+ft*zt+bn*un,lt[8]=ur*le+Gn*pe+Dr*Ht+rr*jt,lt[9]=ur*X+Gn*Ne+Dr*ht+rr*Ut,lt[10]=ur*oe+Gn*Le+Dr*Qe+rr*Jt,lt[11]=ur*be+Gn*nt+Dr*zt+rr*un,lt[12]=pn*le+dn*pe+an*Ht+pt*jt,lt[13]=pn*X+dn*Ne+an*ht+pt*Ut,lt[14]=pn*oe+dn*Le+an*Qe+pt*Jt,lt[15]=pn*be+dn*nt+an*zt+pt*un,this._identityCalculated=!1,this}function ne(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function z(le){for(var X=0;X<16;){if(le.props[X]!==this.props[X])return!1;X+=1}return!0}function G(le){var X;for(X=0;X<16;X+=1)le.props[X]=this.props[X];return le}function V(le){var X;for(X=0;X<16;X+=1)this.props[X]=le[X]}function B(le,X,oe){return{x:le*this.props[0]+X*this.props[4]+oe*this.props[8]+this.props[12],y:le*this.props[1]+X*this.props[5]+oe*this.props[9]+this.props[13],z:le*this.props[2]+X*this.props[6]+oe*this.props[10]+this.props[14]}}function ee(le,X,oe){return le*this.props[0]+X*this.props[4]+oe*this.props[8]+this.props[12]}function te(le,X,oe){return le*this.props[1]+X*this.props[5]+oe*this.props[9]+this.props[13]}function re(le,X,oe){return le*this.props[2]+X*this.props[6]+oe*this.props[10]+this.props[14]}function ae(){var le=this.props[0]*this.props[5]-this.props[1]*this.props[4],X=this.props[5]/le,oe=-this.props[1]/le,be=-this.props[4]/le,pe=this.props[0]/le,Ne=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/le,Le=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/le,nt=new Matrix;return nt.props[0]=X,nt.props[1]=oe,nt.props[4]=be,nt.props[5]=pe,nt.props[12]=Ne,nt.props[13]=Le,nt}function he(le){return this.getInverseMatrix().applyToPointArray(le[0],le[1],le[2]||0)}function Re(le){var X,oe=le.length,be=[];for(X=0;X<oe;X+=1)be[X]=he(le[X]);return be}function xe(le,X,oe){var be=createTypedArray("float32",6);if(this.isIdentity())be[0]=le[0],be[1]=le[1],be[2]=X[0],be[3]=X[1],be[4]=oe[0],be[5]=oe[1];else{var pe=this.props[0],Ne=this.props[1],Le=this.props[4],nt=this.props[5],Ht=this.props[12],ht=this.props[13];be[0]=le[0]*pe+le[1]*Le+Ht,be[1]=le[0]*Ne+le[1]*nt+ht,be[2]=X[0]*pe+X[1]*Le+Ht,be[3]=X[0]*Ne+X[1]*nt+ht,be[4]=oe[0]*pe+oe[1]*Le+Ht,be[5]=oe[0]*Ne+oe[1]*nt+ht}return be}function Ie(le,X,oe){return this.isIdentity()?[le,X,oe]:[le*this.props[0]+X*this.props[4]+oe*this.props[8]+this.props[12],le*this.props[1]+X*this.props[5]+oe*this.props[9]+this.props[13],le*this.props[2]+X*this.props[6]+oe*this.props[10]+this.props[14]]}function _e(le,X){if(this.isIdentity())return le+","+X;var oe=this.props;return Math.round(100*(le*oe[0]+X*oe[4]+oe[12]))/100+","+Math.round(100*(le*oe[1]+X*oe[5]+oe[13]))/100}function $e(){for(var le=0,X=this.props,oe="matrix3d(";le<16;)oe+=s(1e4*X[le])/1e4,oe+=15===le?")":",",le+=1;return oe}function Te(le){return le<1e-6&&le>0||le>-1e-6&&le<0?s(1e4*le)/1e4:le}function fe(){var le=this.props;return"matrix("+Te(le[0])+","+Te(le[1])+","+Te(le[4])+","+Te(le[5])+","+Te(le[12])+","+Te(le[13])+")"}return function(){this.reset=v,this.rotate=y,this.rotateX=D,this.rotateY=M,this.rotateZ=P,this.skew=j,this.skewFromAxis=Q,this.shear=O,this.scale=R,this.setTransform=H,this.translate=U,this.transform=q,this.applyToPoint=B,this.applyToX=ee,this.applyToY=te,this.applyToZ=re,this.applyToPointArray=Ie,this.applyToTriplePoints=xe,this.applyToPointStringified=_e,this.toCSS=$e,this.to2dCSS=fe,this.clone=G,this.cloneFromProps=V,this.equals=z,this.inversePoints=Re,this.inversePoint=he,this.getInverseMatrix=ae,this._t=this.transform,this.isIdentity=ne,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(c){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(c){setLocationHref(c)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(c){setSubframeEnabled(c)}function setPrefix(c){setIdPrefix(c)}function loadAnimation(c){return!0===standalone&&(c.animationData=JSON.parse(animationData)),animationManager.loadAnimation(c)}function setQuality(c){if("string"==typeof c)switch(c){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(c)&&c>1&&setDefaultCurveSegments(c);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return typeof navigator<"u"}function installPlugin(c,h){"expressions"===c&&setExpressionsPlugin(h)}function getFactory(c){switch(c){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(c){for(var h=queryString.split("&"),f=0;f<h.length;f+=1){var s=h[f].split("=");if(decodeURIComponent(s[0])==c)return decodeURIComponent(s[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.11.0";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)}catch(c){}var ShapeModifiers=function(){var c={},h={};return c.registerModifier=function f(v,y){h[v]||(h[v]=y)},c.getModifier=function s(v,y,D){return new h[v](y,D)},c}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(c){if(!this.closed){c.sh.container.addDynamicProperty(c.sh);var h={shape:c.sh,data:c,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(h),this.addShapeToModifier(h),this._isAnimated&&c.setAsAnimated()}},ShapeModifier.prototype.init=function(c,h){this.shapes=[],this.elem=c,this.initDynamicPropertyContainer(c),this.initModifierProperties(c,h),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(c,h){this.s=PropertyFactory.getProp(c,h.s,0,.01,this),this.e=PropertyFactory.getProp(c,h.e,0,.01,this),this.o=PropertyFactory.getProp(c,h.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=h.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(c){c.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(c,h,f,s,v){var y=[];h<=1?y.push({s:c,e:h}):c>=1?y.push({s:c-1,e:h-1}):(y.push({s:c,e:1}),y.push({s:0,e:h-1}));var M,O,D=[],P=y.length;for(M=0;M<P;M+=1)(O=y[M]).e*v<s||O.s*v>s+f||D.push([O.s*v<=s?0:(O.s*v-s)/f,O.e*v>=s+f?1:(O.e*v-s)/f]);return D.length||D.push([0,0]),D},TrimModifier.prototype.releasePathsData=function(c){var h,f=c.length;for(h=0;h<f;h+=1)segmentsLengthPool.release(c[h]);return c.length=0,c},TrimModifier.prototype.processShapes=function(c){var h,f;if(this._mdf||c){var s=this.o.v%360/360;if(s<0&&(s+=1),(h=this.s.v>1?1+s:this.s.v<0?0+s:this.s.v+s)>(f=this.e.v>1?1+s:this.e.v<0?0+s:this.e.v+s)){var v=h;h=f,f=v}h=1e-4*Math.round(1e4*h),f=1e-4*Math.round(1e4*f),this.sValue=h,this.eValue=f}else h=this.sValue,f=this.eValue;var y,D,P,O,j,Q,R,M=this.shapes.length,H=0;if(f===h)for(D=0;D<M;D+=1)this.shapes[D].localShapeCollection.releaseShapes(),this.shapes[D].shape._mdf=!0,this.shapes[D].shape.paths=this.shapes[D].localShapeCollection,this._mdf&&(this.shapes[D].pathsData.length=0);else if(1===f&&0===h||0===f&&1===h){if(this._mdf)for(D=0;D<M;D+=1)this.shapes[D].pathsData.length=0,this.shapes[D].shape._mdf=!0}else{var q,ne,U=[];for(D=0;D<M;D+=1)if((q=this.shapes[D]).shape._mdf||this._mdf||c||2===this.m){if(O=(y=q.shape.paths)._length,R=0,!q.shape._mdf&&q.pathsData.length)R=q.totalShapeLength;else{for(j=this.releasePathsData(q.pathsData),P=0;P<O;P+=1)Q=bez.getSegmentsLength(y.shapes[P]),j.push(Q),R+=Q.totalLength;q.totalShapeLength=R,q.pathsData=j}H+=R,q.shape._mdf=!0}else q.shape.paths=q.localShapeCollection;var B,z=h,G=f,V=0;for(D=M-1;D>=0;D-=1)if((q=this.shapes[D]).shape._mdf){for((ne=q.localShapeCollection).releaseShapes(),2===this.m&&M>1?(B=this.calculateShapeEdges(h,f,q.totalShapeLength,V,H),V+=q.totalShapeLength):B=[[z,G]],O=B.length,P=0;P<O;P+=1){z=B[P][0],G=B[P][1],U.length=0,G<=1?U.push({s:q.totalShapeLength*z,e:q.totalShapeLength*G}):z>=1?U.push({s:q.totalShapeLength*(z-1),e:q.totalShapeLength*(G-1)}):(U.push({s:q.totalShapeLength*z,e:q.totalShapeLength}),U.push({s:0,e:q.totalShapeLength*(G-1)}));var ee=this.addShapes(q,U[0]);if(U[0].s!==U[0].e){if(U.length>1)if(q.shape.paths.shapes[q.shape.paths._length-1].c){var re=ee.pop();this.addPaths(ee,ne),ee=this.addShapes(q,U[1],re)}else this.addPaths(ee,ne),ee=this.addShapes(q,U[1]);this.addPaths(ee,ne)}}q.shape.paths=ne}}},TrimModifier.prototype.addPaths=function(c,h){var f,s=c.length;for(f=0;f<s;f+=1)h.addShape(c[f])},TrimModifier.prototype.addSegment=function(c,h,f,s,v,y,D){v.setXYAt(h[0],h[1],"o",y),v.setXYAt(f[0],f[1],"i",y+1),D&&v.setXYAt(c[0],c[1],"v",y),v.setXYAt(s[0],s[1],"v",y+1)},TrimModifier.prototype.addSegmentFromArray=function(c,h,f,s){h.setXYAt(c[1],c[5],"o",f),h.setXYAt(c[2],c[6],"i",f+1),s&&h.setXYAt(c[0],c[4],"v",f),h.setXYAt(c[3],c[7],"v",f+1)},TrimModifier.prototype.addShapes=function(c,h,f){var y,M,P,j,Q,R,H,q,s=c.pathsData,v=c.shape.paths.shapes,D=c.shape.paths._length,O=0,U=[],ne=!0;for(f?(Q=f._length,q=f._length):(f=shapePool.newElement(),Q=0,q=0),U.push(f),y=0;y<D;y+=1){for(R=s[y].lengths,f.c=v[y].c,P=v[y].c?R.length:R.length+1,M=1;M<P;M+=1)if(O+(j=R[M-1]).addedLength<h.s)O+=j.addedLength,f.c=!1;else{if(O>h.e){f.c=!1;break}h.s<=O&&h.e>=O+j.addedLength?(this.addSegment(v[y].v[M-1],v[y].o[M-1],v[y].i[M],v[y].v[M],f,Q,ne),ne=!1):(H=bez.getNewSegment(v[y].v[M-1],v[y].v[M],v[y].o[M-1],v[y].i[M],(h.s-O)/j.addedLength,(h.e-O)/j.addedLength,R[M-1]),this.addSegmentFromArray(H,f,Q,ne),ne=!1,f.c=!1),O+=j.addedLength,Q+=1}if(v[y].c&&R.length){if(j=R[M-1],O<=h.e){var z=R[M-1].addedLength;h.s<=O&&h.e>=O+z?(this.addSegment(v[y].v[M-1],v[y].o[M-1],v[y].i[0],v[y].v[0],f,Q,ne),ne=!1):(H=bez.getNewSegment(v[y].v[M-1],v[y].v[0],v[y].o[M-1],v[y].i[0],(h.s-O)/z,(h.e-O)/z,R[M-1]),this.addSegmentFromArray(H,f,Q,ne),ne=!1,f.c=!1)}else f.c=!1;O+=j.addedLength,Q+=1}if(f._length&&(f.setXYAt(f.v[q][0],f.v[q][1],"i",q),f.setXYAt(f.v[f._length-1][0],f.v[f._length-1][1],"o",f._length-1)),O>h.e)break;y<D-1&&(f=shapePool.newElement(),ne=!0,U.push(f),Q=0)}return U},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(c,h){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(c,h.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(c,h){var f=h/100,s=[0,0],v=c._length,y=0;for(y=0;y<v;y+=1)s[0]+=c.v[y][0],s[1]+=c.v[y][1];s[0]/=v,s[1]/=v;var D=shapePool.newElement();for(D.c=c.c,y=0;y<v;y+=1)D.setTripleAt(c.v[y][0]+(s[0]-c.v[y][0])*f,c.v[y][1]+(s[1]-c.v[y][1])*f,c.o[y][0]+(s[0]-c.o[y][0])*-f,c.o[y][1]+(s[1]-c.o[y][1])*-f,c.i[y][0]+(s[0]-c.i[y][0])*-f,c.i[y][1]+(s[1]-c.i[y][1])*-f,y);return D},PuckerAndBloatModifier.prototype.processShapes=function(c){var h,f,v,y,M,P,s=this.shapes.length,D=this.amount.v;if(0!==D)for(f=0;f<s;f+=1){if(P=(M=this.shapes[f]).localShapeCollection,M.shape._mdf||this._mdf||c)for(P.releaseShapes(),M.shape._mdf=!0,h=M.shape.paths.shapes,y=M.shape.paths._length,v=0;v<y;v+=1)P.addShape(this.processPath(h[v],D));M.shape.paths=M.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var c=[0,0];function D(P,O,j){if(this.elem=P,this.frameId=-1,this.propType="transform",this.data=O,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(j||P),O.p&&O.p.s?(this.px=PropertyFactory.getProp(P,O.p.x,0,0,this),this.py=PropertyFactory.getProp(P,O.p.y,0,0,this),O.p.z&&(this.pz=PropertyFactory.getProp(P,O.p.z,0,0,this))):this.p=PropertyFactory.getProp(P,O.p||{k:[0,0,0]},1,0,this),O.rx){if(this.rx=PropertyFactory.getProp(P,O.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(P,O.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(P,O.rz,0,degToRads,this),O.or.k[0].ti){var Q,R=O.or.k.length;for(Q=0;Q<R;Q+=1)O.or.k[Q].to=null,O.or.k[Q].ti=null}this.or=PropertyFactory.getProp(P,O.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(P,O.r||{k:0},0,degToRads,this);O.sk&&(this.sk=PropertyFactory.getProp(P,O.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(P,O.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(P,O.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(P,O.s||{k:[100,100,100]},1,.01,this),this.o=O.o?PropertyFactory.getProp(P,O.o,0,.01,P):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return D.prototype={applyToMatrix:function h(P){var O=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||O,this.a&&P.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&P.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&P.skewFromAxis(-this.sk.v,this.sa.v),this.r?P.rotate(-this.r.v):P.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?P.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):P.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function f(P){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||P){var O;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var j,Q;if(O=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(j=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/O,0),Q=this.p.getValueAtTime(this.p.keyframes[0].t/O,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(j=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/O,0),Q=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/O,0)):(j=this.p.pv,Q=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/O,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){j=[],Q=[];var R=this.px,H=this.py;R._caching.lastFrame+R.offsetTime<=R.keyframes[0].t?(j[0]=R.getValueAtTime((R.keyframes[0].t+.01)/O,0),j[1]=H.getValueAtTime((H.keyframes[0].t+.01)/O,0),Q[0]=R.getValueAtTime(R.keyframes[0].t/O,0),Q[1]=H.getValueAtTime(H.keyframes[0].t/O,0)):R._caching.lastFrame+R.offsetTime>=R.keyframes[R.keyframes.length-1].t?(j[0]=R.getValueAtTime(R.keyframes[R.keyframes.length-1].t/O,0),j[1]=H.getValueAtTime(H.keyframes[H.keyframes.length-1].t/O,0),Q[0]=R.getValueAtTime((R.keyframes[R.keyframes.length-1].t-.01)/O,0),Q[1]=H.getValueAtTime((H.keyframes[H.keyframes.length-1].t-.01)/O,0)):(j=[R.pv,H.pv],Q[0]=R.getValueAtTime((R._caching.lastFrame+R.offsetTime-.01)/O,R.offsetTime),Q[1]=H.getValueAtTime((H._caching.lastFrame+H.offsetTime-.01)/O,H.offsetTime))}else j=Q=c;this.v.rotate(-Math.atan2(j[1]-Q[1],j[0]-Q[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function s(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function v(){}},extendPrototype([DynamicPropertyContainer],D),D.prototype.addDynamicProperty=function y(P){this._addDynamicProperty(P),this.elem.addDynamicProperty(P),this._isDirty=!0},D.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function M(P,O,j){return new D(P,O,j)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(c,h){return 1e5*Math.abs(c-h)<=Math.min(Math.abs(c),Math.abs(h))}function floatZero(c){return Math.abs(c)<=1e-5}function lerp(c,h,f){return c*(1-f)+h*f}function lerpPoint(c,h,f){return[lerp(c[0],h[0],f),lerp(c[1],h[1],f)]}function quadRoots(c,h,f){if(0===c)return[];var s=h*h-4*c*f;if(s<0)return[];var v=-h/(2*c);if(0===s)return[v];var y=Math.sqrt(s)/(2*c);return[v-y,v+y]}function polynomialCoefficients(c,h,f,s){return[3*h-c-3*f+s,3*c-6*h+3*f,-3*c+3*h,c]}function singlePoint(c){return new PolynomialBezier(c,c,c,c,!1)}function PolynomialBezier(c,h,f,s,v){v&&pointEqual(c,h)&&(h=lerpPoint(c,s,1/3)),v&&pointEqual(f,s)&&(f=lerpPoint(c,s,2/3));var y=polynomialCoefficients(c[0],h[0],f[0],s[0]),D=polynomialCoefficients(c[1],h[1],f[1],s[1]);this.a=[y[0],D[0]],this.b=[y[1],D[1]],this.c=[y[2],D[2]],this.d=[y[3],D[3]],this.points=[c,h,f,s]}function extrema(c,h){var f=c.points[0][h],s=c.points[c.points.length-1][h];if(f>s){var v=s;s=f,f=v}for(var y=quadRoots(3*c.a[h],2*c.b[h],c.c[h]),D=0;D<y.length;D+=1)if(y[D]>0&&y[D]<1){var M=c.point(y[D])[h];M<f?f=M:M>s&&(s=M)}return{min:f,max:s}}function intersectData(c,h,f){var s=c.boundingBox();return{cx:s.cx,cy:s.cy,width:s.width,height:s.height,bez:c,t:(h+f)/2,t1:h,t2:f}}function splitData(c){var h=c.bez.split(.5);return[intersectData(h[0],c.t1,c.t),intersectData(h[1],c.t,c.t2)]}function boxIntersect(c,h){return 2*Math.abs(c.cx-h.cx)<c.width+h.width&&2*Math.abs(c.cy-h.cy)<c.height+h.height}function intersectsImpl(c,h,f,s,v,y){if(boxIntersect(c,h)){if(f>=y||c.width<=s&&c.height<=s&&h.width<=s&&h.height<=s)return void v.push([c.t,h.t]);var D=splitData(c),M=splitData(h);intersectsImpl(D[0],M[0],f+1,s,v,y),intersectsImpl(D[0],M[1],f+1,s,v,y),intersectsImpl(D[1],M[0],f+1,s,v,y),intersectsImpl(D[1],M[1],f+1,s,v,y)}}function crossProduct(c,h){return[c[1]*h[2]-c[2]*h[1],c[2]*h[0]-c[0]*h[2],c[0]*h[1]-c[1]*h[0]]}function lineIntersection(c,h,f,s){var D=[f[0],f[1],1],M=[s[0],s[1],1],P=crossProduct(crossProduct([c[0],c[1],1],[h[0],h[1],1]),crossProduct(D,M));return floatZero(P[2])?null:[P[0]/P[2],P[1]/P[2]]}function polarOffset(c,h,f){return[c[0]+Math.cos(h)*f,c[1]-Math.sin(h)*f]}function pointDistance(c,h){return Math.hypot(c[0]-h[0],c[1]-h[1])}function pointEqual(c,h){return floatEqual(c[0],h[0])&&floatEqual(c[1],h[1])}function ZigZagModifier(){}function setPoint(c,h,f,s,v,y,D){var M=f-Math.PI/2,P=f+Math.PI/2,O=h[0]+Math.cos(f)*s*v,j=h[1]-Math.sin(f)*s*v;c.setTripleAt(O,j,O+Math.cos(M)*y,j-Math.sin(M)*y,O+Math.cos(P)*D,j-Math.sin(P)*D,c.length())}function getPerpendicularVector(c,h){var f=[h[0]-c[0],h[1]-c[1]],s=.5*-Math.PI;return[Math.cos(s)*f[0]-Math.sin(s)*f[1],Math.sin(s)*f[0]+Math.cos(s)*f[1]]}function getProjectingAngle(c,h){var f=0===h?c.length()-1:h-1,s=(h+1)%c.length(),D=getPerpendicularVector(c.v[f],c.v[s]);return Math.atan2(0,1)-Math.atan2(D[1],D[0])}function zigZagCorner(c,h,f,s,v,y,D){var M=getProjectingAngle(h,f),P=h.v[f%h._length],O=h.v[0===f?h._length-1:f-1],j=h.v[(f+1)%h._length],Q=2===y?Math.sqrt(Math.pow(P[0]-O[0],2)+Math.pow(P[1]-O[1],2)):0,R=2===y?Math.sqrt(Math.pow(P[0]-j[0],2)+Math.pow(P[1]-j[1],2)):0;setPoint(c,h.v[f%h._length],M,D,s,R/(2*(v+1)),Q/(2*(v+1)),y)}function zigZagSegment(c,h,f,s,v,y){for(var D=0;D<s;D+=1){var M=(D+1)/(s+1),P=2===v?Math.sqrt(Math.pow(h.points[3][0]-h.points[0][0],2)+Math.pow(h.points[3][1]-h.points[0][1],2)):0,O=h.normalAngle(M);setPoint(c,h.point(M),O,y,f,P/(2*(s+1)),P/(2*(s+1)),v),y=-y}return y}function linearOffset(c,h,f){var s=Math.atan2(h[0]-c[0],h[1]-c[1]);return[polarOffset(c,s,f),polarOffset(h,s,f)]}function offsetSegment(c,h){var f,s,v,y,D,M,P;f=(P=linearOffset(c.points[0],c.points[1],h))[0],s=P[1],v=(P=linearOffset(c.points[1],c.points[2],h))[0],y=P[1],D=(P=linearOffset(c.points[2],c.points[3],h))[0],M=P[1];var O=lineIntersection(f,s,v,y);null===O&&(O=s);var j=lineIntersection(D,M,v,y);return null===j&&(j=D),new PolynomialBezier(f,O,j,M)}function joinLines(c,h,f,s,v){var y=h.points[3],D=f.points[0];if(3===s||pointEqual(y,D))return y;if(2===s){var M=-h.tangentAngle(1),P=-f.tangentAngle(0)+Math.PI,O=lineIntersection(y,polarOffset(y,M+Math.PI/2,100),D,polarOffset(D,M+Math.PI/2,100)),j=O?pointDistance(O,y):pointDistance(y,D)/2,Q=polarOffset(y,M,2*j*roundCorner);return c.setXYAt(Q[0],Q[1],"o",c.length()-1),Q=polarOffset(D,P,2*j*roundCorner),c.setTripleAt(D[0],D[1],D[0],D[1],Q[0],Q[1],c.length()),D}var U=lineIntersection(pointEqual(y,h.points[2])?h.points[0]:h.points[2],y,D,pointEqual(D,f.points[1])?f.points[3]:f.points[1]);return U&&pointDistance(U,y)<v?(c.setTripleAt(U[0],U[1],U[0],U[1],U[0],U[1],c.length()),U):y}function getIntersection(c,h){var f=c.intersections(h);return f.length&&floatEqual(f[0][0],1)&&f.shift(),f.length?f[0]:null}function pruneSegmentIntersection(c,h){var f=c.slice(),s=h.slice(),v=getIntersection(c[c.length-1],h[0]);return v&&(f[c.length-1]=c[c.length-1].split(v[0])[0],s[0]=h[0].split(v[1])[1]),c.length>1&&h.length>1&&(v=getIntersection(c[0],h[h.length-1]))?[[c[0].split(v[0])[0]],[h[h.length-1].split(v[1])[1]]]:[f,s]}function pruneIntersections(c){for(var h,f=1;f<c.length;f+=1)h=pruneSegmentIntersection(c[f-1],c[f]),c[f-1]=h[0],c[f]=h[1];return c.length>1&&(h=pruneSegmentIntersection(c[c.length-1],c[0]),c[c.length-1]=h[0],c[0]=h[1]),c}function offsetSegmentSplit(c,h){var s,v,y,D,f=c.inflectionPoints();return 0===f.length?[offsetSegment(c,h)]:1===f.length||floatEqual(f[1],1)?(v=(y=c.split(f[0]))[1],[offsetSegment(s=y[0],h),offsetSegment(v,h)]):(s=(y=c.split(f[0]))[0],D=(y=y[1].split((f[1]-f[0])/(1-f[0])))[0],v=y[1],[offsetSegment(s,h),offsetSegment(D,h),offsetSegment(v,h)])}function OffsetPathModifier(){}function getFontProperties(c){for(var y,h=c.fStyle?c.fStyle.split(" "):[],f="normal",s="normal",v=h.length,D=0;D<v;D+=1)switch(y=h[D].toLowerCase(),y){case"italic":s="italic";break;case"bold":f="700";break;case"black":f="900";break;case"medium":f="500";break;case"regular":case"normal":f="400";break;case"light":case"thin":f="200"}return{style:s,weight:c.fWeight||f}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(c,h){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(c,h.c,0,null,this),this.o=PropertyFactory.getProp(c,h.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(c,h.tr,this),this.so=PropertyFactory.getProp(c,h.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(c,h.tr.eo,0,.01,this),this.data=h,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(c,h,f,s,v,y){var D=y?-1:1,M=s.s.v[0]+(1-s.s.v[0])*(1-v),P=s.s.v[1]+(1-s.s.v[1])*(1-v);c.translate(s.p.v[0]*D*v,s.p.v[1]*D*v,s.p.v[2]),h.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),h.rotate(-s.r.v*D*v),h.translate(s.a.v[0],s.a.v[1],s.a.v[2]),f.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),f.scale(y?1/M:M,y?1/P:P),f.translate(s.a.v[0],s.a.v[1],s.a.v[2])},RepeaterModifier.prototype.init=function(c,h,f,s){for(this.elem=c,this.arr=h,this.pos=f,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(c),this.initModifierProperties(c,h[f]);f>0;)this._elements.unshift(h[f-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(c){var h,f=c.length;for(h=0;h<f;h+=1)c[h]._processed=!1,"gr"===c[h].ty&&this.resetElements(c[h].it)},RepeaterModifier.prototype.cloneElements=function(c){var h=JSON.parse(JSON.stringify(c));return this.resetElements(h),h},RepeaterModifier.prototype.changeGroupRender=function(c,h){var f,s=c.length;for(f=0;f<s;f+=1)c[f]._render=h,"gr"===c[f].ty&&this.changeGroupRender(c[f].it,h)},RepeaterModifier.prototype.processShapes=function(c){var h,f,s,v,y,D=!1;if(this._mdf||c){var O,M=Math.ceil(this.c.v);if(this._groups.length<M){for(;this._groups.length<M;){var P={it:this.cloneElements(this._elements),ty:"gr"};P.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,P),this._groups.splice(0,0,P),this._currentCopies+=1}this.elem.reloadShapes(),D=!0}for(y=0,s=0;s<=this._groups.length-1;s+=1){if(this._groups[s]._render=O=y<M,this.changeGroupRender(this._groups[s].it,O),!O){var j=this.elemsData[s].it,Q=j[j.length-1];0!==Q.transform.op.v?(Q.transform.op._mdf=!0,Q.transform.op.v=0):Q.transform.op._mdf=!1}y+=1}this._currentCopies=M;var R=this.o.v,H=R%1,U=R>0?Math.floor(R):Math.ceil(R),q=this.pMatrix.props,ne=this.rMatrix.props,z=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var V,B,G=0;if(R>0){for(;G<U;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),G+=1;H&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,H,!1),G+=H)}else if(R<0){for(;G>U;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),G-=1;H&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-H,!0),G-=H)}for(s=1===this.data.m?0:this._currentCopies-1,v=1===this.data.m?1:-1,y=this._currentCopies;y;){if(B=(f=(h=this.elemsData[s].it)[h.length-1].transform.mProps.v.props).length,h[h.length-1].transform.mProps._mdf=!0,h[h.length-1].transform.op._mdf=!0,h[h.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+s/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==G){for((0!==s&&1===v||s!==this._currentCopies-1&&-1===v)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5],ne[6],ne[7],ne[8],ne[9],ne[10],ne[11],ne[12],ne[13],ne[14],ne[15]),this.matrix.transform(z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],z[8],z[9],z[10],z[11],z[12],z[13],z[14],z[15]),this.matrix.transform(q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],q[8],q[9],q[10],q[11],q[12],q[13],q[14],q[15]),V=0;V<B;V+=1)f[V]=this.matrix.props[V];this.matrix.reset()}else for(this.matrix.reset(),V=0;V<B;V+=1)f[V]=this.matrix.props[V];G+=1,y-=1,s+=v}}else for(y=this._currentCopies,s=0,v=1;y;)f=(h=this.elemsData[s].it)[h.length-1].transform.mProps.v.props,h[h.length-1].transform.mProps._mdf=!1,h[h.length-1].transform.op._mdf=!1,y-=1,s+=v;return D},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(c,h){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(c,h.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(c,h){var f=shapePool.newElement();f.c=c.c;var s,y,D,M,P,O,j,R,H,U,q,ne,z,v=c._length,Q=0;for(s=0;s<v;s+=1)D=c.i[s],(y=c.v[s])[0]===(M=c.o[s])[0]&&y[1]===M[1]&&y[0]===D[0]&&y[1]===D[1]?0!==s&&s!==v-1||c.c?(P=0===s?c.v[v-1]:c.v[s-1],j=(O=Math.sqrt(Math.pow(y[0]-P[0],2)+Math.pow(y[1]-P[1],2)))?Math.min(O/2,h)/O:0,f.setTripleAt(R=ne=y[0]+(P[0]-y[0])*j,H=z=y[1]-(y[1]-P[1])*j,R-(R-y[0])*roundCorner,H-(H-y[1])*roundCorner,ne,z,Q),Q+=1,P=s===v-1?c.v[0]:c.v[s+1],j=(O=Math.sqrt(Math.pow(y[0]-P[0],2)+Math.pow(y[1]-P[1],2)))?Math.min(O/2,h)/O:0,f.setTripleAt(R=U=y[0]+(P[0]-y[0])*j,H=q=y[1]+(P[1]-y[1])*j,U,q,ne=R-(R-y[0])*roundCorner,z=H-(H-y[1])*roundCorner,Q),Q+=1):(f.setTripleAt(y[0],y[1],M[0],M[1],D[0],D[1],Q),Q+=1):(f.setTripleAt(c.v[s][0],c.v[s][1],c.o[s][0],c.o[s][1],c.i[s][0],c.i[s][1],Q),Q+=1);return f},RoundCornersModifier.prototype.processShapes=function(c){var h,f,v,y,M,P,s=this.shapes.length,D=this.rd.v;if(0!==D)for(f=0;f<s;f+=1){if(P=(M=this.shapes[f]).localShapeCollection,M.shape._mdf||this._mdf||c)for(P.releaseShapes(),M.shape._mdf=!0,h=M.shape.paths.shapes,y=M.shape.paths._length,v=0;v<y;v+=1)P.addShape(this.processPath(h[v],D));M.shape.paths=M.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(c){return[((this.a[0]*c+this.b[0])*c+this.c[0])*c+this.d[0],((this.a[1]*c+this.b[1])*c+this.c[1])*c+this.d[1]]},PolynomialBezier.prototype.derivative=function(c){return[(3*c*this.a[0]+2*this.b[0])*c+this.c[0],(3*c*this.a[1]+2*this.b[1])*c+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(c){var h=this.derivative(c);return Math.atan2(h[1],h[0])},PolynomialBezier.prototype.normalAngle=function(c){var h=this.derivative(c);return Math.atan2(h[0],h[1])},PolynomialBezier.prototype.inflectionPoints=function(){var c=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(c))return[];var h=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/c,f=h*h-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/c;if(f<0)return[];var s=Math.sqrt(f);return floatZero(s)?s>0&&s<1?[h]:[]:[h-s,h+s].filter(function(v){return v>0&&v<1})},PolynomialBezier.prototype.split=function(c){if(c<=0)return[singlePoint(this.points[0]),this];if(c>=1)return[this,singlePoint(this.points[this.points.length-1])];var h=lerpPoint(this.points[0],this.points[1],c),f=lerpPoint(this.points[1],this.points[2],c),s=lerpPoint(this.points[2],this.points[3],c),v=lerpPoint(h,f,c),y=lerpPoint(f,s,c),D=lerpPoint(v,y,c);return[new PolynomialBezier(this.points[0],h,v,D,!0),new PolynomialBezier(D,y,s,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var c=this.bounds();return{left:c.x.min,right:c.x.max,top:c.y.min,bottom:c.y.max,width:c.x.max-c.x.min,height:c.y.max-c.y.min,cx:(c.x.max+c.x.min)/2,cy:(c.y.max+c.y.min)/2}},PolynomialBezier.prototype.intersections=function(c,h,f){void 0===h&&(h=2),void 0===f&&(f=7);var s=[];return intersectsImpl(intersectData(this,0,1),intersectData(c,0,1),0,h,s,f),s},PolynomialBezier.shapeSegment=function(c,h){var f=(h+1)%c.length();return new PolynomialBezier(c.v[h],c.o[h],c.i[f],c.v[f],!0)},PolynomialBezier.shapeSegmentInverted=function(c,h){var f=(h+1)%c.length();return new PolynomialBezier(c.v[f],c.i[f],c.o[h],c.v[h],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(c,h){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(c,h.s,0,null,this),this.frequency=PropertyFactory.getProp(c,h.r,0,null,this),this.pointsType=PropertyFactory.getProp(c,h.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(c,h,f,s){var v=c._length,y=shapePool.newElement();if(y.c=c.c,c.c||(v-=1),0===v)return y;var D=-1,M=PolynomialBezier.shapeSegment(c,0);zigZagCorner(y,c,0,h,f,s,D);for(var P=0;P<v;P+=1)D=zigZagSegment(y,M,h,f,s,-D),M=P!==v-1||c.c?PolynomialBezier.shapeSegment(c,(P+1)%v):null,zigZagCorner(y,c,P+1,h,f,s,D);return y},ZigZagModifier.prototype.processShapes=function(c){var h,f,v,y,O,j,s=this.shapes.length,D=this.amplitude.v,M=Math.max(0,Math.round(this.frequency.v)),P=this.pointsType.v;if(0!==D)for(f=0;f<s;f+=1){if(j=(O=this.shapes[f]).localShapeCollection,O.shape._mdf||this._mdf||c)for(j.releaseShapes(),O.shape._mdf=!0,h=O.shape.paths.shapes,y=O.shape.paths._length,v=0;v<y;v+=1)j.addShape(this.processPath(h[v],D,M,P));O.shape.paths=O.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(c,h){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(c,h.a,0,null,this),this.miterLimit=PropertyFactory.getProp(c,h.ml,0,null,this),this.lineJoin=h.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(c,h,f,s){var v=shapePool.newElement();v.c=c.c;var y=c.length();c.c||(y-=1);var D,M,P,O=[];for(D=0;D<y;D+=1)P=PolynomialBezier.shapeSegment(c,D),O.push(offsetSegmentSplit(P,h));if(!c.c)for(D=y-1;D>=0;D-=1)P=PolynomialBezier.shapeSegmentInverted(c,D),O.push(offsetSegmentSplit(P,h));O=pruneIntersections(O);var j=null,Q=null;for(D=0;D<O.length;D+=1){var R=O[D];for(Q&&(j=joinLines(v,Q,R[0],f,s)),Q=R[R.length-1],M=0;M<R.length;M+=1)P=R[M],j&&pointEqual(P.points[0],j)?v.setXYAt(P.points[1][0],P.points[1][1],"o",v.length()-1):v.setTripleAt(P.points[0][0],P.points[0][1],P.points[1][0],P.points[1][1],P.points[0][0],P.points[0][1],v.length()),v.setTripleAt(P.points[3][0],P.points[3][1],P.points[3][0],P.points[3][1],P.points[2][0],P.points[2][1],v.length()),j=P.points[3]}return O.length&&joinLines(v,Q,O[0][0],f,s),v},OffsetPathModifier.prototype.processShapes=function(c){var h,f,v,y,O,j,s=this.shapes.length,D=this.amount.v,M=this.miterLimit.v,P=this.lineJoin;if(0!==D)for(f=0;f<s;f+=1){if(j=(O=this.shapes[f]).localShapeCollection,O.shape._mdf||this._mdf||c)for(j.releaseShapes(),O.shape._mdf=!0,h=O.shape.paths.shapes,y=O.shape.paths._length,v=0;v<y;v+=1)j.addShape(this.processPath(h[v],D,P,M));O.shape.paths=O.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var h={w:0,size:0,shapes:[],data:{shapes:[]}},f=[];f=f.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var s=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],v=[65039,8205];function D(B,ee){var te=createTag("span");te.setAttribute("aria-hidden",!0),te.style.fontFamily=ee;var re=createTag("span");re.innerText="giItT1WQy@!-/#",te.style.position="absolute",te.style.left="-10000px",te.style.top="-10000px",te.style.fontSize="300px",te.style.fontVariant="normal",te.style.fontStyle="normal",te.style.fontWeight="normal",te.style.letterSpacing="0",te.appendChild(re),document.body.appendChild(te);var ae=re.offsetWidth;return re.style.fontFamily=function y(B){var te,ee=B.split(","),re=ee.length,ae=[];for(te=0;te<re;te+=1)"sans-serif"!==ee[te]&&"monospace"!==ee[te]&&ae.push(ee[te]);return ae.join(",")}(B)+", "+ee,{node:re,w:ae,parent:te}}function P(B,ee){var re,te=document.body&&ee?"svg":"canvas",ae=getFontProperties(B);if("svg"===te){var he=createNS("text");he.style.fontSize="100px",he.setAttribute("font-family",B.fFamily),he.setAttribute("font-style",ae.style),he.setAttribute("font-weight",ae.weight),he.textContent="1",B.fClass?(he.style.fontFamily="inherit",he.setAttribute("class",B.fClass)):he.style.fontFamily=B.fFamily,ee.appendChild(he),re=he}else{var Re=new OffscreenCanvas(500,500).getContext("2d");Re.font=ae.style+" "+ae.weight+" 100px "+B.fFamily,re=Re}return{measureText:function xe(Ie){return"svg"===te?(re.textContent=Ie,re.getComputedTextLength()):re.measureText(Ie).width}}}var G=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return G.isModifier=function U(B,ee){var te=B.toString(16)+ee.toString(16);return-1!==s.indexOf(te)},G.isZeroWidthJoiner=function q(B,ee){return ee?B===v[0]&&ee===v[1]:B===v[1]},G.isCombinedCharacter=function ne(B){return-1!==f.indexOf(B)},G.prototype={addChars:function j(B){if(B){this.chars||(this.chars=[]);var ee,re,he,te=B.length,ae=this.chars.length;for(ee=0;ee<te;ee+=1){for(re=0,he=!1;re<ae;)this.chars[re].style===B[ee].style&&this.chars[re].fFamily===B[ee].fFamily&&this.chars[re].ch===B[ee].ch&&(he=!0),re+=1;he||(this.chars.push(B[ee]),ae+=1)}}},addFonts:function O(B,ee){if(B){if(this.chars)return this.isLoaded=!0,void(this.fonts=B.list);if(!document.body)return this.isLoaded=!0,B.list.forEach(function(fe){fe.helper=P(fe),fe.cache={}}),void(this.fonts=B.list);var re,te=B.list,ae=te.length,he=ae;for(re=0;re<ae;re+=1){var xe,Ie,Re=!0;if(te[re].loaded=!1,te[re].monoCase=D(te[re].fFamily,"monospace"),te[re].sansCase=D(te[re].fFamily,"sans-serif"),te[re].fPath){if("p"===te[re].fOrigin||3===te[re].origin){if((xe=document.querySelectorAll('style[f-forigin="p"][f-family="'+te[re].fFamily+'"], style[f-origin="3"][f-family="'+te[re].fFamily+'"]')).length>0&&(Re=!1),Re){var _e=createTag("style");_e.setAttribute("f-forigin",te[re].fOrigin),_e.setAttribute("f-origin",te[re].origin),_e.setAttribute("f-family",te[re].fFamily),_e.type="text/css",_e.innerText="@font-face {font-family: "+te[re].fFamily+"; font-style: normal; src: url('"+te[re].fPath+"');}",ee.appendChild(_e)}}else if("g"===te[re].fOrigin||1===te[re].origin){for(xe=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Ie=0;Ie<xe.length;Ie+=1)-1!==xe[Ie].href.indexOf(te[re].fPath)&&(Re=!1);if(Re){var $e=createTag("link");$e.setAttribute("f-forigin",te[re].fOrigin),$e.setAttribute("f-origin",te[re].origin),$e.type="text/css",$e.rel="stylesheet",$e.href=te[re].fPath,document.body.appendChild($e)}}else if("t"===te[re].fOrigin||2===te[re].origin){for(xe=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Ie=0;Ie<xe.length;Ie+=1)te[re].fPath===xe[Ie].src&&(Re=!1);if(Re){var Te=createTag("link");Te.setAttribute("f-forigin",te[re].fOrigin),Te.setAttribute("f-origin",te[re].origin),Te.setAttribute("rel","stylesheet"),Te.setAttribute("href",te[re].fPath),ee.appendChild(Te)}}}else te[re].loaded=!0,he-=1;te[re].helper=P(te[re],ee),te[re].cache={},this.fonts.push(te[re])}0===he?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function Q(B,ee,te){for(var re=0,ae=this.chars.length;re<ae;){if(this.chars[re].ch===B&&this.chars[re].style===ee&&this.chars[re].fFamily===te)return this.chars[re];re+=1}return("string"==typeof B&&13!==B.charCodeAt(0)||!B)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",B,ee,te)),h},getFontByName:function H(B){for(var ee=0,te=this.fonts.length;ee<te;){if(this.fonts[ee].fName===B)return this.fonts[ee];ee+=1}return this.fonts[0]},measureText:function R(B,ee,te){var re=this.getFontByName(ee),ae=B.charCodeAt(0);if(!re.cache[ae+1]){var he=re.helper;if(" "===B){var Re=he.measureText("|"+B+"|"),xe=he.measureText("||");re.cache[ae+1]=(Re-xe)/100}else re.cache[ae+1]=he.measureText(B)/100}return re.cache[ae+1]*te},checkLoadedFonts:function M(){var B,ee=this.fonts.length,ae=ee;for(B=0;B<ee;B+=1)this.fonts[B].loaded?ae-=1:"n"===this.fonts[B].fOrigin||0===this.fonts[B].origin?this.fonts[B].loaded=!0:((this.fonts[B].monoCase.node.offsetWidth!==this.fonts[B].monoCase.w||this.fonts[B].sansCase.node.offsetWidth!==this.fonts[B].sansCase.w)&&(ae-=1,this.fonts[B].loaded=!0),this.fonts[B].loaded&&(this.fonts[B].sansCase.parent.parentNode.removeChild(this.fonts[B].sansCase.parent),this.fonts[B].monoCase.parent.parentNode.removeChild(this.fonts[B].monoCase.parent)));0!==ae&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function z(){this.isLoaded=!0}},G}();function SlotManager(c){this.animationData=c}function slotFactory(c){return new SlotManager(c)}function RenderableElement(){}SlotManager.prototype.getProp=function(c){return this.animationData.slots&&this.animationData.slots[c.sid]?Object.assign(c,this.animationData.slots[c.sid].p):c},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(h){-1===this.renderableComponents.indexOf(h)&&this.renderableComponents.push(h)},removeRenderableComponent:function(h){-1!==this.renderableComponents.indexOf(h)&&this.renderableComponents.splice(this.renderableComponents.indexOf(h),1)},prepareRenderableFrame:function(h){this.checkLayerLimits(h)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(h){this.data.ip-this.data.st<=h&&this.data.op-this.data.st>h?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var h,f=this.renderableComponents.length;for(h=0;h<f;h+=1)this.renderableComponents[h].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var c={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(h){return c[h]||""}}();function SliderEffect(c,h,f){this.p=PropertyFactory.getProp(h,c.v,0,0,f)}function AngleEffect(c,h,f){this.p=PropertyFactory.getProp(h,c.v,0,0,f)}function ColorEffect(c,h,f){this.p=PropertyFactory.getProp(h,c.v,1,0,f)}function PointEffect(c,h,f){this.p=PropertyFactory.getProp(h,c.v,1,0,f)}function LayerIndexEffect(c,h,f){this.p=PropertyFactory.getProp(h,c.v,0,0,f)}function MaskIndexEffect(c,h,f){this.p=PropertyFactory.getProp(h,c.v,0,0,f)}function CheckboxEffect(c,h,f){this.p=PropertyFactory.getProp(h,c.v,0,0,f)}function NoValueEffect(){this.p={}}function EffectsManager(c,h){var f=c.ef||[];this.effectElements=[];var s,y,v=f.length;for(s=0;s<v;s+=1)y=new GroupEffect(f[s],h),this.effectElements.push(y)}function GroupEffect(c,h){this.init(c,h)}function BaseElement(){}function FrameElement(){}function FootageElement(c,h,f){this.initFrame(),this.initRenderable(),this.assetData=h.getAssetData(c.refId),this.footageData=h.imageLoader.getAsset(this.assetData),this.initBaseData(c,h,f)}function AudioElement(c,h,f){this.initFrame(),this.initRenderable(),this.assetData=h.getAssetData(c.refId),this.initBaseData(c,h,f),this._isPlaying=!1,this._canPlay=!1;var s=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(s),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=c.tm?PropertyFactory.getProp(this,c.tm,0,h.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,c.au&&c.au.lv?c.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(c,h,f){this.data=c,this.element=h,this.globalData=f,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var v,s=this.globalData.defs,y=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(y),this.solidPath="";var D,j,Q,H,U,q,ne,M=this.masksProperties,P=0,O=[],R=createElementID(),z="clipPath",G="clip-path";for(v=0;v<y;v+=1)if(("a"!==M[v].mode&&"n"!==M[v].mode||M[v].inv||100!==M[v].o.k||M[v].o.x)&&(z="mask",G="mask"),"s"!==M[v].mode&&"i"!==M[v].mode||0!==P?H=null:((H=createNS("rect")).setAttribute("fill","#ffffff"),H.setAttribute("width",this.element.comp.data.w||0),H.setAttribute("height",this.element.comp.data.h||0),O.push(H)),D=createNS("path"),"n"===M[v].mode)this.viewData[v]={op:PropertyFactory.getProp(this.element,M[v].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,M[v],3),elem:D,lastPath:""},s.appendChild(D);else{var V;if(P+=1,D.setAttribute("fill","s"===M[v].mode?"#000000":"#ffffff"),D.setAttribute("clip-rule","nonzero"),0!==M[v].x.k?(z="mask",G="mask",ne=PropertyFactory.getProp(this.element,M[v].x,0,null,this.element),V=createElementID(),(U=createNS("filter")).setAttribute("id",V),(q=createNS("feMorphology")).setAttribute("operator","erode"),q.setAttribute("in","SourceGraphic"),q.setAttribute("radius","0"),U.appendChild(q),s.appendChild(U),D.setAttribute("stroke","s"===M[v].mode?"#000000":"#ffffff")):(q=null,ne=null),this.storedData[v]={elem:D,x:ne,expan:q,lastPath:"",lastOperator:"",filterId:V,lastRadius:0},"i"===M[v].mode){Q=O.length;var B=createNS("g");for(j=0;j<Q;j+=1)B.appendChild(O[j]);var ee=createNS("mask");ee.setAttribute("mask-type","alpha"),ee.setAttribute("id",R+"_"+P),ee.appendChild(D),s.appendChild(ee),B.setAttribute("mask","url("+getLocationHref()+"#"+R+"_"+P+")"),O.length=0,O.push(B)}else O.push(D);M[v].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[v]={elem:D,lastPath:"",op:PropertyFactory.getProp(this.element,M[v].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,M[v],3),invRect:H},this.viewData[v].prop.k||this.drawPath(M[v],this.viewData[v].prop.v,this.viewData[v])}for(this.maskElement=createNS(z),y=O.length,v=0;v<y;v+=1)this.maskElement.appendChild(O[v]);P>0&&(this.maskElement.setAttribute("id",R),this.element.maskedElement.setAttribute(G,"url("+getLocationHref()+"#"+R+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(c,h){this.data=c,this.effectElements=[],this.initDynamicPropertyContainer(h);var f,v,s=this.data.ef.length,y=this.data.ef;for(f=0;f<s;f+=1){switch(v=null,y[f].ty){case 0:v=new SliderEffect(y[f],h,this);break;case 1:v=new AngleEffect(y[f],h,this);break;case 2:v=new ColorEffect(y[f],h,this);break;case 3:v=new PointEffect(y[f],h,this);break;case 4:case 7:v=new CheckboxEffect(y[f],h,this);break;case 10:v=new LayerIndexEffect(y[f],h,this);break;case 11:v=new MaskIndexEffect(y[f],h,this);break;case 5:v=new EffectsManager(y[f],h,this);break;default:v=new NoValueEffect(y[f],h,this)}v&&this.effectElements.push(v)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var h=0,f=this.data.masksProperties.length;h<f;){if("n"!==this.data.masksProperties[h].mode&&!1!==this.data.masksProperties[h].cl)return!0;h+=1}return!1},initExpressions:function(){var h=getExpressionInterfaces();if(h){var f=h("layer"),s=h("effects"),v=h("shape"),y=h("text"),D=h("comp");this.layerInterface=f(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var M=s.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(M),0===this.data.ty||this.data.xt?this.compInterface=D(this):4===this.data.ty?(this.layerInterface.shapeInterface=v(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=y(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var h=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=h},initBaseData:function(h,f,s){this.globalData=f,this.comp=s,this.data=h,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(h,f){var s,v=this.dynamicProperties.length;for(s=0;s<v;s+=1)(f||this._isParent&&"transform"===this.dynamicProperties[s].propType)&&(this.dynamicProperties[s].getValue(),this.dynamicProperties[s]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(h){-1===this.dynamicProperties.indexOf(h)&&this.dynamicProperties.push(h)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var c=getExpressionInterfaces();if(c){var h=c("footage");this.layerInterface=h(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(c){this.prepareRenderableFrame(c,!0),this.prepareProperties(c,!0),this._currentTime=this.tm._placeholder?c/this.data.sr:this.tm.v,this._volume=this.lv.v[0];var f=this._volume*this._volumeMultiplier;this._previousVolume!==f&&(this._previousVolume=f,this.audio.volume(f))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(c){this.audio.rate(c)},AudioElement.prototype.volume=function(c){this._volumeMultiplier=c,this._previousVolume=c*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(c){var h,s,f=this.layers.length;for(this.completeLayers=!0,h=f-1;h>=0;h-=1)this.elements[h]||(s=this.layers[h]).ip-s.st<=c-this.layers[h].st&&s.op-s.st>c-this.layers[h].st&&this.buildItem(h),this.completeLayers=!!this.elements[h]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(c){switch(c.ty){case 2:return this.createImage(c);case 0:return this.createComp(c);case 1:return this.createSolid(c);case 3:default:return this.createNull(c);case 4:return this.createShape(c);case 5:return this.createText(c);case 6:return this.createAudio(c);case 13:return this.createCamera(c);case 15:return this.createFootage(c)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(c){return new AudioElement(c,this.globalData,this)},BaseRenderer.prototype.createFootage=function(c){return new FootageElement(c,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var c,h=this.layers.length;for(c=0;c<h;c+=1)this.buildItem(c);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(c){this.completeLayers=!1;var h,s,f=c.length,v=this.layers.length;for(h=0;h<f;h+=1)for(s=0;s<v;){if(this.layers[s].id===c[h].id){this.layers[s]=c[h];break}s+=1}},BaseRenderer.prototype.setProjectInterface=function(c){this.globalData.projectInterface=c},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(c,h,f){for(var s=this.elements,v=this.layers,y=0,D=v.length;y<D;)v[y].ind==h&&(s[y]&&!0!==s[y]?(f.push(s[y]),s[y].setAsParent(),void 0!==v[y].parent?this.buildElementParenting(c,v[y].parent,f):c.setHierarchy(f)):(this.buildItem(y),this.addPendingElement(c))),y+=1},BaseRenderer.prototype.addPendingElement=function(c){this.pendingElements.push(c)},BaseRenderer.prototype.searchExtraCompositions=function(c){var h,f=c.length;for(h=0;h<f;h+=1)if(c[h].xt){var s=this.createComp(c[h]);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},BaseRenderer.prototype.getElementById=function(c){var h,f=this.elements.length;for(h=0;h<f;h+=1)if(this.elements[h].data.ind===c)return this.elements[h];return null},BaseRenderer.prototype.getElementByPath=function(c){var f,h=c.shift();if("number"==typeof h)f=this.elements[h];else{var s,v=this.elements.length;for(s=0;s<v;s+=1)if(this.elements[s].data.nm===h){f=this.elements[s];break}}return 0===c.length?f:f.getElementByPath(c)},BaseRenderer.prototype.setupGlobalData=function(c,h){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(c),this.globalData.fontManager.addChars(c.chars),this.globalData.fontManager.addFonts(c.fonts,h),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=c.fr,this.globalData.nm=c.nm,this.globalData.compSize={w:c.w,h:c.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var h,f=this.finalTransform.mat,s=0,v=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;s<v;){if(this.hierarchy[s].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}s+=1}if(this.finalTransform._matMdf)for(f.cloneFromProps(h=this.finalTransform.mProp.v.props),s=0;s<v;s+=1)f.transform((h=this.hierarchy[s].finalTransform.mProp.v.props)[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])}},globalToLocal:function(h){var f=[];f.push(this.finalTransform);for(var s=!0,v=this.comp;s;)v.finalTransform?(v.data.hasMask&&f.splice(0,0,v.finalTransform),v=v.comp):s=!1;var y,M,D=f.length;for(y=0;y<D;y+=1)M=f[y].mat.applyToPointArray(0,0,0),h=[h[0]-M[0],h[1]-M[1],0];return h},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(c){return this.viewData[c].prop},MaskElement.prototype.renderFrame=function(c){var f,h=this.element.finalTransform.mat,s=this.masksProperties.length;for(f=0;f<s;f+=1)if((this.viewData[f].prop._mdf||c)&&this.drawPath(this.masksProperties[f],this.viewData[f].prop.v,this.viewData[f]),(this.viewData[f].op._mdf||c)&&this.viewData[f].elem.setAttribute("fill-opacity",this.viewData[f].op.v),"n"!==this.masksProperties[f].mode&&(this.viewData[f].invRect&&(this.element.finalTransform.mProp._mdf||c)&&this.viewData[f].invRect.setAttribute("transform",h.getInverseMatrix().to2dCSS()),this.storedData[f].x&&(this.storedData[f].x._mdf||c))){var v=this.storedData[f].expan;this.storedData[f].x.v<0?("erode"!==this.storedData[f].lastOperator&&(this.storedData[f].lastOperator="erode",this.storedData[f].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[f].filterId+")")),v.setAttribute("radius",-this.storedData[f].x.v)):("dilate"!==this.storedData[f].lastOperator&&(this.storedData[f].lastOperator="dilate",this.storedData[f].elem.setAttribute("filter",null)),this.storedData[f].elem.setAttribute("stroke-width",2*this.storedData[f].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var c="M0,0 ";return c+=" h"+this.globalData.compSize.w,c+=" v"+this.globalData.compSize.h,(c+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(c,h,f){var v,y,s=" M"+h.v[0][0]+","+h.v[0][1];for(y=h._length,v=1;v<y;v+=1)s+=" C"+h.o[v-1][0]+","+h.o[v-1][1]+" "+h.i[v][0]+","+h.i[v][1]+" "+h.v[v][0]+","+h.v[v][1];if(h.c&&y>1&&(s+=" C"+h.o[v-1][0]+","+h.o[v-1][1]+" "+h.i[0][0]+","+h.i[0][1]+" "+h.v[0][0]+","+h.v[0][1]),f.lastPath!==s){var D="";f.elem&&(h.c&&(D=c.inv?this.solidPath+s:s),f.elem.setAttribute("d",D)),f.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var c={createFilter:function h(s,v){var y=createNS("filter");return y.setAttribute("id",s),!0!==v&&(y.setAttribute("filterUnits","objectBoundingBox"),y.setAttribute("x","0%"),y.setAttribute("y","0%"),y.setAttribute("width","100%"),y.setAttribute("height","100%")),y},createAlphaToLuminanceFilter:function f(){var s=createNS("feColorMatrix");return s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),s}};return c}(),featureSupport=function(){var c={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(c.maskType=!1),/firefox/i.test(navigator.userAgent)&&(c.svgLumaHidden=!1),c}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(c){var h,M,f="SourceGraphic",s=c.data.ef?c.data.ef.length:0,v=createElementID(),y=filtersFactory.createFilter(v,!0),D=0;for(this.filters=[],h=0;h<s;h+=1){M=null;var P=c.data.ef[h].ty;registeredEffects[P]&&(M=new(0,registeredEffects[P].effect)(y,c.effectsManager.effectElements[h],c,idPrefix+D,f),f=idPrefix+D,registeredEffects[P].countsAsEffect&&(D+=1)),M&&this.filters.push(M)}D&&(c.globalData.defs.appendChild(y),c.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+v+")")),this.filters.length&&c.addRenderableComponent(this)}function registerEffect(c,h,f){registeredEffects[c]={effect:h,countsAsEffect:f}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(c,h,f){this.assetData=h.getAssetData(c.refId),this.assetData&&this.assetData.sid&&(this.assetData=h.slotManager.getProp(this.assetData)),this.initElement(c,h,f),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(c,h){this.elem=c,this.pos=h}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(c){var h,f=this.filters.length;for(h=0;h<f;h+=1)this.filters[h].renderFrame(c)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var h=null;if(this.data.td){this.matteMasks={};var f=createNS("g");f.setAttribute("id",this.layerId),f.appendChild(this.layerElement),h=f,this.globalData.defs.appendChild(f)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),h=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var s=createNS("clipPath"),v=createNS("path");v.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var y=createElementID();if(s.setAttribute("id",y),s.appendChild(v),this.globalData.defs.appendChild(s),this.checkMasks()){var D=createNS("g");D.setAttribute("clip-path","url("+getLocationHref()+"#"+y+")"),D.appendChild(this.layerElement),this.transformedElement=D,h?h.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+y+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},getMatte:function(h){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[h]){var s,v,y,D,f=this.layerId+"_"+h;if(1===h||3===h){var M=createNS("mask");M.setAttribute("id",f),M.setAttribute("mask-type",3===h?"luminance":"alpha"),(y=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),M.appendChild(y),this.globalData.defs.appendChild(M),!featureSupport.maskType&&1===h&&(M.setAttribute("mask-type","luminance"),s=createElementID(),v=filtersFactory.createFilter(s),this.globalData.defs.appendChild(v),v.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(D=createNS("g")).appendChild(y),M.appendChild(D),D.setAttribute("filter","url("+getLocationHref()+"#"+s+")"))}else if(2===h){var P=createNS("mask");P.setAttribute("id",f),P.setAttribute("mask-type","alpha");var O=createNS("g");P.appendChild(O),s=createElementID(),v=filtersFactory.createFilter(s);var j=createNS("feComponentTransfer");j.setAttribute("in","SourceGraphic"),v.appendChild(j);var Q=createNS("feFuncA");Q.setAttribute("type","table"),Q.setAttribute("tableValues","1.0 0.0"),j.appendChild(Q),this.globalData.defs.appendChild(v);var R=createNS("rect");R.setAttribute("width",this.comp.data.w),R.setAttribute("height",this.comp.data.h),R.setAttribute("x","0"),R.setAttribute("y","0"),R.setAttribute("fill","#ffffff"),R.setAttribute("opacity","0"),O.setAttribute("filter","url("+getLocationHref()+"#"+s+")"),O.appendChild(R),(y=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),O.appendChild(y),featureSupport.maskType||(P.setAttribute("mask-type","luminance"),v.appendChild(filtersFactory.createAlphaToLuminanceFilter()),D=createNS("g"),O.appendChild(R),D.appendChild(this.layerElement),O.appendChild(D)),this.globalData.defs.appendChild(P)}this.matteMasks[h]=f}return this.matteMasks[h]},setMatte:function(h){!this.matteElement||this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+h+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(h){this.hierarchy=h},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(f,s,v){this.initFrame(),this.initBaseData(f,s,v),this.initTransform(f,s,v),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(f){this._mdf=!1,this.prepareRenderableFrame(f),this.prepareProperties(f,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var c=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",c),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(h){var f,s=this.shapeModifiers.length;for(f=0;f<s;f+=1)this.shapeModifiers[f].addShape(h)},isShapeInAnimatedModifiers:function(h){for(var s=this.shapeModifiers.length;0<s;)if(this.shapeModifiers[0].isAnimatedWithShape(h))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var h,f=this.shapes.length;for(h=0;h<f;h+=1)this.shapes[h].sh.reset();for(h=(f=this.shapeModifiers.length)-1;h>=0&&!this.shapeModifiers[h].processShapes(this._isFirstFrame);h-=1);}},searchProcessedElement:function(h){for(var f=this.processedElements,s=0,v=f.length;s<v;){if(f[s].elem===h)return f[s].pos;s+=1}return 0},addProcessedElement:function(h,f){for(var s=this.processedElements,v=s.length;v;)if(s[v-=1].elem===h)return void(s[v].pos=f);s.push(new ProcessedElement(h,f))},prepareFrame:function(h){this.prepareRenderableFrame(h),this.prepareProperties(h,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(c,h,f){this.caches=[],this.styles=[],this.transformers=c,this.lStr="",this.sh=f,this.lvl=h,this._isAnimated=!!f.k;for(var s=0,v=c.length;s<v;){if(c[s].mProps.dynamicProperties.length){this._isAnimated=!0;break}s+=1}}function SVGStyleData(c,h){this.data=c,this.type=c.ty,this.d="",this.lvl=h,this._mdf=!1,this.closed=!0===c.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(c,h,f,s){this.elem=c,this.frameId=-1,this.dataProps=createSizedArray(h.length),this.renderer=f,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",h.length?h.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(s);var v,D,y=h.length||0;for(v=0;v<y;v+=1)D=PropertyFactory.getProp(c,h[v].v,0,0,this),this.k=D.k||this.k,this.dataProps[v]={n:h[v].n,p:D};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(c,h,f){this.initDynamicPropertyContainer(c),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(c,h.o,0,.01,this),this.w=PropertyFactory.getProp(c,h.w,0,null,this),this.d=new DashProperty(c,h.d||{},"svg",this),this.c=PropertyFactory.getProp(c,h.c,1,255,this),this.style=f,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(c,h,f){this.initDynamicPropertyContainer(c),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(c,h.o,0,.01,this),this.c=PropertyFactory.getProp(c,h.c,1,255,this),this.style=f}function SVGNoStyleData(c,h,f){this.initDynamicPropertyContainer(c),this.getValue=this.iterateDynamicProperties,this.style=f}function GradientProperty(c,h,f){this.data=h,this.c=createTypedArray("uint8c",4*h.p);var s=h.k.k[0].s?h.k.k[0].s.length-4*h.p:h.k.k.length-4*h.p;this.o=createTypedArray("float32",s),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=s,this.initDynamicPropertyContainer(f),this.prop=PropertyFactory.getProp(c,h.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(c,h,f){this.initDynamicPropertyContainer(c),this.getValue=this.iterateDynamicProperties,this.initGradientData(c,h,f)}function SVGGradientStrokeStyleData(c,h,f){this.initDynamicPropertyContainer(c),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(c,h.w,0,null,this),this.d=new DashProperty(c,h.d||{},"svg",this),this.initGradientData(c,h,f),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(c,h,f){this.transform={mProps:c,op:h,container:f},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(c){if((this.elem.globalData.frameId!==this.frameId||c)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||c,this._mdf)){var h=0,f=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),h=0;h<f;h+=1)"o"!==this.dataProps[h].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[h].p.v:this.dashArray[h]=this.dataProps[h].p.v:this.dashoffset[0]=this.dataProps[h].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(c,h){for(var f=0,s=this.o.length/2;f<s;){if(Math.abs(c[4*f]-c[4*h+2*f])>.01)return!1;f+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var c=0,h=this.data.k.k.length;c<h;){if(!this.comparePoints(this.data.k.k[c].s,this.data.p))return!1;c+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(c){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||c){var h,s,v,f=4*this.data.p;for(h=0;h<f;h+=1)s=h%4==0?100:255,v=Math.round(this.prop.v[h]*s),this.c[h]!==v&&(this.c[h]=v,this._cmdf=!c);if(this.o.length)for(f=this.prop.v.length,h=4*this.data.p;h<f;h+=1)s=h%2==0?100:1,v=h%2==0?Math.round(100*this.prop.v[h]):this.prop.v[h],this.o[h-4*this.data.p]!==v&&(this.o[h-4*this.data.p]=v,this._omdf=!c);this._mdf=!c}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(c,h,f){this.o=PropertyFactory.getProp(c,h.o,0,.01,this),this.s=PropertyFactory.getProp(c,h.s,1,null,this),this.e=PropertyFactory.getProp(c,h.e,1,null,this),this.h=PropertyFactory.getProp(c,h.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(c,h.a||{k:0},0,degToRads,this),this.g=new GradientProperty(c,h.g,this),this.style=f,this.stops=[],this.setGradientData(f.pElem,h),this.setGradientOpacity(h,f),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(c,h){var f=createElementID(),s=createNS(1===h.t?"linearGradient":"radialGradient");s.setAttribute("id",f),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse");var y,D,M,v=[];for(M=4*h.g.p,D=0;D<M;D+=4)y=createNS("stop"),s.appendChild(y),v.push(y);c.setAttribute("gf"===h.ty?"fill":"stroke","url("+getLocationHref()+"#"+f+")"),this.gf=s,this.cst=v},SVGGradientFillStyleData.prototype.setGradientOpacity=function(c,h){if(this.g._hasOpacity&&!this.g._collapsable){var f,s,v,y=createNS("mask"),D=createNS("path");y.appendChild(D);var M=createElementID(),P=createElementID();y.setAttribute("id",P);var O=createNS(1===c.t?"linearGradient":"radialGradient");O.setAttribute("id",M),O.setAttribute("spreadMethod","pad"),O.setAttribute("gradientUnits","userSpaceOnUse"),v=c.g.k.k[0].s?c.g.k.k[0].s.length:c.g.k.k.length;var j=this.stops;for(s=4*c.g.p;s<v;s+=2)(f=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),O.appendChild(f),j.push(f);D.setAttribute("gf"===c.ty?"fill":"stroke","url("+getLocationHref()+"#"+M+")"),"gs"===c.ty&&(D.setAttribute("stroke-linecap",lineCapEnum[c.lc||2]),D.setAttribute("stroke-linejoin",lineJoinEnum[c.lj||2]),1===c.lj&&D.setAttribute("stroke-miterlimit",c.ml)),this.of=O,this.ms=y,this.ost=j,this.maskId=P,h.msElem=D}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(h,f,s,v){if(0===f)return"";var P,y=h.o,D=h.i,M=h.v,O=" M"+v.applyToPointStringified(M[0][0],M[0][1]);for(P=1;P<f;P+=1)O+=" C"+v.applyToPointStringified(y[P-1][0],y[P-1][1])+" "+v.applyToPointStringified(D[P][0],D[P][1])+" "+v.applyToPointStringified(M[P][0],M[P][1]);return s&&f&&(O+=" C"+v.applyToPointStringified(y[P-1][0],y[P-1][1])+" "+v.applyToPointStringified(D[0][0],D[0][1])+" "+v.applyToPointStringified(M[0][0],M[0][1]),O+="z"),O},SVGElementsRenderer=function(){var c=new Matrix,h=new Matrix;function v(Q,R,H){(H||R.transform.op._mdf)&&R.transform.container.setAttribute("opacity",R.transform.op.v),(H||R.transform.mProps._mdf)&&R.transform.container.setAttribute("transform",R.transform.mProps.v.to2dCSS())}function y(){}function D(Q,R,H){var U,q,ne,z,G,V,te,re,ae,he,Re,B=R.styles.length,ee=R.lvl;for(V=0;V<B;V+=1){if(z=R.sh._mdf||H,R.styles[V].lvl<ee){for(re=h.reset(),he=ee-R.styles[V].lvl,Re=R.transformers.length-1;!z&&he>0;)z=R.transformers[Re].mProps._mdf||z,he-=1,Re-=1;if(z)for(he=ee-R.styles[V].lvl,Re=R.transformers.length-1;he>0;)re.transform((ae=R.transformers[Re].mProps.v.props)[0],ae[1],ae[2],ae[3],ae[4],ae[5],ae[6],ae[7],ae[8],ae[9],ae[10],ae[11],ae[12],ae[13],ae[14],ae[15]),he-=1,Re-=1}else re=c;if(q=(te=R.sh.paths)._length,z){for(ne="",U=0;U<q;U+=1)(G=te.shapes[U])&&G._length&&(ne+=buildShapeString(G,G._length,G.c,re));R.caches[V]=ne}else ne=R.caches[V];R.styles[V].d+=!0===Q.hd?"":ne,R.styles[V]._mdf=z||R.styles[V]._mdf}}function M(Q,R,H){var U=R.style;(R.c._mdf||H)&&U.pElem.setAttribute("fill","rgb("+bmFloor(R.c.v[0])+","+bmFloor(R.c.v[1])+","+bmFloor(R.c.v[2])+")"),(R.o._mdf||H)&&U.pElem.setAttribute("fill-opacity",R.o.v)}function P(Q,R,H){O(Q,R,H),j(0,R,H)}function O(Q,R,H){var ee,te,re,ae,xe,U=R.gf,q=R.g._hasOpacity,ne=R.s.v,z=R.e.v;if((R.o._mdf||H)&&R.style.pElem.setAttribute("gf"===Q.ty?"fill-opacity":"stroke-opacity",R.o.v),R.s._mdf||H){var V=1===Q.t?"x1":"cx",B="x1"===V?"y1":"cy";U.setAttribute(V,ne[0]),U.setAttribute(B,ne[1]),q&&!R.g._collapsable&&(R.of.setAttribute(V,ne[0]),R.of.setAttribute(B,ne[1]))}if(R.g._cmdf||H){var he=R.g.c;for(re=(ee=R.cst).length,te=0;te<re;te+=1)(ae=ee[te]).setAttribute("offset",he[4*te]+"%"),ae.setAttribute("stop-color","rgb("+he[4*te+1]+","+he[4*te+2]+","+he[4*te+3]+")")}if(q&&(R.g._omdf||H)){var Re=R.g.o;for(re=(ee=R.g._collapsable?R.cst:R.ost).length,te=0;te<re;te+=1)ae=ee[te],R.g._collapsable||ae.setAttribute("offset",Re[2*te]+"%"),ae.setAttribute("stop-opacity",Re[2*te+1])}if(1===Q.t)(R.e._mdf||H)&&(U.setAttribute("x2",z[0]),U.setAttribute("y2",z[1]),q&&!R.g._collapsable&&(R.of.setAttribute("x2",z[0]),R.of.setAttribute("y2",z[1])));else if((R.s._mdf||R.e._mdf||H)&&(xe=Math.sqrt(Math.pow(ne[0]-z[0],2)+Math.pow(ne[1]-z[1],2)),U.setAttribute("r",xe),q&&!R.g._collapsable&&R.of.setAttribute("r",xe)),R.e._mdf||R.h._mdf||R.a._mdf||H){xe||(xe=Math.sqrt(Math.pow(ne[0]-z[0],2)+Math.pow(ne[1]-z[1],2)));var Ie=Math.atan2(z[1]-ne[1],z[0]-ne[0]),_e=R.h.v;_e>=1?_e=.99:_e<=-1&&(_e=-.99);var $e=xe*_e,Te=Math.cos(Ie+R.a.v)*$e+ne[0],fe=Math.sin(Ie+R.a.v)*$e+ne[1];U.setAttribute("fx",Te),U.setAttribute("fy",fe),q&&!R.g._collapsable&&(R.of.setAttribute("fx",Te),R.of.setAttribute("fy",fe))}}function j(Q,R,H){var U=R.style,q=R.d;q&&(q._mdf||H)&&q.dashStr&&(U.pElem.setAttribute("stroke-dasharray",q.dashStr),U.pElem.setAttribute("stroke-dashoffset",q.dashoffset[0])),R.c&&(R.c._mdf||H)&&U.pElem.setAttribute("stroke","rgb("+bmFloor(R.c.v[0])+","+bmFloor(R.c.v[1])+","+bmFloor(R.c.v[2])+")"),(R.o._mdf||H)&&U.pElem.setAttribute("stroke-opacity",R.o.v),(R.w._mdf||H)&&(U.pElem.setAttribute("stroke-width",R.w.v),U.msElem&&U.msElem.setAttribute("stroke-width",R.w.v))}return{createRenderFunction:function s(Q){switch(Q.ty){case"fl":return M;case"gf":return O;case"gs":return P;case"st":return j;case"sh":case"el":case"rc":case"sr":return D;case"tr":return v;case"no":return y;default:return null}}}}();function SVGShapeElement(c,h,f){this.shapes=[],this.shapesData=c.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(c,h,f),this.prevViewData=[]}function LetterProps(c,h,f,s,v,y){this.o=c,this.sw=h,this.sc=f,this.fc=s,this.m=v,this.p=y,this._mdf={o:!0,sw:!!h,sc:!!f,fc:!!s,m:!0,p:!0}}function TextProperty(c,h){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,h.d&&h.d.sid&&(h.d=c.globalData.slotManager.getProp(h.d)),this.data=h,this.elem=c,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var c,f,s,y,h=this.shapes.length,v=this.stylesList.length,D=[],M=!1;for(s=0;s<v;s+=1){for(y=this.stylesList[s],M=!1,D.length=0,c=0;c<h;c+=1)-1!==(f=this.shapes[c]).styles.indexOf(y)&&(D.push(f),M=f._isAnimated||M);D.length>1&&M&&this.setShapesAsAnimated(D)}},SVGShapeElement.prototype.setShapesAsAnimated=function(c){var h,f=c.length;for(h=0;h<f;h+=1)c[h].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(c,h){var f,s=new SVGStyleData(c,h),v=s.pElem;return"st"===c.ty?f=new SVGStrokeStyleData(this,c,s):"fl"===c.ty?f=new SVGFillStyleData(this,c,s):"gf"===c.ty||"gs"===c.ty?(f=new("gf"===c.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,c,s),this.globalData.defs.appendChild(f.gf),f.maskId&&(this.globalData.defs.appendChild(f.ms),this.globalData.defs.appendChild(f.of),v.setAttribute("mask","url("+getLocationHref()+"#"+f.maskId+")"))):"no"===c.ty&&(f=new SVGNoStyleData(this,c,s)),("st"===c.ty||"gs"===c.ty)&&(v.setAttribute("stroke-linecap",lineCapEnum[c.lc||2]),v.setAttribute("stroke-linejoin",lineJoinEnum[c.lj||2]),v.setAttribute("fill-opacity","0"),1===c.lj&&v.setAttribute("stroke-miterlimit",c.ml)),2===c.r&&v.setAttribute("fill-rule","evenodd"),c.ln&&v.setAttribute("id",c.ln),c.cl&&v.setAttribute("class",c.cl),c.bm&&(v.style["mix-blend-mode"]=getBlendMode(c.bm)),this.stylesList.push(s),this.addToAnimatedContents(c,f),f},SVGShapeElement.prototype.createGroupElement=function(c){var h=new ShapeGroupData;return c.ln&&h.gr.setAttribute("id",c.ln),c.cl&&h.gr.setAttribute("class",c.cl),c.bm&&(h.gr.style["mix-blend-mode"]=getBlendMode(c.bm)),h},SVGShapeElement.prototype.createTransformElement=function(c,h){var f=TransformPropertyFactory.getTransformProperty(this,c,this),s=new SVGTransformData(f,f.o,h);return this.addToAnimatedContents(c,s),s},SVGShapeElement.prototype.createShapeElement=function(c,h,f){var s=4;"rc"===c.ty?s=5:"el"===c.ty?s=6:"sr"===c.ty&&(s=7);var y=new SVGShapeData(h,f,ShapePropertyFactory.getShapeProp(this,c,s,this));return this.shapes.push(y),this.addShapeToModifiers(y),this.addToAnimatedContents(c,y),y},SVGShapeElement.prototype.addToAnimatedContents=function(c,h){for(var f=0,s=this.animatedContents.length;f<s;){if(this.animatedContents[f].element===h)return;f+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(c),element:h,data:c})},SVGShapeElement.prototype.setElementStyles=function(c){var f,h=c.styles,s=this.stylesList.length;for(f=0;f<s;f+=1)this.stylesList[f].closed||h.push(this.stylesList[f])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var c,h=this.itemsData.length;for(c=0;c<h;c+=1)this.prevViewData[c]=this.itemsData[c];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),h=this.dynamicProperties.length,c=0;c<h;c+=1)this.dynamicProperties[c].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(c,h,f,s,v,y,D){var P,j,Q,q,ne,M=[].concat(y),O=c.length-1,R=[],H=[];for(P=O;P>=0;P-=1){if((ne=this.searchProcessedElement(c[P]))?h[P]=f[ne-1]:c[P]._render=D,"fl"===c[P].ty||"st"===c[P].ty||"gf"===c[P].ty||"gs"===c[P].ty||"no"===c[P].ty)ne?h[P].style.closed=!1:h[P]=this.createStyleElement(c[P],v),c[P]._render&&h[P].style.pElem.parentNode!==s&&s.appendChild(h[P].style.pElem),R.push(h[P].style);else if("gr"===c[P].ty){if(ne)for(Q=h[P].it.length,j=0;j<Q;j+=1)h[P].prevViewData[j]=h[P].it[j];else h[P]=this.createGroupElement(c[P]);this.searchShapes(c[P].it,h[P].it,h[P].prevViewData,h[P].gr,v+1,M,D),c[P]._render&&h[P].gr.parentNode!==s&&s.appendChild(h[P].gr)}else"tr"===c[P].ty?(ne||(h[P]=this.createTransformElement(c[P],s)),M.push(h[P].transform)):"sh"===c[P].ty||"rc"===c[P].ty||"el"===c[P].ty||"sr"===c[P].ty?(ne||(h[P]=this.createShapeElement(c[P],M,v)),this.setElementStyles(h[P])):"tm"===c[P].ty||"rd"===c[P].ty||"ms"===c[P].ty||"pb"===c[P].ty||"zz"===c[P].ty||"op"===c[P].ty?(ne?(q=h[P]).closed=!1:((q=ShapeModifiers.getModifier(c[P].ty)).init(this,c[P]),h[P]=q,this.shapeModifiers.push(q)),H.push(q)):"rp"===c[P].ty&&(ne?(q=h[P]).closed=!0:(q=ShapeModifiers.getModifier(c[P].ty),h[P]=q,q.init(this,c,P,h),this.shapeModifiers.push(q),D=!1),H.push(q));this.addProcessedElement(c[P],P+1)}for(O=R.length,P=0;P<O;P+=1)R[P].closed=!0;for(O=H.length,P=0;P<O;P+=1)H[P].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var c,h=this.stylesList.length;for(c=0;c<h;c+=1)this.stylesList[c].reset();for(this.renderShape(),c=0;c<h;c+=1)(this.stylesList[c]._mdf||this._isFirstFrame)&&(this.stylesList[c].msElem&&(this.stylesList[c].msElem.setAttribute("d",this.stylesList[c].d),this.stylesList[c].d="M0 0"+this.stylesList[c].d),this.stylesList[c].pElem.setAttribute("d",this.stylesList[c].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var c,f,h=this.animatedContents.length;for(c=0;c<h;c+=1)f=this.animatedContents[c],(this._isFirstFrame||f.element._isAnimated)&&!0!==f.data&&f.fn(f.data,f.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(c,h,f,s,v,y){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var D=!1;return this.o!==c&&(this.o=c,this._mdf.o=!0,D=!0),this.sw!==h&&(this.sw=h,this._mdf.sw=!0,D=!0),this.sc!==f&&(this.sc=f,this._mdf.sc=!0,D=!0),this.fc!==s&&(this.fc=s,this._mdf.fc=!0,D=!0),this.m!==v&&(this.m=v,this._mdf.m=!0,D=!0),y.length&&(this.p[0]!==y[0]||this.p[1]!==y[1]||this.p[4]!==y[4]||this.p[5]!==y[5]||this.p[12]!==y[12]||this.p[13]!==y[13])&&(this.p=y,this._mdf.p=!0,D=!0),D},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(c,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f]);return c},TextProperty.prototype.setCurrentData=function(c){c.__complete||this.completeTextData(c),this.currentData=c,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(c){this.effectsSequence.push(c),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(c){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||c){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var h=this.currentData,f=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData);this.lock=!0,this._mdf=!1;var s,v=this.effectsSequence.length,y=c||this.data.d.k[this.keysIndex].s;for(s=0;s<v;s+=1)y=this.effectsSequence[s](f!==this.keysIndex?y:this.currentData,y.t);h!==y&&this.setCurrentData(y),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var c=this.data.d.k,h=this.elem.comp.renderedFrame,f=0,s=c.length;f<=s-1&&!(f===s-1||c[f+1].t>h);)f+=1;return this.keysIndex!==f&&(this.keysIndex=f),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(c){for(var v,y,h=[],f=0,s=c.length,D=!1;f<s;)v=c.charCodeAt(f),FontManager.isCombinedCharacter(v)?h[h.length-1]+=c.charAt(f):v>=55296&&v<=56319?(y=c.charCodeAt(f+1))>=56320&&y<=57343?(D||FontManager.isModifier(v,y)?(h[h.length-1]+=c.substr(f,2),D=!1):h.push(c.substr(f,2)),f+=1):h.push(c.charAt(f)):v>56319?(y=c.charCodeAt(f+1),FontManager.isZeroWidthJoiner(v,y)?(D=!0,h[h.length-1]+=c.substr(f,2),f+=1):h.push(c.charAt(f))):FontManager.isZeroWidthJoiner(v)?(h[h.length-1]+=c.charAt(f),D=!0):h.push(c.charAt(f)),f+=1;return h},TextProperty.prototype.completeTextData=function(c){c.__complete=!0;var v,y,D,P,ne,z,V,h=this.elem.globalData.fontManager,f=this.data,s=[],M=0,O=f.m.g,j=0,Q=0,R=0,H=[],U=0,q=0,G=h.getFontByName(c.f),B=0,ee=getFontProperties(G);c.fWeight=ee.weight,c.fStyle=ee.style,c.finalSize=c.s,c.finalText=this.buildFinalText(c.t),y=c.finalText.length,c.finalLineHeight=c.lh;var re,te=c.tr/1e3*c.finalSize;if(c.sz)for(var xe,Ie,ae=!0,he=c.sz[0],Re=c.sz[1];ae;){xe=0,U=0,y=(Ie=this.buildFinalText(c.t)).length,te=c.tr/1e3*c.finalSize;var _e=-1;for(v=0;v<y;v+=1)re=Ie[v].charCodeAt(0),D=!1," "===Ie[v]?_e=v:(13===re||3===re)&&(U=0,D=!0,xe+=c.finalLineHeight||1.2*c.finalSize),h.chars?(V=h.getCharData(Ie[v],G.fStyle,G.fFamily),B=D?0:V.w*c.finalSize/100):B=h.measureText(Ie[v],c.f,c.finalSize),U+B>he&&" "!==Ie[v]?(-1===_e?y+=1:v=_e,xe+=c.finalLineHeight||1.2*c.finalSize,Ie.splice(v,_e===v?1:0,"\r"),_e=-1,U=0):(U+=B,U+=te);xe+=G.ascent*c.finalSize/100,this.canResize&&c.finalSize>this.minimumFontSize&&Re<xe?(c.finalSize-=1,c.finalLineHeight=c.finalSize*c.lh/c.s):(c.finalText=Ie,y=c.finalText.length,ae=!1)}U=-te,B=0;var Te,$e=0;for(v=0;v<y;v+=1)if(D=!1,13===(re=(Te=c.finalText[v]).charCodeAt(0))||3===re?($e=0,H.push(U),q=U>q?U:q,U=-2*te,P="",D=!0,R+=1):P=Te,h.chars?(V=h.getCharData(Te,G.fStyle,h.getFontByName(c.f).fFamily),B=D?0:V.w*c.finalSize/100):B=h.measureText(P,c.f,c.finalSize)," "===Te?$e+=B+te:(U+=B+te+$e,$e=0),s.push({l:B,an:B,add:j,n:D,anIndexes:[],val:P,line:R,animatorJustifyOffset:0}),2==O){if(j+=B,""===P||" "===P||v===y-1){for((""===P||" "===P)&&(j-=B);Q<=v;)s[Q].an=j,s[Q].ind=M,s[Q].extra=B,Q+=1;M+=1,j=0}}else if(3==O){if(j+=B,""===P||v===y-1){for(""===P&&(j-=B);Q<=v;)s[Q].an=j,s[Q].ind=M,s[Q].extra=B,Q+=1;j=0,M+=1}}else s[M].ind=M,s[M].extra=0,M+=1;if(c.l=s,q=U>q?U:q,H.push(U),c.sz)c.boxWidth=c.sz[0],c.justifyOffset=0;else switch(c.boxWidth=q,c.j){case 1:c.justifyOffset=-c.boxWidth;break;case 2:c.justifyOffset=-c.boxWidth/2;break;default:c.justifyOffset=0}c.lineWidths=H;var le,X,fe=f.a;z=fe.length;var oe,be,pe=[];for(ne=0;ne<z;ne+=1){for((le=fe[ne]).a.sc&&(c.strokeColorAnim=!0),le.a.sw&&(c.strokeWidthAnim=!0),(le.a.fc||le.a.fh||le.a.fs||le.a.fb)&&(c.fillColorAnim=!0),be=0,oe=le.s.b,v=0;v<y;v+=1)(X=s[v]).anIndexes[ne]=be,(1==oe&&""!==X.val||2==oe&&""!==X.val&&" "!==X.val||3==oe&&(X.n||" "==X.val||v==y-1)||4==oe&&(X.n||v==y-1))&&(1===le.s.rn&&pe.push(be),be+=1);f.a[ne].s.totalChars=be;var Le,Ne=-1;if(1===le.s.rn)for(v=0;v<y;v+=1)Ne!=(X=s[v]).anIndexes[ne]&&(Ne=X.anIndexes[ne],Le=pe.splice(Math.floor(Math.random()*pe.length),1)[0]),X.anIndexes[ne]=Le}c.yOffset=c.finalLineHeight||1.2*c.finalSize,c.ls=c.ls||0,c.ascent=G.ascent*c.finalSize/100},TextProperty.prototype.updateDocumentData=function(c,h){var f=this.copyData({},this.data.d.k[h=void 0===h?this.keysIndex:h].s);f=this.copyData(f,c),this.data.d.k[h].s=f,this.recalculate(h),this.setCurrentData(f),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(c){var h=this.data.d.k[c].s;h.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(h)},TextProperty.prototype.canResizeFont=function(c){this.canResize=c,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(c){this.minimumFontSize=Math.floor(c)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var c=Math.max,h=Math.min,f=Math.floor;function s(y,D){this._currentTextLength=-1,this.k=!1,this.data=D,this.elem=y,this.comp=y.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(y),this.s=PropertyFactory.getProp(y,D.s||{k:0},0,0,this),this.e="e"in D?PropertyFactory.getProp(y,D.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(y,D.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(y,D.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(y,D.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(y,D.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(y,D.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return s.prototype={getMult:function(D){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var M=0,P=0,O=1,j=1;this.ne.v>0?M=this.ne.v/100:P=-this.ne.v/100,this.xe.v>0?O=1-this.xe.v/100:j=1+this.xe.v/100;var Q=BezierFactory.getBezierEasing(M,P,O,j).get,R=0,H=this.finalS,U=this.finalE,q=this.data.sh;if(2===q)R=Q(R=U===H?D>=U?1:0:c(0,h(.5/(U-H)+(D-H)/(U-H),1)));else if(3===q)R=Q(R=U===H?D>=U?0:1:1-c(0,h(.5/(U-H)+(D-H)/(U-H),1)));else if(4===q)U===H?R=0:(R=c(0,h(.5/(U-H)+(D-H)/(U-H),1)))<.5?R*=2:R=1-2*(R-.5),R=Q(R);else if(5===q){if(U===H)R=0;else{var ne=U-H,z=-ne/2+(D=h(c(0,D+.5-H),U-H)),G=ne/2;R=Math.sqrt(1-z*z/(G*G))}R=Q(R)}else 6===q?(U===H?R=0:(D=h(c(0,D+.5-H),U-H),R=(1+Math.cos(Math.PI+2*Math.PI*D/(U-H)))/2),R=Q(R)):(D>=f(H)&&(R=c(0,h(D-H<0?h(U,1)-(H-D):U-D,1))),R=Q(R));if(100!==this.sm.v){var V=.01*this.sm.v;0===V&&(V=1e-8);var B=.5-.5*V;R<B?R=0:(R=(R-B)/V)>1&&(R=1)}return R*this.a.v},getValue:function(D){this.iterateDynamicProperties(),this._mdf=D||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,D&&2===this.data.r&&(this.e.v=this._currentTextLength);var M=2===this.data.r?1:100/this.data.totalChars,P=this.o.v/M,O=this.s.v/M+P,j=this.e.v/M+P;if(O>j){var Q=O;O=j,j=Q}this.finalS=O,this.finalE=j}},extendPrototype([DynamicPropertyContainer],s),{getTextSelectorProp:function v(y,D,M){return new s(y,D,M)}}}();function TextAnimatorDataProperty(c,h,f){var s={propType:!1},v=PropertyFactory.getProp,y=h.a;this.a={r:y.r?v(c,y.r,0,degToRads,f):s,rx:y.rx?v(c,y.rx,0,degToRads,f):s,ry:y.ry?v(c,y.ry,0,degToRads,f):s,sk:y.sk?v(c,y.sk,0,degToRads,f):s,sa:y.sa?v(c,y.sa,0,degToRads,f):s,s:y.s?v(c,y.s,1,.01,f):s,a:y.a?v(c,y.a,1,0,f):s,o:y.o?v(c,y.o,0,.01,f):s,p:y.p?v(c,y.p,1,0,f):s,sw:y.sw?v(c,y.sw,0,0,f):s,sc:y.sc?v(c,y.sc,1,0,f):s,fc:y.fc?v(c,y.fc,1,0,f):s,fh:y.fh?v(c,y.fh,0,0,f):s,fs:y.fs?v(c,y.fs,0,.01,f):s,fb:y.fb?v(c,y.fb,0,.01,f):s,t:y.t?v(c,y.t,0,0,f):s},this.s=TextSelectorProp.getTextSelectorProp(c,h.s,f),this.s.t=h.s.t}function TextAnimatorProperty(c,h,f){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=c,this._renderType=h,this._elem=f,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(f)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var c,h=this._textData.a.length,s=PropertyFactory.getProp;for(c=0;c<h;c+=1)this._animatorsData[c]=new TextAnimatorDataProperty(this._elem,this._textData.a[c],this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:s(this._elem,this._textData.p.a,0,0,this),f:s(this._elem,this._textData.p.f,0,0,this),l:s(this._elem,this._textData.p.l,0,0,this),r:s(this._elem,this._textData.p.r,0,0,this),p:s(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=s(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(c,h){if(this.lettersChangedFlag=h,this._mdf||this._isFirstFrame||h||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var P,O,j,Q,H,U,q,ne,z,G,V,B,ee,te,re,ae,he,xe,f=this._moreOptions.alignment.v,s=this._animatorsData,v=this._textData,y=this.mHelper,D=this._renderType,M=this.renderedLetters.length,R=c.l;if(this._hasMaskedPath){if(xe=this._pathData.m,!this._pathData.n||this._pathData._mdf){var _e,Ie=xe.v;for(this._pathData.r.v&&(Ie=Ie.reverse()),H={tLength:0,segments:[]},Q=Ie._length-1,ae=0,j=0;j<Q;j+=1)_e=bez.buildBezierData(Ie.v[j],Ie.v[j+1],[Ie.o[j][0]-Ie.v[j][0],Ie.o[j][1]-Ie.v[j][1]],[Ie.i[j+1][0]-Ie.v[j+1][0],Ie.i[j+1][1]-Ie.v[j+1][1]]),H.tLength+=_e.segmentLength,H.segments.push(_e),ae+=_e.segmentLength;j=Q,xe.v.c&&(_e=bez.buildBezierData(Ie.v[j],Ie.v[0],[Ie.o[j][0]-Ie.v[j][0],Ie.o[j][1]-Ie.v[j][1]],[Ie.i[0][0]-Ie.v[0][0],Ie.i[0][1]-Ie.v[0][1]]),H.tLength+=_e.segmentLength,H.segments.push(_e),ae+=_e.segmentLength),this._pathData.pi=H}if(V=0,G=1,ne=0,z=!0,te=(H=this._pathData.pi).segments,(U=this._pathData.f.v)<0&&xe.v.c)for(H.tLength<Math.abs(U)&&(U=-Math.abs(U)%H.tLength),G=(ee=te[V=te.length-1].points).length-1;U<0;)U+=ee[G].partialLength,(G-=1)<0&&(G=(ee=te[V-=1].points).length-1);B=(ee=te[V].points)[G-1],re=(q=ee[G]).partialLength}Q=R.length,P=0,O=0;var fe,X,oe,be,$e=1.2*c.finalSize*.714,Te=!0;oe=s.length;var pe,Le,nt,Ht,Ut,Jt,un,lt,on,Fn,gr,nr,ft,Ne=-1,ht=U,Qe=V,zt=G,jt=-1,zr="",jr=this.defaultPropsArray;if(2===c.j||1===c.j){var bn=0,ur=0,Gn=2===c.j?-.5:-1,Dr=0,rr=!0;for(j=0;j<Q;j+=1)if(R[j].n){for(bn&&(bn+=ur);Dr<j;)R[Dr].animatorJustifyOffset=bn,Dr+=1;bn=0,rr=!0}else{for(X=0;X<oe;X+=1)(fe=s[X].a).t.propType&&(rr&&2===c.j&&(ur+=fe.t.v*Gn),bn+=(pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars)).length?fe.t.v*pe[0]*Gn:fe.t.v*pe*Gn);rr=!1}for(bn&&(bn+=ur);Dr<j;)R[Dr].animatorJustifyOffset=bn,Dr+=1}for(j=0;j<Q;j+=1){if(y.reset(),Ut=1,R[j].n)P=0,O+=c.yOffset,O+=Te?1:0,U=ht,Te=!1,this._hasMaskedPath&&(B=(ee=te[V=Qe].points)[(G=zt)-1],re=(q=ee[G]).partialLength,ne=0),zr="",nr="",Fn="",ft="",jr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(jt!==R[j].line){switch(c.j){case 1:U+=ae-c.lineWidths[R[j].line];break;case 2:U+=(ae-c.lineWidths[R[j].line])/2}jt=R[j].line}Ne!==R[j].ind&&(R[Ne]&&(U+=R[Ne].extra),U+=R[j].an/2,Ne=R[j].ind),U+=f[0]*R[j].an*.005;var pn=0;for(X=0;X<oe;X+=1)(fe=s[X].a).p.propType&&(pn+=(pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars)).length?fe.p.v[0]*pe[0]:fe.p.v[0]*pe),fe.a.propType&&(pn+=(pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars)).length?fe.a.v[0]*pe[0]:fe.a.v[0]*pe);for(z=!0,this._pathData.a.v&&(U=.5*R[0].an+(ae-this._pathData.f.v-.5*R[0].an-.5*R[R.length-1].an)*Ne/(Q-1),U+=this._pathData.f.v);z;)ne+re>=U+pn||!ee?(nt=B.point[0]+(q.point[0]-B.point[0])*(he=(U+pn-ne)/q.partialLength),Ht=B.point[1]+(q.point[1]-B.point[1])*he,y.translate(-f[0]*R[j].an*.005,-f[1]*$e*.01),z=!1):ee&&(ne+=q.partialLength,(G+=1)>=ee.length&&(G=0,te[V+=1]?ee=te[V].points:xe.v.c?(G=0,ee=te[V=0].points):(ne-=q.partialLength,ee=null)),ee&&(B=q,re=(q=ee[G]).partialLength));y.translate(-(Le=R[j].an/2-R[j].add),0,0)}else y.translate(-(Le=R[j].an/2-R[j].add),0,0),y.translate(-f[0]*R[j].an*.005,-f[1]*$e*.01,0);for(X=0;X<oe;X+=1)(fe=s[X].a).t.propType&&(pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars),(0!==P||0!==c.j)&&(this._hasMaskedPath?U+=pe.length?fe.t.v*pe[0]:fe.t.v*pe:P+=pe.length?fe.t.v*pe[0]:fe.t.v*pe));for(c.strokeWidthAnim&&(un=c.sw||0),c.strokeColorAnim&&(Jt=c.sc?[c.sc[0],c.sc[1],c.sc[2]]:[0,0,0]),c.fillColorAnim&&c.fc&&(lt=[c.fc[0],c.fc[1],c.fc[2]]),X=0;X<oe;X+=1)(fe=s[X].a).a.propType&&((pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars)).length?y.translate(-fe.a.v[0]*pe[0],-fe.a.v[1]*pe[1],fe.a.v[2]*pe[2]):y.translate(-fe.a.v[0]*pe,-fe.a.v[1]*pe,fe.a.v[2]*pe));for(X=0;X<oe;X+=1)(fe=s[X].a).s.propType&&((pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars)).length?y.scale(1+(fe.s.v[0]-1)*pe[0],1+(fe.s.v[1]-1)*pe[1],1):y.scale(1+(fe.s.v[0]-1)*pe,1+(fe.s.v[1]-1)*pe,1));for(X=0;X<oe;X+=1){if(fe=s[X].a,pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars),fe.sk.propType&&(pe.length?y.skewFromAxis(-fe.sk.v*pe[0],fe.sa.v*pe[1]):y.skewFromAxis(-fe.sk.v*pe,fe.sa.v*pe)),fe.r.propType&&y.rotateZ(pe.length?-fe.r.v*pe[2]:-fe.r.v*pe),fe.ry.propType&&y.rotateY(pe.length?fe.ry.v*pe[1]:fe.ry.v*pe),fe.rx.propType&&y.rotateX(pe.length?fe.rx.v*pe[0]:fe.rx.v*pe),fe.o.propType&&(Ut+=pe.length?(fe.o.v*pe[0]-Ut)*pe[0]:(fe.o.v*pe-Ut)*pe),c.strokeWidthAnim&&fe.sw.propType&&(un+=pe.length?fe.sw.v*pe[0]:fe.sw.v*pe),c.strokeColorAnim&&fe.sc.propType)for(on=0;on<3;on+=1)Jt[on]+=pe.length?(fe.sc.v[on]-Jt[on])*pe[0]:(fe.sc.v[on]-Jt[on])*pe;if(c.fillColorAnim&&c.fc){if(fe.fc.propType)for(on=0;on<3;on+=1)lt[on]+=pe.length?(fe.fc.v[on]-lt[on])*pe[0]:(fe.fc.v[on]-lt[on])*pe;fe.fh.propType&&(lt=addHueToRGB(lt,pe.length?fe.fh.v*pe[0]:fe.fh.v*pe)),fe.fs.propType&&(lt=addSaturationToRGB(lt,pe.length?fe.fs.v*pe[0]:fe.fs.v*pe)),fe.fb.propType&&(lt=addBrightnessToRGB(lt,pe.length?fe.fb.v*pe[0]:fe.fb.v*pe))}}for(X=0;X<oe;X+=1)(fe=s[X].a).p.propType&&(pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars),this._hasMaskedPath?pe.length?y.translate(0,fe.p.v[1]*pe[0],-fe.p.v[2]*pe[1]):y.translate(0,fe.p.v[1]*pe,-fe.p.v[2]*pe):pe.length?y.translate(fe.p.v[0]*pe[0],fe.p.v[1]*pe[1],-fe.p.v[2]*pe[2]):y.translate(fe.p.v[0]*pe,fe.p.v[1]*pe,-fe.p.v[2]*pe));if(c.strokeWidthAnim&&(Fn=un<0?0:un),c.strokeColorAnim&&(gr="rgb("+Math.round(255*Jt[0])+","+Math.round(255*Jt[1])+","+Math.round(255*Jt[2])+")"),c.fillColorAnim&&c.fc&&(nr="rgb("+Math.round(255*lt[0])+","+Math.round(255*lt[1])+","+Math.round(255*lt[2])+")"),this._hasMaskedPath){if(y.translate(0,-c.ls),y.translate(0,f[1]*$e*.01+O,0),this._pathData.p.v){var dn=180*Math.atan((q.point[1]-B.point[1])/(q.point[0]-B.point[0]))/Math.PI;q.point[0]<B.point[0]&&(dn+=180),y.rotate(-dn*Math.PI/180)}y.translate(nt,Ht,0),U-=f[0]*R[j].an*.005,R[j+1]&&Ne!==R[j+1].ind&&(U+=R[j].an/2,U+=.001*c.tr*c.finalSize)}else{switch(y.translate(P,O,0),c.ps&&y.translate(c.ps[0],c.ps[1]+c.ascent,0),c.j){case 1:y.translate(R[j].animatorJustifyOffset+c.justifyOffset+(c.boxWidth-c.lineWidths[R[j].line]),0,0);break;case 2:y.translate(R[j].animatorJustifyOffset+c.justifyOffset+(c.boxWidth-c.lineWidths[R[j].line])/2,0,0)}y.translate(0,-c.ls),y.translate(Le,0,0),y.translate(f[0]*R[j].an*.005,f[1]*$e*.01,0),P+=R[j].l+.001*c.tr*c.finalSize}"html"===D?zr=y.toCSS():"svg"===D?zr=y.to2dCSS():jr=[y.props[0],y.props[1],y.props[2],y.props[3],y.props[4],y.props[5],y.props[6],y.props[7],y.props[8],y.props[9],y.props[10],y.props[11],y.props[12],y.props[13],y.props[14],y.props[15]],ft=Ut}M<=j?(be=new LetterProps(ft,Fn,gr,nr,zr,jr),this.renderedLetters.push(be),M+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(be=this.renderedLetters[j]).update(ft,Fn,gr,nr,zr,jr)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(c,h,f){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(c,h,f),this.textProperty=new TextProperty(this,c.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(c.t,this.renderType,this),this.initTransform(c,h,f),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(c){this._mdf=!1,this.prepareRenderableFrame(c),this.prepareProperties(c,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(c,h){var f,v,s=h.length,y="";for(f=0;f<s;f+=1)"sh"===h[f].ty&&(y+=buildShapeString(v=h[f].ks.k,v.i.length,!0,c));return y},ITextElement.prototype.updateDocumentData=function(c,h){this.textProperty.updateDocumentData(c,h)},ITextElement.prototype.canResizeFont=function(c){this.textProperty.canResizeFont(c)},ITextElement.prototype.setMinimumFontSize=function(c){this.textProperty.setMinimumFontSize(c)},ITextElement.prototype.applyTextPropertiesToMatrix=function(c,h,f,s,v){switch(c.ps&&h.translate(c.ps[0],c.ps[1]+c.ascent,0),h.translate(0,-c.ls,0),c.j){case 1:h.translate(c.justifyOffset+(c.boxWidth-c.lineWidths[f]),0,0);break;case 2:h.translate(c.justifyOffset+(c.boxWidth-c.lineWidths[f])/2,0,0)}h.translate(s,v,0)},ITextElement.prototype.buildColor=function(c){return"rgb("+Math.round(255*c[0])+","+Math.round(255*c[1])+","+Math.round(255*c[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(c,h,f){this.textSpans=[],this.renderType="svg",this.initElement(c,h,f)}function ISolidElement(c,h,f){this.initElement(c,h,f)}function NullElement(c,h,f){this.initFrame(),this.initBaseData(c,h,f),this.initFrame(),this.initTransform(c,h,f),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(c,h,f){this.layers=c.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(c,h,f),this.tm=c.tm?PropertyFactory.getProp(this,c.tm,0,h.frameRate,this):{_placeholder:!0}}function SVGRenderer(c,h){this.animationItem=c,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var f="";if(h&&h.title){var s=createNS("title"),v=createElementID();s.setAttribute("id",v),s.textContent=h.title,this.svgElement.appendChild(s),f+=v}if(h&&h.description){var y=createNS("desc"),D=createElementID();y.setAttribute("id",D),y.textContent=h.description,this.svgElement.appendChild(y),f+=" "+D}f&&this.svgElement.setAttribute("aria-labelledby",f);var M=createNS("defs");this.svgElement.appendChild(M);var P=createNS("g");this.svgElement.appendChild(P),this.layerElement=P,this.renderConfig={preserveAspectRatio:h&&h.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:h&&h.contentVisibility||"visible",progressiveLoad:h&&h.progressiveLoad||!1,hideOnTransparent:!(h&&!1===h.hideOnTransparent),viewBoxOnly:h&&h.viewBoxOnly||!1,viewBoxSize:h&&h.viewBoxSize||!1,className:h&&h.className||"",id:h&&h.id||"",focusable:h&&h.focusable,filterSize:{width:h&&h.filterSize&&h.filterSize.width||"100%",height:h&&h.filterSize&&h.filterSize.height||"100%",x:h&&h.filterSize&&h.filterSize.x||"0%",y:h&&h.filterSize&&h.filterSize.y||"0%"},width:h&&h.width,height:h&&h.height,runExpressions:!h||void 0===h.runExpressions||h.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:M,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var c;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),c=0;c<15;c+=1)this.saved[c]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(c){for(var h=0,f=c.length,s=[],v="";h<f;)c[h]===String.fromCharCode(13)||c[h]===String.fromCharCode(3)?(s.push(v),v=""):v+=c[h],h+=1;return s.push(v),s},SVGTextLottieElement.prototype.buildShapeData=function(c,h){if(c.shapes&&c.shapes.length){var f=c.shapes[0];if(f.it){var s=f.it[f.it.length-1];s.s&&(s.s.k[0]=h,s.s.k[1]=h)}}return c},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var c,h,f=this.textProperty.currentData;this.renderedLetters=createSizedArray(f?f.l.length:0),this.layerElement.setAttribute("fill",f.fc?this.buildColor(f.fc):"rgba(0,0,0,0)"),f.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(f.sc)),this.layerElement.setAttribute("stroke-width",f.sw)),this.layerElement.setAttribute("font-size",f.finalSize);var s=this.globalData.fontManager.getFontByName(f.f);if(s.fClass)this.layerElement.setAttribute("class",s.fClass);else{this.layerElement.setAttribute("font-family",s.fFamily);var v=f.fWeight;this.layerElement.setAttribute("font-style",f.fStyle),this.layerElement.setAttribute("font-weight",v)}this.layerElement.setAttribute("aria-label",f.t);var D=f.l||[],M=!!this.globalData.fontManager.chars;h=D.length;var P,O=this.mHelper,Q=this.data.singleShape,R=0,H=0,U=!0,q=.001*f.tr*f.finalSize;if(!Q||M||f.sz){var B,V=this.textSpans.length;for(c=0;c<h;c+=1){if(this.textSpans[c]||(this.textSpans[c]={span:null,childSpan:null,glyph:null}),!M||!Q||0===c){if(P=V>c?this.textSpans[c].span:createNS(M?"g":"text"),V<=c){if(P.setAttribute("stroke-linecap","butt"),P.setAttribute("stroke-linejoin","round"),P.setAttribute("stroke-miterlimit","4"),this.textSpans[c].span=P,M){var ee=createNS("g");P.appendChild(ee),this.textSpans[c].childSpan=ee}this.textSpans[c].span=P,this.layerElement.appendChild(P)}P.style.display="inherit"}if(O.reset(),Q&&(D[c].n&&(R=-q,H+=f.yOffset,H+=U?1:0,U=!1),this.applyTextPropertiesToMatrix(f,O,D[c].line,R,H),R+=D[c].l||0,R+=q),M){var te;if(1===(B=this.globalData.fontManager.getCharData(f.finalText[c],s.fStyle,this.globalData.fontManager.getFontByName(f.f).fFamily)).t)te=new SVGCompElement(B.data,this.globalData,this);else{var re=emptyShapeData;B.data&&B.data.shapes&&(re=this.buildShapeData(B.data,f.finalSize)),te=new SVGShapeElement(re,this.globalData,this)}if(this.textSpans[c].glyph){var ae=this.textSpans[c].glyph;this.textSpans[c].childSpan.removeChild(ae.layerElement),ae.destroy()}this.textSpans[c].glyph=te,te._debug=!0,te.prepareFrame(0),te.renderFrame(),this.textSpans[c].childSpan.appendChild(te.layerElement),1===B.t&&this.textSpans[c].childSpan.setAttribute("transform","scale("+f.finalSize/100+","+f.finalSize/100+")")}else Q&&P.setAttribute("transform","translate("+O.props[12]+","+O.props[13]+")"),P.textContent=D[c].val,P.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Q&&P&&P.setAttribute("d","")}else{var ne=this.textContainer,z="start";switch(f.j){case 1:z="end";break;case 2:z="middle";break;default:z="start"}ne.setAttribute("text-anchor",z),ne.setAttribute("letter-spacing",q);var G=this.buildTextContents(f.finalText);for(h=G.length,H=f.ps?f.ps[1]+f.ascent:0,c=0;c<h;c+=1)(P=this.textSpans[c].span||createNS("tspan")).textContent=G[c],P.setAttribute("x",0),P.setAttribute("y",H),P.style.display="inherit",ne.appendChild(P),this.textSpans[c]||(this.textSpans[c]={span:null,glyph:null}),this.textSpans[c].span=P,H+=f.finalLineHeight;this.layerElement.appendChild(ne)}for(;c<this.textSpans.length;)this.textSpans[c].span.style.display="none",c+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var c=this.layerElement.getBBox();this.bbox={top:c.y,left:c.x,width:c.width,height:c.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var c,f,h=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,c=0;c<h;c+=1)(f=this.textSpans[c].glyph)&&(f.prepareFrame(this.comp.renderedFrame-this.data.st),f._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var c,h,v,y,D,f=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(h=s.length,c=0;c<h;c+=1)s[c].n||(v=f[c],y=this.textSpans[c].span,(D=this.textSpans[c].glyph)&&D.renderFrame(),v._mdf.m&&y.setAttribute("transform",v.m),v._mdf.o&&y.setAttribute("opacity",v.o),v._mdf.sw&&y.setAttribute("stroke-width",v.sw),v._mdf.sc&&y.setAttribute("stroke",v.sc),v._mdf.fc&&y.setAttribute("fill",v.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var c=createNS("rect");c.setAttribute("width",this.data.sw),c.setAttribute("height",this.data.sh),c.setAttribute("fill",this.data.sc),this.layerElement.appendChild(c)},NullElement.prototype.prepareFrame=function(c){this.prepareProperties(c,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(c){return new NullElement(c,this.globalData,this)},SVGRendererBase.prototype.createShape=function(c){return new SVGShapeElement(c,this.globalData,this)},SVGRendererBase.prototype.createText=function(c){return new SVGTextLottieElement(c,this.globalData,this)},SVGRendererBase.prototype.createImage=function(c){return new IImageElement(c,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(c){return new ISolidElement(c,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(c){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+c.w+" "+c.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",c.w),this.svgElement.setAttribute("height",c.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var h=this.globalData.defs;this.setupGlobalData(c,h),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=c;var f=createNS("clipPath"),s=createNS("rect");s.setAttribute("width",c.w),s.setAttribute("height",c.h),s.setAttribute("x",0),s.setAttribute("y",0);var v=createElementID();f.setAttribute("id",v),f.appendChild(s),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+v+")"),h.appendChild(f),this.layers=c.layers,this.elements=createSizedArray(c.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var c,h=this.layers?this.layers.length:0;for(c=0;c<h;c+=1)this.elements[c]&&this.elements[c].destroy&&this.elements[c].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(c){var h=0,f=this.layers.length;for(h=0;h<f;h+=1)if(this.layers[h].ind===c)return h;return-1},SVGRendererBase.prototype.buildItem=function(c){var h=this.elements;if(!h[c]&&99!==this.layers[c].ty){h[c]=!0;var f=this.createItem(this.layers[c]);if(h[c]=f,getExpressionsPlugin()&&(0===this.layers[c].ty&&this.globalData.projectInterface.registerComposition(f),f.initExpressions()),this.appendElementInPos(f,c),this.layers[c].tt){var s="tp"in this.layers[c]?this.findIndexByInd(this.layers[c].tp):c-1;if(-1===s)return;if(this.elements[s]&&!0!==this.elements[s]){var y=h[s].getMatte(this.layers[c].tt);f.setMatte(y)}else this.buildItem(s),this.addPendingElement(f)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var c=this.pendingElements.pop();if(c.checkParenting(),c.data.tt)for(var h=0,f=this.elements.length;h<f;){if(this.elements[h]===c){var s="tp"in c.data?this.findIndexByInd(c.data.tp):h-1,y=this.elements[s].getMatte(this.layers[h].tt);c.setMatte(y);break}h+=1}}},SVGRendererBase.prototype.renderFrame=function(c){if(this.renderedFrame!==c&&!this.destroyed){null===c?c=this.renderedFrame:this.renderedFrame=c,this.globalData.frameNum=c,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=c,this.globalData._mdf=!1;var h,f=this.layers.length;for(this.completeLayers||this.checkLayers(c),h=f-1;h>=0;h-=1)(this.completeLayers||this.elements[h])&&this.elements[h].prepareFrame(c-this.layers[h].st);if(this.globalData._mdf)for(h=0;h<f;h+=1)(this.completeLayers||this.elements[h])&&this.elements[h].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(c,h){var f=c.getBaseElement();if(f){for(var v,s=0;s<h;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement()&&(v=this.elements[s].getBaseElement()),s+=1;v?this.layerElement.insertBefore(f,v):this.layerElement.appendChild(f)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(c,h,f){this.initFrame(),this.initBaseData(c,h,f),this.initTransform(c,h,f),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!h.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(c){if(this._mdf=!1,this.prepareRenderableFrame(c),this.prepareProperties(c,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=c/this.data.sr;else{var h=this.tm.v;h===this.data.op&&(h=this.data.op-1),this.renderedFrame=h}var f,s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),f=s-1;f>=0;f-=1)(this.completeLayers||this.elements[f])&&(this.elements[f].prepareFrame(this.renderedFrame-this.layers[f].st),this.elements[f]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var c,h=this.layers.length;for(c=0;c<h;c+=1)(this.completeLayers||this.elements[c])&&this.elements[c].renderFrame()},ICompElement.prototype.setElements=function(c){this.elements=c},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var c,h=this.layers.length;for(c=0;c<h;c+=1)this.elements[c]&&this.elements[c].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(c){return new SVGCompElement(c,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(c){return new SVGCompElement(c,this.globalData,this)},CVContextData.prototype.duplicate=function(){var c=2*this._length,h=this.savedOp;this.savedOp=createTypedArray("float32",c),this.savedOp.set(h);var f=0;for(f=this._length;f<c;f+=1)this.saved[f]=createTypedArray("float32",16);this._length=c},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVContextData.prototype.popTransform=function(){var h,c=this.saved[this.cArrPos],f=this.cTr.props;for(h=0;h<16;h+=1)f[h]=c[h];return c},CVContextData.prototype.popOpacity=function(){var c=this.savedOp[this.cArrPos];return this.cO=c,c},CVContextData.prototype.pop=function(){return this.cArrPos-=1,{transform:this.popTransform(),opacity:this.popOpacity()}},CVContextData.prototype.push=function(){var c=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var h,f=this.saved[this.cArrPos];for(h=0;h<16;h+=1)f[h]=c[h];this.savedOp[this.cArrPos]=this.cO,this.cArrPos+=1},CVContextData.prototype.getTransform=function(){return this.cTr},CVContextData.prototype.getOpacity=function(){return this.cO},CVContextData.prototype.setOpacity=function(c){this.cO=c},ShapeTransformManager.prototype={addTransformSequence:function(h){var f,s=h.length,v="_";for(f=0;f<s;f+=1)v+=h[f].transform.key+"_";var y=this.sequences[v];return y||(y={transforms:[].concat(h),finalTransform:new Matrix,_mdf:!1},this.sequences[v]=y,this.sequenceList.push(y)),y},processSequence:function(h,f){for(var s=0,v=h.transforms.length,y=f;s<v&&!f;){if(h.transforms[s].transform.mProps._mdf){y=!0;break}s+=1}var D;if(y)for(h.finalTransform.reset(),s=v-1;s>=0;s-=1)h.finalTransform.transform((D=h.transforms[s].transform.mProps.v.props)[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],D[8],D[9],D[10],D[11],D[12],D[13],D[14],D[15]);h._mdf=y},processSequences:function(h){var f,s=this.sequenceList.length;for(f=0;f<s;f+=1)this.processSequence(this.sequenceList[f],h)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var h="__lottie_element_luma_buffer",f=null,s=null,v=null;function D(){f||(v=function y(){var P=createNS("svg"),O=createNS("filter"),j=createNS("feColorMatrix");return O.setAttribute("id",h),j.setAttribute("type","matrix"),j.setAttribute("color-interpolation-filters","sRGB"),j.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),O.appendChild(j),P.appendChild(O),P.setAttribute("id",h+"_svg"),featureSupport.svgLumaHidden&&(P.style.display="none"),P}(),document.body.appendChild(v),f=createTag("canvas"),(s=f.getContext("2d")).filter="url(#"+h+")",s.fillStyle="rgba(0,0,0,0)",s.fillRect(0,0,1,1))}return{load:D,get:function M(P){return f||D(),f.width=P.width,f.height=P.height,s.filter="url(#"+h+")",f}}};function createCanvas(c,h){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(c,h);var f=createTag("canvas");return f.width=c,f.height=h,f}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas};function CVEffects(){}function CVMaskElement(c,h){this.data=c,this.element=h,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var f,s=this.masksProperties.length,v=!1;for(f=0;f<s;f+=1)"n"!==this.masksProperties[f].mode&&(v=!0),this.viewData[f]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[f],3);this.hasMasks=v,v&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var f,v,y,D,c=this.element.finalTransform.mat,h=this.element.canvasContext,s=this.masksProperties.length;for(h.beginPath(),f=0;f<s;f+=1)if("n"!==this.masksProperties[f].mode){this.masksProperties[f].inv&&(h.moveTo(0,0),h.lineTo(this.element.globalData.compSize.w,0),h.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),h.lineTo(0,this.element.globalData.compSize.h),h.lineTo(0,0)),v=c.applyToPointArray((D=this.viewData[f].v).v[0][0],D.v[0][1],0),h.moveTo(v[0],v[1]);var M,P=D._length;for(M=1;M<P;M+=1)y=c.applyToTriplePoints(D.o[M-1],D.i[M],D.v[M]),h.bezierCurveTo(y[0],y[1],y[2],y[3],y[4],y[5]);y=c.applyToTriplePoints(D.o[M-1],D.i[0],D.v[0]),h.bezierCurveTo(y[0],y[1],y[2],y[3],y[4],y[5])}this.element.globalData.renderer.save(!0),h.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(c,h,f,s){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var v=4;"rc"===h.ty?v=5:"el"===h.ty?v=6:"sr"===h.ty&&(v=7),this.sh=ShapePropertyFactory.getShapeProp(c,h,v,c);var y,M,D=f.length;for(y=0;y<D;y+=1)f[y].closed||(M={transforms:s.addTransformSequence(f[y].transforms),trNodes:[]},this.styledShapes.push(M),f[y].elements.push(M))}function CVShapeElement(c,h,f){this.shapes=[],this.shapesData=c.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(c,h,f)}function CVTextElement(c,h,f){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(c,h,f)}function CVImageElement(c,h,f){this.assetData=h.getAssetData(c.refId),this.img=h.imageLoader.getAsset(this.assetData),this.initElement(c,h,f)}function CVSolidElement(c,h,f){this.initElement(c,h,f)}function CanvasRendererBase(c,h){this.animationItem=c,this.renderConfig={clearCanvas:!h||void 0===h.clearCanvas||h.clearCanvas,context:h&&h.context||null,progressiveLoad:h&&h.progressiveLoad||!1,preserveAspectRatio:h&&h.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:h&&h.contentVisibility||"visible",className:h&&h.className||"",id:h&&h.id||""},this.renderConfig.dpr=h&&h.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=h&&h.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(c,h,f){this.completeLayers=!1,this.layers=c.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(c,h,f),this.tm=c.tm?PropertyFactory.getProp(this,c.tm,0,h.frameRate,this):{_placeholder:!0}}function CanvasRenderer(c,h){this.animationItem=c,this.renderConfig={clearCanvas:!h||void 0===h.clearCanvas||h.clearCanvas,context:h&&h.context||null,progressiveLoad:h&&h.progressiveLoad||!1,preserveAspectRatio:h&&h.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:h&&h.contentVisibility||"visible",className:h&&h.className||"",id:h&&h.id||"",runExpressions:!h||void 0===h.runExpressions||h.runExpressions},this.renderConfig.dpr=h&&h.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=h&&h.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(c,h,f){this.initElement(c,h,f)}function HShapeElement(c,h,f){this.shapes=[],this.shapesData=c.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(c,h,f),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(c,h,f){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(c,h,f)}function HCameraElement(c,h,f){this.initFrame(),this.initBaseData(c,h,f),this.initHierarchy();var s=PropertyFactory.getProp;if(this.pe=s(this,c.pe,0,0,this),c.ks.p.s?(this.px=s(this,c.ks.p.x,1,0,this),this.py=s(this,c.ks.p.y,1,0,this),this.pz=s(this,c.ks.p.z,1,0,this)):this.p=s(this,c.ks.p,1,0,this),c.ks.a&&(this.a=s(this,c.ks.a,1,0,this)),c.ks.or.k.length&&c.ks.or.k[0].to){var v,y=c.ks.or.k.length;for(v=0;v<y;v+=1)c.ks.or.k[v].to=null,c.ks.or.k[v].ti=null}this.or=s(this,c.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=s(this,c.ks.rx,0,degToRads,this),this.ry=s(this,c.ks.ry,0,degToRads,this),this.rz=s(this,c.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(c,h,f){this.assetData=h.getAssetData(c.refId),this.initElement(c,h,f)}function HybridRendererBase(c,h){this.animationItem=c,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:h&&h.className||"",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(h&&!1===h.hideOnTransparent),filterSize:{width:h&&h.filterSize&&h.filterSize.width||"400%",height:h&&h.filterSize&&h.filterSize.height||"400%",x:h&&h.filterSize&&h.filterSize.x||"-100%",y:h&&h.filterSize&&h.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(c,h,f){this.layers=c.layers,this.supports3d=!c.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(c,h,f),this.tm=c.tm?PropertyFactory.getProp(this,c.tm,0,h.frameRate,this):{_placeholder:!0}}function HybridRenderer(c,h){this.animationItem=c,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:h&&h.className||"",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(h&&!1===h.hideOnTransparent),filterSize:{width:h&&h.filterSize&&h.filterSize.width||"400%",height:h&&h.filterSize&&h.filterSize.height||"400%",x:h&&h.filterSize&&h.filterSize.x||"-100%",y:h&&h.filterSize&&h.filterSize.y||"-100%"},runExpressions:!h||void 0===h.runExpressions||h.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var h=this.globalData.canvasContext,f=assetLoader.createCanvas(h.canvas.width,h.canvas.height);this.buffers.push(f);var s=assetLoader.createCanvas(h.canvas.width,h.canvas.height);this.buffers.push(s),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var h=this.globalData;if(h.blendMode!==this.data.bm){h.blendMode=this.data.bm;var f=getBlendMode(this.data.bm);h.canvasContext.globalCompositeOperation=f}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(h){h.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var f=this.buffers[0].getContext("2d");this.clearCanvas(f),f.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var h=this.buffers[1],f=h.getContext("2d");if(this.clearCanvas(f),f.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var v=assetLoader.getLumaCanvas(this.canvasContext.canvas);v.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(v,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(h,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(h){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||h)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var f=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(f),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(f),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(c,h){var f={data:c,type:c.ty,preTransforms:this.transformsManager.addTransformSequence(h),transforms:[],elements:[],closed:!0===c.hd},s={};if("fl"===c.ty||"st"===c.ty?(s.c=PropertyFactory.getProp(this,c.c,1,255,this),s.c.k||(f.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")")):("gf"===c.ty||"gs"===c.ty)&&(s.s=PropertyFactory.getProp(this,c.s,1,null,this),s.e=PropertyFactory.getProp(this,c.e,1,null,this),s.h=PropertyFactory.getProp(this,c.h||{k:0},0,.01,this),s.a=PropertyFactory.getProp(this,c.a||{k:0},0,degToRads,this),s.g=new GradientProperty(this,c.g,this)),s.o=PropertyFactory.getProp(this,c.o,0,.01,this),"st"===c.ty||"gs"===c.ty){if(f.lc=lineCapEnum[c.lc||2],f.lj=lineJoinEnum[c.lj||2],1==c.lj&&(f.ml=c.ml),s.w=PropertyFactory.getProp(this,c.w,0,null,this),s.w.k||(f.wi=s.w.v),c.d){var v=new DashProperty(this,c.d,"canvas",this);s.d=v,s.d.k||(f.da=s.d.dashArray,f.do=s.d.dashoffset[0])}}else f.r=2===c.r?"evenodd":"nonzero";return this.stylesList.push(f),s.style=f,s},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(c){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,c.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,c,this)}}},CVShapeElement.prototype.createShapeElement=function(c){var h=new CVShapeData(this,c,this.stylesList,this.transformsManager);return this.shapes.push(h),this.addShapeToModifiers(h),h},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var c,h=this.itemsData.length;for(c=0;c<h;c+=1)this.prevViewData[c]=this.itemsData[c];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),h=this.dynamicProperties.length,c=0;c<h;c+=1)this.dynamicProperties[c].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(c){var h,f=this.stylesList.length;for(h=0;h<f;h+=1)this.stylesList[h].closed||this.stylesList[h].transforms.push(c)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var c,h=this.stylesList.length;for(c=0;c<h;c+=1)this.stylesList[c].closed||this.stylesList[c].transforms.pop()},CVShapeElement.prototype.closeStyles=function(c){var h,f=c.length;for(h=0;h<f;h+=1)c[h].closed=!0},CVShapeElement.prototype.searchShapes=function(c,h,f,s,v){var y,M,P,Q,R,H,D=c.length-1,O=[],j=[],U=[].concat(v);for(y=D;y>=0;y-=1){if((Q=this.searchProcessedElement(c[y]))?h[y]=f[Q-1]:c[y]._shouldRender=s,"fl"===c[y].ty||"st"===c[y].ty||"gf"===c[y].ty||"gs"===c[y].ty)Q?h[y].style.closed=!1:h[y]=this.createStyleElement(c[y],U),O.push(h[y].style);else if("gr"===c[y].ty){if(Q)for(P=h[y].it.length,M=0;M<P;M+=1)h[y].prevViewData[M]=h[y].it[M];else h[y]=this.createGroupElement(c[y]);this.searchShapes(c[y].it,h[y].it,h[y].prevViewData,s,U)}else"tr"===c[y].ty?(Q||(H=this.createTransformElement(c[y]),h[y]=H),U.push(h[y]),this.addTransformToStyleList(h[y])):"sh"===c[y].ty||"rc"===c[y].ty||"el"===c[y].ty||"sr"===c[y].ty?Q||(h[y]=this.createShapeElement(c[y])):"tm"===c[y].ty||"rd"===c[y].ty||"pb"===c[y].ty||"zz"===c[y].ty||"op"===c[y].ty?(Q?(R=h[y]).closed=!1:((R=ShapeModifiers.getModifier(c[y].ty)).init(this,c[y]),h[y]=R,this.shapeModifiers.push(R)),j.push(R)):"rp"===c[y].ty&&(Q?(R=h[y]).closed=!0:(R=ShapeModifiers.getModifier(c[y].ty),h[y]=R,R.init(this,c,y,h),this.shapeModifiers.push(R),s=!1),j.push(R));this.addProcessedElement(c[y],y+1)}for(this.removeTransformFromStyleList(),this.closeStyles(O),D=j.length,y=0;y<D;y+=1)j[y].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(c,h){(c._opMdf||h.op._mdf||this._isFirstFrame)&&(h.opacity=c.opacity,h.opacity*=h.op.v,h._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var c,f,s,v,y,D,M,j,Q,h=this.stylesList.length,P=this.globalData.renderer,O=this.globalData.canvasContext;for(c=0;c<h;c+=1)if(("st"!==(j=(Q=this.stylesList[c]).type)&&"gs"!==j||0!==Q.wi)&&Q.data._shouldRender&&0!==Q.coOp&&0!==this.globalData.currentGlobalAlpha){for(P.save(),D=Q.elements,"st"===j||"gs"===j?(O.strokeStyle="st"===j?Q.co:Q.grd,O.lineWidth=Q.wi,O.lineCap=Q.lc,O.lineJoin=Q.lj,O.miterLimit=Q.ml||0):O.fillStyle="fl"===j?Q.co:Q.grd,P.ctxOpacity(Q.coOp),"st"!==j&&"gs"!==j&&O.beginPath(),P.ctxTransform(Q.preTransforms.finalTransform.props),s=D.length,f=0;f<s;f+=1){for(("st"===j||"gs"===j)&&(O.beginPath(),Q.da&&(O.setLineDash(Q.da),O.lineDashOffset=Q.do)),y=(M=D[f].trNodes).length,v=0;v<y;v+=1)"m"===M[v].t?O.moveTo(M[v].p[0],M[v].p[1]):"c"===M[v].t?O.bezierCurveTo(M[v].pts[0],M[v].pts[1],M[v].pts[2],M[v].pts[3],M[v].pts[4],M[v].pts[5]):O.closePath();("st"===j||"gs"===j)&&(O.stroke(),Q.da&&O.setLineDash(this.dashResetter))}"st"!==j&&"gs"!==j&&O.fill(Q.r),P.restore()}},CVShapeElement.prototype.renderShape=function(c,h,f,s){var v,D;for(D=c,v=h.length-1;v>=0;v-=1)"tr"===h[v].ty?this.renderShapeTransform(c,D=f[v].transform):"sh"===h[v].ty||"el"===h[v].ty||"rc"===h[v].ty||"sr"===h[v].ty?this.renderPath(h[v],f[v]):"fl"===h[v].ty?this.renderFill(h[v],f[v],D):"st"===h[v].ty?this.renderStroke(h[v],f[v],D):"gf"===h[v].ty||"gs"===h[v].ty?this.renderGradientFill(h[v],f[v],D):"gr"===h[v].ty&&this.renderShape(D,h[v].it,f[v].it);s&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(c,h){if(this._isFirstFrame||h._mdf||c.transforms._mdf){var v,y,D,f=c.trNodes,s=h.paths,M=s._length;f.length=0;var P=c.transforms.finalTransform;for(D=0;D<M;D+=1){var O=s.shapes[D];if(O&&O.v){for(y=O._length,v=1;v<y;v+=1)1===v&&f.push({t:"m",p:P.applyToPointArray(O.v[0][0],O.v[0][1],0)}),f.push({t:"c",pts:P.applyToTriplePoints(O.o[v-1],O.i[v],O.v[v])});1===y&&f.push({t:"m",p:P.applyToPointArray(O.v[0][0],O.v[0][1],0)}),O.c&&y&&(f.push({t:"c",pts:P.applyToTriplePoints(O.o[v-1],O.i[0],O.v[0])}),f.push({t:"z"}))}}c.trNodes=f}},CVShapeElement.prototype.renderPath=function(c,h){if(!0!==c.hd&&c._shouldRender){var f,s=h.styledShapes.length;for(f=0;f<s;f+=1)this.renderStyledShape(h.styledShapes[f],h.sh)}},CVShapeElement.prototype.renderFill=function(c,h,f){var s=h.style;(h.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(h.c.v[0])+","+bmFloor(h.c.v[1])+","+bmFloor(h.c.v[2])+")"),(h.o._mdf||f._opMdf||this._isFirstFrame)&&(s.coOp=h.o.v*f.opacity)},CVShapeElement.prototype.renderGradientFill=function(c,h,f){var v,s=h.style;if(!s.grd||h.g._mdf||h.s._mdf||h.e._mdf||1!==c.t&&(h.h._mdf||h.a._mdf)){var y=this.globalData.canvasContext,D=h.s.v,M=h.e.v;if(1===c.t)v=y.createLinearGradient(D[0],D[1],M[0],M[1]);else{var P=Math.sqrt(Math.pow(D[0]-M[0],2)+Math.pow(D[1]-M[1],2)),O=Math.atan2(M[1]-D[1],M[0]-D[0]),j=h.h.v;j>=1?j=.99:j<=-1&&(j=-.99);var Q=P*j,R=Math.cos(O+h.a.v)*Q+D[0],H=Math.sin(O+h.a.v)*Q+D[1];v=y.createRadialGradient(R,H,0,D[0],D[1],P)}var U,q=c.g.p,ne=h.g.c,z=1;for(U=0;U<q;U+=1)h.g._hasOpacity&&h.g._collapsable&&(z=h.g.o[2*U+1]),v.addColorStop(ne[4*U]/100,"rgba("+ne[4*U+1]+","+ne[4*U+2]+","+ne[4*U+3]+","+z+")");s.grd=v}s.coOp=h.o.v*f.opacity},CVShapeElement.prototype.renderStroke=function(c,h,f){var s=h.style,v=h.d;v&&(v._mdf||this._isFirstFrame)&&(s.da=v.dashArray,s.do=v.dashoffset[0]),(h.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(h.c.v[0])+","+bmFloor(h.c.v[1])+","+bmFloor(h.c.v[2])+")"),(h.o._mdf||f._opMdf||this._isFirstFrame)&&(s.coOp=h.o.v*f.opacity),(h.w._mdf||this._isFirstFrame)&&(s.wi=h.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var c=this.textProperty.currentData;this.renderedLetters=createSizedArray(c.l?c.l.length:0);var h=!1;c.fc?(h=!0,this.values.fill=this.buildColor(c.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=h;var f=!1;c.sc&&(f=!0,this.values.stroke=this.buildColor(c.sc),this.values.sWidth=c.sw);var v,y,s=this.globalData.fontManager.getFontByName(c.f),D=c.l,M=this.mHelper;this.stroke=f,this.values.fValue=c.finalSize+"px "+this.globalData.fontManager.getFontByName(c.f).fFamily,y=c.finalText.length;var P,O,j,Q,R,H,U,q,ne,z,G=this.data.singleShape,V=.001*c.tr*c.finalSize,B=0,ee=0,te=!0,re=0;for(v=0;v<y;v+=1){O=(P=this.globalData.fontManager.getCharData(c.finalText[v],s.fStyle,this.globalData.fontManager.getFontByName(c.f).fFamily))&&P.data||{},M.reset(),G&&D[v].n&&(B=-V,ee+=c.yOffset,ee+=te?1:0,te=!1),U=(R=O.shapes?O.shapes[0].it:[]).length,M.scale(c.finalSize/100,c.finalSize/100),G&&this.applyTextPropertiesToMatrix(c,M,D[v].line,B,ee),ne=createSizedArray(U-1);var ae=0;for(H=0;H<U;H+=1)if("sh"===R[H].ty){for(Q=R[H].ks.k.i.length,q=R[H].ks.k,z=[],j=1;j<Q;j+=1)1===j&&z.push(M.applyToX(q.v[0][0],q.v[0][1],0),M.applyToY(q.v[0][0],q.v[0][1],0)),z.push(M.applyToX(q.o[j-1][0],q.o[j-1][1],0),M.applyToY(q.o[j-1][0],q.o[j-1][1],0),M.applyToX(q.i[j][0],q.i[j][1],0),M.applyToY(q.i[j][0],q.i[j][1],0),M.applyToX(q.v[j][0],q.v[j][1],0),M.applyToY(q.v[j][0],q.v[j][1],0));z.push(M.applyToX(q.o[j-1][0],q.o[j-1][1],0),M.applyToY(q.o[j-1][0],q.o[j-1][1],0),M.applyToX(q.i[0][0],q.i[0][1],0),M.applyToY(q.i[0][0],q.i[0][1],0),M.applyToX(q.v[0][0],q.v[0][1],0),M.applyToY(q.v[0][0],q.v[0][1],0)),ne[ae]=z,ae+=1}G&&(B+=D[v].l,B+=V),this.textSpans[re]?this.textSpans[re].elem=ne:this.textSpans[re]={elem:ne},re+=1}},CVTextElement.prototype.renderInnerContent=function(){var c=this.canvasContext;c.font=this.values.fValue,c.lineCap="butt",c.lineJoin="miter",c.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var h,f,s,v,y,D,M=this.textAnimator.renderedLetters,P=this.textProperty.currentData.l;f=P.length;var O,H,U,j=null,Q=null,R=null;for(h=0;h<f;h+=1)if(!P[h].n){if((O=M[h])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(O.p),this.globalData.renderer.ctxOpacity(O.o)),this.fill){for(O&&O.fc?j!==O.fc&&(j=O.fc,c.fillStyle=O.fc):j!==this.values.fill&&(j=this.values.fill,c.fillStyle=this.values.fill),v=(H=this.textSpans[h].elem).length,this.globalData.canvasContext.beginPath(),s=0;s<v;s+=1)for(D=(U=H[s]).length,this.globalData.canvasContext.moveTo(U[0],U[1]),y=2;y<D;y+=6)this.globalData.canvasContext.bezierCurveTo(U[y],U[y+1],U[y+2],U[y+3],U[y+4],U[y+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(O&&O.sw?R!==O.sw&&(R=O.sw,c.lineWidth=O.sw):R!==this.values.sWidth&&(R=this.values.sWidth,c.lineWidth=this.values.sWidth),O&&O.sc?Q!==O.sc&&(Q=O.sc,c.strokeStyle=O.sc):Q!==this.values.stroke&&(Q=this.values.stroke,c.strokeStyle=this.values.stroke),v=(H=this.textSpans[h].elem).length,this.globalData.canvasContext.beginPath(),s=0;s<v;s+=1)for(D=(U=H[s]).length,this.globalData.canvasContext.moveTo(U[0],U[1]),y=2;y<D;y+=6)this.globalData.canvasContext.bezierCurveTo(U[y],U[y+1],U[y+2],U[y+3],U[y+4],U[y+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}O&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var c=createTag("canvas");c.width=this.assetData.w,c.height=this.assetData.h;var D,M,h=c.getContext("2d"),f=this.img.width,s=this.img.height,v=f/s,y=this.assetData.w/this.assetData.h,P=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;v>y&&"xMidYMid slice"===P||v<y&&"xMidYMid slice"!==P?D=(M=s)*y:M=(D=f)/y,h.drawImage(this.img,(f-D)/2,(s-M)/2,D,M,0,0,this.assetData.w,this.assetData.h),this.img=c}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var c=this.canvasContext;c.fillStyle=this.data.sc,c.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(c){return new CVShapeElement(c,this.globalData,this)},CanvasRendererBase.prototype.createText=function(c){return new CVTextElement(c,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(c){return new CVImageElement(c,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(c){return new CVSolidElement(c,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(c){if(1!==c[0]||0!==c[1]||0!==c[4]||1!==c[5]||0!==c[12]||0!==c[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(c[0],c[1],c[4],c[5],c[12],c[13]);this.transformMat.cloneFromProps(c);var h=this.contextData.getTransform(),f=h.props;this.transformMat.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),h.cloneFromProps(this.transformMat.props);var s=h.props;this.canvasContext.setTransform(s[0],s[1],s[4],s[5],s[12],s[13])}},CanvasRendererBase.prototype.ctxOpacity=function(c){var h=this.contextData.getOpacity();if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=c<0?0:c,void(this.globalData.currentGlobalAlpha=h);this.contextData.setOpacity(h*=c<0?0:c),this.globalData.currentGlobalAlpha!==h&&(this.canvasContext.globalAlpha=h,this.globalData.currentGlobalAlpha=h)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(c){this.renderConfig.clearCanvas?(c&&this.canvasContext.save(),this.contextData.push()):this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(c){if(this.renderConfig.clearCanvas){c&&(this.canvasContext.restore(),this.globalData.blendMode="source-over");var h=this.contextData.pop(),f=h.transform,s=h.opacity;this.canvasContext.setTransform(f[0],f[1],f[4],f[5],f[12],f[13]),this.globalData.currentGlobalAlpha!==s&&(this.canvasContext.globalAlpha=s,this.globalData.currentGlobalAlpha=s)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(c){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var h=this.animationItem.container.style;h.width="100%",h.height="100%";var f="0px 0px 0px";h.transformOrigin=f,h.mozTransformOrigin=f,h.webkitTransformOrigin=f,h["-webkit-transform"]=f,h.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=c,this.layers=c.layers,this.transformCanvas={w:c.w,h:c.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(c,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(c.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(c,h){var f,s,v,y;if(this.reset(),c?(s=h,this.canvasContext.canvas.width=f=c,this.canvasContext.canvas.height=s):(this.animationItem.wrapper&&this.animationItem.container?(f=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight):(f=this.canvasContext.canvas.width,s=this.canvasContext.canvas.height),this.canvasContext.canvas.width=f*this.renderConfig.dpr,this.canvasContext.canvas.height=s*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var D=this.renderConfig.preserveAspectRatio.split(" "),M=D[1]||"meet",P=D[0]||"xMidYMid",O=P.substr(0,4),j=P.substr(4);(y=this.transformCanvas.w/this.transformCanvas.h)>(v=f/s)&&"meet"===M||y<v&&"slice"===M?(this.transformCanvas.sx=f/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=f/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===O&&(y<v&&"meet"===M||y>v&&"slice"===M)?(f-this.transformCanvas.w*(s/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===O&&(y<v&&"meet"===M||y>v&&"slice"===M)?(f-this.transformCanvas.w*(s/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===j&&(y>v&&"meet"===M||y<v&&"slice"===M)?(s-this.transformCanvas.h*(f/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===j&&(y>v&&"meet"===M||y<v&&"slice"===M)?(s-this.transformCanvas.h*(f/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=f/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var c;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),c=(this.layers?this.layers.length:0)-1;c>=0;c-=1)this.elements[c]&&this.elements[c].destroy&&this.elements[c].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(c,h){if((this.renderedFrame!==c||!0!==this.renderConfig.clearCanvas||h)&&!this.destroyed&&-1!==c){this.renderedFrame=c,this.globalData.frameNum=c-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||h,this.globalData.projectInterface.currentFrame=c;var f,s=this.layers.length;for(this.completeLayers||this.checkLayers(c),f=0;f<s;f+=1)(this.completeLayers||this.elements[f])&&this.elements[f].prepareFrame(c-this.layers[f].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),f=s-1;f>=0;f-=1)(this.completeLayers||this.elements[f])&&this.elements[f].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(c){var h=this.elements;if(!h[c]&&99!==this.layers[c].ty){var f=this.createItem(this.layers[c],this,this.globalData);h[c]=f,f.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var h,c=this.canvasContext;for(c.beginPath(),c.moveTo(0,0),c.lineTo(this.data.w,0),c.lineTo(this.data.w,this.data.h),c.lineTo(0,this.data.h),c.lineTo(0,0),c.clip(),h=this.layers.length-1;h>=0;h-=1)(this.completeLayers||this.elements[h])&&this.elements[h].renderFrame()},CVCompElement.prototype.destroy=function(){var c;for(c=this.layers.length-1;c>=0;c-=1)this.elements[c]&&this.elements[c].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(c){return new CVCompElement(c,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(c){return new CVCompElement(c,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var h=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var f=this.finalTransform.mat.toCSS();h.transform=f,h.webkitTransform=f}this.finalTransform._opMdf&&(h.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var c;this.data.hasMask?((c=createNS("rect")).setAttribute("width",this.data.sw),c.setAttribute("height",this.data.sh),c.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((c=createTag("div")).style.width=this.data.sw+"px",c.style.height=this.data.sh+"px",c.style.backgroundColor=this.data.sc),this.layerElement.appendChild(c)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var c;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),c=this.svgElement;else{c=createNS("svg");var h=this.comp.data?this.comp.data:this.globalData.compSize;c.setAttribute("width",h.w),c.setAttribute("height",h.h),c.appendChild(this.shapesContainer),this.layerElement.appendChild(c)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=c},HShapeElement.prototype.getTransformedPoint=function(c,h){var f,s=c.length;for(f=0;f<s;f+=1)h=c[f].mProps.v.applyToPointArray(h[0],h[1],0);return h},HShapeElement.prototype.calculateShapeBoundingBox=function(c,h){var v,D,M,P,O,f=c.sh.v,s=c.transformers,y=f._length;if(!(y<=1)){for(v=0;v<y-1;v+=1)D=this.getTransformedPoint(s,f.v[v]),M=this.getTransformedPoint(s,f.o[v]),P=this.getTransformedPoint(s,f.i[v+1]),O=this.getTransformedPoint(s,f.v[v+1]),this.checkBounds(D,M,P,O,h);f.c&&(D=this.getTransformedPoint(s,f.v[v]),M=this.getTransformedPoint(s,f.o[v]),P=this.getTransformedPoint(s,f.i[0]),O=this.getTransformedPoint(s,f.v[0]),this.checkBounds(D,M,P,O,h))}},HShapeElement.prototype.checkBounds=function(c,h,f,s,v){this.getBoundsOfCurve(c,h,f,s);var y=this.shapeBoundingBox;v.x=bmMin(y.left,v.x),v.xMax=bmMax(y.right,v.xMax),v.y=bmMin(y.top,v.y),v.yMax=bmMax(y.bottom,v.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(c,h,f,s){for(var y,D,M,P,O,j,Q,v=[[c[0],s[0]],[c[1],s[1]]],R=0;R<2;++R)D=6*c[R]-12*h[R]+6*f[R],y=-3*c[R]+9*h[R]-9*f[R]+3*s[R],M=3*h[R]-3*c[R],D|=0,M|=0,0==(y|=0)&&0===D||(0===y?(P=-M/D)>0&&P<1&&v[R].push(this.calculateF(P,c,h,f,s,R)):(O=D*D-4*M*y)>=0&&((j=(-D+bmSqrt(O))/(2*y))>0&&j<1&&v[R].push(this.calculateF(j,c,h,f,s,R)),(Q=(-D-bmSqrt(O))/(2*y))>0&&Q<1&&v[R].push(this.calculateF(Q,c,h,f,s,R))));this.shapeBoundingBox.left=bmMin.apply(null,v[0]),this.shapeBoundingBox.top=bmMin.apply(null,v[1]),this.shapeBoundingBox.right=bmMax.apply(null,v[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,v[1])},HShapeElement.prototype.calculateF=function(c,h,f,s,v,y){return bmPow(1-c,3)*h[y]+3*bmPow(1-c,2)*c*f[y]+3*(1-c)*bmPow(c,2)*s[y]+bmPow(c,3)*v[y]},HShapeElement.prototype.calculateBoundingBox=function(c,h){var f,s=c.length;for(f=0;f<s;f+=1)c[f]&&c[f].sh?this.calculateShapeBoundingBox(c[f],h):c[f]&&c[f].it?this.calculateBoundingBox(c[f].it,h):c[f]&&c[f].style&&c[f].w&&this.expandStrokeBoundingBox(c[f].w,h)},HShapeElement.prototype.expandStrokeBoundingBox=function(c,h){var f=0;if(c.keyframes){for(var s=0;s<c.keyframes.length;s+=1){var v=c.keyframes[s].s;v>f&&(f=v)}f*=c.mult}else f=c.v*c.mult;h.x-=f,h.xMax+=f,h.y-=f,h.yMax+=f},HShapeElement.prototype.currentBoxContains=function(c){return this.currentBBox.x<=c.x&&this.currentBBox.y<=c.y&&this.currentBBox.width+this.currentBBox.x>=c.x+c.width&&this.currentBBox.height+this.currentBBox.y>=c.y+c.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var c=this.tempBoundingBox,h=999999;if(c.x=h,c.xMax=-h,c.y=h,c.yMax=-h,this.calculateBoundingBox(this.itemsData,c),c.width=c.xMax<c.x?0:c.xMax-c.x,c.height=c.yMax<c.y?0:c.yMax-c.y,this.currentBoxContains(c))return;var f=!1;if(this.currentBBox.w!==c.width&&(this.currentBBox.w=c.width,this.shapeCont.setAttribute("width",c.width),f=!0),this.currentBBox.h!==c.height&&(this.currentBBox.h=c.height,this.shapeCont.setAttribute("height",c.height),f=!0),f||this.currentBBox.x!==c.x||this.currentBBox.y!==c.y){this.currentBBox.w=c.width,this.currentBBox.h=c.height,this.currentBBox.x=c.x,this.currentBBox.y=c.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var s=this.shapeCont.style,v="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=v,s.webkitTransform=v}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var c=createNS("g");this.maskedElement.appendChild(c),this.innerElem=c}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var c=this.textProperty.currentData;this.renderedLetters=createSizedArray(c.l?c.l.length:0);var h=this.innerElem.style,f=c.fc?this.buildColor(c.fc):"rgba(0,0,0,0)";h.fill=f,h.color=f,c.sc&&(h.stroke=this.buildColor(c.sc),h.strokeWidth=c.sw+"px");var s=this.globalData.fontManager.getFontByName(c.f);if(!this.globalData.fontManager.chars)if(h.fontSize=c.finalSize+"px",h.lineHeight=c.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{h.fontFamily=s.fFamily;var v=c.fWeight;h.fontStyle=c.fStyle,h.fontWeight=v}var D,M,P=c.l;M=P.length;var O,j,Q,H,R=this.mHelper,U="",q=0;for(D=0;D<M;D+=1){if(this.globalData.fontManager.chars?(this.textPaths[q]?O=this.textPaths[q]:((O=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),O.setAttribute("stroke-linejoin",lineJoinEnum[2]),O.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[q]?Q=(j=this.textSpans[q]).children[0]:((j=createTag("div")).style.lineHeight=0,(Q=createNS("svg")).appendChild(O),styleDiv(j)))):this.isMasked?O=this.textPaths[q]?this.textPaths[q]:createNS("text"):this.textSpans[q]?(j=this.textSpans[q],O=this.textPaths[q]):(styleDiv(j=createTag("span")),styleDiv(O=createTag("span")),j.appendChild(O)),this.globalData.fontManager.chars){var z,ne=this.globalData.fontManager.getCharData(c.finalText[D],s.fStyle,this.globalData.fontManager.getFontByName(c.f).fFamily);if(z=ne?ne.data:null,R.reset(),z&&z.shapes&&z.shapes.length&&(H=z.shapes[0].it,R.scale(c.finalSize/100,c.finalSize/100),U=this.createPathShape(R,H),O.setAttribute("d",U)),this.isMasked)this.innerElem.appendChild(O);else{if(this.innerElem.appendChild(j),z&&z.shapes){document.body.appendChild(Q);var G=Q.getBBox();Q.setAttribute("width",G.width+2),Q.setAttribute("height",G.height+2),Q.setAttribute("viewBox",G.x-1+" "+(G.y-1)+" "+(G.width+2)+" "+(G.height+2));var V=Q.style,B="translate("+(G.x-1)+"px,"+(G.y-1)+"px)";V.transform=B,V.webkitTransform=B,P[D].yOffset=G.y-1}else Q.setAttribute("width",1),Q.setAttribute("height",1);j.appendChild(Q)}}else if(O.textContent=P[D].val,O.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(O);else{this.innerElem.appendChild(j);var ee=O.style,te="translate3d(0,"+-c.finalSize/1.2+"px,0)";ee.transform=te,ee.webkitTransform=te}this.textSpans[q]=this.isMasked?O:j,this.textSpans[q].style.display="block",this.textPaths[q]=O,q+=1}for(;q<this.textSpans.length;)this.textSpans[q].style.display="none",q+=1},HTextElement.prototype.renderInnerContent=function(){var c;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH);var h="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";(c=this.svgElement.style).transform=h,c.webkitTransform=h}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var f,s,M,P,O,v=0,y=this.textAnimator.renderedLetters,D=this.textProperty.currentData.l;for(s=D.length,f=0;f<s;f+=1)D[f].n?v+=1:(P=this.textSpans[f],O=this.textPaths[f],M=y[v],v+=1,M._mdf.m&&(this.isMasked?P.setAttribute("transform",M.m):(P.style.webkitTransform=M.m,P.style.transform=M.m)),P.style.opacity=M.o,M.sw&&M._mdf.sw&&O.setAttribute("stroke-width",M.sw),M.sc&&M._mdf.sc&&O.setAttribute("stroke",M.sc),M.fc&&M._mdf.fc&&(O.setAttribute("fill",M.fc),O.style.color=M.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var j=this.innerElem.getBBox();if(this.currentBBox.w!==j.width&&(this.currentBBox.w=j.width,this.svgElement.setAttribute("width",j.width)),this.currentBBox.h!==j.height&&(this.currentBBox.h=j.height,this.svgElement.setAttribute("height",j.height)),this.currentBBox.w!==j.width+2||this.currentBBox.h!==j.height+2||this.currentBBox.x!==j.x-1||this.currentBBox.y!==j.y-1){this.currentBBox.w=j.width+2,this.currentBBox.h=j.height+2,this.currentBBox.x=j.x-1,this.currentBBox.y=j.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var R="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";(c=this.svgElement.style).transform=R,c.webkitTransform=R}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var c,f,s,v,h=this.comp.threeDElements.length;for(c=0;c<h;c+=1)if("3d"===(f=this.comp.threeDElements[c]).type){v=f.container.style;var y=this.pe.v+"px",D="0px 0px 0px",M="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(s=f.perspectiveElem.style).perspective=y,s.webkitPerspective=y,v.transformOrigin=D,v.mozTransformOrigin=D,v.webkitTransformOrigin=D,s.transform=M,s.webkitTransform=M}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var h,f,c=this._isFirstFrame;if(this.hierarchy)for(f=this.hierarchy.length,h=0;h<f;h+=1)c=this.hierarchy[h].finalTransform.mProp._mdf||c;if(c||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(h=f=this.hierarchy.length-1;h>=0;h-=1){var s=this.hierarchy[h].finalTransform.mProp;this.mat.translate(-s.p.v[0],-s.p.v[1],s.p.v[2]),this.mat.rotateX(-s.or.v[0]).rotateY(-s.or.v[1]).rotateZ(s.or.v[2]),this.mat.rotateX(-s.rx.v).rotateY(-s.ry.v).rotateZ(s.rz.v),this.mat.scale(1/s.s.v[0],1/s.s.v[1],1/s.s.v[2]),this.mat.translate(s.a.v[0],s.a.v[1],s.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var v;v=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var y=Math.sqrt(Math.pow(v[0],2)+Math.pow(v[1],2)+Math.pow(v[2],2)),D=[v[0]/y,v[1]/y,v[2]/y],M=Math.sqrt(D[2]*D[2]+D[0]*D[0]),P=Math.atan2(D[1],M),O=Math.atan2(D[0],-D[2]);this.mat.rotateY(O).rotateX(-P)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var j=!this._prevMat.equals(this.mat);if((j||this.pe._mdf)&&this.comp.threeDElements){var Q,R,H;for(f=this.comp.threeDElements.length,h=0;h<f;h+=1)if("3d"===(Q=this.comp.threeDElements[h]).type){if(j){var U=this.mat.toCSS();(H=Q.container.style).transform=U,H.webkitTransform=U}this.pe._mdf&&((R=Q.perspectiveElem.style).perspective=this.pe.v+"px",R.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(c){this.prepareProperties(c,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var c=this.globalData.getAssetsPath(this.assetData),h=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",c),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(h),h.crossOrigin="anonymous",h.src=c,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(c,h){var f=c.getBaseElement();if(f){var s=this.layers[h];if(s.ddd&&this.supports3d)this.addTo3dContainer(f,h);else if(this.threeDElements)this.addTo3dContainer(f,h);else{for(var y,D,v=0;v<h;)this.elements[v]&&!0!==this.elements[v]&&this.elements[v].getBaseElement&&(D=this.elements[v],y=(this.layers[v].ddd?this.getThreeDContainerByPos(v):D.getBaseElement())||y),v+=1;y?(!s.ddd||!this.supports3d)&&this.layerElement.insertBefore(f,y):(!s.ddd||!this.supports3d)&&this.layerElement.appendChild(f)}}},HybridRendererBase.prototype.createShape=function(c){return this.supports3d?new HShapeElement(c,this.globalData,this):new SVGShapeElement(c,this.globalData,this)},HybridRendererBase.prototype.createText=function(c){return this.supports3d?new HTextElement(c,this.globalData,this):new SVGTextLottieElement(c,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(c){return this.camera=new HCameraElement(c,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(c){return this.supports3d?new HImageElement(c,this.globalData,this):new IImageElement(c,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(c){return this.supports3d?new HSolidElement(c,this.globalData,this):new ISolidElement(c,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(c){for(var h=0,f=this.threeDElements.length;h<f;){if(this.threeDElements[h].startPos<=c&&this.threeDElements[h].endPos>=c)return this.threeDElements[h].perspectiveElem;h+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(c,h){var s,v,f=createTag("div");styleDiv(f);var y=createTag("div");if(styleDiv(y),"3d"===h){(s=f.style).width=this.globalData.compSize.w+"px",s.height=this.globalData.compSize.h+"px";var D="50% 50%";s.webkitTransformOrigin=D,s.mozTransformOrigin=D,s.transformOrigin=D;var M="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(v=y.style).transform=M,v.webkitTransform=M}f.appendChild(y);var P={container:y,perspectiveElem:f,startPos:c,endPos:c,type:h};return this.threeDElements.push(P),P},HybridRendererBase.prototype.build3dContainers=function(){var c,f,h=this.layers.length,s="";for(c=0;c<h;c+=1)this.layers[c].ddd&&3!==this.layers[c].ty?("3d"!==s&&(s="3d",f=this.createThreeDContainer(c,"3d")),f.endPos=Math.max(f.endPos,c)):("2d"!==s&&(s="2d",f=this.createThreeDContainer(c,"2d")),f.endPos=Math.max(f.endPos,c));for(c=(h=this.threeDElements.length)-1;c>=0;c-=1)this.resizerElem.appendChild(this.threeDElements[c].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(c,h){for(var f=0,s=this.threeDElements.length;f<s;){if(h<=this.threeDElements[f].endPos){for(var y,v=this.threeDElements[f].startPos;v<h;)this.elements[v]&&this.elements[v].getBaseElement&&(y=this.elements[v].getBaseElement()),v+=1;y?this.threeDElements[f].container.insertBefore(c,y):this.threeDElements[f].container.appendChild(c);break}f+=1}},HybridRendererBase.prototype.configAnimation=function(c){var h=createTag("div"),f=this.animationItem.wrapper,s=h.style;s.width=c.w+"px",s.height=c.h+"px",this.resizerElem=h,styleDiv(h),s.transformStyle="flat",s.mozTransformStyle="flat",s.webkitTransformStyle="flat",this.renderConfig.className&&h.setAttribute("class",this.renderConfig.className),f.appendChild(h),s.overflow="hidden";var v=createNS("svg");v.setAttribute("width","1"),v.setAttribute("height","1"),styleDiv(v),this.resizerElem.appendChild(v);var y=createNS("defs");v.appendChild(y),this.data=c,this.setupGlobalData(c,v),this.globalData.defs=y,this.layers=c.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var c,h=this.layers?this.layers.length:0;for(c=0;c<h;c+=1)this.elements[c]&&this.elements[c].destroy&&this.elements[c].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var v,y,D,M,c=this.animationItem.wrapper.offsetWidth,h=this.animationItem.wrapper.offsetHeight;this.globalData.compSize.w/this.globalData.compSize.h>c/h?(v=c/this.globalData.compSize.w,y=c/this.globalData.compSize.w,D=0,M=(h-this.globalData.compSize.h*(c/this.globalData.compSize.w))/2):(v=h/this.globalData.compSize.h,y=h/this.globalData.compSize.h,D=(c-this.globalData.compSize.w*(h/this.globalData.compSize.h))/2,M=0);var P=this.resizerElem.style;P.webkitTransform="matrix3d("+v+",0,0,0,0,"+y+",0,0,0,0,1,0,"+D+","+M+",0,1)",P.transform=P.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var f,c=this.globalData.compSize.w,h=this.globalData.compSize.h,s=this.threeDElements.length;for(f=0;f<s;f+=1){var v=this.threeDElements[f].perspectiveElem.style;v.webkitPerspective=Math.sqrt(Math.pow(c,2)+Math.pow(h,2))+"px",v.perspective=v.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(c){var h,f=c.length,s=createTag("div");for(h=0;h<f;h+=1)if(c[h].xt){var v=this.createComp(c[h],s,this.globalData.comp,null);v.initExpressions(),this.globalData.projectInterface.registerComposition(v)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(c,h){for(var s,f=0;f<h;)this.elements[f]&&this.elements[f].getBaseElement&&(s=this.elements[f].getBaseElement()),f+=1;s?this.layerElement.insertBefore(c,s):this.layerElement.appendChild(c)},HCompElement.prototype.createComp=function(c){return this.supports3d?new HCompElement(c,this.globalData,this):new SVGCompElement(c,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(c){return this.supports3d?new HCompElement(c,this.globalData,this):new SVGCompElement(c,this.globalData,this)};var CompExpressionInterface=function(c){function h(f){for(var s=0,v=c.layers.length;s<v;){if(c.layers[s].nm===f||c.layers[s].ind===f)return c.elements[s].layerInterface;s+=1}return null}return Object.defineProperty(h,"_name",{value:c.data.nm}),h.layer=h,h.pixelAspect=1,h.height=c.data.h||c.globalData.compSize.h,h.width=c.data.w||c.globalData.compSize.w,h.pixelAspect=1,h.frameDuration=1/c.globalData.frameRate,h.displayStartTime=0,h.numLayers=c.layers.length,h},Expressions=function(){var c={initExpressions:function h(f){var s=0,v=[];f.renderer.compInterface=CompExpressionInterface(f.renderer),f.renderer.globalData.projectInterface.registerComposition(f.renderer),f.renderer.globalData.pushExpression=function y(){s+=1},f.renderer.globalData.popExpression=function D(){0==(s-=1)&&function P(){var O,j=v.length;for(O=0;O<j;O+=1)v[O].release();v.length=0}()},f.renderer.globalData.registerExpressionProperty=function M(O){-1===v.indexOf(O)&&v.push(O)}}};return c}(),MaskManagerInterface=function(){function c(f,s){this._mask=f,this._data=s}return Object.defineProperty(c.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(c.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(s){var y,v=createSizedArray(s.viewData.length),D=s.viewData.length;for(y=0;y<D;y+=1)v[y]=new c(s.viewData[y],s.masksProperties[y]);return function(O){for(y=0;y<D;){if(s.masksProperties[y].nm===O)return v[y];y+=1}return null}}}(),ExpressionPropertyInterface=function(){var c={pv:0,v:0,mult:1},h={pv:[0,0,0],v:[0,0,0],mult:1};function f(D,M,P){Object.defineProperty(D,"velocity",{get:function(){return M.getVelocityAtTime(M.comp.currentFrame)}}),D.numKeys=M.keyframes?M.keyframes.length:0,D.key=function(O){if(!D.numKeys)return 0;var j;j="s"in M.keyframes[O-1]?M.keyframes[O-1].s:"e"in M.keyframes[O-2]?M.keyframes[O-2].e:M.keyframes[O-2].s;var Q="unidimensional"===P?new Number(j):Object.assign({},j);return Q.time=M.keyframes[O-1].t/M.elem.comp.globalData.frameRate,Q.value="unidimensional"===P?j[0]:j,Q},D.valueAtTime=M.getValueAtTime,D.speedAtTime=M.getSpeedAtTime,D.velocityAtTime=M.getVelocityAtTime,D.propertyGroup=M.propertyGroup}function y(){return c}return function(D){return D?"unidimensional"===D.propType?function s(D){(!D||!("pv"in D))&&(D=c);var M=1/D.mult,P=D.pv*M,O=new Number(P);return O.value=P,f(O,D,"unidimensional"),function(){return D.k&&D.getValue(),O.value!==(P=D.v*M)&&((O=new Number(P)).value=P,f(O,D,"unidimensional")),O}}(D):function v(D){(!D||!("pv"in D))&&(D=h);var M=1/D.mult,P=D.data&&D.data.l||D.pv.length,O=createTypedArray("float32",P),j=createTypedArray("float32",P);return O.value=j,f(O,D,"multidimensional"),function(){D.k&&D.getValue();for(var Q=0;Q<P;Q+=1)j[Q]=D.v[Q]*M,O[Q]=j[Q];return O}}(D):y}}(),TransformExpressionInterface=function(c){function h(D){switch(D){case"scale":case"Scale":case"ADBE Scale":case 6:return h.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return h.rotation;case"ADBE Rotate X":return h.xRotation;case"ADBE Rotate Y":return h.yRotation;case"position":case"Position":case"ADBE Position":case 2:return h.position;case"ADBE Position_0":return h.xPosition;case"ADBE Position_1":return h.yPosition;case"ADBE Position_2":return h.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return h.anchorPoint;case"opacity":case"Opacity":case 11:return h.opacity;default:return null}}var f,s,v,y;return Object.defineProperty(h,"rotation",{get:ExpressionPropertyInterface(c.r||c.rz)}),Object.defineProperty(h,"zRotation",{get:ExpressionPropertyInterface(c.rz||c.r)}),Object.defineProperty(h,"xRotation",{get:ExpressionPropertyInterface(c.rx)}),Object.defineProperty(h,"yRotation",{get:ExpressionPropertyInterface(c.ry)}),Object.defineProperty(h,"scale",{get:ExpressionPropertyInterface(c.s)}),c.p?y=ExpressionPropertyInterface(c.p):(f=ExpressionPropertyInterface(c.px),s=ExpressionPropertyInterface(c.py),c.pz&&(v=ExpressionPropertyInterface(c.pz))),Object.defineProperty(h,"position",{get:function(){return c.p?y():[f(),s(),v?v():0]}}),Object.defineProperty(h,"xPosition",{get:ExpressionPropertyInterface(c.px)}),Object.defineProperty(h,"yPosition",{get:ExpressionPropertyInterface(c.py)}),Object.defineProperty(h,"zPosition",{get:ExpressionPropertyInterface(c.pz)}),Object.defineProperty(h,"anchorPoint",{get:ExpressionPropertyInterface(c.a)}),Object.defineProperty(h,"opacity",{get:ExpressionPropertyInterface(c.o)}),Object.defineProperty(h,"skew",{get:ExpressionPropertyInterface(c.sk)}),Object.defineProperty(h,"skewAxis",{get:ExpressionPropertyInterface(c.sa)}),Object.defineProperty(h,"orientation",{get:ExpressionPropertyInterface(c.or)}),h},LayerExpressionInterface=function(){function c(O){var j=new Matrix;return void 0!==O?this._elem.finalTransform.mProp.getValueAtTime(O).clone(j):this._elem.finalTransform.mProp.applyToMatrix(j),j}function h(O,j){var Q=this.getMatrix(j);return Q.props[12]=0,Q.props[13]=0,Q.props[14]=0,this.applyPoint(Q,O)}function f(O,j){var Q=this.getMatrix(j);return this.applyPoint(Q,O)}function s(O,j){var Q=this.getMatrix(j);return Q.props[12]=0,Q.props[13]=0,Q.props[14]=0,this.invertPoint(Q,O)}function v(O,j){var Q=this.getMatrix(j);return this.invertPoint(Q,O)}function y(O,j){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Q,R=this._elem.hierarchy.length;for(Q=0;Q<R;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(O)}return O.applyToPointArray(j[0],j[1],j[2]||0)}function D(O,j){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Q,R=this._elem.hierarchy.length;for(Q=0;Q<R;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(O)}return O.inversePoint(j)}function M(O){var j=new Matrix;if(j.reset(),this._elem.finalTransform.mProp.applyToMatrix(j),this._elem.hierarchy&&this._elem.hierarchy.length){var Q,R=this._elem.hierarchy.length;for(Q=0;Q<R;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(j);return j.inversePoint(O)}return j.inversePoint(O)}function P(){return[1,1,1,1]}return function(O){var j;function H(q){switch(q){case"ADBE Root Vectors Group":case"Contents":case 2:return H.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return j;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return H.effect;case"ADBE Text Properties":return H.textInterface;default:return null}}H.getMatrix=c,H.invertPoint=D,H.applyPoint=y,H.toWorld=f,H.toWorldVec=h,H.fromWorld=v,H.fromWorldVec=s,H.toComp=f,H.fromComp=M,H.sampleImage=P,H.sourceRectAtTime=O.sourceRectAtTime.bind(O),H._elem=O;var U=getDescriptor(j=TransformExpressionInterface(O.finalTransform.mProp),"anchorPoint");return Object.defineProperties(H,{hasParent:{get:function(){return O.hierarchy.length}},parent:{get:function(){return O.hierarchy[0].layerInterface}},rotation:getDescriptor(j,"rotation"),scale:getDescriptor(j,"scale"),position:getDescriptor(j,"position"),opacity:getDescriptor(j,"opacity"),anchorPoint:U,anchor_point:U,transform:{get:function(){return j}},active:{get:function(){return O.isInRange}}}),H.startTime=O.data.st,H.index=O.data.ind,H.source=O.data.refId,H.height=0===O.data.ty?O.data.h:100,H.width=0===O.data.ty?O.data.w:100,H.inPoint=O.data.ip/O.comp.globalData.frameRate,H.outPoint=O.data.op/O.comp.globalData.frameRate,H._name=O.data.nm,H.registerMaskInterface=function Q(q){H.mask=new MaskManagerInterface(q,O)},H.registerEffectsInterface=function R(q){H.effect=q},H}}(),propertyGroupFactory=function(c,h){return function(f){return(f=void 0===f?1:f)<=0?c:h(f-1)}},PropertyInterface=function(c,h){var f={_name:c};return function s(v){return(v=void 0===v?1:v)<=0?f:h(v-1)}},EffectsExpressionInterface=function(){function f(v,y,D,M){function P(H){for(var U=v.ef,q=0,ne=U.length;q<ne;){if(H===U[q].nm||H===U[q].mn||H===U[q].ix)return 5===U[q].ty?j[q]:j[q]();q+=1}throw new Error}var Q,O=propertyGroupFactory(P,D),j=[],R=v.ef.length;for(Q=0;Q<R;Q+=1)j.push(5===v.ef[Q].ty?f(v.ef[Q],y.effectElements[Q],y.effectElements[Q].propertyGroup,M):s(y.effectElements[Q],v.ef[Q].ty,M,O));return"ADBE Color Control"===v.mn&&Object.defineProperty(P,"color",{get:function(){return j[0]()}}),Object.defineProperties(P,{numProperties:{get:function(){return v.np}},_name:{value:v.nm},propertyGroup:{value:O}}),P.active=P.enabled=0!==v.en,P}function s(v,y,D,M){var P=ExpressionPropertyInterface(v.p);return v.p.setGroupProperty&&v.p.setGroupProperty(PropertyInterface("",M)),function O(){return 10===y?D.comp.compInterface(v.p.v):P()}}return{createEffectsInterface:function h(v,y){if(v.effectsManager){var P,D=[],M=v.data.ef,O=v.effectsManager.effectElements.length;for(P=0;P<O;P+=1)D.push(f(M[P],v.effectsManager.effectElements[P],y,v));var j=v.data.ef||[],Q=function(H){for(P=0,O=j.length;P<O;){if(H===j[P].nm||H===j[P].mn||H===j[P].ix)return D[P];P+=1}return null};return Object.defineProperty(Q,"numProperties",{get:function(){return j.length}}),Q}return null}}}(),ShapePathInterface=function(h,f,s){var v=f.sh;function y(M){return"Shape"===M||"shape"===M||"Path"===M||"path"===M||"ADBE Vector Shape"===M||2===M?y.path:null}var D=propertyGroupFactory(y,s);return v.setGroupProperty(PropertyInterface("Path",D)),Object.defineProperties(y,{path:{get:function(){return v.k&&v.getValue(),v}},shape:{get:function(){return v.k&&v.getValue(),v}},_name:{value:h.nm},ix:{value:h.ix},propertyIndex:{value:h.ix},mn:{value:h.mn},propertyGroup:{value:s}}),y},ShapeExpressionInterface=function(){function c(U,q,ne){var G,z=[],V=U?U.length:0;for(G=0;G<V;G+=1)"gr"===U[G].ty?z.push(f(U[G],q[G],ne)):"fl"===U[G].ty?z.push(s(U[G],q[G],ne)):"st"===U[G].ty?z.push(D(U[G],q[G],ne)):"tm"===U[G].ty?z.push(M(U[G],q[G],ne)):"tr"===U[G].ty||z.push("el"===U[G].ty?O(U[G],q[G],ne):"sr"===U[G].ty?j(U[G],q[G],ne):"sh"===U[G].ty?ShapePathInterface(U[G],q[G],ne):"rc"===U[G].ty?Q(U[G],q[G],ne):"rd"===U[G].ty?R(U[G],q[G],ne):"rp"===U[G].ty?H(U[G],q[G],ne):"gf"===U[G].ty?v(U[G],q[G],ne):function U(){return null});return z}function f(U,q,ne){var z=function(ee){switch(ee){case"ADBE Vectors Group":case"Contents":case 2:return z.content;default:return z.transform}};z.propertyGroup=propertyGroupFactory(z,ne);var G=function h(U,q,ne){var z,G=function(ee){for(var te=0,re=z.length;te<re;){if(z[te]._name===ee||z[te].mn===ee||z[te].propertyIndex===ee||z[te].ix===ee||z[te].ind===ee)return z[te];te+=1}return"number"==typeof ee?z[ee-1]:null};G.propertyGroup=propertyGroupFactory(G,ne),z=c(U.it,q.it,G.propertyGroup),G.numProperties=z.length;var V=P(U.it[U.it.length-1],q.it[q.it.length-1],G.propertyGroup);return G.transform=V,G.propertyIndex=U.cix,G._name=U.nm,G}(U,q,z.propertyGroup),V=P(U.it[U.it.length-1],q.it[q.it.length-1],z.propertyGroup);return z.content=G,z.transform=V,Object.defineProperty(z,"_name",{get:function(){return U.nm}}),z.numProperties=U.np,z.propertyIndex=U.ix,z.nm=U.nm,z.mn=U.mn,z}function s(U,q,ne){function z(G){return"Color"===G||"color"===G?z.color:"Opacity"===G||"opacity"===G?z.opacity:null}return Object.defineProperties(z,{color:{get:ExpressionPropertyInterface(q.c)},opacity:{get:ExpressionPropertyInterface(q.o)},_name:{value:U.nm},mn:{value:U.mn}}),q.c.setGroupProperty(PropertyInterface("Color",ne)),q.o.setGroupProperty(PropertyInterface("Opacity",ne)),z}function v(U,q,ne){function z(G){return"Start Point"===G||"start point"===G?z.startPoint:"End Point"===G||"end point"===G?z.endPoint:"Opacity"===G||"opacity"===G?z.opacity:null}return Object.defineProperties(z,{startPoint:{get:ExpressionPropertyInterface(q.s)},endPoint:{get:ExpressionPropertyInterface(q.e)},opacity:{get:ExpressionPropertyInterface(q.o)},type:{get:function(){return"a"}},_name:{value:U.nm},mn:{value:U.mn}}),q.s.setGroupProperty(PropertyInterface("Start Point",ne)),q.e.setGroupProperty(PropertyInterface("End Point",ne)),q.o.setGroupProperty(PropertyInterface("Opacity",ne)),z}function D(U,q,ne){var B,ae,z=propertyGroupFactory(re,ne),G=propertyGroupFactory(te,z),ee=U.d?U.d.length:0,te={};for(B=0;B<ee;B+=1)ae=B,Object.defineProperty(te,U.d[ae].nm,{get:ExpressionPropertyInterface(q.d.dataProps[ae].p)}),q.d.dataProps[B].p.setGroupProperty(G);function re(ae){return"Color"===ae||"color"===ae?re.color:"Opacity"===ae||"opacity"===ae?re.opacity:"Stroke Width"===ae||"stroke width"===ae?re.strokeWidth:null}return Object.defineProperties(re,{color:{get:ExpressionPropertyInterface(q.c)},opacity:{get:ExpressionPropertyInterface(q.o)},strokeWidth:{get:ExpressionPropertyInterface(q.w)},dash:{get:function(){return te}},_name:{value:U.nm},mn:{value:U.mn}}),q.c.setGroupProperty(PropertyInterface("Color",z)),q.o.setGroupProperty(PropertyInterface("Opacity",z)),q.w.setGroupProperty(PropertyInterface("Stroke Width",z)),re}function M(U,q,ne){function z(V){return V===U.e.ix||"End"===V||"end"===V?z.end:V===U.s.ix?z.start:V===U.o.ix?z.offset:null}var G=propertyGroupFactory(z,ne);return z.propertyIndex=U.ix,q.s.setGroupProperty(PropertyInterface("Start",G)),q.e.setGroupProperty(PropertyInterface("End",G)),q.o.setGroupProperty(PropertyInterface("Offset",G)),z.propertyIndex=U.ix,z.propertyGroup=ne,Object.defineProperties(z,{start:{get:ExpressionPropertyInterface(q.s)},end:{get:ExpressionPropertyInterface(q.e)},offset:{get:ExpressionPropertyInterface(q.o)},_name:{value:U.nm}}),z.mn=U.mn,z}function P(U,q,ne){function z(V){return U.a.ix===V||"Anchor Point"===V?z.anchorPoint:U.o.ix===V||"Opacity"===V?z.opacity:U.p.ix===V||"Position"===V?z.position:U.r.ix===V||"Rotation"===V||"ADBE Vector Rotation"===V?z.rotation:U.s.ix===V||"Scale"===V?z.scale:U.sk&&U.sk.ix===V||"Skew"===V?z.skew:U.sa&&U.sa.ix===V||"Skew Axis"===V?z.skewAxis:null}var G=propertyGroupFactory(z,ne);return q.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",G)),q.transform.mProps.p.setGroupProperty(PropertyInterface("Position",G)),q.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",G)),q.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",G)),q.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",G)),q.transform.mProps.sk&&(q.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",G)),q.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",G))),q.transform.op.setGroupProperty(PropertyInterface("Opacity",G)),Object.defineProperties(z,{opacity:{get:ExpressionPropertyInterface(q.transform.mProps.o)},position:{get:ExpressionPropertyInterface(q.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(q.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(q.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(q.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(q.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(q.transform.mProps.sa)},_name:{value:U.nm}}),z.ty="tr",z.mn=U.mn,z.propertyGroup=ne,z}function O(U,q,ne){function z(B){return U.p.ix===B?z.position:U.s.ix===B?z.size:null}var G=propertyGroupFactory(z,ne);z.propertyIndex=U.ix;var V="tm"===q.sh.ty?q.sh.prop:q.sh;return V.s.setGroupProperty(PropertyInterface("Size",G)),V.p.setGroupProperty(PropertyInterface("Position",G)),Object.defineProperties(z,{size:{get:ExpressionPropertyInterface(V.s)},position:{get:ExpressionPropertyInterface(V.p)},_name:{value:U.nm}}),z.mn=U.mn,z}function j(U,q,ne){function z(B){return U.p.ix===B?z.position:U.r.ix===B?z.rotation:U.pt.ix===B?z.points:U.or.ix===B||"ADBE Vector Star Outer Radius"===B?z.outerRadius:U.os.ix===B?z.outerRoundness:!U.ir||U.ir.ix!==B&&"ADBE Vector Star Inner Radius"!==B?U.is&&U.is.ix===B?z.innerRoundness:null:z.innerRadius}var G=propertyGroupFactory(z,ne),V="tm"===q.sh.ty?q.sh.prop:q.sh;return z.propertyIndex=U.ix,V.or.setGroupProperty(PropertyInterface("Outer Radius",G)),V.os.setGroupProperty(PropertyInterface("Outer Roundness",G)),V.pt.setGroupProperty(PropertyInterface("Points",G)),V.p.setGroupProperty(PropertyInterface("Position",G)),V.r.setGroupProperty(PropertyInterface("Rotation",G)),U.ir&&(V.ir.setGroupProperty(PropertyInterface("Inner Radius",G)),V.is.setGroupProperty(PropertyInterface("Inner Roundness",G))),Object.defineProperties(z,{position:{get:ExpressionPropertyInterface(V.p)},rotation:{get:ExpressionPropertyInterface(V.r)},points:{get:ExpressionPropertyInterface(V.pt)},outerRadius:{get:ExpressionPropertyInterface(V.or)},outerRoundness:{get:ExpressionPropertyInterface(V.os)},innerRadius:{get:ExpressionPropertyInterface(V.ir)},innerRoundness:{get:ExpressionPropertyInterface(V.is)},_name:{value:U.nm}}),z.mn=U.mn,z}function Q(U,q,ne){function z(B){return U.p.ix===B?z.position:U.r.ix===B?z.roundness:U.s.ix===B||"Size"===B||"ADBE Vector Rect Size"===B?z.size:null}var G=propertyGroupFactory(z,ne),V="tm"===q.sh.ty?q.sh.prop:q.sh;return z.propertyIndex=U.ix,V.p.setGroupProperty(PropertyInterface("Position",G)),V.s.setGroupProperty(PropertyInterface("Size",G)),V.r.setGroupProperty(PropertyInterface("Rotation",G)),Object.defineProperties(z,{position:{get:ExpressionPropertyInterface(V.p)},roundness:{get:ExpressionPropertyInterface(V.r)},size:{get:ExpressionPropertyInterface(V.s)},_name:{value:U.nm}}),z.mn=U.mn,z}function R(U,q,ne){function z(B){return U.r.ix===B||"Round Corners 1"===B?z.radius:null}var G=propertyGroupFactory(z,ne),V=q;return z.propertyIndex=U.ix,V.rd.setGroupProperty(PropertyInterface("Radius",G)),Object.defineProperties(z,{radius:{get:ExpressionPropertyInterface(V.rd)},_name:{value:U.nm}}),z.mn=U.mn,z}function H(U,q,ne){function z(B){return U.c.ix===B||"Copies"===B?z.copies:U.o.ix===B||"Offset"===B?z.offset:null}var G=propertyGroupFactory(z,ne),V=q;return z.propertyIndex=U.ix,V.c.setGroupProperty(PropertyInterface("Copies",G)),V.o.setGroupProperty(PropertyInterface("Offset",G)),Object.defineProperties(z,{copies:{get:ExpressionPropertyInterface(V.c)},offset:{get:ExpressionPropertyInterface(V.o)},_name:{value:U.nm}}),z.mn=U.mn,z}return function(U,q,ne){var z;function G(B){if("number"==typeof B)return 0===(B=void 0===B?1:B)?ne:z[B-1];for(var ee=0,te=z.length;ee<te;){if(z[ee]._name===B)return z[ee];ee+=1}return null}return G.propertyGroup=propertyGroupFactory(G,function V(){return ne}),z=c(U,q,G.propertyGroup),G.numProperties=z.length,G._name="Contents",G}}(),TextExpressionInterface=function(c){var h;function f(s){return"ADBE Text Document"===s?f.sourceText:null}return Object.defineProperty(f,"sourceText",{get:function(){c.textProperty.getValue();var v=c.textProperty.currentData.t;return(!h||v!==h.value)&&((h=new String(v)).value=v||new String(v),Object.defineProperty(h,"style",{get:function(){return{fillColor:c.textProperty.currentData.fc}}})),h}}),f};function _typeof$2(c){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var FootageInterface=(h=function(s){function v(y){return"Outline"===y?v.outlineInterface():null}return v._name="Outline",v.outlineInterface=function(s){var v="",y=s.getFootageData();function M(P){if(y[P])return v=P,"object"===_typeof$2(y=y[P])?M:y;var O=P.indexOf(v);if(-1!==O){var j=parseInt(P.substr(O+v.length),10);return"object"===_typeof$2(y=y[j])?M:y}return""}return function D(){return v="",y=s.getFootageData(),M}}(s),v},function(f){function s(v){return"Data"===v?s.dataInterface:null}return s._name="Data",s.dataInterface=h(f),s}),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface},h;function getInterface(c){return interfaces[c]||null}function _typeof$1(c){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}function seedRandom(c,h){var f=this,s=256,D="random",M=h.pow(s,6),P=h.pow(2,52),O=2*P,j=255;function H(V){var B,ee=V.length,te=this,re=0,ae=te.i=te.j=0,he=te.S=[];for(ee||(V=[ee++]);re<s;)he[re]=re++;for(re=0;re<s;re++)he[re]=he[ae=j&ae+V[re%ee]+(B=he[re])],he[ae]=B;te.g=function(Re){for(var xe,Ie=0,_e=te.i,$e=te.j,Te=te.S;Re--;)xe=Te[_e=j&_e+1],Ie=Ie*s+Te[j&(Te[_e]=Te[$e=j&$e+xe])+(Te[$e]=xe)];return te.i=_e,te.j=$e,Ie}}function U(V,B){return B.i=V.i,B.j=V.j,B.S=V.S.slice(),B}function q(V,B){var re,ee=[],te=_typeof$1(V);if(B&&"object"==te)for(re in V)try{ee.push(q(V[re],B-1))}catch{}return ee.length?ee:"string"==te?V:V+"\0"}function ne(V,B){for(var te,ee=V+"",re=0;re<ee.length;)B[j&re]=j&(te^=19*B[j&re])+ee.charCodeAt(re++);return G(B)}function G(V){return String.fromCharCode.apply(0,V)}h["seed"+D]=function R(V,B,ee){var te=[],re=ne(q((B=!0===B?{entropy:!0}:B||{}).entropy?[V,G(c)]:null===V?function z(){try{var V=new Uint8Array(s);return(f.crypto||f.msCrypto).getRandomValues(V),G(V)}catch{var B=f.navigator,ee=B&&B.plugins;return[+new Date,f,ee,f.screen,G(c)]}}():V,3),te),ae=new H(te),he=function(){for(var xe=ae.g(6),Ie=M,_e=0;xe<P;)xe=(xe+_e)*s,Ie*=s,_e=ae.g(1);for(;xe>=O;)xe/=2,Ie/=2,_e>>>=1;return(xe+_e)/Ie};return he.int32=function(){return 0|ae.g(4)},he.quick=function(){return ae.g(4)/4294967296},he.double=he,ne(G(ae.S),c),(B.pass||ee||function(Re,xe,Ie,_e){return _e&&(_e.S&&U(_e,ae),Re.state=function(){return U(ae,{})}),Ie?(h[D]=Re,xe):Re})(he,re,"global"in B?B.global:this==h,B.state)},ne(h.random(),c)}function initialize$2(c){seedRandom([],c)}var propTypes={SHAPE:"shape"};function _typeof(c){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(c){return c.constructor===Array||c.constructor===Float32Array}function isNumerable(c,h){return"number"===c||"boolean"===c||"string"===c||h instanceof Number}function $bm_neg(c){var h=_typeof(c);if("number"===h||"boolean"===h||c instanceof Number)return-c;if($bm_isInstanceOfArray(c)){var f,s=c.length,v=[];for(f=0;f<s;f+=1)v[f]=-c[f];return v}return c.propType?c.v:-c}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(c,h){var f=_typeof(c),s=_typeof(h);if("string"===f||"string"===s||isNumerable(f,c)&&isNumerable(s,h))return c+h;if($bm_isInstanceOfArray(c)&&isNumerable(s,h))return(c=c.slice(0))[0]+=h,c;if(isNumerable(f,c)&&$bm_isInstanceOfArray(h))return(h=h.slice(0))[0]=c+h[0],h;if($bm_isInstanceOfArray(c)&&$bm_isInstanceOfArray(h)){for(var v=0,y=c.length,D=h.length,M=[];v<y||v<D;)M[v]=("number"==typeof c[v]||c[v]instanceof Number)&&("number"==typeof h[v]||h[v]instanceof Number)?c[v]+h[v]:void 0===h[v]?c[v]:c[v]||h[v],v+=1;return M}return 0}var add=sum;function sub(c,h){var f=_typeof(c),s=_typeof(h);if(isNumerable(f,c)&&isNumerable(s,h))return"string"===f&&(c=parseInt(c,10)),"string"===s&&(h=parseInt(h,10)),c-h;if($bm_isInstanceOfArray(c)&&isNumerable(s,h))return(c=c.slice(0))[0]-=h,c;if(isNumerable(f,c)&&$bm_isInstanceOfArray(h))return(h=h.slice(0))[0]=c-h[0],h;if($bm_isInstanceOfArray(c)&&$bm_isInstanceOfArray(h)){for(var v=0,y=c.length,D=h.length,M=[];v<y||v<D;)M[v]=("number"==typeof c[v]||c[v]instanceof Number)&&("number"==typeof h[v]||h[v]instanceof Number)?c[v]-h[v]:void 0===h[v]?c[v]:c[v]||h[v],v+=1;return M}return 0}function mul(c,h){var v,y,D,f=_typeof(c),s=_typeof(h);if(isNumerable(f,c)&&isNumerable(s,h))return c*h;if($bm_isInstanceOfArray(c)&&isNumerable(s,h)){for(v=createTypedArray("float32",D=c.length),y=0;y<D;y+=1)v[y]=c[y]*h;return v}if(isNumerable(f,c)&&$bm_isInstanceOfArray(h)){for(v=createTypedArray("float32",D=h.length),y=0;y<D;y+=1)v[y]=c*h[y];return v}return 0}function div(c,h){var v,y,D,f=_typeof(c),s=_typeof(h);if(isNumerable(f,c)&&isNumerable(s,h))return c/h;if($bm_isInstanceOfArray(c)&&isNumerable(s,h)){for(v=createTypedArray("float32",D=c.length),y=0;y<D;y+=1)v[y]=c[y]/h;return v}if(isNumerable(f,c)&&$bm_isInstanceOfArray(h)){for(v=createTypedArray("float32",D=h.length),y=0;y<D;y+=1)v[y]=c/h[y];return v}return 0}function mod(c,h){return"string"==typeof c&&(c=parseInt(c,10)),"string"==typeof h&&(h=parseInt(h,10)),c%h}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(c,h,f){if(h>f){var s=f;f=h,h=s}return Math.min(Math.max(c,h),f)}function radiansToDegrees(c){return c/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(c){return c*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(c,h){if("number"==typeof c||c instanceof Number)return Math.abs(c-(h=h||0));h||(h=helperLengthArray);var f,s=Math.min(c.length,h.length),v=0;for(f=0;f<s;f+=1)v+=Math.pow(h[f]-c[f],2);return Math.sqrt(v)}function normalize(c){return div(c,length(c))}function rgbToHsl(c){var D,M,h=c[0],f=c[1],s=c[2],v=Math.max(h,f,s),y=Math.min(h,f,s),P=(v+y)/2;if(v===y)D=0,M=0;else{var O=v-y;switch(M=P>.5?O/(2-v-y):O/(v+y),v){case h:D=(f-s)/O+(f<s?6:0);break;case f:D=(s-h)/O+2;break;case s:D=(h-f)/O+4}D/=6}return[D,M,P,c[3]]}function hue2rgb(c,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+6*(h-c)*f:f<.5?h:f<2/3?c+(h-c)*(2/3-f)*6:c}function hslToRgb(c){var v,y,D,h=c[0],f=c[1],s=c[2];if(0===f)v=s,D=s,y=s;else{var M=s<.5?s*(1+f):s+f-s*f,P=2*s-M;v=hue2rgb(P,M,h+1/3),y=hue2rgb(P,M,h),D=hue2rgb(P,M,h-1/3)}return[v,y,D,c[3]]}function linear(c,h,f,s,v){if((void 0===s||void 0===v)&&(s=h,v=f,h=0,f=1),f<h){var y=f;f=h,h=y}if(c<=h)return s;if(c>=f)return v;var D=f===h?0:(c-h)/(f-h);if(!s.length)return s+(v-s)*D;var M,P=s.length,O=createTypedArray("float32",P);for(M=0;M<P;M+=1)O[M]=s[M]+(v[M]-s[M])*D;return O}function random(c,h){if(void 0===h&&(void 0===c?(c=0,h=1):(h=c,c=void 0)),h.length){var f,s=h.length;c||(c=createTypedArray("float32",s));var v=createTypedArray("float32",s),y=BMMath.random();for(f=0;f<s;f+=1)v[f]=c[f]+y*(h[f]-c[f]);return v}return void 0===c&&(c=0),c+BMMath.random()*(h-c)}function createPath(c,h,f,s){var v,y=c.length,D=shapePool.newElement();D.setPathData(!!s,y);var P,O,M=[0,0];for(v=0;v<y;v+=1)D.setTripleAt(c[v][0],c[v][1],(O=f&&f[v]?f[v]:M)[0]+c[v][0],O[1]+c[v][1],(P=h&&h[v]?h[v]:M)[0]+c[v][0],P[1]+c[v][1],v,!0);return D}function initiateExpression(elem,data,property){function noOp(c){return c}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function c(h,f){var s,v,y=this.pv.length?this.pv.length:1,D=createTypedArray("float32",y),M=Math.floor(5*time);for(s=0,v=0;s<M;){for(v=0;v<y;v+=1)D[v]+=-f+2*f*BMMath.random();s+=1}var P=5*time,O=P-Math.floor(P),j=createTypedArray("float32",y);if(y>1){for(v=0;v<y;v+=1)j[v]=this.pv[v]+D[v]+(-f+2*f*BMMath.random())*O;return j}return this.pv+D[0]+(-f+2*f*BMMath.random())*O}.bind(this);function loopInDuration(c,h){return loopIn(c,h,!0)}function loopOutDuration(c,h){return loopOut(c,h,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(c,h){var f=[h[0]-c[0],h[1]-c[1],h[2]-c[2]],s=Math.atan2(f[0],Math.sqrt(f[1]*f[1]+f[2]*f[2]))/degToRads;return[-Math.atan2(f[1],f[2])/degToRads,s,0]}function easeOut(c,h,f,s,v){return applyEase(easeOutBez,c,h,f,s,v)}function easeIn(c,h,f,s,v){return applyEase(easeInBez,c,h,f,s,v)}function ease(c,h,f,s,v){return applyEase(easeInOutBez,c,h,f,s,v)}function applyEase(c,h,f,s,v,y){void 0===v?(v=f,y=s):h=(h-f)/(s-f),h>1?h=1:h<0&&(h=0);var D=c(h);if($bm_isInstanceOfArray(v)){var M,P=v.length,O=createTypedArray("float32",P);for(M=0;M<P;M+=1)O[M]=(y[M]-v[M])*D+v[M];return O}return(y-v)*D+v}function nearestKey(c){var h,s,v,f=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(s=-1,(c*=elem.comp.globalData.frameRate)<data.k[0].t)s=1,v=data.k[0].t;else{for(h=0;h<f-1;h+=1){if(c===data.k[h].t){s=h+1,v=data.k[h].t;break}if(c>data.k[h].t&&c<data.k[h+1].t){c-data.k[h].t>data.k[h+1].t-c?(s=h+2,v=data.k[h+1].t):(s=h+1,v=data.k[h].t);break}}-1===s&&(s=h+1,v=data.k[h].t)}else s=0,v=0;var y={};return y.index=s,y.time=v/elem.comp.globalData.frameRate,y}function key(c){var h,f,s;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+c);h={time:data.k[c-=1].t/elem.comp.globalData.frameRate,value:[]};var v=Object.prototype.hasOwnProperty.call(data.k[c],"s")?data.k[c].s:data.k[c-1].e;for(s=v.length,f=0;f<s;f+=1)h[f]=v[f],h.value[f]=v[f];return h}function framesToTime(c,h){return h||(h=elem.comp.globalData.frameRate),c/h}function timeToFrames(c,h){return!c&&0!==c&&(c=time),h||(h=elem.comp.globalData.frameRate),c*h}function seedRandom(c){BMMath.seedrandom(randSeed+c)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(c,h){return"string"==typeof value?void 0===h?value.substring(c):value.substring(c,h):""}function substr(c,h){return"string"==typeof value?void 0===h?value.substr(c):value.substr(c,h):""}function posterizeTime(c){time=0===c?0:Math.floor(time*c)/c,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(c){return value=c,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisComp=elem.comp.compInterface,toWorld=(thisLayer=elem.layerInterface).toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4===elemType&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function c(D,M,P){M.x&&(P.k=!0,P.x=!0,P.initiateExpression=ExpressionManager.initiateExpression,P.effectsSequence.push(P.initiateExpression(D,M,P).bind(P)))},getSpeedAtTime:function f(D){var P=this.getValueAtTime(D),O=this.getValueAtTime(D+-.01),j=0;if(P.length){var Q;for(Q=0;Q<P.length;Q+=1)j+=Math.pow(O[Q]-P[Q],2);j=100*Math.sqrt(j)}else j=0;return j},getVelocityAtTime:function s(D){if(void 0!==this.vel)return this.vel;var j,Q,M=-.001,P=this.getValueAtTime(D),O=this.getValueAtTime(D+M);if(P.length)for(j=createTypedArray("float32",P.length),Q=0;Q<P.length;Q+=1)j[Q]=(O[Q]-P[Q])/M;else j=(O-P)/M;return j},getValueAtTime:function h(D){return D*=this.elem.globalData.frameRate,(D-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<D?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(D,this._cachingAtTime),this._cachingAtTime.lastFrame=D),this._cachingAtTime.value},getStaticValueAtTime:function v(){return this.pv},setGroupProperty:function y(D){this.propertyGroup=D}};function addPropertyDecorator(){function c(R,H,U){if(!this.k||!this.keyframes)return this.pv;R=R?R.toLowerCase():"";var G,V,B,ee,te,q=this.comp.renderedFrame,ne=this.keyframes,z=ne[ne.length-1].t;if(q<=z)return this.pv;if(U?V=z-(G=H?Math.abs(z-this.elem.comp.globalData.frameRate*H):Math.max(0,z-this.elem.data.ip)):((!H||H>ne.length-1)&&(H=ne.length-1),G=z-(V=ne[ne.length-1-H].t)),"pingpong"===R){if(Math.floor((q-V)/G)%2!=0)return this.getValueAtTime((G-(q-V)%G+V)/this.comp.globalData.frameRate,0)}else{if("offset"===R){var ae=this.getValueAtTime(V/this.comp.globalData.frameRate,0),he=this.getValueAtTime(z/this.comp.globalData.frameRate,0),Re=this.getValueAtTime(((q-V)%G+V)/this.comp.globalData.frameRate,0),xe=Math.floor((q-V)/G);if(this.pv.length){for(ee=(te=new Array(ae.length)).length,B=0;B<ee;B+=1)te[B]=(he[B]-ae[B])*xe+Re[B];return te}return(he-ae)*xe+Re}if("continue"===R){var Ie=this.getValueAtTime(z/this.comp.globalData.frameRate,0),_e=this.getValueAtTime((z-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ee=(te=new Array(Ie.length)).length,B=0;B<ee;B+=1)te[B]=Ie[B]+(q-z)/this.comp.globalData.frameRate*(Ie[B]-_e[B])/5e-4;return te}return Ie+(q-z)/.001*(Ie-_e)}}return this.getValueAtTime(((q-V)%G+V)/this.comp.globalData.frameRate,0)}function h(R,H,U){if(!this.k)return this.pv;R=R?R.toLowerCase():"";var G,V,B,ee,te,q=this.comp.renderedFrame,ne=this.keyframes,z=ne[0].t;if(q>=z)return this.pv;if(U?V=z+(G=H?Math.abs(this.elem.comp.globalData.frameRate*H):Math.max(0,this.elem.data.op-z)):((!H||H>ne.length-1)&&(H=ne.length-1),G=(V=ne[H].t)-z),"pingpong"===R){if(Math.floor((z-q)/G)%2==0)return this.getValueAtTime(((z-q)%G+z)/this.comp.globalData.frameRate,0)}else{if("offset"===R){var ae=this.getValueAtTime(z/this.comp.globalData.frameRate,0),he=this.getValueAtTime(V/this.comp.globalData.frameRate,0),Re=this.getValueAtTime((G-(z-q)%G+z)/this.comp.globalData.frameRate,0),xe=Math.floor((z-q)/G)+1;if(this.pv.length){for(ee=(te=new Array(ae.length)).length,B=0;B<ee;B+=1)te[B]=Re[B]-(he[B]-ae[B])*xe;return te}return Re-(he-ae)*xe}if("continue"===R){var Ie=this.getValueAtTime(z/this.comp.globalData.frameRate,0),_e=this.getValueAtTime((z+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ee=(te=new Array(Ie.length)).length,B=0;B<ee;B+=1)te[B]=Ie[B]+(Ie[B]-_e[B])*(z-q)/.001;return te}return Ie+(Ie-_e)*(z-q)/.001}}return this.getValueAtTime((G-((z-q)%G+z))/this.comp.globalData.frameRate,0)}function f(R,H){if(!this.k)return this.pv;if(R=.5*(R||.4),(H=Math.floor(H||5))<=1)return this.pv;var B,ee,U=this.comp.renderedFrame/this.comp.globalData.frameRate,q=U-R,z=H>1?(U+R-q)/(H-1):1,G=0,V=0;for(B=this.pv.length?createTypedArray("float32",this.pv.length):0;G<H;){if(ee=this.getValueAtTime(q+G*z),this.pv.length)for(V=0;V<this.pv.length;V+=1)B[V]+=ee[V];else B+=ee;G+=1}if(this.pv.length)for(V=0;V<this.pv.length;V+=1)B[V]/=H;else B/=H;return B}function s(R){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var H=this._transformCachingAtTime.v;if(H.cloneFromProps(this.pre.props),this.appliedTransformations<1){var U=this.a.getValueAtTime(R);H.translate(-U[0]*this.a.mult,-U[1]*this.a.mult,U[2]*this.a.mult)}if(this.appliedTransformations<2){var q=this.s.getValueAtTime(R);H.scale(q[0]*this.s.mult,q[1]*this.s.mult,q[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var ne=this.sk.getValueAtTime(R),z=this.sa.getValueAtTime(R);H.skewFromAxis(-ne*this.sk.mult,z*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var G=this.r.getValueAtTime(R);H.rotate(-G*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var V=this.rz.getValueAtTime(R),B=this.ry.getValueAtTime(R),ee=this.rx.getValueAtTime(R),te=this.or.getValueAtTime(R);H.rotateZ(-V*this.rz.mult).rotateY(B*this.ry.mult).rotateX(ee*this.rx.mult).rotateZ(-te[2]*this.or.mult).rotateY(te[1]*this.or.mult).rotateX(te[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var re=this.px.getValueAtTime(R),ae=this.py.getValueAtTime(R);if(this.data.p.z){var he=this.pz.getValueAtTime(R);H.translate(re*this.px.mult,ae*this.py.mult,-he*this.pz.mult)}else H.translate(re*this.px.mult,ae*this.py.mult,0)}else{var Re=this.p.getValueAtTime(R);H.translate(Re[0]*this.p.mult,Re[1]*this.p.mult,-Re[2]*this.p.mult)}return H}function v(){return this.v.clone(new Matrix)}var y=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(R,H,U){var q=y(R,H,U);return q.getValueAtTime=q.dynamicProperties.length?s.bind(q):v.bind(q),q.setGroupProperty=expressionHelpers.setGroupProperty,q};var D=PropertyFactory.getProp;PropertyFactory.getProp=function(R,H,U,q,ne){var z=D(R,H,U,q,ne);z.getValueAtTime=z.kf?expressionHelpers.getValueAtTime.bind(z):expressionHelpers.getStaticValueAtTime.bind(z),z.setGroupProperty=expressionHelpers.setGroupProperty,z.loopOut=c,z.loopIn=h,z.smooth=f,z.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(z),z.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(z),z.numKeys=1===H.a?H.k.length:0,z.propertyIndex=H.ix;var G=0;return 0!==U&&(G=createTypedArray("float32",1===H.a?H.k[0].s.length:H.k.length)),z._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:G},expressionHelpers.searchExpressions(R,H,z),z.k&&ne.addDynamicProperty(z),z};var P=ShapePropertyFactory.getConstructorFunction(),O=ShapePropertyFactory.getKeyframedConstructorFunction();function j(){}j.prototype={vertices:function(H,U){this.k&&this.getValue();var q=this.v;void 0!==U&&(q=this.getValueAtTime(U,0));var ne,z=q._length,G=q[H],V=q.v,B=createSizedArray(z);for(ne=0;ne<z;ne+=1)B[ne]="i"===H||"o"===H?[G[ne][0]-V[ne][0],G[ne][1]-V[ne][1]]:[G[ne][0],G[ne][1]];return B},points:function(H){return this.vertices("v",H)},inTangents:function(H){return this.vertices("i",H)},outTangents:function(H){return this.vertices("o",H)},isClosed:function(){return this.v.c},pointOnPath:function(H,U){var q=this.v;void 0!==U&&(q=this.getValueAtTime(U,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(q));for(var te,ne=this._segmentsLength,z=ne.lengths,G=ne.totalLength*H,V=0,B=z.length,ee=0;V<B;){if(ee+z[V].addedLength>G){var ae=q.c&&V===B-1?0:V+1;te=bez.getPointInSegment(q.v[V],q.v[ae],q.o[V],q.i[ae],(G-ee)/z[V].addedLength,z[V]);break}ee+=z[V].addedLength,V+=1}return te||(te=q.c?[q.v[0][0],q.v[0][1]]:[q.v[q._length-1][0],q.v[q._length-1][1]]),te},vectorOnPath:function(H,U,q){1==H?H=this.v.c:0==H&&(H=.999);var ne=this.pointOnPath(H,U),z=this.pointOnPath(H+.001,U),G=z[0]-ne[0],V=z[1]-ne[1],B=Math.sqrt(Math.pow(G,2)+Math.pow(V,2));return 0===B?[0,0]:"tangent"===q?[G/B,V/B]:[-V/B,G/B]},tangentOnPath:function(H,U){return this.vectorOnPath(H,U,"tangent")},normalOnPath:function(H,U){return this.vectorOnPath(H,U,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([j],P),extendPrototype([j],O),O.prototype.getValueAtTime=function M(R){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),R*=this.elem.globalData.frameRate,(R-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<R?this._caching.lastIndex:0,this._cachingAtTime.lastTime=R,this.interpolateShape(R,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},O.prototype.initiateExpression=ExpressionManager.initiateExpression;var Q=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(R,H,U,q,ne){var z=Q(R,H,U,q,ne);return z.propertyIndex=H.ix,z.lock=!1,3===U?expressionHelpers.searchExpressions(R,H.pt,z):4===U&&expressionHelpers.searchExpressions(R,H.ks,z),z.k&&R.addDynamicProperty(z),z}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(h,f){var s=this.calculateExpression(f);if(h.t!==s){var v={};return this.copyData(v,h),v.t=s.toString(),v.__complete=!1,v}return h},TextProperty.prototype.searchProperty=function(){var h=this.searchKeyframes(),f=this.searchExpressions();return this.kf=h||f,this.kf},TextProperty.prototype.searchExpressions=function c(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function c(h,f){var v,y,s=createNS("feMerge");for(s.setAttribute("result",h),y=0;y<f.length;y+=1)(v=createNS("feMergeNode")).setAttribute("in",f[y]),s.appendChild(v),s.appendChild(v);return s}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(c,h,f,s,v){this.filterManager=h;var y=createNS("feColorMatrix");y.setAttribute("type","matrix"),y.setAttribute("color-interpolation-filters","linearRGB"),y.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=y,y.setAttribute("result",s+"_tint_1"),c.appendChild(y),(y=createNS("feColorMatrix")).setAttribute("type","matrix"),y.setAttribute("color-interpolation-filters","sRGB"),y.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),y.setAttribute("result",s+"_tint_2"),c.appendChild(y),this.matrixFilter=y;var D=this.createMergeNode(s,[v,s+"_tint_1",s+"_tint_2"]);c.appendChild(D)}function SVGFillFilter(c,h,f,s){this.filterManager=h;var v=createNS("feColorMatrix");v.setAttribute("type","matrix"),v.setAttribute("color-interpolation-filters","sRGB"),v.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),v.setAttribute("result",s),c.appendChild(v),this.matrixFilter=v}function SVGStrokeEffect(c,h,f){this.initialized=!1,this.filterManager=h,this.elem=f,this.paths=[]}function SVGTritoneFilter(c,h,f,s){this.filterManager=h;var v=createNS("feColorMatrix");v.setAttribute("type","matrix"),v.setAttribute("color-interpolation-filters","linearRGB"),v.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),c.appendChild(v);var y=createNS("feComponentTransfer");y.setAttribute("color-interpolation-filters","sRGB"),y.setAttribute("result",s),this.matrixFilter=y;var D=createNS("feFuncR");D.setAttribute("type","table"),y.appendChild(D),this.feFuncR=D;var M=createNS("feFuncG");M.setAttribute("type","table"),y.appendChild(M),this.feFuncG=M;var P=createNS("feFuncB");P.setAttribute("type","table"),y.appendChild(P),this.feFuncB=P,c.appendChild(y)}function SVGProLevelsFilter(c,h,f,s){this.filterManager=h;var v=this.filterManager.effectElements,y=createNS("feComponentTransfer");(v[10].p.k||0!==v[10].p.v||v[11].p.k||1!==v[11].p.v||v[12].p.k||1!==v[12].p.v||v[13].p.k||0!==v[13].p.v||v[14].p.k||1!==v[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",y)),(v[17].p.k||0!==v[17].p.v||v[18].p.k||1!==v[18].p.v||v[19].p.k||1!==v[19].p.v||v[20].p.k||0!==v[20].p.v||v[21].p.k||1!==v[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",y)),(v[24].p.k||0!==v[24].p.v||v[25].p.k||1!==v[25].p.v||v[26].p.k||1!==v[26].p.v||v[27].p.k||0!==v[27].p.v||v[28].p.k||1!==v[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",y)),(v[31].p.k||0!==v[31].p.v||v[32].p.k||1!==v[32].p.v||v[33].p.k||1!==v[33].p.v||v[34].p.k||0!==v[34].p.v||v[35].p.k||1!==v[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",y)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(y.setAttribute("color-interpolation-filters","sRGB"),c.appendChild(y)),(v[3].p.k||0!==v[3].p.v||v[4].p.k||1!==v[4].p.v||v[5].p.k||1!==v[5].p.v||v[6].p.k||0!==v[6].p.v||v[7].p.k||1!==v[7].p.v)&&((y=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),y.setAttribute("result",s),c.appendChild(y),this.feFuncRComposed=this.createFeFunc("feFuncR",y),this.feFuncGComposed=this.createFeFunc("feFuncG",y),this.feFuncBComposed=this.createFeFunc("feFuncB",y))}function SVGDropShadowEffect(c,h,f,s,v){var y=h.container.globalData.renderConfig.filterSize,D=h.data.fs||y;c.setAttribute("x",D.x||y.x),c.setAttribute("y",D.y||y.y),c.setAttribute("width",D.width||y.width),c.setAttribute("height",D.height||y.height),this.filterManager=h;var M=createNS("feGaussianBlur");M.setAttribute("in","SourceAlpha"),M.setAttribute("result",s+"_drop_shadow_1"),M.setAttribute("stdDeviation","0"),this.feGaussianBlur=M,c.appendChild(M);var P=createNS("feOffset");P.setAttribute("dx","25"),P.setAttribute("dy","0"),P.setAttribute("in",s+"_drop_shadow_1"),P.setAttribute("result",s+"_drop_shadow_2"),this.feOffset=P,c.appendChild(P);var O=createNS("feFlood");O.setAttribute("flood-color","#00ff00"),O.setAttribute("flood-opacity","1"),O.setAttribute("result",s+"_drop_shadow_3"),this.feFlood=O,c.appendChild(O);var j=createNS("feComposite");j.setAttribute("in",s+"_drop_shadow_3"),j.setAttribute("in2",s+"_drop_shadow_2"),j.setAttribute("operator","in"),j.setAttribute("result",s+"_drop_shadow_4"),c.appendChild(j);var Q=this.createMergeNode(s,[s+"_drop_shadow_4",v]);c.appendChild(Q)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){var h=this.filterManager.effectElements[0].p.v,f=this.filterManager.effectElements[1].p.v;this.linearFilter.setAttribute("values",linearFilterValue+" "+this.filterManager.effectElements[2].p.v/100+" 0"),this.matrixFilter.setAttribute("values",f[0]-h[0]+" 0 0 0 "+h[0]+" "+(f[1]-h[1])+" 0 0 0 "+h[1]+" "+(f[2]-h[2])+" 0 0 0 "+h[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){var h=this.filterManager.effectElements[2].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+h[0]+" 0 0 0 0 "+h[1]+" 0 0 0 0 "+h[2]+" 0 0 0 "+this.filterManager.effectElements[6].p.v+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var h,f,s,v,c=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(v=this.elem.maskManager.masksProperties.length,s=0):v=1+(s=this.filterManager.effectElements[0].p.v-1),(f=createNS("g")).setAttribute("fill","none"),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-dashoffset",1);s<v;s+=1)h=createNS("path"),f.appendChild(h),this.paths.push({p:h,m:s});if(3===this.filterManager.effectElements[10].p.v){var y=createNS("mask"),D=createElementID();y.setAttribute("id",D),y.setAttribute("mask-type","alpha"),y.appendChild(f),this.elem.globalData.defs.appendChild(y);var M=createNS("g");for(M.setAttribute("mask","url("+getLocationHref()+"#"+D+")");c[0];)M.appendChild(c[0]);this.elem.layerElement.appendChild(M),this.masker=y,f.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(c=this.elem.layerElement.children||this.elem.layerElement.childNodes;c.length;)this.elem.layerElement.removeChild(c[0]);this.elem.layerElement.appendChild(f),this.elem.layerElement.removeAttribute("mask"),f.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=f},SVGStrokeEffect.prototype.renderFrame=function(c){this.initialized||this.initialize();var h,s,v,f=this.paths.length;for(h=0;h<f;h+=1)if(-1!==this.paths[h].m&&(s=this.elem.maskManager.viewData[this.paths[h].m],v=this.paths[h].p,(c||this.filterManager._mdf||s.prop._mdf)&&v.setAttribute("d",s.lastPath),c||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||s.prop._mdf)){var y;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var D=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),M=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),P=v.getTotalLength();y="0 0 0 "+P*D+" ";var R,Q=Math.floor(P*(M-D)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(R=0;R<Q;R+=1)y+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";y+="0 "+10*P+" 0 0"}else y="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;v.setAttribute("stroke-dasharray",y)}if((c||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(c||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(c||this.filterManager.effectElements[3].p._mdf)){var H=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*H[0])+","+bmFloor(255*H[1])+","+bmFloor(255*H[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){var h=this.filterManager.effectElements[0].p.v,f=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v,y=s[1]+" "+f[1]+" "+h[1],D=s[2]+" "+f[2]+" "+h[2];this.feFuncR.setAttribute("tableValues",s[0]+" "+f[0]+" "+h[0]),this.feFuncG.setAttribute("tableValues",y),this.feFuncB.setAttribute("tableValues",D)}},SVGProLevelsFilter.prototype.createFeFunc=function(c,h){var f=createNS(c);return f.setAttribute("type","table"),h.appendChild(f),f},SVGProLevelsFilter.prototype.getTableValue=function(c,h,f,s,v){for(var M,Q,y=0,P=Math.min(c,h),O=Math.max(c,h),j=Array.call(null,{length:256}),R=0,H=v-s,U=h-c;y<=256;)Q=(M=y/256)<=P?U<0?v:s:M>=O?U<0?s:v:s+H*Math.pow((M-c)/U,1/f),j[R]=Q,R+=1,y+=256/255;return j.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){var h,f=this.filterManager.effectElements;this.feFuncRComposed&&(c||f[3].p._mdf||f[4].p._mdf||f[5].p._mdf||f[6].p._mdf||f[7].p._mdf)&&(h=this.getTableValue(f[3].p.v,f[4].p.v,f[5].p.v,f[6].p.v,f[7].p.v),this.feFuncRComposed.setAttribute("tableValues",h),this.feFuncGComposed.setAttribute("tableValues",h),this.feFuncBComposed.setAttribute("tableValues",h)),this.feFuncR&&(c||f[10].p._mdf||f[11].p._mdf||f[12].p._mdf||f[13].p._mdf||f[14].p._mdf)&&(h=this.getTableValue(f[10].p.v,f[11].p.v,f[12].p.v,f[13].p.v,f[14].p.v),this.feFuncR.setAttribute("tableValues",h)),this.feFuncG&&(c||f[17].p._mdf||f[18].p._mdf||f[19].p._mdf||f[20].p._mdf||f[21].p._mdf)&&(h=this.getTableValue(f[17].p.v,f[18].p.v,f[19].p.v,f[20].p.v,f[21].p.v),this.feFuncG.setAttribute("tableValues",h)),this.feFuncB&&(c||f[24].p._mdf||f[25].p._mdf||f[26].p._mdf||f[27].p._mdf||f[28].p._mdf)&&(h=this.getTableValue(f[24].p.v,f[25].p.v,f[26].p.v,f[27].p.v,f[28].p.v),this.feFuncB.setAttribute("tableValues",h)),this.feFuncA&&(c||f[31].p._mdf||f[32].p._mdf||f[33].p._mdf||f[34].p._mdf||f[35].p._mdf)&&(h=this.getTableValue(f[31].p.v,f[32].p.v,f[33].p.v,f[34].p.v,f[35].p.v),this.feFuncA.setAttribute("tableValues",h))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){if((c||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),c||this.filterManager.effectElements[0].p._mdf){var h=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*h[0]),Math.round(255*h[1]),Math.round(255*h[2])))}if((c||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),c||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var f=this.filterManager.effectElements[3].p.v,s=(this.filterManager.effectElements[2].p.v-90)*degToRads,v=f*Math.cos(s),y=f*Math.sin(s);this.feOffset.setAttribute("dx",v),this.feOffset.setAttribute("dy",y)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(c,h,f){this.initialized=!1,this.filterManager=h,this.filterElem=c,this.elem=f,f.matteElement=createNS("g"),f.matteElement.appendChild(f.layerElement),f.matteElement.appendChild(f.transformedElement),f.baseElement=f.matteElement}function SVGGaussianBlurEffect(c,h,f,s){c.setAttribute("x","-100%"),c.setAttribute("y","-100%"),c.setAttribute("width","300%"),c.setAttribute("height","300%"),this.filterManager=h;var v=createNS("feGaussianBlur");v.setAttribute("result",s),c.appendChild(v),this.feGaussianBlur=v}return SVGMatte3Effect.prototype.findSymbol=function(c){for(var h=0,f=_svgMatteSymbols.length;h<f;){if(_svgMatteSymbols[h]===c)return _svgMatteSymbols[h];h+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(c,h){var f=c.layerElement.parentNode;if(f){for(var s=f.children,v=0,y=s.length;v<y&&s[v]!==c.layerElement;)v+=1;var D;v<=y-2&&(D=s[v+1]);var M=createNS("use");M.setAttribute("href","#"+h),D?f.insertBefore(M,D):f.appendChild(M)}},SVGMatte3Effect.prototype.setElementAsMask=function(c,h){if(!this.findSymbol(h)){var f=createElementID(),s=createNS("mask");s.setAttribute("id",h.layerId),s.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(h);var v=c.globalData.defs;v.appendChild(s);var y=createNS("symbol");y.setAttribute("id",f),this.replaceInParent(h,f),y.appendChild(h.layerElement),v.appendChild(y);var D=createNS("use");D.setAttribute("href","#"+f),s.appendChild(D),h.data.hd=!1,h.show()}c.setMatte(h.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var c=this.filterManager.effectElements[0].p.v,h=this.elem.comp.elements,f=0,s=h.length;f<s;)h[f]&&h[f].data.ind===c&&this.setElementAsMask(this.elem,h[f]),f+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){var f=.3*this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v;this.feGaussianBlur.setAttribute("stdDeviation",(3==s?0:f)+" "+(2==s?0:f)),this.feGaussianBlur.setAttribute("edgeMode",1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate")}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=h())},9751:(c,h,f)=>{"use strict";f.d(h,{y:()=>j});var s=f(930),v=f(727),y=f(8822),D=f(9635),M=f(2416),P=f(576),O=f(2806);let j=(()=>{class U{constructor(ne){ne&&(this._subscribe=ne)}lift(ne){const z=new U;return z.source=this,z.operator=ne,z}subscribe(ne,z,G){const V=function H(U){return U&&U instanceof s.Lv||function R(U){return U&&(0,P.m)(U.next)&&(0,P.m)(U.error)&&(0,P.m)(U.complete)}(U)&&(0,v.Nn)(U)}(ne)?ne:new s.Hp(ne,z,G);return(0,O.x)(()=>{const{operator:B,source:ee}=this;V.add(B?B.call(V,ee):ee?this._subscribe(V):this._trySubscribe(V))}),V}_trySubscribe(ne){try{return this._subscribe(ne)}catch(z){ne.error(z)}}forEach(ne,z){return new(z=Q(z))((G,V)=>{const B=new s.Hp({next:ee=>{try{ne(ee)}catch(te){V(te),B.unsubscribe()}},error:V,complete:G});this.subscribe(B)})}_subscribe(ne){var z;return null===(z=this.source)||void 0===z?void 0:z.subscribe(ne)}[y.L](){return this}pipe(...ne){return(0,D.U)(ne)(this)}toPromise(ne){return new(ne=Q(ne))((z,G)=>{let V;this.subscribe(B=>V=B,B=>G(B),()=>z(V))})}}return U.create=q=>new U(q),U})();function Q(U){var q;return null!==(q=U??M.v.Promise)&&void 0!==q?q:Promise}},7579:(c,h,f)=>{"use strict";f.d(h,{x:()=>O});var s=f(9751),v=f(727);const D=(0,f(3888).d)(Q=>function(){Q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var M=f(8737),P=f(2806);let O=(()=>{class Q extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const U=new j(this,this);return U.operator=H,U}_throwIfClosed(){if(this.closed)throw new D}next(H){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const U of this.currentObservers)U.next(H)}})}error(H){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:U}=this;for(;U.length;)U.shift().error(H)}})}complete(){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:U,isStopped:q,observers:ne}=this;return U||q?v.Lc:(this.currentObservers=null,ne.push(H),new v.w0(()=>{this.currentObservers=null,(0,M.P)(ne,H)}))}_checkFinalizedStatuses(H){const{hasError:U,thrownError:q,isStopped:ne}=this;U?H.error(q):ne&&H.complete()}asObservable(){const H=new s.y;return H.source=this,H}}return Q.create=(R,H)=>new j(R,H),Q})();class j extends O{constructor(R,H){super(),this.destination=R,this.source=H}next(R){var H,U;null===(U=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===U||U.call(H,R)}error(R){var H,U;null===(U=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===U||U.call(H,R)}complete(){var R,H;null===(H=null===(R=this.destination)||void 0===R?void 0:R.complete)||void 0===H||H.call(R)}_subscribe(R){var H,U;return null!==(U=null===(H=this.source)||void 0===H?void 0:H.subscribe(R))&&void 0!==U?U:v.Lc}}},930:(c,h,f)=>{"use strict";f.d(h,{Hp:()=>G,Lv:()=>U});var s=f(576),v=f(727),y=f(2416),D=f(7849),M=f(5032);const P=Q("C",void 0,void 0);function Q(re,ae,he){return{kind:re,value:ae,error:he}}var R=f(3410),H=f(2806);class U extends v.w0{constructor(ae){super(),this.isStopped=!1,ae?(this.destination=ae,(0,v.Nn)(ae)&&ae.add(this)):this.destination=te}static create(ae,he,Re){return new G(ae,he,Re)}next(ae){this.isStopped?ee(function j(re){return Q("N",re,void 0)}(ae),this):this._next(ae)}error(ae){this.isStopped?ee(function O(re){return Q("E",void 0,re)}(ae),this):(this.isStopped=!0,this._error(ae))}complete(){this.isStopped?ee(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ae){this.destination.next(ae)}_error(ae){try{this.destination.error(ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const q=Function.prototype.bind;function ne(re,ae){return q.call(re,ae)}class z{constructor(ae){this.partialObserver=ae}next(ae){const{partialObserver:he}=this;if(he.next)try{he.next(ae)}catch(Re){V(Re)}}error(ae){const{partialObserver:he}=this;if(he.error)try{he.error(ae)}catch(Re){V(Re)}else V(ae)}complete(){const{partialObserver:ae}=this;if(ae.complete)try{ae.complete()}catch(he){V(he)}}}class G extends U{constructor(ae,he,Re){let xe;if(super(),(0,s.m)(ae)||!ae)xe={next:ae??void 0,error:he??void 0,complete:Re??void 0};else{let Ie;this&&y.v.useDeprecatedNextContext?(Ie=Object.create(ae),Ie.unsubscribe=()=>this.unsubscribe(),xe={next:ae.next&&ne(ae.next,Ie),error:ae.error&&ne(ae.error,Ie),complete:ae.complete&&ne(ae.complete,Ie)}):xe=ae}this.destination=new z(xe)}}function V(re){y.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(re):(0,D.h)(re)}function ee(re,ae){const{onStoppedNotification:he}=y.v;he&&R.z.setTimeout(()=>he(re,ae))}const te={closed:!0,next:M.Z,error:function B(re){throw re},complete:M.Z}},727:(c,h,f)=>{"use strict";f.d(h,{Lc:()=>P,w0:()=>M,Nn:()=>O});var s=f(576);const y=(0,f(3888).d)(Q=>function(H){Q(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((U,q)=>`${q+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var D=f(8737);class M{constructor(R){this.initialTeardown=R,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let R;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const ne of H)ne.remove(this);else H.remove(this);const{initialTeardown:U}=this;if((0,s.m)(U))try{U()}catch(ne){R=ne instanceof y?ne.errors:[ne]}const{_finalizers:q}=this;if(q){this._finalizers=null;for(const ne of q)try{j(ne)}catch(z){R=R??[],z instanceof y?R=[...R,...z.errors]:R.push(z)}}if(R)throw new y(R)}}add(R){var H;if(R&&R!==this)if(this.closed)j(R);else{if(R instanceof M){if(R.closed||R._hasParent(this))return;R._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(R)}}_hasParent(R){const{_parentage:H}=this;return H===R||Array.isArray(H)&&H.includes(R)}_addParent(R){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(R),H):H?[H,R]:R}_removeParent(R){const{_parentage:H}=this;H===R?this._parentage=null:Array.isArray(H)&&(0,D.P)(H,R)}remove(R){const{_finalizers:H}=this;H&&(0,D.P)(H,R),R instanceof M&&R._removeParent(this)}}M.EMPTY=(()=>{const Q=new M;return Q.closed=!0,Q})();const P=M.EMPTY;function O(Q){return Q instanceof M||Q&&"closed"in Q&&(0,s.m)(Q.remove)&&(0,s.m)(Q.add)&&(0,s.m)(Q.unsubscribe)}function j(Q){(0,s.m)(Q)?Q():Q.unsubscribe()}},2416:(c,h,f)=>{"use strict";f.d(h,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(c,h,f)=>{"use strict";f.d(h,{E:()=>v});const v=new(f(9751).y)(M=>M.complete())},8996:(c,h,f)=>{"use strict";f.d(h,{D:()=>ae});var s=f(8421),v=f(5363),y=f(9468),P=f(9751),j=f(2202),Q=f(576),R=f(9672);function U(he,Re){if(!he)throw new Error("Iterable cannot be null");return new P.y(xe=>{(0,R.f)(xe,Re,()=>{const Ie=he[Symbol.asyncIterator]();(0,R.f)(xe,Re,()=>{Ie.next().then(_e=>{_e.done?xe.complete():xe.next(_e.value)})},0,!0)})})}var q=f(3670),ne=f(8239),z=f(1144),G=f(6495),V=f(2206),B=f(4532),ee=f(3260);function ae(he,Re){return Re?function re(he,Re){if(null!=he){if((0,q.c)(he))return function D(he,Re){return(0,s.Xf)(he).pipe((0,y.R)(Re),(0,v.Q)(Re))}(he,Re);if((0,z.z)(he))return function O(he,Re){return new P.y(xe=>{let Ie=0;return Re.schedule(function(){Ie===he.length?xe.complete():(xe.next(he[Ie++]),xe.closed||this.schedule())})})}(he,Re);if((0,ne.t)(he))return function M(he,Re){return(0,s.Xf)(he).pipe((0,y.R)(Re),(0,v.Q)(Re))}(he,Re);if((0,V.D)(he))return U(he,Re);if((0,G.T)(he))return function H(he,Re){return new P.y(xe=>{let Ie;return(0,R.f)(xe,Re,()=>{Ie=he[j.h](),(0,R.f)(xe,Re,()=>{let _e,$e;try{({value:_e,done:$e}=Ie.next())}catch(Te){return void xe.error(Te)}$e?xe.complete():xe.next(_e)},0,!0)}),()=>(0,Q.m)(Ie?.return)&&Ie.return()})}(he,Re);if((0,ee.L)(he))return function te(he,Re){return U((0,ee.Q)(he),Re)}(he,Re)}throw(0,B.z)(he)}(he,Re):(0,s.Xf)(he)}},8421:(c,h,f)=>{"use strict";f.d(h,{Xf:()=>q});var s=f(655),v=f(1144),y=f(8239),D=f(9751),M=f(3670),P=f(2206),O=f(4532),j=f(6495),Q=f(3260),R=f(576),H=f(7849),U=f(8822);function q(re){if(re instanceof D.y)return re;if(null!=re){if((0,M.c)(re))return function ne(re){return new D.y(ae=>{const he=re[U.L]();if((0,R.m)(he.subscribe))return he.subscribe(ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(re);if((0,v.z)(re))return function z(re){return new D.y(ae=>{for(let he=0;he<re.length&&!ae.closed;he++)ae.next(re[he]);ae.complete()})}(re);if((0,y.t)(re))return function G(re){return new D.y(ae=>{re.then(he=>{ae.closed||(ae.next(he),ae.complete())},he=>ae.error(he)).then(null,H.h)})}(re);if((0,P.D)(re))return B(re);if((0,j.T)(re))return function V(re){return new D.y(ae=>{for(const he of re)if(ae.next(he),ae.closed)return;ae.complete()})}(re);if((0,Q.L)(re))return function ee(re){return B((0,Q.Q)(re))}(re)}throw(0,O.z)(re)}function B(re){return new D.y(ae=>{(function te(re,ae){var he,Re,xe,Ie;return(0,s.mG)(this,void 0,void 0,function*(){try{for(he=(0,s.KL)(re);!(Re=yield he.next()).done;)if(ae.next(Re.value),ae.closed)return}catch(_e){xe={error:_e}}finally{try{Re&&!Re.done&&(Ie=he.return)&&(yield Ie.call(he))}finally{if(xe)throw xe.error}}ae.complete()})})(re,ae).catch(he=>ae.error(he))})}},6451:(c,h,f)=>{"use strict";f.d(h,{T:()=>P});var s=f(8189),v=f(8421),y=f(515),D=f(3269),M=f(8996);function P(...O){const j=(0,D.yG)(O),Q=(0,D._6)(O,1/0),R=O;return R.length?1===R.length?(0,v.Xf)(R[0]):(0,s.J)(Q)((0,M.D)(R,j)):y.E}},5403:(c,h,f)=>{"use strict";f.d(h,{x:()=>v});var s=f(930);function v(D,M,P,O,j){return new y(D,M,P,O,j)}class y extends s.Lv{constructor(M,P,O,j,Q,R){super(M),this.onFinalize=Q,this.shouldUnsubscribe=R,this._next=P?function(H){try{P(H)}catch(U){M.error(U)}}:super._next,this._error=j?function(H){try{j(H)}catch(U){M.error(U)}finally{this.unsubscribe()}}:super._error,this._complete=O?function(){try{O()}catch(H){M.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var M;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:P}=this;super.unsubscribe(),!P&&(null===(M=this.onFinalize)||void 0===M||M.call(this))}}}},4004:(c,h,f)=>{"use strict";f.d(h,{U:()=>y});var s=f(4482),v=f(5403);function y(D,M){return(0,s.e)((P,O)=>{let j=0;P.subscribe((0,v.x)(O,Q=>{O.next(D.call(M,Q,j++))}))})}},8189:(c,h,f)=>{"use strict";f.d(h,{J:()=>y});var s=f(5577),v=f(4671);function y(D=1/0){return(0,s.z)(v.y,D)}},5577:(c,h,f)=>{"use strict";f.d(h,{z:()=>j});var s=f(4004),v=f(8421),y=f(4482),D=f(9672),M=f(5403),O=f(576);function j(Q,R,H=1/0){return(0,O.m)(R)?j((U,q)=>(0,s.U)((ne,z)=>R(U,ne,q,z))((0,v.Xf)(Q(U,q))),H):("number"==typeof R&&(H=R),(0,y.e)((U,q)=>function P(Q,R,H,U,q,ne,z,G){const V=[];let B=0,ee=0,te=!1;const re=()=>{te&&!V.length&&!B&&R.complete()},ae=Re=>B<U?he(Re):V.push(Re),he=Re=>{ne&&R.next(Re),B++;let xe=!1;(0,v.Xf)(H(Re,ee++)).subscribe((0,M.x)(R,Ie=>{q?.(Ie),ne?ae(Ie):R.next(Ie)},()=>{xe=!0},void 0,()=>{if(xe)try{for(B--;V.length&&B<U;){const Ie=V.shift();z?(0,D.f)(R,z,()=>he(Ie)):he(Ie)}re()}catch(Ie){R.error(Ie)}}))};return Q.subscribe((0,M.x)(R,ae,()=>{te=!0,re()})),()=>{G?.()}}(U,q,Q,H)))}},5363:(c,h,f)=>{"use strict";f.d(h,{Q:()=>D});var s=f(9672),v=f(4482),y=f(5403);function D(M,P=0){return(0,v.e)((O,j)=>{O.subscribe((0,y.x)(j,Q=>(0,s.f)(j,M,()=>j.next(Q),P),()=>(0,s.f)(j,M,()=>j.complete(),P),Q=>(0,s.f)(j,M,()=>j.error(Q),P)))})}},3099:(c,h,f)=>{"use strict";f.d(h,{B:()=>M});var s=f(8421),v=f(7579),y=f(930),D=f(4482);function M(O={}){const{connector:j=(()=>new v.x),resetOnError:Q=!0,resetOnComplete:R=!0,resetOnRefCountZero:H=!0}=O;return U=>{let q,ne,z,G=0,V=!1,B=!1;const ee=()=>{ne?.unsubscribe(),ne=void 0},te=()=>{ee(),q=z=void 0,V=B=!1},re=()=>{const ae=q;te(),ae?.unsubscribe()};return(0,D.e)((ae,he)=>{G++,!B&&!V&&ee();const Re=z=z??j();he.add(()=>{G--,0===G&&!B&&!V&&(ne=P(re,H))}),Re.subscribe(he),!q&&G>0&&(q=new y.Hp({next:xe=>Re.next(xe),error:xe=>{B=!0,ee(),ne=P(te,Q,xe),Re.error(xe)},complete:()=>{V=!0,ee(),ne=P(te,R),Re.complete()}}),(0,s.Xf)(ae).subscribe(q))})(U)}}function P(O,j,...Q){if(!0===j)return void O();if(!1===j)return;const R=new y.Hp({next:()=>{R.unsubscribe(),O()}});return j(...Q).subscribe(R)}},9468:(c,h,f)=>{"use strict";f.d(h,{R:()=>v});var s=f(4482);function v(y,D=0){return(0,s.e)((M,P)=>{P.add(y.schedule(()=>M.subscribe(P),D))})}},8505:(c,h,f)=>{"use strict";f.d(h,{b:()=>M});var s=f(576),v=f(4482),y=f(5403),D=f(4671);function M(P,O,j){const Q=(0,s.m)(P)||O||j?{next:P,error:O,complete:j}:P;return Q?(0,v.e)((R,H)=>{var U;null===(U=Q.subscribe)||void 0===U||U.call(Q);let q=!0;R.subscribe((0,y.x)(H,ne=>{var z;null===(z=Q.next)||void 0===z||z.call(Q,ne),H.next(ne)},()=>{var ne;q=!1,null===(ne=Q.complete)||void 0===ne||ne.call(Q),H.complete()},ne=>{var z;q=!1,null===(z=Q.error)||void 0===z||z.call(Q,ne),H.error(ne)},()=>{var ne,z;q&&(null===(ne=Q.unsubscribe)||void 0===ne||ne.call(Q)),null===(z=Q.finalize)||void 0===z||z.call(Q)}))}):D.y}},4408:(c,h,f)=>{"use strict";f.d(h,{o:()=>M});var s=f(727);class v extends s.w0{constructor(O,j){super()}schedule(O,j=0){return this}}const y={setInterval(P,O,...j){const{delegate:Q}=y;return Q?.setInterval?Q.setInterval(P,O,...j):setInterval(P,O,...j)},clearInterval(P){const{delegate:O}=y;return(O?.clearInterval||clearInterval)(P)},delegate:void 0};var D=f(8737);class M extends v{constructor(O,j){super(O,j),this.scheduler=O,this.work=j,this.pending=!1}schedule(O,j=0){var Q;if(this.closed)return this;this.state=O;const R=this.id,H=this.scheduler;return null!=R&&(this.id=this.recycleAsyncId(H,R,j)),this.pending=!0,this.delay=j,this.id=null!==(Q=this.id)&&void 0!==Q?Q:this.requestAsyncId(H,this.id,j),this}requestAsyncId(O,j,Q=0){return y.setInterval(O.flush.bind(O,this),Q)}recycleAsyncId(O,j,Q=0){if(null!=Q&&this.delay===Q&&!1===this.pending)return j;null!=j&&y.clearInterval(j)}execute(O,j){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Q=this._execute(O,j);if(Q)return Q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(O,j){let R,Q=!1;try{this.work(O)}catch(H){Q=!0,R=H||new Error("Scheduled action threw falsy error")}if(Q)return this.unsubscribe(),R}unsubscribe(){if(!this.closed){const{id:O,scheduler:j}=this,{actions:Q}=j;this.work=this.state=this.scheduler=null,this.pending=!1,(0,D.P)(Q,this),null!=O&&(this.id=this.recycleAsyncId(j,O,null)),this.delay=null,super.unsubscribe()}}}},7565:(c,h,f)=>{"use strict";f.d(h,{v:()=>y});var s=f(6063);class v{constructor(M,P=v.now){this.schedulerActionCtor=M,this.now=P}schedule(M,P=0,O){return new this.schedulerActionCtor(this,M).schedule(O,P)}}v.now=s.l.now;class y extends v{constructor(M,P=v.now){super(M,P),this.actions=[],this._active=!1}flush(M){const{actions:P}=this;if(this._active)return void P.push(M);let O;this._active=!0;do{if(O=M.execute(M.state,M.delay))break}while(M=P.shift());if(this._active=!1,O){for(;M=P.shift();)M.unsubscribe();throw O}}}},4986:(c,h,f)=>{"use strict";f.d(h,{P:()=>D,z:()=>y});var s=f(4408);const y=new(f(7565).v)(s.o),D=y},6063:(c,h,f)=>{"use strict";f.d(h,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(c,h,f)=>{"use strict";f.d(h,{z:()=>s});const s={setTimeout(v,y,...D){const{delegate:M}=s;return M?.setTimeout?M.setTimeout(v,y,...D):setTimeout(v,y,...D)},clearTimeout(v){const{delegate:y}=s;return(y?.clearTimeout||clearTimeout)(v)},delegate:void 0}},2202:(c,h,f)=>{"use strict";f.d(h,{h:()=>v});const v=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(c,h,f)=>{"use strict";f.d(h,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(c,h,f)=>{"use strict";f.d(h,{_6:()=>P,jO:()=>D,yG:()=>M});var s=f(576),v=f(3532);function y(O){return O[O.length-1]}function D(O){return(0,s.m)(y(O))?O.pop():void 0}function M(O){return(0,v.K)(y(O))?O.pop():void 0}function P(O,j){return"number"==typeof y(O)?O.pop():j}},8737:(c,h,f)=>{"use strict";function s(v,y){if(v){const D=v.indexOf(y);0<=D&&v.splice(D,1)}}f.d(h,{P:()=>s})},3888:(c,h,f)=>{"use strict";function s(v){const D=v(M=>{Error.call(M),M.stack=(new Error).stack});return D.prototype=Object.create(Error.prototype),D.prototype.constructor=D,D}f.d(h,{d:()=>s})},2806:(c,h,f)=>{"use strict";f.d(h,{O:()=>D,x:()=>y});var s=f(2416);let v=null;function y(M){if(s.v.useDeprecatedSynchronousErrorHandling){const P=!v;if(P&&(v={errorThrown:!1,error:null}),M(),P){const{errorThrown:O,error:j}=v;if(v=null,O)throw j}}else M()}function D(M){s.v.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=M)}},9672:(c,h,f)=>{"use strict";function s(v,y,D,M=0,P=!1){const O=y.schedule(function(){D(),P?v.add(this.schedule(null,M)):this.unsubscribe()},M);if(v.add(O),!P)return O}f.d(h,{f:()=>s})},4671:(c,h,f)=>{"use strict";function s(v){return v}f.d(h,{y:()=>s})},1144:(c,h,f)=>{"use strict";f.d(h,{z:()=>s});const s=v=>v&&"number"==typeof v.length&&"function"!=typeof v},2206:(c,h,f)=>{"use strict";f.d(h,{D:()=>v});var s=f(576);function v(y){return Symbol.asyncIterator&&(0,s.m)(y?.[Symbol.asyncIterator])}},576:(c,h,f)=>{"use strict";function s(v){return"function"==typeof v}f.d(h,{m:()=>s})},3670:(c,h,f)=>{"use strict";f.d(h,{c:()=>y});var s=f(8822),v=f(576);function y(D){return(0,v.m)(D[s.L])}},6495:(c,h,f)=>{"use strict";f.d(h,{T:()=>y});var s=f(2202),v=f(576);function y(D){return(0,v.m)(D?.[s.h])}},8239:(c,h,f)=>{"use strict";f.d(h,{t:()=>v});var s=f(576);function v(y){return(0,s.m)(y?.then)}},3260:(c,h,f)=>{"use strict";f.d(h,{L:()=>D,Q:()=>y});var s=f(655),v=f(576);function y(M){return(0,s.FC)(this,arguments,function*(){const O=M.getReader();try{for(;;){const{value:j,done:Q}=yield(0,s.qq)(O.read());if(Q)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(j)}}finally{O.releaseLock()}})}function D(M){return(0,v.m)(M?.getReader)}},3532:(c,h,f)=>{"use strict";f.d(h,{K:()=>v});var s=f(576);function v(y){return y&&(0,s.m)(y.schedule)}},4482:(c,h,f)=>{"use strict";f.d(h,{A:()=>v,e:()=>y});var s=f(576);function v(D){return(0,s.m)(D?.lift)}function y(D){return M=>{if(v(M))return M.lift(function(P){try{return D(P,this)}catch(O){this.error(O)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(c,h,f)=>{"use strict";function s(){}f.d(h,{Z:()=>s})},9635:(c,h,f)=>{"use strict";f.d(h,{U:()=>y,z:()=>v});var s=f(4671);function v(...D){return y(D)}function y(D){return 0===D.length?s.y:1===D.length?D[0]:function(P){return D.reduce((O,j)=>j(O),P)}}},7849:(c,h,f)=>{"use strict";f.d(h,{h:()=>y});var s=f(2416),v=f(3410);function y(D){v.z.setTimeout(()=>{const{onUnhandledError:M}=s.v;if(!M)throw D;M(D)})}},4532:(c,h,f)=>{"use strict";function s(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}f.d(h,{z:()=>s})},655:(c,h,f)=>{"use strict";function D(X,oe){var be={};for(var pe in X)Object.prototype.hasOwnProperty.call(X,pe)&&oe.indexOf(pe)<0&&(be[pe]=X[pe]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(pe=Object.getOwnPropertySymbols(X);Ne<pe.length;Ne++)oe.indexOf(pe[Ne])<0&&Object.prototype.propertyIsEnumerable.call(X,pe[Ne])&&(be[pe[Ne]]=X[pe[Ne]])}return be}function U(X,oe,be,pe){return new(be||(be=Promise))(function(Le,nt){function Ht(zt){try{Qe(pe.next(zt))}catch(jt){nt(jt)}}function ht(zt){try{Qe(pe.throw(zt))}catch(jt){nt(jt)}}function Qe(zt){zt.done?Le(zt.value):function Ne(Le){return Le instanceof be?Le:new be(function(nt){nt(Le)})}(zt.value).then(Ht,ht)}Qe((pe=pe.apply(X,oe||[])).next())})}function re(X){return this instanceof re?(this.v=X,this):new re(X)}function ae(X,oe,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,pe=be.apply(X,oe||[]),Le=[];return Ne={},nt("next"),nt("throw"),nt("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function nt(Ut){pe[Ut]&&(Ne[Ut]=function(Jt){return new Promise(function(un,lt){Le.push([Ut,Jt,un,lt])>1||Ht(Ut,Jt)})})}function Ht(Ut,Jt){try{!function ht(Ut){Ut.value instanceof re?Promise.resolve(Ut.value.v).then(Qe,zt):jt(Le[0][2],Ut)}(pe[Ut](Jt))}catch(un){jt(Le[0][3],un)}}function Qe(Ut){Ht("next",Ut)}function zt(Ut){Ht("throw",Ut)}function jt(Ut,Jt){Ut(Jt),Le.shift(),Le.length&&Ht(Le[0][0],Le[0][1])}}function Re(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,oe=X[Symbol.asyncIterator];return oe?oe.call(X):(X=function G(X){var oe="function"==typeof Symbol&&Symbol.iterator,be=oe&&X[oe],pe=0;if(be)return be.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&pe>=X.length&&(X=void 0),{value:X&&X[pe++],done:!X}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),be={},pe("next"),pe("throw"),pe("return"),be[Symbol.asyncIterator]=function(){return this},be);function pe(Le){be[Le]=X[Le]&&function(nt){return new Promise(function(Ht,ht){!function Ne(Le,nt,Ht,ht){Promise.resolve(ht).then(function(Qe){Le({value:Qe,done:Ht})},nt)}(Ht,ht,(nt=X[Le](nt)).done,nt.value)})}}}f.d(h,{FC:()=>ae,KL:()=>Re,_T:()=>D,mG:()=>U,qq:()=>re})},4650:(c,h,f)=>{"use strict";f.d(h,{$8M:()=>rc,$Z:()=>Cl,AFp:()=>rA,ALo:()=>vC,AaK:()=>j,BQk:()=>od,CHM:()=>$l,CRH:()=>RC,CZH:()=>c0,CqO:()=>wv,D6c:()=>oS,EJc:()=>zC,EiD:()=>bp,EpF:()=>DE,F$t:()=>tm,F4k:()=>TE,FYo:()=>My,FiY:()=>Ks,G48:()=>_A,Gf:()=>PC,GfV:()=>Py,Gpc:()=>H,Hsn:()=>Iv,Ikx:()=>YE,JOm:()=>ls,JVY:()=>Ih,KtG:()=>cu,L6k:()=>_g,LAX:()=>yg,LFG:()=>ar,LSH:()=>Gu,Lbi:()=>UC,Lck:()=>_O,MAs:()=>IE,MGl:()=>Dv,MMx:()=>hC,NdJ:()=>ad,O4$:()=>mu,OlP:()=>In,Oqu:()=>GE,PXZ:()=>w0,Q6J:()=>sd,QGY:()=>bv,QP$:()=>Vt,QbO:()=>Tl,Qsj:()=>ww,R0b:()=>wo,RDi:()=>pg,Rgc:()=>$h,SBq:()=>Tp,Sil:()=>XO,Suo:()=>kC,TTD:()=>Hi,TgZ:()=>_v,Udp:()=>Uh,VKq:()=>Ex,W1O:()=>p_,WFA:()=>Ev,WLB:()=>Cx,X6Q:()=>gA,XFs:()=>ft,Xpm:()=>Qn,Xts:()=>Th,Y36:()=>Br,YKP:()=>fx,YNc:()=>qi,Yjl:()=>Se,Yz7:()=>Qe,Z0I:()=>Jt,ZZ4:()=>Zh,_Bn:()=>hx,_UZ:()=>yv,_Vd:()=>Dp,_c5:()=>A0,_uU:()=>MT,aQg:()=>D_,c2e:()=>Vc,cJS:()=>jt,cg1:()=>Vv,d8E:()=>QE,dDg:()=>dA,dqk:()=>An,eBb:()=>Dh,eFA:()=>pA,ekj:()=>rm,eoX:()=>jC,f3M:()=>Et,g9A:()=>sA,h0i:()=>am,hGG:()=>M0,hij:()=>Pv,iGM:()=>md,ifc:()=>kt,ip1:()=>nA,jDz:()=>mx,kL8:()=>JE,lG2:()=>ge,lcZ:()=>Tx,lqb:()=>Zu,lri:()=>v0,mCW:()=>T,n5z:()=>zn,oAB:()=>Ii,oxw:()=>ME,pB0:()=>vg,q3G:()=>wr,q4F:()=>Sw,qLn:()=>xp,qOj:()=>Gg,qZA:()=>Wg,qzn:()=>yo,rWj:()=>uA,sBO:()=>Ei,sIi:()=>Go,s_b:()=>h_,soG:()=>dm,tb:()=>u0,tp0:()=>Ho,uIk:()=>fv,vHH:()=>z,vpe:()=>Dl,wAp:()=>$t,xp6:()=>Hy,ynx:()=>Zg,z2F:()=>Yt,z3N:()=>br,zSh:()=>Ep,zs3:()=>Ac});var s=f(7579),v=f(727),y=f(9751),D=f(6451),M=f(3099);function P(o){for(let l in o)if(o[l]===P)return l;throw Error("Could not find renamed property on target object.")}function O(o,l){for(const u in l)l.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=l[u])}function j(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(j).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Q(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const R=P({__forward_ref__:P});function H(o){return o.__forward_ref__=H,o.toString=function(){return j(this())},o}function U(o){return q(o)?o():o}function q(o){return"function"==typeof o&&o.hasOwnProperty(R)&&o.__forward_ref__===H}class z extends Error{constructor(l,u){super(function G(o,l){return`NG0${Math.abs(o)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function V(o){return"string"==typeof o?o:null==o?"":String(o)}function ae(o,l){throw new z(-201,!1)}function Ne(o,l){null==o&&function Le(o,l,u,p){throw new Error(`ASSERTION ERROR: ${o}`+(null==p?"":` [Expected=> ${u} ${p} ${l} <=Actual]`))}(l,o,null,"!=")}function Qe(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function jt(o){return{providers:o.providers||[],imports:o.imports||[]}}function Ut(o){return un(o,gr)||un(o,zr)}function Jt(o){return null!==Ut(o)}function un(o,l){return o.hasOwnProperty(l)?o[l]:null}function Fn(o){return o&&(o.hasOwnProperty(nr)||o.hasOwnProperty(jr))?o[nr]:null}const gr=P({\u0275prov:P}),nr=P({\u0275inj:P}),zr=P({ngInjectableDef:P}),jr=P({ngInjectorDef:P});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let bn;function Gn(o){const l=bn;return bn=o,l}function Dr(o,l,u){const p=Ut(o);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:u&ft.Optional?null:void 0!==l?l:void ae(j(o))}function pn(o){return{toString:o}.toString()}var dn=(()=>((dn=dn||{})[dn.OnPush=0]="OnPush",dn[dn.Default=1]="Default",dn))(),kt=(()=>{return(o=kt||(kt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",kt;var o})();const An=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_r={},Lt=[],Gr=P({\u0275cmp:P}),Sn=P({\u0275dir:P}),na=P({\u0275pipe:P}),hn=P({\u0275mod:P}),Tr=P({\u0275fac:P}),$r=P({__NG_ELEMENT_ID__:P});let Ji=0;function Qn(o){return pn(()=>{const u=!0===o.standalone,p={},g={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:p,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Lt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||kt.Emulated,id:"c"+Ji++,styles:o.styles||Lt,_:null,setInput:null,schemas:o.schemas||null,tView:null},w=o.dependencies,S=o.features;return g.inputs=ye(o.inputs,p),g.outputs=ye(o.outputs),S&&S.forEach(k=>k(g)),g.directiveDefs=w?()=>("function"==typeof w?w():w).map(Cs).filter(ir):null,g.pipeDefs=w?()=>("function"==typeof w?w():w).map(ot).filter(ir):null,g})}function Cs(o){return Be(o)||Pe(o)}function ir(o){return null!==o}function Ii(o){return pn(()=>({type:o.type,bootstrap:o.bootstrap||Lt,declarations:o.declarations||Lt,imports:o.imports||Lt,exports:o.exports||Lt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function ye(o,l){if(null==o)return _r;const u={};for(const p in o)if(o.hasOwnProperty(p)){let g=o[p],w=g;Array.isArray(g)&&(w=g[1],g=g[0]),u[g]=p,l&&(l[g]=w)}return u}const ge=Qn;function Se(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Be(o){return o[Gr]||null}function Pe(o){return o[Sn]||null}function ot(o){return o[na]||null}function Vt(o){const l=Be(o)||Pe(o)||ot(o);return null!==l&&l.standalone}function Zt(o,l){const u=o[hn]||null;if(!u&&!0===l)throw new Error(`Type ${j(o)} does not have '\u0275mod' property.`);return u}function xr(o){return Array.isArray(o)&&"object"==typeof o[1]}function _i(o){return Array.isArray(o)&&!0===o[1]}function co(o){return 0!=(8&o.flags)}function ia(o){return 2==(2&o.flags)}function Hs(o){return 1==(1&o.flags)}function ts(o){return null!==o.template}function sa(o){return 0!=(256&o[2])}function Us(o,l){return o.hasOwnProperty(Tr)?o[Tr]:null}class Af{constructor(l,u,p){this.previousValue=l,this.currentValue=u,this.firstChange=p}isFirstChange(){return this.firstChange}}function Hi(){return jd}function jd(o){return o.type.prototype.ngOnChanges&&(o.setInput=ou),$a}function $a(){const o=Mf(this),l=o?.current;if(l){const u=o.previous;if(u===_r)o.previous=l;else for(let p in l)u[p]=l[p];o.current=null,this.ngOnChanges(l)}}function ou(o,l,u,p){const g=Mf(o)||function yi(o,l){return o[Vl]=l}(o,{previous:_r,current:null}),w=g.current||(g.current={}),S=g.previous,k=this.declaredInputs[u],L=S[k];w[k]=new Af(L&&L.currentValue,l,S===_r),o[p]=l}Hi.ngInherit=!0;const Vl="__ngSimpleChanges__";function Mf(o){return o[Vl]||null}function sr(o){for(;Array.isArray(o);)o=o[0];return o}function Ui(o,l){return sr(l[o])}function vi(o,l){return sr(l[o.index])}function jl(o,l){return o.data[l]}function oa(o,l){return o[l]}function or(o,l){const u=l[o];return xr(u)?u:u[0]}function Do(o){return 64==(64&o[2])}function Ti(o,l){return null==l?null:o[l]}function uo(o){o[18]=0}function Kr(o,l){o[5]+=l;let u=o,p=o[3];for(;null!==p&&(1===l&&1===u[5]||-1===l&&0===u[5]);)p[5]+=l,u=p,p=p[3]}const Bt={lFrame:pu(null),bindingsEnabled:!0};function Zd(){return Bt.bindingsEnabled}function qe(){return Bt.lFrame.lView}function nn(){return Bt.lFrame.tView}function $l(o){return Bt.lFrame.contextLView=o,o[8]}function cu(o){return Bt.lFrame.contextLView=null,o}function Xn(){let o=ql();for(;null!==o&&64===o.type;)o=o.parent;return o}function ql(){return Bt.lFrame.currentTNode}function xi(o,l){const u=Bt.lFrame;u.currentTNode=o,u.isParent=l}function aa(){return Bt.lFrame.isParent}function uu(){Bt.lFrame.isParent=!1}function ai(){const o=Bt.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function js(){return Bt.lFrame.bindingIndex++}function eg(o,l){const u=Bt.lFrame;u.bindingIndex=u.bindingRootIndex=o,hu(l)}function hu(o){Bt.lFrame.currentDirectiveIndex=o}function Wa(o){const l=Bt.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function Wl(){return Bt.lFrame.currentQueryIndex}function li(o){Bt.lFrame.currentQueryIndex=o}function fu(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function Za(o,l,u){if(u&ft.SkipSelf){let g=l,w=o;for(;!(g=g.parent,null!==g||u&ft.Host||(g=fu(w),null===g||(w=w[15],10&g.type))););if(null===g)return!1;l=g,o=w}const p=Bt.lFrame=Ao();return p.currentTNode=l,p.lView=o,!0}function Ka(o){const l=Ao(),u=o[1];Bt.lFrame=l,l.currentTNode=u.firstChild,l.lView=o,l.tView=u,l.contextLView=o,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function Ao(){const o=Bt.lFrame,l=null===o?null:o.child;return null===l?pu(o):l}function pu(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function Ya(){const o=Bt.lFrame;return Bt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Yd=Ya;function ca(){const o=Ya();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function _n(){return Bt.lFrame.selectedIndex}function Gs(o){Bt.lFrame.selectedIndex=o}function Un(){const o=Bt.lFrame;return jl(o.tView,o.selectedIndex)}function mu(){Bt.lFrame.currentNamespace="svg"}function Mo(o,l){for(let u=l.directiveStart,p=l.directiveEnd;u<p;u++){const w=o.data[u].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:k,ngAfterViewInit:L,ngAfterViewChecked:Y,ngOnDestroy:se}=w;S&&(o.contentHooks||(o.contentHooks=[])).push(-u,S),k&&((o.contentHooks||(o.contentHooks=[])).push(u,k),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,k)),L&&(o.viewHooks||(o.viewHooks=[])).push(-u,L),Y&&((o.viewHooks||(o.viewHooks=[])).push(u,Y),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,Y)),null!=se&&(o.destroyHooks||(o.destroyHooks=[])).push(u,se)}}function Qa(o,l,u){Xa(o,l,3,u)}function ua(o,l,u,p){(3&o[2])===u&&Xa(o,l,u,p)}function Jd(o,l){let u=o[2];(3&u)===l&&(u&=2047,u+=1,o[2]=u)}function Xa(o,l,u,p){const w=p??-1,S=l.length-1;let k=0;for(let L=void 0!==p?65535&o[18]:0;L<S;L++)if("number"==typeof l[L+1]){if(k=l[L],null!=p&&k>=p)break}else l[L]<0&&(o[18]+=65536),(k<w||-1==w)&&(Ff(o,u,l,L),o[18]=(4294901760&o[18])+L+2),L++}function Ff(o,l,u,p){const g=u[p]<0,w=u[p+1],k=o[g?-u[p]:u[p]];if(g){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{w.call(k)}finally{}}}else try{w.call(k)}finally{}}class Ja{constructor(l,u,p){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=p}}function Xl(o,l,u){let p=0;for(;p<u.length;){const g=u[p];if("number"==typeof g){if(0!==g)break;p++;const w=u[p++],S=u[p++],k=u[p++];o.setAttribute(l,S,k,w)}else{const w=g,S=u[++p];Vf(w)?o.setProperty(l,w,S):o.setAttribute(l,w,S),p++}}return p}function Jl(o){return 3===o||4===o||6===o}function Vf(o){return 64===o.charCodeAt(0)}function da(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let u=-1;for(let p=0;p<l.length;p++){const g=l[p];"number"==typeof g?u=g:0===u||th(o,u,g,null,-1===u||2===u?l[++p]:null)}}return o}function th(o,l,u,p,g){let w=0,S=o.length;if(-1===l)S=-1;else for(;w<o.length;){const k=o[w++];if("number"==typeof k){if(k===l){S=-1;break}if(k>l){S=w-1;break}}}for(;w<o.length;){const k=o[w];if("number"==typeof k)break;if(k===u){if(null===p)return void(null!==g&&(o[w+1]=g));if(p===o[w+1])return void(o[w+2]=g)}w++,null!==p&&w++,null!==g&&w++}-1!==S&&(o.splice(S,0,l),w=S+1),o.splice(w++,0,u),null!==p&&o.splice(w++,0,p),null!==g&&o.splice(w++,0,g)}function bu(o){return-1!==o}function el(o){return 32767&o}function Is(o,l){let u=function Bf(o){return o>>16}(o),p=l;for(;u>0;)p=p[15],u--;return p}let tl=!0;function qs(o){const l=tl;return tl=o,l}let nl=0;const zi={};function ha(o,l){const u=ko(o,l);if(-1!==u)return u;const p=l[1];p.firstCreatePass&&(o.injectorIndex=l.length,Eu(p.data,o),Eu(l,null),Eu(p.blueprint,null));const g=Ro(o,l),w=o.injectorIndex;if(bu(g)){const S=el(g),k=Is(g,l),L=k[1].data;for(let Y=0;Y<8;Y++)l[w+Y]=k[S+Y]|L[S+Y]}return l[w+8]=g,w}function Eu(o,l){o.push(0,0,0,0,0,0,0,0,l)}function ko(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function Ro(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,p=null,g=l;for(;null!==g;){if(p=zf(g),null===p)return-1;if(u++,g=g[15],-1!==p.injectorIndex)return p.injectorIndex|u<<16}return-1}function rl(o,l,u){!function wu(o,l,u){let p;"string"==typeof u?p=u.charCodeAt(0)||0:u.hasOwnProperty($r)&&(p=u[$r]),null==p&&(p=u[$r]=nl++);const g=255&p;l.data[o+(g>>5)]|=1<<g}(o,l,u)}function tc(o,l,u){if(u&ft.Optional||void 0!==o)return o;ae()}function Hf(o,l,u,p){if(u&ft.Optional&&void 0===p&&(p=null),0==(u&(ft.Self|ft.Host))){const g=o[9],w=Gn(void 0);try{return g?g.get(l,p,u&ft.Optional):Dr(l,p,u&ft.Optional)}finally{Gn(w)}}return tc(p,0,u)}function fa(o,l,u,p=ft.Default,g){if(null!==o){if(1024&l[2]){const S=function sl(o,l,u,p,g){let w=o,S=l;for(;null!==w&&null!==S&&1024&S[2]&&!(256&S[2]);){const k=pa(w,S,u,p|ft.Self,zi);if(k!==zi)return k;let L=w.parent;if(!L){const Y=S[21];if(Y){const se=Y.get(u,zi,p);if(se!==zi)return se}L=zf(S),S=S[15]}w=L}return g}(o,l,u,p,zi);if(S!==zi)return S}const w=pa(o,l,u,p,zi);if(w!==zi)return w}return Hf(l,u,p,g)}function pa(o,l,u,p,g){const w=function Fo(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty($r)?o[$r]:void 0;return"number"==typeof l?l>=0?255&l:rg:l}(u);if("function"==typeof w){if(!Za(l,o,p))return p&ft.Host?tc(g,0,p):Hf(l,u,p,g);try{const S=w(p);if(null!=S||p&ft.Optional)return S;ae()}finally{Yd()}}else if("number"==typeof w){let S=null,k=ko(o,l),L=-1,Y=p&ft.Host?l[16][6]:null;for((-1===k||p&ft.SkipSelf)&&(L=-1===k?Ro(o,l):l[k+8],-1!==L&&nc(p,!1)?(S=l[1],k=el(L),l=Is(L,l)):k=-1);-1!==k;){const se=l[1];if(Uf(w,k,se.data)){const de=ng(k,l,u,S,p,Y);if(de!==zi)return de}L=l[k+8],-1!==L&&nc(p,l[1].data[k+8]===Y)&&Uf(w,k,l)?(S=se,k=el(L),l=Is(L,l)):k=-1}}return g}function ng(o,l,u,p,g,w){const S=l[1],k=S.data[o+8],se=Ts(k,S,u,null==p?ia(k)&&tl:p!=S&&0!=(3&k.type),g&ft.Host&&w===k);return null!==se?il(l,S,se,k):zi}function Ts(o,l,u,p,g){const w=o.providerIndexes,S=l.data,k=1048575&w,L=o.directiveStart,se=w>>20,Ee=g?k+se:o.directiveEnd;for(let ke=p?k:k+se;ke<Ee;ke++){const Ge=S[ke];if(ke<L&&u===Ge||ke>=L&&Ge.type===u)return ke}if(g){const ke=S[L];if(ke&&ts(ke)&&ke.type===u)return L}return null}function il(o,l,u,p){let g=o[u];const w=l.data;if(function Yl(o){return o instanceof Ja}(g)){const S=g;S.resolving&&function ee(o,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new z(-200,`Circular dependency in DI detected for ${o}${u}`)}(function B(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():V(o)}(w[u]));const k=qs(S.canSeeViewProviders);S.resolving=!0;const L=S.injectImpl?Gn(S.injectImpl):null;Za(o,p,ft.Default);try{g=o[u]=S.factory(void 0,w,o,p),l.firstCreatePass&&u>=p.directiveStart&&function _u(o,l,u){const{ngOnChanges:p,ngOnInit:g,ngDoCheck:w}=l.type.prototype;if(p){const S=jd(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,S),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,S)}g&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,g),w&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,w),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,w))}(u,w[u],l)}finally{null!==L&&Gn(L),qs(k),S.resolving=!1,Yd()}}return g}function Uf(o,l,u){return!!(u[l+(o>>5)]&1<<o)}function nc(o,l){return!(o&ft.Self||o&ft.Host&&l)}class xs{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,p){return fa(this._tNode,this._lView,l,p,u)}}function rg(){return new xs(Xn(),qe())}function zn(o){return pn(()=>{const l=o.prototype.constructor,u=l[Tr]||Cu(l),p=Object.prototype;let g=Object.getPrototypeOf(o.prototype).constructor;for(;g&&g!==p;){const w=g[Tr]||Cu(g);if(w&&w!==u)return w;g=Object.getPrototypeOf(g)}return w=>new w})}function Cu(o){return q(o)?()=>{const l=Cu(U(o));return l&&l()}:Us(o)}function zf(o){const l=o[1],u=l.type;return 2===u?l.declTNode:1===u?o[6]:null}function rc(o){return function Oo(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const u=o.attrs;if(u){const p=u.length;let g=0;for(;g<p;){const w=u[g];if(Jl(w))break;if(0===w)g+=2;else if("number"==typeof w)for(g++;g<p&&"string"==typeof u[g];)g++;else{if(w===l)return u[g+1];g+=2}}}return null}(Xn(),o)}const er="__parameters__";function Zs(o,l,u){return pn(()=>{const p=function ma(o){return function(...u){if(o){const p=o(...u);for(const g in p)this[g]=p[g]}}}(l);function g(...w){if(this instanceof g)return p.apply(this,w),this;const S=new g(...w);return k.annotation=S,k;function k(L,Y,se){const de=L.hasOwnProperty(er)?L[er]:Object.defineProperty(L,er,{value:[]})[er];for(;de.length<=se;)de.push(null);return(de[se]=de[se]||[]).push(S),L}}return u&&(g.prototype=Object.create(u.prototype)),g.prototype.ngMetadataName=o,g.annotationCls=g,g})}class In{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Qe({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function dr(o,l){void 0===l&&(l=o);for(let u=0;u<o.length;u++){let p=o[u];Array.isArray(p)?(l===o&&(l=o.slice(0,u)),dr(p,l)):l!==o&&l.push(p)}return l}function os(o,l){o.forEach(u=>Array.isArray(u)?os(u,l):l(u))}function Iu(o,l,u){l>=o.length?o.push(u):o.splice(l,0,u)}function Du(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function ga(o,l){const u=[];for(let p=0;p<o;p++)u.push(l);return u}function Pi(o,l,u){let p=ll(o,l);return p>=0?o[1|p]=u:(p=~p,function ig(o,l,u,p){let g=o.length;if(g==l)o.push(u,p);else if(1===g)o.push(p,o[0]),o[0]=u;else{for(g--,o.push(o[g-1],o[g]);g>l;)o[g]=o[g-2],g--;o[l]=u,o[l+1]=p}}(o,p,l,u)),p}function cc(o,l){const u=ll(o,l);if(u>=0)return o[1|u]}function ll(o,l){return function Kf(o,l,u){let p=0,g=o.length>>u;for(;g!==p;){const w=p+(g-p>>1),S=o[w<<u];if(l===S)return w<<u;S>l?g=w:p=w+1}return~(g<<u)}(o,l,1)}const bt={},hr="__NG_DI_FLAG__",ci="ngTempTokenPath",Nr=/\n/gm,ul="__source";let Vo;function ui(o){const l=Vo;return Vo=o,l}function fc(o,l=ft.Default){if(void 0===Vo)throw new z(-203,!1);return null===Vo?Dr(o,void 0,l):Vo.get(o,l&ft.Optional?null:void 0,l)}function ar(o,l=ft.Default){return(function ur(){return bn}()||fc)(U(o),l)}function Et(o,l=ft.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),ar(o,l)}function oh(o){const l=[];for(let u=0;u<o.length;u++){const p=U(o[u]);if(Array.isArray(p)){if(0===p.length)throw new z(900,!1);let g,w=ft.Default;for(let S=0;S<p.length;S++){const k=p[S],L=dl(k);"number"==typeof L?-1===L?g=k.token:w|=L:g=k}l.push(ar(g,w))}else l.push(ar(p))}return l}function Bo(o,l){return o[hr]=l,o.prototype[hr]=l,o}function dl(o){return o[hr]}const Ks=Bo(Zs("Optional"),8),Ho=Bo(Zs("SkipSelf"),4);var ls=(()=>((ls=ls||{})[ls.Important=1]="Important",ls[ls.DashCase=2]="DashCase",ls))();const ue=new Map;let we=0;const kn="__ngContext__";function xt(o,l){xr(l)?(o[kn]=l[20],function ze(o){ue.set(o[20],o)}(l)):o[kn]=l}function vc(o,l){return undefined(o,l)}function Ru(o){const l=o[3];return _i(l)?l[3]:l}function bc(o){return Sa(o[13])}function cg(o){return Sa(o[4])}function Sa(o){for(;null!==o&&!_i(o);)o=o[4];return o}function wc(o,l,u,p,g){if(null!=p){let w,S=!1;_i(p)?w=p:xr(p)&&(S=!0,p=p[0]);const k=sr(p);0===o&&null!==u?null==g?Nu(l,u,k):zo(l,u,k,g||null,!0):1===o&&null!==u?zo(l,u,k,g||null,!0):2===o?function dp(o,l,u){const p=mh(o,l);p&&function ap(o,l,u,p){o.removeChild(l,u,p)}(o,p,l,u)}(l,k,S):3===o&&l.destroyNode(k),null!=w&&function pp(o,l,u,p,g){const w=u[7];w!==sr(u)&&wc(l,o,p,w,g);for(let k=10;k<u.length;k++){const L=u[k];Lu(L[1],L,o,l,p,w)}}(l,o,w,u,g)}}function ip(o,l,u){return o.createElement(l,u)}function Cc(o,l){const u=o[9],p=u.indexOf(l),g=l[3];512&l[2]&&(l[2]&=-513,Kr(g,-1)),u.splice(p,1)}function gl(o,l){if(o.length<=10)return;const u=10+l,p=o[u];if(p){const g=p[17];null!==g&&g!==o&&Cc(g,p),l>0&&(o[u-1][4]=p[4]);const w=Du(o,10+l);!function ml(o,l){Lu(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(p[1],p);const S=w[19];null!==S&&S.detachView(w[1]),p[3]=null,p[4]=null,p[2]&=-65}return p}function _l(o,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&Lu(o,l,u,3,null,null),function wy(o){let l=o[13];if(!l)return fh(o[1],o);for(;l;){let u=null;if(xr(l))u=l[13];else{const p=l[10];p&&(u=p)}if(!u){for(;l&&!l[4]&&l!==o;)xr(l)&&fh(l[1],l),l=l[3];null===l&&(l=o),xr(l)&&fh(l[1],l),u=l&&l[4]}l=u}}(l)}}function fh(o,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function ph(o,l){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let p=0;p<u.length;p+=2){const g=l[u[p]];if(!(g instanceof Ja)){const w=u[p+1];if(Array.isArray(w))for(let S=0;S<w.length;S+=2){const k=g[w[S]],L=w[S+1];try{L.call(k)}finally{}}else try{w.call(g)}finally{}}}}(o,l),function op(o,l){const u=o.cleanup,p=l[7];let g=-1;if(null!==u)for(let w=0;w<u.length-1;w+=2)if("string"==typeof u[w]){const S=u[w+1],k="function"==typeof S?S(l):sr(l[S]),L=p[g=u[w+2]],Y=u[w+3];"boolean"==typeof Y?k.removeEventListener(u[w],L,Y):Y>=0?p[g=Y]():p[g=-Y].unsubscribe(),w+=2}else{const S=p[g=u[w+1]];u[w].call(S)}if(null!==p){for(let w=g+1;w<p.length;w++)(0,p[w])();l[7]=null}}(o,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&_i(l[3])){u!==l[3]&&Cc(u,l);const p=l[19];null!==p&&p.detachView(o)}!function it(o){ue.delete(o[20])}(l)}}function yl(o,l,u){return function ug(o,l,u){let p=l;for(;null!==p&&40&p.type;)p=(l=p).parent;if(null===p)return u[0];if(2&p.flags){const g=o.data[p.directiveStart].encapsulation;if(g===kt.None||g===kt.Emulated)return null}return vi(p,u)}(o,l.parent,u)}function zo(o,l,u,p,g){o.insertBefore(l,u,p,g)}function Nu(o,l,u){o.appendChild(l,u)}function dg(o,l,u,p,g){null!==p?zo(o,l,u,p,g):Nu(o,l,u)}function mh(o,l){return o.parentNode(l)}function hg(o,l,u){return cp(o,l,u)}let Sc,_o,cp=function gh(o,l,u){return 40&o.type?vi(o,u):null};function go(o,l,u,p){const g=yl(o,p,l),w=l[11],k=hg(p.parent||l[6],p,l);if(null!=g)if(Array.isArray(u))for(let L=0;L<u.length;L++)dg(w,g,u[L],k,!1);else dg(w,g,u,k,!1)}function Js(o,l){if(null!==l){const u=l.type;if(3&u)return vi(l,o);if(4&u)return yh(-1,o[l.index]);if(8&u){const p=l.child;if(null!==p)return Js(o,p);{const g=o[l.index];return _i(g)?yh(-1,g):sr(g)}}if(32&u)return vc(l,o)()||sr(o[l.index]);{const p=up(o,l);return null!==p?Array.isArray(p)?p[0]:Js(Ru(o[16]),p):Js(o,l.next)}}return null}function up(o,l){return null!==l?o[16][6].projection[l.projection]:null}function yh(o,l){const u=10+o+1;if(u<l.length){const p=l[u],g=p[1].firstChild;if(null!==g)return Js(p,g)}return l[7]}function hp(o,l,u,p,g,w,S){for(;null!=u;){const k=p[u.index],L=u.type;if(S&&0===l&&(k&&xt(sr(k),p),u.flags|=4),64!=(64&u.flags))if(8&L)hp(o,l,u.child,p,g,w,!1),wc(l,o,g,k,w);else if(32&L){const Y=vc(u,p);let se;for(;se=Y();)wc(l,o,g,se,w);wc(l,o,g,k,w)}else 16&L?fp(o,l,p,u,g,w):wc(l,o,g,k,w);u=S?u.projectionNext:u.next}}function Lu(o,l,u,p,g,w){hp(u,p,o.firstChild,l,g,w,!1)}function fp(o,l,u,p,g,w){const S=u[16],L=S[6].projection[p.projection];if(Array.isArray(L))for(let Y=0;Y<L.length;Y++)wc(l,o,g,L[Y],w);else hp(o,l,L,S[3],g,w,!0)}function gp(o,l,u){o.setAttribute(l,"style",u)}function _p(o,l,u){""===u?o.removeAttribute(l,"class"):o.setAttribute(l,"class",u)}function Vr(o){return function vh(){if(void 0===Sc&&(Sc=null,An.trustedTypes))try{Sc=An.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Sc}()?.createHTML(o)||o}function pg(o){_o=o}class Ia{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Sh extends Ia{getTypeName(){return"HTML"}}class Fi extends Ia{getTypeName(){return"Style"}}class Bu extends Ia{getTypeName(){return"Script"}}class Hu extends Ia{getTypeName(){return"URL"}}class Sy extends Ia{getTypeName(){return"ResourceURL"}}function br(o){return o instanceof Ia?o.changingThisBreaksApplicationSecurity:o}function yo(o,l){const u=function gg(o){return o instanceof Ia&&o.getTypeName()||null}(o);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Ih(o){return new Sh(o)}function _g(o){return new Fi(o)}function Dh(o){return new Bu(o)}function yg(o){return new Hu(o)}function vg(o){return new Sy(o)}class Uu{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Vr(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class C{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const p=this.inertDocument.createElement("body");u.appendChild(p)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Vr(l),u;const p=this.inertDocument.createElement("body");return p.innerHTML=Vr(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(p),p}stripCustomNsAttrs(l){const u=l.attributes;for(let g=u.length-1;0<g;g--){const S=u.item(g).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&l.removeAttribute(S)}let p=l.firstChild;for(;p;)p.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(p),p=p.nextSibling}}const b=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function T(o){return(o=String(o)).match(b)?o:"unsafe:"+o}function $(o){const l={};for(const u of o.split(","))l[u]=!0;return l}function ie(...o){const l={};for(const u of o)for(const p in u)u.hasOwnProperty(p)&&(l[p]=!0);return l}const ve=$("area,br,col,hr,img,wbr"),Ae=$("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ze=$("rp,rt"),Wn=ie(ve,ie(Ae,$("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ie(Ze,$("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ie(Ze,Ae)),us=$("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ju=ie(us,$("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dc=$("script,style,template");class wg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,p=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?p=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,p&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let g=this.checkClobberedElement(u,u.nextSibling);if(g){u=g;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Wn.hasOwnProperty(u))return this.sanitizedSomething=!0,!Dc.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const p=l.attributes;for(let g=0;g<p.length;g++){const w=p.item(g),S=w.name,k=S.toLowerCase();if(!ju.hasOwnProperty(k)){this.sanitizedSomething=!0;continue}let L=w.value;us[k]&&(L=T(L)),this.buf.push(" ",S,'="',Tc(L),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Wn.hasOwnProperty(u)&&!ve.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Tc(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const yp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vp=/([^\#-~ |!])/g;function Tc(o){return o.replace(/&/g,"&amp;").replace(yp,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(vp,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xc;function bp(o,l){let u=null;try{xc=xc||function bg(o){const l=new C(o);return function _(){try{return!!(new window.DOMParser).parseFromString(Vr(""),"text/html")}catch{return!1}}()?new Uu(l):l}(o);let p=l?String(l):"";u=xc.getInertBodyElement(p);let g=5,w=p;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,p=w,w=u.innerHTML,u=xc.getInertBodyElement(p)}while(p!==w);return Vr((new wg).sanitizeChildren(Da(u)||u))}finally{if(u){const p=Da(u)||u;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function Da(o){return"content"in o&&function bl(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var wr=(()=>((wr=wr||{})[wr.NONE=0]="NONE",wr[wr.HTML=1]="HTML",wr[wr.STYLE=2]="STYLE",wr[wr.SCRIPT=3]="SCRIPT",wr[wr.URL=4]="URL",wr[wr.RESOURCE_URL=5]="RESOURCE_URL",wr))();function Gu(o){const l=function $u(){const o=qe();return o&&o[12]}();return l?l.sanitize(wr.URL,o)||"":yo(o,"URL")?br(o):T(V(o))}const Th=new In("ENVIRONMENT_INITIALIZER"),qu=new In("INJECTOR",-1),uw=new In("INJECTOR_DEF_TYPES");class dw{get(l,u=bt){if(u===bt){const p=new Error(`NullInjectorError: No provider for ${j(l)}!`);throw p.name="NullInjectorError",p}return u}}function bD(...o){return{\u0275providers:hw(0,o)}}function hw(o,...l){const u=[],p=new Set;let g;return os(l,w=>{const S=w;Iy(S,u,[],p)&&(g||(g=[]),g.push(S))}),void 0!==g&&fw(g,u),u}function fw(o,l){for(let u=0;u<o.length;u++){const{providers:g}=o[u];os(g,w=>{l.push(w)})}}function Iy(o,l,u,p){if(!(o=U(o)))return!1;let g=null,w=Fn(o);const S=!w&&Be(o);if(w||S){if(S&&!S.standalone)return!1;g=o}else{const L=o.ngModule;if(w=Fn(L),!w)return!1;g=L}const k=p.has(g);if(S){if(k)return!1;if(p.add(g),S.dependencies){const L="function"==typeof S.dependencies?S.dependencies():S.dependencies;for(const Y of L)Iy(Y,l,u,p)}}else{if(!w)return!1;{if(null!=w.imports&&!k){let Y;p.add(g);try{os(w.imports,se=>{Iy(se,l,u,p)&&(Y||(Y=[]),Y.push(se))})}finally{}void 0!==Y&&fw(Y,l)}if(!k){const Y=Us(g)||(()=>new g);l.push({provide:g,useFactory:Y,deps:Lt},{provide:uw,useValue:g,multi:!0},{provide:Th,useValue:()=>ar(g),multi:!0})}const L=w.providers;null==L||k||os(L,se=>{l.push(se)})}}return g!==o&&void 0!==o.providers}const wD=P({provide:String,useValue:P});function Dy(o){return null!==o&&"object"==typeof o&&wD in o}function wl(o){return"function"==typeof o}const Ep=new In("Set Injector scope."),Wu={},ED={};let xy;function Eg(){return void 0===xy&&(xy=new dw),xy}class Zu{}class Cp extends Zu{constructor(l,u,p,g){super(),this.parent=u,this.source=p,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ay(l,S=>this.processProvider(S)),this.records.set(qu,Ku(void 0,this)),g.has("environment")&&this.records.set(Zu,Ku(void 0,this));const w=this.records.get(Ep);null!=w&&"string"==typeof w.value&&this.scopes.add(w.value),this.injectorDefTypes=new Set(this.get(uw.multi,Lt,ft.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=ui(this),p=Gn(void 0);try{return l()}finally{ui(u),Gn(p)}}get(l,u=bt,p=ft.Default){this.assertNotDestroyed();const g=ui(this),w=Gn(void 0);try{if(!(p&ft.SkipSelf)){let k=this.records.get(l);if(void 0===k){const L=function CD(o){return"function"==typeof o||"object"==typeof o&&o instanceof In}(l)&&Ut(l);k=L&&this.injectableDefInScope(L)?Ku(Cg(l),Wu):null,this.records.set(l,k)}if(null!=k)return this.hydrate(l,k)}return(p&ft.Self?Eg():this.parent).get(l,u=p&ft.Optional&&u===bt?null:u)}catch(S){if("NullInjectorError"===S.name){if((S[ci]=S[ci]||[]).unshift(j(l)),g)throw S;return function pc(o,l,u,p){const g=o[ci];throw l[ul]&&g.unshift(l[ul]),o.message=function qn(o,l,u,p=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let g=j(l);if(Array.isArray(l))g=l.map(j).join(" -> ");else if("object"==typeof l){let w=[];for(let S in l)if(l.hasOwnProperty(S)){let k=l[S];w.push(S+":"+("string"==typeof k?JSON.stringify(k):j(k)))}g=`{${w.join(", ")}}`}return`${u}${p?"("+p+")":""}[${g}]: ${o.replace(Nr,"\n  ")}`}("\n"+o.message,g,u,p),o.ngTokenPath=g,o[ci]=null,o}(S,l,"R3InjectorError",this.source)}throw S}finally{Gn(w),ui(g)}}resolveInjectorInitializers(){const l=ui(this),u=Gn(void 0);try{const p=this.get(Th.multi,Lt,ft.Self);for(const g of p)g()}finally{ui(l),Gn(u)}}toString(){const l=[],u=this.records;for(const p of u.keys())l.push(j(p));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(l){let u=wl(l=U(l))?l:U(l&&l.provide);const p=function Sg(o){return Dy(o)?Ku(void 0,o.useValue):Ku(Sp(o),Wu)}(l);if(wl(l)||!0!==l.multi)this.records.get(u);else{let g=this.records.get(u);g||(g=Ku(void 0,Wu,!0),g.factory=()=>oh(g.multi),this.records.set(u,g)),u=l,g.multi.push(l)}this.records.set(u,p)}hydrate(l,u){return u.value===Wu&&(u.value=ED,u.value=u.factory()),"object"==typeof u.value&&u.value&&function _w(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=U(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Cg(o){const l=Ut(o),u=null!==l?l.factory:Us(o);if(null!==u)return u;if(o instanceof In)throw new z(204,!1);if(o instanceof Function)return function gw(o){const l=o.length;if(l>0)throw ga(l,"?"),new z(204,!1);const u=function lt(o){const l=o&&(o[gr]||o[zr]);if(l){const u=function on(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new z(204,!1)}function Sp(o,l,u){let p;if(wl(o)){const g=U(o);return Us(g)||Cg(g)}if(Dy(o))p=()=>U(o.useValue);else if(function pw(o){return!(!o||!o.useFactory)}(o))p=()=>o.useFactory(...oh(o.deps||[]));else if(function Ty(o){return!(!o||!o.useExisting)}(o))p=()=>ar(U(o.useExisting));else{const g=U(o&&(o.useClass||o.provide));if(!function Ip(o){return!!o.deps}(o))return Us(g)||Cg(g);p=()=>new g(...oh(o.deps))}return p}function Ku(o,l,u=!1){return{factory:o,value:l,multi:u?[]:void 0}}function SD(o){return!!o.\u0275providers}function Ay(o,l){for(const u of o)Array.isArray(u)?Ay(u,l):SD(u)?Ay(u.\u0275providers,l):l(u)}class yw{}class DD{resolveComponentFactory(l){throw function Ig(o){const l=Error(`No component factory found for ${j(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let Dp=(()=>{class o{}return o.NULL=new DD,o})();function TD(){return xh(Xn(),qe())}function xh(o,l){return new Tp(vi(o,l))}let Tp=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=TD,o})();function bw(o){return o instanceof Tp?o.nativeElement:o}class My{}let ww=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function Ew(){const o=qe(),u=or(Xn().index,o);return(xr(u)?u:o)[11]}(),o})(),Cw=(()=>{class o{}return o.\u0275prov=Qe({token:o,providedIn:"root",factory:()=>null}),o})();class Py{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Sw=new Py("14.3.0"),ky={};function Oy(o){return o.ngOriginalError}class xp{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Oy(l);for(;u&&Oy(u);)u=Oy(u);return u||null}}function El(o){return o instanceof Function?o():o}function Ap(o,l,u){let p=o.length;for(;;){const g=o.indexOf(l,u);if(-1===g)return g;if(0===g||o.charCodeAt(g-1)<=32){const w=l.length;if(g+w===p||o.charCodeAt(g+w)<=32)return g}u=g+1}}const kw="ng-template";function PD(o,l,u){let p=0;for(;p<o.length;){let g=o[p++];if(u&&"class"===g){if(g=o[p],-1!==Ap(g.toLowerCase(),l,0))return!0}else if(1===g){for(;p<o.length&&"string"==typeof(g=o[p++]);)if(g.toLowerCase()===l)return!0;return!1}}return!1}function Rw(o){return 4===o.type&&o.value!==kw}function kD(o,l,u){return l===(4!==o.type||u?o.value:kw)}function Ow(o,l,u){let p=4;const g=o.attrs||[],w=function Vy(o){for(let l=0;l<o.length;l++)if(Jl(o[l]))return l;return o.length}(g);let S=!1;for(let k=0;k<l.length;k++){const L=l[k];if("number"!=typeof L){if(!S)if(4&p){if(p=2|1&p,""!==L&&!kD(o,L,u)||""===L&&1===l.length){if(Rn(p))return!1;S=!0}}else{const Y=8&p?L:l[++k];if(8&p&&null!==o.attrs){if(!PD(o.attrs,Y,u)){if(Rn(p))return!1;S=!0}continue}const de=RD(8&p?"class":L,g,Rw(o),u);if(-1===de){if(Rn(p))return!1;S=!0;continue}if(""!==Y){let Ee;Ee=de>w?"":g[de+1].toLowerCase();const ke=8&p?Ee:null;if(ke&&-1!==Ap(ke,Y,0)||2&p&&Y!==Ee){if(Rn(p))return!1;S=!0}}}}else{if(!S&&!Rn(p)&&!Rn(L))return!1;if(S&&Rn(L))continue;S=!1,p=L|1&p}}return Rn(p)||S}function Rn(o){return 0==(1&o)}function RD(o,l,u,p){if(null===l)return-1;let g=0;if(p||!u){let w=!1;for(;g<l.length;){const S=l[g];if(S===o)return g;if(3===S||6===S)w=!0;else{if(1===S||2===S){let k=l[++g];for(;"string"==typeof k;)k=l[++g];continue}if(4===S)break;if(0===S){g+=4;continue}}g+=w?1:2}return-1}return function OD(o,l){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const p=o[u];if("number"==typeof p)return-1;if(p===l)return u;u++}return-1}(l,o)}function Ny(o,l,u=!1){for(let p=0;p<l.length;p++)if(Ow(o,l[p],u))return!0;return!1}function FD(o,l){e:for(let u=0;u<l.length;u++){const p=l[u];if(o.length===p.length){for(let g=0;g<o.length;g++)if(o[g]!==p[g])continue e;return!0}}return!1}function By(o,l){return o?":not("+l.trim()+")":l}function Lk(o){let l=o[0],u=1,p=2,g="",w=!1;for(;u<o.length;){let S=o[u];if("string"==typeof S)if(2&p){const k=o[++u];g+="["+S+(k.length>0?'="'+k+'"':"")+"]"}else 8&p?g+="."+S:4&p&&(g+=" "+S);else""!==g&&!Rn(S)&&(l+=By(w,g),g=""),p=S,w=w||!Rn(p);u++}return""!==g&&(l+=By(w,g)),l}const Xt={};function Hy(o){Mp(nn(),qe(),_n()+o,!1)}function Mp(o,l,u,p){if(!p)if(3==(3&l[2])){const w=o.preOrderCheckHooks;null!==w&&Qa(l,w,u)}else{const w=o.preOrderHooks;null!==w&&ua(l,w,0,u)}Gs(u)}function Lw(o,l=null,u=null,p){const g=Vw(o,l,u,p);return g.resolveInjectorInitializers(),g}function Vw(o,l=null,u=null,p,g=new Set){const w=[u||Lt,bD(o)];return p=p||("object"==typeof o?void 0:j(o)),new Cp(w,l||Eg(),p||null,g)}let Ac=(()=>{class o{static create(u,p){if(Array.isArray(u))return Lw({name:""},p,u,"");{const g=u.name??"";return Lw({name:g},u.parent,u.providers,g)}}}return o.THROW_IF_NOT_FOUND=bt,o.NULL=new dw,o.\u0275prov=Qe({token:o,providedIn:"any",factory:()=>ar(qu)}),o.__NG_ELEMENT_ID__=-1,o})();function Br(o,l=ft.Default){const u=qe();return null===u?ar(o,l):fa(Xn(),u,U(o),l)}function Cl(){throw new Error("invalid")}function Ln(o,l){return o<<17|l<<2}function vo(o){return o>>17&32767}function Mg(o){return 2|o}function xa(o){return(131068&o)>>2}function Pg(o,l){return-131069&o|l<<2}function kg(o){return 1|o}function Ng(o,l){const u=o.contentQueries;if(null!==u)for(let p=0;p<u.length;p+=2){const g=u[p],w=u[p+1];if(-1!==w){const S=o.data[w];li(g),S.contentQueries(2,l[w],w)}}}function Il(o,l,u,p,g,w,S,k,L,Y,se){const de=l.blueprint.slice();return de[0]=g,de[2]=76|p,(null!==se||o&&1024&o[2])&&(de[2]|=1024),uo(de),de[3]=de[15]=o,de[8]=u,de[10]=S||o&&o[10],de[11]=k||o&&o[11],de[12]=L||o&&o[12]||null,de[9]=Y||o&&o[9]||null,de[6]=w,de[20]=function De(){return we++}(),de[21]=se,de[16]=2==l.type?o[16]:de,de}function Aa(o,l,u,p,g){let w=o.data[l];if(null===w)w=function Np(o,l,u,p,g){const w=ql(),S=aa(),L=o.data[l]=function Up(o,l,u,p,g,w){return{type:u,index:p,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?w:w&&w.parent,u,l,p,g);return null===o.firstChild&&(o.firstChild=L),null!==w&&(S?null==w.child&&null!==L.parent&&(w.child=L):null===w.next&&(w.next=L)),L}(o,l,u,p,g),function Kd(){return Bt.lFrame.inI18n}()&&(w.flags|=64);else if(64&w.type){w.type=u,w.value=p,w.attrs=g;const S=function To(){const o=Bt.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();w.injectorIndex=null===S?-1:S.injectorIndex}return xi(w,!0),w}function Xu(o,l,u,p){if(0===u)return-1;const g=l.length;for(let w=0;w<u;w++)l.push(p),o.blueprint.push(p),o.data.push(null);return g}function Lp(o,l,u){Ka(l);try{const p=o.viewQuery;null!==p&&zg(1,p,u);const g=o.template;null!==g&&Bp(o,l,g,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Ng(o,l),o.staticViewQueries&&zg(2,o.viewQuery,u);const w=o.components;null!==w&&function Lg(o,l){for(let u=0;u<l.length;u++)nR(o,l[u])}(l,w)}catch(p){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),p}finally{l[2]&=-5,ca()}}function Vp(o,l,u,p){const g=l[2];if(128!=(128&g)){Ka(l);try{uo(l),function is(o){return Bt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Bp(o,l,u,2,p);const S=3==(3&g);if(S){const Y=o.preOrderCheckHooks;null!==Y&&Qa(l,Y,null)}else{const Y=o.preOrderHooks;null!==Y&&ua(l,Y,0,null),Jd(l,0)}if(function sT(o){for(let l=bc(o);null!==l;l=cg(l)){if(!l[2])continue;const u=l[9];for(let p=0;p<u.length;p++){const g=u[p],w=g[3];0==(512&g[2])&&Kr(w,1),g[2]|=512}}}(l),function tR(o){for(let l=bc(o);null!==l;l=cg(l))for(let u=10;u<l.length;u++){const p=l[u],g=p[1];Do(p)&&Vp(g,p,g.template,p[8])}}(l),null!==o.contentQueries&&Ng(o,l),S){const Y=o.contentCheckHooks;null!==Y&&Qa(l,Y)}else{const Y=o.contentHooks;null!==Y&&ua(l,Y,1),Jd(l,1)}!function QD(o,l){const u=o.hostBindingOpCodes;if(null!==u)try{for(let p=0;p<u.length;p++){const g=u[p];if(g<0)Gs(~g);else{const w=g,S=u[++p],k=u[++p];eg(S,w),k(2,l[w])}}}finally{Gs(-1)}}(o,l);const k=o.components;null!==k&&function Fp(o,l){for(let u=0;u<l.length;u++)uE(o,l[u])}(l,k);const L=o.viewQuery;if(null!==L&&zg(2,L,p),S){const Y=o.viewCheckHooks;null!==Y&&Qa(l,Y)}else{const Y=o.viewHooks;null!==Y&&ua(l,Y,2),Jd(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Kr(l[3],-1))}finally{ca()}}}function Bp(o,l,u,p,g){const w=_n(),S=2&p;try{Gs(-1),S&&l.length>22&&Mp(o,l,22,!1),u(p,g)}finally{Gs(w)}}function rv(o,l,u){if(co(l)){const g=l.directiveEnd;for(let w=l.directiveStart;w<g;w++){const S=o.data[w];S.contentQueries&&S.contentQueries(1,u[w],w)}}}function Vg(o,l,u){!Zd()||(function Xk(o,l,u,p){const g=u.directiveStart,w=u.directiveEnd;o.firstCreatePass||ha(u,l),xt(p,l);const S=u.initialInputs;for(let k=g;k<w;k++){const L=o.data[k],Y=ts(L);Y&&eR(l,u,L);const se=il(l,o,k,u);xt(se,l),null!==S&&Ug(0,k-g,se,L,0,S),Y&&(or(u.index,l)[8]=se)}}(o,l,u,vi(u,l)),128==(128&u.flags)&&function nT(o,l,u){const p=u.directiveStart,g=u.directiveEnd,w=u.index,S=function la(){return Bt.lFrame.currentDirectiveIndex}();try{Gs(w);for(let k=p;k<g;k++){const L=o.data[k],Y=l[k];hu(k),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&ov(L,Y)}}finally{Gs(-1),hu(S)}}(o,l,u))}function Oh(o,l,u=vi){const p=l.localNames;if(null!==p){let g=l.index+1;for(let w=0;w<p.length;w+=2){const S=p[w+1],k=-1===S?u(l,o):o[S];o[g++]=k}}}function Ju(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=sE(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function sE(o,l,u,p,g,w,S,k,L,Y){const se=22+p,de=se+g,Ee=function Kk(o,l){const u=[];for(let p=0;p<l;p++)u.push(p<o?null:Xt);return u}(se,de),ke="function"==typeof Y?Y():Y;return Ee[1]={type:o,blueprint:Ee,template:u,queries:null,viewQuery:k,declTNode:l,data:Ee.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:L,consts:ke,incompleteFirstPass:!1}}function Hp(o,l,u,p){const g=td(l);null===u?g.push(p):(g.push(u),o.firstCreatePass&&hE(o).push(p,g.length-1))}function zp(o,l,u){for(let p in o)if(o.hasOwnProperty(p)){const g=o[p];(u=null===u?{}:u).hasOwnProperty(p)?u[p].push(l,g):u[p]=[l,g]}return u}function jp(o,l){const p=l.directiveEnd,g=o.data,w=l.attrs,S=[];let k=null,L=null;for(let Y=l.directiveStart;Y<p;Y++){const se=g[Y],de=se.inputs,Ee=null===w||Rw(l)?null:cE(de,w);S.push(Ee),k=zp(de,Y,k),L=zp(se.outputs,Y,L)}null!==k&&(k.hasOwnProperty("class")&&(l.flags|=16),k.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=S,l.inputs=k,l.outputs=L}function hs(o,l,u,p,g,w,S,k){const L=vi(l,u);let se,Y=l.inputs;!k&&null!=Y&&(se=Y[p])?(pE(o,u,se,p,g),ia(l)&&Gp(u,l.index)):3&l.type&&(p=function JD(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(p),g=null!=S?S(g,l.value||"",p):g,w.setProperty(L,p,g))}function Gp(o,l){const u=or(l,o);16&u[2]||(u[2]|=32)}function iv(o,l,u,p){let g=!1;if(Zd()){const w=function Jk(o,l,u){const p=o.directiveRegistry;let g=null;if(p)for(let w=0;w<p.length;w++){const S=p[w];Ny(u,S.selectors,!1)&&(g||(g=[]),rl(ha(u,l),o,S.type),ts(S)?(Bg(o,u),g.unshift(S)):g.push(S))}return g}(o,l,u),S=null===p?null:{"":-1};if(null!==w){g=!0,Hg(u,o.data.length,w.length);for(let se=0;se<w.length;se++){const de=w[se];de.providersResolver&&de.providersResolver(de)}let k=!1,L=!1,Y=Xu(o,l,w.length,null);for(let se=0;se<w.length;se++){const de=w[se];u.mergedAttrs=da(u.mergedAttrs,de.hostAttrs),lE(o,u,l,Y,de),aE(Y,de,S),null!==de.contentQueries&&(u.flags|=8),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(u.flags|=128);const Ee=de.type.prototype;!k&&(Ee.ngOnChanges||Ee.ngOnInit||Ee.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),k=!0),!L&&(Ee.ngOnChanges||Ee.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),L=!0),Y++}jp(o,u)}S&&function rT(o,l,u){if(l){const p=o.localNames=[];for(let g=0;g<l.length;g+=2){const w=u[l[g+1]];if(null==w)throw new z(-301,!1);p.push(l[g],w)}}}(u,p,S)}return u.mergedAttrs=da(u.mergedAttrs,u.attrs),g}function sv(o,l,u,p,g,w){const S=w.hostBindings;if(S){let k=o.hostBindingOpCodes;null===k&&(k=o.hostBindingOpCodes=[]);const L=~l.index;(function tT(o){let l=o.length;for(;l>0;){const u=o[--l];if("number"==typeof u&&u<0)return u}return 0})(k)!=L&&k.push(L),k.push(p,g,S)}}function ov(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function Bg(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function aE(o,l,u){if(u){if(l.exportAs)for(let p=0;p<l.exportAs.length;p++)u[l.exportAs[p]]=o;ts(l)&&(u[""]=o)}}function Hg(o,l,u){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+u,o.providerIndexes=l}function lE(o,l,u,p,g){o.data[p]=g;const w=g.factory||(g.factory=Us(g.type)),S=new Ja(w,ts(g),Br);o.blueprint[p]=S,u[p]=S,sv(o,l,0,p,Xu(o,u,g.hostVars,Xt),g)}function eR(o,l,u){const p=vi(l,o),g=Ju(u),w=o[10],S=av(o,Il(o,g,null,u.onPush?32:16,p,l,w,w.createRenderer(p,u),null,null,null));o[l.index]=S}function Ma(o,l,u,p,g,w){const S=vi(o,l);!function ed(o,l,u,p,g,w,S){if(null==w)o.removeAttribute(l,g,u);else{const k=null==S?V(w):S(w,p||"",g);o.setAttribute(l,g,k,u)}}(l[11],S,w,o.value,u,p,g)}function Ug(o,l,u,p,g,w){const S=w[l];if(null!==S){const k=p.setInput;for(let L=0;L<S.length;){const Y=S[L++],se=S[L++],de=S[L++];null!==k?p.setInput(u,de,Y,se):u[se]=de}}}function cE(o,l){let u=null,p=0;for(;p<l.length;){const g=l[p];if(0!==g)if(5!==g){if("number"==typeof g)break;o.hasOwnProperty(g)&&(null===u&&(u=[]),u.push(g,o[g],l[p+1])),p+=2}else p+=2;else p+=4}return u}function kc(o,l,u,p){return new Array(o,!0,!1,l,null,0,p,u,null,null)}function uE(o,l){const u=or(l,o);if(Do(u)){const p=u[1];48&u[2]?Vp(p,u,p.template,u[8]):u[5]>0&&dE(u)}}function dE(o){for(let p=bc(o);null!==p;p=cg(p))for(let g=10;g<p.length;g++){const w=p[g];if(Do(w))if(512&w[2]){const S=w[1];Vp(S,w,S.template,w[8])}else w[5]>0&&dE(w)}const u=o[1].components;if(null!==u)for(let p=0;p<u.length;p++){const g=or(u[p],o);Do(g)&&g[5]>0&&dE(g)}}function nR(o,l){const u=or(l,o),p=u[1];(function rR(o,l){for(let u=l.length;u<o.blueprint.length;u++)l.push(o.blueprint[u])})(p,u),Lp(p,u,u[8])}function av(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function lv(o){for(;o;){o[2]|=32;const l=Ru(o);if(sa(o)&&!l)return o;o=l}return null}function $p(o,l,u,p=!0){const g=l[10];g.begin&&g.begin();try{Vp(o,l,o.template,u)}catch(S){throw p&&fE(l,S),S}finally{g.end&&g.end()}}function zg(o,l,u){li(0),l(o,u)}function td(o){return o[7]||(o[7]=[])}function hE(o){return o.cleanup||(o.cleanup=[])}function cv(o,l,u){return(null===o||ts(o))&&(u=function zs(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[l.index])),u[11]}function fE(o,l){const u=o[9],p=u?u.get(xp,null):null;p&&p.handleError(l)}function pE(o,l,u,p,g){for(let w=0;w<u.length;){const S=u[w++],k=u[w++],L=l[S],Y=o.data[S];null!==Y.setInput?Y.setInput(L,g,p,k):L[k]=g}}function jg(o,l,u){let p=u?o.styles:null,g=u?o.classes:null,w=0;if(null!==l)for(let S=0;S<l.length;S++){const k=l[S];"number"==typeof k?w=k:1==w?g=Q(g,k):2==w&&(p=Q(p,k+": "+l[++S]+";"))}u?o.styles=p:o.stylesWithoutHost=p,u?o.classes=g:o.classesWithoutHost=g}function qp(o,l,u,p,g=!1){for(;null!==u;){const w=l[u.index];if(null!==w&&p.push(sr(w)),_i(w))for(let k=10;k<w.length;k++){const L=w[k],Y=L[1].firstChild;null!==Y&&qp(L[1],L,Y,p)}const S=u.type;if(8&S)qp(o,l,u.child,p);else if(32&S){const k=vc(u,l);let L;for(;L=k();)p.push(L)}else if(16&S){const k=up(l,u);if(Array.isArray(k))p.push(...k);else{const L=Ru(l[16]);qp(L[1],L,k,p,!0)}}u=g?u.projectionNext:u.next}return p}class Wp{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return qp(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(_i(l)){const u=l[8],p=u?u.indexOf(this):-1;p>-1&&(gl(l,p),Du(u,p))}this._attachedToViewContainer=!1}_l(this._lView[1],this._lView)}onDestroy(l){Hp(this._lView[1],this._lView,null,l)}markForCheck(){lv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){$p(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lw(o,l){Lu(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=l}}class mE extends Wp{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;$p(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class Zp extends Dp{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=Be(l);return new to(u,this.ngModule)}}function gE(o){const l=[];for(let u in o)o.hasOwnProperty(u)&&l.push({propName:o[u],templateName:u});return l}class aT{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,p){const g=this.injector.get(l,ky,p);return g!==ky||u===ky?g:this.parentInjector.get(l,u,p)}}class to extends yw{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function Vk(o){return o.map(Lk).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return gE(this.componentDef.inputs)}get outputs(){return gE(this.componentDef.outputs)}create(l,u,p,g){let w=(g=g||this.ngModule)instanceof Zu?g:g?.injector;w&&null!==this.componentDef.getStandaloneInjector&&(w=this.componentDef.getStandaloneInjector(w)||w);const S=w?new aT(l,w):l,k=S.get(My,null);if(null===k)throw new z(407,!1);const L=S.get(Cw,null),Y=k.createRenderer(null,this.componentDef),se=this.componentDef.selectors[0][0]||"div",de=p?function Yk(o,l,u){return o.selectRootElement(l,u===kt.ShadowDom)}(Y,p,this.componentDef.encapsulation):ip(Y,se,function uv(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(se)),Ee=this.componentDef.onPush?288:272,ke=sE(0,null,null,1,0,null,null,null,null,null),Ge=Il(null,ke,null,Ee,null,null,k,Y,L,S,null);let tt,ct;Ka(Ge);try{const Tt=function vE(o,l,u,p,g,w){const S=u[1];u[22]=o;const L=Aa(S,22,2,"#host",null),Y=L.mergedAttrs=l.hostAttrs;null!==Y&&(jg(L,Y,!0),null!==o&&(Xl(g,o,Y),null!==L.classes&&_p(g,o,L.classes),null!==L.styles&&gp(g,o,L.styles)));const se=p.createRenderer(o,l),de=Il(u,Ju(l),null,l.onPush?32:16,u[22],L,p,se,w||null,null,null);return S.firstCreatePass&&(rl(ha(L,u),S,l.type),Bg(S,L),Hg(L,u.length,1)),av(u,de),u[22]=de}(de,this.componentDef,Ge,k,Y);if(de)if(p)Xl(Y,de,["ng-version",Sw.full]);else{const{attrs:Rt,classes:We}=function ND(o){const l=[],u=[];let p=1,g=2;for(;p<o.length;){let w=o[p];if("string"==typeof w)2===g?""!==w&&l.push(w,o[++p]):8===g&&u.push(w);else{if(!Rn(g))break;g=w}p++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Rt&&Xl(Y,de,Rt),We&&We.length>0&&_p(Y,de,We.join(" "))}if(ct=jl(ke,22),void 0!==u){const Rt=ct.projection=[];for(let We=0;We<this.ngContentSelectors.length;We++){const qt=u[We];Rt.push(null!=qt?Array.from(qt):null)}}tt=function uT(o,l,u,p){const g=u[1],w=function oE(o,l,u){const p=Xn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),lE(o,p,l,Xu(o,l,1,null),u),jp(o,p));const g=il(l,o,p.directiveStart,p);xt(g,l);const w=vi(p,l);return w&&xt(w,l),g}(g,u,l);if(o[8]=u[8]=w,null!==p)for(const k of p)k(w,l);if(l.contentQueries){const k=Xn();l.contentQueries(1,w,k.directiveStart)}const S=Xn();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Gs(S.index),sv(u[1],S,0,S.directiveStart,S.directiveEnd,l),ov(l,w)),w}(Tt,this.componentDef,Ge,[nd]),Lp(ke,Ge,null)}finally{ca()}return new cT(this.componentType,tt,xh(ct,Ge),Ge,ct)}}class cT extends class ID{}{constructor(l,u,p,g,w){super(),this.location=p,this._rootLView=g,this._tNode=w,this.instance=u,this.hostView=this.changeDetectorRef=new mE(g),this.componentType=l}setInput(l,u){const p=this._tNode.inputs;let g;if(null!==p&&(g=p[l])){const w=this._rootLView;pE(w[1],w,g,l,u),Gp(w,this._tNode.index)}}get injector(){return new xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function nd(){const o=Xn();Mo(qe()[1],o)}function Gg(o){let l=function bE(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const p=[o];for(;l;){let g;if(ts(o))g=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new z(903,!1);g=l.\u0275dir}if(g){if(u){p.push(g);const S=o;S.inputs=Kp(o.inputs),S.declaredInputs=Kp(o.declaredInputs),S.outputs=Kp(o.outputs);const k=g.hostBindings;k&&wE(o,k);const L=g.viewQuery,Y=g.contentQueries;if(L&&hT(o,L),Y&&fT(o,Y),O(o.inputs,g.inputs),O(o.declaredInputs,g.declaredInputs),O(o.outputs,g.outputs),ts(g)&&g.data.animation){const se=o.data;se.animation=(se.animation||[]).concat(g.data.animation)}}const w=g.features;if(w)for(let S=0;S<w.length;S++){const k=w[S];k&&k.ngInherit&&k(o),k===Gg&&(u=!1)}}l=Object.getPrototypeOf(l)}!function dT(o){let l=0,u=null;for(let p=o.length-1;p>=0;p--){const g=o[p];g.hostVars=l+=g.hostVars,g.hostAttrs=da(g.hostAttrs,u=da(u,g.hostAttrs))}}(p)}function Kp(o){return o===_r?{}:o===Lt?[]:o}function hT(o,l){const u=o.viewQuery;o.viewQuery=u?(p,g)=>{l(p,g),u(p,g)}:l}function fT(o,l){const u=o.contentQueries;o.contentQueries=u?(p,g,w)=>{l(p,g,w),u(p,g,w)}:l}function wE(o,l){const u=o.hostBindings;o.hostBindings=u?(p,g)=>{l(p,g),u(p,g)}:l}let $g=null;function Rc(){if(!$g){const o=An.Symbol;if(o&&o.iterator)$g=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const p=l[u];"entries"!==p&&"size"!==p&&Map.prototype[p]===Map.prototype.entries&&($g=p)}}}return $g}function Go(o){return!!hv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Rc()in o)}function hv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ka(o,l,u){return o[l]=u}function ei(o,l,u){return!Object.is(o[l],u)&&(o[l]=u,!0)}function fv(o,l,u,p){const g=qe();return ei(g,js(),l)&&(nn(),Ma(Un(),g,o,l,u,p)),fv}function Fh(o,l,u,p){return ei(o,js(),u)?l+V(u)+p:Xt}function qi(o,l,u,p,g,w,S,k){const L=qe(),Y=nn(),se=o+22,de=Y.firstCreatePass?function SE(o,l,u,p,g,w,S,k,L){const Y=l.consts,se=Aa(l,o,4,S||null,Ti(Y,k));iv(l,u,se,Ti(Y,L)),Mo(l,se);const de=se.tViews=sE(2,se,p,g,w,l.directiveRegistry,l.pipeRegistry,null,l.schemas,Y);return null!==l.queries&&(l.queries.template(l,se),de.queries=l.queries.embeddedTView(se)),se}(se,Y,L,l,u,p,g,w,S):Y.data[se];xi(de,!1);const Ee=L[11].createComment("");go(Y,L,Ee,de),xt(Ee,L),av(L,L[se]=kc(Ee,L,Ee,de)),Hs(de)&&Vg(Y,L,de),null!=S&&Oh(L,de,k)}function IE(o){return oa(function Jn(){return Bt.lFrame.contextLView}(),22+o)}function sd(o,l,u){const p=qe();return ei(p,js(),l)&&hs(nn(),Un(),p,o,l,p[11],u,!1),sd}function Mr(o,l,u,p,g){const S=g?"class":"style";pE(o,u,l.inputs[S],S,p)}function _v(o,l,u,p){const g=qe(),w=nn(),S=22+o,k=g[11],L=g[S]=ip(k,l,function Kl(){return Bt.lFrame.currentNamespace}()),Y=w.firstCreatePass?function Pr(o,l,u,p,g,w,S){const k=l.consts,Y=Aa(l,o,2,g,Ti(k,w));return iv(l,u,Y,Ti(k,S)),null!==Y.attrs&&jg(Y,Y.attrs,!1),null!==Y.mergedAttrs&&jg(Y,Y.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,Y),Y}(S,w,g,0,l,u,p):w.data[S];xi(Y,!0);const se=Y.mergedAttrs;null!==se&&Xl(k,L,se);const de=Y.classes;null!==de&&_p(k,L,de);const Ee=Y.styles;return null!==Ee&&gp(k,L,Ee),64!=(64&Y.flags)&&go(w,g,L,Y),0===function qa(){return Bt.lFrame.elementDepthCount}()&&xt(L,g),function qd(){Bt.lFrame.elementDepthCount++}(),Hs(Y)&&(Vg(w,g,Y),rv(w,Y,g)),null!==p&&Oh(g,Y),_v}function Wg(){let o=Xn();aa()?uu():(o=o.parent,xi(o,!1));const l=o;!function Wd(){Bt.lFrame.elementDepthCount--}();const u=nn();return u.firstCreatePass&&(Mo(u,o),co(o)&&u.queries.elementEnd(o)),null!=l.classesWithoutHost&&function eh(o){return 0!=(16&o.flags)}(l)&&Mr(u,l,qe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Lf(o){return 0!=(32&o.flags)}(l)&&Mr(u,l,qe(),l.stylesWithoutHost,!1),Wg}function yv(o,l,u,p){return _v(o,l,u,p),Wg(),yv}function Zg(o,l,u){const p=qe(),g=nn(),w=o+22,S=g.firstCreatePass?function wT(o,l,u,p,g){const w=l.consts,S=Ti(w,p),k=Aa(l,o,8,"ng-container",S);return null!==S&&jg(k,S,!0),iv(l,u,k,Ti(w,g)),null!==l.queries&&l.queries.elementStart(l,k),k}(w,g,p,l,u):g.data[w];xi(S,!0);const k=p[w]=p[11].createComment("");return go(g,p,k,S),xt(k,p),Hs(S)&&(Vg(g,p,S),rv(g,S,p)),null!=u&&Oh(p,S),Zg}function od(){let o=Xn();const l=nn();return aa()?uu():(o=o.parent,xi(o,!1)),l.firstCreatePass&&(Mo(l,o),co(o)&&l.queries.elementEnd(o)),od}function DE(){return qe()}function bv(o){return!!o&&"function"==typeof o.then}function TE(o){return!!o&&"function"==typeof o.subscribe}const wv=TE;function ad(o,l,u,p){const g=qe(),w=nn(),S=Xn();return AE(w,g,g[11],S,o,l,0,p),ad}function Ev(o,l){const u=Xn(),p=qe(),g=nn();return AE(g,p,cv(Wa(g.data),u,p),u,o,l),Ev}function AE(o,l,u,p,g,w,S,k){const L=Hs(p),se=o.firstCreatePass&&hE(o),de=l[8],Ee=td(l);let ke=!0;if(3&p.type||k){const ct=vi(p,l),Tt=k?k(ct):ct,Rt=Ee.length,We=k?Dn=>k(sr(Dn[p.index])):p.index;let qt=null;if(!k&&L&&(qt=function xE(o,l,u,p){const g=o.cleanup;if(null!=g)for(let w=0;w<g.length-1;w+=2){const S=g[w];if(S===u&&g[w+1]===p){const k=l[7],L=g[w+2];return k.length>L?k[L]:null}"string"==typeof S&&(w+=2)}return null}(o,l,g,p.index)),null!==qt)(qt.__ngLastListenerFn__||qt).__ngNextListenerFn__=w,qt.__ngLastListenerFn__=w,ke=!1;else{w=ET(p,l,de,w,!1);const Dn=u.listen(Tt,g,w);Ee.push(w,Dn),se&&se.push(g,We,Rt,Rt+1)}}else w=ET(p,l,de,w,!1);const Ge=p.outputs;let tt;if(ke&&null!==Ge&&(tt=Ge[g])){const ct=tt.length;if(ct)for(let Tt=0;Tt<ct;Tt+=2){const Zn=l[tt[Tt]][tt[Tt+1]].subscribe(w),yd=Ee.length;Ee.push(w,Zn),se&&se.push(g,p.index,yd,-(yd+1))}}}function Cv(o,l,u,p){try{return!1!==u(p)}catch(g){return fE(o,g),!1}}function ET(o,l,u,p,g){return function w(S){if(S===Function)return p;lv(2&o.flags?or(o.index,l):l);let L=Cv(l,0,p,S),Y=w.__ngNextListenerFn__;for(;Y;)L=Cv(l,0,Y,S)&&L,Y=Y.__ngNextListenerFn__;return g&&!1===L&&(S.preventDefault(),S.returnValue=!1),L}}function ME(o=1){return function Zl(o){return(Bt.lFrame.contextLView=function tg(o,l){for(;o>0;)l=l[15],o--;return l}(o,Bt.lFrame.contextLView))[8]}(o)}function Sv(o,l){let u=null;const p=function Ly(o){const l=o.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(o);for(let g=0;g<l.length;g++){const w=l[g];if("*"!==w){if(null===p?Ny(o,w,!0):FD(p,w))return g}else u=g}return u}function tm(o){const l=qe()[16][6];if(!l.projection){const p=l.projection=ga(o?o.length:1,null),g=p.slice();let w=l.child;for(;null!==w;){const S=o?Sv(w,o):0;null!==S&&(g[S]?g[S].projectionNext=w:p[S]=w,g[S]=w),w=w.next}}}function Iv(o,l=0,u){const p=qe(),g=nn(),w=Aa(g,22+o,16,null,u||null);null===w.projection&&(w.projection=l),uu(),64!=(64&w.flags)&&function Cy(o,l,u){fp(l[11],0,l,u,yl(o,u,l),hg(u.parent||l[6],u,l))}(g,p,w)}function Dv(o,l,u,p,g){const w=qe(),S=Fh(w,l,u,p);return S!==Xt&&hs(nn(),Un(),w,o,S,w[11],g,!1),Dv}function Tv(o,l,u,p,g){const w=o[u+1],S=null===l;let k=p?vo(w):xa(w),L=!1;for(;0!==k&&(!1===L||S);){const se=o[k+1];LE(o[k],l)&&(L=!0,o[k+1]=p?kg(se):Mg(se)),k=p?vo(se):xa(se)}L&&(o[u+1]=p?Mg(w):kg(w))}function LE(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&ll(o,l)>=0}function Uh(o,l,u){return $o(o,l,u,!1),Uh}function rm(o,l){return $o(o,l,null,!0),rm}function $o(o,l,u,p){const g=qe(),w=nn(),S=function Mi(o){const l=Bt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,u}(2);w.firstUpdatePass&&function TT(o,l,u,p){const g=o.data;if(null===g[u+1]){const w=g[_n()],S=function Lc(o,l){return l>=o.expandoStartIndex}(o,u);(function AT(o,l){return 0!=(o.flags&(l?16:32))})(w,p)&&null===l&&!S&&(l=!1),l=function im(o,l,u,p){const g=Wa(o);let w=p?l.residualClasses:l.residualStyles;if(null===g)0===(p?l.classBindings:l.styleBindings)&&(u=Qg(u=UE(null,o,l,u,p),l.attrs,p),w=null);else{const S=l.directiveStylingLast;if(-1===S||o[S]!==g)if(u=UE(g,o,l,u,p),null===w){let L=function dR(o,l,u){const p=u?l.classBindings:l.styleBindings;if(0!==xa(p))return o[vo(p)]}(o,l,p);void 0!==L&&Array.isArray(L)&&(L=UE(null,o,l,L[1],p),L=Qg(L,l.attrs,p),function hR(o,l,u,p){o[vo(u?l.classBindings:l.styleBindings)]=p}(o,l,p,L))}else w=function fR(o,l,u){let p;const g=l.directiveEnd;for(let w=1+l.directiveStylingLast;w<g;w++)p=Qg(p,o[w].hostAttrs,u);return Qg(p,l.attrs,u)}(o,l,p)}return void 0!==w&&(p?l.residualClasses=w:l.residualStyles=w),u}(g,w,l,p),function ST(o,l,u,p,g,w){let S=w?l.classBindings:l.styleBindings,k=vo(S),L=xa(S);o[p]=u;let se,Y=!1;if(Array.isArray(u)){const de=u;se=de[1],(null===se||ll(de,se)>0)&&(Y=!0)}else se=u;if(g)if(0!==L){const Ee=vo(o[k+1]);o[p+1]=Ln(Ee,k),0!==Ee&&(o[Ee+1]=Pg(o[Ee+1],p)),o[k+1]=function Ww(o,l){return 131071&o|l<<17}(o[k+1],p)}else o[p+1]=Ln(k,0),0!==k&&(o[k+1]=Pg(o[k+1],p)),k=p;else o[p+1]=Ln(L,0),0===k?k=p:o[L+1]=Pg(o[L+1],p),L=p;Y&&(o[p+1]=Mg(o[p+1])),Tv(o,se,p,!0),Tv(o,se,p,!1),function IT(o,l,u,p,g){const w=g?o.residualClasses:o.residualStyles;null!=w&&"string"==typeof l&&ll(w,l)>=0&&(u[p+1]=kg(u[p+1]))}(l,se,o,p,w),S=Ln(k,L),w?l.classBindings=S:l.styleBindings=S}(g,w,l,u,S,p)}}(w,o,S,p),l!==Xt&&ei(g,S,l)&&function xT(o,l,u,p,g,w,S,k){if(!(3&l.type))return;const L=o.data,Y=L[k+1];cd(function Zy(o){return 1==(1&o)}(Y)?jE(L,l,u,g,xa(Y),S):void 0)||(cd(w)||function Wy(o){return 2==(2&o)}(Y)&&(w=jE(L,null,u,g,k,S)),function mp(o,l,u,p,g){if(l)g?o.addClass(u,p):o.removeClass(u,p);else{let w=-1===p.indexOf("-")?void 0:ls.DashCase;null==g?o.removeStyle(u,p,w):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),w|=ls.Important),o.setStyle(u,p,g,w))}}(p,S,Ui(_n(),u),g,w))}(w,w.data[_n()],g,g[11],o,g[S+1]=function mR(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=j(br(o)))),o}(l,u),p,S)}function UE(o,l,u,p,g){let w=null;const S=u.directiveEnd;let k=u.directiveStylingLast;for(-1===k?k=u.directiveStart:k++;k<S&&(w=l[k],p=Qg(p,w.hostAttrs,g),w!==o);)k++;return null!==o&&(u.directiveStylingLast=k),p}function Qg(o,l,u){const p=u?1:2;let g=-1;if(null!==l)for(let w=0;w<l.length;w++){const S=l[w];"number"==typeof S?g=S:g===p&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Pi(o,S,!!u||l[++w]))}return void 0===o?null:o}function jE(o,l,u,p,g,w){const S=null===l;let k;for(;g>0;){const L=o[g],Y=Array.isArray(L),se=Y?L[1]:L,de=null===se;let Ee=u[g+1];Ee===Xt&&(Ee=de?Lt:void 0);let ke=de?cc(Ee,p):se===p?Ee:void 0;if(Y&&!cd(ke)&&(ke=cc(L,p)),cd(ke)&&(k=ke,S))return k;const Ge=o[g+1];g=S?vo(Ge):xa(Ge)}if(null!==l){let L=w?l.residualClasses:l.residualStyles;null!=L&&(k=cc(L,p))}return k}function cd(o){return void 0!==o}function MT(o,l=""){const u=qe(),p=nn(),g=o+22,w=p.firstCreatePass?Aa(p,g,1,l,null):p.data[g],S=u[g]=function Ou(o,l){return o.createText(l)}(u[11],l);go(p,u,S,w),xi(w,!1)}function GE(o){return Pv("",o,""),GE}function Pv(o,l,u){const p=qe(),g=Fh(p,o,l,u);return g!==Xt&&function Pa(o,l,u){const p=Ui(l,o);!function hh(o,l,u){o.setValue(l,u)}(o[11],p,u)}(p,_n(),g),Pv}function YE(o,l,u){const p=qe();return ei(p,js(),l)&&hs(nn(),Un(),p,o,l,p[11],u,!0),YE}function QE(o,l,u){const p=qe();if(ei(p,js(),l)){const w=nn(),S=Un();hs(w,S,p,o,l,cv(Wa(w.data),S,p),u,!0)}return QE}const ud=void 0;var CR=["en",[["a","p"],["AM","PM"],ud],[["AM","PM"],ud,ud],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ud,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ud,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ud,"{1} 'at' {0}",ud],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ER(o){const u=Math.floor(Math.abs(o)),p=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===p?1:5}];let dd={};function Vv(o){const l=function hd(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=Bv(l);if(u)return u;const p=l.split("-")[0];if(u=Bv(p),u)return u;if("en"===p)return CR;throw new z(701,!1)}function JE(o){return Vv(o)[$t.PluralCase]}function Bv(o){return o in dd||(dd[o]=An.ng&&An.ng.common&&An.ng.common.locales&&An.ng.common.locales[o]),dd[o]}var $t=(()=>(($t=$t||{})[$t.LocaleId=0]="LocaleId",$t[$t.DayPeriodsFormat=1]="DayPeriodsFormat",$t[$t.DayPeriodsStandalone=2]="DayPeriodsStandalone",$t[$t.DaysFormat=3]="DaysFormat",$t[$t.DaysStandalone=4]="DaysStandalone",$t[$t.MonthsFormat=5]="MonthsFormat",$t[$t.MonthsStandalone=6]="MonthsStandalone",$t[$t.Eras=7]="Eras",$t[$t.FirstDayOfWeek=8]="FirstDayOfWeek",$t[$t.WeekendRange=9]="WeekendRange",$t[$t.DateFormat=10]="DateFormat",$t[$t.TimeFormat=11]="TimeFormat",$t[$t.DateTimeFormat=12]="DateTimeFormat",$t[$t.NumberSymbols=13]="NumberSymbols",$t[$t.NumberFormats=14]="NumberFormats",$t[$t.CurrencyCode=15]="CurrencyCode",$t[$t.CurrencySymbol=16]="CurrencySymbol",$t[$t.CurrencyName=17]="CurrencyName",$t[$t.Currencies=18]="Currencies",$t[$t.Directionality=19]="Directionality",$t[$t.PluralCase=20]="PluralCase",$t[$t.ExtraData=21]="ExtraData",$t))();const fd="en-US";let nC=fd;function aC(o,l,u,p,g){if(o=U(o),Array.isArray(o))for(let w=0;w<o.length;w++)aC(o[w],l,u,p,g);else{const w=nn(),S=qe();let k=wl(o)?o:U(o.provide),L=Sp(o);const Y=Xn(),se=1048575&Y.providerIndexes,de=Y.directiveStart,Ee=Y.providerIndexes>>20;if(wl(o)||!o.multi){const ke=new Ja(L,g,Br),Ge=cC(k,l,g?se:se+Ee,de);-1===Ge?(rl(ha(Y,S),w,k),lC(w,o,l.length),l.push(k),Y.directiveStart++,Y.directiveEnd++,g&&(Y.providerIndexes+=1048576),u.push(ke),S.push(ke)):(u[Ge]=ke,S[Ge]=ke)}else{const ke=cC(k,l,se+Ee,de),Ge=cC(k,l,se,se+Ee),tt=ke>=0&&u[ke],ct=Ge>=0&&u[Ge];if(g&&!ct||!g&&!tt){rl(ha(Y,S),w,k);const Tt=function gO(o,l,u,p,g){const w=new Ja(o,u,Br);return w.multi=[],w.index=l,w.componentProviders=0,dx(w,g,p&&!u),w}(g?mO:pO,u.length,g,p,L);!g&&ct&&(u[Ge].providerFactory=Tt),lC(w,o,l.length,0),l.push(k),Y.directiveStart++,Y.directiveEnd++,g&&(Y.providerIndexes+=1048576),u.push(Tt),S.push(Tt)}else lC(w,o,ke>-1?ke:Ge,dx(u[g?Ge:ke],L,!g&&p));!g&&p&&ct&&u[Ge].componentProviders++}}}function lC(o,l,u,p){const g=wl(l),w=function mw(o){return!!o.useClass}(l);if(g||w){const L=(w?U(l.useClass):l).prototype.ngOnDestroy;if(L){const Y=o.destroyHooks||(o.destroyHooks=[]);if(!g&&l.multi){const se=Y.indexOf(u);-1===se?Y.push(u,[p,L]):Y[se+1].push(p,L)}else Y.push(u,L)}}}function dx(o,l,u){return u&&o.componentProviders++,o.multi.push(l)-1}function cC(o,l,u,p){for(let g=u;g<p;g++)if(l[g]===o)return g;return-1}function pO(o,l,u,p){return uC(this.multi,[])}function mO(o,l,u,p){const g=this.multi;let w;if(this.providerFactory){const S=this.providerFactory.componentProviders,k=il(u,u[1],this.providerFactory.index,p);w=k.slice(0,S),uC(g,w);for(let L=S;L<k.length;L++)w.push(k[L])}else w=[],uC(g,w);return w}function uC(o,l){for(let u=0;u<o.length;u++)l.push((0,o[u])());return l}function hx(o,l=[]){return u=>{u.providersResolver=(p,g)=>function fO(o,l,u){const p=nn();if(p.firstCreatePass){const g=ts(o);aC(u,p.data,p.blueprint,g,!0),aC(l,p.data,p.blueprint,g,!1)}}(p,g?g(o):o,l)}}class am{}class fx{}function _O(o,l){return new px(o,l??null)}class px extends am{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zp(this);const p=Zt(l);this._bootstrapComponents=El(p.bootstrap),this._r3Injector=Vw(l,u,[{provide:am,useValue:this},{provide:Dp,useValue:this.componentFactoryResolver}],j(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class dC extends fx{constructor(l){super(),this.moduleType=l}create(l){return new px(this.moduleType,l)}}class yO extends am{constructor(l,u,p){super(),this.componentFactoryResolver=new Zp(this),this.instance=null;const g=new Cp([...l,{provide:am,useValue:this},{provide:Dp,useValue:this.componentFactoryResolver}],u||Eg(),p,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function hC(o,l,u=null){return new yO(o,l,u).injector}let vO=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const p=hw(0,u.type),g=p.length>0?hC([p],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,g)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Qe({token:o,providedIn:"environment",factory:()=>new o(ar(Zu))}),o})();function mx(o){o.getStandaloneInjector=l=>l.get(vO).getOrCreateStandaloneInjector(o)}function Ex(o,l,u,p){return zv(qe(),ai(),o,l,u,p)}function Cx(o,l,u,p,g){return function _C(o,l,u,p,g,w,S){const k=l+u;return function Oc(o,l,u,p){const g=ei(o,l,u);return ei(o,l+1,p)||g}(o,k,g,w)?ka(o,k+2,S?p.call(S,g,w):p(g,w)):Gh(o,k+2)}(qe(),ai(),o,l,u,p,g)}function Gh(o,l){const u=o[l];return u===Xt?void 0:u}function zv(o,l,u,p,g,w){const S=l+u;return ei(o,S,g)?ka(o,S+1,w?p.call(w,g):p(g)):Gh(o,S+1)}function vC(o,l){const u=nn();let p;const g=o+22;u.firstCreatePass?(p=function Dx(o,l){if(l)for(let u=l.length-1;u>=0;u--){const p=l[u];if(o===p.name)return p}}(l,u.pipeRegistry),u.data[g]=p,p.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(g,p.onDestroy)):p=u.data[g];const w=p.factory||(p.factory=Us(p.type)),S=Gn(Br);try{const k=qs(!1),L=w();return qs(k),function Nc(o,l,u,p){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),l[u]=p}(u,qe(),g,L),L}finally{Gn(S)}}function Tx(o,l,u){const p=o+22,g=qe(),w=oa(g,p);return function pd(o,l){return o[1].data[l].pure}(g,p)?zv(g,ai(),l,w.transform,u,w):w.transform(u)}function CC(o){return l=>{setTimeout(o,void 0,l)}}const Dl=class EC extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,p){let g=l,w=u||(()=>null),S=p;if(l&&"object"==typeof l){const L=l;g=L.next?.bind(L),w=L.error?.bind(L),S=L.complete?.bind(L)}this.__isAsync&&(w=CC(w),g&&(g=CC(g)),S&&(S=CC(S)));const k=super.subscribe({next:g,error:w,complete:S});return l instanceof v.w0&&l.add(k),k}};function PO(){return this._results[Rc()]()}class SC{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Rc(),p=SC.prototype;p[u]||(p[u]=PO)}get changes(){return this._changes||(this._changes=new Dl)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const p=this;p.dirty=!1;const g=dr(l);(this._changesDetected=!function Wf(o,l,u){if(o.length!==l.length)return!1;for(let p=0;p<o.length;p++){let g=o[p],w=l[p];if(u&&(g=u(g),w=u(w)),w!==g)return!1}return!0}(p._results,g,u))&&(p._results=g,p.length=g.length,p.last=g[this.length-1],p.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let $h=(()=>{class o{}return o.__NG_ELEMENT_ID__=Px,o})();const Ax=$h,Mx=class extends Ax{constructor(l,u,p){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=p}createEmbeddedView(l,u){const p=this._declarationTContainer.tViews,g=Il(this._declarationLView,p,l,16,null,p.declTNode,null,null,null,null,u||null);g[17]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[19];return null!==S&&(g[19]=S.createEmbeddedView(p)),Lp(p,g,l),new Wp(g)}};function Px(){return d_(Xn(),qe())}function d_(o,l){return 4&o.type?new Mx(l,o,xh(o,l)):null}let h_=(()=>{class o{}return o.__NG_ELEMENT_ID__=kx,o})();function kx(){return IC(Xn(),qe())}const Rx=h_,qv=class extends Rx{constructor(l,u,p){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=p}get element(){return xh(this._hostTNode,this._hostLView)}get injector(){return new xs(this._hostTNode,this._hostLView)}get parentInjector(){const l=Ro(this._hostTNode,this._hostLView);if(bu(l)){const u=Is(l,this._hostLView),p=el(l);return new xs(u[1].data[p+8],u)}return new xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=Wv(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,p){let g,w;"number"==typeof p?g=p:null!=p&&(g=p.index,w=p.injector);const S=l.createEmbeddedView(u||{},w);return this.insert(S,g),S}createComponent(l,u,p,g,w){const S=l&&!function ji(o){return"function"==typeof o}(l);let k;if(S)k=u;else{const de=u||{};k=de.index,p=de.injector,g=de.projectableNodes,w=de.environmentInjector||de.ngModuleRef}const L=S?l:new to(Be(l)),Y=p||this.parentInjector;if(!w&&null==L.ngModule){const Ee=(S?Y:this.parentInjector).get(Zu,null);Ee&&(w=Ee)}const se=L.create(Y,g,void 0,w);return this.insert(se.hostView,k),se}insert(l,u){const p=l._lView,g=p[1];if(function lu(o){return _i(o[3])}(p)){const se=this.indexOf(l);if(-1!==se)this.detach(se);else{const de=p[3],Ee=new qv(de,de[6],de[3]);Ee.detach(Ee.indexOf(l))}}const w=this._adjustIndex(u),S=this._lContainer;!function sp(o,l,u,p){const g=10+p,w=u.length;p>0&&(u[g-1][4]=l),p<w-10?(l[4]=u[g],Iu(u,10+p,l)):(u.push(l),l[4]=null),l[3]=u;const S=l[17];null!==S&&u!==S&&function Ey(o,l){const u=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===u?o[9]=[l]:u.push(l)}(S,l);const k=l[19];null!==k&&k.insertView(o),l[2]|=64}(g,p,S,w);const k=yh(w,S),L=p[11],Y=mh(L,S[7]);return null!==Y&&function Fu(o,l,u,p,g,w){p[0]=g,p[6]=l,Lu(o,p,u,1,g,w)}(g,S[6],L,p,Y,k),l.attachToViewContainerRef(),Iu(Zv(S),w,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=Wv(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),p=gl(this._lContainer,u);p&&(Du(Zv(this._lContainer),u),_l(p[1],p))}detach(l){const u=this._adjustIndex(l,-1),p=gl(this._lContainer,u);return p&&null!=Du(Zv(this._lContainer),u)?new Wp(p):null}_adjustIndex(l,u=0){return l??this.length+u}};function Wv(o){return o[8]}function Zv(o){return o[8]||(o[8]=[])}function IC(o,l){let u;const p=l[o.index];if(_i(p))u=p;else{let g;if(8&o.type)g=sr(p);else{const w=l[11];g=w.createComment("");const S=vi(o,l);zo(w,mh(w,S),g,function lp(o,l){return o.nextSibling(l)}(w,S),!1)}l[o.index]=u=kc(p,l,g,o),av(l,u)}return new qv(u,o,l)}class DC{constructor(l){this.queryList=l,this.matches=null}clone(){return new DC(this.queryList)}setDirty(){this.queryList.setDirty()}}class TC{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const p=null!==l.contentQueries?l.contentQueries[0]:u.length,g=[];for(let w=0;w<p;w++){const S=u.getByIndex(w);g.push(this.queries[S.indexInDeclarationView].clone())}return new TC(g)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==lm(l,u).matches&&this.queries[u].setDirty()}}class Nx{constructor(l,u,p=null){this.predicate=l,this.flags=u,this.read=p}}class xC{constructor(l=[]){this.queries=l}elementStart(l,u){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let p=0;p<this.length;p++){const g=null!==u?u.length:0,w=this.getByIndex(p).embeddedTView(l,g);w&&(w.indexInDeclarationView=p,null!==u?u.push(w):u=[w])}return null!==u?new xC(u):null}template(l,u){for(let p=0;p<this.queries.length;p++)this.queries[p].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class AC{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new AC(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let p=l.parent;for(;null!==p&&8&p.type&&p.index!==u;)p=p.parent;return u===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const p=this.metadata.predicate;if(Array.isArray(p))for(let g=0;g<p.length;g++){const w=p[g];this.matchTNodeWithReadOption(l,u,RO(u,w)),this.matchTNodeWithReadOption(l,u,Ts(u,l,w,!1,!1))}else p===$h?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Ts(u,l,p,!1,!1))}matchTNodeWithReadOption(l,u,p){if(null!==p){const g=this.metadata.read;if(null!==g)if(g===Tp||g===h_||g===$h&&4&u.type)this.addMatch(u.index,-2);else{const w=Ts(u,l,g,!1,!1);null!==w&&this.addMatch(u.index,w)}else this.addMatch(u.index,p)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function RO(o,l){const u=o.localNames;if(null!==u)for(let p=0;p<u.length;p+=2)if(u[p]===l)return u[p+1];return null}function Yv(o,l,u,p){return-1===u?function Kv(o,l){return 11&o.type?xh(o,l):4&o.type?d_(o,l):null}(l,o):-2===u?function Lx(o,l,u){return u===Tp?xh(l,o):u===$h?d_(l,o):u===h_?IC(l,o):void 0}(o,l,p):il(o,o[1],u,l)}function MC(o,l,u,p){const g=l[19].queries[p];if(null===g.matches){const w=o.data,S=u.matches,k=[];for(let L=0;L<S.length;L+=2){const Y=S[L];k.push(Y<0?null:Yv(l,w[Y],S[L+1],u.metadata.read))}g.matches=k}return g.matches}function f_(o,l,u,p){const g=o.queries.getByIndex(u),w=g.matches;if(null!==w){const S=MC(o,l,g,u);for(let k=0;k<w.length;k+=2){const L=w[k];if(L>0)p.push(S[k/2]);else{const Y=w[k+1],se=l[-L];for(let de=10;de<se.length;de++){const Ee=se[de];Ee[17]===Ee[3]&&f_(Ee[1],Ee,Y,p)}if(null!==se[9]){const de=se[9];for(let Ee=0;Ee<de.length;Ee++){const ke=de[Ee];f_(ke[1],ke,Y,p)}}}}}return p}function md(o){const l=qe(),u=nn(),p=Wl();li(p+1);const g=lm(u,p);if(o.dirty&&function Jm(o){return 4==(4&o[2])}(l)===(2==(2&g.metadata.flags))){if(null===g.matches)o.reset([]);else{const w=g.crossesNgTemplate?f_(u,l,p,[]):MC(u,l,g,p);o.reset(w,bw),o.notifyOnChanges()}return!0}return!1}function PC(o,l,u){const p=nn();p.firstCreatePass&&(Bx(p,new Nx(o,l,u),-1),2==(2&l)&&(p.staticViewQueries=!0)),Qv(p,qe(),l)}function kC(o,l,u,p){const g=nn();if(g.firstCreatePass){const w=Xn();Bx(g,new Nx(l,u,p),w.index),function Hx(o,l){const u=o.contentQueries||(o.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,l)}(g,o),2==(2&u)&&(g.staticContentQueries=!0)}Qv(g,qe(),u)}function RC(){return function Vx(o,l){return o[19].queries[l].queryList}(qe(),Wl())}function Qv(o,l,u){const p=new SC(4==(4&u));Hp(o,l,p,p.destroy),null===l[19]&&(l[19]=new TC),l[19].queries.push(new DC(p))}function Bx(o,l,u){null===o.queries&&(o.queries=new xC),o.queries.track(new AC(l,u))}function lm(o,l){return o.queries.getByIndex(l)}function p_(o,l){return d_(o,l)}function l0(...o){}const nA=new In("Application Initializer");let c0=(()=>{class o{constructor(u){this.appInits=u,this.resolve=l0,this.reject=l0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,g)=>{this.resolve=p,this.reject=g})}runInitializers(){if(this.initialized)return;const u=[],p=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const w=this.appInits[g]();if(bv(w))u.push(w);else if(wv(w)){const S=new Promise((k,L)=>{w.subscribe({complete:k,error:L})});u.push(S)}}Promise.all(u).then(()=>{p()}).catch(g=>{this.reject(g)}),0===u.length&&p(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(ar(nA,8))},o.\u0275prov=Qe({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const rA=new In("AppId",{providedIn:"root",factory:function iA(){return`${HC()}${HC()}${HC()}`}});function HC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sA=new In("Platform Initializer"),UC=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),u0=new In("appBootstrapListener"),Tl=new In("AnimationModuleType");let Vc=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Qe({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const dm=new In("LocaleId",{providedIn:"root",factory:()=>Et(dm,ft.Optional|ft.SkipSelf)||function Fs(){return typeof $localize<"u"&&$localize.locale||fd}()}),zC=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class fs{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let XO=(()=>{class o{compileModuleSync(u){return new dC(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const p=this.compileModuleSync(u),w=El(Zt(u).declarations).reduce((S,k)=>{const L=Be(k);return L&&S.push(new to(L)),S},[]);return new fs(p,w)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Qe({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const p0=(()=>Promise.resolve(0))();function m0(o){typeof Zone>"u"?p0.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class wo{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dl(!1),this.onMicrotaskEmpty=new Dl(!1),this.onStable=new Dl(!1),this.onError=new Dl(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const g=this;if(g._nesting=0,g._outer=g._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const w=Zone.AsyncStackTaggingZoneSpec;g._inner=g._inner.fork(new w("Angular"))}Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!p&&u,g.shouldCoalesceRunChangeDetection=p,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function g0(){let o=An.requestAnimationFrame,l=An.cancelAnimationFrame;if(typeof Zone<"u"&&o&&l){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const p=l[Zone.__symbol__("OriginalDelegate")];p&&(l=p)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function lA(o){const l=()=>{!function aA(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(An,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,xl(o),o.isCheckStableRunning=!0,_0(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),xl(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,p,g,w,S,k)=>{try{return y0(o),u.invokeTask(g,w,S,k)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||o.shouldCoalesceRunChangeDetection)&&l(),hm(o)}},onInvoke:(u,p,g,w,S,k,L)=>{try{return y0(o),u.invoke(g,w,S,k,L)}finally{o.shouldCoalesceRunChangeDetection&&l(),hm(o)}},onHasTask:(u,p,g,w)=>{u.hasTask(g,w),p===g&&("microTask"==w.change?(o._hasPendingMicrotasks=w.microTask,xl(o),_0(o)):"macroTask"==w.change&&(o.hasPendingMacrotasks=w.macroTask))},onHandleError:(u,p,g,w)=>(u.handleError(g,w),o.runOutsideAngular(()=>o.onError.emit(w)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wo.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(wo.isInAngularZone())throw new z(909,!1)}run(l,u,p){return this._inner.run(l,u,p)}runTask(l,u,p,g){const w=this._inner,S=w.scheduleEventTask("NgZoneEvent: "+g,l,JO,l0,l0);try{return w.runTask(S,u,p)}finally{w.cancelTask(S)}}runGuarded(l,u,p){return this._inner.runGuarded(l,u,p)}runOutsideAngular(l){return this._outer.run(l)}}const JO={};function _0(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function xl(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function y0(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function hm(o){o._nesting--,_0(o)}class cA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dl,this.onMicrotaskEmpty=new Dl,this.onStable=new Dl,this.onError=new Dl}run(l,u,p){return l.apply(u,p)}runGuarded(l,u,p){return l.apply(u,p)}runOutsideAngular(l){return l()}runTask(l,u,p,g){return l.apply(u,p)}}const v0=new In(""),uA=new In("");let Al,dA=(()=>{class o{constructor(u,p,g){this._ngZone=u,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Al||(function hA(o){Al=o}(g),g.addToWindow(p)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wo.assertNotInAngularZone(),m0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())m0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(u)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,p,g){let w=-1;p&&p>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==w),u(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:u,timeoutId:w,updateCb:g})}whenStable(u,p,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,p,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,p,g){return[]}}return o.\u0275fac=function(u){return new(u||o)(ar(wo),ar(jC),ar(uA))},o.\u0275prov=Qe({token:o,factory:o.\u0275fac}),o})(),jC=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,p){this._applications.set(u,p)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,p=!0){return Al?.findTestabilityInTree(this,u,p)??null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Qe({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Bc=null;const GC=new In("AllowMultipleToken"),$C=new In("PlatformDestroyListeners");class w0{constructor(l,u){this.name=l,this.token=u}}function pA(o,l,u=[]){const p=`Platform: ${l}`,g=new In(p);return(w=[])=>{let S=La();if(!S||S.injector.get(GC,!1)){const k=[...u,...w,{provide:g,useValue:!0}];o?o(k):function He(o){if(Bc&&!Bc.get(GC,!1))throw new z(400,!1);Bc=o;const l=o.get(Cn);(function y_(o){const l=o.get(sA,null);l&&l.forEach(u=>u())})(o)}(function Hc(o=[],l){return Ac.create({name:l,providers:[{provide:Ep,useValue:"platform"},{provide:$C,useValue:new Set([()=>Bc=null])},...o]})}(k,p))}return function mA(o){const l=La();if(!l)throw new z(401,!1);return l}()}}function La(){return Bc?.get(Cn)??null}let Cn=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,p){const g=function Eo(o,l){let u;return u="noop"===o?new cA:("zone.js"===o?void 0:o)||new wo(l),u}(p?.ngZone,function qC(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(p)),w=[{provide:wo,useValue:g}];return g.run(()=>{const S=Ac.create({providers:w,parent:this.injector,name:u.moduleType.name}),k=u.create(S),L=k.injector.get(xp,null);if(!L)throw new z(402,!1);return g.runOutsideAngular(()=>{const Y=g.onError.subscribe({next:se=>{L.handleError(se)}});k.onDestroy(()=>{_d(this._modules,k),Y.unsubscribe()})}),function yt(o,l,u){try{const p=u();return bv(p)?p.catch(g=>{throw l.runOutsideAngular(()=>o.handleError(g)),g}):p}catch(p){throw l.runOutsideAngular(()=>o.handleError(p)),p}}(L,g,()=>{const Y=k.injector.get(c0);return Y.runInitializers(),Y.donePromise.then(()=>(function zT(o){Ne(o,"Expected localeId to be defined"),"string"==typeof o&&(nC=o.toLowerCase().replace(/_/g,"-"))}(k.injector.get(dm,fd)||fd),this._moduleDoBootstrap(k),k))})})}bootstrapModule(u,p=[]){const g=v_({},p);return function b0(o,l,u){const p=new dC(u);return Promise.resolve(p)}(0,0,u).then(w=>this.bootstrapModuleFactory(w,g))}_moduleDoBootstrap(u){const p=u.injector.get(Yt);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(g=>p.bootstrap(g));else{if(!u.instance.ngDoBootstrap)throw new z(403,!1);u.instance.ngDoBootstrap(p)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const u=this._injector.get($C,null);u&&(u.forEach(p=>p()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(ar(Ac))},o.\u0275prov=Qe({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function v_(o,l){return Array.isArray(l)?l.reduce(v_,o):{...o,...l}}let Yt=(()=>{class o{constructor(u,p,g){this._zone=u,this._injector=p,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new y.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),S=new y.y(k=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{wo.assertNotInAngularZone(),m0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{wo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{L.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,D.T)(w,S.pipe((0,M.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,p){const g=u instanceof yw;if(!this._injector.get(c0).done)throw!g&&Vt(u),new z(405,false);let S;S=g?u:this._injector.get(Dp).resolveComponentFactory(u),this.componentTypes.push(S.componentType);const k=function fA(o){return o.isBoundToModule}(S)?void 0:this._injector.get(am),Y=S.create(Ac.NULL,[],p||S.selector,k),se=Y.location.nativeElement,de=Y.injector.get(v0,null);return de?.registerApplication(se),Y.onDestroy(()=>{this.detachView(Y.hostView),_d(this.components,Y),de?.unregisterApplication(se)}),this._loadComponent(Y),Y}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const p=u;this._views.push(p),p.attachToAppRef(this)}detachView(u){const p=u;_d(this._views,p),p.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(u0,[]).concat(this._bootstrapListeners).forEach(g=>g(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>_d(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new z(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(ar(wo),ar(Zu),ar(xp))},o.\u0275prov=Qe({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function _d(o,l){const u=o.indexOf(l);u>-1&&o.splice(u,1)}let WC=!0,b_=!1;function gA(){return b_=!0,WC}function _A(){if(b_)throw new Error("Cannot enable prod mode after platform setup.");WC=!1}let Ei=(()=>{class o{}return o.__NG_ELEMENT_ID__=Uc,o})();function Uc(o){return function yA(o,l,u){if(ia(o)&&!u){const p=or(o.index,l);return new Wp(p,p)}return 47&o.type?new Wp(l[16],l):null}(Xn(),qe(),16==(16&o))}class I_{constructor(){}supports(l){return Go(l)}create(l){return new CA(l)}}const EA=(o,l)=>l;class CA{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||EA}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,p=this._removalsHead,g=0,w=null;for(;u||p;){const S=!p||u&&u.currentIndex<Wh(p,g,w)?u:p,k=Wh(S,g,w),L=S.currentIndex;if(S===p)g--,p=p._nextRemoved;else if(u=u._next,null==S.previousIndex)g++;else{w||(w=[]);const Y=k-g,se=L-g;if(Y!=se){for(let Ee=0;Ee<Y;Ee++){const ke=Ee<w.length?w[Ee]:w[Ee]=0,Ge=ke+Ee;se<=Ge&&Ge<Y&&(w[Ee]=ke+1)}w[S.previousIndex]=se-Y}}k!==L&&l(S,k,L)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Go(l))throw new z(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let g,w,S,u=this._itHead,p=!1;if(Array.isArray(l)){this.length=l.length;for(let k=0;k<this.length;k++)w=l[k],S=this._trackByFn(k,w),null!==u&&Object.is(u.trackById,S)?(p&&(u=this._verifyReinsertion(u,w,S,k)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,S,k),p=!0),u=u._next}else g=0,function EE(o,l){if(Array.isArray(o))for(let u=0;u<o.length;u++)l(o[u]);else{const u=o[Rc()]();let p;for(;!(p=u.next()).done;)l(p.value)}}(l,k=>{S=this._trackByFn(g,k),null!==u&&Object.is(u.trackById,S)?(p&&(u=this._verifyReinsertion(u,k,S,g)),Object.is(u.item,k)||this._addIdentityChange(u,k)):(u=this._mismatch(u,k,S,g),p=!0),u=u._next,g++}),this.length=g;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,p,g){let w;return null===l?w=this._itTail:(w=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,w,g)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(p,g))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,w,g)):l=this._addAfter(new T0(u,p),w,g),l}_verifyReinsertion(l,u,p,g){let w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==w?l=this._reinsertAfter(w,l._prev,g):l.currentIndex!=g&&(l.currentIndex=g,this._addToMoves(l,g)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const g=l._prevRemoved,w=l._nextRemoved;return null===g?this._removalsHead=w:g._nextRemoved=w,null===w?this._removalsTail=g:w._prevRemoved=g,this._insertAfter(l,u,p),this._addToMoves(l,p),l}_moveAfter(l,u,p){return this._unlink(l),this._insertAfter(l,u,p),this._addToMoves(l,p),l}_addAfter(l,u,p){return this._insertAfter(l,u,p),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,p){const g=null===u?this._itHead:u._next;return l._next=g,l._prev=u,null===g?this._itTail=l:g._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new JC),this._linkedRecords.put(l),l.currentIndex=p,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,p=l._next;return null===u?this._itHead=p:u._next=p,null===p?this._itTail=u:p._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new JC),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class T0{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XC{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===u||u<=p.currentIndex)&&Object.is(p.trackById,l))return p;return null}remove(l){const u=l._prevDup,p=l._nextDup;return null===u?this._head=p:u._nextDup=p,null===p?this._tail=u:p._prevDup=u,null===this._head}}class JC{constructor(){this.map=new Map}put(l){const u=l.trackById;let p=this.map.get(u);p||(p=new XC,this.map.set(u,p)),p.add(l)}get(l,u){const g=this.map.get(l);return g?g.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wh(o,l,u){const p=o.previousIndex;if(null===p)return p;let g=0;return u&&p<u.length&&(g=u[p]),p+l+g}class eS{constructor(){}supports(l){return l instanceof Map||hv(l)}create(){return new ym}}class ym{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||hv(l)))throw new z(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(p,g)=>{if(u&&u.key===g)this._maybeAddToChanges(u,p),this._appendAfter=u,u=u._next;else{const w=this._getOrCreateRecordForKey(g,p);u=this._insertBeforeOrAppend(u,w)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let p=u;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const p=l._prev;return u._next=l,u._prev=p,l._prev=u,p&&(p._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const g=this._records.get(l);this._maybeAddToChanges(g,u);const w=g._prev,S=g._next;return w&&(w._next=S),S&&(S._prev=w),g._next=null,g._prev=null,g}const p=new SA(l);return this._records.set(l,p),p.currentValue=u,this._addToAdditions(p),p}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(p=>u(l[p],p))}}class SA{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tS(){return new Zh([new I_])}let Zh=(()=>{class o{constructor(u){this.factories=u}static create(u,p){if(null!=p){const g=p.factories.slice();u=u.concat(g)}return new o(u)}static extend(u){return{provide:o,useFactory:p=>o.create(u,p||tS()),deps:[[o,new Ho,new Ks]]}}find(u){const p=this.factories.find(g=>g.supports(u));if(null!=p)return p;throw new z(901,!1)}}return o.\u0275prov=Qe({token:o,providedIn:"root",factory:tS}),o})();function x0(){return new D_([new eS])}let D_=(()=>{class o{constructor(u){this.factories=u}static create(u,p){if(p){const g=p.factories.slice();u=u.concat(g)}return new o(u)}static extend(u){return{provide:o,useFactory:p=>o.create(u,p||x0()),deps:[[o,new Ho,new Ks]]}}find(u){const p=this.factories.find(g=>g.supports(u));if(p)return p;throw new z(901,!1)}}return o.\u0275prov=Qe({token:o,providedIn:"root",factory:x0}),o})();const A0=pA(null,"core",[]);let M0=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(ar(Yt))},o.\u0275mod=Ii({type:o}),o.\u0275inj=jt({}),o})();function oS(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(c,h,f)=>{"use strict";f.d(h,{Z:()=>z});var s=f(2090),v=f(4859),y=f(6881),D=f(1877);class M{constructor(V,B){this._delegate=V,this.firebase=B,(0,y._addComponent)(V,new v.wA("app-compat",()=>this,"PUBLIC")),this.container=V.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(V){this._delegate.automaticDataCollectionEnabled=V}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(V=>{this._delegate.checkDestroyed(),V()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,y.deleteApp)(this._delegate)))}_getService(V,B=y._DEFAULT_ENTRY_NAME){var ee;this._delegate.checkDestroyed();const te=this._delegate.container.getProvider(V);return!te.isInitialized()&&"EXPLICIT"===(null===(ee=te.getComponent())||void 0===ee?void 0:ee.instantiationMode)&&te.initialize(),te.getImmediate({identifier:B})}_removeServiceInstance(V,B=y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(V).clearInstance(B)}_addComponent(V){(0,y._addComponent)(this._delegate,V)}_addOrOverwriteComponent(V){(0,y._addOrOverwriteComponent)(this._delegate,V)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const O=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),R=function Q(){const G=function j(G){const V={},B={__esModule:!0,initializeApp:function re(xe,Ie={}){const _e=y.initializeApp(xe,Ie);if((0,s.r3)(V,_e.name))return V[_e.name];const $e=new G(_e,B);return V[_e.name]=$e,$e},app:te,registerVersion:y.registerVersion,setLogLevel:y.setLogLevel,onLog:y.onLog,apps:null,SDK_VERSION:y.SDK_VERSION,INTERNAL:{registerComponent:function he(xe){const Ie=xe.name,_e=Ie.replace("-compat","");if(y._registerComponent(xe)&&"PUBLIC"===xe.type){const $e=(Te=te())=>{if("function"!=typeof Te[_e])throw O.create("invalid-app-argument",{appName:Ie});return Te[_e]()};void 0!==xe.serviceProps&&(0,s.ZB)($e,xe.serviceProps),B[_e]=$e,G.prototype[_e]=function(...Te){return this._getService.bind(this,Ie).apply(this,xe.multipleInstances?Te:[])}}return"PUBLIC"===xe.type?B[_e]:null},removeApp:function ee(xe){delete V[xe]},useAsService:function Re(xe,Ie){return"serverAuth"===Ie?null:Ie},modularAPIs:y}};function te(xe){if(!(0,s.r3)(V,xe=xe||y._DEFAULT_ENTRY_NAME))throw O.create("no-app",{appName:xe});return V[xe]}return B.default=B,Object.defineProperty(B,"apps",{get:function ae(){return Object.keys(V).map(xe=>V[xe])}}),te.App=G,B}(M);return G.INTERNAL=Object.assign(Object.assign({},G.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function V(B){(0,s.ZB)(G,B)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),G}(),H=new D.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const G=self.firebase.SDK_VERSION;G&&G.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const z=R;!function ne(G){(0,y.registerVersion)("@firebase/app-compat","0.2.9",G)}()},6881:(c,h,f)=>{"use strict";f.r(h),f.d(h,{FirebaseError:()=>D.ZR,SDK_VERSION:()=>na,_DEFAULT_ENTRY_NAME:()=>rr,_addComponent:()=>pt,_addOrOverwriteComponent:()=>kt,_apps:()=>dn,_clearComponents:()=>_r,_components:()=>an,_getProvider:()=>Es,_registerComponent:()=>An,_removeServiceInstance:()=>Si,deleteApp:()=>Ji,getApp:()=>Tr,getApps:()=>$r,initializeApp:()=>hn,onLog:()=>Cs,registerVersion:()=>qr,setLogLevel:()=>ir});var s=f(5861),v=f(4859),y=f(1877),D=f(2090);let P,O;const R=new WeakMap,H=new WeakMap,U=new WeakMap,q=new WeakMap,ne=new WeakMap;let V={get(Fe,Oe,Ye){if(Fe instanceof IDBTransaction){if("done"===Oe)return H.get(Fe);if("objectStoreNames"===Oe)return Fe.objectStoreNames||U.get(Fe);if("store"===Oe)return Ye.objectStoreNames[1]?void 0:Ye.objectStore(Ye.objectStoreNames[0])}return re(Fe[Oe])},set:(Fe,Oe,Ye)=>(Fe[Oe]=Ye,!0),has:(Fe,Oe)=>Fe instanceof IDBTransaction&&("done"===Oe||"store"===Oe)||Oe in Fe};function te(Fe){return"function"==typeof Fe?function ee(Fe){return Fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return O||(O=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Fe)?function(...Oe){return Fe.apply(ae(this),Oe),re(R.get(this))}:function(...Oe){return re(Fe.apply(ae(this),Oe))}:function(Oe,...Ye){const Xe=Fe.call(ae(this),Oe,...Ye);return U.set(Xe,Oe.sort?Oe.sort():[Oe]),re(Xe)}}(Fe):(Fe instanceof IDBTransaction&&function G(Fe){if(H.has(Fe))return;const Oe=new Promise((Ye,Xe)=>{const Ft=()=>{Fe.removeEventListener("complete",Kt),Fe.removeEventListener("error",fn),Fe.removeEventListener("abort",fn)},Kt=()=>{Ye(),Ft()},fn=()=>{Xe(Fe.error||new DOMException("AbortError","AbortError")),Ft()};Fe.addEventListener("complete",Kt),Fe.addEventListener("error",fn),Fe.addEventListener("abort",fn)});H.set(Fe,Oe)}(Fe),((Fe,Oe)=>Oe.some(Ye=>Fe instanceof Ye))(Fe,function j(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Fe,V):Fe)}function re(Fe){if(Fe instanceof IDBRequest)return function z(Fe){const Oe=new Promise((Ye,Xe)=>{const Ft=()=>{Fe.removeEventListener("success",Kt),Fe.removeEventListener("error",fn)},Kt=()=>{Ye(re(Fe.result)),Ft()},fn=()=>{Xe(Fe.error),Ft()};Fe.addEventListener("success",Kt),Fe.addEventListener("error",fn)});return Oe.then(Ye=>{Ye instanceof IDBCursor&&R.set(Ye,Fe)}).catch(()=>{}),ne.set(Oe,Fe),Oe}(Fe);if(q.has(Fe))return q.get(Fe);const Oe=te(Fe);return Oe!==Fe&&(q.set(Fe,Oe),ne.set(Oe,Fe)),Oe}const ae=Fe=>ne.get(Fe),xe=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],_e=new Map;function $e(Fe,Oe){if(!(Fe instanceof IDBDatabase)||Oe in Fe||"string"!=typeof Oe)return;if(_e.get(Oe))return _e.get(Oe);const Ye=Oe.replace(/FromIndex$/,""),Xe=Oe!==Ye,Ft=Ie.includes(Ye);if(!(Ye in(Xe?IDBIndex:IDBObjectStore).prototype)||!Ft&&!xe.includes(Ye))return;const Kt=function(){var fn=(0,s.Z)(function*($n,...ln){const Zr=this.transaction($n,Ft?"readwrite":"readonly");let Bi=Zr.store;return Xe&&(Bi=Bi.index(ln.shift())),(yield Promise.all([Bi[Ye](...ln),Ft&&Zr.done]))[0]});return function(ln){return fn.apply(this,arguments)}}();return _e.set(Oe,Kt),Kt}!function B(Fe){V=Fe(V)}(Fe=>({...Fe,get:(Oe,Ye,Xe)=>$e(Oe,Ye)||Fe.get(Oe,Ye,Xe),has:(Oe,Ye)=>!!$e(Oe,Ye)||Fe.has(Oe,Ye)}));class Te{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(Ye=>{if(function fe(Fe){return"VERSION"===Fe.getComponent()?.type}(Ye)){const Xe=Ye.getImmediate();return`${Xe.library}/${Xe.version}`}return null}).filter(Ye=>Ye).join(" ")}}const le="@firebase/app",X="0.9.9",oe=new y.Yd("@firebase/app"),rr="[DEFAULT]",pn={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dn=new Map,an=new Map;function pt(Fe,Oe){try{Fe.container.addComponent(Oe)}catch(Ye){oe.debug(`Component ${Oe.name} failed to register with FirebaseApp ${Fe.name}`,Ye)}}function kt(Fe,Oe){Fe.container.addOrOverwriteComponent(Oe)}function An(Fe){const Oe=Fe.name;if(an.has(Oe))return oe.debug(`There were multiple attempts to register component ${Oe}.`),!1;an.set(Oe,Fe);for(const Ye of dn.values())pt(Ye,Fe);return!0}function Es(Fe,Oe){const Ye=Fe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ye&&Ye.triggerHeartbeat(),Fe.container.getProvider(Oe)}function Si(Fe,Oe,Ye=rr){Es(Fe,Oe).clearInstance(Ye)}function _r(){an.clear()}const Gr=new D.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sn{constructor(Oe,Ye,Xe){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},Ye),this._name=Ye.name,this._automaticDataCollectionEnabled=Ye.automaticDataCollectionEnabled,this._container=Xe,this.container.addComponent(new v.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}const na="9.21.0";function hn(Fe,Oe={}){let Ye=Fe;"object"!=typeof Oe&&(Oe={name:Oe});const Xe=Object.assign({name:rr,automaticDataCollectionEnabled:!1},Oe),Ft=Xe.name;if("string"!=typeof Ft||!Ft)throw Gr.create("bad-app-name",{appName:String(Ft)});if(Ye||(Ye=(0,D.aH)()),!Ye)throw Gr.create("no-options");const Kt=dn.get(Ft);if(Kt){if((0,D.vZ)(Ye,Kt.options)&&(0,D.vZ)(Xe,Kt.config))return Kt;throw Gr.create("duplicate-app",{appName:Ft})}const fn=new v.H0(Ft);for(const ln of an.values())fn.addComponent(ln);const $n=new Sn(Ye,Xe,fn);return dn.set(Ft,$n),$n}function Tr(Fe=rr){const Oe=dn.get(Fe);if(!Oe&&Fe===rr)return hn();if(!Oe)throw Gr.create("no-app",{appName:Fe});return Oe}function $r(){return Array.from(dn.values())}function Ji(Fe){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,s.Z)(function*(Fe){const Oe=Fe.name;dn.has(Oe)&&(dn.delete(Oe),yield Promise.all(Fe.container.getProviders().map(Ye=>Ye.delete())),Fe.isDeleted=!0)})).apply(this,arguments)}function qr(Fe,Oe,Ye){var Xe;let Ft=null!==(Xe=pn[Fe])&&void 0!==Xe?Xe:Fe;Ye&&(Ft+=`-${Ye}`);const Kt=Ft.match(/\s|\//),fn=Oe.match(/\s|\//);if(Kt||fn){const $n=[`Unable to register library "${Ft}" with version "${Oe}":`];return Kt&&$n.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),Kt&&fn&&$n.push("and"),fn&&$n.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void oe.warn($n.join(" "))}An(new v.wA(`${Ft}-version`,()=>({library:Ft,version:Oe}),"VERSION"))}function Cs(Fe,Oe){if(null!==Fe&&"function"!=typeof Fe)throw Gr.create("invalid-log-argument");(0,y.Am)(Fe,Oe)}function ir(Fe){(0,y.Ub)(Fe)}const ye="firebase-heartbeat-store";let ge=null;function Se(){return ge||(ge=function he(Fe,Oe,{blocked:Ye,upgrade:Xe,blocking:Ft,terminated:Kt}={}){const fn=indexedDB.open(Fe,Oe),$n=re(fn);return Xe&&fn.addEventListener("upgradeneeded",ln=>{Xe(re(fn.result),ln.oldVersion,ln.newVersion,re(fn.transaction),ln)}),Ye&&fn.addEventListener("blocked",ln=>Ye(ln.oldVersion,ln.newVersion,ln)),$n.then(ln=>{Kt&&ln.addEventListener("close",()=>Kt()),Ft&&ln.addEventListener("versionchange",Zr=>Ft(Zr.oldVersion,Zr.newVersion,Zr))}).catch(()=>{}),$n}("firebase-heartbeat-database",1,{upgrade:(Fe,Oe)=>{0===Oe&&Fe.createObjectStore(ye)}}).catch(Fe=>{throw Gr.create("idb-open",{originalErrorMessage:Fe.message})})),ge}function Pe(){return(Pe=(0,s.Z)(function*(Fe){try{return(yield Se()).transaction(ye).objectStore(ye).get(Zt(Fe))}catch(Oe){if(Oe instanceof D.ZR)oe.warn(Oe.message);else{const Ye=Gr.create("idb-get",{originalErrorMessage:Oe?.message});oe.warn(Ye.message)}}})).apply(this,arguments)}function ot(Fe,Oe){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,s.Z)(function*(Fe,Oe){try{const Xe=(yield Se()).transaction(ye,"readwrite");return yield Xe.objectStore(ye).put(Oe,Zt(Fe)),Xe.done}catch(Ye){if(Ye instanceof D.ZR)oe.warn(Ye.message);else{const Xe=Gr.create("idb-set",{originalErrorMessage:Ye?.message});oe.warn(Xe.message)}}})).apply(this,arguments)}function Zt(Fe){return`${Fe.name}!${Fe.options.appId}`}class St{constructor(Oe){this.container=Oe,this._heartbeatsCache=null;const Ye=this.container.getProvider("app").getImmediate();this._storage=new Wr(Ye),this._heartbeatsCachePromise=this._storage.read().then(Xe=>(this._heartbeatsCache=Xe,Xe))}triggerHeartbeat(){var Oe=this;return(0,s.Z)(function*(){const Xe=Oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=Mt();if(null===Oe._heartbeatsCache&&(Oe._heartbeatsCache=yield Oe._heartbeatsCachePromise),Oe._heartbeatsCache.lastSentHeartbeatDate!==Ft&&!Oe._heartbeatsCache.heartbeats.some(Kt=>Kt.date===Ft))return Oe._heartbeatsCache.heartbeats.push({date:Ft,agent:Xe}),Oe._heartbeatsCache.heartbeats=Oe._heartbeatsCache.heartbeats.filter(Kt=>{const fn=new Date(Kt.date).valueOf();return Date.now()-fn<=2592e6}),Oe._storage.overwrite(Oe._heartbeatsCache)})()}getHeartbeatsHeader(){var Oe=this;return(0,s.Z)(function*(){if(null===Oe._heartbeatsCache&&(yield Oe._heartbeatsCachePromise),null===Oe._heartbeatsCache||0===Oe._heartbeatsCache.heartbeats.length)return"";const Ye=Mt(),{heartbeatsToSend:Xe,unsentEntries:Ft}=function Mn(Fe,Oe=1024){const Ye=[];let Xe=Fe.slice();for(const Ft of Fe){const Kt=Ye.find(fn=>fn.agent===Ft.agent);if(Kt){if(Kt.dates.push(Ft.date),Pn(Ye)>Oe){Kt.dates.pop();break}}else if(Ye.push({agent:Ft.agent,dates:[Ft.date]}),Pn(Ye)>Oe){Ye.pop();break}Xe=Xe.slice(1)}return{heartbeatsToSend:Ye,unsentEntries:Xe}}(Oe._heartbeatsCache.heartbeats),Kt=(0,D.L)(JSON.stringify({version:2,heartbeats:Xe}));return Oe._heartbeatsCache.lastSentHeartbeatDate=Ye,Ft.length>0?(Oe._heartbeatsCache.heartbeats=Ft,yield Oe._storage.overwrite(Oe._heartbeatsCache)):(Oe._heartbeatsCache.heartbeats=[],Oe._storage.overwrite(Oe._heartbeatsCache)),Kt})()}}function Mt(){return(new Date).toISOString().substring(0,10)}class Wr{constructor(Oe){this.app=Oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,D.hl)()&&(0,D.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Oe=this;return(0,s.Z)(function*(){return(yield Oe._canUseIndexedDBPromise)&&(yield function Be(Fe){return Pe.apply(this,arguments)}(Oe.app))||{heartbeats:[]}})()}overwrite(Oe){var Ye=this;return(0,s.Z)(function*(){var Xe;if(yield Ye._canUseIndexedDBPromise){const Kt=yield Ye.read();return ot(Ye.app,{lastSentHeartbeatDate:null!==(Xe=Oe.lastSentHeartbeatDate)&&void 0!==Xe?Xe:Kt.lastSentHeartbeatDate,heartbeats:Oe.heartbeats})}})()}add(Oe){var Ye=this;return(0,s.Z)(function*(){var Xe;if(yield Ye._canUseIndexedDBPromise){const Kt=yield Ye.read();return ot(Ye.app,{lastSentHeartbeatDate:null!==(Xe=Oe.lastSentHeartbeatDate)&&void 0!==Xe?Xe:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...Oe.heartbeats]})}})()}}function Pn(Fe){return(0,D.L)(JSON.stringify({version:2,heartbeats:Fe})).length}!function es(Fe){An(new v.wA("platform-logger",Oe=>new Te(Oe),"PRIVATE")),An(new v.wA("heartbeat",Oe=>new St(Oe),"PRIVATE")),qr(le,X,Fe),qr(le,X,"esm2017"),qr("fire-js","")}("")},4859:(c,h,f)=>{"use strict";f.d(h,{H0:()=>j,wA:()=>y});var s=f(5861),v=f(2090);class y{constructor(R,H,U){this.name=R,this.instanceFactory=H,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(R){return this.instantiationMode=R,this}setMultipleInstances(R){return this.multipleInstances=R,this}setServiceProps(R){return this.serviceProps=R,this}setInstanceCreatedCallback(R){return this.onInstanceCreated=R,this}}const D="[DEFAULT]";class M{constructor(R,H){this.name=R,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(R){const H=this.normalizeInstanceIdentifier(R);if(!this.instancesDeferred.has(H)){const U=new v.BH;if(this.instancesDeferred.set(H,U),this.isInitialized(H)||this.shouldAutoInitialize())try{const q=this.getOrInitializeService({instanceIdentifier:H});q&&U.resolve(q)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(R){var H;const U=this.normalizeInstanceIdentifier(R?.identifier),q=null!==(H=R?.optional)&&void 0!==H&&H;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(ne){if(q)return null;throw ne}}getComponent(){return this.component}setComponent(R){if(R.name!==this.name)throw Error(`Mismatching Component ${R.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=R,this.shouldAutoInitialize()){if(function O(Q){return"EAGER"===Q.instantiationMode}(R))try{this.getOrInitializeService({instanceIdentifier:D})}catch{}for(const[H,U]of this.instancesDeferred.entries()){const q=this.normalizeInstanceIdentifier(H);try{const ne=this.getOrInitializeService({instanceIdentifier:q});U.resolve(ne)}catch{}}}}clearInstance(R=D){this.instancesDeferred.delete(R),this.instancesOptions.delete(R),this.instances.delete(R)}delete(){var R=this;return(0,s.Z)(function*(){const H=Array.from(R.instances.values());yield Promise.all([...H.filter(U=>"INTERNAL"in U).map(U=>U.INTERNAL.delete()),...H.filter(U=>"_delete"in U).map(U=>U._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(R=D){return this.instances.has(R)}getOptions(R=D){return this.instancesOptions.get(R)||{}}initialize(R={}){const{options:H={}}=R,U=this.normalizeInstanceIdentifier(R.instanceIdentifier);if(this.isInitialized(U))throw Error(`${this.name}(${U}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const q=this.getOrInitializeService({instanceIdentifier:U,options:H});for(const[ne,z]of this.instancesDeferred.entries())U===this.normalizeInstanceIdentifier(ne)&&z.resolve(q);return q}onInit(R,H){var U;const q=this.normalizeInstanceIdentifier(H),ne=null!==(U=this.onInitCallbacks.get(q))&&void 0!==U?U:new Set;ne.add(R),this.onInitCallbacks.set(q,ne);const z=this.instances.get(q);return z&&R(z,q),()=>{ne.delete(R)}}invokeOnInitCallbacks(R,H){const U=this.onInitCallbacks.get(H);if(U)for(const q of U)try{q(R,H)}catch{}}getOrInitializeService({instanceIdentifier:R,options:H={}}){let U=this.instances.get(R);if(!U&&this.component&&(U=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=R,Q===D?void 0:Q),options:H}),this.instances.set(R,U),this.instancesOptions.set(R,H),this.invokeOnInitCallbacks(U,R),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,R,U)}catch{}var Q;return U||null}normalizeInstanceIdentifier(R=D){return this.component?this.component.multipleInstances?R:D:R}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class j{constructor(R){this.name=R,this.providers=new Map}addComponent(R){const H=this.getProvider(R.name);if(H.isComponentSet())throw new Error(`Component ${R.name} has already been registered with ${this.name}`);H.setComponent(R)}addOrOverwriteComponent(R){this.getProvider(R.name).isComponentSet()&&this.providers.delete(R.name),this.addComponent(R)}getProvider(R){if(this.providers.has(R))return this.providers.get(R);const H=new M(R,this);return this.providers.set(R,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(c,h,f)=>{"use strict";f.d(h,{Am:()=>Q,Ub:()=>j,Yd:()=>O,in:()=>v});const s=[];var v=(()=>{return(R=v||(v={}))[R.DEBUG=0]="DEBUG",R[R.VERBOSE=1]="VERBOSE",R[R.INFO=2]="INFO",R[R.WARN=3]="WARN",R[R.ERROR=4]="ERROR",R[R.SILENT=5]="SILENT",v;var R})();const y={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},D=v.INFO,M={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},P=(R,H,...U)=>{if(H<R.logLevel)return;const q=(new Date).toISOString(),ne=M[H];if(!ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[ne](`[${q}]  ${R.name}:`,...U)};class O{constructor(H){this.name=H,this._logLevel=D,this._logHandler=P,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in v))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?y[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...H),this._logHandler(this,v.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...H),this._logHandler(this,v.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,v.INFO,...H),this._logHandler(this,v.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,v.WARN,...H),this._logHandler(this,v.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,v.ERROR,...H),this._logHandler(this,v.ERROR,...H)}}function j(R){s.forEach(H=>{H.setLogLevel(R)})}function Q(R,H){for(const U of s){let q=null;H&&H.level&&(q=y[H.level]),U.userLogHandler=null===R?null:(ne,z,...G)=>{const V=G.map(B=>{if(null==B)return null;if("string"==typeof B)return B;if("number"==typeof B||"boolean"==typeof B)return B.toString();if(B instanceof Error)return B.message;try{return JSON.stringify(B)}catch{return null}}).filter(B=>B).join(" ");z>=(q??ne.logLevel)&&R({level:v[z].toLowerCase(),message:V,args:G,type:ne.name})}}}},259:(c,h,f)=>{"use strict";f.d(h,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=f(6881);(0,s.registerVersion)("firebase","9.21.0","app")},9260:(c,h,f)=>{"use strict";f.d(h,{Z:()=>s.Z});var s=f(3942);s.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(c,h,f)=>{"use strict";f.r(h);var s=f(5861),v=f(3942),y=f(2090),D=f(6881),M=f(655),P=f(1877),O=f(4859);const z=function q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},G=function ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},V=new y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ee=new P.Yd("@firebase/auth");function re(C,..._){ee.logLevel<=P.in.ERROR&&ee.error(`Auth (${D.SDK_VERSION}): ${C}`,..._)}function ae(C,..._){throw Ie(C,..._)}function he(C,..._){return Ie(C,..._)}function Re(C,_,b){const T=Object.assign(Object.assign({},G()),{[_]:b});return new y.LL("auth","Firebase",T).create(_,{appName:C.name})}function xe(C,_,b){if(!(_ instanceof b))throw b.name!==_.constructor.name&&ae(C,"argument-error"),Re(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ie(C,..._){if("string"!=typeof C){const b=_[0],T=[..._.slice(1)];return T[0]&&(T[0].appName=C.name),C._errorFactory.create(b,...T)}return V.create(C,..._)}function _e(C,_,...b){if(!C)throw Ie(_,...b)}function $e(C){const _="INTERNAL ASSERTION FAILED: "+C;throw re(_),new Error(_)}function Te(C,_){C||$e(_)}function fe(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function le(){return"http:"===X()||"https:"===X()}function X(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class pe{constructor(_,b){this.shortDelay=_,this.longDelay=b,Te(b>_,"Short delay should be less than long delay!"),this.isMobile=(0,y.uI)()||(0,y.b$)()}get(){return function oe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(le()||(0,y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ne(C,_){Te(C.emulator,"Emulator should always be set here");const{url:b}=C.emulator;return _?`${b}${_.startsWith("/")?_.slice(1):_}`:b}class Le{static initialize(_,b,T){this.fetchImpl=_,b&&(this.headersImpl=b),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ht=new pe(3e4,6e4);function ht(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function Qe(C,_,b,T){return zt.apply(this,arguments)}function zt(){return(zt=(0,s.Z)(function*(C,_,b,T,$={}){return jt(C,$,(0,s.Z)(function*(){let ie={},ve={};T&&("GET"===_?ve=T:ie={body:JSON.stringify(T)});const Ae=(0,y.xO)(Object.assign({key:C.config.apiKey},ve)).slice(1),Ze=yield C._getAdditionalHeaders();return Ze["Content-Type"]="application/json",C.languageCode&&(Ze["X-Firebase-Locale"]=C.languageCode),Le.fetch()(lt(C,C.config.apiHost,b,Ae),Object.assign({method:_,headers:Ze,referrerPolicy:"no-referrer"},ie))}))})).apply(this,arguments)}function jt(C,_,b){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,s.Z)(function*(C,_,b){C._canInitEmulator=!1;const T=Object.assign(Object.assign({},nt),_);try{const $=new on(C),ie=yield Promise.race([b(),$.promise]);$.clearNetworkTimeout();const ve=yield ie.json();if("needConfirmation"in ve)throw Fn(C,"account-exists-with-different-credential",ve);if(ie.ok&&!("errorMessage"in ve))return ve;{const Ae=ie.ok?ve.errorMessage:ve.error.message,[Ze,st]=Ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw Fn(C,"credential-already-in-use",ve);if("EMAIL_EXISTS"===Ze)throw Fn(C,"email-already-in-use",ve);if("USER_DISABLED"===Ze)throw Fn(C,"user-disabled",ve);const _t=T[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw Re(C,_t,st);ae(C,_t)}}catch($){if($ instanceof y.ZR)throw $;ae(C,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function Jt(C,_,b,T){return un.apply(this,arguments)}function un(){return(un=(0,s.Z)(function*(C,_,b,T,$={}){const ie=yield Qe(C,_,b,T,$);return"mfaPendingCredential"in ie&&ae(C,"multi-factor-auth-required",{_serverResponse:ie}),ie})).apply(this,arguments)}function lt(C,_,b,T){const $=`${_}${b}?${T}`;return C.config.emulator?Ne(C.config,$):`${C.config.apiScheme}://${$}`}class on{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((b,T)=>{this.timer=setTimeout(()=>T(he(this.auth,"network-request-failed")),Ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fn(C,_,b){const T={appName:C.name};b.email&&(T.email=b.email),b.phoneNumber&&(T.phoneNumber=b.phoneNumber);const $=he(C,_,T);return $.customData._tokenResponse=b,$}function nr(){return(nr=(0,s.Z)(function*(C,_){return Qe(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function zr(C,_){return jr.apply(this,arguments)}function jr(){return(jr=(0,s.Z)(function*(C,_){return Qe(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ft(C,_){return bn.apply(this,arguments)}function bn(){return(bn=(0,s.Z)(function*(C,_){return Qe(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function ur(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function rr(){return(rr=(0,s.Z)(function*(C,_=!1){const b=(0,y.m9)(C),T=yield b.getIdToken(_),$=dn(T);_e($&&$.exp&&$.auth_time&&$.iat,b.auth,"internal-error");const ie="object"==typeof $.firebase?$.firebase:void 0,ve=ie?.sign_in_provider;return{claims:$,token:T,authTime:ur(pn($.auth_time)),issuedAtTime:ur(pn($.iat)),expirationTime:ur(pn($.exp)),signInProvider:ve||null,signInSecondFactor:ie?.sign_in_second_factor||null}})).apply(this,arguments)}function pn(C){return 1e3*Number(C)}function dn(C){const[_,b,T]=C.split(".");if(void 0===_||void 0===b||void 0===T)return re("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,y.tV)(b);return $?JSON.parse($):(re("Failed to decode base64 JWT payload"),null)}catch($){return re("Caught error parsing JWT payload as JSON",$?.toString()),null}}function pt(C,_){return kt.apply(this,arguments)}function kt(){return(kt=(0,s.Z)(function*(C,_,b=!1){if(b)return _;try{return yield _}catch(T){throw T instanceof y.ZR&&An(T)&&C.auth.currentUser===C&&(yield C.auth.signOut()),T}})).apply(this,arguments)}function An({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Es{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var b;if(_){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const $=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(_=!1){var b=this;if(!this.isRunning)return;const T=this.getInterval(_);this.timerId=setTimeout((0,s.Z)(function*(){yield b.iteration()}),T)}iteration(){var _=this;return(0,s.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&_.schedule(!0))}_.schedule()})()}}class Si{constructor(_,b){this.createdAt=_,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=ur(this.lastLoginAt),this.creationTime=ur(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _r(C){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,s.Z)(function*(C){var _;const b=C.auth,T=yield C.getIdToken(),$=yield pt(C,ft(b,{idToken:T}));_e($?.users.length,b,"internal-error");const ie=$.users[0];C._notifyReloadListener(ie);const ve=null!==(_=ie.providerUserInfo)&&void 0!==_&&_.length?hn(ie.providerUserInfo):[],Ae=na(C.providerData,ve),_t=!!C.isAnonymous&&!(C.email&&ie.passwordHash||Ae?.length),wt={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:Ae,metadata:new Si(ie.createdAt,ie.lastLoginAt),isAnonymous:_t};Object.assign(C,wt)})).apply(this,arguments)}function Sn(){return(Sn=(0,s.Z)(function*(C){const _=(0,y.m9)(C);yield _r(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function na(C,_){return[...C.filter(T=>!_.some($=>$.providerId===T.providerId)),..._]}function hn(C){return C.map(_=>{var{providerId:b}=_,T=(0,M._T)(_,["providerId"]);return{providerId:b,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function $r(){return($r=(0,s.Z)(function*(C,_){const b=yield jt(C,{},(0,s.Z)(function*(){const T=(0,y.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:$,apiKey:ie}=C.config,ve=lt(C,$,"/v1/token",`key=${ie}`),Ae=yield C._getAdditionalHeaders();return Ae["Content-Type"]="application/x-www-form-urlencoded",Le.fetch()(ve,{method:"POST",headers:Ae,body:T})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class Ji{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){_e(_.idToken,"internal-error"),_e(typeof _.idToken<"u","internal-error"),_e(typeof _.refreshToken<"u","internal-error");const b="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function an(C){const _=dn(C);return _e(_,"internal-error"),_e(typeof _.exp<"u","internal-error"),_e(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,b)}getToken(_,b=!1){var T=this;return(0,s.Z)(function*(){return _e(!T.accessToken||T.refreshToken,_,"user-token-expired"),b||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(_,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,b){var T=this;return(0,s.Z)(function*(){const{accessToken:$,refreshToken:ie,expiresIn:ve}=yield function Tr(C,_){return $r.apply(this,arguments)}(_,b);T.updateTokensAndExpiration($,ie,Number(ve))})()}updateTokensAndExpiration(_,b,T){this.refreshToken=b||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(_,b){const{refreshToken:T,accessToken:$,expirationTime:ie}=b,ve=new Ji;return T&&(_e("string"==typeof T,"internal-error",{appName:_}),ve.refreshToken=T),$&&(_e("string"==typeof $,"internal-error",{appName:_}),ve.accessToken=$),ie&&(_e("number"==typeof ie,"internal-error",{appName:_}),ve.expirationTime=ie),ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Ji,this.toJSON())}_performRefresh(){return $e("not implemented")}}function Qn(C,_){_e("string"==typeof C||typeof C>"u","internal-error",{appName:_})}class qr{constructor(_){var{uid:b,auth:T,stsTokenManager:$}=_,ie=(0,M._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Es(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=T,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.providerData=ie.providerData?[...ie.providerData]:[],this.metadata=new Si(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(_){var b=this;return(0,s.Z)(function*(){const T=yield pt(b,b.stsTokenManager.getToken(b.auth,_));return _e(T,b.auth,"internal-error"),b.accessToken!==T&&(b.accessToken=T,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),T})()}getIdTokenResult(_){return function Dr(C){return rr.apply(this,arguments)}(this,_)}reload(){return function Gr(C){return Sn.apply(this,arguments)}(this)}_assign(_){this!==_&&(_e(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(b=>Object.assign({},b)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const b=new qr(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(_){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,b=!1){var T=this;return(0,s.Z)(function*(){let $=!1;_.idToken&&_.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(_),$=!0),b&&(yield _r(T)),yield T.auth._persistUserIfCurrent(T),$&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var _=this;return(0,s.Z)(function*(){const b=yield _.getIdToken();return yield pt(_,function gr(C,_){return nr.apply(this,arguments)}(_.auth,{idToken:b})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,b){var T,$,ie,ve,Ae,Ze,st,_t;const wt=null!==(T=b.displayName)&&void 0!==T?T:void 0,Wn=null!==($=b.email)&&void 0!==$?$:void 0,us=null!==(ie=b.phoneNumber)&&void 0!==ie?ie:void 0,zu=null!==(ve=b.photoURL)&&void 0!==ve?ve:void 0,Rs=null!==(Ae=b.tenantId)&&void 0!==Ae?Ae:void 0,ju=null!==(Ze=b._redirectEventId)&&void 0!==Ze?Ze:void 0,Dc=null!==(st=b.createdAt)&&void 0!==st?st:void 0,wg=null!==(_t=b.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:yp,emailVerified:vp,isAnonymous:Tc,providerData:xc,stsTokenManager:bp}=b;_e(yp&&bp,_,"internal-error");const Da=Ji.fromJSON(this.name,bp);_e("string"==typeof yp,_,"internal-error"),Qn(wt,_.name),Qn(Wn,_.name),_e("boolean"==typeof vp,_,"internal-error"),_e("boolean"==typeof Tc,_,"internal-error"),Qn(us,_.name),Qn(zu,_.name),Qn(Rs,_.name),Qn(ju,_.name),Qn(Dc,_.name),Qn(wg,_.name);const bl=new qr({uid:yp,auth:_,email:Wn,emailVerified:vp,displayName:wt,isAnonymous:Tc,photoURL:zu,phoneNumber:us,tenantId:Rs,stsTokenManager:Da,createdAt:Dc,lastLoginAt:wg});return xc&&Array.isArray(xc)&&(bl.providerData=xc.map(wr=>Object.assign({},wr))),ju&&(bl._redirectEventId=ju),bl}static _fromIdTokenResponse(_,b,T=!1){return(0,s.Z)(function*(){const $=new Ji;$.updateFromServerResponse(b);const ie=new qr({uid:b.localId,auth:_,stsTokenManager:$,isAnonymous:T});return yield _r(ie),ie})()}}const Cs=new Map;function ir(C){Te(C instanceof Function,"Expected a class definition");let _=Cs.get(C);return _?(Te(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,Cs.set(C,_),_)}const gi=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(b,T){var $=this;return(0,s.Z)(function*(){$.storage[b]=T})()}_get(b){var T=this;return(0,s.Z)(function*(){const $=T.storage[b];return void 0===$?null:$})()}_remove(b){var T=this;return(0,s.Z)(function*(){delete T.storage[b]})()}_addListener(b,T){}_removeListener(b,T){}}return C.type="NONE",C})();function ye(C,_,b){return`firebase:${C}:${_}:${b}`}class ge{constructor(_,b,T){this.persistence=_,this.auth=b,this.userKey=T;const{config:$,name:ie}=this.auth;this.fullUserKey=ye(this.userKey,$.apiKey,ie),this.fullPersistenceKey=ye("persistence",$.apiKey,ie),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,s.Z)(function*(){const b=yield _.persistence._get(_.fullUserKey);return b?qr._fromJSON(_.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var b=this;return(0,s.Z)(function*(){if(b.persistence===_)return;const T=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=_,T?b.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,b,T="authUser"){return(0,s.Z)(function*(){if(!b.length)return new ge(ir(gi),_,T);const $=(yield Promise.all(b.map(function(){var st=(0,s.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return st.apply(this,arguments)}}()))).filter(st=>st);let ie=$[0]||ir(gi);const ve=ye(T,_.config.apiKey,_.name);let Ae=null;for(const st of b)try{const _t=yield st._get(ve);if(_t){const wt=qr._fromJSON(_,_t);st!==ie&&(Ae=wt),ie=st;break}}catch{}const Ze=$.filter(st=>st._shouldAllowMigration);return ie._shouldAllowMigration&&Ze.length?(ie=Ze[0],Ae&&(yield ie._set(ve,Ae.toJSON())),yield Promise.all(b.map(function(){var st=(0,s.Z)(function*(_t){if(_t!==ie)try{yield _t._remove(ve)}catch{}});return function(_t){return st.apply(this,arguments)}}())),new ge(ie,_,T)):new ge(ie,_,T)})()}}function Se(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Vt(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(Be(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(wn(_))return"Blackberry";if(Je(_))return"Webos";if(Pe(_))return"Safari";if((_.includes("chrome/")||ot(_))&&!_.includes("edge/"))return"Chrome";if(Zt(_))return"Android";{const T=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function Be(C=(0,y.z$)()){return/firefox\//i.test(C)}function Pe(C=(0,y.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function ot(C=(0,y.z$)()){return/crios\//i.test(C)}function Vt(C=(0,y.z$)()){return/iemobile/i.test(C)}function Zt(C=(0,y.z$)()){return/android/i.test(C)}function wn(C=(0,y.z$)()){return/blackberry/i.test(C)}function Je(C=(0,y.z$)()){return/webos/i.test(C)}function St(C=(0,y.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Pn(C=(0,y.z$)()){return St(C)||Zt(C)||Je(C)||wn(C)||/windows phone/i.test(C)||Vt(C)}function Fe(C,_=[]){let b;switch(C){case"Browser":b=Se((0,y.z$)());break;case"Worker":b=`${Se((0,y.z$)())}-${C}`;break;default:b=C}const T=_.length?_.join(","):"FirebaseCore-web";return`${b}/JsCore/${D.SDK_VERSION}/${T}`}function Ye(){return(Ye=(0,s.Z)(function*(C){return(yield Qe(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Xe(C,_){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)(function*(C,_){return Qe(C,"GET","/v2/recaptchaConfig",ht(C,_))})).apply(this,arguments)}function Kt(C){return void 0!==C&&void 0!==C.getResponse}function fn(C){return void 0!==C&&void 0!==C.enterprise}class $n{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(b=>"EMAIL_PASSWORD_PROVIDER"===b.provider&&"OFF"!==b.enforcementState)}}function Zr(C){return new Promise((_,b)=>{const T=document.createElement("script");T.setAttribute("src",C),T.onload=_,T.onerror=$=>{const ie=he("internal-error");ie.customData=$,b(ie)},T.type="text/javascript",T.charset="UTF-8",function ln(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(T)})}function Bi(C){return`__${C}${Math.floor(1e6*Math.random())}`}class mn{constructor(_){this.type="recaptcha-enterprise",this.auth=gn(_)}verify(_="verify",b=!1){var T=this;return(0,s.Z)(function*(){function ie(){return ie=(0,s.Z)(function*(Ae){if(!b){if(null==Ae.tenantId&&null!=Ae._agentRecaptchaConfig)return Ae._agentRecaptchaConfig.siteKey;if(null!=Ae.tenantId&&void 0!==Ae._tenantRecaptchaConfigs[Ae.tenantId])return Ae._tenantRecaptchaConfigs[Ae.tenantId].siteKey}return new Promise(function(){var Ze=(0,s.Z)(function*(st,_t){Xe(Ae,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(wt=>{if(void 0!==wt.recaptchaKey){const Wn=new $n(wt);return null==Ae.tenantId?Ae._agentRecaptchaConfig=Wn:Ae._tenantRecaptchaConfigs[Ae.tenantId]=Wn,st(Wn.siteKey)}_t(new Error("recaptcha Enterprise site key undefined"))}).catch(wt=>{_t(wt)})});return function(st,_t){return Ze.apply(this,arguments)}}())}),ie.apply(this,arguments)}function ve(Ae,Ze,st){const _t=window.grecaptcha;fn(_t)?_t.enterprise.ready(()=>{_t.enterprise.execute(Ae,{action:_}).then(wt=>{Ze(wt)}).catch(()=>{Ze("NO_RECAPTCHA")})}):st(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ae,Ze)=>{(function $(Ae){return ie.apply(this,arguments)})(T.auth).then(st=>{if(!b&&fn(window.grecaptcha))ve(st,Ae,Ze);else{if(typeof window>"u")return void Ze(new Error("RecaptchaVerifier is only supported in browser"));Zr("https://www.google.com/recaptcha/enterprise.js?render="+st).then(()=>{ve(st,Ae,Ze)}).catch(_t=>{Ze(_t)})}}).catch(st=>{Ze(st)})})})()}}function Ss(C,_,b){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,s.Z)(function*(C,_,b,T=!1){const $=new mn(C);let ie;try{ie=yield $.verify(b)}catch{ie=yield $.verify(b,!0)}const ve=Object.assign({},_);return Object.assign(ve,T?{captchaResp:ie}:{captchaResponse:ie}),Object.assign(ve,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ve,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ve})).apply(this,arguments)}class Io{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,b){const T=ie=>new Promise((ve,Ae)=>{try{ve(_(ie))}catch(Ze){Ae(Ze)}});T.onAbort=b,this.queue.push(T);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(_){var b=this;return(0,s.Z)(function*(){if(b.auth.currentUser===_)return;const T=[];try{for(const $ of b.queue)yield $(_),$.onAbort&&T.push($.onAbort)}catch($){T.reverse();for(const ie of T)try{ie()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}class Jc{constructor(_,b,T,$){this.app=_,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=T,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lo(this),this.idTokenSubscription=new lo(this),this.beforeStateQueue=new Io(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(_,b){var T=this;return b&&(this._popupRedirectResolver=ir(b)),this._initializationPromise=this.queue((0,s.Z)(function*(){var $,ie;if(!T._deleted&&(T.persistenceManager=yield ge.create(T,_),!T._deleted)){if(null!==($=T._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(b),T.lastNotifiedUid=(null===(ie=T.currentUser)||void 0===ie?void 0:ie.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,s.Z)(function*(){if(_._deleted)return;const b=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||b){if(_.currentUser&&b&&_.currentUser.uid===b.uid)return _._currentUser._assign(b),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(b,!0)}})()}initializeCurrentUser(_){var b=this;return(0,s.Z)(function*(){var T;const $=yield b.assertedPersistence.getCurrentUser();let ie=$,ve=!1;if(_&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const Ae=null===(T=b.redirectUser)||void 0===T?void 0:T._redirectEventId,Ze=ie?._redirectEventId,st=yield b.tryRedirectSignIn(_);(!Ae||Ae===Ze)&&st?.user&&(ie=st.user,ve=!0)}if(!ie)return b.directlySetCurrentUser(null);if(!ie._redirectEventId){if(ve)try{yield b.beforeStateQueue.runMiddleware(ie)}catch(Ae){ie=$,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(Ae))}return ie?b.reloadAndSetCurrentUserOrClear(ie):b.directlySetCurrentUser(null)}return _e(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===ie._redirectEventId?b.directlySetCurrentUser(ie):b.reloadAndSetCurrentUserOrClear(ie)})()}tryRedirectSignIn(_){var b=this;return(0,s.Z)(function*(){let T=null;try{T=yield b._popupRedirectResolver._completeRedirectFn(b,_,!0)}catch{yield b._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(_){var b=this;return(0,s.Z)(function*(){try{yield _r(_)}catch(T){if("auth/network-request-failed"!==T?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function be(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,s.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var b=this;return(0,s.Z)(function*(){const T=_?(0,y.m9)(_):null;return T&&_e(T.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(T&&T._clone(b))})()}_updateCurrentUser(_,b=!1){var T=this;return(0,s.Z)(function*(){if(!T._deleted)return _&&_e(T.tenantId===_.tenantId,T,"tenant-id-mismatch"),b||(yield T.beforeStateQueue.runMiddleware(_)),T.queue((0,s.Z)(function*(){yield T.directlySetCurrentUser(_),T.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,s.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var b=this;return this.queue((0,s.Z)(function*(){yield b.assertedPersistence.setPersistence(ir(_))}))}initializeRecaptchaConfig(){var _=this;return(0,s.Z)(function*(){const b=yield Xe(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new $n(b);null==_.tenantId?_._agentRecaptchaConfig=T:_._tenantRecaptchaConfigs[_.tenantId]=T,T.emailPasswordEnabled&&new mn(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new y.LL("auth","Firebase",_())}onAuthStateChanged(_,b,T){return this.registerStateListener(this.authStateSubscription,_,b,T)}beforeAuthStateChanged(_,b){return this.beforeStateQueue.pushCallback(_,b)}onIdTokenChanged(_,b,T){return this.registerStateListener(this.idTokenSubscription,_,b,T)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,b){var T=this;return(0,s.Z)(function*(){const $=yield T.getOrInitRedirectPersistenceManager(b);return null===_?$.removeCurrentUser():$.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var b=this;return(0,s.Z)(function*(){if(!b.redirectPersistenceManager){const T=_&&ir(_)||b._popupRedirectResolver;_e(T,b,"argument-error"),b.redirectPersistenceManager=yield ge.create(b,[ir(T._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(_){var b=this;return(0,s.Z)(function*(){var T,$;return b._isInitialized&&(yield b.queue((0,s.Z)(function*(){}))),(null===(T=b._currentUser)||void 0===T?void 0:T._redirectEventId)===_?b._currentUser:(null===($=b.redirectUser)||void 0===$?void 0:$._redirectEventId)===_?b.redirectUser:null})()}_persistUserIfCurrent(_){var b=this;return(0,s.Z)(function*(){if(_===b.currentUser)return b.queue((0,s.Z)(function*(){return b.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(b=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,b,T,$){if(this._deleted)return()=>{};const ie="function"==typeof b?b:b.next.bind(b),ve=this._isInitialized?Promise.resolve():this._initializationPromise;return _e(ve,this,"internal-error"),ve.then(()=>ie(this.currentUser)),"function"==typeof b?_.addObserver(b,T,$):_.addObserver(b)}directlySetCurrentUser(_){var b=this;return(0,s.Z)(function*(){b.currentUser&&b.currentUser!==_&&b._currentUser._stopProactiveRefresh(),_&&b.isProactiveRefreshEnabled&&_._startProactiveRefresh(),b.currentUser=_,_?yield b.assertedPersistence.setCurrentUser(_):yield b.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Fe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,s.Z)(function*(){var b;const T={"X-Client-Version":_.clientVersion};_.app.options.appId&&(T["X-Firebase-gmpid"]=_.app.options.appId);const $=yield null===(b=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();$&&(T["X-Firebase-Client"]=$);const ie=yield _._getAppCheckToken();return ie&&(T["X-Firebase-AppCheck"]=ie),T})()}_getAppCheckToken(){var _=this;return(0,s.Z)(function*(){var b;const T=yield null===(b=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return T?.error&&function te(C,..._){ee.logLevel<=P.in.WARN&&ee.warn(`Auth (${D.SDK_VERSION}): ${C}`,..._)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function gn(C){return(0,y.m9)(C)}class lo{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,y.ne)(b=>this.observer=b)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xr(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function co(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class Hs{constructor(_,b){this.providerId=_,this.signInMethod=b}toJSON(){return $e("not implemented")}_getIdTokenResponse(_){return $e("not implemented")}_linkToIdToken(_,b){return $e("not implemented")}_getReauthenticationResolver(_){return $e("not implemented")}}function ts(C,_){return sa.apply(this,arguments)}function sa(){return(sa=(0,s.Z)(function*(C,_){return Qe(C,"POST","/v1/accounts:resetPassword",ht(C,_))})).apply(this,arguments)}function Nd(C,_){return eu.apply(this,arguments)}function eu(){return(eu=(0,s.Z)(function*(C,_){return Qe(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Ld(C,_){return If.apply(this,arguments)}function If(){return(If=(0,s.Z)(function*(C,_){return Qe(C,"POST","/v1/accounts:update",ht(C,_))})).apply(this,arguments)}function Bn(C,_){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,s.Z)(function*(C,_){return Jt(C,"POST","/v1/accounts:signInWithPassword",ht(C,_))})).apply(this,arguments)}function tu(C,_){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,s.Z)(function*(C,_){return Qe(C,"POST","/v1/accounts:sendOobCode",ht(C,_))})).apply(this,arguments)}function Df(C,_){return nu.apply(this,arguments)}function nu(){return(nu=(0,s.Z)(function*(C,_){return tu(C,_)})).apply(this,arguments)}function Nl(C,_){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,s.Z)(function*(C,_){return tu(C,_)})).apply(this,arguments)}function Hd(C,_){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,s.Z)(function*(C,_){return tu(C,_)})).apply(this,arguments)}function Xm(C,_){return ru.apply(this,arguments)}function ru(){return(ru=(0,s.Z)(function*(C,_){return tu(C,_)})).apply(this,arguments)}function iu(){return(iu=(0,s.Z)(function*(C,_){return Jt(C,"POST","/v1/accounts:signInWithEmailLink",ht(C,_))})).apply(this,arguments)}function xf(){return(xf=(0,s.Z)(function*(C,_){return Jt(C,"POST","/v1/accounts:signInWithEmailLink",ht(C,_))})).apply(this,arguments)}class su extends Hs{constructor(_,b,T,$=null){super("password",T),this._email=_,this._password=b,this._tenantId=$}static _fromEmailAndPassword(_,b){return new su(_,b,"password")}static _fromEmailAndCode(_,b,T=null){return new su(_,b,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(_){var b=this;return(0,s.Z)(function*(){var T;switch(b.signInMethod){case"password":const $={returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=_._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ie=yield Ss(_,$,"signInWithPassword");return Bn(_,ie)}return Bn(_,$).catch(function(){var ie=(0,s.Z)(function*(ve){if("auth/missing-recaptcha-token"===ve.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ae=yield Ss(_,$,"signInWithPassword");return Bn(_,Ae)}return Promise.reject(ve)});return function(ve){return ie.apply(this,arguments)}}());case"emailLink":return function Ud(C,_){return iu.apply(this,arguments)}(_,{email:b._email,oobCode:b._password});default:ae(_,"internal-error")}})()}_linkToIdToken(_,b){var T=this;return(0,s.Z)(function*(){switch(T.signInMethod){case"password":return Nd(_,{idToken:b,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function zd(C,_){return xf.apply(this,arguments)}(_,{idToken:b,email:T._email,oobCode:T._password});default:ae(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function ns(C,_){return Us.apply(this,arguments)}function Us(){return(Us=(0,s.Z)(function*(C,_){return Jt(C,"POST","/v1/accounts:signInWithIdp",ht(C,_))})).apply(this,arguments)}class Hi extends Hs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const b=new Hi(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(b.idToken=_.idToken),_.accessToken&&(b.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(b.nonce=_.nonce),_.pendingToken&&(b.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(b.accessToken=_.oauthToken,b.secret=_.oauthTokenSecret):ae("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:T,signInMethod:$}=b,ie=(0,M._T)(b,["providerId","signInMethod"]);if(!T||!$)return null;const ve=new Hi(T,$);return ve.idToken=ie.idToken||void 0,ve.accessToken=ie.accessToken||void 0,ve.secret=ie.secret,ve.nonce=ie.nonce,ve.pendingToken=ie.pendingToken||null,ve}_getIdTokenResponse(_){return ns(_,this.buildRequest())}_linkToIdToken(_,b){const T=this.buildRequest();return T.idToken=b,ns(_,T)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,ns(_,b)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),_.postBody=(0,y.xO)(b)}return _}}function jd(C,_){return $a.apply(this,arguments)}function $a(){return($a=(0,s.Z)(function*(C,_){return Qe(C,"POST","/v1/accounts:sendVerificationCode",ht(C,_))})).apply(this,arguments)}function Vl(){return(Vl=(0,s.Z)(function*(C,_){return Jt(C,"POST","/v1/accounts:signInWithPhoneNumber",ht(C,_))})).apply(this,arguments)}function yi(){return(yi=(0,s.Z)(function*(C,_){const b=yield Jt(C,"POST","/v1/accounts:signInWithPhoneNumber",ht(C,_));if(b.temporaryProof)throw Fn(C,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const Bl={USER_NOT_FOUND:"user-not-found"};function Fr(){return(Fr=(0,s.Z)(function*(C,_){return Jt(C,"POST","/v1/accounts:signInWithPhoneNumber",ht(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Bl)})).apply(this,arguments)}class oi extends Hs{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,b){return new oi({verificationId:_,verificationCode:b})}static _fromTokenResponse(_,b){return new oi({phoneNumber:_,temporaryProof:b})}_getIdTokenResponse(_){return function ou(C,_){return Vl.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,b){return function Mf(C,_){return yi.apply(this,arguments)}(_,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Pf(C,_){return Fr.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:b,verificationId:T,verificationCode:$}=this.params;return _&&b?{temporaryProof:_,phoneNumber:b}:{sessionInfo:T,code:$}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:b,verificationCode:T,phoneNumber:$,temporaryProof:ie}=_;return T||b||$||ie?new oi({verificationId:b,verificationCode:T,phoneNumber:$,temporaryProof:ie}):null}}class Ul{constructor(_){var b,T,$,ie,ve,Ae;const Ze=(0,y.zd)((0,y.pd)(_)),st=null!==(b=Ze.apiKey)&&void 0!==b?b:null,_t=null!==(T=Ze.oobCode)&&void 0!==T?T:null,wt=function kf(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=Ze.mode)&&void 0!==$?$:null);_e(st&&_t&&wt,"argument-error"),this.apiKey=st,this.operation=wt,this.code=_t,this.continueUrl=null!==(ie=Ze.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(ve=Ze.languageCode)&&void 0!==ve?ve:null,this.tenantId=null!==(Ae=Ze.tenantId)&&void 0!==Ae?Ae:null}static parseLink(_){const b=function Hl(C){const _=(0,y.zd)((0,y.pd)(C)).link,b=_?(0,y.zd)((0,y.pd)(_)).deep_link_id:null,T=(0,y.zd)((0,y.pd)(C)).deep_link_id;return(T?(0,y.zd)((0,y.pd)(T)).link:null)||T||b||_||C}(_);try{return new Ul(b)}catch{return null}}}let sr=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(b,T){return su._fromEmailAndPassword(b,T)}static credentialWithLink(b,T){const $=Ul.parseLink(T);return _e($,"argument-error"),su._fromEmailAndCode(b,$.code,$.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class zs{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class zl extends zs{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Ui extends zl{static credentialFromJSON(_){const b="string"==typeof _?JSON.parse(_):_;return _e("providerId"in b&&"signInMethod"in b,"argument-error"),Hi._fromParams(b)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return _e(_.idToken||_.accessToken,"argument-error"),Hi._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Ui.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Ui.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:b,oauthAccessToken:T,oauthTokenSecret:$,pendingToken:ie,nonce:ve,providerId:Ae}=_;if(!T&&!$&&!b&&!ie||!Ae)return null;try{return new Ui(Ae)._credential({idToken:b,accessToken:T,nonce:ve,pendingToken:ie})}catch{return null}}}let vi=(()=>{class C extends zl{constructor(){super("facebook.com")}static credential(b){return Hi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),au=(()=>{class C extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(b,T){return Hi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:T})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:T,oauthAccessToken:$}=b;if(!T&&!$)return null;try{return C.credential(T,$)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),jl=(()=>{class C extends zl{constructor(){super("github.com")}static credential(b){return Hi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class or extends Hs{constructor(_,b){super(_,_),this.pendingToken=b}_getIdTokenResponse(_){return ns(_,this.buildRequest())}_linkToIdToken(_,b){const T=this.buildRequest();return T.idToken=b,ns(_,T)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,ns(_,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:T,signInMethod:$,pendingToken:ie}=b;return T&&$&&ie&&T===$?new or(T,ie):null}static _create(_,b){return new or(_,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Do extends zs{constructor(_){_e(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Do.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Do.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const b=or.fromJSON(_);return _e(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:b,providerId:T}=_;if(!b||!T)return null;try{return or._create(T,b)}catch{return null}}}let lu=(()=>{class C extends zl{constructor(){super("twitter.com")}static credential(b,T){return Hi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:T})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:T,oauthTokenSecret:$}=b;if(!T||!$)return null;try{return C.credential(T,$)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Ti(C,_){return uo.apply(this,arguments)}function uo(){return(uo=(0,s.Z)(function*(C,_){return Jt(C,"POST","/v1/accounts:signUp",ht(C,_))})).apply(this,arguments)}class Kr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,b,T,$=!1){return(0,s.Z)(function*(){const ie=yield qr._fromIdTokenResponse(_,T,$),ve=Bt(T);return new Kr({user:ie,providerId:ve,_tokenResponse:T,operationType:b})})()}static _forOperation(_,b,T){return(0,s.Z)(function*(){yield _._updateTokensIfNecessary(T,!0);const $=Bt(T);return new Kr({user:_,providerId:$,_tokenResponse:T,operationType:b})})()}}function Bt(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function $d(){return($d=(0,s.Z)(function*(C){var _;const b=gn(C);if(yield b._initializationPromise,null!==(_=b.currentUser)&&void 0!==_&&_.isAnonymous)return new Kr({user:b.currentUser,providerId:null,operationType:"signIn"});const T=yield Ti(b,{returnSecureToken:!0}),$=yield Kr._fromIdTokenResponse(b,"signIn",T,!0);return yield b._updateCurrentUser($.user),$})).apply(this,arguments)}class qa extends y.ZR{constructor(_,b,T,$){var ie;super(b.code,b.message),this.operationType=T,this.user=$,Object.setPrototypeOf(this,qa.prototype),this.customData={appName:_.name,tenantId:null!==(ie=_.tenantId)&&void 0!==ie?ie:void 0,_serverResponse:b.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(_,b,T,$){return new qa(_,b,T,$)}}function qd(C,_,b,T){return("reauthenticate"===_?b._getReauthenticationResolver(C):b._getIdTokenResponse(C)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?qa._fromErrorAndOperation(C,ie,_,T):ie})}function Wd(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function rs(){return(rs=(0,s.Z)(function*(C,_){const b=(0,y.m9)(C);yield nn(!0,b,_);const{providerUserInfo:T}=yield zr(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[_]}),$=Wd(T||[]);return b.providerData=b.providerData.filter(ie=>$.has(ie.providerId)),$.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function Gl(C,_){return qe.apply(this,arguments)}function qe(){return(qe=(0,s.Z)(function*(C,_,b=!1){const T=yield pt(C,_._linkToIdToken(C.auth,yield C.getIdToken()),b);return Kr._forOperation(C,"link",T)})).apply(this,arguments)}function nn(C,_,b){return $l.apply(this,arguments)}function $l(){return($l=(0,s.Z)(function*(C,_,b){yield _r(_);const $=!1===C?"provider-already-linked":"no-such-provider";_e(Wd(_.providerData).has(b)===C,_.auth,$)})).apply(this,arguments)}function cu(C,_){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,s.Z)(function*(C,_,b=!1){const{auth:T}=C,$="reauthenticate";try{const ie=yield pt(C,qd(T,$,_,C),b);_e(ie.idToken,T,"internal-error");const ve=dn(ie.idToken);_e(ve,T,"internal-error");const{sub:Ae}=ve;return _e(C.uid===Ae,T,"user-mismatch"),Kr._forOperation(C,$,ie)}catch(ie){throw"auth/user-not-found"===ie?.code&&ae(T,"user-mismatch"),ie}})).apply(this,arguments)}function ql(C,_){return To.apply(this,arguments)}function To(){return(To=(0,s.Z)(function*(C,_,b=!1){const T="signIn",$=yield qd(C,T,_),ie=yield Kr._fromIdTokenResponse(C,T,$);return b||(yield C._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function xi(C,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,s.Z)(function*(C,_){return ql(gn(C),_)})).apply(this,arguments)}function uu(C,_){return du.apply(this,arguments)}function du(){return(du=(0,s.Z)(function*(C,_){const b=(0,y.m9)(C);return yield nn(!1,b,_.providerId),Gl(b,_)})).apply(this,arguments)}function Jn(C,_){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,s.Z)(function*(C,_){return cu((0,y.m9)(C),_)})).apply(this,arguments)}function Of(C,_){return ai.apply(this,arguments)}function ai(){return(ai=(0,s.Z)(function*(C,_){return Jt(C,"POST","/v1/accounts:signInWithCustomToken",ht(C,_))})).apply(this,arguments)}function is(){return(is=(0,s.Z)(function*(C,_){const b=gn(C),T=yield Of(b,{token:_,returnSecureToken:!0}),$=yield Kr._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser($.user),$})).apply(this,arguments)}class js{constructor(_,b){this.factorId=_,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(_,b){return"phoneInfo"in b?Mi._fromServerResponse(_,b):"totpInfo"in b?Kd._fromServerResponse(_,b):ae(_,"internal-error")}}class Mi extends js{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,b){return new Mi(b)}}class Kd extends js{constructor(_){super("totp",_)}static _fromServerResponse(_,b){return new Kd(b)}}function xo(C,_,b){var T;_e((null===(T=b.url)||void 0===T?void 0:T.length)>0,C,"invalid-continue-uri"),_e(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=b.url,_.dynamicLinkDomain=b.dynamicLinkDomain,_.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(_e(b.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=b.iOS.bundleId),b.android&&(_e(b.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=b.android.installApp,_.androidMinimumVersionCode=b.android.minimumVersion,_.androidPackageName=b.android.packageName)}function la(){return la=(0,s.Z)(function*(C,_,b){var T;const $=gn(C),ie={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=$._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ve=yield Ss($,ie,"getOobCode",!0);b&&xo($,ve,b),yield Nl($,ve)}else b&&xo($,ie,b),yield Nl($,ie).catch(function(){var ve=(0,s.Z)(function*(Ae){if("auth/missing-recaptcha-token"!==Ae.code)return Promise.reject(Ae);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ze=yield Ss($,ie,"getOobCode",!0);b&&xo($,Ze,b),yield Nl($,Ze)}});return function(Ae){return ve.apply(this,arguments)}}())}),la.apply(this,arguments)}function Wa(){return(Wa=(0,s.Z)(function*(C,_,b){yield ts((0,y.m9)(C),{oobCode:_,newPassword:b})})).apply(this,arguments)}function li(){return(li=(0,s.Z)(function*(C,_){yield Ld((0,y.m9)(C),{oobCode:_})})).apply(this,arguments)}function fu(C,_){return Za.apply(this,arguments)}function Za(){return(Za=(0,s.Z)(function*(C,_){const b=(0,y.m9)(C),T=yield ts(b,{oobCode:_}),$=T.requestType;switch(_e($,b,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_e(T.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_e(T.mfaInfo,b,"internal-error");default:_e(T.email,b,"internal-error")}let ie=null;return T.mfaInfo&&(ie=js._fromServerResponse(gn(b),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:ie},operation:$}})).apply(this,arguments)}function Ao(){return(Ao=(0,s.Z)(function*(C,_){const{data:b}=yield fu((0,y.m9)(C),_);return b.email})).apply(this,arguments)}function Ya(){return Ya=(0,s.Z)(function*(C,_,b){var T;const $=gn(C),ie={returnSecureToken:!0,email:_,password:b,clientType:"CLIENT_TYPE_WEB"};let ve;if(null!==(T=$._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const st=yield Ss($,ie,"signUpPassword");ve=Ti($,st)}else ve=Ti($,ie).catch(function(){var st=(0,s.Z)(function*(_t){if("auth/missing-recaptcha-token"===_t.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const wt=yield Ss($,ie,"signUpPassword");return Ti($,wt)}return Promise.reject(_t)});return function(_t){return st.apply(this,arguments)}}());const Ae=yield ve.catch(st=>Promise.reject(st)),Ze=yield Kr._fromIdTokenResponse($,"signIn",Ae);return yield $._updateCurrentUser(Ze.user),Ze}),Ya.apply(this,arguments)}function Zl(){return Zl=(0,s.Z)(function*(C,_,b){var T;const $=gn(C),ie={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function ve(Ae,Ze){_e(Ze.handleCodeInApp,$,"argument-error"),Ze&&xo($,Ae,Ze)}if(null!==(T=$._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Ae=yield Ss($,ie,"getOobCode",!0);ve(Ae,b),yield Hd($,Ae)}else ve(ie,b),yield Hd($,ie).catch(function(){var Ae=(0,s.Z)(function*(Ze){if("auth/missing-recaptcha-token"!==Ze.code)return Promise.reject(Ze);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const st=yield Ss($,ie,"getOobCode",!0);ve(st,b),yield Hd($,st)}});return function(Ze){return Ae.apply(this,arguments)}}())}),Zl.apply(this,arguments)}function Gs(){return(Gs=(0,s.Z)(function*(C,_,b){const T=(0,y.m9)(C),$=sr.credentialWithLink(_,b||fe());return _e($._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),xi(T,$)})).apply(this,arguments)}function Un(C,_){return mu.apply(this,arguments)}function mu(){return(mu=(0,s.Z)(function*(C,_){return Qe(C,"POST","/v1/accounts:createAuthUri",ht(C,_))})).apply(this,arguments)}function gu(){return(gu=(0,s.Z)(function*(C,_){const T={identifier:_,continueUri:le()?fe():"http://localhost"},{signinMethods:$}=yield Un((0,y.m9)(C),T);return $||[]})).apply(this,arguments)}function Kl(){return(Kl=(0,s.Z)(function*(C,_){const b=(0,y.m9)(C),$={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&xo(b.auth,$,_);const{email:ie}=yield Df(b.auth,$);ie!==C.email&&(yield C.reload())})).apply(this,arguments)}function Mo(){return(Mo=(0,s.Z)(function*(C,_,b){const T=(0,y.m9)(C),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};b&&xo(T.auth,ie,b);const{email:ve}=yield Xm(T.auth,ie);ve!==C.email&&(yield C.reload())})).apply(this,arguments)}function Qa(C,_){return ua.apply(this,arguments)}function ua(){return(ua=(0,s.Z)(function*(C,_){return Qe(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Xa(){return(Xa=(0,s.Z)(function*(C,{displayName:_,photoURL:b}){if(void 0===_&&void 0===b)return;const T=(0,y.m9)(C),ie={idToken:yield T.getIdToken(),displayName:_,photoUrl:b,returnSecureToken:!0},ve=yield pt(T,Qa(T.auth,ie));T.displayName=ve.displayName||null,T.photoURL=ve.photoUrl||null;const Ae=T.providerData.find(({providerId:Ze})=>"password"===Ze);Ae&&(Ae.displayName=T.displayName,Ae.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ve)})).apply(this,arguments)}function Ja(C,_,b){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,s.Z)(function*(C,_,b){const{auth:T}=C,ie={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(ie.email=_),b&&(ie.password=b);const ve=yield pt(C,Nd(T,ie));yield C._updateTokensIfNecessary(ve,!0)})).apply(this,arguments)}class ss{constructor(_,b,T={}){this.isNewUser=_,this.providerId=b,this.profile=T}}class yu extends ss{constructor(_,b,T,$){super(_,b,T),this.username=$}}class eh extends ss{constructor(_,b){super(_,"facebook.com",b)}}class Lf extends yu{constructor(_,b){super(_,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class vu extends ss{constructor(_,b){super(_,"google.com",b)}}class Ql extends yu{constructor(_,b,T){super(_,"twitter.com",b,T)}}function Xl(C){const{user:_,_tokenResponse:b}=C;return _.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function Nf(C){var _,b;if(!C)return null;const{providerId:T}=C,$=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},ie=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!T&&C?.idToken){const ve=null===(b=null===(_=dn(C.idToken))||void 0===_?void 0:_.firebase)||void 0===b?void 0:b.sign_in_provider;if(ve)return new ss(ie,"anonymous"!==ve&&"custom"!==ve?ve:null)}if(!T)return null;switch(T){case"facebook.com":return new eh(ie,$);case"github.com":return new Lf(ie,$);case"google.com":return new vu(ie,$);case"twitter.com":return new Ql(ie,$,C.screenName||null);case"custom":case"anonymous":return new ss(ie,null);default:return new ss(ie,T,$)}}(b)}class Po{constructor(_,b,T){this.type=_,this.credential=b,this.auth=T}static _fromIdtoken(_,b){return new Po("enroll",_,b)}static _fromMfaPendingCredential(_){return new Po("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var b,T;if(_?.multiFactorSession){if(null!==(b=_.multiFactorSession)&&void 0!==b&&b.pendingCredential)return Po._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(T=_.multiFactorSession)&&void 0!==T&&T.idToken)return Po._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Ds{constructor(_,b,T){this.session=_,this.hints=b,this.signInResolver=T}static _fromError(_,b){const T=gn(_),$=b.customData._serverResponse,ie=($.mfaInfo||[]).map(Ae=>js._fromServerResponse(T,Ae));_e($.mfaPendingCredential,T,"internal-error");const ve=Po._fromMfaPendingCredential($.mfaPendingCredential);return new Ds(ve,ie,function(){var Ae=(0,s.Z)(function*(Ze){const st=yield Ze._process(T,ve);delete $.mfaInfo,delete $.mfaPendingCredential;const _t=Object.assign(Object.assign({},$),{idToken:st.idToken,refreshToken:st.refreshToken});switch(b.operationType){case"signIn":const wt=yield Kr._fromIdTokenResponse(T,b.operationType,_t);return yield T._updateCurrentUser(wt.user),wt;case"reauthenticate":return _e(b.user,T,"internal-error"),Kr._forOperation(b.user,b.operationType,_t);default:ae(T,"internal-error")}});return function(Ze){return Ae.apply(this,arguments)}}())}resolveSignIn(_){var b=this;return(0,s.Z)(function*(){return b.signInResolver(_)})()}}function nl(C,_){return Qe(C,"POST","/v2/accounts/mfaEnrollment:start",ht(C,_))}class ko{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(T=>js._fromServerResponse(_.auth,T)))})}static _fromUser(_){return new ko(_)}getSession(){var _=this;return(0,s.Z)(function*(){return Po._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,b){var T=this;return(0,s.Z)(function*(){const $=_,ie=yield T.getSession(),ve=yield pt(T.user,$._process(T.user.auth,ie,b));return yield T.user._updateTokensIfNecessary(ve),T.user.reload()})()}unenroll(_){var b=this;return(0,s.Z)(function*(){const T="string"==typeof _?_:_.uid,$=yield b.user.getIdToken();try{const ie=yield pt(b.user,function Eu(C,_){return Qe(C,"POST","/v2/accounts/mfaEnrollment:withdraw",ht(C,_))}(b.user.auth,{idToken:$,mfaEnrollmentId:T}));b.enrolledFactors=b.enrolledFactors.filter(({uid:ve})=>ve!==T),yield b.user._updateTokensIfNecessary(ie),yield b.user.reload()}catch(ie){throw ie}})()}}const Ro=new WeakMap,Oo="__sak";class tc{constructor(_,b){this.storageRetriever=_,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(Oo,"1"),this.storage.removeItem(Oo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,b){return this.storage.setItem(_,JSON.stringify(b)),Promise.resolve()}_get(_){const b=this.storage.getItem(_);return Promise.resolve(b?JSON.parse(b):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ts=(()=>{class C extends tc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,T)=>this.onStorageEvent(b,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Hf(){const C=(0,y.z$)();return Pe(C)||St(C)}()&&function es(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pn(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const T of Object.keys(this.listeners)){const $=this.storage.getItem(T),ie=this.localCache[T];$!==ie&&b(T,ie,$)}}onStorageEvent(b,T=!1){if(!b.key)return void this.forAllChangedKeys((Ae,Ze,st)=>{this.notifyListeners(Ae,st)});const $=b.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem($);if(b.newValue!==Ae)null!==b.newValue?this.storage.setItem($,b.newValue):this.storage.removeItem($);else if(this.localCache[$]===b.newValue&&!T)return}const ie=()=>{const Ae=this.storage.getItem($);!T&&this.localCache[$]===Ae||this.notifyListeners($,Ae)},ve=this.storage.getItem($);!function Wr(){return(0,y.w1)()&&10===document.documentMode}()||ve===b.newValue||b.newValue===b.oldValue?ie():setTimeout(ie,10)}notifyListeners(b,T){this.localCache[b]=T;const $=this.listeners[b];if($)for(const ie of Array.from($))ie(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,T,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:T,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(T)}_removeListener(b,T){this.listeners[b]&&(this.listeners[b].delete(T),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,T){var $=()=>super._set,ie=this;return(0,s.Z)(function*(){yield $().call(ie,b,T),ie.localCache[b]=JSON.stringify(T)})()}_get(b){var T=()=>super._get,$=this;return(0,s.Z)(function*(){const ie=yield T().call($,b);return $.localCache[b]=JSON.stringify(ie),ie})()}_remove(b){var T=()=>super._remove,$=this;return(0,s.Z)(function*(){yield T().call($,b),delete $.localCache[b]})()}}return C.type="LOCAL",C})(),Fo=(()=>{class C extends tc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,T){}_removeListener(b,T){}}return C.type="SESSION",C})();let nc=(()=>{class C{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const T=this.receivers.find(ie=>ie.isListeningto(b));if(T)return T;const $=new C(b);return this.receivers.push($),$}isListeningto(b){return this.eventTarget===b}handleEvent(b){var T=this;return(0,s.Z)(function*(){const $=b,{eventId:ie,eventType:ve,data:Ae}=$.data,Ze=T.handlersMap[ve];if(!Ze?.size)return;$.ports[0].postMessage({status:"ack",eventId:ie,eventType:ve});const st=Array.from(Ze).map(function(){var wt=(0,s.Z)(function*(Wn){return Wn($.origin,Ae)});return function(Wn){return wt.apply(this,arguments)}}()),_t=yield function Uf(C){return Promise.all(C.map(function(){var _=(0,s.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(T){return{fulfilled:!1,reason:T}}});return function(b){return _.apply(this,arguments)}}()))}(st);$.ports[0].postMessage({status:"done",eventId:ie,eventType:ve,response:_t})})()}_subscribe(b,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(T)}_unsubscribe(b,T){this.handlersMap[b]&&T&&this.handlersMap[b].delete(T),(!T||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function xs(C="",_=10){let b="";for(let T=0;T<_;T++)b+=Math.floor(10*Math.random());return C+b}class rg{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,b,T=50){var $=this;return(0,s.Z)(function*(){const ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let ve,Ae;return new Promise((Ze,st)=>{const _t=xs("",20);ie.port1.start();const wt=setTimeout(()=>{st(new Error("unsupported_event"))},T);Ae={messageChannel:ie,onMessage(Wn){const us=Wn;if(us.data.eventId===_t)switch(us.data.status){case"ack":clearTimeout(wt),ve=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(ve),Ze(us.data.response);break;default:clearTimeout(wt),clearTimeout(ve),st(new Error("invalid_response"))}}},$.handlers.add(Ae),ie.port1.addEventListener("message",Ae.onMessage),$.target.postMessage({eventType:_,eventId:_t,data:b},[ie.port2])}).finally(()=>{Ae&&$.removeMessageHandler(Ae)})})()}}function zn(){return window}function sl(){return typeof zn().WorkerGlobalScope<"u"&&"function"==typeof zn().importScripts}function rc(){return(rc=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const No="firebaseLocalStorageDb",ma="firebaseLocalStorage",Zs="fbase_key";class ic{constructor(_){this.request=_}toPromise(){return new Promise((_,b)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function ol(C,_){return C.transaction([ma],_?"readwrite":"readonly").objectStore(ma)}function Su(){const C=indexedDB.open(No,1);return new Promise((_,b)=>{C.addEventListener("error",()=>{b(C.error)}),C.addEventListener("upgradeneeded",()=>{const T=C.result;try{T.createObjectStore(ma,{keyPath:Zs})}catch($){b($)}}),C.addEventListener("success",(0,s.Z)(function*(){const T=C.result;T.objectStoreNames.contains(ma)?_(T):(T.close(),yield function In(){const C=indexedDB.deleteDatabase(No);return new ic(C).toPromise()}(),_(yield Su()))}))})}function sc(C,_,b){return jf.apply(this,arguments)}function jf(){return(jf=(0,s.Z)(function*(C,_,b){const T=ol(C,!0).put({[Zs]:_,value:b});return new ic(T).toPromise()})).apply(this,arguments)}function Gf(){return(Gf=(0,s.Z)(function*(C,_){const b=ol(C,!1).get(_),T=yield new ic(b).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function $f(C,_){const b=ol(C,!0).delete(_);return new ic(b).toPromise()}const oc=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,s.Z)(function*(){return b.db||(b.db=yield Su()),b.db})()}_withRetries(b){var T=this;return(0,s.Z)(function*(){let $=0;for(;;)try{const ie=yield T._openDb();return yield b(ie)}catch(ie){if($++>3)throw ie;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,s.Z)(function*(){return sl()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,s.Z)(function*(){b.receiver=nc._getInstance(function er(){return sl()?self:null}()),b.receiver._subscribe("keyChanged",function(){var T=(0,s.Z)(function*($,ie){return{keyProcessed:(yield b._poll()).includes(ie.key)}});return function($,ie){return T.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var T=(0,s.Z)(function*($,ie){return["keyChanged"]});return function($,ie){return T.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,s.Z)(function*(){var T,$;if(b.activeServiceWorker=yield function zf(){return rc.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new rg(b.activeServiceWorker);const ie=yield b.sender._send("ping",{},800);!ie||(null===(T=ie[0])||void 0===T?void 0:T.fulfilled)&&(null===($=ie[0])||void 0===$?void 0:$.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var T=this;return(0,s.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Ws(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:b},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const b=yield Su();return yield sc(b,Oo,"1"),yield $f(b,Oo),!0}catch{}return!1})()}_withPendingWrite(b){var T=this;return(0,s.Z)(function*(){T.pendingWrites++;try{yield b()}finally{T.pendingWrites--}})()}_set(b,T){var $=this;return(0,s.Z)(function*(){return $._withPendingWrite((0,s.Z)(function*(){return yield $._withRetries(ie=>sc(ie,b,T)),$.localCache[b]=T,$.notifyServiceWorker(b)}))})()}_get(b){var T=this;return(0,s.Z)(function*(){const $=yield T._withRetries(ie=>function nh(C,_){return Gf.apply(this,arguments)}(ie,b));return T.localCache[b]=$,$})()}_remove(b){var T=this;return(0,s.Z)(function*(){return T._withPendingWrite((0,s.Z)(function*(){return yield T._withRetries($=>$f($,b)),delete T.localCache[b],T.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,s.Z)(function*(){const T=yield b._withRetries(ve=>{const Ae=ol(ve,!1).getAll();return new ic(Ae).toPromise()});if(!T)return[];if(0!==b.pendingWrites)return[];const $=[],ie=new Set;for(const{fbase_key:ve,value:Ae}of T)ie.add(ve),JSON.stringify(b.localCache[ve])!==JSON.stringify(Ae)&&(b.notifyListeners(ve,Ae),$.push(ve));for(const ve of Object.keys(b.localCache))b.localCache[ve]&&!ie.has(ve)&&(b.notifyListeners(ve,null),$.push(ve));return $})()}notifyListeners(b,T){this.localCache[b]=T;const $=this.listeners[b];if($)for(const ie of Array.from($))ie(T)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(T)}_removeListener(b,T){this.listeners[b]&&(this.listeners[b].delete(T),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function yr(C,_){return Qe(C,"POST","/v2/accounts/mfaSignIn:start",ht(C,_))}const dr=1e12;class os{constructor(_){this.auth=_,this.counter=dr,this._widgets=new Map}render(_,b){const T=this.counter;return this._widgets.set(T,new Iu(_,this.auth.name,b||{})),this.counter++,T}reset(_){var b;const T=_||dr;null===(b=this._widgets.get(T))||void 0===b||b.delete(),this._widgets.delete(T)}getResponse(_){var b;return(null===(b=this._widgets.get(_||dr))||void 0===b?void 0:b.getResponse())||""}execute(_){var b=this;return(0,s.Z)(function*(){var T;return null===(T=b._widgets.get(_||dr))||void 0===T||T.execute(),""})()}}class Iu{constructor(_,b,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof _?document.getElementById(_):_;_e($,"argument-error",{appName:b}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Du(C){const _=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<C;T++)_.push(b.charAt(Math.floor(Math.random()*b.length)));return _.join("")}(50);const{callback:_,"expired-callback":b}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ga=Bi("rcb"),ih=new pe(3e4,6e4);class ig{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=zn().grecaptcha)||void 0===_||!_.render)}load(_,b=""){return _e(function Zf(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(b),_,"argument-error"),this.shouldResolveImmediately(b)&&Kt(zn().grecaptcha)?Promise.resolve(zn().grecaptcha):new Promise((T,$)=>{const ie=zn().setTimeout(()=>{$(he(_,"network-request-failed"))},ih.get());zn()[ga]=()=>{zn().clearTimeout(ie),delete zn()[ga];const Ae=zn().grecaptcha;if(!Ae||!Kt(Ae))return void $(he(_,"internal-error"));const Ze=Ae.render;Ae.render=(st,_t)=>{const wt=Ze(st,_t);return this.counter++,wt},this.hostLanguage=b,T(Ae)},Zr(`https://www.google.com/recaptcha/api.js??${(0,y.xO)({onload:ga,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(ie),$(he(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var b;return!(null===(b=zn().grecaptcha)||void 0===b||!b.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yy{load(_){return(0,s.Z)(function*(){return new os(_)})()}clearedOneInstance(){}}const lc="recaptcha",Pi={theme:"light",type:"image"};class cc{constructor(_,b=Object.assign({},Pi),T){this.parameters=b,this.type=lc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gn(T),this.isInvisible="invisible"===this.parameters.size,_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof _?document.getElementById(_):_;_e($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yy:new ig,this.validateStartingState()}verify(){var _=this;return(0,s.Z)(function*(){_.assertNotDestroyed();const b=yield _.render(),T=_.getAssertedRecaptcha();return T.getResponse(b)||new Promise(ie=>{const ve=Ae=>{!Ae||(_.tokenChangeListeners.delete(ve),ie(Ae))};_.tokenChangeListeners.add(ve),_.isInvisible&&T.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){_e(!this.parameters.sitekey,this.auth,"argument-error"),_e(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return b=>{if(this.tokenChangeListeners.forEach(T=>T(b)),"function"==typeof _)_(b);else if("string"==typeof _){const T=zn()[_];"function"==typeof T&&T(b)}}}assertNotDestroyed(){_e(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,s.Z)(function*(){if(yield _.init(),!_.widgetId){let b=_.container;if(!_.isInvisible){const T=document.createElement("div");b.appendChild(T),b=T}_.widgetId=_.getAssertedRecaptcha().render(b,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,s.Z)(function*(){_e(le()&&!sl(),_.auth,"internal-error"),yield function ll(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const b=yield function Oe(C){return Ye.apply(this,arguments)}(_.auth);_e(b,_.auth,"internal-error"),_.parameters.sitekey=b})()}getAssertedRecaptcha(){return _e(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tu{constructor(_,b){this.verificationId=_,this.onConfirmation=b}confirm(_){const b=oi._fromVerification(this.verificationId,_);return this.onConfirmation(b)}}function uc(){return(uc=(0,s.Z)(function*(C,_,b){const T=gn(C),$=yield dc(T,_,(0,y.m9)(b));return new Tu($,ie=>xi(T,ie))})).apply(this,arguments)}function Lo(){return(Lo=(0,s.Z)(function*(C,_,b){const T=(0,y.m9)(C);yield nn(!1,T,"phone");const $=yield dc(T.auth,_,(0,y.m9)(b));return new Tu($,ie=>uu(T,ie))})).apply(this,arguments)}function cl(){return(cl=(0,s.Z)(function*(C,_,b){const T=(0,y.m9)(C),$=yield dc(T.auth,_,(0,y.m9)(b));return new Tu($,ie=>Jn(T,ie))})).apply(this,arguments)}function dc(C,_,b){return En.apply(this,arguments)}function En(){return(En=(0,s.Z)(function*(C,_,b){var T;const $=yield b.verify();try{let ie;if(_e("string"==typeof $,C,"argument-error"),_e(b.type===lc,C,"argument-error"),ie="string"==typeof _?{phoneNumber:_}:_,"session"in ie){const ve=ie.session;if("phoneNumber"in ie)return _e("enroll"===ve.type,C,"internal-error"),(yield nl(C,{idToken:ve.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{_e("signin"===ve.type,C,"internal-error");const Ae=(null===(T=ie.multiFactorHint)||void 0===T?void 0:T.uid)||ie.multiFactorUid;return _e(Ae,C,"missing-multi-factor-info"),(yield yr(C,{mfaPendingCredential:ve.credential,mfaEnrollmentId:Ae,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ve}=yield jd(C,{phoneNumber:ie.phoneNumber,recaptchaToken:$});return ve}}finally{b._reset()}})).apply(this,arguments)}function gt(){return(gt=(0,s.Z)(function*(C,_){yield Gl((0,y.m9)(C),_)})).apply(this,arguments)}let bt=(()=>{class C{constructor(b){this.providerId=C.PROVIDER_ID,this.auth=gn(b)}verifyPhoneNumber(b,T){return dc(this.auth,b,(0,y.m9)(T))}static credential(b,T){return oi._fromVerification(b,T)}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:T,temporaryProof:$}=b;return T&&$?oi._fromTokenResponse(T,$):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function hr(C,_){return _?ir(_):(_e(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class ci extends Hs{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return ns(_,this._buildIdpRequest())}_linkToIdToken(_,b){return ns(_,this._buildIdpRequest(b))}_getReauthenticationResolver(_){return ns(_,this._buildIdpRequest())}_buildIdpRequest(_){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(b.idToken=_),b}}function _a(C){return ql(C.auth,new ci(C),C.bypassAuthState)}function Nr(C){const{auth:_,user:b}=C;return _e(b,_,"internal-error"),cu(b,new ci(C),C.bypassAuthState)}function hc(C){return ul.apply(this,arguments)}function ul(){return(ul=(0,s.Z)(function*(C){const{auth:_,user:b}=C;return _e(b,_,"internal-error"),Gl(b,new ci(C),C.bypassAuthState)})).apply(this,arguments)}class Vo{constructor(_,b,T,$,ie=!1){this.auth=_,this.resolver=T,this.user=$,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var _=this;return new Promise(function(){var b=(0,s.Z)(function*(T,$){_.pendingPromise={resolve:T,reject:$};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(ie){_.reject(ie)}});return function(T,$){return b.apply(this,arguments)}}())}onAuthEvent(_){var b=this;return(0,s.Z)(function*(){const{urlResponse:T,sessionId:$,postBody:ie,tenantId:ve,error:Ae,type:Ze}=_;if(Ae)return void b.reject(Ae);const st={auth:b.auth,requestUri:T,sessionId:$,tenantId:ve||void 0,postBody:ie||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(Ze)(st))}catch(_t){b.reject(_t)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return _a;case"linkViaPopup":case"linkViaRedirect":return hc;case"reauthViaPopup":case"reauthViaRedirect":return Nr;default:ae(this.auth,"internal-error")}}resolve(_){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ui=new pe(2e3,1e4);function ar(){return(ar=(0,s.Z)(function*(C,_,b){const T=gn(C);xe(C,_,zs);const $=hr(T,b);return new dl(T,"signInViaPopup",_,$).executeNotNull()})).apply(this,arguments)}function Et(){return(Et=(0,s.Z)(function*(C,_,b){const T=(0,y.m9)(C);xe(T.auth,_,zs);const $=hr(T.auth,b);return new dl(T.auth,"reauthViaPopup",_,$,T).executeNotNull()})).apply(this,arguments)}function Bo(){return(Bo=(0,s.Z)(function*(C,_,b){const T=(0,y.m9)(C);xe(T.auth,_,zs);const $=hr(T.auth,b);return new dl(T.auth,"linkViaPopup",_,$,T).executeNotNull()})).apply(this,arguments)}let dl=(()=>{class C extends Vo{constructor(b,T,$,ie,ve){super(b,T,ie,ve),this.provider=$,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var b=this;return(0,s.Z)(function*(){const T=yield b.execute();return _e(T,b.auth,"internal-error"),T})()}onExecution(){var b=this;return(0,s.Z)(function*(){Te(1===b.filter.length,"Popup operations only handle one event");const T=xs();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],T),b.authWindow.associatedEvent=T,b.resolver._originValidation(b.auth).catch($=>{b.reject($)}),b.resolver._isIframeWebStorageSupported(b.auth,$=>{$||b.reject(he(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(he(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const b=()=>{var T,$;this.pollId=null!==($=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==$&&$.closed?window.setTimeout(()=>{this.pollId=null,this.reject(he(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(b,ui.get())};b()}}return C.currentPopupAction=null,C})();const qn=new Map;class ah extends Vo{constructor(_,b,T=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,T),this.eventId=null}execute(){var _=()=>super.execute,b=this;return(0,s.Z)(function*(){let T=qn.get(b.auth._key());if(!T){try{const ie=(yield function Ks(C,_){return Au.apply(this,arguments)}(b.resolver,b.auth))?yield _().call(b):null;T=()=>Promise.resolve(ie)}catch($){T=()=>Promise.reject($)}qn.set(b.auth._key(),T)}return b.bypassAuthState||qn.set(b.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(_){var b=()=>super.onAuthEvent,T=this;return(0,s.Z)(function*(){if("signInViaRedirect"===_.type)return b().call(T,_);if("unknown"!==_.type){if(_.eventId){const $=yield T.auth._redirectUserForId(_.eventId);if($)return T.user=$,b().call(T,_);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Au(){return(Au=(0,s.Z)(function*(C,_){const b=ba(_),T=Ms(C);if(!(yield T._isAvailable()))return!1;const $="true"===(yield T._get(b));return yield T._remove(b),$})).apply(this,arguments)}function Ho(C,_){return va.apply(this,arguments)}function va(){return(va=(0,s.Z)(function*(C,_){return Ms(C)._set(ba(_),"true")})).apply(this,arguments)}function As(C,_){qn.set(C._key(),_)}function Ms(C){return ir(C._redirectPersistence)}function ba(C){return ye("pendingRedirect",C.config.apiKey,C.name)}function ki(){return(ki=(0,s.Z)(function*(C,_,b){const T=gn(C);xe(C,_,zs),yield T._initializationPromise;const $=hr(T,b);return yield Ho($,T),$._openRedirect(T,_,"signInViaRedirect")})).apply(this,arguments)}function vr(){return(vr=(0,s.Z)(function*(C,_,b){const T=(0,y.m9)(C);xe(T.auth,_,zs),yield T.auth._initializationPromise;const $=hr(T.auth,b);yield Ho($,T.auth);const ie=yield ho(T);return $._openRedirect(T.auth,_,"reauthViaRedirect",ie)})).apply(this,arguments)}function fr(){return(fr=(0,s.Z)(function*(C,_,b){const T=(0,y.m9)(C);xe(T.auth,_,zs),yield T.auth._initializationPromise;const $=hr(T.auth,b);yield nn(!1,T,_.providerId),yield Ho($,T.auth);const ie=yield ho(T);return $._openRedirect(T.auth,_,"linkViaRedirect",ie)})).apply(this,arguments)}function bi(){return(bi=(0,s.Z)(function*(C,_){return yield gn(C)._initializationPromise,lr(C,_,!1)})).apply(this,arguments)}function lr(C,_){return cr.apply(this,arguments)}function cr(){return(cr=(0,s.Z)(function*(C,_,b=!1){const T=gn(C),$=hr(T,_),ve=yield new ah(T,$,b).execute();return ve&&!b&&(delete ve.user._redirectEventId,yield T._persistUserIfCurrent(ve.user),yield T._setRedirectUser(null,_)),ve})).apply(this,arguments)}function ho(C){return wa.apply(this,arguments)}function wa(){return(wa=(0,s.Z)(function*(C){const _=xs(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class Ri{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let b=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(_,T)&&(b=!0,this.sendToConsumer(_,T),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Oi(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tr(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=_,b=!0)),b}sendToConsumer(_,b){var T;if(_.error&&!tr(_)){const $=(null===(T=_.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";b.onError(he(this.auth,$))}else b.onAuthEvent(_)}isEventForConsumer(_,b){const T=null===b.eventId||!!_.eventId&&_.eventId===b.eventId;return b.filter.includes(_.type)&&T}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($i(_))}saveEventToCache(_){this.cachedEventUids.add($i(_)),this.lastProcessedEventTime=Date.now()}}function $i(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function tr({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===_?.code}function Xf(C){return fo.apply(this,arguments)}function fo(){return(fo=(0,s.Z)(function*(C,_={}){return Qe(C,"GET","/v1/projects",_)})).apply(this,arguments)}const Jf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ep=/^https?/;function Uo(){return(Uo=(0,s.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield Xf(C);for(const b of _)try{if(hl(b))return}catch{}ae(C,"unauthorized-domain")})).apply(this,arguments)}function hl(C){const _=fe(),{protocol:b,hostname:T}=new URL(_);if(C.startsWith("chrome-extension://")){const ve=new URL(C);return""===ve.hostname&&""===T?"chrome-extension:"===b&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===b&&ve.hostname===T}if(!ep.test(b))return!1;if(Jf.test(C))return T===C;const $=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(T)}const sn=new pe(3e4,6e4);function fl(){const C=zn().___jsl;if(C?.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let b=0;b<C.CP.length;b++)C.CP[b]=null}let Ys=null;function po(C){return Ys=Ys||function Ea(C){return new Promise((_,b)=>{var T,$,ie;function ve(){fl(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{fl(),b(he(C,"network-request-failed"))},timeout:sn.get()})}if(null!==($=null===(T=zn().gapi)||void 0===T?void 0:T.iframes)&&void 0!==$&&$.Iframe)_(gapi.iframes.getContext());else{if(null===(ie=zn().gapi)||void 0===ie||!ie.load){const Ae=Bi("iframefcb");return zn()[Ae]=()=>{gapi.load?ve():b(he(C,"network-request-failed"))},Zr(`https://apis.google.com/js/api.js?onload=${Ae}`).catch(Ze=>b(Ze))}ve()}}).catch(_=>{throw Ys=null,_})}(C),Ys}const ch=new pe(5e3,15e3),Pu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ls=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vy(C){const _=C.config;_e(_.authDomain,C,"auth-domain-config-required");const b=_.emulator?Ne(_,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,T={apiKey:_.apiKey,appName:C.name,v:D.SDK_VERSION},$=ls.get(C.config.apiHost);$&&(T.eid=$);const ie=C._getFrameworks();return ie.length&&(T.fw=ie.join(",")),`${b}?${(0,y.xO)(T).slice(1)}`}function N(){return N=(0,s.Z)(function*(C){const _=yield po(C),b=zn().gapi;return _e(b,C,"internal-error"),_.open({where:document.body,url:vy(C),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pu,dontclear:!0},T=>new Promise(function(){var $=(0,s.Z)(function*(ie,ve){yield T.restyle({setHideOnLeave:!1});const Ae=he(C,"network-request-failed"),Ze=zn().setTimeout(()=>{ve(Ae)},ch.get());function st(){zn().clearTimeout(Ze),ie(T)}T.ping(st).then(st,()=>{ve(Ae)})});return function(ie,ve){return $.apply(this,arguments)}}()))}),N.apply(this,arguments)}const J={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class at{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xr=encodeURIComponent("fac");function kn(C,_,b,T,$,ie){return xt.apply(this,arguments)}function xt(){return(xt=(0,s.Z)(function*(C,_,b,T,$,ie){_e(C.config.authDomain,C,"auth-domain-config-required"),_e(C.config.apiKey,C,"invalid-api-key");const ve={apiKey:C.config.apiKey,appName:C.name,authType:b,redirectUrl:T,v:D.SDK_VERSION,eventId:$};if(_ instanceof zs){_.setDefaultLanguage(C.languageCode),ve.providerId=_.providerId||"",(0,y.xb)(_.getCustomParameters())||(ve.customParameters=JSON.stringify(_.getCustomParameters()));for(const[_t,wt]of Object.entries(ie||{}))ve[_t]=wt}if(_ instanceof zl){const _t=_.getScopes().filter(wt=>""!==wt);_t.length>0&&(ve.scopes=_t.join(","))}C.tenantId&&(ve.tid=C.tenantId);const Ae=ve;for(const _t of Object.keys(Ae))void 0===Ae[_t]&&delete Ae[_t];const Ze=yield C._getAppCheckToken(),st=Ze?`#${Xr}=${encodeURIComponent(Ze)}`:"";return`${cs(C)}?${(0,y.xO)(Ae).slice(1)}${st}`})).apply(this,arguments)}function cs({config:C}){return C.emulator?Ne(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}const mo="webStorageSupport";class ku extends class yc{constructor(_){this.factorId=_}_process(_,b,T){switch(b.type){case"enroll":return this._finalizeEnroll(_,b.credential,T);case"signin":return this._finalizeSignIn(_,b.credential);default:return $e("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new ku(_)}_finalizeEnroll(_,b,T){return function zi(C,_){return Qe(C,"POST","/v2/accounts/mfaEnrollment:finalize",ht(C,_))}(_,{idToken:b,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,b){return function ac(C,_){return Qe(C,"POST","/v2/accounts/mfaSignIn:finalize",ht(C,_))}(_,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let og=(()=>{class C{constructor(){}static assertion(b){return ku._fromCredential(b)}}return C.FACTOR_ID="phone",C})();var uh="@firebase/auth";class dh{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var b=this;return(0,s.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const b=this.auth.onIdTokenChanged(T=>{_(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,b),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const b=this.internalListeners.get(_);!b||(this.internalListeners.delete(_),b(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Sa(){return window}function Ou(){return(Ou=(0,s.Z)(function*(C,_,b){var T;const{BuildInfo:$}=Sa();Te(_.sessionId,"AuthEvent did not contain a session ID");const ie=yield wy(_.sessionId),ve={};return St()?ve.ibi=$.packageName:Zt()?ve.apn=$.packageName:ae(C,"operation-not-supported-in-this-environment"),$.displayName&&(ve.appDisplayName=$.displayName),ve.sessionId=ie,kn(C,b,_.type,void 0,null!==(T=_.eventId)&&void 0!==T?T:void 0,ve)})).apply(this,arguments)}function Ec(){return(Ec=(0,s.Z)(function*(C){const{BuildInfo:_}=Sa(),b={};St()?b.iosBundleId=_.packageName:Zt()?b.androidPackageName=_.packageName:ae(C,"operation-not-supported-in-this-environment"),yield Xf(C,b)})).apply(this,arguments)}function Fu(){return(Fu=(0,s.Z)(function*(C,_,b){const{cordova:T}=Sa();let $=()=>{};try{yield new Promise((ie,ve)=>{let Ae=null;function Ze(){var wt;ie();const Wn=null===(wt=T.plugins.browsertab)||void 0===wt?void 0:wt.close;"function"==typeof Wn&&Wn(),"function"==typeof b?.close&&b.close()}function st(){Ae||(Ae=window.setTimeout(()=>{ve(he(C,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===document?.visibilityState&&st()}_.addPassiveListener(Ze),document.addEventListener("resume",st,!1),Zt()&&document.addEventListener("visibilitychange",_t,!1),$=()=>{_.removePassiveListener(Ze),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",_t,!1),Ae&&window.clearTimeout(Ae)}})}finally{$()}})).apply(this,arguments)}function wy(C){return sp.apply(this,arguments)}function sp(){return(sp=(0,s.Z)(function*(C){const _=Ey(C),b=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(b)).map($=>$.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ey(C){if(Te(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const _=new ArrayBuffer(C.length),b=new Uint8Array(_);for(let T=0;T<C.length;T++)b[T]=C.charCodeAt(T);return b}(0,y.Pz)("authIdTokenMaxAge"),function ag(C){(0,D._registerComponent)(new O.wA("auth",(_,{options:b})=>{const T=_.getProvider("app").getImmediate(),$=_.getProvider("heartbeat"),ie=_.getProvider("app-check-internal"),{apiKey:ve,authDomain:Ae}=T.options;_e(ve&&!ve.includes(":"),"invalid-api-key",{appName:T.name}),_e(!Ae?.includes(":"),"argument-error",{appName:T.name});const Ze={apiKey:ve,authDomain:Ae,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fe(C)},st=new Jc(T,$,ie,Ze);return function Nn(C,_){const b=_?.persistence||[],T=(Array.isArray(b)?b:[b]).map(ir);_?.errorMap&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(T,_?.popupRedirectResolver)}(st,b),st},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,b,T)=>{_.getProvider("auth-internal").initialize()})),(0,D._registerComponent)(new O.wA("auth-internal",_=>{const b=gn(_.getProvider("auth").getImmediate());return new dh(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,D.registerVersion)(uh,"0.23.1",function rp(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,D.registerVersion)(uh,"0.23.1","esm2017")}("Browser");class gl extends Ri{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(b=>b(_)),super.onEvent(_)}initialized(){var _=this;return(0,s.Z)(function*(){yield _.initPromise})()}}function op(C){return ph.apply(this,arguments)}function ph(){return(ph=(0,s.Z)(function*(C){const _=yield zo()._get(Nu(C));return _&&(yield zo()._remove(Nu(C))),_})).apply(this,arguments)}function ug(){const C=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<20;b++){const T=Math.floor(Math.random()*_.length);C.push(_.charAt(T))}return C.join("")}function zo(){return ir(Ts)}function Nu(C){return ye("authEvent",C.config.apiKey,C.name)}function vl(C){if(!C?.includes("?"))return{};const[_,...b]=C.split("?");return(0,y.zd)(b.join("?"))}function gh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:he("no-auth-event")}}function Js(){var C;return(null===(C=self?.location)||void 0===C?void 0:C.protocol)||null}function yh(C=(0,y.z$)()){return!("file:"!==Js()&&"ionic:"!==Js()&&"capacitor:"!==Js()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function fp(){try{const C=self.localStorage,_=xs();if(C)return C.setItem(_,"1"),C.removeItem(_),!function Cy(C=(0,y.z$)()){return function hp(){return(0,y.w1)()&&11===document?.documentMode}()||function Lu(C=(0,y.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,y.hl)()}catch{return pp()&&(0,y.hl)()}return!1}function pp(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function mp(){return(function up(){return"http:"===Js()||"https:"===Js()}()||(0,y.ru)()||yh())&&!function dp(){return(0,y.b$)()||(0,y.UG)()}()&&fp()&&!pp()}function gp(){return yh()&&typeof document<"u"}function Sc(){return(Sc=(0,s.Z)(function*(){return!!gp()&&new Promise(C=>{const _=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),C(!0)})})})).apply(this,arguments)}const Vr={LOCAL:"local",NONE:"none",SESSION:"session"},Ic=_e,bh="persistence";function eo(C){return _o.apply(this,arguments)}function _o(){return(_o=(0,s.Z)(function*(C){yield C._initializationPromise;const _=wh(),b=ye(bh,C.config.apiKey,C.name);_&&_.setItem(b,C._getPersistence())})).apply(this,arguments)}function wh(){var C;try{return(null===(C=function vh(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch{return null}}const Eh=_e;class Jr{constructor(){this.browserResolver=ir(class Lr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fo,this._completeRedirectFn=lr,this._overrideRedirectResult=As}_openPopup(_,b,T,$){var ie=this;return(0,s.Z)(function*(){var ve;Te(null===(ve=ie.eventManagers[_._key()])||void 0===ve?void 0:ve.manager,"_initialize() not called before _openPopup()");const Ae=yield kn(_,b,T,fe(),$);return function it(C,_,b,T=500,$=600){const ie=Math.max((window.screen.availHeight-$)/2,0).toString(),ve=Math.max((window.screen.availWidth-T)/2,0).toString();let Ae="";const Ze=Object.assign(Object.assign({},J),{width:T.toString(),height:$.toString(),top:ie,left:ve}),st=(0,y.z$)().toLowerCase();b&&(Ae=ot(st)?"_blank":b),Be(st)&&(_=_||"http://localhost",Ze.scrollbars="yes");const _t=Object.entries(Ze).reduce((Wn,[us,zu])=>`${Wn}${us}=${zu},`,"");if(function Mn(C=(0,y.z$)()){var _;return St(C)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(st)&&"_self"!==Ae)return function It(C,_){const b=document.createElement("a");b.href=C,b.target=_;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(T)}(_||"",Ae),new at(null);const wt=window.open(_||"",Ae,_t);_e(wt,C,"popup-blocked");try{wt.focus()}catch{}return new at(wt)}(_,Ae,xs())})()}_openRedirect(_,b,T,$){var ie=this;return(0,s.Z)(function*(){return yield ie._originValidation(_),function Cu(C){zn().location.href=C}(yield kn(_,b,T,fe(),$)),new Promise(()=>{})})()}_initialize(_){const b=_._key();if(this.eventManagers[b]){const{manager:$,promise:ie}=this.eventManagers[b];return $?Promise.resolve($):(Te(ie,"If manager is not set, promise should be"),ie)}const T=this.initAndGetManager(_);return this.eventManagers[b]={promise:T},T.catch(()=>{delete this.eventManagers[b]}),T}initAndGetManager(_){var b=this;return(0,s.Z)(function*(){const T=yield function x(C){return N.apply(this,arguments)}(_),$=new Ri(_);return T.register("authEvent",ie=>(_e(ie?.authEvent,_,"invalid-auth-event"),{status:$.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[_._key()]={manager:$},b.iframes[_._key()]=T,$})()}_isIframeWebStorageSupported(_,b){this.iframes[_._key()].send(mo,{type:mo},$=>{var ie;const ve=null===(ie=$?.[0])||void 0===ie?void 0:ie[mo];void 0!==ve&&b(!!ve),ae(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const b=_._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Mu(C){return Uo.apply(this,arguments)}(_)),this.originValidationPromises[b]}get _shouldInitProactively(){return Pn()||Pe()||St()}}),this.cordovaResolver=ir(class lp{constructor(){this._redirectPersistence=Fo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=lr,this._overrideRedirectResult=As}_initialize(_){var b=this;return(0,s.Z)(function*(){const T=_._key();let $=b.eventManagers.get(T);return $||($=new gl(_),b.eventManagers.set(T,$),b.attachCallbackListeners(_,$)),$})()}_openPopup(_){ae(_,"operation-not-supported-in-this-environment")}_openRedirect(_,b,T,$){var ie=this;return(0,s.Z)(function*(){!function lw(C){var _,b,T,$,ie,ve,Ae,Ze,st,_t;const wt=Sa();_e("function"==typeof(null===(_=wt?.universalLinks)||void 0===_?void 0:_.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),_e(typeof(null===(b=wt?.BuildInfo)||void 0===b?void 0:b.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),_e("function"==typeof(null===(ie=null===($=null===(T=wt?.cordova)||void 0===T?void 0:T.plugins)||void 0===$?void 0:$.browsertab)||void 0===ie?void 0:ie.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_e("function"==typeof(null===(Ze=null===(Ae=null===(ve=wt?.cordova)||void 0===ve?void 0:ve.plugins)||void 0===Ae?void 0:Ae.browsertab)||void 0===Ze?void 0:Ze.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_e("function"==typeof(null===(_t=null===(st=wt?.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===_t?void 0:_t.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const ve=yield ie._initialize(_);yield ve.initialized(),ve.resetRedirect(),function Yf(){qn.clear()}(),yield ie._originValidation(_);const Ae=function _l(C,_,b=null){return{type:_,eventId:b,urlResponse:null,sessionId:ug(),postBody:null,tenantId:C.tenantId,error:he(C,"no-auth-event")}}(_,T,$);yield function fh(C,_){return zo()._set(Nu(C),_)}(_,Ae);const Ze=yield function wc(C,_,b){return Ou.apply(this,arguments)}(_,Ae,b),st=yield function ip(C){const{cordova:_}=Sa();return new Promise(b=>{_.plugins.browsertab.isAvailable(T=>{let $=null;T?_.plugins.browsertab.openUrl(C):$=_.InAppBrowser.open(C,function Mt(C=(0,y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),b($)})})}(Ze);return function ml(C,_,b){return Fu.apply(this,arguments)}(_,ve,st)})()}_isIframeWebStorageSupported(_,b){throw new Error("Method not implemented.")}_originValidation(_){const b=_._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function hh(C){return Ec.apply(this,arguments)}(_)),this.originValidationPromises[b]}attachCallbackListeners(_,b){const{universalLinks:T,handleOpenURL:$,BuildInfo:ie}=Sa(),ve=setTimeout((0,s.Z)(function*(){yield op(_),b.onEvent(gh())}),500),Ae=function(){var _t=(0,s.Z)(function*(wt){clearTimeout(ve);const Wn=yield op(_);let us=null;Wn&&wt?.url&&(us=function yl(C,_){var b,T;const $=function ap(C){const _=vl(C),b=_.link?decodeURIComponent(_.link):void 0,T=vl(b).link,$=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return vl($).link||$||T||b||C}(_);if($.includes("/__/auth/callback")){const ie=vl($),ve=ie.firebaseError?function dg(C){try{return JSON.parse(C)}catch{return null}}(decodeURIComponent(ie.firebaseError)):null,Ae=null===(T=null===(b=ve?.code)||void 0===b?void 0:b.split("auth/"))||void 0===T?void 0:T[1],Ze=Ae?he(Ae):null;return Ze?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Ze,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:$,postBody:null}}return null}(Wn,wt.url)),b.onEvent(us||gh())});return function(Wn){return _t.apply(this,arguments)}}();typeof T<"u"&&"function"==typeof T.subscribe&&T.subscribe(null,Ae);const Ze=$,st=`${ie.packageName.toLowerCase()}://`;Sa().handleOpenURL=function(){var _t=(0,s.Z)(function*(wt){if(wt.toLowerCase().startsWith(st)&&Ae({url:wt}),"function"==typeof Ze)try{Ze(wt)}catch(Wn){console.error(Wn)}});return function(wt){return _t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Fo,this._completeRedirectFn=lr,this._overrideRedirectResult=As}_initialize(_){var b=this;return(0,s.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,b,T,$){var ie=this;return(0,s.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openPopup(_,b,T,$)})()}_openRedirect(_,b,T,$){var ie=this;return(0,s.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openRedirect(_,b,T,$)})()}_isIframeWebStorageSupported(_,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,b)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return gp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Eh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,s.Z)(function*(){if(_.underlyingResolver)return;const b=yield function _p(){return Sc.apply(this,arguments)}();_.underlyingResolver=b?_.cordovaResolver:_.browserResolver})()}}function Ch(C){return C.unwrap()}function Vu(C){return Sh(C)}function Sh(C){const{_tokenResponse:_}=C instanceof y.ZR?C.customData:C;if(!_)return null;if(!(C instanceof y.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return bt.credentialFromResult(C);const b=_.providerId;if(!b||"password"===b)return null;let T;switch(b){case"google.com":T=au;break;case"facebook.com":T=vi;break;case"github.com":T=jl;break;case"twitter.com":T=lu;break;default:const{oauthIdToken:$,oauthAccessToken:ie,oauthTokenSecret:ve,pendingToken:Ae,nonce:Ze}=_;return ie||ve||$||Ae?Ae?b.startsWith("saml.")?or._create(b,Ae):Hi._fromParams({providerId:b,signInMethod:b,pendingToken:Ae,idToken:$,accessToken:ie}):new Ui(b).credential({idToken:$,accessToken:ie,rawNonce:Ze}):null}return C instanceof y.ZR?T.credentialFromError(C):T.credentialFromResult(C)}function Fi(C,_){return _.catch(b=>{throw b instanceof y.ZR&&function Ia(C,_){var b;const T=null===(b=_.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===_?.code)_.resolver=new Sy(C,function ec(C,_){var b;const T=(0,y.m9)(C),$=_;return _e(_.customData.operationType,T,"argument-error"),_e(null===(b=$.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,T,"argument-error"),Ds._fromError(T,$)}(C,_));else if(T){const $=Sh(_),ie=_;$&&(ie.credential=$,ie.tenantId=T.tenantId||void 0,ie.email=T.email||void 0,ie.phoneNumber=T.phoneNumber||void 0)}}(C,b),b}).then(b=>{const $=b.user;return{operationType:b.operationType,credential:Vu(b),additionalUserInfo:Xl(b),user:br.getOrCreate($)}})}function Bu(C,_){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,s.Z)(function*(C,_){const b=yield _;return{verificationId:b.verificationId,confirm:T=>Fi(C,b.confirm(T))}})).apply(this,arguments)}class Sy{constructor(_,b){this.resolver=b,this.auth=function mg(C){return C.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return Fi(Ch(this.auth),this.resolver.resolveSignIn(_))}}class br{constructor(_){this._delegate=_,this.multiFactor=function rl(C){const _=(0,y.m9)(C);return Ro.has(_)||Ro.set(_,ko._fromUser(_)),Ro.get(_)}(_)}static getOrCreate(_){return br.USER_MAP.has(_)||br.USER_MAP.set(_,new br(_)),br.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var b=this;return(0,s.Z)(function*(){return Fi(b.auth,uu(b._delegate,_))})()}linkWithPhoneNumber(_,b){var T=this;return(0,s.Z)(function*(){return Bu(T.auth,function sg(C,_,b){return Lo.apply(this,arguments)}(T._delegate,_,b))})()}linkWithPopup(_){var b=this;return(0,s.Z)(function*(){return Fi(b.auth,function oh(C,_,b){return Bo.apply(this,arguments)}(b._delegate,_,Jr))})()}linkWithRedirect(_){var b=this;return(0,s.Z)(function*(){return yield eo(gn(b.auth)),function mc(C,_,b){return function Qf(C,_,b){return fr.apply(this,arguments)}(C,_,b)}(b._delegate,_,Jr)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var b=this;return(0,s.Z)(function*(){return Fi(b.auth,Jn(b._delegate,_))})()}reauthenticateWithPhoneNumber(_,b){return Bu(this.auth,function xu(C,_,b){return cl.apply(this,arguments)}(this._delegate,_,b))}reauthenticateWithPopup(_){return Fi(this.auth,function ya(C,_,b){return Et.apply(this,arguments)}(this._delegate,_,Jr))}reauthenticateWithRedirect(_){var b=this;return(0,s.Z)(function*(){return yield eo(gn(b.auth)),function Gi(C,_,b){return function Qr(C,_,b){return vr.apply(this,arguments)}(C,_,b)}(b._delegate,_,Jr)})()}sendEmailVerification(_){return function Xd(C,_){return Kl.apply(this,arguments)}(this._delegate,_)}unlink(_){var b=this;return(0,s.Z)(function*(){return yield function Zd(C,_){return rs.apply(this,arguments)}(b._delegate,_),b})()}updateEmail(_){return function Ff(C,_){return Ja((0,y.m9)(C),_,null)}(this._delegate,_)}updatePassword(_){return function $s(C,_){return Ja((0,y.m9)(C),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function as(C,_){return gt.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function Jd(C,_){return Xa.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,b){return function _u(C,_,b){return Mo.apply(this,arguments)}(this._delegate,_,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}br.USER_MAP=new WeakMap;const yo=_e;let gg=(()=>{class C{constructor(b,T){if(this.app=b,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$}=b.options;yo($,"invalid-api-key",{appName:b.name}),yo($,"invalid-api-key",{appName:b.name});const ie=typeof window<"u"?Jr:void 0;this._delegate=T.initialize({options:{persistence:_g($,b.name),popupRedirectResolver:ie}}),this._delegate._updateErrorMap(z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?br.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,T){!function Fd(C,_,b){const T=gn(C);_e(T._canInitEmulator,T,"emulator-config-failed"),_e(/^https?:\/\//.test(_),T,"invalid-emulator-scheme");const $=!!b?.disableWarnings,ie=xr(_),{host:ve,port:Ae}=function _i(C){const _=xr(C),b=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!b)return{host:"",port:null};const T=b[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(T);if($){const ie=$[1];return{host:ie,port:co(T.substr(ie.length+1))}}{const[ie,ve]=T.split(":");return{host:ie,port:co(ve)}}}(_);T.config.emulator={url:`${ie}//${ve}${null===Ae?"":`:${Ae}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ve,port:Ae,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function ia(){function C(){const _=document.createElement("p"),b=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,b,T)}applyActionCode(b){return function Wl(C,_){return li.apply(this,arguments)}(this._delegate,b)}checkActionCode(b){return fu(this._delegate,b)}confirmPasswordReset(b,T){return function hu(C,_,b){return Wa.apply(this,arguments)}(this._delegate,b,T)}createUserWithEmailAndPassword(b,T){var $=this;return(0,s.Z)(function*(){return Fi($._delegate,function pu(C,_,b){return Ya.apply(this,arguments)}($._delegate,b,T))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return function Qd(C,_){return gu.apply(this,arguments)}(this._delegate,b)}isSignInWithEmailLink(b){return function tg(C,_){return"EMAIL_SIGNIN"===Ul.parseLink(_)?.operation}(0,b)}getRedirectResult(){var b=this;return(0,s.Z)(function*(){yo(mp(),b._delegate,"operation-not-supported-in-this-environment");const T=yield function Ar(C,_){return bi.apply(this,arguments)}(b._delegate,Jr);return T?Fi(b._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function cp(C,_){gn(C)._logFramework(_)}(this._delegate,b)}onAuthStateChanged(b,T,$){const{next:ie,error:ve,complete:Ae}=Ih(b,T,$);return this._delegate.onAuthStateChanged(ie,ve,Ae)}onIdTokenChanged(b,T,$){const{next:ie,error:ve,complete:Ae}=Ih(b,T,$);return this._delegate.onIdTokenChanged(ie,ve,Ae)}sendSignInLinkToEmail(b,T){return function ca(C,_,b){return Zl.apply(this,arguments)}(this._delegate,b,T)}sendPasswordResetEmail(b,T){return function eg(C,_,b){return la.apply(this,arguments)}(this._delegate,b,T||void 0)}setPersistence(b){var T=this;return(0,s.Z)(function*(){let $;switch(function fg(C,_){Ic(Object.values(Vr).includes(_),C,"invalid-persistence-type"),(0,y.b$)()?Ic(_!==Vr.SESSION,C,"unsupported-persistence-type"):(0,y.UG)()?Ic(_===Vr.NONE,C,"unsupported-persistence-type"):pp()?Ic(_===Vr.NONE||_===Vr.LOCAL&&(0,y.hl)(),C,"unsupported-persistence-type"):Ic(_===Vr.NONE||fp(),C,"unsupported-persistence-type")}(T._delegate,b),b){case Vr.SESSION:$=Fo;break;case Vr.LOCAL:$=(yield ir(oc)._isAvailable())?oc:Ts;break;case Vr.NONE:$=gi;break;default:return ae("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence($)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return Fi(this._delegate,function Gd(C){return $d.apply(this,arguments)}(this._delegate))}signInWithCredential(b){return Fi(this._delegate,xi(this._delegate,b))}signInWithCustomToken(b){return Fi(this._delegate,function Ai(C,_){return is.apply(this,arguments)}(this._delegate,b))}signInWithEmailAndPassword(b,T){return Fi(this._delegate,function Yd(C,_,b){return xi((0,y.m9)(C),sr.credential(_,b))}(this._delegate,b,T))}signInWithEmailLink(b,T){return Fi(this._delegate,function _n(C,_,b){return Gs.apply(this,arguments)}(this._delegate,b,T))}signInWithPhoneNumber(b,T){return Bu(this._delegate,function Kf(C,_,b){return uc.apply(this,arguments)}(this._delegate,b,T))}signInWithPopup(b){var T=this;return(0,s.Z)(function*(){return yo(mp(),T._delegate,"operation-not-supported-in-this-environment"),Fi(T._delegate,function fc(C,_,b){return ar.apply(this,arguments)}(T._delegate,b,Jr))})()}signInWithRedirect(b){var T=this;return(0,s.Z)(function*(){return yo(mp(),T._delegate,"operation-not-supported-in-this-environment"),yield eo(T._delegate),function lh(C,_,b){return function Ps(C,_,b){return ki.apply(this,arguments)}(C,_,b)}(T._delegate,b,Jr)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return function Ka(C,_){return Ao.apply(this,arguments)}(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=Vr,C})();function Ih(C,_,b){let T=C;"function"!=typeof C&&({next:T,error:_,complete:b}=C);const $=T;return{next:ve=>$(ve&&br.getOrCreate(ve)),error:_,complete:b}}function _g(C,_){const b=function pg(C,_){const b=wh();if(!b)return[];const T=ye(bh,C,_);switch(b.getItem(T)){case Vr.NONE:return[gi];case Vr.LOCAL:return[oc,Fo];case Vr.SESSION:return[Fo];default:return[]}}(C,_);if(typeof self<"u"&&!b.includes(oc)&&b.push(oc),typeof window<"u")for(const T of[Ts,Fo])b.includes(T)||b.push(T);return b.includes(gi)||b.push(gi),b}class Dh{constructor(){this.providerId="phone",this._delegate=new bt(Ch(v.Z.auth()))}static credential(_,b){return bt.credential(_,b)}verifyPhoneNumber(_,b){return this._delegate.verifyPhoneNumber(_,b)}unwrap(){return this._delegate}}Dh.PHONE_SIGN_IN_METHOD=bt.PHONE_SIGN_IN_METHOD,Dh.PROVIDER_ID=bt.PROVIDER_ID;const yg=_e;class vg{constructor(_,b,T=v.Z.app()){var $;yg(null===($=T.options)||void 0===$?void 0:$.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new cc(_,b,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Uu(C){C.INTERNAL.registerComponent(new O.wA("auth-compat",_=>{const b=_.getProvider("app-compat").getImmediate(),T=_.getProvider("auth");return new gg(b,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:sr,FacebookAuthProvider:vi,GithubAuthProvider:jl,GoogleAuthProvider:au,OAuthProvider:Ui,SAMLAuthProvider:Do,PhoneAuthProvider:Dh,PhoneMultiFactorGenerator:og,RecaptchaVerifier:vg,TwitterAuthProvider:lu,Auth:gg,AuthCredential:Hs,Error:y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.4.1")}(v.Z)},5861:(c,h,f)=>{"use strict";function s(y,D,M,P,O,j,Q){try{var R=y[j](Q),H=R.value}catch(U){return void M(U)}R.done?D(H):Promise.resolve(H).then(P,O)}function v(y){return function(){var D=this,M=arguments;return new Promise(function(P,O){var j=y.apply(D,M);function Q(H){s(j,P,O,Q,R,"next",H)}function R(H){s(j,P,O,Q,R,"throw",H)}Q(void 0)})}}f.d(h,{Z:()=>v})}},c=>{c(c.s=5085)}]);