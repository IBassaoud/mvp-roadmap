(self.webpackChunkmvp_rorr=self.webpackChunkmvp_rorr||[]).push([[179],{2011:(c,h,f)=>{"use strict";f.d(h,{Dh:()=>z,GT:()=>k,cc:()=>ne,hO:()=>q,on:()=>R,pX:()=>M,xv:()=>Q});var s=f(4650),v=f(9260),y=f(4976);c=f.hmd(c);const I=["ngOnDestroy"],M=(V,ee,te,ie={})=>new Proxy(V,{get:(ae,he)=>te.runOutsideAngular(()=>{var Re;if(V[he])return!(null===(Re=ie?.spy)||void 0===Re)&&Re.get&&ie.spy.get(he,V[he]),V[he];if(I.indexOf(he)>-1)return()=>{};const De=ee.toPromise().then(Se=>{const _e=Se&&Se[he];return"function"==typeof _e?_e.bind(Se):_e&&_e.then?_e.then($e=>te.run(()=>$e)):te.run(()=>_e)});return new Proxy(()=>{},{get:(Se,_e)=>De[_e],apply:(Se,_e,$e)=>De.then(Te=>{var pe;const le=Te&&Te(...$e);return!(null===(pe=ie?.spy)||void 0===pe)&&pe.apply&&ie.spy.apply(he,$e,le),le})})})}),k=(V,ee)=>{ee.forEach(te=>{Object.getOwnPropertyNames(te.prototype||te).forEach(ie=>{Object.defineProperty(V.prototype,ie,Object.getOwnPropertyDescriptor(te.prototype||te,ie))})})};class F{constructor(ee){return ee}}const z=new s.OlP("angularfire2.app.options"),Q=new s.OlP("angularfire2.app.name");function R(V,ee,te){const ae="object"==typeof te&&te||{};ae.name=ae.name||"string"==typeof te&&te||"[DEFAULT]";const Re=v.Z.apps.filter(De=>De&&De.name===ae.name)[0]||ee.runOutsideAngular(()=>v.Z.initializeApp(V,ae));try{JSON.stringify(V)!==JSON.stringify(Re.options)&&H("error",`${Re.name} Firebase App already initialized with different options${c.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new F(Re)}const H=(V,...ee)=>{(0,s.X6Q)()&&typeof console<"u"&&console[V](...ee)},U={provide:F,useFactory:R,deps:[z,s.R0b,[new s.FiY,Q]]};let q=(()=>{class V{constructor(te){v.Z.registerVersion("angularfire",y.q4.full,"core"),v.Z.registerVersion("angularfire",y.q4.full,"app-compat"),v.Z.registerVersion("angular",s.q4F.full,te.toString())}static initializeApp(te,ie){return{ngModule:V,providers:[{provide:z,useValue:te},{provide:Q,useValue:ie}]}}}return V.\u0275fac=function(te){return new(te||V)(s.LFG(s.Lbi))},V.\u0275mod=s.oAB({type:V}),V.\u0275inj=s.cJS({providers:[U]}),V})();function ne(V,ee,te,ie,ae){const[,he,Re]=globalThis.\u0275AngularfireInstanceCache.find(De=>De[0]===V)||[];if(he)return function j(V,ee){try{return V.toString()===ee.toString()}catch{return V===ee}}(ae,Re)||(B("error",`${ee} was already initialized on the ${te} Firebase App with different settings.${G?" You may need to reload as Firebase is not HMR aware.":""}`),B("warn",{is:ae,was:Re})),he;{const De=ie();return globalThis.\u0275AngularfireInstanceCache.push([V,De,ae]),De}}const G=!!c.hot,B=(V,...ee)=>{(0,s.X6Q)()&&typeof console<"u"&&console[V](...ee)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(c,h,f)=>{"use strict";f.d(h,{q4:()=>di,iC:()=>wc,HU:()=>gl,vb:()=>Ru,JM:()=>lp});var s=f(4650),v=f(259),y=f(5861),I=f(6881),M=f(2090),k=f(4859),F=f(1877);let Q,R;const q=new WeakMap,ne=new WeakMap,j=new WeakMap,G=new WeakMap,B=new WeakMap;let te={get(D,N,J){if(D instanceof IDBTransaction){if("done"===N)return ne.get(D);if("objectStoreNames"===N)return D.objectStoreNames||j.get(D);if("store"===N)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return Re(D[N])},set:(D,N,J)=>(D[N]=J,!0),has:(D,N)=>D instanceof IDBTransaction&&("done"===N||"store"===N)||N in D};function he(D){return"function"==typeof D?function ae(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function U(){return R||(R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...N){return D.apply(De(this),N),Re(q.get(this))}:function(...N){return Re(D.apply(De(this),N))}:function(N,...J){const ue=D.call(De(this),N,...J);return j.set(ue,N.sort?N.sort():[N]),Re(ue)}}(D):(D instanceof IDBTransaction&&function ee(D){if(ne.has(D))return;const N=new Promise((J,ue)=>{const Ee=()=>{D.removeEventListener("complete",Ie),D.removeEventListener("error",je),D.removeEventListener("abort",je)},Ie=()=>{J(),Ee()},je=()=>{ue(D.error||new DOMException("AbortError","AbortError")),Ee()};D.addEventListener("complete",Ie),D.addEventListener("error",je),D.addEventListener("abort",je)});ne.set(D,N)}(D),((D,N)=>N.some(J=>D instanceof J))(D,function H(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,te):D)}function Re(D){if(D instanceof IDBRequest)return function V(D){const N=new Promise((J,ue)=>{const Ee=()=>{D.removeEventListener("success",Ie),D.removeEventListener("error",je)},Ie=()=>{J(Re(D.result)),Ee()},je=()=>{ue(D.error),Ee()};D.addEventListener("success",Ie),D.addEventListener("error",je)});return N.then(J=>{J instanceof IDBCursor&&q.set(J,D)}).catch(()=>{}),B.set(N,D),N}(D);if(G.has(D))return G.get(D);const N=he(D);return N!==D&&(G.set(D,N),B.set(N,D)),N}const De=D=>B.get(D),$e=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],pe=new Map;function le(D,N){if(!(D instanceof IDBDatabase)||N in D||"string"!=typeof N)return;if(pe.get(N))return pe.get(N);const J=N.replace(/FromIndex$/,""),ue=N!==J,Ee=Te.includes(J);if(!(J in(ue?IDBIndex:IDBObjectStore).prototype)||!Ee&&!$e.includes(J))return;const Ie=function(){var je=(0,y.Z)(function*(at,...rt){const St=this.transaction(at,Ee?"readwrite":"readonly");let It=St.store;return ue&&(It=It.index(rt.shift())),(yield Promise.all([It[J](...rt),Ee&&St.done]))[0]});return function(rt){return je.apply(this,arguments)}}();return pe.set(N,Ie),Ie}!function ie(D){te=D(te)}(D=>({...D,get:(N,J,ue)=>le(N,J)||D.get(N,J,ue),has:(N,J)=>!!le(N,J)||D.has(N,J)}));const X="@firebase/installations",me="w:0.6.4",Ne="FIS_v2",jt=new M.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function zt(D){return D instanceof M.ZR&&D.code.includes("request-failed")}function Ut({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Jt(D){return{token:D.token,requestStatus:2,expiresIn:$i(D.expiresIn),creationTime:Date.now()}}function un(D,N){return lt.apply(this,arguments)}function lt(){return(lt=(0,y.Z)(function*(D,N){const ue=(yield N.json()).error;return jt.create("request-failed",{requestName:D,serverCode:ue.code,serverMessage:ue.message,serverStatus:ue.status})})).apply(this,arguments)}function on({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Bn(D,{refreshToken:N}){const J=on(D);return J.append("Authorization",function qi(D){return`${Ne} ${D}`}(N)),J}function vi(D){return ii.apply(this,arguments)}function ii(){return(ii=(0,y.Z)(function*(D){const N=yield D();return N.status>=500&&N.status<600?D():N})).apply(this,arguments)}function $i(D){return Number(D.replace("s","000"))}function ft(D,N){return En.apply(this,arguments)}function En(){return(En=(0,y.Z)(function*({appConfig:D,heartbeatServiceProvider:N},{fid:J}){const ue=Ut(D),Ee=on(D),Ie=N.getImmediate({optional:!0});if(Ie){const St=yield Ie.getHeartbeatsHeader();St&&Ee.append("x-firebase-client",St)}const at={method:"POST",headers:Ee,body:JSON.stringify({fid:J,authVersion:Ne,appId:D.appId,sdkVersion:me})},rt=yield vi(()=>fetch(ue,at));if(rt.ok){const St=yield rt.json();return{fid:St.fid||J,registrationStatus:2,refreshToken:St.refreshToken,authToken:Jt(St.authToken)}}throw yield un("Create Installation",rt)})).apply(this,arguments)}function fi(D){return new Promise(N=>{setTimeout(N,D)})}const Di=/^[cdef][\w-]{21}$/;function gn(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const J=function hn(D){return function Wn(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Di.test(J)?J:""}catch{return""}}function an(D){return`${D.appName}!${D.appId}`}const pt=new Map;function Pt(D,N){const J=an(D);Ar(J,N),function bi(D,N){const J=function Wi(){return!Lt&&"BroadcastChannel"in self&&(Lt=new BroadcastChannel("[Firebase] FID Change"),Lt.onmessage=D=>{Ar(D.data.key,D.data.fid)}),Lt}();J&&J.postMessage({key:D,fid:N}),function Tn(){0===pt.size&&Lt&&(Lt.close(),Lt=null)}()}(J,N)}function Ar(D,N){const J=pt.get(D);if(J)for(const ue of J)ue(N)}let Lt=null;const Mi="firebase-installations-store";let Zi=null;function ns(){return Zi||(Zi=function Se(D,N,{blocked:J,upgrade:ue,blocking:Ee,terminated:Ie}={}){const je=indexedDB.open(D,N),at=Re(je);return ue&&je.addEventListener("upgradeneeded",rt=>{ue(Re(je.result),rt.oldVersion,rt.newVersion,Re(je.transaction))}),J&&je.addEventListener("blocked",()=>J()),at.then(rt=>{Ie&&rt.addEventListener("close",()=>Ie()),Ee&&rt.addEventListener("versionchange",()=>Ee())}).catch(()=>{}),at}("firebase-installations-database",1,{upgrade:(D,N)=>{0===N&&D.createObjectStore(Mi)}})),Zi}function Jn(D,N){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,y.Z)(function*(D,N){const J=an(D),Ee=(yield ns()).transaction(Mi,"readwrite"),Ie=Ee.objectStore(Mi),je=yield Ie.get(J);return yield Ie.put(N,J),yield Ee.done,(!je||je.fid!==N.fid)&&Pt(D,N.fid),N})).apply(this,arguments)}function Is(D){return si.apply(this,arguments)}function si(){return(si=(0,y.Z)(function*(D){const N=an(D),ue=(yield ns()).transaction(Mi,"readwrite");yield ue.objectStore(Mi).delete(N),yield ue.done})).apply(this,arguments)}function kr(D,N){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,y.Z)(function*(D,N){const J=an(D),Ee=(yield ns()).transaction(Mi,"readwrite"),Ie=Ee.objectStore(Mi),je=yield Ie.get(J),at=N(je);return void 0===at?yield Ie.delete(J):yield Ie.put(at,J),yield Ee.done,at&&(!je||je.fid!==at.fid)&&Pt(D,at.fid),at})).apply(this,arguments)}function ye(D){return ge.apply(this,arguments)}function ge(){return(ge=(0,y.Z)(function*(D){let N;const J=yield kr(D.appConfig,ue=>{const Ee=xe(ue),Ie=He(D,Ee);return N=Ie.registrationPromise,Ie.installationEntry});return""===J.fid?{installationEntry:yield N}:{installationEntry:J,registrationPromise:N}})).apply(this,arguments)}function xe(D){return Je(D||{fid:gn(),registrationStatus:0})}function He(D,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(jt.create("app-offline"))};const J={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ue=function ke(D,N){return ot.apply(this,arguments)}(D,J);return{installationEntry:J,registrationPromise:ue}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Bt(D)}:{installationEntry:N}}function ot(){return(ot=(0,y.Z)(function*(D,N){try{const J=yield ft(D,N);return Jn(D.appConfig,J)}catch(J){throw zt(J)&&409===J.customData.serverCode?yield Is(D.appConfig):yield Jn(D.appConfig,{fid:N.fid,registrationStatus:0}),J}})).apply(this,arguments)}function Bt(D){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,y.Z)(function*(D){let N=yield wn(D.appConfig);for(;1===N.registrationStatus;)yield fi(100),N=yield wn(D.appConfig);if(0===N.registrationStatus){const{installationEntry:J,registrationPromise:ue}=yield ye(D);return ue||J}return N})).apply(this,arguments)}function wn(D){return kr(D,N=>{if(!N)throw jt.create("installation-not-found");return Je(N)})}function Je(D){return function xt(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function At(D,N){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,y.Z)(function*({appConfig:D,heartbeatServiceProvider:N},J){const ue=Yi(D,J),Ee=Bn(D,J),Ie=N.getImmediate({optional:!0});if(Ie){const St=yield Ie.getHeartbeatsHeader();St&&Ee.append("x-firebase-client",St)}const at={method:"POST",headers:Ee,body:JSON.stringify({installation:{sdkVersion:me,appId:D.appId}})},rt=yield vi(()=>fetch(ue,at));if(rt.ok)return Jt(yield rt.json());throw yield un("Generate Auth Token",rt)})).apply(this,arguments)}function Yi(D,{fid:N}){return`${Ut(D)}/${N}/authTokens:generate`}function On(D){return is.apply(this,arguments)}function is(){return(is=(0,y.Z)(function*(D,N=!1){let J;const ue=yield kr(D.appConfig,Ie=>{if(!Kt(Ie))throw jt.create("not-registered");const je=Ie.authToken;if(!N&&pn(je))return Ie;if(1===je.requestStatus)return J=Fe(D,N),Ie;{if(!navigator.onLine)throw jt.create("app-offline");const at=ln(Ie);return J=Xe(D,at),at}});return J?yield J:ue.authToken})).apply(this,arguments)}function Fe(D,N){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,y.Z)(function*(D,N){let J=yield Ye(D.appConfig);for(;1===J.authToken.requestStatus;)yield fi(100),J=yield Ye(D.appConfig);const ue=J.authToken;return 0===ue.requestStatus?On(D,N):ue})).apply(this,arguments)}function Ye(D){return kr(D,N=>{if(!Kt(N))throw jt.create("not-registered");return function Qi(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function Xe(D,N){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,y.Z)(function*(D,N){try{const J=yield At(D,N),ue=Object.assign(Object.assign({},N),{authToken:J});return yield Jn(D.appConfig,ue),J}catch(J){if(!zt(J)||401!==J.customData.serverCode&&404!==J.customData.serverCode){const ue=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield Jn(D.appConfig,ue)}else yield Is(D.appConfig);throw J}})).apply(this,arguments)}function Kt(D){return void 0!==D&&2===D.registrationStatus}function pn(D){return 2===D.requestStatus&&!function Zn(D){const N=Date.now();return N<D.creationTime||D.creationTime+D.expiresIn<N+36e5}(D)}function ln(D){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:N})}function Pr(){return(Pr=(0,y.Z)(function*(D){const N=D,{installationEntry:J,registrationPromise:ue}=yield ye(N);return ue?ue.catch(console.error):On(N).catch(console.error),J.fid})).apply(this,arguments)}function Bl(){return(Bl=(0,y.Z)(function*(D,N=!1){const J=D;return yield _n(J),(yield On(J,N)).token})).apply(this,arguments)}function _n(D){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,y.Z)(function*(D){const{registrationPromise:N}=yield ye(D);N&&(yield N)})).apply(this,arguments)}function Ai(D){return jt.create("missing-app-config-values",{valueName:D})}const Er="installations",oa=D=>{const N=D.getProvider("app").getImmediate(),J=function Bd(D){if(!D||!D.options)throw Ai("App Configuration");if(!D.name)throw Ai("App Name");const N=["projectId","apiKey","appId"];for(const J of N)if(!D.options[J])throw Ai(J);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(N);return{app:N,appConfig:J,heartbeatServiceProvider:(0,I._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},zs=D=>{const N=D.getProvider("app").getImmediate(),J=(0,I._getProvider)(N,Er).getImmediate();return{getId:()=>function zr(D){return Pr.apply(this,arguments)}(J),getToken:Ee=>function Wa(D){return Bl.apply(this,arguments)}(J,Ee)}};(function rs(){(0,I._registerComponent)(new k.wA(Er,oa,"PUBLIC")),(0,I._registerComponent)(new k.wA("installations-internal",zs,"PRIVATE"))})(),(0,I.registerVersion)(X,"0.6.4"),(0,I.registerVersion)(X,"0.6.4","esm2017");const aa="@firebase/remote-config",Un=new M.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gr{constructor(N,J,ue,Ee){this.client=N,this.storage=J,this.storageCache=ue,this.logger=Ee}isCachedDataFresh(N,J){if(!J)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-J,Ee=ue<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Ee}.`),Ee}fetch(N){var J=this;return(0,y.Z)(function*(){const[ue,Ee]=yield Promise.all([J.storage.getLastSuccessfulFetchTimestampMillis(),J.storage.getLastSuccessfulFetchResponse()]);if(Ee&&J.isCachedDataFresh(N.cacheMaxAgeMillis,ue))return Ee;N.eTag=Ee&&Ee.eTag;const Ie=yield J.client.fetch(N),je=[J.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ie.status&&je.push(J.storage.setLastSuccessfulFetchResponse(Ie)),yield Promise.all(je),Ie})()}}function $d(D=navigator){return D.languages&&D.languages[0]||D.language}class Za{constructor(N,J,ue,Ee,Ie,je){this.firebaseInstallations=N,this.sdkVersion=J,this.namespace=ue,this.projectId=Ee,this.apiKey=Ie,this.appId=je}fetch(N){var J=this;return(0,y.Z)(function*(){const[ue,Ee]=yield Promise.all([J.firebaseInstallations.getId(),J.firebaseInstallations.getToken()]),je=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${J.projectId}/namespaces/${J.namespace}:fetch?key=${J.apiKey}`,at={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},rt={sdk_version:J.sdkVersion,app_instance_id:ue,app_instance_id_token:Ee,app_id:J.appId,language_code:$d()},St={method:"POST",headers:at,body:JSON.stringify(rt)},It=fetch(je,St),Gt=new Promise((Hi,eo)=>{N.signal.addEventListener(()=>{const xc=new Error("The operation was aborted.");xc.name="AbortError",eo(xc)})});let tr;try{yield Promise.race([It,Gt]),tr=yield It}catch(Hi){let eo="fetch-client-network";throw"AbortError"===Hi?.name&&(eo="fetch-timeout"),Un.create(eo,{originalErrorMessage:Hi?.message})}let Fn=tr.status;const Dt=tr.headers.get("ETag")||void 0;let fs,go;if(200===tr.status){let Hi;try{Hi=yield tr.json()}catch(eo){throw Un.create("fetch-client-parse",{originalErrorMessage:eo?.message})}fs=Hi.entries,go=Hi.state}if("INSTANCE_STATE_UNSPECIFIED"===go?Fn=500:"NO_CHANGE"===go?Fn=304:("NO_TEMPLATE"===go||"EMPTY_CONFIG"===go)&&(fs={}),304!==Fn&&200!==Fn)throw Un.create("fetch-status",{httpStatus:Fn});return{status:Fn,eTag:Dt,config:fs}})()}}class Bf{constructor(N,J){this.client=N,this.storage=J}fetch(N){var J=this;return(0,y.Z)(function*(){const ue=(yield J.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return J.attemptFetch(N,ue)})()}attemptFetch(N,{throttleEndTimeMillis:J,backoffCount:ue}){var Ee=this;return(0,y.Z)(function*(){yield function uu(D,N){return new Promise((J,ue)=>{const Ee=Math.max(N-Date.now(),0),Ie=setTimeout(J,Ee);D.addEventListener(()=>{clearTimeout(Ie),ue(Un.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,J);try{const Ie=yield Ee.client.fetch(N);return yield Ee.storage.deleteThrottleMetadata(),Ie}catch(Ie){if(!function zl(D){if(!(D instanceof M.ZR&&D.customData))return!1;const N=Number(D.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Ie))throw Ie;const je={throttleEndTimeMillis:Date.now()+(0,M.$s)(ue),backoffCount:ue+1};return yield Ee.storage.setThrottleMetadata(je),Ee.attemptFetch(N,je)}})()}}class Vf{constructor(N,J,ue,Ee,Ie){this.app=N,this._client=J,this._storageCache=ue,this._storage=Ee,this._logger=Ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vi(D,N){const J=D.target.error||void 0;return Un.create(N,{originalErrorMessage:J&&J?.message})}const dr="app_namespace_store";class pC{constructor(N,J,ue,Ee=function ql(){return new Promise((D,N)=>{try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=ue=>{N(Vi(ue,"storage-open"))},J.onsuccess=ue=>{D(ue.target.result)},J.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(dr,{keyPath:"compositeKey"})}}catch(J){N(Un.create("storage-open",{originalErrorMessage:J?.message}))}})}()){this.appId=N,this.appName=J,this.namespace=ue,this.openDbPromise=Ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var J=this;return(0,y.Z)(function*(){const ue=yield J.openDbPromise;return new Promise((Ee,Ie)=>{const at=ue.transaction([dr],"readonly").objectStore(dr),rt=J.createCompositeKey(N);try{const St=at.get(rt);St.onerror=It=>{Ie(Vi(It,"storage-get"))},St.onsuccess=It=>{const Gt=It.target.result;Ee(Gt?Gt.value:void 0)}}catch(St){Ie(Un.create("storage-get",{originalErrorMessage:St?.message}))}})})()}set(N,J){var ue=this;return(0,y.Z)(function*(){const Ee=yield ue.openDbPromise;return new Promise((Ie,je)=>{const rt=Ee.transaction([dr],"readwrite").objectStore(dr),St=ue.createCompositeKey(N);try{const It=rt.put({compositeKey:St,value:J});It.onerror=Gt=>{je(Vi(Gt,"storage-set"))},It.onsuccess=()=>{Ie()}}catch(It){je(Un.create("storage-set",{originalErrorMessage:It?.message}))}})})()}delete(N){var J=this;return(0,y.Z)(function*(){const ue=yield J.openDbPromise;return new Promise((Ee,Ie)=>{const at=ue.transaction([dr],"readwrite").objectStore(dr),rt=J.createCompositeKey(N);try{const St=at.delete(rt);St.onerror=It=>{Ie(Vi(It,"storage-delete"))},St.onsuccess=()=>{Ee()}}catch(St){Ie(Un.create("storage-delete",{originalErrorMessage:St?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class ai{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,y.Z)(function*(){const J=N.storage.getLastFetchStatus(),ue=N.storage.getLastSuccessfulFetchTimestampMillis(),Ee=N.storage.getActiveConfig(),Ie=yield J;Ie&&(N.lastFetchStatus=Ie);const je=yield ue;je&&(N.lastSuccessfulFetchTimestampMillis=je);const at=yield Ee;at&&(N.activeConfig=at)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function wr(){return du.apply(this,arguments)}function du(){return(du=(0,y.Z)(function*(){if(!(0,M.hl)())return!1;try{return yield(0,M.eu)()}catch{return!1}})).apply(this,arguments)}let la,li;!function $s(){(0,I._registerComponent)(new k.wA("remote-config",function D(N,{instanceIdentifier:J}){const ue=N.getProvider("app").getImmediate(),Ee=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Un.create("registration-window");if(!(0,M.hl)())throw Un.create("indexed-db-unavailable");const{projectId:Ie,apiKey:je,appId:at}=ue.options;if(!Ie)throw Un.create("registration-project-id");if(!je)throw Un.create("registration-api-key");if(!at)throw Un.create("registration-app-id");const rt=new pC(at,ue.name,J=J||"firebase"),St=new ai(rt),It=new F.Yd(aa);It.logLevel=F.in.ERROR;const Gt=new Za(Ee,I.SDK_VERSION,J,Ie,je,at),tr=new Bf(Gt,rt),Fn=new Gr(tr,rt,St,It),Dt=new Vf(ue,Fn,St,rt,It);return function ig(D){const N=(0,M.m9)(D);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Dt),Dt},"PUBLIC").setMultipleInstances(!0)),(0,I.registerVersion)(aa,"0.4.4"),(0,I.registerVersion)(aa,"0.4.4","esm2017")}();const hu=new WeakMap,Rr=new WeakMap,ho=new WeakMap,Xi=new WeakMap,Vt=new WeakMap;let Ka={get(D,N,J){if(D instanceof IDBTransaction){if("done"===N)return Rr.get(D);if("objectStoreNames"===N)return D.objectStoreNames||ho.get(D);if("store"===N)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return os(D[N])},set:(D,N,J)=>(D[N]=J,!0),has:(D,N)=>D instanceof IDBTransaction&&("done"===N||"store"===N)||N in D};function Yd(D){return"function"==typeof D?function Kd(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Do(){return li||(li=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...N){return D.apply(Kl(this),N),os(hu.get(this))}:function(...N){return os(D.apply(Kl(this),N))}:function(N,...J){const ue=D.call(Kl(this),N,...J);return ho.set(ue,N.sort?N.sort():[N]),os(ue)}}(D):(D instanceof IDBTransaction&&function Wd(D){if(Rr.has(D))return;const N=new Promise((J,ue)=>{const Ee=()=>{D.removeEventListener("complete",Ie),D.removeEventListener("error",je),D.removeEventListener("abort",je)},Ie=()=>{J(),Ee()},je=()=>{ue(D.error||new DOMException("AbortError","AbortError")),Ee()};D.addEventListener("complete",Ie),D.addEventListener("error",je),D.addEventListener("abort",je)});Rr.set(D,N)}(D),((D,N)=>N.some(J=>D instanceof J))(D,function rg(){return la||(la=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,Ka):D)}function os(D){if(D instanceof IDBRequest)return function qd(D){const N=new Promise((J,ue)=>{const Ee=()=>{D.removeEventListener("success",Ie),D.removeEventListener("error",je)},Ie=()=>{J(os(D.result)),Ee()},je=()=>{ue(D.error),Ee()};D.addEventListener("success",Ie),D.addEventListener("error",je)});return N.then(J=>{J instanceof IDBCursor&&hu.set(J,D)}).catch(()=>{}),Vt.set(N,D),N}(D);if(Xi.has(D))return Xi.get(D);const N=Yd(D);return N!==D&&(Xi.set(D,N),Vt.set(N,D)),N}const Kl=D=>Vt.get(D);function qe(D,N,{blocked:J,upgrade:ue,blocking:Ee,terminated:Ie}={}){const je=indexedDB.open(D,N),at=os(je);return ue&&je.addEventListener("upgradeneeded",rt=>{ue(os(je.result),rt.oldVersion,rt.newVersion,os(je.transaction))}),J&&je.addEventListener("blocked",()=>J()),at.then(rt=>{Ie&&rt.addEventListener("close",()=>Ie()),Ee&&rt.addEventListener("versionchange",()=>Ee())}).catch(()=>{}),at}function nn(D,{blocked:N}={}){const J=indexedDB.deleteDatabase(D);return N&&J.addEventListener("blocked",()=>N()),os(J).then(()=>{})}const Yl=["get","getKey","getAll","getAllKeys","count"],fu=["put","add","delete","clear"],ei=new Map;function Ql(D,N){if(!(D instanceof IDBDatabase)||N in D||"string"!=typeof N)return;if(ei.get(N))return ei.get(N);const J=N.replace(/FromIndex$/,""),ue=N!==J,Ee=fu.includes(J);if(!(J in(ue?IDBIndex:IDBObjectStore).prototype)||!Ee&&!Yl.includes(J))return;const Ie=function(){var je=(0,y.Z)(function*(at,...rt){const St=this.transaction(at,Ee?"readwrite":"readonly");let It=St.store;return ue&&(It=It.index(rt.shift())),(yield Promise.all([It[J](...rt),Ee&&St.done]))[0]});return function(rt){return je.apply(this,arguments)}}();return ei.set(N,Ie),Ie}!function Zd(D){Ka=D(Ka)}(D=>({...D,get:(N,J,ue)=>Ql(N,J)||D.get(N,J,ue),has:(N,J)=>!!Ql(N,J)||D.has(N,J)}));const Mo="/firebase-messaging-sw.js",Or="/firebase-cloud-messaging-push-scope",ca="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mu="google.c.a.c_id",ti="google.c.a.c_l",Uf="google.c.a.ts",jf="google.c.a.e";var Fr=(()=>{return(D=Fr||(Fr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Fr;var D})();function as(D){const N=new Uint8Array(D);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qs(D){const J=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(J),Ee=new Uint8Array(ue.length);for(let Ie=0;Ie<ue.length;++Ie)Ee[Ie]=ue.charCodeAt(Ie);return Ee}const Nr="fcm_token_details_db",Ao="fcm_token_object_Store";function sg(D){return ua.apply(this,arguments)}function ua(){return ua=(0,y.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ie=>Ie.name).includes(Nr))return null;let N=null;return(yield qe(Nr,5,{upgrade:(ue=(0,y.Z)(function*(Ee,Ie,je,at){var rt;if(Ie<2||!Ee.objectStoreNames.contains(Ao))return;const St=at.objectStore(Ao),It=yield St.index("fcmSenderId").get(D);if(yield St.clear(),It)if(2===Ie){const Gt=It;if(!Gt.auth||!Gt.p256dh||!Gt.endpoint)return;N={token:Gt.fcmToken,createTime:null!==(rt=Gt.createTime)&&void 0!==rt?rt:Date.now(),subscriptionOptions:{auth:Gt.auth,p256dh:Gt.p256dh,endpoint:Gt.endpoint,swScope:Gt.swScope,vapidKey:"string"==typeof Gt.vapidKey?Gt.vapidKey:as(Gt.vapidKey)}}}else if(3===Ie){const Gt=It;N={token:Gt.fcmToken,createTime:Gt.createTime,subscriptionOptions:{auth:as(Gt.auth),p256dh:as(Gt.p256dh),endpoint:Gt.endpoint,swScope:Gt.swScope,vapidKey:as(Gt.vapidKey)}}}else if(4===Ie){const Gt=It;N={token:Gt.fcmToken,createTime:Gt.createTime,subscriptionOptions:{auth:as(Gt.auth),p256dh:as(Gt.p256dh),endpoint:Gt.endpoint,swScope:Gt.swScope,vapidKey:as(Gt.vapidKey)}}}}),function(Ie,je,at,rt){return ue.apply(this,arguments)})})).close(),yield nn(Nr),yield nn("fcm_vapid_details_db"),yield nn("undefined"),gu(N)?N:null;var ue}),ua.apply(this,arguments)}function gu(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:N}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const fr="firebase-messaging-store";let _u=null;function Qa(){return _u||(_u=qe("firebase-messaging-database",1,{upgrade:(D,N)=>{0===N&&D.createObjectStore(fr)}})),_u}function Xa(D){return ko.apply(this,arguments)}function ko(){return(ko=(0,y.Z)(function*(D){const N=Jl(D),ue=yield(yield Qa()).transaction(fr).objectStore(fr).get(N);if(ue)return ue;{const Ee=yield sg(D.appConfig.senderId);if(Ee)return yield yu(D,Ee),Ee}})).apply(this,arguments)}function yu(D,N){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,y.Z)(function*(D,N){const J=Jl(D),Ee=(yield Qa()).transaction(fr,"readwrite");return yield Ee.objectStore(fr).put(N,J),yield Ee.done,N})).apply(this,arguments)}function Xd(D){return da.apply(this,arguments)}function da(){return(da=(0,y.Z)(function*(D){const N=Jl(D),ue=(yield Qa()).transaction(fr,"readwrite");yield ue.objectStore(fr).delete(N),yield ue.done})).apply(this,arguments)}function Jl({appConfig:D}){return D.appId}const yn=new M.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ws(D,N){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,y.Z)(function*(D,N){const J=yield bu(D),ue=el(N),Ee={method:"POST",headers:J,body:JSON.stringify(ue)};let Ie;try{Ie=yield(yield fetch(tc(D.appConfig),Ee)).json()}catch(je){throw yn.create("token-subscribe-failed",{errorInfo:je?.toString()})}if(Ie.error)throw yn.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw yn.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function vu(D,N){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,y.Z)(function*(D,N){const J=yield bu(D),ue=el(N.subscriptionOptions),Ee={method:"PATCH",headers:J,body:JSON.stringify(ue)};let Ie;try{Ie=yield(yield fetch(`${tc(D.appConfig)}/${N.token}`,Ee)).json()}catch(je){throw yn.create("token-update-failed",{errorInfo:je?.toString()})}if(Ie.error)throw yn.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw yn.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function ec(D,N){return eh.apply(this,arguments)}function eh(){return(eh=(0,y.Z)(function*(D,N){const ue={method:"DELETE",headers:yield bu(D)};try{const Ie=yield(yield fetch(`${tc(D.appConfig)}/${N}`,ue)).json();if(Ie.error)throw yn.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(Ee){throw yn.create("token-unsubscribe-failed",{errorInfo:Ee?.toString()})}})).apply(this,arguments)}function tc({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function bu(D){return Po.apply(this,arguments)}function Po(){return(Po=(0,y.Z)(function*({appConfig:D,installations:N}){const J=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${J}`})})).apply(this,arguments)}function el({p256dh:D,auth:N,endpoint:J,vapidKey:ue}){const Ee={web:{endpoint:J,auth:N,p256dh:D}};return ue!==ca&&(Ee.web.applicationPubKey=ue),Ee}const ha=6048e5;function th(D){return tl.apply(this,arguments)}function tl(){return(tl=(0,y.Z)(function*(D){const N=yield Cu(D.swRegistration,D.vapidKey),J={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:N.endpoint,auth:as(N.getKey("auth")),p256dh:as(N.getKey("p256dh"))},ue=yield Xa(D.firebaseDependencies);if(ue){if($f(ue.subscriptionOptions,J))return Date.now()>=ue.createTime+ha?nl(D,{token:ue.token,createTime:Date.now(),subscriptionOptions:J}):ue.token;try{yield ec(D.firebaseDependencies,ue.token)}catch(Ee){console.warn(Ee)}return Gf(D.firebaseDependencies,J)}return Gf(D.firebaseDependencies,J)})).apply(this,arguments)}function zf(D){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,y.Z)(function*(D){const N=yield Xa(D.firebaseDependencies);N&&(yield ec(D.firebaseDependencies,N.token),yield Xd(D.firebaseDependencies));const J=yield D.swRegistration.pushManager.getSubscription();return!J||J.unsubscribe()})).apply(this,arguments)}function nl(D,N){return nc.apply(this,arguments)}function nc(){return(nc=(0,y.Z)(function*(D,N){try{const J=yield vu(D.firebaseDependencies,N),ue=Object.assign(Object.assign({},N),{token:J,createTime:Date.now()});return yield yu(D.firebaseDependencies,ue),J}catch(J){throw yield zf(D),J}})).apply(this,arguments)}function Gf(D,N){return ls.apply(this,arguments)}function ls(){return(ls=(0,y.Z)(function*(D,N){const ue={token:yield Ws(D,N),createTime:Date.now(),subscriptionOptions:N};return yield yu(D,ue),ue.token})).apply(this,arguments)}function Cu(D,N){return nh.apply(this,arguments)}function nh(){return(nh=(0,y.Z)(function*(D,N){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qs(N)})})).apply(this,arguments)}function $f(D,N){return N.vapidKey===D.vapidKey&&N.endpoint===D.endpoint&&N.auth===D.auth&&N.p256dh===D.p256dh}function Eu(D){const N={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function ic(D,N){if(!N.notification)return;D.notification={};const J=N.notification.title;J&&(D.notification.title=J);const ue=N.notification.body;ue&&(D.notification.body=ue);const Ee=N.notification.image;Ee&&(D.notification.image=Ee);const Ie=N.notification.icon;Ie&&(D.notification.icon=Ie)}(N,D),function rc(D,N){!N.data||(D.data=N.data)}(N,D),function sc(D,N){var J,ue,Ee,Ie,je;if(!(N.fcmOptions||null!==(J=N.notification)&&void 0!==J&&J.click_action))return;D.fcmOptions={};const at=null!==(Ee=null===(ue=N.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==Ee?Ee:null===(Ie=N.notification)||void 0===Ie?void 0:Ie.click_action;at&&(D.fcmOptions.link=at);const rt=null===(je=N.fcmOptions)||void 0===je?void 0:je.analytics_label;rt&&(D.fcmOptions.analyticsLabel=rt)}(N,D),N}function qf(D){return"object"==typeof D&&!!D&&mu in D}function fa(D,N){const J=[];for(let ue=0;ue<D.length;ue++)J.push(D.charAt(ue)),ue<N.length&&J.push(N.charAt(ue));return J.join("")}function wu(D){return yn.create("missing-app-config-values",{valueName:D})}fa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class il{constructor(N,J,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ee=function ih(D){if(!D||!D.options)throw wu("App Configuration Object");if(!D.name)throw wu("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:J}=D;for(const ue of N)if(!J[ue])throw wu(ue);return{appName:D.name,projectId:J.projectId,apiKey:J.apiKey,appId:J.appId,senderId:J.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Ee,installations:J,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function Wf(D){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,y.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Mo,{scope:Or}),D.swRegistration.update().catch(()=>{})}catch(N){throw yn.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function rl(D,N){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,y.Z)(function*(D,N){if(!N&&!D.swRegistration&&(yield Wf(D)),N||!D.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw yn.create("invalid-sw-registration");D.swRegistration=N}})).apply(this,arguments)}function Ro(D,N){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,y.Z)(function*(D,N){N?D.vapidKey=N:D.vapidKey||(D.vapidKey=ca)})).apply(this,arguments)}function sl(){return(sl=(0,y.Z)(function*(D,N){if(!navigator)throw yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yn.create("permission-blocked");return yield Ro(D,N?.vapidKey),yield rl(D,N?.serviceWorkerRegistration),th(D)})).apply(this,arguments)}function qr(D,N,J){return xu.apply(this,arguments)}function xu(){return(xu=(0,y.Z)(function*(D,N,J){const ue=pa(N);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:J[mu],message_name:J[ti],message_time:J[Uf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pa(D){switch(D){case Fr.NOTIFICATION_CLICKED:return"notification_open";case Fr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Oo(){return(Oo=(0,y.Z)(function*(D,N){const J=N.data;if(!J.isFirebaseMessaging)return;D.onMessageHandler&&J.messageType===Fr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Eu(J)):D.onMessageHandler.next(Eu(J)));const ue=J.data;qf(ue)&&"1"===ue[jf]&&(yield qr(D,J.messageType,ue))})).apply(this,arguments)}const Fo="@firebase/messaging",No=D=>{const N=new il(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",J=>function Su(D,N){return Oo.apply(this,arguments)}(N,J)),N},ac=D=>{const N=D.getProvider("messaging").getImmediate();return{getToken:ue=>function oc(D,N){return sl.apply(this,arguments)}(N,ue)}};function ma(){return ga.apply(this,arguments)}function ga(){return(ga=(0,y.Z)(function*(){try{yield(0,M.eu)()}catch{return!1}return typeof window<"u"&&(0,M.hl)()&&(0,M.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zf(){(0,I._registerComponent)(new k.wA("messaging",No,"PUBLIC")),(0,I._registerComponent)(new k.wA("messaging-internal",ac,"PRIVATE")),(0,I.registerVersion)(Fo,"0.12.4"),(0,I.registerVersion)(Fo,"0.12.4","esm2017")}();const $n="analytics",Iu="firebase_id",cc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ys="https://www.googletagmanager.com/gtag/js",ni=new F.Yd("@firebase/analytics"),Ji=new M.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function _a(D){if(!D.startsWith(Ys)){const N=Ji.create("invalid-gtag-resource",{gtagURL:D});return ni.warn(N.message),""}return D}function Qs(D){return Promise.all(D.map(N=>N.catch(J=>J)))}function cl(D,N){const J=function uc(D,N){let J;return window.trustedTypes&&(J=window.trustedTypes.createPolicy(D,N)),J}("firebase-js-sdk-policy",{createScriptURL:_a}),ue=document.createElement("script"),Ee=`${Ys}?l=${D}&id=${N}`;ue.src=J?J?.createScriptURL(Ee):Ee,ue.async=!0,document.head.appendChild(ue)}function Tu(D,N,J,ue,Ee,Ie){return dc.apply(this,arguments)}function dc(){return(dc=(0,y.Z)(function*(D,N,J,ue,Ee,Ie){const je=ue[Ee];try{if(je)yield N[je];else{const rt=(yield Qs(J)).find(St=>St.measurementId===Ee);rt&&(yield N[rt.appId])}}catch(at){ni.error(at)}D("config",Ee,Ie)})).apply(this,arguments)}function Qf(D,N,J,ue,Ee){return rh.apply(this,arguments)}function rh(){return(rh=(0,y.Z)(function*(D,N,J,ue,Ee){try{let Ie=[];if(Ee&&Ee.send_to){let je=Ee.send_to;Array.isArray(je)||(je=[je]);const at=yield Qs(J);for(const rt of je){const St=at.find(Gt=>Gt.measurementId===rt),It=St&&N[St.appId];if(!It){Ie=[];break}Ie.push(It)}}0===Ie.length&&(Ie=Object.values(N)),yield Promise.all(Ie),D("event",ue,Ee||{})}catch(Ie){ni.error(Ie)}})).apply(this,arguments)}function ep(D){const N=window.document.getElementsByTagName("script");for(const J of Object.values(N))if(J.src&&J.src.includes(Ys)&&J.src.includes(D))return J;return null}const Ci=new class hc{constructor(N={},J=1e3){this.throttleMetadata=N,this.intervalMillis=J}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,J){this.throttleMetadata[N]=J}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function fc(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Wr(D){return sh.apply(this,arguments)}function sh(){return(sh=(0,y.Z)(function*(D){var N;const{appId:J,apiKey:ue}=D,Ee={method:"GET",headers:fc(ue)},Ie=cc.replace("{app-id}",J),je=yield fetch(Ie,Ee);if(200!==je.status&&304!==je.status){let at="";try{const rt=yield je.json();null!==(N=rt.error)&&void 0!==N&&N.message&&(at=rt.error.message)}catch{}throw Ji.create("config-fetch-failed",{httpStatus:je.status,responseMessage:at})}return je.json()})).apply(this,arguments)}function tp(D){return pi.apply(this,arguments)}function pi(){return(pi=(0,y.Z)(function*(D,N=Ci,J){const{appId:ue,apiKey:Ee,measurementId:Ie}=D.options;if(!ue)throw Ji.create("no-app-id");if(!Ee){if(Ie)return{measurementId:Ie,appId:ue};throw Ji.create("no-api-key")}const je=N.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},at=new oh;return setTimeout((0,y.Z)(function*(){at.abort()}),void 0!==J?J:6e4),cs({appId:ue,apiKey:Ee,measurementId:Ie},je,at,N)})).apply(this,arguments)}function cs(D,N,J){return Du.apply(this,arguments)}function Du(){return(Du=(0,y.Z)(function*(D,{throttleEndTimeMillis:N,backoffCount:J},ue,Ee=Ci){var Ie;const{appId:je,measurementId:at}=D;try{yield Mu(ue,N)}catch(rt){if(at)return ni.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${rt?.message}]`),{appId:je,measurementId:at};throw rt}try{const rt=yield Wr(D);return Ee.deleteThrottleMetadata(je),rt}catch(rt){const St=rt;if(!ya(St)){if(Ee.deleteThrottleMetadata(je),at)return ni.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${St?.message}]`),{appId:je,measurementId:at};throw rt}const It=503===Number(null===(Ie=St?.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,M.$s)(J,Ee.intervalMillis,30):(0,M.$s)(J,Ee.intervalMillis),Gt={throttleEndTimeMillis:Date.now()+It,backoffCount:J+1};return Ee.setThrottleMetadata(je,Gt),ni.debug(`Calling attemptFetch again in ${It} millis`),cs(D,Gt,ue,Ee)}})).apply(this,arguments)}function Mu(D,N){return new Promise((J,ue)=>{const Ee=Math.max(N-Date.now(),0),Ie=setTimeout(J,Ee);D.addEventListener(()=>{clearTimeout(Ie),ue(Ji.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function ya(D){if(!(D instanceof M.ZR&&D.customData))return!1;const N=Number(D.customData.httpStatus);return 429===N||500===N||503===N||504===N}class oh{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let ah,ku;function np(){return(np=(0,y.Z)(function*(D,N,J,ue,Ee){if(Ee&&Ee.global)D("event",J,ue);else{const Ie=yield N;D("event",J,Object.assign(Object.assign({},ue),{send_to:Ie}))}})).apply(this,arguments)}function hl(D){ku=D}function _c(D){ah=D}function Sn(){return us.apply(this,arguments)}function us(){return(us=(0,y.Z)(function*(){if(!(0,M.hl)())return ni.warn(Ji.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,M.eu)()}catch(D){return ni.warn(Ji.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function _t(){return(_t=(0,y.Z)(function*(D,N,J,ue,Ee,Ie,je){var at;const rt=tp(D);rt.then(Fn=>{J[Fn.measurementId]=Fn.appId,D.options.measurementId&&Fn.measurementId!==D.options.measurementId&&ni.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fn=>ni.error(Fn)),N.push(rt);const St=Sn().then(Fn=>{if(Fn)return ue.getId()}),[It,Gt]=yield Promise.all([rt,St]);ep(Ie)||cl(Ie,It.measurementId),ku&&(Ee("consent","default",ku),hl(void 0)),Ee("js",new Date);const tr=null!==(at=je?.config)&&void 0!==at?at:{};return tr.origin="firebase",tr.update=!0,null!=Gt&&(tr[Iu]=Gt),Ee("config",It.measurementId,tr),ah&&(Ee("set",ah),_c(void 0)),It.measurementId})).apply(this,arguments)}class mi{constructor(N){this.app=N}_delete(){return delete pr[this.app.options.appId],Promise.resolve()}}let pr={},va=[];const ki={};let Ho,mr,yc="dataLayer",vc=!1;function Et(D,N,J){!function ba(){const D=[];if((0,M.ru)()&&D.push("This is a browser extension environment."),(0,M.zI)()||D.push("Cookies are not available."),D.length>0){const N=D.map((ue,Ee)=>`(${Ee+1}) ${ue}`).join(" "),J=Ji.create("invalid-analytics-context",{errorInfo:N});ni.warn(J.message)}}();const ue=D.options.appId;if(!ue)throw Ji.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Ji.create("no-api-key");ni.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pr[ue])throw Ji.create("already-exists",{id:ue});if(!vc){!function Dn(D){let N=[];Array.isArray(window[D])?N=window[D]:window[D]=N}(yc);const{wrappedGtag:Ie,gtagCore:je}=function Jf(D,N,J,ue,Ee){let Ie=function(...je){window[ue].push(arguments)};return window[Ee]&&"function"==typeof window[Ee]&&(Ie=window[Ee]),window[Ee]=function Xf(D,N,J,ue){function Ie(){return(Ie=(0,y.Z)(function*(je,...at){try{if("event"===je){const[rt,St]=at;yield Qf(D,N,J,rt,St)}else if("config"===je){const[rt,St]=at;yield Tu(D,N,J,ue,rt,St)}else if("consent"===je){const[rt]=at;D("consent","update",rt)}else if("get"===je){const[rt,St,It]=at;D("get",rt,St,It)}else if("set"===je){const[rt]=at;D("set",rt)}else D(je,...at)}catch(rt){ni.error(rt)}})).apply(this,arguments)}return function Ee(je){return Ie.apply(this,arguments)}}(Ie,D,N,J),{gtagCore:Ie,wrappedGtag:window[Ee]}}(pr,va,ki,yc,"gtag");mr=Ie,Ho=je,vc=!0}return pr[ue]=function mt(D,N,J,ue,Ee,Ie,je){return _t.apply(this,arguments)}(D,va,ki,N,Ho,yc,J),new mi(D)}function pl(){return bc.apply(this,arguments)}function bc(){return(bc=(0,y.Z)(function*(){if((0,M.ru)()||!(0,M.zI)()||!(0,M.hl)())return!1;try{return yield(0,M.eu)()}catch{return!1}})).apply(this,arguments)}const Ea="@firebase/analytics";!function Rs(){(0,I._registerComponent)(new k.wA($n,(N,{options:J})=>Et(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),J),"PUBLIC")),(0,I._registerComponent)(new k.wA("analytics-internal",function D(N){try{const J=N.getProvider($n).getImmediate();return{logEvent:(ue,Ee,Ie)=>function Ps(D,N,J,ue){D=(0,M.m9)(D),function cg(D,N,J,ue,Ee){return np.apply(this,arguments)}(mr,pr[D.app.options.appId],N,J,ue).catch(Ee=>ni.error(Ee))}(J,ue,Ee,Ie)}}catch(J){throw Ji.create("interop-component-reg-failed",{reason:J})}},"PRIVATE")),(0,I.registerVersion)(Ea,"0.10.0"),(0,I.registerVersion)(Ea,"0.10.0","esm2017")}();var Br=f(4408),er=f(7565);const Cc=new class gi extends er.v{}(class Zr extends Br.o{constructor(N,J){super(N,J),this.scheduler=N,this.work=J}schedule(N,J=0){return J>0?super.schedule(N,J):(this.delay=J,this.state=N,this.scheduler.flush(this),this)}execute(N,J){return J>0||this.closed?super.execute(N,J):this._execute(N,J)}requestAsyncId(N,J,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(N,J,ue):(N.flush(this),0)}});var _i=f(4986),Pi=f(8505),xr=f(9468),ui=f(5363);const di=new s.GfV("7.5.0"),fo="__angularfire_symbol__analyticsIsSupportedValue",wa="__angularfire_symbol__analyticsIsSupported",Ec="__angularfire_symbol__remoteConfigIsSupportedValue",Sr="__angularfire_symbol__remoteConfigIsSupported",Kr="__angularfire_symbol__messagingIsSupportedValue",qn="__angularfire_symbol__messagingIsSupported";function lp(D,N,J){if(N){if(1===N.length)return N[0];const Ie=N.filter(je=>je.app===J);if(1===Ie.length)return Ie[0]}return J.container.getProvider(D).getImmediate({optional:!0})}globalThis[wa]||(globalThis[wa]=pl().then(D=>globalThis[fo]=D).catch(()=>globalThis[fo]=!1)),globalThis[qn]||(globalThis[qn]=ma().then(D=>globalThis[Kr]=D).catch(()=>globalThis[Kr]=!1)),globalThis[Sr]||(globalThis[Sr]=wr().then(D=>globalThis[Ec]=D).catch(()=>globalThis[Ec]=!1));const Ru=(D,N)=>{const J=N?[N]:(0,v.C6)(),ue=[];return J.forEach(Ee=>{Ee.container.getProvider(D).instances.forEach(je=>{ue.includes(je)||ue.push(je)})}),ue};function zo(){}class ml{constructor(N,J=Cc){this.zone=N,this.delegate=J}now(){return this.delegate.now()}schedule(N,J,ue){const Ee=this.zone;return this.delegate.schedule(function(je){Ee.runGuarded(()=>{N.apply(this,[je])})},J,ue)}}class sn{constructor(N){this.zone=N,this.task=null}call(N,J){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zo,{},zo,zo)),J.pipe((0,Pi.b)({next:ue,complete:ue,error:ue})).subscribe(N).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gl=(()=>{class D{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new ml(Zone.current)),this.insideAngular=J.run(()=>new ml(Zone.current,_i.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(J){return new(J||D)(s.LFG(s.R0b))},D.\u0275prov=s.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function xa(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function wc(D){return xa(),function Ou(D){return function(J){return(J=J.lift(new sn(D.ngZone))).pipe((0,xr.R)(D.outsideAngular),(0,ui.Q)(D.insideAngular))}}(xa())(D)}},2090:(c,h,f)=>{"use strict";f.d(h,{$s:()=>Is,BH:()=>he,G6:()=>me,L:()=>Q,LL:()=>Qe,Pz:()=>ae,Sg:()=>Re,UG:()=>_e,US:()=>k,ZB:()=>U,ZR:()=>ht,aH:()=>ie,b$:()=>pe,eu:()=>Le,hl:()=>Ne,jU:()=>$e,m9:()=>Cr,ne:()=>an,pd:()=>gn,r3:()=>ii,ru:()=>Te,tV:()=>R,uI:()=>Se,vZ:()=>En,w1:()=>X,xO:()=>Di,xb:()=>qi,z$:()=>De,zI:()=>nt,zd:()=>ri});const I=function(ye){const ge=[];let xe=0;for(let He=0;He<ye.length;He++){let ke=ye.charCodeAt(He);ke<128?ge[xe++]=ke:ke<2048?(ge[xe++]=ke>>6|192,ge[xe++]=63&ke|128):55296==(64512&ke)&&He+1<ye.length&&56320==(64512&ye.charCodeAt(He+1))?(ke=65536+((1023&ke)<<10)+(1023&ye.charCodeAt(++He)),ge[xe++]=ke>>18|240,ge[xe++]=ke>>12&63|128,ge[xe++]=ke>>6&63|128,ge[xe++]=63&ke|128):(ge[xe++]=ke>>12|224,ge[xe++]=ke>>6&63|128,ge[xe++]=63&ke|128)}return ge},k={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,ge){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const xe=ge?this.byteToCharMapWebSafe_:this.byteToCharMap_,He=[];for(let ke=0;ke<ye.length;ke+=3){const ot=ye[ke],Bt=ke+1<ye.length,Zt=Bt?ye[ke+1]:0,wn=ke+2<ye.length,Je=wn?ye[ke+2]:0;let Rn=(15&Zt)<<2|Je>>6,Yi=63&Je;wn||(Yi=64,Bt||(Rn=64)),He.push(xe[ot>>2],xe[(3&ot)<<4|Zt>>4],xe[Rn],xe[Yi])}return He.join("")},encodeString(ye,ge){return this.HAS_NATIVE_SUPPORT&&!ge?btoa(ye):this.encodeByteArray(I(ye),ge)},decodeString(ye,ge){return this.HAS_NATIVE_SUPPORT&&!ge?atob(ye):function(ye){const ge=[];let xe=0,He=0;for(;xe<ye.length;){const ke=ye[xe++];if(ke<128)ge[He++]=String.fromCharCode(ke);else if(ke>191&&ke<224){const ot=ye[xe++];ge[He++]=String.fromCharCode((31&ke)<<6|63&ot)}else if(ke>239&&ke<365){const wn=((7&ke)<<18|(63&ye[xe++])<<12|(63&ye[xe++])<<6|63&ye[xe++])-65536;ge[He++]=String.fromCharCode(55296+(wn>>10)),ge[He++]=String.fromCharCode(56320+(1023&wn))}else{const ot=ye[xe++],Bt=ye[xe++];ge[He++]=String.fromCharCode((15&ke)<<12|(63&ot)<<6|63&Bt)}}return ge.join("")}(this.decodeStringToByteArray(ye,ge))},decodeStringToByteArray(ye,ge){this.init_();const xe=ge?this.charToByteMapWebSafe_:this.charToByteMap_,He=[];for(let ke=0;ke<ye.length;){const ot=xe[ye.charAt(ke++)],Zt=ke<ye.length?xe[ye.charAt(ke)]:0;++ke;const Je=ke<ye.length?xe[ye.charAt(ke)]:64;++ke;const At=ke<ye.length?xe[ye.charAt(ke)]:64;if(++ke,null==ot||null==Zt||null==Je||null==At)throw new F;He.push(ot<<2|Zt>>4),64!==Je&&(He.push(Zt<<4&240|Je>>2),64!==At&&He.push(Je<<6&192|At))}return He},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}};class F extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q=function(ye){return function(ye){const ge=I(ye);return k.encodeByteArray(ge,!0)}(ye).replace(/\./g,"")},R=function(ye){try{return k.decodeString(ye,!0)}catch(ge){console.error("base64Decode failed: ",ge)}return null};function U(ye,ge){if(!(ge instanceof Object))return ge;switch(ge.constructor){case Date:return new Date(ge.getTime());case Object:void 0===ye&&(ye={});break;case Array:ye=[];break;default:return ge}for(const xe in ge)!ge.hasOwnProperty(xe)||!q(xe)||(ye[xe]=U(ye[xe],ge[xe]));return ye}function q(ye){return"__proto__"!==ye}const V=()=>{try{return function ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ye=process.env.__FIREBASE_DEFAULTS__;return ye?JSON.parse(ye):void 0})()||(()=>{if(typeof document>"u")return;let ye;try{ye=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ge=ye&&R(ye[1]);return ge&&JSON.parse(ge)})()}catch(ye){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ye}`)}},ie=()=>{var ye;return null===(ye=V())||void 0===ye?void 0:ye.config},ae=ye=>{var ge;return null===(ge=V())||void 0===ge?void 0:ge[`_${ye}`]};class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ge,xe)=>{this.resolve=ge,this.reject=xe})}wrapCallback(ge){return(xe,He)=>{xe?this.reject(xe):this.resolve(He),"function"==typeof ge&&(this.promise.catch(()=>{}),1===ge.length?ge(xe):ge(xe,He))}}}function Re(ye,ge){if(ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const He=ge||"demo-project",ke=ye.iat||0,ot=ye.sub||ye.user_id;if(!ot)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Bt=Object.assign({iss:`https://securetoken.google.com/${He}`,aud:He,iat:ke,exp:ke+3600,auth_time:ke,sub:ot,user_id:ot,firebase:{sign_in_provider:"custom",identities:{}}},ye);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(Bt)),""].join(".")}function De(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function _e(){var ye;const ge=null===(ye=V())||void 0===ye?void 0:ye.forceEnvironment;if("node"===ge)return!0;if("browser"===ge)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $e(){return"object"==typeof self&&self.self===self}function Te(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function X(){const ye=De();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function me(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ne(){try{return"object"==typeof indexedDB}catch{return!1}}function Le(){return new Promise((ye,ge)=>{try{let xe=!0;const He="validate-browser-context-for-indexeddb-analytics-module",ke=self.indexedDB.open(He);ke.onsuccess=()=>{ke.result.close(),xe||self.indexedDB.deleteDatabase(He),ye(!0)},ke.onupgradeneeded=()=>{xe=!1},ke.onerror=()=>{var ot;ge((null===(ot=ke.error)||void 0===ot?void 0:ot.message)||"")}}catch(xe){ge(xe)}})}function nt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ht extends Error{constructor(ge,xe,He){super(xe),this.code=ge,this.customData=He,this.name="FirebaseError",Object.setPrototypeOf(this,ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(ge,xe,He){this.service=ge,this.serviceName=xe,this.errors=He}create(ge,...xe){const He=xe[0]||{},ke=`${this.service}/${ge}`,ot=this.errors[ge],Bt=ot?function jt(ye,ge){return ye.replace(zt,(xe,He)=>{const ke=ge[He];return null!=ke?String(ke):`<${He}?>`})}(ot,He):"Error";return new ht(ke,`${this.serviceName}: ${Bt} (${ke}).`,He)}}const zt=/\{\$([^}]+)}/g;function ii(ye,ge){return Object.prototype.hasOwnProperty.call(ye,ge)}function qi(ye){for(const ge in ye)if(Object.prototype.hasOwnProperty.call(ye,ge))return!1;return!0}function En(ye,ge){if(ye===ge)return!0;const xe=Object.keys(ye),He=Object.keys(ge);for(const ke of xe){if(!He.includes(ke))return!1;const ot=ye[ke],Bt=ge[ke];if(fi(ot)&&fi(Bt)){if(!En(ot,Bt))return!1}else if(ot!==Bt)return!1}for(const ke of He)if(!xe.includes(ke))return!1;return!0}function fi(ye){return null!==ye&&"object"==typeof ye}function Di(ye){const ge=[];for(const[xe,He]of Object.entries(ye))Array.isArray(He)?He.forEach(ke=>{ge.push(encodeURIComponent(xe)+"="+encodeURIComponent(ke))}):ge.push(encodeURIComponent(xe)+"="+encodeURIComponent(He));return ge.length?"&"+ge.join("&"):""}function ri(ye){const ge={};return ye.replace(/^\?/,"").split("&").forEach(He=>{if(He){const[ke,ot]=He.split("=");ge[decodeURIComponent(ke)]=decodeURIComponent(ot)}}),ge}function gn(ye){const ge=ye.indexOf("?");if(!ge)return"";const xe=ye.indexOf("#",ge);return ye.substring(ge,xe>0?xe:void 0)}function an(ye,ge){const xe=new pt(ye,ge);return xe.subscribe.bind(xe)}class pt{constructor(ge,xe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=xe,this.task.then(()=>{ge(this)}).catch(He=>{this.error(He)})}next(ge){this.forEachObserver(xe=>{xe.next(ge)})}error(ge){this.forEachObserver(xe=>{xe.error(ge)}),this.close(ge)}complete(){this.forEachObserver(ge=>{ge.complete()}),this.close()}subscribe(ge,xe,He){let ke;if(void 0===ge&&void 0===xe&&void 0===He)throw new Error("Missing Observer.");ke=function Pn(ye,ge){if("object"!=typeof ye||null===ye)return!1;for(const xe of ge)if(xe in ye&&"function"==typeof ye[xe])return!0;return!1}(ge,["next","error","complete"])?ge:{next:ge,error:xe,complete:He},void 0===ke.next&&(ke.next=Ss),void 0===ke.error&&(ke.error=Ss),void 0===ke.complete&&(ke.complete=Ss);const ot=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ke.error(this.finalError):ke.complete()}catch{}}),this.observers.push(ke),ot}unsubscribeOne(ge){void 0===this.observers||void 0===this.observers[ge]||(delete this.observers[ge],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ge){if(!this.finalized)for(let xe=0;xe<this.observers.length;xe++)this.sendOne(xe,ge)}sendOne(ge,xe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ge])try{xe(this.observers[ge])}catch(He){typeof console<"u"&&console.error&&console.error(He)}})}close(ge){this.finalized||(this.finalized=!0,void 0!==ge&&(this.finalError=ge),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ss(){}function Is(ye,ge=1e3,xe=2){const He=ge*Math.pow(xe,ye),ke=Math.round(.5*He*(Math.random()-.5)*2);return Math.min(144e5,He+ke)}function Cr(ye){return ye&&ye._delegate?ye._delegate:ye}},4390:(c,h,f)=>{"use strict";var s=f(4650);let v=null;function y(){return v}const F=new s.OlP("DocumentToken");let z=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Q(){return(0,s.LFG)(H)}()},providedIn:"platform"}),n})();const R=new s.OlP("Location Initialized");let H=(()=>{class n extends z{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return y().getBaseHref(this._doc)}onPopState(e){const i=y().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=y().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){U()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){U()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(F))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function q(){return new H((0,s.LFG)(F))}()},providedIn:"platform"}),n})();function U(){return!!window.history.pushState}function ne(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function j(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function G(n){return n&&"?"!==n[0]?"?"+n:n}let B=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(ee)},providedIn:"root"}),n})();const V=new s.OlP("appBaseHref");let ee=(()=>{class n extends B{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(F).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ne(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+G(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const d=this.prepareExternalUrl(r+G(o));this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,o){const d=this.prepareExternalUrl(r+G(o));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z),s.LFG(V,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),te=(()=>{class n extends B{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ne(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let d=this.prepareExternalUrl(r+G(o));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,o){let d=this.prepareExternalUrl(r+G(o));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z),s.LFG(V,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ie=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=j(Re(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+G(i))}normalize(e){return n.stripTrailingSlash(function he(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Re(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+G(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+G(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=G,n.joinWithSlash=ne,n.stripTrailingSlash=j,n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ae(){return new ie((0,s.LFG)(B))}()},providedIn:"root"}),n})();function Re(n){return n.replace(/\/index.html$/,"")}var $e=(()=>(($e=$e||{})[$e.Format=0]="Format",$e[$e.Standalone=1]="Standalone",$e))(),Te=(()=>((Te=Te||{})[Te.Narrow=0]="Narrow",Te[Te.Abbreviated=1]="Abbreviated",Te[Te.Wide=2]="Wide",Te[Te.Short=3]="Short",Te))(),pe=(()=>((pe=pe||{})[pe.Short=0]="Short",pe[pe.Medium=1]="Medium",pe[pe.Long=2]="Long",pe[pe.Full=3]="Full",pe))(),le=(()=>((le=le||{})[le.Decimal=0]="Decimal",le[le.Group=1]="Group",le[le.List=2]="List",le[le.PercentSign=3]="PercentSign",le[le.PlusSign=4]="PlusSign",le[le.MinusSign=5]="MinusSign",le[le.Exponential=6]="Exponential",le[le.SuperscriptingExponent=7]="SuperscriptingExponent",le[le.PerMille=8]="PerMille",le[le.Infinity=9]="Infinity",le[le.NaN=10]="NaN",le[le.TimeSeparator=11]="TimeSeparator",le[le.CurrencyDecimal=12]="CurrencyDecimal",le[le.CurrencyGroup=13]="CurrencyGroup",le))();function ht(n,t){return ft((0,s.cg1)(n)[s.wAp.DateFormat],t)}function Qe(n,t){return ft((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function jt(n,t){return ft((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function zt(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===le.CurrencyDecimal)return e[s.wAp.NumberSymbols][le.Decimal];if(t===le.CurrencyGroup)return e[s.wAp.NumberSymbols][le.Group]}return i}function vi(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ft(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function En(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const ri=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gn={},hn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var an=(()=>((an=an||{})[an.Short=0]="Short",an[an.ShortGMT=1]="ShortGMT",an[an.Long=2]="Long",an[an.Extended=3]="Extended",an))(),pt=(()=>((pt=pt||{})[pt.FullYear=0]="FullYear",pt[pt.Month=1]="Month",pt[pt.Date=2]="Date",pt[pt.Hours=3]="Hours",pt[pt.Minutes=4]="Minutes",pt[pt.Seconds=5]="Seconds",pt[pt.FractionalSeconds=6]="FractionalSeconds",pt[pt.Day=7]="Day",pt))(),Pt=(()=>((Pt=Pt||{})[Pt.DayPeriods=0]="DayPeriods",Pt[Pt.Days=1]="Days",Pt[Pt.Months=2]="Months",Pt[Pt.Eras=3]="Eras",Pt))();function Pn(n,t,e,i){let r=function ke(n){if(Bt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,d=1]=n.split("-").map(m=>+m);return Ss(r,o-1,d)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(ri))return function ot(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-e,m=Number(n[5]||0)-i,C=Number(n[6]||0),S=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,d,m,C,S),t}(i)}const t=new Date(n);if(!Bt(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Ar(e,t)||t;let m,d=[];for(;t;){if(m=hn.exec(t),!m){d.push(t);break}{d=d.concat(m.slice(1));const O=d.pop();if(!O)break;t=O}}let C=r.getTimezoneOffset();i&&(C=ge(i,C),r=function He(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function xe(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(ge(t,r)-r))}(r,i,!0));let S="";return d.forEach(O=>{const W=function ye(n){if(Cr[n])return Cr[n];let t;switch(n){case"G":case"GG":case"GGG":t=fn(Pt.Eras,Te.Abbreviated);break;case"GGGG":t=fn(Pt.Eras,Te.Wide);break;case"GGGGG":t=fn(Pt.Eras,Te.Narrow);break;case"y":t=Tn(pt.FullYear,1,0,!1,!0);break;case"yy":t=Tn(pt.FullYear,2,0,!0,!0);break;case"yyy":t=Tn(pt.FullYear,3,0,!1,!0);break;case"yyyy":t=Tn(pt.FullYear,4,0,!1,!0);break;case"Y":t=kr(1);break;case"YY":t=kr(2,!0);break;case"YYY":t=kr(3);break;case"YYYY":t=kr(4);break;case"M":case"L":t=Tn(pt.Month,1,1);break;case"MM":case"LL":t=Tn(pt.Month,2,1);break;case"MMM":t=fn(Pt.Months,Te.Abbreviated);break;case"MMMM":t=fn(Pt.Months,Te.Wide);break;case"MMMMM":t=fn(Pt.Months,Te.Narrow);break;case"LLL":t=fn(Pt.Months,Te.Abbreviated,$e.Standalone);break;case"LLLL":t=fn(Pt.Months,Te.Wide,$e.Standalone);break;case"LLLLL":t=fn(Pt.Months,Te.Narrow,$e.Standalone);break;case"w":t=si(1);break;case"ww":t=si(2);break;case"W":t=si(1,!0);break;case"d":t=Tn(pt.Date,1);break;case"dd":t=Tn(pt.Date,2);break;case"c":case"cc":t=Tn(pt.Day,1);break;case"ccc":t=fn(Pt.Days,Te.Abbreviated,$e.Standalone);break;case"cccc":t=fn(Pt.Days,Te.Wide,$e.Standalone);break;case"ccccc":t=fn(Pt.Days,Te.Narrow,$e.Standalone);break;case"cccccc":t=fn(Pt.Days,Te.Short,$e.Standalone);break;case"E":case"EE":case"EEE":t=fn(Pt.Days,Te.Abbreviated);break;case"EEEE":t=fn(Pt.Days,Te.Wide);break;case"EEEEE":t=fn(Pt.Days,Te.Narrow);break;case"EEEEEE":t=fn(Pt.Days,Te.Short);break;case"a":case"aa":case"aaa":t=fn(Pt.DayPeriods,Te.Abbreviated);break;case"aaaa":t=fn(Pt.DayPeriods,Te.Wide);break;case"aaaaa":t=fn(Pt.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":t=fn(Pt.DayPeriods,Te.Abbreviated,$e.Standalone,!0);break;case"bbbb":t=fn(Pt.DayPeriods,Te.Wide,$e.Standalone,!0);break;case"bbbbb":t=fn(Pt.DayPeriods,Te.Narrow,$e.Standalone,!0);break;case"B":case"BB":case"BBB":t=fn(Pt.DayPeriods,Te.Abbreviated,$e.Format,!0);break;case"BBBB":t=fn(Pt.DayPeriods,Te.Wide,$e.Format,!0);break;case"BBBBB":t=fn(Pt.DayPeriods,Te.Narrow,$e.Format,!0);break;case"h":t=Tn(pt.Hours,1,-12);break;case"hh":t=Tn(pt.Hours,2,-12);break;case"H":t=Tn(pt.Hours,1);break;case"HH":t=Tn(pt.Hours,2);break;case"m":t=Tn(pt.Minutes,1);break;case"mm":t=Tn(pt.Minutes,2);break;case"s":t=Tn(pt.Seconds,1);break;case"ss":t=Tn(pt.Seconds,2);break;case"S":t=Tn(pt.FractionalSeconds,1);break;case"SS":t=Tn(pt.FractionalSeconds,2);break;case"SSS":t=Tn(pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Zi(an.Short);break;case"ZZZZZ":t=Zi(an.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Zi(an.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Zi(an.Long);break;default:return null}return Cr[n]=t,t}(O);S+=W?W(r,e,C):"''"===O?"'":O.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),S}function Ss(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Ar(n,t){const e=function oe(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(gn[e]=gn[e]||{},gn[e][t])return gn[e][t];let i="";switch(t){case"shortDate":i=ht(n,pe.Short);break;case"mediumDate":i=ht(n,pe.Medium);break;case"longDate":i=ht(n,pe.Long);break;case"fullDate":i=ht(n,pe.Full);break;case"shortTime":i=Qe(n,pe.Short);break;case"mediumTime":i=Qe(n,pe.Medium);break;case"longTime":i=Qe(n,pe.Long);break;case"fullTime":i=Qe(n,pe.Full);break;case"short":const r=Ar(n,"shortTime"),o=Ar(n,"shortDate");i=bi(jt(n,pe.Short),[r,o]);break;case"medium":const d=Ar(n,"mediumTime"),m=Ar(n,"mediumDate");i=bi(jt(n,pe.Medium),[d,m]);break;case"long":const C=Ar(n,"longTime"),S=Ar(n,"longDate");i=bi(jt(n,pe.Long),[C,S]);break;case"full":const O=Ar(n,"fullTime"),W=Ar(n,"fullDate");i=bi(jt(n,pe.Full),[O,W])}return i&&(gn[e][t]=i),i}function bi(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Lt(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let d=String(n);for(;d.length<t;)d="0"+d;return i&&(d=d.slice(d.length-t)),o+d}function Tn(n,t,e=0,i=!1,r=!1){return function(o,d){let m=function ra(n,t){switch(n){case pt.FullYear:return t.getFullYear();case pt.Month:return t.getMonth();case pt.Date:return t.getDate();case pt.Hours:return t.getHours();case pt.Minutes:return t.getMinutes();case pt.Seconds:return t.getSeconds();case pt.FractionalSeconds:return t.getMilliseconds();case pt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||m>-e)&&(m+=e),n===pt.Hours)0===m&&-12===e&&(m=12);else if(n===pt.FractionalSeconds)return function Wi(n,t){return Lt(n,3).substring(0,t)}(m,t);const C=zt(d,le.MinusSign);return Lt(m,t,C,i,r)}}function fn(n,t,e=$e.Format,i=!1){return function(r,o){return function Mi(n,t,e,i,r,o){switch(e){case Pt.Months:return function Ne(n,t,e){const i=(0,s.cg1)(n),o=ft([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return ft(o,e)}(t,r,i)[n.getMonth()];case Pt.Days:return function me(n,t,e){const i=(0,s.cg1)(n),o=ft([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return ft(o,e)}(t,r,i)[n.getDay()];case Pt.DayPeriods:const d=n.getHours(),m=n.getMinutes();if(o){const S=function ii(n){const t=(0,s.cg1)(n);return vi(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?En(i):[En(i[0]),En(i[1])])}(t),O=function $i(n,t,e){const i=(0,s.cg1)(n);vi(i);const o=ft([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return ft(o,e)||[]}(t,r,i),W=S.findIndex(ce=>{if(Array.isArray(ce)){const[fe,be]=ce,Ae=d>=fe.hours&&m>=fe.minutes,Ue=d<be.hours||d===be.hours&&m<be.minutes;if(fe.hours<be.hours){if(Ae&&Ue)return!0}else if(Ae||Ue)return!0}else if(ce.hours===d&&ce.minutes===m)return!0;return!1});if(-1!==W)return O[W]}return function Ce(n,t,e){const i=(0,s.cg1)(n),o=ft([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return ft(o,e)}(t,r,i)[d<12?0:1];case Pt.Eras:return function Le(n,t){return ft((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Zi(n){return function(t,e,i){const r=-1*i,o=zt(e,le.MinusSign),d=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case an.Short:return(r>=0?"+":"")+Lt(d,2,o)+Lt(Math.abs(r%60),2,o);case an.ShortGMT:return"GMT"+(r>=0?"+":"")+Lt(d,1,o);case an.Long:return"GMT"+(r>=0?"+":"")+Lt(d,2,o)+":"+Lt(Math.abs(r%60),2,o);case an.Extended:return 0===i?"Z":(r>=0?"+":"")+Lt(d,2,o)+":"+Lt(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function Is(n){return Ss(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function si(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,d=e.getDate();r=1+Math.floor((d+o)/7)}else{const o=Is(e),d=function Ki(n){const t=Ss(n,0,1).getDay();return Ss(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),m=o.getTime()-d.getTime();r=1+Math.round(m/6048e5)}return Lt(r,n,zt(i,le.MinusSign))}}function kr(n,t=!1){return function(e,i){return Lt(Is(e).getFullYear(),n,zt(i,le.MinusSign),t)}}const Cr={};function ge(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Bt(n){return n instanceof Date&&!isNaN(n.valueOf())}let _n=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class iu{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new iu(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===o?void 0:o);else if(null!==o){const m=i.get(o);i.move(m,d),co(m,r)}});for(let r=0,o=i.length;r<o;r++){const m=i.get(r).context;m.index=r,m.count=o,m.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{co(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function co(n,t){n.context.$implicit=t.item}let xn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Bd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ai("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ai("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Bd{constructor(){this.$implicit=null,this.ngIf=null}}function Ai(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class Er{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let uo=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),oa=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Er(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(uo,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Hl=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),d=-1===r.indexOf("-")?void 0:s.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,d):this._renderer.removeStyle(this._ngEl.nativeElement,r,d)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),ru=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:d}=this;this._viewRef=i.createEmbeddedView(r,o,d?{injector:d}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();function Un(n,t){return new s.vHH(2100,!1)}class Hd{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class su{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Ud=new su,Of=new Hd;let ou=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return Ud;if((0,s.F4k)(e))return Of;throw Un()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const ig=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let au=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){if(null==e||""===e||e!=e)return null;try{return Pn(e,i,o||this.locale,r??this.defaultTimezone??void 0)}catch(d){throw Un()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(ig,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),oi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Gl="browser";function $l(n){return"server"===n}let $s=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Wl((0,s.LFG)(F),window)}),n})();class Wl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function wr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const d=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(d)return d}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=$r(this.window.history)||$r(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $r(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Eu extends class $f extends class k{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function M(n){v||(v=n)}(new Eu)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function rc(){return ic=ic||document.querySelector("base"),ic?ic.getAttribute("href"):null}();return null==e?null:function qf(n){sc=sc||document.createElement("a"),sc.setAttribute("href",n);const t=sc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ic=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Bl(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let sc,ic=null;const fa=new s.OlP("TRANSITION_ID"),wu=[{provide:s.ip1,useFactory:function ih(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=y(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[fa,F,s.zs3],multi:!0}];let Wf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ds=new s.OlP("EventManagerPlugins");let rl=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const d=r[o];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ds),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ks{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=y().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Ro=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ms=(()=>{class n extends Ro{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const d=this._doc.createElement("style");d.textContent=o,r.push(i.appendChild(d))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(oc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(oc))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function oc(n){y().remove(n)}const sl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qr=/%COMP%/g;function No(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?No(n,r,e):(r=r.replace(qr,n),e.push(r))}return e}function ac(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ma=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ga(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Lo(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new Kf(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=No(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(rl),s.LFG(Ms),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class ga{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(sl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(al(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(al(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=sl[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=sl[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ac(i)):this.eventManager.addEventListener(t,e,ac(i))}}function al(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Lo extends ga{constructor(t,e,i,r){super(t),this.component=i;const o=No(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function Fo(n){return"_ngcontent-%COMP%".replace(qr,n)}(r+"-"+i.id),this.hostAttr=function ol(n){return"_nghost-%COMP%".replace(qr,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Kf extends ga{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=No(r.id,r.styles,[]);for(let d=0;d<o.length;d++){const m=document.createElement("style");m.textContent=o[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let lc=(()=>{class n extends Ks{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ks=["alt","control","meta","shift"],lg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$n={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Iu=(()=>{class n extends Ks{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),d=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>y().onAndCancel(e,o.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let d="",m=i.indexOf("code");if(m>-1&&(i.splice(m,1),d="code."),ks.forEach(S=>{const O=i.indexOf(S);O>-1&&(i.splice(O,1),d+=S+".")}),d+=o,0!=i.length||0===o.length)return null;const C={};return C.domEventName=r,C.fullKey=d,C}static matchEventFullKeyCode(e,i){let r=lg[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ks.forEach(d=>{d!==r&&(0,$n[d])(e)&&(o+=d+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const uc=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Gl},{provide:s.g9A,useValue:function Bo(){Eu.makeCurrent()},multi:!0},{provide:F,useFactory:function _a(){return(0,s.RDi)(document),document},deps:[]}]),cl=new s.OlP(""),Dn=[{provide:s.rWj,useClass:class il{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,d=!1;const m=function(C){d=d||C,o--,0==o&&i(d)};r.forEach(function(C){C.whenStable(m)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?y().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],Tu=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Ji(){return new s.qLn},deps:[]},{provide:Ds,useClass:lc,multi:!0,deps:[F,s.R0b,s.Lbi]},{provide:Ds,useClass:Iu,multi:!0,deps:[F]},{provide:ma,useClass:ma,deps:[rl,Ms,s.AFp]},{provide:s.FYo,useExisting:ma},{provide:Ro,useExisting:Ms},{provide:Ms,useClass:Ms,deps:[F]},{provide:rl,useClass:rl,deps:[Ds,s.R0b]},{provide:class Zl{},useClass:Wf,deps:[]},[]];let dc=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:fa,useExisting:s.AFp},wu]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(cl,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...Tu,...Dn],imports:[oi,s.hGG]}),n})(),ep=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(F))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Jf(){return new ep((0,s.LFG)(F))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Vo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(hl),i},providedIn:"root"}),n})(),hl=(()=>{class n extends Vo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(F))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function ku(n){return new hl(n.get(F))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var Sn=f(8996),us=f(3269);function mt(...n){const t=(0,us.yG)(n);return(0,Sn.D)(n,t)}var _t=f(7579);class mi extends _t.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const va=(0,f(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ki=f(9751);const{isArray:yc}=Array,{getPrototypeOf:fl,prototype:Ho,keys:mr}=Object;function vc(n){if(1===n.length){const t=n[0];if(yc(t))return{args:t,keys:null};if(function ci(n){return n&&"object"==typeof n&&fl(n)===Ho}(t)){const e=mr(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var ba=f(4671),Et=f(4004);const{isArray:lh}=Array;function pl(n){return(0,Et.U)(t=>function Uo(n,t){return lh(t)?n(...t):n(t)}(n,t))}function bc(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var jn=f(5403),ch=f(9672);function Xs(...n){const t=(0,us.yG)(n),e=(0,us.jO)(n),{args:i,keys:r}=vc(n);if(0===i.length)return(0,Sn.D)([],t);const o=new ki.y(function Pu(n,t,e=ba.y){return i=>{jo(t,()=>{const{length:r}=n,o=new Array(r);let d=r,m=r;for(let C=0;C<r;C++)jo(t,()=>{const S=(0,Sn.D)(n[C],t);let O=!1;S.subscribe((0,jn.x)(i,W=>{o[C]=W,O||(O=!0,m--),m||i.next(e(o.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,r?d=>bc(r,d):ba.y));return e?o.pipe(pl(e)):o}function jo(n,t,e){n?(0,ch.f)(e,n,t):t()}var Ca=f(8189);function Ps(...n){return function rp(){return(0,Ca.J)(1)}()((0,Sn.D)(n,(0,us.yG)(n)))}var ds=f(8421);function Ea(n){return new ki.y(t=>{(0,ds.Xf)(n()).subscribe(t)})}var uh=f(9635),Rs=f(576);function Br(n,t){const e=(0,Rs.m)(n)?n:()=>n,i=r=>r.error(e());return new ki.y(t?r=>t.schedule(i,0,r):i)}var Zr=f(515),er=f(727),gi=f(4482);function Cc(){return(0,gi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,jn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class sp extends ki.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,gi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new er.w0;const e=this.getSubject();t.add(this.source.subscribe((0,jn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=er.w0.EMPTY)}return t}refCount(){return Cc()(this)}}function _i(n,t){return(0,gi.e)((e,i)=>{let r=null,o=0,d=!1;const m=()=>d&&!r&&i.complete();e.subscribe((0,jn.x)(i,C=>{r?.unsubscribe();let S=0;const O=o++;(0,ds.Xf)(n(C,O)).subscribe(r=(0,jn.x)(i,W=>i.next(t?t(C,W,O,S++):W),()=>{r=null,m()}))},()=>{d=!0,m()}))})}function Pi(n){return n<=0?()=>Zr.E:(0,gi.e)((t,e)=>{let i=0;t.subscribe((0,jn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function xr(...n){const t=(0,us.yG)(n);return(0,gi.e)((e,i)=>{(t?Ps(n,e,t):Ps(n,e)).subscribe(i)})}function ui(n,t){return(0,gi.e)((e,i)=>{let r=0;e.subscribe((0,jn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var di=f(5577);function fo(n){return(0,gi.e)((t,e)=>{let i=!1;t.subscribe((0,jn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function wa(n=Ec){return(0,gi.e)((t,e)=>{let i=!1;t.subscribe((0,jn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Ec(){return new va}function Sr(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ui((r,o)=>n(r,o,i)):ba.y,Pi(1),e?fo(t):wa(()=>new va))}function Kr(n,t){return(0,Rs.m)(t)?(0,di.z)(n,t,1):(0,di.z)(n,1)}var qn=f(8505);function Ir(n){return(0,gi.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,jn.x)(e,void 0,void 0,d=>{o=(0,ds.Xf)(n(d,Ir(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function op(n,t,e,i,r){return(o,d)=>{let m=e,C=t,S=0;o.subscribe((0,jn.x)(d,O=>{const W=S++;C=m?n(C,O,W):(m=!0,O),i&&d.next(C)},r&&(()=>{m&&d.next(C),d.complete()})))}}function po(n,t){return(0,gi.e)(op(n,t,arguments.length>=2,!0))}function ap(n){return n<=0?()=>Zr.E:(0,gi.e)((t,e)=>{let i=[];t.subscribe((0,jn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function lp(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ui((r,o)=>n(r,o,i)):ba.y,ap(1),e?fo(t):wa(()=>new va))}function ml(n){return(0,gi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const sn="primary",gl=Symbol("RouteTitle");class xa{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Js(n){return new xa(n)}function mo(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const d=i[o],m=n[o];if(d.startsWith(":"))r[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Os(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!wc(n[r],t[r]))return!1;return!0}function wc(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Ou(n){return Array.prototype.concat.apply([],n)}function hs(n){return n.length>0?n[n.length-1]:null}function D(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function N(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Sn.D)(Promise.resolve(n)):mt(n)}const J=!1,Ee={exact:function rt(n,t,e){if(!Hi(n.segments,t.segments)||!tr(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!rt(n.children[i],t.children[i],e))return!1;return!0},subset:It},Ie={exact:function at(n,t){return Os(n,t)},subset:function St(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>wc(n[e],t[e]))},ignored:()=>!0};function je(n,t,e){return Ee[e.paths](n.root,t.root,e.matrixParams)&&Ie[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function It(n,t,e){return Gt(n,t,t.segments,e)}function Gt(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Hi(r,e)||t.hasChildren()||!tr(r,e,i))}if(n.segments.length===e.length){if(!Hi(n.segments,e)||!tr(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!It(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Hi(n.segments,r)&&tr(n.segments,r,i)&&n.children[sn])&&Gt(n.children[sn],t,o,i)}}function tr(n,t,e){return t.every((i,r)=>Ie[e](n[r].parameters,i.parameters))}class Fn{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Js(this.queryParams)),this._queryParamMap}toString(){return dg.serialize(this)}}class Dt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,D(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cp(this)}}class fs{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Js(this.parameters)),this._parameterMap}toString(){return hg(this)}}function Hi(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let xc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new Fu},providedIn:"root"}),n})();class Fu{parse(t){const e=new Lu(t);return new Fn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Sa(t.root,!0)}`,i=function Ry(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${_l(e)}=${_l(r)}`).join("&"):`${_l(e)}=${_l(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function hh(n){return encodeURI(n)}(t.fragment)}`:""}`}}const dg=new Fu;function cp(n){return n.segments.map(t=>hg(t)).join("/")}function Sa(n,t){if(!n.hasChildren())return cp(n);if(t){const e=n.children[sn]?Sa(n.children[sn],!1):"",i=[];return D(n.children,(r,o)=>{o!==sn&&i.push(`${o}:${Sa(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function eo(n,t){let e=[];return D(n.children,(i,r)=>{r===sn&&(e=e.concat(t(i,r)))}),D(n.children,(i,r)=>{r!==sn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===sn?[Sa(n.children[sn],!1)]:[`${r}:${Sa(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[sn]?`${cp(n)}/${e[0]}`:`${cp(n)}/(${e.join("//")})`}}function up(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _l(n){return up(n).replace(/%3B/gi,";")}function Sc(n){return up(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fh(n){return decodeURIComponent(n)}function dp(n){return fh(n.replace(/\+/g,"%20"))}function hg(n){return`${Sc(n.path)}${function Nu(n){return Object.keys(n).map(t=>`;${Sc(t)}=${Sc(n[t])}`).join("")}(n.parameters)}`}const fg=/^[^\/()?;=#]+/;function Ic(n){const t=n.match(fg);return t?t[0]:""}const pg=/^[^=?&#]+/,mC=/^[^&#]+/;class Lu{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[sn]=new Dt(t,e)),i}parseSegment(){const t=Ic(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,J);return this.capture(t),new fs(fh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ic(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Ic(this.remaining);r&&(i=r,this.capture(i))}t[fh(e)]=fh(i)}parseQueryParam(t){const e=function Ia(n){const t=n.match(pg);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function Tc(n){const t=n.match(mC);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const r=dp(e),o=dp(i);if(t.hasOwnProperty(r)){let d=t[r];Array.isArray(d)||(d=[d],t[r]=d),d.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ic(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,J);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=sn);const d=this.parseChildren();e[o]=1===Object.keys(d).length?d[sn]:new Dt([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,J)}}function ph(n){return n.segments.length>0?new Dt([],{[sn]:n}):n}function Dc(n){const t={};for(const i of Object.keys(n.children)){const o=Dc(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function hp(n){if(1===n.numberOfChildren&&n.children[sn]){const t=n.children[sn];return new Dt(n.segments.concat(t.segments),t.children)}return n}(new Dt(n.segments,t))}function yl(n){return n instanceof Fn}function Fy(n,t,e,i,r){if(0===e.length)return bl(t.root,t.root,t.root,i,r);const o=function gh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pp(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,d)=>{if("object"==typeof o&&null!=o){if(o.outlets){const m={};return D(o.outlets,(C,S)=>{m[S]="string"==typeof C?C.split("/"):C}),[...r,{outlets:m}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===d?(o.split("/").forEach((m,C)=>{0==C&&"."===m||(0==C&&""===m?e=!0:".."===m?t++:""!=m&&r.push(m))}),r):[...r,o]},[]);return new pp(e,t,i)}(e);return o.toRoot()?bl(t.root,t.root,new Dt([],{}),i,r):function d(C){const S=function Go(n,t,e,i){if(n.isAbsolute)return new Cl(t.root,!0,0);if(-1===i)return new Cl(e,e===t.root,0);return function Vu(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new Cl(i,!1,r-o)}(e,i+(Mc(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,C),O=S.processChildren?El(S.segmentGroup,S.index,o.commands):mp(S.segmentGroup,S.index,o.commands);return bl(t.root,S.segmentGroup,O,i,r)}(n.snapshot?._lastPathIndex)}function Mc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vl(n){return"object"==typeof n&&null!=n&&n.outlets}function bl(n,t,e,i,r){let d,o={};i&&D(i,(C,S)=>{o[S]=Array.isArray(C)?C.map(O=>`${O}`):`${C}`}),d=n===t?e:mh(n,t,e);const m=ph(Dc(d));return new Fn(m,o,r)}function mh(n,t,e){const i={};return D(n.children,(r,o)=>{i[o]=r===t?e:mh(r,t,e)}),new Dt(n.segments,i)}class pp{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Mc(i[0]))throw new s.vHH(4003,!1);const r=i.find(vl);if(r&&r!==hs(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cl{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function mp(n,t,e){if(n||(n=new Dt([],{})),0===n.segments.length&&n.hasChildren())return El(n,t,e);const i=function _h(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const d=n.segments[r],m=e[i];if(vl(m))break;const C=`${m}`,S=i<e.length-1?e[i+1]:null;if(r>0&&void 0===C)break;if(C&&S&&"object"==typeof S&&void 0===S.outlets){if(!_p(C,S,d))return o;i+=2}else{if(!_p(C,{},d))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Dt(n.segments.slice(0,i.pathIndex),{});return o.children[sn]=new Dt(n.segments.slice(i.pathIndex),n.children),El(o,0,r)}return i.match&&0===r.length?new Dt(n.segments,{}):i.match&&!n.hasChildren()?gp(n,t,e):i.match?El(n,0,r):gp(n,t,e)}function El(n,t,e){if(0===e.length)return new Dt(n.segments,{});{const i=function gg(n){return vl(n[0])?n[0].outlets:{[sn]:n}}(e),r={};return D(i,(o,d)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[d]=mp(n.children[d],t,o))}),D(n.children,(o,d)=>{void 0===i[d]&&(r[d]=o)}),new Dt(n.segments,r)}}function gp(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(vl(o)){const C=_g(o.outlets);return new Dt(i,C)}if(0===r&&Mc(e[0])){i.push(new fs(n.segments[t].path,yh(e[0]))),r++;continue}const d=vl(o)?o.outlets[sn]:`${o}`,m=r<e.length-1?e[r+1]:null;d&&m&&Mc(m)?(i.push(new fs(d,yh(m))),r+=2):(i.push(new fs(d,{})),r++)}return new Dt(i,{})}function _g(n){const t={};return D(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=gp(new Dt([],{}),0,e))}),t}function yh(n){const t={};return D(n,(e,i)=>t[i]=`${e}`),t}function _p(n,t,e){return n==e.path&&Os(t,e.parameters)}class to{constructor(t,e){this.id=t,this.url=e}}class vh extends to{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _o extends to{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class no extends to{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yp extends to{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bh extends to{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vp extends to{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bp extends to{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hu extends to{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ny extends to{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cp{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ep{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wp{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xp{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sp{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ac{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ch{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kc{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Eh(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Eh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=yg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return yg(t,this._root).map(e=>e.value)}}function Eh(n,t){if(n===t.value)return t;for(const e of t.children){const i=Eh(n,e);if(i)return i}return null}function yg(n,t){if(n===t.value)return[t];for(const e of t.children){const i=yg(n,e);if(i.length)return i.unshift(t),i}return[]}class io{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function yo(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class vg extends kc{constructor(t,e){super(t),this.snapshot=e,Ih(this,t)}toString(){return this.snapshot.toString()}}function wh(n,t){const e=function xh(n,t){const d=new Uu([],{},{},"",{},sn,t,null,n.root,-1,{});return new Ta("",new io(d,[]))}(n,t),i=new mi([new fs("",{})]),r=new mi({}),o=new mi({}),d=new mi({}),m=new mi(""),C=new ji(i,r,d,m,o,sn,t,e.root);return C.snapshot=e.root,new vg(new io(C,[]),e)}class ji{constructor(t,e,i,r,o,d,m,C){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,Et.U)(S=>S[gl]))??mt(void 0),this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(t=>Js(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(t=>Js(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sh(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function bg(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Uu{constructor(t,e,i,r,o,d,m,C,S,O,W,ce){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=d,this.component=m,this.title=this.data?.[gl],this.routeConfig=C,this._urlSegment=S,this._lastPathIndex=O,this._correctedLastPathIndex=ce??O,this._resolve=W}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Js(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Js(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ta extends kc{constructor(t,e){super(e),this.url=t,Ih(this,e)}toString(){return Vr(this._root)}}function Ih(n,t){t.value._routerState=n,t.children.forEach(e=>Ih(n,e))}function Vr(n){const t=n.children.length>0?` { ${n.children.map(Vr).join(", ")} } `:"";return`${n.value}${t}`}function ju(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Os(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Os(t.params,e.params)||n.params.next(e.params),function dh(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Os(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Os(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function zu(n,t){const e=Os(n.params,t.params)&&function go(n,t){return Hi(n,t)&&n.every((e,i)=>Os(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||zu(n.parent,t.parent))}function Ei(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function vo(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ei(n,i,r);return Ei(n,i)})}(n,t,e);return new io(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const d=o.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(m=>Ei(n,m)),d}}const i=function Cg(n){return new ji(new mi(n.url),new mi(n.params),new mi(n.queryParams),new mi(n.fragment),new mi(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Ei(n,o));return new io(i,r)}}const Th="ngNavigationCancelingError";function Eg(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=yl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Dh(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Dh(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Th]=!0,i.cancellationCode=t,e&&(i.url=e),i}function wg(n){return xg(n)&&yl(n.url)}function xg(n){return n&&n[Th]}class Sg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gu,this.attachRef=null}}let Gu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Sg,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const w=!1;let _=(()=>{class n{constructor(e,i,r,o,d){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||sn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,w);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,w);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,w);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,w);this._activatedRoute=e;const r=this.location,d=e._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,C=new b(e,m,r.injector);if(i&&function T(n){return!!n.resolveComponentFactory}(i)){const S=i.resolveComponentFactory(d);this.activated=r.createComponent(S,r.length,C)}else this.activated=r.createComponent(d,{index:r.length,injector:C,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Gu),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class b{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ji?this.route:t===Gu?this.childContexts:this.parent.get(t,e)}}let $=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[_],encapsulation:2}),n})();function re(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function $u(n){const t=n.children&&n.children.map($u),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==sn&&(e.component=$),e}function Fs(n){return n.outlet||sn}function qu(n,t){const e=n.filter(i=>Fs(i)===t);return e.push(...n.filter(i=>Fs(i)!==t)),e}function Pc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Ip{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),ju(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=yo(e);t.children.forEach(o=>{const d=o.value.outlet;this.deactivateRoutes(o,r[d],i),delete r[d]}),D(r,(o,d)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const d=i.getContext(r.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=yo(t);for(const d of Object.keys(o))this.deactivateRouteAndItsChildren(o[d],r);if(i&&i.outlet){const d=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:m})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=yo(t);for(const d of Object.keys(o))this.deactivateRouteAndItsChildren(o[d],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=yo(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Ac(o.value.snapshot))}),t.children.length&&this.forwardEvent(new xp(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(ju(r),r===o)if(r.component){const d=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const d=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const m=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),ju(m.route.value),this.activateChildRoutes(t,null,d.children)}else{const m=Pc(r.snapshot),C=m?.get(s._Vd)??null;d.attachRef=null,d.route=r,d.resolver=C,d.injector=m,d.outlet&&d.outlet.activateWith(r,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class Tp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Rc{constructor(t,e){this.component=t,this.route=e}}function Oc(n,t,e){const i=n._root;return wl(i,t?t._root:null,e,[i.value])}function Da(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function wl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=yo(t);return n.children.forEach(d=>{(function wi(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,d=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(d&&o.routeConfig===d.routeConfig){const C=function vI(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Hi(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Hi(n.url,t.url)||!Os(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zu(n,t)||!Os(n.queryParams,t.queryParams);default:return!zu(n,t)}}(d,o,o.routeConfig.runGuardsAndResolvers);C?r.canActivateChecks.push(new Tp(i)):(o.data=d.data,o._resolvedData=d._resolvedData),wl(n,t,o.component?m?m.children:null:e,i,r),C&&m&&m.outlet&&m.outlet.isActivated&&r.canDeactivateChecks.push(new Rc(m.outlet.component,d))}else d&&Mp(t,m,r),r.canActivateChecks.push(new Tp(i)),wl(n,null,o.component?m?m.children:null:e,i,r)})(d,o[d.value.outlet],e,i.concat([d.value]),r),delete o[d.value.outlet]}),D(o,(d,m)=>Mp(d,e.getContext(m),r)),r}function Mp(n,t,e){const i=yo(n),r=n.value;D(i,(o,d)=>{Mp(o,r.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new Rc(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Wu(n){return"function"==typeof n}function Zu(n){return n instanceof va||"EmptyError"===n?.name}const Mh=Symbol("INITIAL_VALUE");function Ku(){return _i(n=>Xs(n.map(t=>t.pipe(Pi(1),xr(Mh)))).pipe((0,Et.U)(t=>{for(const e of t)if(!0!==e){if(e===Mh)return Mh;if(!1===e||e instanceof Fn)return e}return!0}),ui(t=>t!==Mh),Pi(1)))}function Hy(n){return(0,uh.z)((0,qn.b)(t=>{if(yl(t))throw Eg(0,t)}),(0,Et.U)(t=>!0===t))}const xl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wC(n,t,e,i,r){const o=Ap(n,t,e);return o.matched?function EC(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?mt(r.map(d=>{const m=Da(d,n);return N(function xI(n){return n&&Wu(n.canMatch)}(m)?m.canMatch(t,e):n.runInContext(()=>m(t,e)))})).pipe(Ku(),Hy()):mt(!0)}(i=re(t,i),t,e).pipe((0,Et.U)(d=>!0===d?o:{...xl})):mt(o)}function Ap(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...xl}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||mo)(e,n,t);if(!r)return{...xl};const o={};D(r.posParams,(m,C)=>{o[C]=m.path});const d=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:d,positionalParamSegments:r.posParams??{}}}function Yu(n,t,e,i,r="corrected"){if(e.length>0&&function Tg(n,t,e){return e.some(i=>kp(n,t,i)&&Fs(i)!==sn)}(n,e,i)){const d=new Dt(t,function Uy(n,t,e,i){const r={};r[sn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Fs(o)!==sn){const d=new Dt([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,r[Fs(o)]=d}return r}(n,t,i,new Dt(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function Qu(n,t,e){return e.some(i=>kp(n,t,i))}(n,e,i)){const d=new Dt(n.segments,function TI(n,t,e,i,r,o){const d={};for(const m of i)if(kp(n,e,m)&&!r[Fs(m)]){const C=new Dt([],{});C._sourceSegment=n,C._segmentIndexShift="legacy"===o?n.segments.length:t.length,d[Fs(m)]=C}return{...r,...d}}(n,t,e,i,n.children,r));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const o=new Dt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function kp(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Dg(n,t,e,i){return!!(Fs(n)===i||i!==sn&&kp(t,e,n))&&("**"===n.path||Ap(t,n,e).matched)}function xC(n,t,e){return 0===t.length&&!n.children[e]}const Mg=!1;class Pp{constructor(t){this.segmentGroup=t||null}}class Xu{constructor(t){this.urlTree=t}}function Rp(n){return Br(new Pp(n))}function SC(n){return Br(new Xu(n))}class AI{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=Yu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Dt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,sn).pipe((0,Et.U)(o=>this.createUrlTree(Dc(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ir(o=>{if(o instanceof Xu)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Pp?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,sn).pipe((0,Et.U)(r=>this.createUrlTree(Dc(r),t.queryParams,t.fragment))).pipe(Ir(r=>{throw r instanceof Pp?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,Mg)}createUrlTree(t,e,i){const r=ph(t);return new Fn(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Et.U)(o=>new Dt([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Sn.D)(r).pipe(Kr(o=>{const d=i.children[o],m=qu(e,o);return this.expandSegmentGroup(t,m,d,o).pipe((0,Et.U)(C=>({segment:C,outlet:o})))}),po((o,d)=>(o[d.outlet]=d.segment,o),{}),lp())}expandSegment(t,e,i,r,o,d){return(0,Sn.D)(i).pipe(Kr(m=>this.expandSegmentAgainstRoute(t,e,i,m,r,o,d).pipe(Ir(S=>{if(S instanceof Pp)return mt(null);throw S}))),Sr(m=>!!m),Ir((m,C)=>{if(Zu(m))return xC(e,r,o)?mt(new Dt([],{})):Rp(e);throw m}))}expandSegmentAgainstRoute(t,e,i,r,o,d,m){return Dg(r,e,o,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,d):Rp(e):Rp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,d){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?SC(o):this.lineralizeSegments(i,o).pipe((0,di.z)(d=>{const m=new Dt(d,{});return this.expandSegment(t,m,e,d,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,d){const{matched:m,consumedSegments:C,remainingSegments:S,positionalParamSegments:O}=Ap(e,r,o);if(!m)return Rp(e);const W=this.applyRedirectCommands(C,r.redirectTo,O);return r.redirectTo.startsWith("/")?SC(W):this.lineralizeSegments(r,W).pipe((0,di.z)(ce=>this.expandSegment(t,e,i,ce.concat(S),d,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=re(i,t),i.loadChildren?(i._loadedRoutes?mt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Et.U)(m=>(i._loadedRoutes=m.routes,i._loadedInjector=m.injector,new Dt(r,{})))):mt(new Dt(r,{}))):wC(e,i,r,t).pipe(_i(({matched:d,consumedSegments:m,remainingSegments:C})=>d?this.getChildConfig(t=i._injector??t,i,r).pipe((0,di.z)(O=>{const W=O.injector??t,ce=O.routes,{segmentGroup:fe,slicedSegments:be}=Yu(e,m,C,ce),Ae=new Dt(fe.segments,fe.children);if(0===be.length&&Ae.hasChildren())return this.expandChildren(W,ce,Ae).pipe((0,Et.U)(dt=>new Dt(m,dt)));if(0===ce.length&&0===be.length)return mt(new Dt(m,{}));const Ue=Fs(i)===o;return this.expandSegment(W,Ae,ce,be,Ue?sn:o,!0).pipe((0,Et.U)(bt=>new Dt(m.concat(bt.segments),bt.children)))})):Rp(e)))}getChildConfig(t,e,i){return e.children?mt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?mt({routes:e._loadedRoutes,injector:e._loadedInjector}):function Vy(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?mt(!0):mt(r.map(d=>{const m=Da(d,n);return N(function bI(n){return n&&Wu(n.canLoad)}(m)?m.canLoad(t,e):n.runInContext(()=>m(t,e)))})).pipe(Ku(),Hy())}(t,e,i).pipe((0,di.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,qn.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function MI(n){return Br(Dh(Mg,3))}())):mt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return mt(i);if(r.numberOfChildren>1||!r.children[sn])return Br(new s.vHH(4e3,Mg));r=r.children[sn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Fn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return D(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const m=r.substring(1);i[o]=e[m]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let d={};return D(e.children,(m,C)=>{d[C]=this.createSegmentGroup(t,m,i,r)}),new Dt(o,d)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,Mg);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class TC{}class Op{constructor(t,e,i,r,o,d,m,C){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=m,this.urlSerializer=C}recognize(){const t=Yu(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,sn).pipe((0,Et.U)(e=>{if(null===e)return null;const i=new Uu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},sn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new io(i,e),o=new Ta(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=Sh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Sn.D)(Object.keys(i.children)).pipe(Kr(r=>{const o=i.children[r],d=qu(e,r);return this.processSegmentGroup(t,d,o,r)}),po((r,o)=>r&&o?(r.push(...o),r):null),function Ru(n,t=!1){return(0,gi.e)((e,i)=>{let r=0;e.subscribe((0,jn.x)(i,o=>{const d=n(o,r++);(d||t)&&i.next(o),!d&&i.complete()}))})}(r=>null!==r),fo(null),lp(),(0,Et.U)(r=>{if(null===r)return null;const o=DC(r);return function PI(n){n.sort((t,e)=>t.value.outlet===sn?-1:e.value.outlet===sn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,Sn.D)(e).pipe(Kr(d=>this.processSegmentAgainstRoute(d._injector??t,d,i,r,o)),Sr(d=>!!d),Ir(d=>{if(Zu(d))return xC(i,r,o)?mt([]):mt(null);throw d}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!Dg(e,i,r,o))return mt(null);let d;if("**"===e.path){const m=r.length>0?hs(r).parameters:{},C=MC(i)+r.length;d=mt({snapshot:new Uu(r,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kC(e),Fs(e),e.component??e._loadedComponent??null,e,zy(i),C,Gy(e),C),consumedSegments:[],remainingSegments:[]})}else d=wC(i,e,r,t).pipe((0,Et.U)(({matched:m,consumedSegments:C,remainingSegments:S,parameters:O})=>{if(!m)return null;const W=MC(i)+C.length;return{snapshot:new Uu(C,O,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kC(e),Fs(e),e.component??e._loadedComponent??null,e,zy(i),W,Gy(e),W),consumedSegments:C,remainingSegments:S}}));return d.pipe(_i(m=>{if(null===m)return mt(null);const{snapshot:C,consumedSegments:S,remainingSegments:O}=m;t=e._injector??t;const W=e._loadedInjector??t,ce=function Ah(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:fe,slicedSegments:be}=Yu(i,S,O,ce.filter(Ue=>void 0===Ue.redirectTo),this.relativeLinkResolution);if(0===be.length&&fe.hasChildren())return this.processChildren(W,ce,fe).pipe((0,Et.U)(Ue=>null===Ue?null:[new io(C,Ue)]));if(0===ce.length&&0===be.length)return mt([new io(C,[])]);const Ae=Fs(e)===o;return this.processSegment(W,ce,fe,be,Ae?sn:o).pipe((0,Et.U)(Ue=>null===Ue?null:[new io(C,Ue)]))}))}}function Fp(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function DC(n){const t=[],e=new Set;for(const i of n){if(!Fp(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=DC(i.children);t.push(new io(i.value,r))}return t.filter(i=>!e.has(i))}function zy(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function MC(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function kC(n){return n.data||{}}function Gy(n){return n.resolve||{}}function RC(n){return"string"==typeof n.title||null===n.title}function Zy(n){return _i(t=>{const e=n(t);return e?(0,Sn.D)(e).pipe((0,Et.U)(()=>t)):mt(t)})}let OC=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===sn);return i}getResolvedTitleForRoute(e){return e.data[gl]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(FC)},providedIn:"root"}),n})(),FC=(()=>{class n extends OC{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ep))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class OI{}class kh extends class FI{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const kg=new s.OlP("",{providedIn:"root",factory:()=>({})}),LC=new s.OlP("ROUTES");let BC=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return mt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=N(e.loadComponent()).pipe((0,qn.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),ml(()=>{this.componentLoaders.delete(e)})),r=new sp(i,()=>new _t.x).pipe(Cc());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return mt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Et.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(i);let C,S,O=!1;Array.isArray(m)?S=m:(C=m.create(e).injector,S=Ou(C.get(LC,[],s.XFs.Self|s.XFs.Optional)));return{routes:S.map($u),injector:C}}),ml(()=>{this.childrenLoaders.delete(i)})),d=new sp(o,()=>new _t.x).pipe(Cc());return this.childrenLoaders.set(i,d),d}loadModuleFactoryOrRoutes(e){return N(e()).pipe((0,di.z)(i=>i instanceof s.YKP||Array.isArray(i)?mt(i):(0,Sn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class VC{}class VP{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function HP(n){throw n}function HC(n,t,e){return t.parse("/")}const NI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function jC(){const n=(0,s.f3M)(xc),t=(0,s.f3M)(Gu),e=(0,s.f3M)(ie),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),o=(0,s.f3M)(LC,{optional:!0})??[],d=(0,s.f3M)(kg,{optional:!0})??{},m=(0,s.f3M)(FC),C=(0,s.f3M)(OC,{optional:!0}),S=(0,s.f3M)(VC,{optional:!0}),O=(0,s.f3M)(OI,{optional:!0}),W=new Nn(null,n,t,e,i,r,Ou(o));return S&&(W.urlHandlingStrategy=S),O&&(W.routeReuseStrategy=O),W.titleStrategy=C??m,function LI(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(d,W),W}let Nn=(()=>{class n{constructor(e,i,r,o,d,m,C){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _t.x,this.errorHandler=HP,this.malformedUriErrorHandler=HC,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>mt(void 0),this.urlHandlingStrategy=new VP,this.routeReuseStrategy=new kh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(BC),this.configLoader.onLoadEndListener=ce=>this.triggerEvent(new Ep(ce)),this.configLoader.onLoadStartListener=ce=>this.triggerEvent(new Cp(ce)),this.ngModule=d.get(s.h0i),this.console=d.get(s.c2e);const W=d.get(s.R0b);this.isNgZoneEnabled=W instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=function ue(){return new Fn(new Dt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wh(this.currentUrlTree,this.rootComponentType),this.transitions=new mi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(ui(r=>0!==r.id),(0,Et.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),_i(r=>{let o=!1,d=!1;return mt(r).pipe((0,qn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_i(m=>{const C=this.browserUrlTree.toString(),S=!this.navigated||m.extractedUrl.toString()!==C||C!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Ky(m.source)&&(this.browserUrlTree=m.extractedUrl),mt(m).pipe(_i(W=>{const ce=this.transitions.getValue();return i.next(new vh(W.id,this.serializeUrl(W.extractedUrl),W.source,W.restoredState)),ce!==this.transitions.getValue()?Zr.E:Promise.resolve(W)}),function IC(n,t,e,i){return _i(r=>function jy(n,t,e,i,r){return new AI(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Et.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qn.b)(W=>{this.currentNavigation={...this.currentNavigation,finalUrl:W.urlAfterRedirects},r.urlAfterRedirects=W.urlAfterRedirects}),function PC(n,t,e,i,r,o){return(0,di.z)(d=>function kI(n,t,e,i,r,o,d="emptyOnly",m="legacy"){return new Op(n,t,e,i,r,d,m,o).recognize().pipe(_i(C=>null===C?function NP(n){return new ki.y(t=>t.error(n))}(new TC):mt(C)))}(n,t,e,d.urlAfterRedirects,i.serialize(d.urlAfterRedirects),i,r,o).pipe((0,Et.U)(m=>({...d,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qn.b)(W=>{if(r.targetSnapshot=W.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!W.extras.skipLocationChange){const fe=this.urlHandlingStrategy.merge(W.urlAfterRedirects,W.rawUrl);this.setBrowserUrl(fe,W)}this.browserUrlTree=W.urlAfterRedirects}const ce=new bh(W.id,this.serializeUrl(W.extractedUrl),this.serializeUrl(W.urlAfterRedirects),W.targetSnapshot);i.next(ce)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ce,extractedUrl:fe,source:be,restoredState:Ae,extras:Ue}=m,it=new vh(ce,this.serializeUrl(fe),be,Ae);i.next(it);const bt=wh(fe,this.rootComponentType).snapshot;return mt(r={...m,targetSnapshot:bt,urlAfterRedirects:fe,extras:{...Ue,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),Zr.E}),(0,qn.b)(m=>{const C=new vp(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(C)}),(0,Et.U)(m=>r={...m,guards:Oc(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function yC(n,t){return(0,di.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:d}}=e;return 0===d.length&&0===o.length?mt({...e,guardsResult:!0}):function vC(n,t,e,i){return(0,Sn.D)(n).pipe((0,di.z)(r=>function II(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?mt(o.map(m=>{const C=Pc(t)??r,S=Da(m,C);return N(function wI(n){return n&&Wu(n.canDeactivate)}(S)?S.canDeactivate(n,t,e,i):C.runInContext(()=>S(n,t,e,i))).pipe(Sr())})).pipe(Ku()):mt(!0)}(r.component,r.route,e,t,i)),Sr(r=>!0!==r,!0))}(d,i,r,n).pipe((0,di.z)(m=>m&&function _C(n){return"boolean"==typeof n}(m)?function SI(n,t,e,i){return(0,Sn.D)(t).pipe(Kr(r=>Ps(function CC(n,t){return null!==n&&t&&t(new wp(n)),mt(!0)}(r.route.parent,i),function bC(n,t){return null!==n&&t&&t(new Sp(n)),mt(!0)}(r.route,i),function FP(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(d=>function Dp(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>Ea(()=>mt(d.guards.map(C=>{const S=Pc(d.node)??e,O=Da(C,S);return N(function EI(n){return n&&Wu(n.canActivateChild)}(O)?O.canActivateChild(i,n):S.runInContext(()=>O(i,n))).pipe(Sr())})).pipe(Ku())));return mt(o).pipe(Ku())}(n,r.path,e),function By(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return mt(!0);const r=i.map(o=>Ea(()=>{const d=Pc(t)??e,m=Da(o,d);return N(function CI(n){return n&&Wu(n.canActivate)}(m)?m.canActivate(t,n):d.runInContext(()=>m(t,n))).pipe(Sr())}));return mt(r).pipe(Ku())}(n,r.route,e))),Sr(r=>!0!==r,!0))}(i,o,n,t):mt(m)),(0,Et.U)(m=>({...e,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,qn.b)(m=>{if(r.guardsResult=m.guardsResult,yl(m.guardsResult))throw Eg(0,m.guardsResult);const C=new bp(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(C)}),ui(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),Zy(m=>{if(m.guards.canActivateChecks.length)return mt(m).pipe((0,qn.b)(C=>{const S=new Hu(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(S)}),_i(C=>{let S=!1;return mt(C).pipe(function $y(n,t){return(0,di.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return mt(e);let o=0;return(0,Sn.D)(r).pipe(Kr(d=>function qy(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!RC(r)&&(o[gl]=r.title),function RI(n,t,e,i){const r=function Wy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return mt({});const o={};return(0,Sn.D)(r).pipe((0,di.z)(d=>function Np(n,t,e,i){const r=Pc(t)??i,o=Da(n,r);return N(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[d],t,e,i).pipe(Sr(),(0,qn.b)(m=>{o[d]=m}))),ap(1),function zo(n){return(0,Et.U)(()=>n)}(o),Ir(d=>Zu(d)?Zr.E:Br(d)))}(o,n,t,i).pipe((0,Et.U)(d=>(n._resolvedData=d,n.data=Sh(n,e).resolve,r&&RC(r)&&(n.data[gl]=r.title),null)))}(d.route,i,n,t)),(0,qn.b)(()=>o++),ap(1),(0,di.z)(d=>o===r.length?mt(e):Zr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qn.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(C),this.cancelNavigationTransition(C,"",2))}}))}),(0,qn.b)(C=>{const S=new Ny(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(S)}))}),Zy(m=>{const C=S=>{const O=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&O.push(this.configLoader.loadComponent(S.routeConfig).pipe((0,qn.b)(W=>{S.component=W}),(0,Et.U)(()=>{})));for(const W of S.children)O.push(...C(W));return O};return Xs(C(m.targetSnapshot.root)).pipe(fo(),Pi(1))}),Zy(()=>this.afterPreactivation()),(0,Et.U)(m=>{const C=function Ly(n,t,e){const i=Ei(n,t._root,e?e._root:void 0);return new vg(i,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return r={...m,targetRouterState:C}}),(0,qn.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,t,e)=>(0,Et.U)(i=>(new Ip(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,qn.b)({next(){o=!0},complete(){o=!0}}),ml(()=>{o||d||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ir(m=>{if(d=!0,xg(m)){wg(m)||(this.navigated=!0,this.restoreHistory(r,!0));const C=new no(r.id,this.serializeUrl(r.extractedUrl),m.message,m.cancellationCode);if(i.next(C),wg(m)){const S=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),O={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ky(r.source)};this.scheduleNavigation(S,"imperative",null,O,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const C=new yp(r.id,this.serializeUrl(r.extractedUrl),m,r.targetSnapshot??void 0);i.next(C);try{r.resolve(this.errorHandler(m))}catch(S){r.reject(S)}}return Zr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const m={...o};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(r.state=m)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map($u),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:d,queryParamsHandling:m,preserveFragment:C}=i,S=r||this.routerState.root,O=C?this.currentUrlTree.fragment:d;let W=null;switch(m){case"merge":W={...this.currentUrlTree.queryParams,...o};break;case"preserve":W=this.currentUrlTree.queryParams;break;default:W=o||null}return null!==W&&(W=this.removeEmptyProps(W)),Fy(S,this.currentUrlTree,e,W,O??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=yl(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function BI(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...NI}:!1===i?{...UC}:i,yl(e))return je(this.currentUrlTree,e,r);const o=this.parseUrl(e);return je(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new _o(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,d){if(this.disposed)return Promise.resolve(!1);let m,C,S;d?(m=d.resolve,C=d.reject,S=d.promise):S=new Promise((ce,fe)=>{m=ce,C=fe});const O=++this.navigationId;let W;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),W=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):W=0,this.setTransition({id:O,targetPageId:W,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:m,reject:C,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(ce=>Promise.reject(ce))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new no(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return jC()},providedIn:"root"}),n})();function Ky(n){return"imperative"!==n}class Xy{}let UI=(()=>{class n{constructor(e,i,r,o,d){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(ui(e=>e instanceof _o),Kr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const d=o._injector??e,m=o._loadedInjector??d;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(d,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(m,o.children??o._loadedRoutes))}return(0,Sn.D)(r).pipe((0,Ca.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):mt(null);const o=r.pipe((0,di.z)(d=>null===d?mt(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(i.loadComponent&&!i._loadedComponent){const d=this.loader.loadComponent(i);return(0,Sn.D)([o,d]).pipe((0,Ca.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Nn),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(Xy),s.LFG(BC))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xt=new s.OlP("");let Jy=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof vh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof _o&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ch&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Ch(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Ph(n,t){return{\u0275kind:n,\u0275providers:t}}function Pg(n){return[{provide:LC,multi:!0,useValue:n}]}function ev(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(Nn),r=n.get(GC);1===n.get(tv)&&i.initialNavigation(),n.get(Fc,null,s.XFs.Optional)?.setUpPreloading(),n.get(Xt,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const GC=new s.OlP("",{factory:()=>new _t.x}),tv=new s.OlP("",{providedIn:"root",factory:()=>1});const Fc=new s.OlP("");function zI(n){return Ph(0,[{provide:Fc,useExisting:UI},{provide:Xy,useExisting:n}])}const GI=new s.OlP("ROUTER_FORROOT_GUARD"),qP=[ie,{provide:xc,useClass:Fu},{provide:Nn,useFactory:jC},Gu,{provide:ji,useFactory:function zC(n){return n.routerState.root},deps:[Nn]},BC];function WP(){return new s.PXZ("Router",Nn)}let Vp=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[qP,[],Pg(e),{provide:GI,useFactory:Oh,deps:[[Nn,new s.FiY,new s.tp0]]},{provide:kg,useValue:i||{}},i?.useHash?{provide:B,useClass:te}:{provide:B,useClass:ee},{provide:Xt,useFactory:()=>{const n=(0,s.f3M)(Nn),t=(0,s.f3M)($s),e=(0,s.f3M)(kg);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Jy(n,t,e)}},i?.preloadingStrategy?zI(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:WP},i?.initialNavigation?qI(i):[],[{provide:nv,useFactory:ev},{provide:s.tb,multi:!0,useExisting:nv}]]}}static forChild(e){return{ngModule:n,providers:[Pg(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(GI,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$]}),n})();function Oh(n){return"guarded"}function qI(n){return["disabled"===n.initialNavigation?Ph(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(Nn);return()=>{t.setUpLocationChangeListener()}}},{provide:tv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ph(2,[{provide:tv,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(R,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(o=>{const d=t.get(Nn),m=t.get(GC);(function r(o){t.get(Nn).events.pipe(ui(m=>m instanceof _o||m instanceof no||m instanceof yp),(0,Et.U)(m=>m instanceof _o||m instanceof no&&(0===m.code||1===m.code)&&null),ui(m=>null!==m),Pi(1)).subscribe(()=>{o()})})(()=>{o(!0),i=!0}),d.afterPreactivation=()=>(o(!0),i||m.closed?mt(void 0):m),d.initialNavigation()}))}}]).\u0275providers:[]]}const nv=new s.OlP("");var KC=f(4487),WI=f.n(KC);function iv(...n){const t=(0,us.jO)(n),{args:e,keys:i}=vc(n),r=new ki.y(o=>{const{length:d}=e;if(!d)return void o.complete();const m=new Array(d);let C=d,S=d;for(let O=0;O<d;O++){let W=!1;(0,ds.Xf)(e[O]).subscribe((0,jn.x)(o,ce=>{W||(W=!0,S--),m[O]=ce},()=>C--,void 0,()=>{(!C||!W)&&(S||o.next(i?bc(i,m):m),o.complete())}))}});return t?r.pipe(pl(t)):r}let YC=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Ju=(()=>{class n extends YC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const bo=new s.OlP("NgValueAccessor"),QC={provide:bo,useExisting:(0,s.Gpc)(()=>Og),multi:!0};let Og=(()=>{class n extends Ju{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[s._Bn([QC]),s.qOj]}),n})();const XC={provide:bo,useExisting:(0,s.Gpc)(()=>Il),multi:!0},rv=new s.OlP("CompositionEventMode");let Il=(()=>{class n extends YC{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function JC(){const n=y()?y().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(rv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([XC]),s.qOj]}),n})();function Nc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ZI(n){return null!=n&&"number"==typeof n.length}const Ri=new s.OlP("NgValidators"),Tl=new s.OlP("NgAsyncValidators"),eE=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vn{static min(t){return function Co(n){return t=>{if(Nc(t.value)||Nc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function ov(n){return t=>{if(Nc(t.value)||Nc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return tE(t)}static requiredTrue(t){return function Fg(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Ma(n){return Nc(n.value)||eE.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Ng(n){return t=>Nc(t.value)||!ZI(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return av(t)}static pattern(t){return Lg(t)}static nullValidator(t){return null}static compose(t){return Vg(t)}static composeAsync(t){return iE(t)}}function tE(n){return Nc(n.value)?{required:!0}:null}function av(n){return t=>ZI(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function Lg(n){if(!n)return lv;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Nc(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function lv(n){return null}function cv(n){return null!=n}function KI(n){return(0,s.QGY)(n)?(0,Sn.D)(n):n}function Hp(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Up(n,t){return t.map(e=>e(n))}function Bg(n){return n.map(t=>function uv(n){return!n.validate}(t)?t:e=>t.validate(e))}function Vg(n){if(!n)return null;const t=n.filter(cv);return 0==t.length?null:function(e){return Hp(Up(e,t))}}function nE(n){return null!=n?Vg(Bg(n)):null}function iE(n){if(!n)return null;const t=n.filter(cv);return 0==t.length?null:function(e){return iv(Up(e,t).map(KI)).pipe((0,Et.U)(Hp))}}function dv(n){return null!=n?iE(Bg(n)):null}function rE(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function sE(n){return n._rawValidators}function hv(n){return n._rawAsyncValidators}function oE(n){return n?Array.isArray(n)?n:[n]:[]}function Hg(n,t){return Array.isArray(n)?n.includes(t):n===t}function YI(n,t){const e=oE(t);return oE(n).forEach(r=>{Hg(e,r)||e.push(r)}),e}function fv(n,t){return oE(t).filter(e=>!Hg(n,e))}class pv{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=nE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=dv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ms extends pv{get formDirective(){return null}get path(){return null}}class $o extends pv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class QI{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ed=(()=>{class n extends QI{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($o,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),Fh=(()=>{class n extends QI{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ms,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const jp="VALID",jg="INVALID",Ml="PENDING",Aa="DISABLED";function zp(n){return(qp(n)?n.validators:n)||null}function nd(n){return Array.isArray(n)?nE(n):n||null}function Gp(n,t){return(qp(t)?t.asyncValidators:n)||null}function $p(n){return Array.isArray(n)?dv(n):n||null}function qp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function gv(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")}function zg(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})}class Nh{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=nd(this._rawValidators),this._composedAsyncValidatorFn=$p(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===jp}get invalid(){return this.status===jg}get pending(){return this.status==Ml}get disabled(){return this.status===Aa}get enabled(){return this.status!==Aa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=nd(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=$p(t)}addValidators(t){this.setValidators(YI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(YI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(fv(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(fv(t,this._rawAsyncValidators))}hasValidator(t){return Hg(this._rawValidators,t)}hasAsyncValidator(t){return Hg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ml,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Aa,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=jp,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jp||this.status===Ml)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Aa:jp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ml,this._hasOwnPendingAsyncValidator=!0;const e=KI(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Aa:this.errors?jg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ml)?Ml:this._anyControlsHaveStatus(jg)?jg:jp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){qp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class id extends Nh{constructor(t,e,i){super(zp(e),Gp(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){zg(this,0,t),Object.keys(t).forEach(i=>{gv(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class iT extends id{}function Zp(n,t){gs(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function sT(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pE(n,t)})}(n,t),function _v(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function tR(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pE(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function rT(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Kp(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Qp(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Yp(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function gs(n,t){const e=sE(n);null!==t.validator?n.setValidators(rE(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=hv(n);null!==t.asyncValidator?n.setAsyncValidators(rE(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Yp(t._rawValidators,r),Yp(t._rawAsyncValidators,r)}function Qp(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=sE(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(d=>d!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=hv(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(d=>d!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Yp(t._rawValidators,i),Yp(t._rawAsyncValidators,i),e}function pE(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yv(n,t){gs(n,t)}function Gg(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function mE(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function $g(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Il?e=o:function lT(n){return Object.getPrototypeOf(n.constructor)===Ju}(o)?i=o:r=o}),r||i||e||null}const ka={provide:ms,useExisting:(0,s.Gpc)(()=>qg)},rd=(()=>Promise.resolve())();let qg=(()=>{class n extends ms{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new id({},nE(e),dv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){rd.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Zp(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){rd.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){rd.then(()=>{const i=this._findContainer(e.path),r=new id({});yv(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){rd.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){rd.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,mE(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ri,10),s.Y36(Tl,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([ka]),s.qOj]}),n})();function _E(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function cT(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Lc=class extends Nh{constructor(t=null,e,i){super(zp(e),Gp(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=cT(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){_E(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){_E(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){cT(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let Bc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Pa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const tm=new s.OlP("NgModelWithFormControlWarning"),xE={provide:$o,useExisting:(0,s.Gpc)(()=>wv)};let wv=(()=>{class n extends $o{constructor(e,i,r,o){super(),this._ngModelWarningConfig=o,this.update=new s.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=$g(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&Kp(i,this,!1),Zp(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Gg(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Kp(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Ri,10),s.Y36(Tl,10),s.Y36(bo,10),s.Y36(tm,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[s._Bn([xE]),s.qOj,s.TTD]}),n})();const hT={provide:ms,useExisting:(0,s.Gpc)(()=>Ns)};let Ns=(()=>{class n extends ms{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Zp(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Kp(e.control||null,e,!1),function gE(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,mE(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Kp(i||null,e),(n=>n instanceof Lc)(r)&&(Zp(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);yv(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function oT(n,t){return Qp(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gs(this.form,this),this._oldForm&&Qp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ri,10),s.Y36(Tl,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([hT]),s.qOj,s.TTD]}),n})();const mT={provide:$o,useExisting:(0,s.Gpc)(()=>Vc)};let Vc=(()=>{class n extends $o{constructor(e,i,r,o,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=$g(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Gg(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Wp(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(ms,13),s.Y36(Ri,10),s.Y36(Tl,10),s.Y36(bo,10),s.Y36(tm,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([mT]),s.qOj,s.TTD]}),n})();let qo=(()=>{class n{constructor(){this._validator=lv}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):lv,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const Ra={provide:Ri,useExisting:(0,s.Gpc)(()=>nr),multi:!0};let nr=(()=>{class n extends qo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=e=>tE}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([Ra]),s.qOj]}),n})();const Lh={provide:Ri,useExisting:(0,s.Gpc)(()=>Oa),multi:!0};let Oa=(()=>{class n extends qo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function Hc(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>av(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[s._Bn([Lh]),s.qOj]}),n})();const Bh={provide:Ri,useExisting:(0,s.Gpc)(()=>Uc),multi:!0};let Uc=(()=>{class n extends qo{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>Lg(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[s._Bn([Bh]),s.qOj]}),n})(),od=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Pa]}),n})(),Xg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[od]}),n})(),Vh=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:tm,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[od]}),n})();class Tv extends Nh{constructor(t,e,i){super(zp(e),Gp(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){zg(this,0,t),t.forEach((i,r)=>{gv(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function Dv(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Hh=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return Dv(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new id(r,o)}record(e,i=null){const r=this._reduceControls(e);return new iT(r,i)}control(e,i,r){let o={};return this.useNonNullable?(Dv(i)?o=i:(o.validators=i,o.asyncValidators=r),new Lc(e,{...o,nonNullable:!0})):new Lc(e,i,r)}array(e,i,r){const o=e.map(d=>this._createControl(d));return new Tv(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Lc||e instanceof Nh?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:Vh}),n})();var PE=f(1520);function hi(n){return null!=n&&"false"!=`${n}`}function Fa(n,t=0){return function RE(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function ad(n){return Array.isArray(n)?n:[n]}function Oi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Fi(n){return n instanceof s.SBq?n.nativeElement:n}var Jg=f(1144);const Av=["addListener","removeListener"],IT=["addEventListener","removeEventListener"],e_=["on","off"];function ld(n,t,e,i){if((0,Rs.m)(e)&&(i=e,e=void 0),i)return ld(n,t,e).pipe(pl(i));const[r,o]=function FE(n){return(0,Rs.m)(n.addEventListener)&&(0,Rs.m)(n.removeEventListener)}(n)?IT.map(d=>m=>n[d](t,m,e)):function OE(n){return(0,Rs.m)(n.addListener)&&(0,Rs.m)(n.removeListener)}(n)?Av.map(t_(n,t)):function kv(n){return(0,Rs.m)(n.on)&&(0,Rs.m)(n.off)}(n)?e_.map(t_(n,t)):[];if(!r&&(0,Jg.z)(n))return(0,di.z)(d=>ld(d,t,e))((0,ds.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ki.y(d=>{const m=(...C)=>d.next(1<C.length?C:C[0]);return r(m),()=>o(m)})}function t_(n,t){return e=>i=>n[e](t,i)}var Pv=f(4408);const cd={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=cd;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new er.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=cd;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=cd;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var NE=f(7565);const Ov=new class LE extends NE.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Rv extends Pv.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=cd.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(cd.cancelAnimationFrame(e),t._scheduled=void 0)}});let Fv,BE=1;const am={};function Nv(n){return n in am&&(delete am[n],!0)}const VE={setImmediate(n){const t=BE++;return am[t]=!0,Fv||(Fv=Promise.resolve()),Fv.then(()=>Nv(t)&&n()),t},clearImmediate(n){Nv(n)}},{setImmediate:HE,clearImmediate:UE}=VE,lm={setImmediate(...n){const{delegate:t}=lm;return(t?.setImmediate||HE)(...n)},clearImmediate(n){const{delegate:t}=lm;return(t?.clearImmediate||UE)(n)},delegate:void 0};new class zE extends NE.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class jE extends Pv.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=lm.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(lm.clearImmediate(e),t._scheduled=void 0)}});var ud=f(4986),MT=f(3532);function n_(n=0,t,e=ud.P){let i=-1;return null!=t&&((0,MT.K)(t)?e=t:i=t),new ki.y(r=>{let o=function AT(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let d=0;return e.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function $E(n,t=ud.z){return function dR(n){return(0,gi.e)((t,e)=>{let i=!1,r=null,o=null,d=!1;const m=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const S=r;r=null,e.next(S)}d&&e.complete()},C=()=>{o=null,d&&e.complete()};t.subscribe((0,jn.x)(e,S=>{i=!0,r=S,o||(0,ds.Xf)(n(S)).subscribe(o=(0,jn.x)(e,m,C))},()=>{d=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>n_(n,t))}let zi;try{zi=typeof Intl<"u"&&Intl.v8BreakIterator}catch{zi=!1}let Uh,gr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Hf(n){return n===Gl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!zi)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bv=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function qE(){if(Uh)return Uh;if("object"!=typeof document||!document)return Uh=new Set(Bv),Uh;let n=document.createElement("input");return Uh=new Set(Bv.filter(t=>(n.setAttribute("type",t),n.type===t))),Uh}let jh,dd,r_;function Ls(n){return function WE(){if(null==jh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>jh=!0}))}finally{jh=jh||!1}return jh}()?n:!!n.capture}function ZE(){if(null==dd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return dd=!1,dd;if("scrollBehavior"in document.documentElement.style)dd=!0;else{const n=Element.prototype.scrollTo;dd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return dd}function zh(n){if(function pR(){if(null==r_){const n=typeof document<"u"?document.head:null;r_=!(!n||!n.createShadowRoot&&!n.attachShadow)}return r_}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function cm(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function ir(n){return n.composedPath?n.composedPath()[0]:n.target}function Vv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const kT=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function Na(){return(0,s.f3M)(F)}}),Wo=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let jc=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function Zo(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Wo.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kT,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Hv=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new _t.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ki.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe($E(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):mt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ui(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Fi(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ld(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(gr),s.LFG(F,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hd=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new _t.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe($E(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gr),s.LFG(s.R0b),s.LFG(F,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$h=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),jv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gh,$h],Gh,$h]}),n})();class zv{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class qh extends zv{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class Gv extends zv{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class jT extends zv{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class o_{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof qh?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Gv?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof jT?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class zT extends o_{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=d=>{const m=d.element,C=this._document.createComment("dom-portal");m.parentNode.insertBefore(C,m),this.outletElement.appendChild(m),this._attachedPortal=d,super.setDisposeFn(()=>{C.parentNode&&C.parentNode.replaceChild(m,C)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let a_=(()=>{class n extends o_{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const d=o.element,m=this._document.createComment("dom-portal");o.setAttachedHost(this),d.parentNode.insertBefore(m,d),this._getRootNode().appendChild(d),this._attachedPortal=o,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(d,m)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(F))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),um=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var dm=f(6451),GT=f(5032);function rr(n){return(0,gi.e)((t,e)=>{(0,ds.Xf)(n).subscribe((0,jn.x)(e,()=>e.complete(),GT.Z)),!e.closed&&t.subscribe(e)})}const JE=ZE();class ew{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Oi(-this._previousScrollPosition.left),t.style.top=Oi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),JE&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),JE&&(i.scrollBehavior=o,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class tw{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class $v{enable(){}disable(){}attach(){}}function l_(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function qv(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class nw{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();l_(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let iw=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new $v,this.close=d=>new tw(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new ew(this._viewportRuler,this._document),this.reposition=d=>new nw(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hv),s.LFG(hd),s.LFG(s.R0b),s.LFG(F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class c_{constructor(t){if(this.scrollStrategy=new $v,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class fd{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let pd=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DR=(()=>{class n extends pd{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let d=o.length-1;d>-1;d--)if(o[d]._keydownEvents.observers.length>0){const m=o[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(r)):m.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(F),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wv=(()=>{class n extends pd{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=ir(o)},this._clickListener=o=>{const d=ir(o),m="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const C=this._attachedOverlays.slice();for(let S=C.length-1;S>-1;S--){const O=C[S];if(O._outsidePointerEvents.observers.length<1||!O.hasAttached())continue;if(O.overlayElement.contains(d)||O.overlayElement.contains(m))break;const W=O._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>W.next(o)):W.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(F),s.LFG(gr),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ow=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Vv()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Vv()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(F),s.LFG(gr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class aw{constructor(t,e,i,r,o,d,m,C,S){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=d,this._document=m,this._location=C,this._outsideClickDispatcher=S,this._backdropElement=null,this._backdropClick=new _t.x,this._attachments=new _t.x,this._detachments=new _t.x,this._locationChanges=er.w0.EMPTY,this._backdropClickHandler=O=>this._backdropClick.next(O),this._backdropTransitionendHandler=O=>{this._disposeBackdrop(O.target)},this._keydownEvents=new _t.x,this._outsidePointerEvents=new _t.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Pi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Oi(this._config.width),t.height=Oi(this._config.height),t.minWidth=Oi(this._config.minWidth),t.minHeight=Oi(this._config.minHeight),t.maxWidth=Oi(this._config.maxWidth),t.maxHeight=Oi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=ad(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(rr((0,dm.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Zv="cdk-overlay-connected-position-bounding-box",MR=/([A-Za-z%]+)$/;class $t{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _t.x,this._resizeSubscription=er.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Zv),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let d;for(let m of this._preferredPositions){let C=this._getOriginPoint(t,r,m),S=this._getOverlayPoint(C,e,m),O=this._getOverlayFit(S,e,i,m);if(O.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,C);this._canFitWithFlexibleDimensions(O,S,i)?o.push({position:m,origin:C,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(C,m)}):(!d||d.overlayFit.visibleArea<O.visibleArea)&&(d={overlayFit:O,overlayPoint:S,originPoint:C,position:m,overlayRect:e})}if(o.length){let m=null,C=-1;for(const S of o){const O=S.boundingBoxRect.width*S.boundingBoxRect.height*(S.position.weight||1);O>C&&(C=O,m=S)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&md(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Zv),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,m=this._isRtl()?t.left:t.right;r="start"==i.originX?d:m}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=cw(e);let{x:d,y:m}=t,C=this._getOffset(r,"x"),S=this._getOffset(r,"y");C&&(d+=C),S&&(m+=S);let ce=0-m,fe=m+o.height-i.height,be=this._subtractOverflows(o.width,0-d,d+o.width-i.width),Ae=this._subtractOverflows(o.height,ce,fe),Ue=be*Ae;return{visibleArea:Ue,isCompletelyWithinViewport:o.width*o.height===Ue,fitsInViewportVertically:Ae===o.height,fitsInViewportHorizontally:be==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,d=lw(this._overlayRef.getConfig().minHeight),m=lw(this._overlayRef.getConfig().minWidth),S=t.fitsInViewportHorizontally||null!=m&&m<=o;return(t.fitsInViewportVertically||null!=d&&d<=r)&&S}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=cw(e),o=this._viewportRect,d=Math.max(t.x+r.width-o.width,0),m=Math.max(t.y+r.height-o.height,0),C=Math.max(o.top-i.top-t.y,0),S=Math.max(o.left-i.left-t.x,0);let O=0,W=0;return O=r.width<=o.width?S||-d:t.x<this._viewportMargin?o.left-i.left-t.x:0,W=r.height<=o.height?C||-m:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:O,y:W},{x:t.x+O,y:t.y+W}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new fd(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,d,m,O,W,ce;if("top"===e.overlayY)d=t.y,o=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)m=i.height-t.y+2*this._viewportMargin,o=i.height-m+this._viewportMargin;else{const fe=Math.min(i.bottom-t.y+i.top,t.y),be=this._lastBoundingBoxSize.height;o=2*fe,d=t.y-fe,o>be&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-be/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)ce=i.width-t.x+this._viewportMargin,O=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)W=t.x,O=i.right-t.x;else{const fe=Math.min(i.right-t.x+i.left,t.x),be=this._lastBoundingBoxSize.width;O=2*fe,W=t.x-fe,O>be&&!this._isInitialRender&&!this._growAfterOpen&&(W=t.x-be/2)}return{top:d,left:W,bottom:m,right:ce,width:O,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=Oi(i.height),r.top=Oi(i.top),r.bottom=Oi(i.bottom),r.width=Oi(i.width),r.left=Oi(i.left),r.right=Oi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Oi(o)),d&&(r.maxWidth=Oi(d))}this._lastBoundingBoxSize=i,md(this._boundingBox.style,r)}_resetBoundingBoxStyles(){md(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){md(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const O=this._viewportRuler.getViewportScrollPosition();md(i,this._getExactOverlayY(e,t,O)),md(i,this._getExactOverlayX(e,t,O))}else i.position="static";let m="",C=this._getOffset(e,"x"),S=this._getOffset(e,"y");C&&(m+=`translateX(${C}px) `),S&&(m+=`translateY(${S}px)`),i.transform=m.trim(),d.maxHeight&&(r?i.maxHeight=Oi(d.maxHeight):o&&(i.maxHeight="")),d.maxWidth&&(r?i.maxWidth=Oi(d.maxWidth):o&&(i.maxWidth="")),md(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Oi(o.y),r}_getExactOverlayX(t,e,i){let d,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Oi(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:qv(t,i),isOriginOutsideView:l_(t,i),isOverlayClipped:qv(e,i),isOverlayOutsideView:l_(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ad(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function md(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function lw(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(MR);return e&&"px"!==e?null:parseFloat(t)}return n||null}function cw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const gd="cdk-global-overlay-wrapper";class qT{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(gd),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:d,maxHeight:m}=i,C=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),S=!("100%"!==o&&"100vh"!==o||m&&"100%"!==m&&"100vh"!==m);t.position=this._cssPosition,t.marginLeft=C?"0":this._leftOffset,t.marginTop=S?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,C?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=S?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(gd),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let u_=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new qT}flexibleConnectedTo(e){return new $t(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hd),s.LFG(F),s.LFG(gr),s.LFG(ow))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d_=0,Hn=(()=>{class n{constructor(e,i,r,o,d,m,C,S,O,W,ce){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=d,this._injector=m,this._ngZone=C,this._document=S,this._directionality=O,this._location=W,this._outsideClickDispatcher=ce}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),d=new c_(e);return d.direction=d.direction||this._directionality.value,new aw(o,i,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+d_++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new zT(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(iw),s.LFG(ow),s.LFG(s._Vd),s.LFG(u_),s.LFG(DR),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(F),s.LFG(jc),s.LFG(ie),s.LFG(Wv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const hw={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Hn],useFactory:function dw(n){return()=>n.scrollStrategies.reposition()}};let hm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Hn,hw],imports:[[Gh,um,jv],jv]}),n})();function Ew(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ww(n){return ui((t,e)=>n<=e)}function xw(n,t=ba.y){return n=n??AD,(0,gi.e)((e,i)=>{let r,o=!0;e.subscribe((0,jn.x)(i,d=>{const m=t(d);(o||!n(r,m))&&(o=!1,r=m,i.next(d))}))})}function AD(n,t){return n===t}function Wh(n,t=ud.z){return(0,gi.e)((e,i)=>{let r=null,o=null,d=null;const m=()=>{if(r){r.unsubscribe(),r=null;const S=o;o=null,i.next(S)}};function C(){const S=d+n,O=t.now();if(O<S)return r=this.schedule(void 0,S-O),void i.add(r);m()}e.subscribe((0,jn.x)(i,S=>{o=S,d=t.now(),r||(r=t.schedule(C,n),i.add(r))},()=>{m(),i.complete()},void 0,()=>{o=r=null}))})}let Qv=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sw=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Fi(e);return new ki.y(r=>{const d=this._observeElement(i).subscribe(r);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new _t.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Qv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xv=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=hi(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Fa(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Wh(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Sw),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),pm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Qv]}),n})();function e0(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const Tw="cdk-describedby-message",y_="cdk-describedby-host";let Dw=0,RD=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Dw++,this._document=e}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=_d(i,r);"string"!=typeof i?(Mw(i),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=_d(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const d=this._messageRegistry.get(o);d&&0===d.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${y_}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(y_);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");Mw(r),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(_d(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=e0(e,"aria-describedby").filter(r=>0!=r.indexOf(Tw));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function Iw(n,t,e){const i=e0(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(y_,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function kD(n,t,e){const r=e0(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(y_)}_isElementDescribedByMessage(e,i){const r=e0(e,"aria-describedby"),o=this._messageRegistry.get(i),d=o&&o.messageElement.id;return!!d&&-1!=r.indexOf(d)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(F),s.LFG(gr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _d(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function Mw(n){n.id||(n.id=`${Tw}-${Dw++}`)}let Zh=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function FD(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function OD(n){try{return n.frameElement}catch{return null}}(function VD(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===r0(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=r0(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function s0(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function kw(n){return!function v_(n){return function LD(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function ND(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function b_(n){return function BD(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||n0(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function n0(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function r0(n){if(!n0(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class HD{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Pi(1)).subscribe(t)}}let NO=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new HD(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Zh),s.LFG(s.R0b),s.LFG(F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function o0(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function a0(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const jD=new s.OlP("cdk-input-modality-detector-options"),Nw={ignoreKeys:[18,17,224,91,16]},yd=Ls({passive:!0,capture:!0});let Lw=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new mi(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(m=>m===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ir(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(o0(d)?"keyboard":"mouse"),this._mostRecentTarget=ir(d))},this._onTouchstart=d=>{a0(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ir(d))},this._options={...Nw,...o},this.modalityDetected=this._modality.pipe(ww(1)),this.modalityChanged=this.modalityDetected.pipe(xw()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,yd),r.addEventListener("mousedown",this._onMousedown,yd),r.addEventListener("touchstart",this._onTouchstart,yd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,yd),document.removeEventListener("mousedown",this._onMousedown,yd),document.removeEventListener("touchstart",this._onTouchstart,yd))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gr),s.LFG(s.R0b),s.LFG(F),s.LFG(jD,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bw=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Vw(){return null}}),zD=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let l0=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,d;return 1===i.length&&"number"==typeof i[0]?d=i[0]:[o,d]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==d&&r&&(d=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(m=>this._currentResolve=m)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bw,8),s.LFG(s.R0b),s.LFG(F),s.LFG(zD,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $D=new s.OlP("cdk-focus-monitor-default-options"),mm=Ls({passive:!0,capture:!0});let Kh=(()=>{class n{constructor(e,i,r,o,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new _t.x,this._rootNodeFocusAndBlurListener=m=>{const C=ir(m),S="focus"===m.type?this._onFocus:this._onBlur;for(let O=C;O;O=O.parentElement)S.call(this,m,O)},this._document=o,this._detectionMode=d?.detectionMode||0}monitor(e,i=!1){const r=Fi(e);if(!this._platform.isBrowser||1!==r.nodeType)return mt(null);const o=zh(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const m={checkChildren:i,subject:new _t.x,rootNode:o};return this._elementInfo.set(r,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const i=Fi(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Fi(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([m,C])=>this._originChanged(m,i,C)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=ir(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,mm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,mm)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(rr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,mm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,mm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(gr),s.LFG(Lw),s.LFG(F,8),s.LFG($D,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vd="cdk-high-contrast-black-on-white",Hw="cdk-high-contrast-white-on-black",c0="cdk-high-contrast-active";let qD=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(c0),e.remove(vd),e.remove(Hw),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(c0),e.add(vd)):2===i&&(e.add(c0),e.add(Hw))}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gr),s.LFG(F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WD=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qD))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[pm]]}),n})();const h0=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function KD(){return!0}});let vn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Vv()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qD),s.LFG(h0,8),s.LFG(F))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gh],Gh]}),n})();function QD(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=hi(t)}}}function Yh(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function p0(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=hi(t)}}}function Qh(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new _t.x,this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}let w_=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class iM{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _0={enterDuration:225,exitDuration:150},x_=Ls({passive:!0}),y0=["mousedown","touchstart"],Gw=["mouseup","mouseleave","touchend","touchcancel"];class rM{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Fi(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={..._0,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const d=i.radius||function $w(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),m=t-r.left,C=e-r.top,S=o.enterDuration,O=document.createElement("div");O.classList.add("mat-ripple-element"),O.style.left=m-d+"px",O.style.top=C-d+"px",O.style.height=2*d+"px",O.style.width=2*d+"px",null!=i.color&&(O.style.backgroundColor=i.color),O.style.transitionDuration=`${S}ms`,this._containerElement.appendChild(O),function KO(n){window.getComputedStyle(n).getPropertyValue("opacity")}(O),O.style.transform="scale(1)";const W=new iM(this,O,i);return W.state=0,this._activeRipples.add(W),i.persistent||(this._mostRecentTransientRipple=W),this._runTimeoutOutsideZone(()=>{const ce=W===this._mostRecentTransientRipple;W.state=1,!i.persistent&&(!ce||!this._isPointerDown)&&W.fadeOut()},S),W}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r={..._0,...t.config.animation};i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Fi(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(y0))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Gw),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=o0(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!a0(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,x_)})})}_removeTriggerEvents(){this._triggerElement&&(y0.forEach(t=>{this._triggerElement.removeEventListener(t,this,x_)}),this._pointerUpEventsRegistered&&Gw.forEach(t=>{this._triggerElement.removeEventListener(t,this,x_)}))}}const YO=new s.OlP("mat-ripple-global-options");let S_=(()=>{class n{constructor(e,i,r,o,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new rM(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(gr),s.Y36(YO,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),_m=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[vn],vn]}),n})(),QO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[vn]]}),n})(),Ww=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[_m,oi,vn,QO]]}),n})();class C0{}const Pl="*";function Ko(n,t){return{type:7,name:n,definitions:t,options:{}}}function _r(n,t=null){return{type:4,styles:t,timings:n}}function ym(n,t=null){return{type:3,steps:n,options:t}}function Zw(n,t=null){return{type:2,steps:n,options:t}}function dn(n){return{type:6,styles:n,offset:null}}function sr(n,t,e){return{type:0,name:n,styles:t,options:e}}function or(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function E0(n=null){return{type:9,options:n}}function w0(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function x0(n){Promise.resolve().then(n)}class I_{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){x0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Eo{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?x0(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==o&&this._onFinish()}),d.onDestroy(()=>{++i==o&&this._onDestroy()}),d.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((d,m)=>Math.max(d,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function I0(n,t){}class T0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const wo={dialogContainer:Ko("dialogContainer",[sr("void, exit",dn({opacity:0,transform:"scale(0.7)"})),sr("enter",dn({transform:"none"})),or("* => enter",ym([_r("150ms cubic-bezier(0, 0, 0.2, 1)",dn({transform:"none",opacity:1})),w0("@*",E0(),{optional:!0})])),or("* => void, * => exit",ym([_r("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",dn({opacity:0})),w0("@*",E0(),{optional:!0})]))])};let D0=(()=>{class n extends o_{constructor(e,i,r,o,d,m,C,S){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=d,this._interactivityChecker=m,this._ngZone=C,this._focusMonitor=S,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=O=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(O)),this._ariaLabelledBy=d.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=cm())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=cm(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=cm();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(NO),s.Y36(s.sBO),s.Y36(F,8),s.Y36(T0),s.Y36(Zh),s.Y36(s.R0b),s.Y36(Kh))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(a_,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),uM=(()=>{class n extends D0{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._id),s.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,I0,0,0,"ng-template",0)},dependencies:[a_],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[wo.dialogContainer]}}),n})(),dM=0;class La{constructor(t,e,i="mat-dialog-"+dM++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new _t.x,this._afterClosed=new _t.x,this._beforeClosed=new _t.x,this._state=0,e._id=i,e._animationStateChanged.pipe(ui(r=>"opened"===r.state),Pi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(ui(r=>"closed"===r.state),Pi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(ui(r=>27===r.keyCode&&!this.disableClose&&!Ew(r))).subscribe(r=>{r.preventDefault(),M0(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():M0(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ui(e=>"closing"===e.state),Pi(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function M0(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const Xh=new s.OlP("MatDialogData"),hM=new s.OlP("mat-dialog-default-options"),A0=new s.OlP("mat-dialog-scroll-strategy"),Kw={provide:A0,deps:[Hn],useFactory:function pM(n){return()=>n.scrollStrategies.block()}};let mM=(()=>{class n{constructor(e,i,r,o,d,m,C,S,O,W){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=d,this._dialogRefConstructor=C,this._dialogContainerType=S,this._dialogDataToken=O,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _t.x,this._afterOpenedAtThisLevel=new _t.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Ea(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(xr(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function zc(n,t){return{...t,...n}}(i,this._defaultOptions||new T0),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),o=this._attachDialogContainer(r,i),d=this._attachDialogContent(e,o,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.afterClosed().subscribe(()=>this._removeOpenDialog(d)),this.afterOpened.next(d),o._initializeWithAttachedContent(),d}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new c_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:T0,useValue:i}]}),d=new qh(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(d).instance}_attachDialogContent(e,i,r,o){const d=new this._dialogRefConstructor(r,i,o.id);if(e instanceof s.Rgc)i.attachTemplatePortal(new Gv(e,null,{$implicit:o.data,dialogRef:d}));else{const m=this._createInjector(o,d,i),C=i.attachComponentPortal(new qh(e,o.viewContainerRef,m,o.componentFactoryResolver));d.componentInstance=C.instance}return d.updateSize(o.width,o.height).updatePosition(o.position),d}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,d=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(jc,null,s.XFs.Optional))&&d.push({provide:jc,useValue:{value:e.direction,change:mt()}}),s.zs3.create({parent:o||this._injector,providers:d})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n}),n})(),Rl=(()=>{class n extends mM{constructor(e,i,r,o,d,m,C,S){super(e,i,o,m,C,d,La,uM,Xh,S)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hn),s.LFG(s.zs3),s.LFG(ie,8),s.LFG(hM,8),s.LFG(A0),s.LFG(n,12),s.LFG(ow),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Yw=0,Ba=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+Yw++}ngOnInit(){this._dialogRef||(this._dialogRef=function gM(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(La,8),s.Y36(s.SBq),s.Y36(Rl))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),T_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),nF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})(),k0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Rl,Kw],imports:[[hm,um,vn],vn]}),n})();var Ve=f(5861),Tr=f(4976);function D_(){return(0,gi.e)((n,t)=>{let e,i=!1;n.subscribe((0,jn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var vt,Va=f(2011),yM=(f(3042),f(3942)),Gc=f(6881),P0=f(4859),Ha=f(1877),In=f(2090),Xw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xo={},M_=M_||{},Yt=Xw||self;function bd(){}function vm(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function bm(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var A_="closure_uid_"+(1e9*Math.random()>>>0),vM=0;function bM(n,t,e){return n.call.apply(n.bind,arguments)}function iF(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function _s(n,t,e){return(_s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bM:iF).apply(null,arguments)}function Cm(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Dr(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return t.prototype[r].apply(i,d)}}function $c(){this.s=this.s,this.o=this.o}$c.prototype.s=!1,$c.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function Jw(n){Object.prototype.hasOwnProperty.call(n,A_)&&n[A_]||(n[A_]=++vM)}(this)},$c.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const EM=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function ex(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function wM(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(vm(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let d=0;d<o;d++)n[r+d]=i[d]}else n.push(i)}}function ys(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}ys.prototype.h=function(){this.defaultPrevented=!0};var rF=function(){if(!Yt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Yt.addEventListener("test",bd,t),Yt.removeEventListener("test",bd,t)}catch{}return n}();function k_(n){return/^[\s\xa0]*$/.test(n)}var Em=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function R0(n,t){return n<t?-1:n>t?1:0}function P_(){var n=Yt.navigator;return n&&(n=n.userAgent)?n:""}function Yo(n){return-1!=P_().indexOf(n)}function Ol(n){return Ol[" "](n),n}function O0(n,t,e){return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Ol[" "]=bd;var N0,n,F0=Yo("Opera"),qc=Yo("Trident")||Yo("MSIE"),tx=Yo("Edge"),wm=tx||qc,R_=Yo("Gecko")&&!(-1!=P_().toLowerCase().indexOf("webkit")&&!Yo("Edge"))&&!(Yo("Trident")||Yo("MSIE"))&&!Yo("Edge"),O_=-1!=P_().toLowerCase().indexOf("webkit")&&!Yo("Edge");function xM(){var n=Yt.document;return n?n.documentMode:void 0}e:{var nx="",ix=(n=P_(),R_?/rv:([^\);]+)(\)|;)/.exec(n):tx?/Edge\/([\d\.]+)/.exec(n):qc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):O_?/WebKit\/(\S+)/.exec(n):F0?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ix&&(nx=ix?ix[1]:""),qc){var F_=xM();if(null!=F_&&F_>parseFloat(nx)){N0=String(F_);break e}}N0=nx}var SM={},sx=Yt.document&&qc&&(xM()||parseInt(N0,10))||void 0;function Jh(n,t){if(ys.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(R_){e:{try{Ol(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ox[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Jh.$.h.call(this)}}Dr(Jh,ys);var ox={2:"touch",3:"pen",4:"mouse"};Jh.prototype.h=function(){Jh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var xm="closure_listenable_"+(1e6*Math.random()|0),TM=0;function ax(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++TM,this.fa=this.ia=!1}function ef(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function lx(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function B0(n){const t={};for(const e in n)t[e]=n[e];return t}const N_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cx(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<N_.length;o++)e=N_[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function L_(n){this.src=n,this.g={},this.h=0}function ux(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=EM(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(ef(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function dx(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}L_.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var d=dx(n,t,i,r);return-1<d?(t=n[d],e||(t.ia=!1)):((t=new ax(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var V0="closure_lm_"+(1e6*Math.random()|0),H0={};function hx(n,t,e,i,r){if(i&&i.once)return MM(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)hx(n,t[o],e,i,r);return null}return e=_x(e),n&&n[xm]?n.O(t,e,bm(i)?!!i.capture:!!i,r):DM(n,t,e,!1,i,r)}function DM(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var d=bm(r)?!!r.capture:!!r,m=mx(n);if(m||(n[V0]=m=new L_(n)),(e=m.add(t,e,i,d,o)).proxy)return e;if(i=function sF(){const t=oF;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)rF||(r=d),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(px(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function MM(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)MM(n,t[o],e,i,r);return null}return e=_x(e),n&&n[xm]?n.P(t,e,bm(i)?!!i.capture:!!i,r):DM(n,t,e,!0,i,r)}function AM(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)AM(n,t[o],e,i,r);else i=bm(i)?!!i.capture:!!i,e=_x(e),n&&n[xm]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=dx(o=n.g[t],e,i,r))&&(ef(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=mx(n))&&(t=n.g[t.toString()],n=-1,t&&(n=dx(t,e,i,r)),(e=-1<n?t[n]:null)&&fx(e))}function fx(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[xm])ux(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(px(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=mx(t))?(ux(e,n),0==e.h&&(e.src=null,t[V0]=null)):ef(n)}}}function px(n){return n in H0?H0[n]:H0[n]="on"+n}function oF(n,t){if(n.fa)n=!0;else{t=new Jh(t,this);var e=n.listener,i=n.la||n.src;n.ia&&fx(n),n=e.call(i,t)}return n}function mx(n){return(n=n[V0])instanceof L_?n:null}var gx="__closure_events_fn_"+(1e9*Math.random()>>>0);function _x(n){return"function"==typeof n?n:(n[gx]||(n[gx]=function(t){return n.handleEvent(t)}),n[gx])}function Hr(){$c.call(this),this.i=new L_(this),this.S=this,this.J=null}function Yr(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new ys(t,n);else if(t instanceof ys)t.target=t.target||n;else{var r=t;cx(t=new ys(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var d=t.g=e[o];r=a(d,i,!0,t)&&r}if(r=a(d=t.g=n,i,!0,t)&&r,r=a(d,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=a(d=t.g=e[o],i,!1,t)&&r}function a(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var d=t[o];if(d&&!d.fa&&d.capture==e){var m=d.listener,C=d.la||d.src;d.ia&&ux(n.i,d),r=!1!==m.call(C,i)&&r}}return r&&!i.defaultPrevented}Dr(Hr,$c),Hr.prototype[xm]=!0,Hr.prototype.removeEventListener=function(n,t,e,i){AM(this,n,t,e,i)},Hr.prototype.N=function(){if(Hr.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)ef(e[i]);delete n.g[t],n.h--}}this.J=null},Hr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Hr.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var l=Yt.JSON.stringify;function u(){var n=de;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var L,g=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new E,n=>n.reset());class E{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function x(n){Yt.setTimeout(()=>{throw n},0)}function P(n,t){L||function Y(){var n=Yt.Promise.resolve(void 0);L=function(){n.then(we)}}(),se||(L(),se=!0),de.add(n,t)}var se=!1,de=new class p{constructor(){this.h=this.g=null}add(t,e){const i=g.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function we(){for(var n;n=u();){try{n.h.call(n.g)}catch(e){x(e)}var t=g;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}se=!1}function Pe(n,t){Hr.call(this),this.h=n||1,this.g=t||Yt,this.j=_s(this.qb,this),this.l=Date.now()}function Ge(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function tt(n,t,e){if("function"==typeof n)e&&(n=_s(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=_s(n.handleEvent,n)}return 2147483647<Number(t)?-1:Yt.setTimeout(n,t||0)}function ct(n){n.g=tt(()=>{n.g=null,n.i&&(n.i=!1,ct(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Dr(Pe,Hr),(vt=Pe.prototype).ga=!1,vt.T=null,vt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yr(this,"tick"),this.ga&&(Ge(this),this.start()))}},vt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vt.N=function(){Pe.$.N.call(this),Ge(this),delete this.g};class Tt extends $c{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:ct(this)}N(){super.N(),this.g&&(Yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rt(n){$c.call(this),this.h=n,this.g={}}Dr(Rt,$c);var We=[];function qt(n,t,e,i){Array.isArray(e)||(e&&(We[0]=e.toString()),e=We);for(var r=0;r<e.length;r++){var o=hx(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function Mn(n){lx(n.g,function(t,e){this.g.hasOwnProperty(e)&&fx(t)},n),n.g={}}function Yn(){this.g=!0}function Wc(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function z0(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var d=1;d<r.length;d++)r[d]=""}}}return l(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Rt.prototype.N=function(){Rt.$.N.call(this),Mn(this)},Rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yn.prototype.Ea=function(){this.g=!1},Yn.prototype.info=function(){};var Fl={},B_=null;function tf(){return B_=B_||new Hr}function V_(n){ys.call(this,Fl.Ta,n)}function Ed(n){const t=tf();Yr(t,new V_(t))}function aF(n,t){ys.call(this,Fl.STAT_EVENT,n),this.stat=t}function so(n){const t=tf();Yr(t,new aF(t,n))}function lF(n,t){ys.call(this,Fl.Ua,n),this.size=t}function G0(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Yt.setTimeout(function(){n()},t)}Fl.Ta="serverreachability",Dr(V_,ys),Fl.STAT_EVENT="statevent",Dr(aF,ys),Fl.Ua="timingevent",Dr(lF,ys);var yx={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function kM(){}function dF(){}kM.prototype.h=null;var OM,$0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function PM(){ys.call(this,"d")}function RM(){ys.call(this,"c")}function vx(){}function q0(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Rt(this),this.P=z3,this.V=new Pe(n=wm?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new hF}function hF(){this.i=null,this.g="",this.h=!1}Dr(PM,ys),Dr(RM,ys),Dr(vx,kM),vx.prototype.g=function(){return new XMLHttpRequest},vx.prototype.i=function(){return{}},OM=new vx;var z3=45e3,FM={},bx={};function NM(n,t,e){n.L=1,n.v=xx(wd(t)),n.s=e,n.S=!0,fF(n,null)}function fF(n,t){n.G=Date.now(),W0(n),n.A=wd(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),wF(e.i,"t",i),n.C=0,e=n.l.I,n.h=new hF,n.g=WF(n.l,e?t:null,!n.s),0<n.O&&(n.M=new Tt(_s(n.Pa,n,n.g),n.O)),qt(n.U,n.g,"readystatechange",n.nb),t=n.I?B0(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Ed(),function Cd(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var d="",m=o.split("&"),C=0;C<m.length;C++){var S=m[C].split("=");if(1<S.length){var O=S[0];S=S[1];var W=O.split("_");d=2<=W.length&&"type"==W[1]?d+(O+"=")+S+"&":d+(O+"=redacted&")}}else d=null;else d=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+d})}(n.j,n.u,n.A,n.m,n.W,n.s)}function pF(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function mF(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=G3(n,e),r==bx){4==t&&(n.o=4,so(14),i=!1),Wc(n.j,n.m,null,"[Incomplete Response]");break}if(r==FM){n.o=4,so(15),Wc(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Wc(n.j,n.m,r,null),LM(n,r)}pF(n)&&r!=bx&&r!=FM&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,so(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ca&&(n.ca=!0,(t=n.l).g==n&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),$M(t),t.L=!0,so(11))):(Wc(n.j,n.m,e,"[Invalid Chunked Response]"),Sm(n),Z0(n))}function G3(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?bx:(e=Number(t.substring(e,i)),isNaN(e)?FM:(i+=1)+e>t.length?bx:(t=t.substr(i,e),n.C=i+e,t))}function W0(n){n.Y=Date.now()+n.P,gF(n,n.P)}function gF(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=G0(_s(n.lb,n),t)}function Cx(n){n.B&&(Yt.clearTimeout(n.B),n.B=null)}function Z0(n){0==n.l.H||n.J||zF(n.l,n)}function Sm(n){Cx(n);var t=n.M;t&&"function"==typeof t.ra&&t.ra(),n.M=null,Ge(n.V),Mn(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.ra())}function LM(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||BM(e.h,n)))if(!n.K&&BM(e.h,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;Ax(e),Dx(e)}GM(e),so(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.M&&0==e.A&&!e.v&&(e.v=G0(_s(e.ib,e),6e3));if(1>=IF(e.h)&&e.na){try{e.na()}catch{}e.na=void 0}}else Tm(e,11)}else if((n.K||e.g==n)&&Ax(e),!k_(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let S=r[t];if(e.V=S[0],S=S[1],2==e.H)if("c"==S[0]){e.J=S[1],e.oa=S[2];const O=S[3];null!=O&&(e.qa=O,e.j.info("VER="+e.qa));const W=S[4];null!=W&&(e.Ga=W,e.j.info("SVER="+e.Ga));const ce=S[5];null!=ce&&"number"==typeof ce&&0<ce&&(e.K=i=1.5*ce,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const fe=n.g;if(fe){const be=fe.g?fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(be){var o=i.h;o.g||-1==be.indexOf("spdy")&&-1==be.indexOf("quic")&&-1==be.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(VM(o,o.h),o.h=null))}if(i.F){const Ae=fe.g?fe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ae&&(i.Da=Ae,Ni(i.G,i.F,Ae))}}e.H=3,e.l&&e.l.Ba(),e.ca&&(e.S=Date.now()-n.G,e.j.info("Handshake RTT: "+e.S+"ms"));var d=n;if((i=e).wa=qF(i,i.I?i.oa:null,i.Y),d.K){TF(i.h,d);var m=d,C=i.K;C&&m.setTimeout(C),m.B&&(Cx(m),W0(m)),i.g=d}else UF(i);0<e.i.length&&Mx(e)}else"stop"!=S[0]&&"close"!=S[0]||Tm(e,7);else 3==e.H&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?Tm(e,7):zM(e):"noop"!=S[0]&&e.l&&e.l.Aa(S),e.A=0)}Ed()}catch{}}function _F(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(vm(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function q3(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(vm(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function $3(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(vm(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(vt=q0.prototype).setTimeout=function(n){this.P=n},vt.nb=function(n){n=n.target;const t=this.M;t&&3==xd(n)?t.l():this.Pa(n)},vt.Pa=function(n){try{if(n==this.g)e:{const O=xd(this.g);var t=this.g.Ia();if(this.g.da(),!(3>O)&&(3!=O||wm||this.g&&(this.h.h||this.g.ja()||FF(this.g)))){this.J||4!=O||7==t||Ed(),Cx(this);var e=this.g.da();this.aa=e;t:if(pF(this)){var i=FF(this.g);n="";var r=i.length,o=4==xd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Sm(this),Z0(this);var d="";break t}this.h.i=new Yt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==e,function U0(n,t,e,i,r,o,d){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+d})}(this.j,this.u,this.A,this.m,this.W,O,e),this.i){if(this.ba&&!this.K){t:{if(this.g){var m,C=this.g;if((m=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k_(m)){var S=m;break t}}S=null}if(!(e=S)){this.i=!1,this.o=3,so(12),Sm(this),Z0(this);break e}Wc(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,LM(this,e)}this.S?(mF(this,O,d),wm&&this.i&&3==O&&(qt(this.U,this.V,"tick",this.mb),this.V.start())):(Wc(this.j,this.m,d,null),LM(this,d)),4==O&&Sm(this),this.i&&!this.J&&(4==O?zF(this.l,this):(this.i=!1,W0(this)))}else 400==e&&0<d.indexOf("Unknown SID")?(this.o=3,so(12)):(this.o=0,so(13)),Sm(this),Z0(this)}}}catch{}},vt.mb=function(){if(this.g){var n=xd(this.g),t=this.g.ja();this.C<t.length&&(Cx(this),mF(this,n,t),this.i&&4!=n&&W0(this))}},vt.cancel=function(){this.J=!0,Sm(this)},vt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function j0(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Ed(),so(17)),Sm(this),this.o=2,Z0(this)):gF(this,this.Y-n)};var yF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Im(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Im){this.h=void 0!==t?t:n.h,Ex(this,n.j),this.s=n.s,this.g=n.g,wx(this,n.m),this.l=n.l,t=n.i;var e=new Q0;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),vF(this,e),this.o=n.o}else n&&(e=String(n).match(yF))?(this.h=!!t,Ex(this,e[1]||"",!0),this.s=K0(e[2]||""),this.g=K0(e[3]||"",!0),wx(this,e[4]),this.l=K0(e[5]||"",!0),vF(this,e[6]||"",!0),this.o=K0(e[7]||"")):(this.h=!!t,this.i=new Q0(null,this.h))}function wd(n){return new Im(n)}function Ex(n,t,e){n.j=e?K0(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function wx(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function vF(n,t,e){t instanceof Q0?(n.i=t,function J3(n,t){t&&!n.j&&(nf(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(CF(this,i),wF(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Y0(t,Q3)),n.i=new Q0(t,n.h))}function Ni(n,t,e){n.i.set(t,e)}function xx(n){return Ni(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function K0(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Y0(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,Z3),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Z3(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Im.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Y0(t,bF,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Y0(t,bF,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Y0(e,"/"==e.charAt(0)?Y3:K3,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Y0(e,X3)),n.join("")};var bF=/[#\/\?@]/g,K3=/[#\?:]/g,Y3=/[#\?]/g,Q3=/[#\?@]/g,X3=/#/g;function Q0(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function nf(n){n.g||(n.g=new Map,n.h=0,n.i&&function W3(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function CF(n,t){nf(n),t=H_(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function EF(n,t){return nf(n),t=H_(n,t),n.g.has(t)}function wF(n,t,e){CF(n,t),0<e.length&&(n.i=null,n.g.set(H_(n,t),ex(e)),n.h+=e.length)}function H_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function xF(n){this.l=n||tU,n=Yt.PerformanceNavigationTiming?0<(n=Yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Yt.g&&Yt.g.Ka&&Yt.g.Ka()&&Yt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(vt=Q0.prototype).add=function(n,t){nf(this),this.i=null,n=H_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},vt.forEach=function(n,t){nf(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},vt.sa=function(){nf(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},vt.Z=function(n){nf(this);let t=[];if("string"==typeof n)EF(this,n)&&(t=t.concat(this.g.get(H_(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},vt.set=function(n,t){return nf(this),this.i=null,EF(this,n=H_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},vt.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},vt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),d=this.Z(i);for(i=0;i<d.length;i++){var r=o;""!==d[i]&&(r+="="+encodeURIComponent(String(d[i]))),n.push(r)}}return this.i=n.join("&")};var tU=10;function SF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function IF(n){return n.h?1:n.g?n.g.size:0}function BM(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function VM(n,t){n.g?n.g.add(t):n.h=t}function TF(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function DF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return ex(n.i)}function HM(){}function nU(){this.g=new HM}function iU(n,t,e){const i=e||"";try{_F(n,function(r,o){let d=r;bm(r)&&(d=l(r)),t.push(i+o+"="+encodeURIComponent(d))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Sx(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function X0(n){this.l=n.fc||null,this.j=n.ob||!1}function Ix(n,t){Hr.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=UM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xF.prototype.cancel=function(){if(this.i=DF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},HM.prototype.stringify=function(n){return Yt.JSON.stringify(n,void 0)},HM.prototype.parse=function(n){return Yt.JSON.parse(n,void 0)},Dr(X0,kM),X0.prototype.g=function(){return new Ix(this.l,this.j)},X0.prototype.i=function(n){return function(){return n}}({}),Dr(Ix,Hr);var UM=0;function MF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function J0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,eb(n)}function eb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(vt=Ix.prototype).open=function(n,t){if(this.readyState!=UM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,eb(this)},vt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Yt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},vt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,J0(this)),this.readyState=UM},vt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,eb(this)),this.g&&(this.readyState=3,eb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Yt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},vt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?J0(this):eb(this),3==this.readyState&&MF(this)}},vt.Za=function(n){this.g&&(this.response=this.responseText=n,J0(this))},vt.Ya=function(n){this.g&&(this.response=n,J0(this))},vt.ka=function(){this.g&&J0(this)},vt.setRequestHeader=function(n,t){this.v.append(n,t)},vt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},vt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Ix.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var sU=Yt.JSON.parse;function ar(n){Hr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=AF,this.L=this.M=!1}Dr(ar,Hr);var AF="",oU=/^https?$/i,aU=["POST","PUT"];function kF(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,PF(n),Tx(n)}function PF(n){n.F||(n.F=!0,Yr(n,"complete"),Yr(n,"error"))}function RF(n){if(n.h&&typeof M_<"u"&&(!n.C[1]||4!=xd(n)||2!=n.da()))if(n.v&&4==xd(n))tt(n.La,0,n);else if(Yr(n,"readystatechange"),4==xd(n)){n.h=!1;try{const m=n.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===m){var r=String(n.I).match(yF)[1]||null;if(!r&&Yt.self&&Yt.self.location){var o=Yt.self.location.protocol;r=o.substr(0,o.length-1)}i=!oU.test(r?r.toLowerCase():"")}e=i}if(e)Yr(n,"complete"),Yr(n,"success");else{n.m=6;try{var d=2<xd(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.da()+"]",PF(n)}}finally{Tx(n)}}}function Tx(n,t){if(n.g){OF(n);const e=n.g,i=n.C[0]?bd:null;n.g=null,n.C=null,t||Yr(n,"ready");try{e.onreadystatechange=i}catch{}}}function OF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Yt.clearTimeout(n.A),n.A=null)}function xd(n){return n.g?n.g.readyState:0}function FF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case AF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function NF(n){let t="";return lx(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function jM(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=NF(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Ni(n,t,e))}function tb(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function LF(n){this.Ga=0,this.i=[],this.j=new Yn,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=tb("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=tb("baseRetryDelayMs",5e3,n),this.hb=tb("retryDelaySeedMs",1e4,n),this.eb=tb("forwardChannelMaxRetries",2,n),this.xa=tb("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new xF(n&&n.concurrentRequestLimit),this.Ja=new nU,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function zM(n){if(BF(n),3==n.H){var t=n.W++,e=wd(n.G);Ni(e,"SID",n.J),Ni(e,"RID",t),Ni(e,"TYPE","terminate"),nb(n,e),(t=new q0(n,n.j,t,void 0)).L=2,t.v=xx(wd(e)),e=!1,Yt.navigator&&Yt.navigator.sendBeacon&&(e=Yt.navigator.sendBeacon(t.v.toString(),"")),!e&&Yt.Image&&((new Image).src=t.v,e=!0),e||(t.g=WF(t.l,null),t.g.ha(t.v)),t.G=Date.now(),W0(t)}$F(n)}function Dx(n){n.g&&($M(n),n.g.cancel(),n.g=null)}function BF(n){Dx(n),n.u&&(Yt.clearTimeout(n.u),n.u=null),Ax(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Yt.clearTimeout(n.m),n.m=null)}function Mx(n){SF(n.h)||n.m||(n.m=!0,P(n.Na,n),n.C=0)}function VF(n,t){var e;e=t?t.m:n.W++;const i=wd(n.G);Ni(i,"SID",n.J),Ni(i,"RID",e),Ni(i,"AID",n.V),nb(n,i),n.o&&n.s&&jM(i,n.o,n.s),e=new q0(n,n.j,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.i=t.F.concat(n.i)),t=HF(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),VM(n.h,e),NM(e,i,t)}function nb(n,t){n.ma&&lx(n.ma,function(e,i){Ni(t,i,e)}),n.l&&_F({},function(e,i){Ni(t,i,e)})}function HF(n,t,e){e=Math.min(n.i.length,e);var i=n.l?_s(n.l.Va,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const d=["count="+e];-1==o?0<e?(o=r[0].h,d.push("ofs="+o)):o=0:d.push("ofs="+o);let m=!0;for(let C=0;C<e;C++){let S=r[C].h;const O=r[C].g;if(S-=o,0>S)o=Math.max(0,r[C].h-100),m=!1;else try{iU(O,d,"req"+S+"_")}catch{i&&i(O)}}if(m){i=d.join("&");break e}}}return n=n.i.splice(0,e),t.F=n,i}function UF(n){n.g||n.u||(n.ba=1,P(n.Ma,n),n.A=0)}function GM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=G0(_s(n.Ma,n),GF(n,n.A)),n.A++,0))}function $M(n){null!=n.B&&(Yt.clearTimeout(n.B),n.B=null)}function jF(n){n.g=new q0(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=wd(n.wa);Ni(t,"RID","rpc"),Ni(t,"SID",n.J),Ni(t,"CI",n.M?"0":"1"),Ni(t,"AID",n.V),Ni(t,"TYPE","xmlhttp"),nb(n,t),n.o&&n.s&&jM(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.oa,e.L=1,e.v=xx(wd(t)),e.s=null,e.S=!0,fF(e,n)}function Ax(n){null!=n.v&&(Yt.clearTimeout(n.v),n.v=null)}function zF(n,t){var e=null;if(n.g==t){Ax(n),$M(n),n.g=null;var i=2}else{if(!BM(n.h,t))return;e=t.F,TF(n.h,t),i=1}if(0!=n.H)if(n.ta=t.aa,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Yr(i=tf(),new lF(i,e)),Mx(n)}else UF(n);else if(3==(r=t.o)||0==r&&0<n.ta||!(1==i&&function cU(n,t){return!(IF(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=G0(_s(n.Na,n,t),GF(n,n.C)),n.C++,0)))}(n,t)||2==i&&GM(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:Tm(n,5);break;case 4:Tm(n,10);break;case 3:Tm(n,6);break;default:Tm(n,2)}}function GF(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.l||(e*=2),e*t}function Tm(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=_s(n.pb,n);e||(e=new Im("//www.google.com/images/cleardot.gif"),Yt.location&&"http"==Yt.location.protocol||Ex(e,"https"),xx(e)),function rU(n,t){const e=new Yn;if(Yt.Image){const i=new Image;i.onload=Cm(Sx,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Cm(Sx,e,i,"TestLoadImage: error",!1,t),i.onabort=Cm(Sx,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Cm(Sx,e,i,"TestLoadImage: timeout",!1,t),Yt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else so(2);n.H=0,n.l&&n.l.za(t),$F(n),BF(n)}function $F(n){if(n.H=0,n.pa=[],n.l){const t=DF(n.h);(0!=t.length||0!=n.i.length)&&(wM(n.pa,t),wM(n.pa,n.i),n.h.i.length=0,ex(n.i),n.i.length=0),n.l.ya()}}function qF(n,t,e){var i=e instanceof Im?wd(e):new Im(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),wx(i,i.m);else{var r=Yt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Im(null,void 0);i&&Ex(o,i),t&&(o.g=t),r&&wx(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&Ni(i,e,t),Ni(i,"VER",n.qa),nb(n,i),i}function WF(n,t,e){if(t&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ar(e&&n.Ha&&!n.va?new X0({ob:!0}):n.va)).Oa(n.I),t}function ZF(){}function kx(){if(qc&&!(10<=Number(sx)))throw Error("Environmental error: no available transport.")}function Qo(n,t){Hr.call(this),this.g=new LF(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!k_(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!k_(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new U_(this)}function KF(n){PM.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function YF(){RM.call(this),this.status=1}function U_(n){this.g=n}function Nl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function qM(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],d=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;d=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(d<<7&4294967295|d>>>25))+((d=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((o=(t=e+((d=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((r=o+((d=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(d<<21&4294967295|d>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Qn(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(vt=ar.prototype).Oa=function(n){this.M=n},vt.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():OM.g(),this.C=function uF(n){return n.h||(n.h=n.i())}(this.u?this.u:OM),this.g.onreadystatechange=_s(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void kF(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Yt.FormData&&n instanceof Yt.FormData,!(0<=EM(aU,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,d]of e)this.g.setRequestHeader(o,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OF(this),0<this.B&&((this.L=function lU(n){return qc&&function IM(){return O0(SM,9,function(){let n=0;const t=Em(String(N0)).split("."),e=Em("9").split("."),i=Math.max(t.length,e.length);for(let d=0;0==n&&d<i;d++){var r=t[d]||"",o=e[d]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=R0(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||R0(0==r[2].length,0==o[2].length)||R0(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_s(this.ua,this)):this.A=tt(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){kF(this,o)}},vt.ua=function(){typeof M_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yr(this,"timeout"),this.abort(8))},vt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Yr(this,"complete"),Yr(this,"abort"),Tx(this))},vt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tx(this,!0)),ar.$.N.call(this)},vt.La=function(){this.s||(this.G||this.v||this.l?RF(this):this.kb())},vt.kb=function(){RF(this)},vt.da=function(){try{return 2<xd(this)?this.g.status:-1}catch{return-1}},vt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},vt.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),sU(t)}},vt.Ia=function(){return this.m},vt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(vt=LF.prototype).qa=8,vt.H=1,vt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new q0(this,this.j,n,void 0);let o=this.s;if(this.U&&(o?(o=B0(o),cx(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=HF(this,r,t),Ni(e=wd(this.G),"RID",n),Ni(e,"CVER",22),this.F&&Ni(e,"X-HTTP-Session-Id",this.F),nb(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(NF(o)))+"&"+t:this.o&&jM(e,this.o,o)),VM(this.h,r),this.bb&&Ni(e,"TYPE","init"),this.P?(Ni(e,"$req",t),Ni(e,"SID","null"),r.ba=!0,NM(r,e,null)):NM(r,e,t),this.H=2}}else 3==this.H&&(n?VF(this,n):0==this.i.length||SF(this.h)||VF(this))},vt.Ma=function(){if(this.u=null,jF(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=G0(_s(this.jb,this),n)}},vt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,so(10),Dx(this),jF(this))},vt.ib=function(){null!=this.v&&(this.v=null,Dx(this),GM(this),so(19))},vt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),so(2)):(this.j.info("Failed to ping google.com"),so(1))},(vt=ZF.prototype).Ba=function(){},vt.Aa=function(){},vt.za=function(){},vt.ya=function(){},vt.Va=function(){},kx.prototype.g=function(n,t){return new Qo(n,t)},Dr(Qo,Hr),Qo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,t=this.l,e=this.h||void 0;so(0),n.Y=t,n.ma=e||{},n.M=n.aa,n.G=qF(n,null,n.Y),Mx(n)},Qo.prototype.close=function(){zM(this.g)},Qo.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=l(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.fb++,n)),3==t.H&&Mx(t)},Qo.prototype.N=function(){this.g.l=null,delete this.j,zM(this.g),delete this.g,Qo.$.N.call(this)},Dr(KF,PM),Dr(YF,RM),Dr(U_,ZF),U_.prototype.Ba=function(){Yr(this.g,"a")},U_.prototype.Aa=function(n){Yr(this.g,new KF(n))},U_.prototype.za=function(n){Yr(this.g,new YF)},U_.prototype.ya=function(){Yr(this.g,"b")},Dr(Nl,function uU(){this.blockSize=-1}),Nl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Nl.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)qM(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){qM(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){qM(this,i),r=0;break}}this.h=r,this.i+=t},Nl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var dU={};function WM(n){return-128<=n&&128>n?O0(dU,n,function(t){return new Qn([0|t],0>t?-1:0)}):new Qn([0|n],0>n?-1:0)}function Zc(n){if(isNaN(n)||!isFinite(n))return j_;if(0>n)return vs(Zc(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=ZM;return new Qn(t,0)}var ZM=4294967296,j_=WM(0),KM=WM(1),XF=WM(16777216);function Sd(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Ua(n){return-1==n.h}function vs(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Qn(e,~n.h).add(KM)}function Px(n,t){return n.add(vs(t))}function Rx(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function ib(n,t){this.g=n,this.h=t}function Ox(n,t){if(Sd(t))throw Error("division by zero");if(Sd(n))return new ib(j_,j_);if(Ua(n))return t=Ox(vs(n),t),new ib(vs(t.g),vs(t.h));if(Ua(t))return t=Ox(n,vs(t)),new ib(vs(t.g),t.h);if(30<n.g.length){if(Ua(n)||Ua(t))throw Error("slowDivide_ only works with positive integers.");for(var e=KM,i=t;0>=i.X(n);)e=JF(e),i=JF(i);var r=z_(e,1),o=z_(i,1);for(i=z_(i,2),e=z_(e,2);!Sd(i);){var d=o.add(i);0>=d.X(n)&&(r=r.add(e),o=d),i=z_(i,1),e=z_(e,1)}return t=Px(n,r.R(t)),new ib(r,t)}for(r=j_;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),d=(o=Zc(e)).R(t);Ua(d)||0<d.X(n);)d=(o=Zc(e-=i)).R(t);Sd(o)&&(o=KM),r=r.add(o),n=Px(n,d)}return new ib(r,n)}function JF(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Qn(e,n.h)}function z_(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new Qn(r,n.h)}(vt=Qn.prototype).ea=function(){if(Ua(this))return-vs(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:ZM+i)*t,t*=ZM}return n},vt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Sd(this))return"0";if(Ua(this))return"-"+vs(this).toString(n);for(var t=Zc(Math.pow(n,6)),e=this,i="";;){var r=Ox(e,t).g,o=((0<(e=Px(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Sd(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},vt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},vt.X=function(n){return Ua(n=Px(this,n))?-1:Sd(n)?0:1},vt.abs=function(){return Ua(this)?vs(this):this},vt.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),d=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=d>>>16,e[r]=(d&=65535)<<16|(o&=65535)}return new Qn(e,-2147483648&e[e.length-1]?-1:0)},vt.R=function(n){if(Sd(this)||Sd(n))return j_;if(Ua(this))return Ua(n)?vs(this).R(vs(n)):vs(vs(this).R(n));if(Ua(n))return vs(this.R(vs(n)));if(0>this.X(XF)&&0>n.X(XF))return Zc(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,d=65535&this.D(i),m=n.D(r)>>>16,C=65535&n.D(r);e[2*i+2*r]+=d*C,Rx(e,2*i+2*r),e[2*i+2*r+1]+=o*C,Rx(e,2*i+2*r+1),e[2*i+2*r+1]+=d*m,Rx(e,2*i+2*r+1),e[2*i+2*r+2]+=o*m,Rx(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Qn(e,0)},vt.gb=function(n){return Ox(this,n).h},vt.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Qn(e,this.h&n.h)},vt.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Qn(e,this.h|n.h)},vt.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Qn(e,this.h^n.h)},kx.prototype.createWebChannel=kx.prototype.g,Qo.prototype.send=Qo.prototype.u,Qo.prototype.open=Qo.prototype.m,Qo.prototype.close=Qo.prototype.close,yx.NO_ERROR=0,yx.TIMEOUT=8,yx.HTTP_ERROR=6,cF.COMPLETE="complete",dF.EventType=$0,$0.OPEN="a",$0.CLOSE="b",$0.ERROR="c",$0.MESSAGE="d",Hr.prototype.listen=Hr.prototype.O,ar.prototype.listenOnce=ar.prototype.P,ar.prototype.getLastError=ar.prototype.Sa,ar.prototype.getLastErrorCode=ar.prototype.Ia,ar.prototype.getStatus=ar.prototype.da,ar.prototype.getResponseJson=ar.prototype.Wa,ar.prototype.getResponseText=ar.prototype.ja,ar.prototype.send=ar.prototype.ha,ar.prototype.setWithCredentials=ar.prototype.Oa,Nl.prototype.digest=Nl.prototype.l,Nl.prototype.reset=Nl.prototype.reset,Nl.prototype.update=Nl.prototype.j,Qn.prototype.add=Qn.prototype.add,Qn.prototype.multiply=Qn.prototype.R,Qn.prototype.modulo=Qn.prototype.gb,Qn.prototype.compare=Qn.prototype.X,Qn.prototype.toNumber=Qn.prototype.ea,Qn.prototype.toString=Qn.prototype.toString,Qn.prototype.getBits=Qn.prototype.D,Qn.fromNumber=Zc,Qn.fromString=function QF(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return vs(QF(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Zc(Math.pow(t,8)),i=j_,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),d=parseInt(n.substring(r,r+o),t);8>o?(o=Zc(Math.pow(t,o)),i=i.R(o).add(Zc(d))):i=(i=i.R(e)).add(Zc(d))}return i};var hU=xo.createWebChannelTransport=function(){return new kx},fU=xo.getStatEventTarget=function(){return tf()},YM=xo.ErrorCode=yx,pU=xo.EventType=cF,mU=xo.Event=Fl,eN=xo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},gU=xo.FetchXmlHttpFactory=X0,Fx=xo.WebChannel=dF,_U=xo.XhrIo=ar,yU=xo.Md5=Nl,G_=xo.Integer=Qn;const tN="@firebase/firestore";class Qr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");let $_="9.21.0";const rf=new Ha.Yd("@firebase/firestore");function QM(){return rf.logLevel}function et(n,...t){if(rf.logLevel<=Ha.in.DEBUG){const e=t.map(XM);rf.debug(`Firestore (${$_}): ${n}`,...e)}}function yr(n,...t){if(rf.logLevel<=Ha.in.ERROR){const e=t.map(XM);rf.error(`Firestore (${$_}): ${n}`,...e)}}function ja(n,...t){if(rf.logLevel<=Ha.in.WARN){const e=t.map(XM);rf.warn(`Firestore (${$_}): ${n}`,...e)}}function XM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function wt(n="Unexpected state"){const t=`FIRESTORE (${$_}) INTERNAL ASSERTION FAILED: `+n;throw yr(t),new Error(t)}function Ot(n,t){n||wt()}function gt(n,t){return n}const ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends In.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class nN{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class CU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Qr.UNAUTHENTICATED))}shutdown(){}}class EU{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class wU{constructor(t){this.t=t,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=S=>this.i!==r?(r=this.i,e(S)):Promise.resolve();let d=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Ur,t.enqueueRetryable(()=>o(this.currentUser))};const m=()=>{const S=d;t.enqueueRetryable((0,Ve.Z)(function*(){yield S.promise,yield o(i.currentUser)}))},C=S=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(S=>C(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?C(S):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Ur)}},0),m()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ot("string"==typeof i.accessToken),new nN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ot(null===t||"string"==typeof t),new Qr(t)}}class xU{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class SU{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new xU(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IU{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=o=>{null!=o.error&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const d=o.token!==this.T;return this.T=o.token,et("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ot("string"==typeof e.token),this.T=e.token,new iN(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function TU(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class rN{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=TU(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function tn(n,t){return n<t?-1:n>t?1:0}function q_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function sN(n){return n+"\0"}class Li{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ke(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ke(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ke(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ke(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Li.fromMillis(Date.now())}static fromDate(t){return Li.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Li(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?tn(this.nanoseconds,t.nanoseconds):tn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new Li(0,0))}static max(){return new Nt(new Li(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rb{constructor(t,e,i){void 0===e?e=0:e>t.length&&wt(),void 0===i?i=t.length-e:i>t.length-e&&wt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===rb.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof rb?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),d=e.get(r);if(o<d)return-1;if(o>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class An extends rb{construct(t,e,i){return new An(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ke(ze.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new An(e)}static emptyPath(){return new An([])}}const DU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends rb{construct(t,e,i){return new lr(t,e,i)}static isValidIdentifier(t){return DU.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Ke(ze.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let d=!1;for(;r<t.length;){const m=t[r];if("\\"===m){if(r+1===t.length)throw new Ke(ze.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const C=t[r+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new Ke(ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=C,r+=2}else"`"===m?(d=!d,r++):"."!==m||d?(i+=m,r++):(o(),r++)}if(o(),d)throw new Ke(ze.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new lr(e)}static emptyPath(){return new lr([])}}class ut{constructor(t){this.path=t}static fromPath(t){return new ut(An.fromString(t))}static fromName(t){return new ut(An.fromString(t).popFirst(5))}static empty(){return new ut(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===An.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return An.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new An(t.slice()))}}class Nx{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function JM(n){return n.fields.find(t=>2===t.kind)}function Dm(n){return n.fields.filter(t=>2!==t.kind)}Nx.UNKNOWN_ID=-1;class Lx{constructor(t,e){this.fieldPath=t,this.kind=e}}class sb{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new sb(0,Xo.min())}}function oN(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Nt.fromTimestamp(1e9===i?new Li(e+1,0):new Li(e,i));return new Xo(r,ut.empty(),t)}function aN(n){return new Xo(n.readTime,n.key,-1)}class Xo{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Xo(Nt.min(),ut.empty(),-1)}static max(){return new Xo(Nt.max(),ut.empty(),-1)}}function e1(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=ut.comparator(n.documentKey,t.documentKey),0!==e?e:tn(n.largestBatchId,t.largestBatchId))}const lN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function sf(n){return t1.apply(this,arguments)}function t1(){return t1=(0,Ve.Z)(function*(n){if(n.code!==ze.FAILED_PRECONDITION||n.message!==lN)throw n;et("LocalStore","Unexpectedly lost primary lease")}),t1.apply(this,arguments)}class Be{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Be((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Be?e:Be.resolve(e)}catch(e){return Be.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Be.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Be.reject(e)}static resolve(t){return new Be((e,i)=>{e(t)})}static reject(t){return new Be((e,i)=>{i(t)})}static waitFor(t){return new Be((e,i)=>{let r=0,o=0,d=!1;t.forEach(m=>{++r,m.next(()=>{++o,d&&o===r&&e()},C=>i(C))}),d=!0,o===r&&e()})}static or(t){let e=Be.resolve(!1);for(const i of t)e=e.next(r=>r?Be.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new Be((i,r)=>{const o=t.length,d=new Array(o);let m=0;for(let C=0;C<o;C++){const S=C;e(t[S]).next(O=>{d[S]=O,++m,m===o&&i(d)},O=>r(O))}})}static doWhile(t,e){return new Be((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class Bx{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.R=new Ur,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{e.error?this.R.reject(new ab(t,e.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=n1(i.target.error);this.R.reject(new ab(t,r))}}static open(t,e,i,r){try{return new Bx(e,t.transaction(r,i))}catch(o){throw new ab(e,o)}}get v(){return this.R.promise}abort(t){t&&this.R.reject(t),this.aborted||(et("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new PU(e)}}class Ll{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===Ll.S((0,In.z$)())&&yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return et("SimpleDb","Removing database:",t),Mm(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,In.hl)())return!1;if(Ll.C())return!0;const t=(0,In.z$)(),e=Ll.S(t),i=0<e&&e<10,r=Ll.N(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,Ve.Z)(function*(){return e.db||(et("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=d=>{i(d.target.result)},o.onblocked=()=>{r(new ab(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=d=>{const m=d.target.error;r("VersionError"===m.name?new Ke(ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ke(ze.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new ab(t,m))},o.onupgradeneeded=d=>{et("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',d.oldVersion),e.V.$(d.target.result,o.transaction,d.oldVersion,e.version).next(()=>{et("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Ve.Z)(function*(){const d="readonly"===e;let m=0;for(;;){++m;try{o.db=yield o.O(t);const C=Bx.open(o.db,t,d?"readonly":"readwrite",i),S=r(C).next(O=>(C.P(),O)).catch(O=>(C.abort(O),Be.reject(O))).toPromise();return S.catch(()=>{}),yield C.v,S}catch(C){const S=C,O="FirebaseError"!==S.name&&m<3;if(et("SimpleDb","Transaction failed with error:",S.message,"Retrying:",O),o.close(),!O)return Promise.reject(S)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class kU{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Mm(this.L.delete())}}class ab extends Ke{constructor(t,e){super(ze.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function af(n){return"IndexedDbTransactionError"===n.name}class PU{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(et("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(et("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Mm(i)}add(t){return et("SimpleDb","ADD",this.store.name,t,t),Mm(this.store.add(t))}get(t){return Mm(this.store.get(t)).next(e=>(void 0===e&&(e=null),et("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return et("SimpleDb","DELETE",this.store.name,t),Mm(this.store.delete(t))}count(){return et("SimpleDb","COUNT",this.store.name),Mm(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(d,m)=>{o.push(m)}).next(()=>o)}{const r=this.store.getAll(i.range);return new Be((o,d)=>{r.onerror=m=>{d(m.target.error)},r.onsuccess=m=>{o(m.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Be((r,o)=>{i.onerror=d=>{o(d.target.error)},i.onsuccess=d=>{r(d.target.result)}})}J(t,e){et("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,d,m)=>m.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new Be((i,r)=>{e.onerror=o=>{const d=n1(o.target.error);r(d)},e.onsuccess=o=>{const d=o.target.result;d?t(d.primaryKey,d.value).next(m=>{m?d.continue():i()}):i()}})}W(t,e){const i=[];return new Be((r,o)=>{t.onerror=d=>{o(d.target.error)},t.onsuccess=d=>{const m=d.target.result;if(!m)return void r();const C=new kU(m),S=e(m.primaryKey,m.value,C);if(S instanceof Be){const O=S.catch(W=>(C.done(),Be.reject(W)));i.push(O)}C.isDone?r():null===C.K?m.continue():m.continue(C.K)}}).next(()=>Be.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Mm(n){return new Be((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=n1(i.target.error);e(r)}})}let uN=!1;function n1(n){const t=Ll.S((0,In.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uN||(uN=!0,setTimeout(()=>{throw i},0)),i}}return n}class RU{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;et("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ve.Z)(function*(){e.task=null;try{et("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){af(i)?et("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield sf(i)}yield e.et(6e4)}))}}class OU{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,Ve.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,o=!0;return Be.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(d=>{if(null!==d&&!i.has(d))return et("IndexBackiller",`Processing collection: ${d}`),this.it(t,d,r).next(m=>{r-=m,i.add(d)});o=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const d=o.changes;return this.localStore.indexManager.updateIndexEntries(t,d).next(()=>this.rt(r,o)).next(m=>(et("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(t,e,m))).next(()=>d.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,o)=>{const d=aN(o);e1(d,i)>0&&(i=d)}),new Xo(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Jo=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function lb(n){return null==n}function cb(n){return 0===n&&1/n==-1/0}function dN(n){return"number"==typeof n&&Number.isInteger(n)&&!cb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Vs(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=hN(t)),t=FU(n.get(e),t);return hN(t)}function FU(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function hN(n){return n+"\x01\x01"}function Kc(n){const t=n.length;if(Ot(t>=2),2===t)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),An.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const d=n.indexOf("\x01",o);switch((d<0||d>e)&&wt(),n.charAt(d+1)){case"\x01":const m=n.substring(o,d);let C;0===r.length?C=m:(r+=m,C=r,r=""),i.push(C);break;case"\x10":r+=n.substring(o,d),r+="\0";break;case"\x11":r+=n.substring(o,d+1);break;default:wt()}o=d+2}return new An(i)}const fN=["userId","batchId"];function Vx(n,t){return[n,Vs(t)]}function pN(n,t,e){return[n,Vs(t),e]}const NU={},LU=["prefixPath","collectionGroup","readTime","documentId"],BU=["prefixPath","collectionGroup","documentId"],VU=["collectionGroup","readTime","prefixPath","documentId"],HU=["canonicalId","targetId"],UU=["targetId","path"],jU=["path","targetId"],zU=["collectionId","parent"],GU=["indexId","uid"],$U=["uid","sequenceNumber"],qU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],WU=["indexId","uid","orderedDocumentKey"],ZU=["userId","collectionPath","documentId"],KU=["userId","collectionPath","largestBatchId"],YU=["userId","collectionGroup","largestBatchId"],mN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],QU=[...mN,"documentOverlays"],gN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_N=gN,XU=[..._N,"indexConfiguration","indexState","indexEntries"];class r1 extends cN{constructor(t,e){super(),this.at=t,this.currentSequenceNumber=e}}function Xr(n,t){const e=gt(n);return Ll.M(e.at,t)}function yN(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function lf(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function vN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class yi{constructor(t,e){this.comparator=t,this.root=e||bs.EMPTY}insert(t,e){return new yi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,bs.BLACK,null,null))}remove(t){return new yi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hx(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hx(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hx(this.root,t,this.comparator,!0)}}class Hx{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class bs{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??bs.RED,this.left=r??bs.EMPTY,this.right=o??bs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new bs(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return bs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,bs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,bs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}bs.EMPTY=null,bs.RED=!0,bs.BLACK=!1,bs.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new bs(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xi{constructor(t){this.comparator=t,this.data=new yi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new bN(this.data.getIterator())}getIteratorFrom(t){return new bN(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof xi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new xi(this.comparator);return e.data=t,e}}class bN{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function W_(n){return n.hasNext()?n.getNext():void 0}class So{constructor(t){this.fields=t,t.sort(lr.comparator)}static empty(){return new So([])}unionWith(t){let e=new xi(lr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new So(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return q_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class CN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new CN("Invalid base64 string: "+r):r}}(t);return new jr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new jr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return tn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}jr.EMPTY_BYTE_STRING=new jr("");const ej=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cf(n){if(Ot(!!n),"string"==typeof n){let t=0;const e=ej.exec(n);if(Ot(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:cr(n.seconds),nanos:cr(n.nanos)}}function cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Id(n){return"string"==typeof n?jr.fromBase64String(n):jr.fromUint8Array(n)}function Ux(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function jx(n){const t=n.mapValue.fields.__previous_value__;return Ux(t)?jx(t):t}function ub(n){const t=cf(n.mapValue.fields.__local_write_time__.timestampValue);return new Li(t.seconds,t.nanos)}class tj{constructor(t,e,i,r,o,d,m,C){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=C}}class uf{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new uf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof uf&&t.projectId===this.projectId&&t.database===this.database}}const df={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zx={nullValue:"NULL_VALUE"};function hf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ux(n)?4:SN(n)?9007199254740991:10:wt()}function Yc(n,t){if(n===t)return!0;const e=hf(n);if(e!==hf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ub(n).isEqual(ub(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=cf(i.timestampValue),d=cf(r.timestampValue);return o.seconds===d.seconds&&o.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Id(n.bytesValue).isEqual(Id(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return cr(i.geoPointValue.latitude)===cr(r.geoPointValue.latitude)&&cr(i.geoPointValue.longitude)===cr(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return cr(i.integerValue)===cr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=cr(i.doubleValue),d=cr(r.doubleValue);return o===d?cb(o)===cb(d):isNaN(o)&&isNaN(d)}return!1}(n,t);case 9:return q_(n.arrayValue.values||[],t.arrayValue.values||[],Yc);case 10:return function(i,r){const o=i.mapValue.fields||{},d=r.mapValue.fields||{};if(yN(o)!==yN(d))return!1;for(const m in o)if(o.hasOwnProperty(m)&&(void 0===d[m]||!Yc(o[m],d[m])))return!1;return!0}(n,t);default:return wt()}var r}function db(n,t){return void 0!==(n.values||[]).find(e=>Yc(e,t))}function ff(n,t){if(n===t)return 0;const e=hf(n),i=hf(t);if(e!==i)return tn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return tn(n.booleanValue,t.booleanValue);case 2:return function(r,o){const d=cr(r.integerValue||r.doubleValue),m=cr(o.integerValue||o.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,t);case 3:return EN(n.timestampValue,t.timestampValue);case 4:return EN(ub(n),ub(t));case 5:return tn(n.stringValue,t.stringValue);case 6:return function(r,o){const d=Id(r),m=Id(o);return d.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const d=r.split("/"),m=o.split("/");for(let C=0;C<d.length&&C<m.length;C++){const S=tn(d[C],m[C]);if(0!==S)return S}return tn(d.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const d=tn(cr(r.latitude),cr(o.latitude));return 0!==d?d:tn(cr(r.longitude),cr(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const d=r.values||[],m=o.values||[];for(let C=0;C<d.length&&C<m.length;++C){const S=ff(d[C],m[C]);if(S)return S}return tn(d.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===df.mapValue&&o===df.mapValue)return 0;if(r===df.mapValue)return 1;if(o===df.mapValue)return-1;const d=r.fields||{},m=Object.keys(d),C=o.fields||{},S=Object.keys(C);m.sort(),S.sort();for(let O=0;O<m.length&&O<S.length;++O){const W=tn(m[O],S[O]);if(0!==W)return W;const ce=ff(d[m[O]],C[S[O]]);if(0!==ce)return ce}return tn(m.length,S.length)}(n.mapValue,t.mapValue);default:throw wt()}}function EN(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return tn(n,t);const e=cf(n),i=cf(t),r=tn(e.seconds,i.seconds);return 0!==r?r:tn(e.nanos,i.nanos)}function Z_(n){return s1(n)}function s1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=cf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Id(n.bytesValue).toBase64():"referenceValue"in n?ut.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const d of i.values||[])o?o=!1:r+=",",r+=s1(d);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",d=!0;for(const m of r)d?d=!1:o+=",",o+=`${m}:${s1(i.fields[m])}`;return o+"}"}(n.mapValue):wt();var t}function Am(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function o1(n){return!!n&&"integerValue"in n}function hb(n){return!!n&&"arrayValue"in n}function wN(n){return!!n&&"nullValue"in n}function xN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $x(n){return!!n&&"mapValue"in n}function fb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return lf(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=fb(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=fb(n.arrayValue.values[e]);return t}return Object.assign({},n)}function SN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function nj(n){return"nullValue"in n?zx:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Am(uf.empty(),ut.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:wt()}function ij(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Am(uf.empty(),ut.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?df:wt()}function IN(n,t){const e=ff(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function TN(n,t){const e=ff(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Cs{constructor(t){this.value=t}static empty(){return new Cs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!$x(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=fb(e)}setAll(t){let e=lr.emptyPath(),i={},r=[];t.forEach((d,m)=>{if(!e.isImmediateParentOf(m)){const C=this.getFieldsMap(e);this.applyChanges(C,i,r),i={},r=[],e=m.popLast()}d?i[m.lastSegment()]=fb(d):r.push(m.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());$x(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Yc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];$x(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){lf(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Cs(fb(this.value))}}function DN(n){const t=[];return lf(n.fields,(e,i)=>{const r=new lr([e]);if($x(i)){const o=DN(i.mapValue).fields;if(0===o.length)t.push(r);else for(const d of o)t.push(r.child(d))}else t.push(r)}),new So(t)}class Si{constructor(t,e,i,r,o,d,m){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=d,this.documentState=m}static newInvalidDocument(t){return new Si(t,0,Nt.min(),Nt.min(),Nt.min(),Cs.empty(),0)}static newFoundDocument(t,e,i,r){return new Si(t,1,e,Nt.min(),i,r,0)}static newNoDocument(t,e){return new Si(t,2,e,Nt.min(),Nt.min(),Cs.empty(),0)}static newUnknownDocument(t,e){return new Si(t,3,e,Nt.min(),Nt.min(),Cs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Si&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pf{constructor(t,e){this.position=t,this.inclusive=e}}function MN(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],d=n.position[r];if(i=o.field.isKeyField()?ut.comparator(ut.fromName(d.referenceValue),e.key):ff(d,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function AN(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Yc(n.position[e],t.position[e]))return!1;return!0}class K_{constructor(t,e="asc"){this.field=t,this.dir=e}}function rj(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class kN{}class bn extends kN{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new sj(t,e,i):"array-contains"===e?new lj(t,i):"in"===e?new LN(t,i):"not-in"===e?new cj(t,i):"array-contains-any"===e?new uj(t,i):new bn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new oj(t,i):new aj(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ff(e,this.value)):null!==e&&hf(this.value)===hf(e)&&this.matchesComparison(ff(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xn extends kN{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new Xn(t,e)}matches(t){return Y_(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Y_(n){return"and"===n.op}function a1(n){return"or"===n.op}function l1(n){return PN(n)&&Y_(n)}function PN(n){for(const t of n.filters)if(t instanceof Xn)return!1;return!0}function c1(n){if(n instanceof bn)return n.field.canonicalString()+n.op.toString()+Z_(n.value);if(l1(n))return n.filters.map(t=>c1(t)).join(",");{const t=n.filters.map(e=>c1(e)).join(",");return`${n.op}(${t})`}}function RN(n,t){return n instanceof bn?(e=n,(i=t)instanceof bn&&e.op===i.op&&e.field.isEqual(i.field)&&Yc(e.value,i.value)):n instanceof Xn?function(e,i){return i instanceof Xn&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,d)=>r&&RN(o,i.filters[d]),!0)}(n,t):void wt();var e,i}function ON(n,t){const e=n.filters.concat(t);return Xn.create(e,n.op)}function FN(n){return n instanceof bn?`${(t=n).field.canonicalString()} ${t.op} ${Z_(t.value)}`:n instanceof Xn?function(t){return t.op.toString()+" {"+t.getFilters().map(FN).join(" ,")+"}"}(n):"Filter";var t}class sj extends bn{constructor(t,e,i){super(t,e,i),this.key=ut.fromName(i.referenceValue)}matches(t){const e=ut.comparator(t.key,this.key);return this.matchesComparison(e)}}class oj extends bn{constructor(t,e){super(t,"in",e),this.keys=NN(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class aj extends bn{constructor(t,e){super(t,"not-in",e),this.keys=NN(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function NN(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>ut.fromName(i.referenceValue))}class lj extends bn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return hb(e)&&db(e.arrayValue,this.value)}}class LN extends bn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&db(this.value.arrayValue,e)}}class cj extends bn{constructor(t,e){super(t,"not-in",e)}matches(t){if(db(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!db(this.value.arrayValue,e)}}class uj extends bn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!hb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>db(this.value.arrayValue,i))}}class dj{constructor(t,e=null,i=[],r=[],o=null,d=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=d,this.endAt=m,this.ft=null}}function u1(n,t=null,e=[],i=[],r=null,o=null,d=null){return new dj(n,t,e,i,r,o,d)}function km(n){const t=gt(n);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>c1(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),lb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Z_(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Z_(i)).join(",")),t.ft=e}return t.ft}function pb(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!rj(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!RN(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!AN(n.startAt,t.startAt)&&AN(n.endAt,t.endAt)}function qx(n){return ut.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Wx(n,t){return n.filters.filter(e=>e instanceof bn&&e.field.isEqual(t))}function BN(n,t,e){let i=zx,r=!0;for(const o of Wx(n,t)){let d=zx,m=!0;switch(o.op){case"<":case"<=":d=nj(o.value);break;case"==":case"in":case">=":d=o.value;break;case">":d=o.value,m=!1;break;case"!=":case"not-in":d=zx}IN({value:i,inclusive:r},{value:d,inclusive:m})<0&&(i=d,r=m)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const d=e.position[o];IN({value:i,inclusive:r},{value:d,inclusive:e.inclusive})<0&&(i=d,r=e.inclusive);break}return{value:i,inclusive:r}}function VN(n,t,e){let i=df,r=!0;for(const o of Wx(n,t)){let d=df,m=!0;switch(o.op){case">=":case">":d=ij(o.value),m=!1;break;case"==":case"in":case"<=":d=o.value;break;case"<":d=o.value,m=!1;break;case"!=":case"not-in":d=df}TN({value:i,inclusive:r},{value:d,inclusive:m})>0&&(i=d,r=m)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const d=e.position[o];TN({value:i,inclusive:r},{value:d,inclusive:e.inclusive})>0&&(i=d,r=e.inclusive);break}return{value:i,inclusive:r}}class Td{constructor(t,e=null,i=[],r=[],o=null,d="F",m=null,C=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=d,this.startAt=m,this.endAt=C,this.dt=null,this._t=null}}function HN(n,t,e,i,r,o,d,m){return new Td(n,t,e,i,r,o,d,m)}function Q_(n){return new Td(n)}function UN(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function d1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Zx(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function h1(n){return null!==n.collectionGroup}function Pm(n){const t=gt(n);if(null===t.dt){t.dt=[];const e=Zx(t),i=d1(t);if(null!==e&&null===i)e.isKeyField()||t.dt.push(new K_(e)),t.dt.push(new K_(lr.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new K_(lr.keyField(),o))}}}return t.dt}function oo(n){const t=gt(n);if(!t._t)if("F"===t.limitType)t._t=u1(t.path,t.collectionGroup,Pm(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Pm(t))e.push(new K_(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new pf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pf(t.startAt.position,t.startAt.inclusive):null;t._t=u1(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function f1(n,t){t.getFirstInequalityField(),Zx(n);const e=n.filters.concat([t]);return new Td(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Kx(n,t,e){return new Td(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function mb(n,t){return pb(oo(n),oo(t))&&n.limitType===t.limitType}function jN(n){return`${km(oo(n))}|lt:${n.limitType}`}function p1(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>FN(i)).join(", ")}]`),lb(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Z_(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Z_(i)).join(",")),`Target(${e})`}(oo(n))}; limitType=${n.limitType})`}function gb(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):ut.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Pm(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,d){const m=MN(r,o,d);return r.inclusive?m<=0:m<0}(e.startAt,Pm(e),i)||e.endAt&&!function(r,o,d){const m=MN(r,o,d);return r.inclusive?m>=0:m>0}(e.endAt,Pm(e),i)));var e,i}function zN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GN(n){return(t,e)=>{let i=!1;for(const r of Pm(n)){const o=hj(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function hj(n,t,e){const i=n.field.isKeyField()?ut.comparator(t.key,e.key):function(r,o,d){const m=o.data.field(r),C=d.data.field(r);return null!==m&&null!==C?ff(m,C):wt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return wt()}}class Dd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){lf(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return vN(this.inner)}size(){return this.innerSize}}const fj=new yi(ut.comparator);function Io(){return fj}const $N=new yi(ut.comparator);function _b(...n){let t=$N;for(const e of n)t=t.insert(e.key,e);return t}function qN(n){let t=$N;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Qc(){return yb()}function WN(){return yb()}function yb(){return new Dd(n=>n.toString(),(n,t)=>n.isEqual(t))}const pj=new yi(ut.comparator),mj=new xi(ut.comparator);function cn(...n){let t=mj;for(const e of n)t=t.add(e);return t}const gj=new xi(tn);function m1(){return gj}function ZN(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cb(t)?"-0":t}}function KN(n){return{integerValue:""+n}}function YN(n,t){return dN(t)?KN(t):ZN(n,t)}class Yx{constructor(){this._=void 0}}function _j(n,t,e){return n instanceof X_?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Ux(r)&&(r=jx(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Rm?XN(n,t):n instanceof Om?JN(n,t):function(i,r){const o=QN(i,r),d=eL(o)+eL(i.wt);return o1(o)&&o1(i.wt)?KN(d):ZN(i.serializer,d)}(n,t)}function yj(n,t,e){return n instanceof Rm?XN(n,t):n instanceof Om?JN(n,t):e}function QN(n,t){return n instanceof J_?o1(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class X_ extends Yx{}class Rm extends Yx{constructor(t){super(),this.elements=t}}function XN(n,t){const e=tL(t);for(const i of n.elements)e.some(r=>Yc(r,i))||e.push(i);return{arrayValue:{values:e}}}class Om extends Yx{constructor(t){super(),this.elements=t}}function JN(n,t){let e=tL(t);for(const i of n.elements)e=e.filter(r=>!Yc(r,i));return{arrayValue:{values:e}}}class J_ extends Yx{constructor(t,e){super(),this.serializer=t,this.wt=e}}function eL(n){return cr(n.integerValue||n.doubleValue)}function tL(n){return hb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class vb{constructor(t,e){this.field=t,this.transform=e}}class bj{constructor(t,e){this.version=t,this.transformResults=e}}class Bi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Bi}static exists(t){return new Bi(void 0,t)}static updateTime(t){return new Bi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qx(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Xx{}function nL(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new ty(n.key,Bi.none()):new ey(n.key,n.data,Bi.none());{const e=n.data,i=Cs.empty();let r=new xi(lr.comparator);for(let o of t.fields)if(!r.has(o)){let d=e.field(o);null===d&&o.length>1&&(o=o.popLast(),d=e.field(o)),null===d?i.delete(o):i.set(o,d),r=r.add(o)}return new Md(n.key,i,new So(r.toArray()),Bi.none())}}function Cj(n,t,e){n instanceof ey?function(i,r,o){const d=i.value.clone(),m=sL(i.fieldTransforms,r,o.transformResults);d.setAll(m),r.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(n,t,e):n instanceof Md?function(i,r,o){if(!Qx(i.precondition,r))return void r.convertToUnknownDocument(o.version);const d=sL(i.fieldTransforms,r,o.transformResults),m=r.data;m.setAll(rL(i)),m.setAll(d),r.convertToFoundDocument(o.version,m).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function bb(n,t,e,i){return n instanceof ey?function(r,o,d,m){if(!Qx(r.precondition,o))return d;const C=r.value.clone(),S=oL(r.fieldTransforms,m,o);return C.setAll(S),o.convertToFoundDocument(o.version,C).setHasLocalMutations(),null}(n,t,e,i):n instanceof Md?function(r,o,d,m){if(!Qx(r.precondition,o))return d;const C=oL(r.fieldTransforms,m,o),S=o.data;return S.setAll(rL(r)),S.setAll(C),o.convertToFoundDocument(o.version,S).setHasLocalMutations(),null===d?null:d.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(O=>O.field))}(n,t,e,i):(d=e,Qx(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):d);var o,d}function Ej(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=QN(i.transform,r||null);null!=o&&(null===e&&(e=Cs.empty()),e.set(i.field,o))}return e||null}function iL(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&q_(e,i,(r,o)=>function vj(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Rm&&i instanceof Rm||e instanceof Om&&i instanceof Om?q_(e.elements,i.elements,Yc):e instanceof J_&&i instanceof J_?Yc(e.wt,i.wt):e instanceof X_&&i instanceof X_);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class ey extends Xx{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Md extends Xx{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rL(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function sL(n,t,e){const i=new Map;Ot(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],d=o.transform,m=t.data.field(o.field);i.set(o.field,yj(d,m,e[r]))}return i}function oL(n,t,e){const i=new Map;for(const r of n){const o=r.transform,d=e.data.field(r.field);i.set(r.field,_j(o,d,t))}return i}class ty extends Xx{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g1 extends Xx{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _1{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&Cj(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=bb(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=bb(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=WN();return this.mutations.forEach(r=>{const o=t.get(r.key),d=o.overlayedDocument;let m=this.applyToLocalView(d,o.mutatedFields);m=e.has(r.key)?null:m;const C=nL(d,m);null!==C&&i.set(r.key,C),d.isValidDocument()||d.convertToNoDocument(Nt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),cn())}isEqual(t){return this.batchId===t.batchId&&q_(this.mutations,t.mutations,(e,i)=>iL(e,i))&&q_(this.baseMutations,t.baseMutations,(e,i)=>iL(e,i))}}class y1{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ot(t.mutations.length===i.length);let r=pj;const o=t.mutations;for(let d=0;d<o.length;d++)r=r.insert(o[d].key,i[d].version);return new y1(t,e,i,r)}}class v1{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xj{constructor(t,e){this.count=t,this.unchangedNames=e}}var Mr,kn;function aL(n){switch(n){default:return wt();case ze.CANCELLED:case ze.UNKNOWN:case ze.DEADLINE_EXCEEDED:case ze.RESOURCE_EXHAUSTED:case ze.INTERNAL:case ze.UNAVAILABLE:case ze.UNAUTHENTICATED:return!1;case ze.INVALID_ARGUMENT:case ze.NOT_FOUND:case ze.ALREADY_EXISTS:case ze.PERMISSION_DENIED:case ze.FAILED_PRECONDITION:case ze.ABORTED:case ze.OUT_OF_RANGE:case ze.UNIMPLEMENTED:case ze.DATA_LOSS:return!0}}function lL(n){if(void 0===n)return yr("GRPC error has no .code"),ze.UNKNOWN;switch(n){case Mr.OK:return ze.OK;case Mr.CANCELLED:return ze.CANCELLED;case Mr.UNKNOWN:return ze.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return ze.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return ze.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return ze.INTERNAL;case Mr.UNAVAILABLE:return ze.UNAVAILABLE;case Mr.UNAUTHENTICATED:return ze.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return ze.INVALID_ARGUMENT;case Mr.NOT_FOUND:return ze.NOT_FOUND;case Mr.ALREADY_EXISTS:return ze.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return ze.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return ze.FAILED_PRECONDITION;case Mr.ABORTED:return ze.ABORTED;case Mr.OUT_OF_RANGE:return ze.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return ze.UNIMPLEMENTED;case Mr.DATA_LOSS:return ze.DATA_LOSS;default:return wt()}}(kn=Mr||(Mr={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";class b1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Jx}static getOrCreateInstance(){return null===Jx&&(Jx=new b1),Jx}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let Jx=null;function cL(){return new TextEncoder}const Sj=new G_([4294967295,4294967295],0);function uL(n){const t=cL().encode(n),e=new yU;return e.update(t),new Uint8Array(e.digest())}function dL(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new G_([e,i],0),new G_([r,o],0)]}class C1{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Cb(`Invalid padding: ${e}`);if(i<0)throw new Cb(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Cb(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Cb(`Invalid padding when bitmap length is 0: ${e}`);this.yt=8*t.length-e,this.It=G_.fromNumber(this.yt)}Tt(t,e,i){let r=t.add(e.multiply(G_.fromNumber(i)));return 1===r.compare(Sj)&&(r=new G_([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}Et(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}At(t){if(0===this.yt)return!1;const e=uL(t),[i,r]=dL(e);for(let o=0;o<this.hashCount;o++){const d=this.Tt(i,r,o);if(!this.Et(d))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),d=new C1(o,r,e);return i.forEach(m=>d.insert(m)),d}insert(t){if(0===this.yt)return;const e=uL(t),[i,r]=dL(e);for(let o=0;o<this.hashCount;o++){const d=this.Tt(i,r,o);this.Rt(d)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Cb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eb{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,wb.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Eb(Nt.min(),r,new yi(tn),Io(),cn())}}class wb{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new wb(i,e,cn(),cn(),cn())}}class eS{constructor(t,e,i,r){this.vt=t,this.removedTargetIds=e,this.key=i,this.Pt=r}}class hL{constructor(t,e){this.targetId=t,this.bt=e}}class fL{constructor(t,e,i=jr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class pL{constructor(){this.Vt=0,this.St=gL(),this.Dt=jr.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(t){t.approximateByteSize()>0&&(this.xt=!0,this.Dt=t)}Ot(){let t=cn(),e=cn(),i=cn();return this.St.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:wt()}}),new wb(this.Dt,this.Ct,t,e,i)}$t(){this.xt=!1,this.St=gL()}Ft(t,e){this.xt=!0,this.St=this.St.insert(t,e)}Bt(t){this.xt=!0,this.St=this.St.remove(t)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class Ij{constructor(t){this.Kt=t,this.Gt=new Map,this.Qt=Io(),this.jt=mL(),this.zt=new yi(tn)}Wt(t){for(const e of t.vt)t.Pt&&t.Pt.isFoundDocument()?this.Ht(e,t.Pt):this.Jt(e,t.key,t.Pt);for(const e of t.removedTargetIds)this.Jt(e,t.key,t.Pt)}Yt(t){this.forEachTarget(t,e=>{const i=this.Xt(e);switch(t.state){case 0:this.Zt(e)&&i.Mt(t.resumeToken);break;case 1:i.qt(),i.Nt||i.$t(),i.Mt(t.resumeToken);break;case 2:i.qt(),i.Nt||this.removeTarget(e);break;case 3:this.Zt(e)&&(i.Ut(),i.Mt(t.resumeToken));break;case 4:this.Zt(e)&&(this.te(e),i.Mt(t.resumeToken));break;default:wt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Gt.forEach((i,r)=>{this.Zt(r)&&e(r)})}ee(t){var e;const i=t.targetId,r=t.bt.count,o=this.ne(i);if(o){const d=o.target;if(qx(d))if(0===r){const m=new ut(d.path);this.Jt(i,m,Si.newNoDocument(m,Nt.min()))}else Ot(1===r);else{const m=this.se(i);if(m!==r){const C=this.ie(t,m);0!==C&&(this.te(i),this.zt=this.zt.insert(i,2===C?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=b1.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(S,O,W){var ce,fe,be,Ae,Ue,it;const bt={localCacheCount:O,existenceFilterCount:W.count},dt=W.unchangedNames;return dt&&(bt.bloomFilter={applied:0===S,hashCount:null!==(ce=dt?.hashCount)&&void 0!==ce?ce:0,bitmapLength:null!==(Ae=null===(be=null===(fe=dt?.bits)||void 0===fe?void 0:fe.bitmap)||void 0===be?void 0:be.length)&&void 0!==Ae?Ae:0,padding:null!==(it=null===(Ue=dt?.bits)||void 0===Ue?void 0:Ue.padding)&&void 0!==it?it:0}),bt}(C,m,t.bt))}}}}ie(t,e){const{unchangedNames:i,count:r}=t.bt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:d=0},hashCount:m=0}=i;let C,S;try{C=Id(o).toUint8Array()}catch(O){if(O instanceof CN)return ja("Decoding the base64 bloom filter in existence filter failed ("+O.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw O}try{S=new C1(C,d,m)}catch(O){return ja(O instanceof Cb?"BloomFilter error: ":"Applying bloom filter failed: ",O),1}return 0===S.yt?1:r!==e-this.re(t.targetId,S)?2:0}re(t,e){const i=this.Kt.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const d=this.Kt.oe(),m=`projects/${d.projectId}/databases/${d.database}/documents/${o.path.canonicalString()}`;e.At(m)||(this.Jt(t,o,null),r++)}),r}ue(t){const e=new Map;this.Gt.forEach((o,d)=>{const m=this.ne(d);if(m){if(o.current&&qx(m.target)){const C=new ut(m.target.path);null!==this.Qt.get(C)||this.ce(d,C)||this.Jt(d,C,Si.newNoDocument(C,t))}o.kt&&(e.set(d,o.Ot()),o.$t())}});let i=cn();this.jt.forEach((o,d)=>{let m=!0;d.forEachWhile(C=>{const S=this.ne(C);return!S||"TargetPurposeLimboResolution"===S.purpose||(m=!1,!1)}),m&&(i=i.add(o))}),this.Qt.forEach((o,d)=>d.setReadTime(t));const r=new Eb(t,e,this.zt,this.Qt,i);return this.Qt=Io(),this.jt=mL(),this.zt=new yi(tn),r}Ht(t,e){if(!this.Zt(t))return;const i=this.ce(t,e.key)?2:0;this.Xt(t).Ft(e.key,i),this.Qt=this.Qt.insert(e.key,e),this.jt=this.jt.insert(e.key,this.ae(e.key).add(t))}Jt(t,e,i){if(!this.Zt(t))return;const r=this.Xt(t);this.ce(t,e)?r.Ft(e,1):r.Bt(e),this.jt=this.jt.insert(e,this.ae(e).delete(t)),i&&(this.Qt=this.Qt.insert(e,i))}removeTarget(t){this.Gt.delete(t)}se(t){const e=this.Xt(t).Ot();return this.Kt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Lt(t){this.Xt(t).Lt()}Xt(t){let e=this.Gt.get(t);return e||(e=new pL,this.Gt.set(t,e)),e}ae(t){let e=this.jt.get(t);return e||(e=new xi(tn),this.jt=this.jt.insert(t,e)),e}Zt(t){const e=null!==this.ne(t);return e||et("WatchChangeAggregator","Detected inactive target",t),e}ne(t){const e=this.Gt.get(t);return e&&e.Nt?null:this.Kt.he(t)}te(t){this.Gt.set(t,new pL),this.Kt.getRemoteKeysForTarget(t).forEach(e=>{this.Jt(t,e,null)})}ce(t,e){return this.Kt.getRemoteKeysForTarget(t).has(e)}}function mL(){return new yi(ut.comparator)}function gL(){return new yi(ut.comparator)}const Tj={asc:"ASCENDING",desc:"DESCENDING"},Dj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mj={and:"AND",or:"OR"};class Aj{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function E1(n,t){return n.useProto3Json||lb(t)?t:{value:t}}function ny(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _L(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function kj(n,t){return ny(n,t.toTimestamp())}function vr(n){return Ot(!!n),Nt.fromTimestamp(function(t){const e=cf(t);return new Li(e.seconds,e.nanos)}(n))}function w1(n,t){return(e=n,new An(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function yL(n){const t=An.fromString(n);return Ot(TL(t)),t}function xb(n,t){return w1(n.databaseId,t.path)}function Xc(n,t){const e=yL(t);if(e.get(1)!==n.databaseId.projectId)throw new Ke(ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ke(ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ut(bL(e))}function x1(n,t){return w1(n.databaseId,t)}function vL(n){const t=yL(n);return 4===t.length?An.emptyPath():bL(t)}function Sb(n){return new An(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bL(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function CL(n,t,e){return{name:xb(n,t),fields:e.value.mapValue.fields}}function EL(n,t,e){const i=Xc(n,t.name),r=vr(t.updateTime),o=t.createTime?vr(t.createTime):Nt.min(),d=new Cs({mapValue:{fields:t.fields}}),m=Si.newFoundDocument(i,r,o,d);return e&&m.setHasCommittedMutations(),e?m.setHasCommittedMutations():m}function Ib(n,t){let e;if(t instanceof ey)e={update:CL(n,t.key,t.value)};else if(t instanceof ty)e={delete:xb(n,t.key)};else if(t instanceof Md)e={update:CL(n,t.key,t.data),updateMask:Vj(t.fieldMask)};else{if(!(t instanceof g1))return wt();e={verify:xb(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const d=o.transform;if(d instanceof X_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Rm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Om)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof J_)return{fieldPath:o.field.canonicalString(),increment:d.wt};throw wt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:kj(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:wt()),e;var r}function S1(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Bi.updateTime(vr(r.updateTime)):void 0!==r.exists?Bi.exists(r.exists):Bi.none():Bi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,d){let m=null;"setToServerValue"in d?(Ot("REQUEST_TIME"===d.setToServerValue),m=new X_):"appendMissingElements"in d?m=new Rm(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Om(d.removeAllFromArray.values||[]):"increment"in d?m=new J_(o,d.increment):wt();const C=lr.fromServerFormat(d.fieldPath);return new vb(C,m)}(n,r)):[];var r;if(t.update){const r=Xc(n,t.update.name),o=new Cs({mapValue:{fields:t.update.fields}});if(t.updateMask){const d=new So((t.updateMask.fieldPaths||[]).map(S=>lr.fromServerFormat(S)));return new Md(r,o,d,e,i)}return new ey(r,o,e,i)}if(t.delete){const r=Xc(n,t.delete);return new ty(r,e)}if(t.verify){const r=Xc(n,t.verify);return new g1(r,e)}return wt()}function wL(n,t){return{documents:[x1(n,t.path)]}}function I1(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=x1(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=x1(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(C){if(0!==C.length)return IL(Xn.create(C,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(C){if(0!==C.length)return C.map(S=>{return{field:mf((O=S).field),direction:Nj(O.dir)};var O})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const d=E1(n,t.limit);var m,C;return null!==d&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt={before:(m=t.startAt).inclusive,values:m.position}),t.endAt&&(e.structuredQuery.endAt={before:!(C=t.endAt).inclusive,values:C.position}),e}function xL(n){let t=vL(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ot(1===i);const O=e.from[0];O.allDescendants?r=O.collectionId:t=t.child(O.collectionId)}let o=[];e.where&&(o=function(O){const W=SL(O);return W instanceof Xn&&l1(W)?W.getFilters():[W]}(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(O=>{return new K_(iy((W=O).field),function(ce){switch(ce){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction));var W}));let m=null;e.limit&&(m=function(O){let W;return W="object"==typeof O?O.value:O,lb(W)?null:W}(e.limit));let C=null;var O;e.startAt&&(C=new pf((O=e.startAt).values||[],!!O.before));let S=null;return e.endAt&&(S=function(O){return new pf(O.values||[],!O.before)}(e.endAt)),HN(t,r,d,o,m,"F",C,S)}function SL(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=iy(t.unaryFilter.field);return bn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=iy(t.unaryFilter.field);return bn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=iy(t.unaryFilter.field);return bn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=iy(t.unaryFilter.field);return bn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(n):void 0!==n.fieldFilter?bn.create(iy((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Xn.create(t.compositeFilter.filters.map(e=>SL(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return wt()}}(t.compositeFilter.op))}(n):wt();var t}function Nj(n){return Tj[n]}function Lj(n){return Dj[n]}function Bj(n){return Mj[n]}function mf(n){return{fieldPath:n.canonicalString()}}function iy(n){return lr.fromServerFormat(n.fieldPath)}function IL(n){return n instanceof bn?function(t){if("=="===t.op){if(xN(t.value))return{unaryFilter:{field:mf(t.field),op:"IS_NAN"}};if(wN(t.value))return{unaryFilter:{field:mf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(xN(t.value))return{unaryFilter:{field:mf(t.field),op:"IS_NOT_NAN"}};if(wN(t.value))return{unaryFilter:{field:mf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mf(t.field),op:Lj(t.op),value:t.value}}}(n):n instanceof Xn?function(t){const e=t.getFilters().map(i=>IL(i));return 1===e.length?e[0]:{compositeFilter:{op:Bj(t.op),filters:e}}}(n):wt()}function Vj(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function TL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ad{constructor(t,e,i,r,o=Nt.min(),d=Nt.min(),m=jr.EMPTY_BYTE_STRING,C=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=C}withSequenceNumber(t){return new Ad(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ad(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ad(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ad(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class DL{constructor(t){this.le=t}}function ML(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:tS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:xb(r=n.le,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:ny(r,o.version.toTimestamp()),createTime:ny(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Fm(t.version)};else{if(!t.isUnknownDocument())return wt();i.unknownDocument={path:e.path.toArray(),version:Fm(t.version)}}var r,o;return i}function tS(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Fm(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Nm(n){const t=new Li(n.seconds,n.nanoseconds);return Nt.fromTimestamp(t)}function Lm(n,t){const e=(t.baseMutations||[]).map(o=>S1(n.le,o));for(let o=0;o<t.mutations.length-1;++o){const d=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(d.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>S1(n.le,o)),r=Li.fromMillis(t.localWriteTimeMs);return new _1(t.batchId,r,e,i)}function Tb(n){const t=Nm(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Nm(n.lastLimboFreeSnapshotVersion):Nt.min();let i;var r;return void 0!==n.query.documents?(Ot(1===(r=n.query).documents.length),i=oo(Q_(vL(r.documents[0])))):i=oo(xL(n.query)),new Ad(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,jr.fromBase64String(n.resumeToken))}function AL(n,t){const e=Fm(t.snapshotVersion),i=Fm(t.lastLimboFreeSnapshotVersion);let r;r=qx(t.target)?wL(n.le,t.target):I1(n.le,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:km(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function T1(n){const t=xL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Kx(t,t.limit,"L"):t}function D1(n,t){return new v1(t.largestBatchId,S1(n.le,t.overlayMutation))}function kL(n,t){const e=t.path.lastSegment();return[n,Vs(t.path.popLast()),e]}function PL(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Fm(i.readTime),documentKey:Vs(i.documentKey.path),largestBatchId:i.largestBatchId}}class Uj{getBundleMetadata(t,e){return RL(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Nm(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return RL(t).put({bundleId:(i=e).id,createTime:Fm(vr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return OL(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:T1(r.bundledQuery),readTime:Nm(r.readTime)};var r})}saveNamedQuery(t,e){return OL(t).put({name:(i=e).name,readTime:Fm(vr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function RL(n){return Xr(n,"bundles")}function OL(n){return Xr(n,"namedQueries")}class nS{constructor(t,e){this.serializer=t,this.userId=e}static fe(t,e){return new nS(t,e.uid||"")}getOverlay(t,e){return Db(t).get(kL(this.userId,e)).next(i=>i?D1(this.serializer,i):null)}getOverlays(t,e){const i=Qc();return Be.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,d)=>{const m=new v1(e,d);r.push(this.de(t,m))}),Be.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(d=>r.add(Vs(d.getCollectionPath())));const o=[];return r.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,i+1],!1,!0);o.push(Db(t).J("collectionPathOverlayIndex",m))}),Be.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Qc(),o=Vs(e),d=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Db(t).j("collectionPathOverlayIndex",d).next(m=>{for(const C of m){const S=D1(this.serializer,C);r.set(S.getKey(),S)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Qc();let d;const m=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Db(t).X({index:"collectionGroupOverlayIndex",range:m},(C,S,O)=>{const W=D1(this.serializer,S);o.size()<r||W.largestBatchId===d?(o.set(W.getKey(),W),d=W.largestBatchId):O.done()}).next(()=>o)}de(t,e){return Db(t).put(function(i,r,o){const[d,m,C]=kL(r,o.mutation.key);return{userId:r,collectionPath:m,documentId:C,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ib(i.le,o.mutation)}}(this.serializer,this.userId,e))}}function Db(n){return Xr(n,"documentOverlays")}class Bm{constructor(){}_e(t,e){this.we(t,e),e.me()}we(t,e){if("nullValue"in t)this.ge(e,5);else if("booleanValue"in t)this.ge(e,10),e.ye(t.booleanValue?1:0);else if("integerValue"in t)this.ge(e,15),e.ye(cr(t.integerValue));else if("doubleValue"in t){const i=cr(t.doubleValue);isNaN(i)?this.ge(e,13):(this.ge(e,15),cb(i)?e.ye(0):e.ye(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ge(e,20),"string"==typeof i?e.pe(i):(e.pe(`${i.seconds||""}`),e.ye(i.nanos||0))}else if("stringValue"in t)this.Ie(t.stringValue,e),this.Te(e);else if("bytesValue"in t)this.ge(e,30),e.Ee(Id(t.bytesValue)),this.Te(e);else if("referenceValue"in t)this.Ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ge(e,45),e.ye(i.latitude||0),e.ye(i.longitude||0)}else"mapValue"in t?SN(t)?this.ge(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Te(e)):"arrayValue"in t?(this.ve(t.arrayValue,e),this.Te(e)):wt()}Ie(t,e){this.ge(e,25),this.Pe(t,e)}Pe(t,e){e.pe(t)}Re(t,e){const i=t.fields||{};this.ge(e,55);for(const r of Object.keys(i))this.Ie(r,e),this.we(i[r],e)}ve(t,e){const i=t.values||[];this.ge(e,50);for(const r of i)this.we(r,e)}Ae(t,e){this.ge(e,37),ut.fromName(t).path.forEach(i=>{this.ge(e,60),this.Pe(i,e)})}ge(t,e){t.ye(e)}Te(t){t.ye(2)}}function jj(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function FL(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=jj(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Bm.be=new Bm;class zj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Se(i.value),i=e.next();this.De()}Ce(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.xe(i.value),i=e.next();this.Ne()}ke(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{const r=e.codePointAt(0);this.Se(240|r>>>18),this.Se(128|63&r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r)}}this.De()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{const r=e.codePointAt(0);this.xe(240|r>>>18),this.xe(128|63&r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r)}}this.Ne()}Oe(t){const e=this.$e(t),i=FL(e);this.Fe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Be(t){const e=this.$e(t),i=FL(e);this.Fe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(t){this.Fe(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ge(){return this.buffer.slice(0,this.position)}$e(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Se(t){const e=255&t;0===e?(this.qe(0),this.qe(255)):255===e?(this.qe(255),this.qe(0)):this.qe(e)}xe(t){const e=255&t;0===e?(this.Ke(0),this.Ke(255)):255===e?(this.Ke(255),this.Ke(0)):this.Ke(t)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(t){this.Fe(1),this.buffer[this.position++]=t}Ke(t){this.Fe(1),this.buffer[this.position++]=~t}Fe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Gj{constructor(t){this.Qe=t}Ee(t){this.Qe.Ve(t)}pe(t){this.Qe.ke(t)}ye(t){this.Qe.Oe(t)}me(){this.Qe.Le()}}class $j{constructor(t){this.Qe=t}Ee(t){this.Qe.Ce(t)}pe(t){this.Qe.Me(t)}ye(t){this.Qe.Be(t)}me(){this.Qe.Ue()}}class Mb{constructor(){this.Qe=new zj,this.je=new Gj(this.Qe),this.ze=new $j(this.Qe)}seed(t){this.Qe.seed(t)}We(t){return 0===t?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class Vm{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}He(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Vm(this.indexId,this.documentKey,this.arrayValue,i)}}function gf(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=NL(n.arrayValue,t.arrayValue),0!==e?e:(e=NL(n.directionalValue,t.directionalValue),0!==e?e:ut.comparator(n.documentKey,t.documentKey)))}function NL(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class qj{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Je=t.orderBy,this.Ye=[];for(const e of t.filters){const i=e;i.isInequality()?this.Xe=i:this.Ye.push(i)}}Ze(t){Ot(t.collectionGroup===this.collectionId);const e=JM(t);if(void 0!==e&&!this.tn(e))return!1;const i=Dm(t);let r=0,o=0;for(;r<i.length&&this.tn(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Xe){const d=i[r];if(!this.en(this.Xe,d)||!this.nn(this.Je[o++],d))return!1;++r}for(;r<i.length;++r){const d=i[r];if(o>=this.Je.length||!this.nn(this.Je[o++],d))return!1}return!0}tn(t){for(const e of this.Ye)if(this.en(e,t))return!0;return!1}en(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}nn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function LL(n){var t,e;if(Ot(n instanceof bn||n instanceof Xn),n instanceof bn){if(n instanceof LN){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>bn.create(n.field,"==",o)))||[];return Xn.create(r,"or")}return n}const i=n.filters.map(r=>LL(r));return Xn.create(i,n.op)}function Wj(n){if(0===n.getFilters().length)return[];const t=k1(LL(n));return Ot(BL(t)),M1(t)||A1(t)?[t]:t.getFilters()}function M1(n){return n instanceof bn}function A1(n){return n instanceof Xn&&l1(n)}function BL(n){return M1(n)||A1(n)||function(t){if(t instanceof Xn&&a1(t)){for(const e of t.getFilters())if(!M1(e)&&!A1(e))return!1;return!0}return!1}(n)}function k1(n){if(Ot(n instanceof bn||n instanceof Xn),n instanceof bn)return n;if(1===n.filters.length)return k1(n.filters[0]);const t=n.filters.map(i=>k1(i));let e=Xn.create(t,n.op);return e=iS(e),BL(e)?e:(Ot(e instanceof Xn),Ot(Y_(e)),Ot(e.filters.length>1),e.filters.reduce((i,r)=>P1(i,r)))}function P1(n,t){let e;return Ot(n instanceof bn||n instanceof Xn),Ot(t instanceof bn||t instanceof Xn),e=n instanceof bn?t instanceof bn?Xn.create([n,t],"and"):VL(n,t):t instanceof bn?VL(t,n):function(i,r){if(Ot(i.filters.length>0&&r.filters.length>0),Y_(i)&&Y_(r))return ON(i,r.getFilters());const o=a1(i)?i:r,d=a1(i)?r:i,m=o.filters.map(C=>P1(C,d));return Xn.create(m,"or")}(n,t),iS(e)}function VL(n,t){if(Y_(t))return ON(t,n.getFilters());{const e=t.filters.map(i=>P1(n,i));return Xn.create(e,"or")}}function iS(n){if(Ot(n instanceof bn||n instanceof Xn),n instanceof bn)return n;const t=n.getFilters();if(1===t.length)return iS(t[0]);if(PN(n))return n;const e=t.map(r=>iS(r)),i=[];return e.forEach(r=>{r instanceof bn?i.push(r):r instanceof Xn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Xn.create(i,n.op)}class Zj{constructor(){this.sn=new R1}addToCollectionParentIndex(t,e){return this.sn.add(e),Be.resolve()}getCollectionParents(t,e){return Be.resolve(this.sn.getEntries(e))}addFieldIndex(t,e){return Be.resolve()}deleteFieldIndex(t,e){return Be.resolve()}getDocumentsMatchingTarget(t,e){return Be.resolve(null)}getIndexType(t,e){return Be.resolve(0)}getFieldIndexes(t,e){return Be.resolve([])}getNextCollectionGroupToUpdate(t){return Be.resolve(null)}getMinOffset(t,e){return Be.resolve(Xo.min())}getMinOffsetFromCollectionGroup(t,e){return Be.resolve(Xo.min())}updateCollectionGroup(t,e,i){return Be.resolve()}updateIndexEntries(t,e){return Be.resolve()}}class R1{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new xi(An.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new xi(An.comparator)).toArray()}}const rS=new Uint8Array(0);class Kj{constructor(t,e){this.user=t,this.databaseId=e,this.rn=new R1,this.on=new Dd(i=>km(i),(i,r)=>pb(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.rn.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.rn.add(e)});const o={collectionId:i,parent:Vs(r)};return HL(t).put(o)}return Be.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[sN(e),""],!1,!0);return HL(t).j(r).next(o=>{for(const d of o){if(d.collectionId!==e)break;i.push(Kc(d.parent))}return i})}addFieldIndex(t,e){const i=sS(t),r={indexId:(d=e).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete r.indexId;const o=i.add(r);if(e.indexState){const d=kb(t);return o.next(m=>{d.put(PL(m,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=sS(t),r=kb(t),o=Ab(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Ab(t);let r=!0;const o=new Map;return Be.forEach(this.un(e),d=>this.cn(t,d).next(m=>{r&&(r=!!m),o.set(d,m)})).next(()=>{if(r){let d=cn();const m=[];return Be.forEach(o,(C,S)=>{var O;et("IndexedDbIndexManager",`Using index ${O=C,`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map(dt=>`${dt.fieldPath}:${dt.kind}`).join(",")}`} to execute ${km(e)}`);const W=function(dt,Mt){const en=JM(Mt);if(void 0===en)return null;for(const rn of Wx(dt,en.fieldPath))switch(rn.op){case"array-contains-any":return rn.value.arrayValue.values||[];case"array-contains":return[rn.value]}return null}(S,C),ce=function(dt,Mt){const en=new Map;for(const rn of Dm(Mt))for(const zn of Wx(dt,rn.fieldPath))switch(zn.op){case"==":case"in":en.set(rn.fieldPath.canonicalString(),zn.value);break;case"not-in":case"!=":return en.set(rn.fieldPath.canonicalString(),zn.value),Array.from(en.values())}return null}(S,C),fe=function(dt,Mt){const en=[];let rn=!0;for(const zn of Dm(Mt)){const es=0===zn.kind?BN(dt,zn.fieldPath,dt.startAt):VN(dt,zn.fieldPath,dt.startAt);en.push(es.value),rn&&(rn=es.inclusive)}return new pf(en,rn)}(S,C),be=function(dt,Mt){const en=[];let rn=!0;for(const zn of Dm(Mt)){const es=0===zn.kind?VN(dt,zn.fieldPath,dt.endAt):BN(dt,zn.fieldPath,dt.endAt);en.push(es.value),rn&&(rn=es.inclusive)}return new pf(en,rn)}(S,C),Ae=this.an(C,S,fe),Ue=this.an(C,S,be),it=this.hn(C,S,ce),bt=this.ln(C.indexId,W,Ae,fe.inclusive,Ue,be.inclusive,it);return Be.forEach(bt,dt=>i.H(dt,e.limit).next(Mt=>{Mt.forEach(en=>{const rn=ut.fromSegments(en.documentKey);d.has(rn)||(d=d.add(rn),m.push(rn))})}))}).next(()=>m)}return Be.resolve(null)})}un(t){let e=this.on.get(t);return e||(e=0===t.filters.length?[t]:Wj(Xn.create(t.filters,"and")).map(i=>u1(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.on.set(t,e),e)}ln(t,e,i,r,o,d,m){const C=(null!=e?e.length:1)*Math.max(i.length,o.length),S=C/(null!=e?e.length:1),O=[];for(let W=0;W<C;++W){const ce=e?this.fn(e[W/S]):rS,fe=this.dn(t,ce,i[W%S],r),be=this._n(t,ce,o[W%S],d),Ae=m.map(Ue=>this.dn(t,ce,Ue,!0));O.push(...this.createRange(fe,be,Ae))}return O}dn(t,e,i,r){const o=new Vm(t,ut.empty(),e,i);return r?o:o.He()}_n(t,e,i,r){const o=new Vm(t,ut.empty(),e,i);return r?o.He():o}cn(t,e){const i=new qj(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let d=null;for(const m of o)i.Ze(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(t,e){let i=2;const r=this.un(e);return Be.forEach(r,o=>this.cn(t,o).next(d=>{d?0!==i&&d.fields.length<function(m){let C=new xi(lr.comparator),S=!1;for(const O of m.filters)for(const W of O.getFlattenedFilters())W.field.isKeyField()||("array-contains"===W.op||"array-contains-any"===W.op?S=!0:C=C.add(W.field));for(const O of m.orderBy)O.field.isKeyField()||(C=C.add(O.field));return C.size+(S?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}wn(t,e){const i=new Mb;for(const r of Dm(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const d=i.We(r.kind);Bm.be._e(o,d)}return i.Ge()}fn(t){const e=new Mb;return Bm.be._e(t,e.We(0)),e.Ge()}mn(t,e){const i=new Mb;return Bm.be._e(Am(this.databaseId,e),i.We(function(r){const o=Dm(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Ge()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new Mb);let o=0;for(const d of Dm(t)){const m=i[o++];for(const C of r)if(this.gn(e,d.fieldPath)&&hb(m))r=this.yn(r,d,m);else{const S=C.We(d.kind);Bm.be._e(m,S)}}return this.pn(r)}an(t,e,i){return this.hn(t,e,i.position)}pn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ge();return e}yn(t,e,i){const r=[...t],o=[];for(const d of i.arrayValue.values||[])for(const m of r){const C=new Mb;C.seed(m.Ge()),Bm.be._e(d,C.We(e.kind)),o.push(C)}return o}gn(t,e){return!!t.filters.find(i=>i instanceof bn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=sS(t),r=kb(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(o=>{const d=[];return Be.forEach(o,m=>r.get([m.indexId,this.uid]).next(C=>{d.push(function(S,O){const W=O?new sb(O.sequenceNumber,new Xo(Nm(O.readTime),new ut(Kc(O.documentKey)),O.largestBatchId)):sb.empty(),ce=S.fields.map(([fe,be])=>new Lx(lr.fromServerFormat(fe),be));return new Nx(S.indexId,S.collectionGroup,ce,W)}(m,C))})).next(()=>d)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:tn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=sS(t),o=kb(t);return this.In(t).next(d=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(m=>Be.forEach(m,C=>o.put(PL(C.indexId,this.user,d,i)))))}updateIndexEntries(t,e){const i=new Map;return Be.forEach(e,(r,o)=>{const d=i.get(r.collectionGroup);return(d?Be.resolve(d):this.getFieldIndexes(t,r.collectionGroup)).next(m=>(i.set(r.collectionGroup,m),Be.forEach(m,C=>this.Tn(t,r,C).next(S=>{const O=this.En(o,C);return S.isEqual(O)?Be.resolve():this.An(t,o,C,S,O)}))))})}Rn(t,e,i,r){return Ab(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,e.key),documentKey:e.key.path.toArray()})}vn(t,e,i,r){return Ab(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,e.key),e.key.path.toArray()])}Tn(t,e,i){const r=Ab(t);let o=new xi(gf);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,e)])},(d,m)=>{o=o.add(new Vm(i.indexId,e,m.arrayValue,m.directionalValue))}).next(()=>o)}En(t,e){let i=new xi(gf);const r=this.wn(e,t);if(null==r)return i;const o=JM(e);if(null!=o){const d=t.data.field(o.fieldPath);if(hb(d))for(const m of d.arrayValue.values||[])i=i.add(new Vm(e.indexId,t.key,this.fn(m),r))}else i=i.add(new Vm(e.indexId,t.key,rS,r));return i}An(t,e,i,r,o){et("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const d=[];return function(m,C,S,O,W){const ce=m.getIterator(),fe=C.getIterator();let be=W_(ce),Ae=W_(fe);for(;be||Ae;){let Ue=!1,it=!1;if(be&&Ae){const bt=S(be,Ae);bt<0?it=!0:bt>0&&(Ue=!0)}else null!=be?it=!0:Ue=!0;Ue?(O(Ae),Ae=W_(fe)):it?(W(be),be=W_(ce)):(be=W_(ce),Ae=W_(fe))}}(r,o,gf,m=>{d.push(this.Rn(t,e,i,m))},m=>{d.push(this.vn(t,e,i,m))}),Be.waitFor(d)}In(t){let e=1;return kb(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((d,m)=>gf(d,m)).filter((d,m,C)=>!m||0!==gf(d,C[m-1]));const r=[];r.push(t);for(const d of i){const m=gf(d,t),C=gf(d,e);if(0===m)r[0]=t.He();else if(m>0&&C<0)r.push(d),r.push(d.He());else if(C>0)break}r.push(e);const o=[];for(let d=0;d<r.length;d+=2){if(this.Pn(r[d],r[d+1]))return[];o.push(IDBKeyRange.bound([r[d].indexId,this.uid,r[d].arrayValue,r[d].directionalValue,rS,[]],[r[d+1].indexId,this.uid,r[d+1].arrayValue,r[d+1].directionalValue,rS,[]]))}return o}Pn(t,e){return gf(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(UL)}getMinOffset(t,e){return Be.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||wt())).next(UL)}}function HL(n){return Xr(n,"collectionParents")}function Ab(n){return Xr(n,"indexEntries")}function sS(n){return Xr(n,"indexConfiguration")}function kb(n){return Xr(n,"indexState")}function UL(n){Ot(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;e1(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Xo(t.readTime,t.documentKey,e)}const jL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hs{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Hs(t,Hs.DEFAULT_COLLECTION_PERCENTILE,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zL(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],d=IDBKeyRange.only(e.batchId);let m=0;const C=i.X({range:d},(O,W,ce)=>(m++,ce.delete()));o.push(C.next(()=>{Ot(1===m)}));const S=[];for(const O of e.mutations){const W=pN(t,O.key.path,e.batchId);o.push(r.delete(W)),S.push(O.key)}return Be.waitFor(o).next(()=>S)}function oS(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw wt();t=n.noDocument}return JSON.stringify(t).length}Hs.DEFAULT_COLLECTION_PERCENTILE=10,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hs.DEFAULT=new Hs(41943040,Hs.DEFAULT_COLLECTION_PERCENTILE,Hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hs.DISABLED=new Hs(-1,0,0);class aS{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.bn={}}static fe(t,e,i,r){Ot(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new aS(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _f(t).X({index:"userMutationsIndex",range:i},(r,o,d)=>{e=!1,d.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=ry(t),d=_f(t);return d.add({}).next(m=>{Ot("number"==typeof m);const C=new _1(m,e,i,r),S=function(ce,fe,be){const Ae=be.baseMutations.map(it=>Ib(ce.le,it)),Ue=be.mutations.map(it=>Ib(ce.le,it));return{userId:fe,batchId:be.batchId,localWriteTimeMs:be.localWriteTime.toMillis(),baseMutations:Ae,mutations:Ue}}(this.serializer,this.userId,C),O=[];let W=new xi((ce,fe)=>tn(ce.canonicalString(),fe.canonicalString()));for(const ce of r){const fe=pN(this.userId,ce.key.path,m);W=W.add(ce.key.path.popLast()),O.push(d.put(S)),O.push(o.put(fe,NU))}return W.forEach(ce=>{O.push(this.indexManager.addToCollectionParentIndex(t,ce))}),t.addOnCommittedListener(()=>{this.bn[m]=C.keys()}),Be.waitFor(O).next(()=>C)})}lookupMutationBatch(t,e){return _f(t).get(e).next(i=>i?(Ot(i.userId===this.userId),Lm(this.serializer,i)):null)}Vn(t,e){return this.bn[e]?Be.resolve(this.bn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.bn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return _f(t).X({index:"userMutationsIndex",range:r},(d,m,C)=>{m.userId===this.userId&&(Ot(m.batchId>=i),o=Lm(this.serializer,m)),C.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return _f(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,o,d)=>{i=o.batchId,d.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _f(t).j("userMutationsIndex",e).next(i=>i.map(r=>Lm(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Vx(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return ry(t).X({range:r},(d,m,C)=>{const[S,O,W]=d,ce=Kc(O);if(S===this.userId&&e.path.isEqual(ce))return _f(t).get(W).next(fe=>{if(!fe)throw wt();Ot(fe.userId===this.userId),o.push(Lm(this.serializer,fe))});C.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new xi(tn);const r=[];return e.forEach(o=>{const d=Vx(this.userId,o.path),m=IDBKeyRange.lowerBound(d),C=ry(t).X({range:m},(S,O,W)=>{const[ce,fe,be]=S,Ae=Kc(fe);ce===this.userId&&o.path.isEqual(Ae)?i=i.add(be):W.done()});r.push(C)}),Be.waitFor(r).next(()=>this.Sn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=Vx(this.userId,i),d=IDBKeyRange.lowerBound(o);let m=new xi(tn);return ry(t).X({range:d},(C,S,O)=>{const[W,ce,fe]=C,be=Kc(ce);W===this.userId&&i.isPrefixOf(be)?be.length===r&&(m=m.add(fe)):O.done()}).next(()=>this.Sn(t,m))}Sn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(_f(t).get(o).next(d=>{if(null===d)throw wt();Ot(d.userId===this.userId),i.push(Lm(this.serializer,d))}))}),Be.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return zL(t.at,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Dn(e.batchId)}),Be.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Dn(t){delete this.bn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Be.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ry(t).X({range:i},(o,d,m)=>{if(o[0]===this.userId){const C=Kc(o[1]);r.push(C)}else m.done()}).next(()=>{Ot(0===r.length)})})}containsKey(t,e){return GL(t,this.userId,e)}Cn(t){return $L(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function GL(n,t,e){const i=Vx(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let d=!1;return ry(n).X({range:o,Y:!0},(m,C,S)=>{const[O,W,ce]=m;O===t&&W===r&&(d=!0),S.done()}).next(()=>d)}function _f(n){return Xr(n,"mutations")}function ry(n){return Xr(n,"documentMutations")}function $L(n){return Xr(n,"mutationQueues")}class Hm{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static Nn(){return new Hm(0)}static kn(){return new Hm(-1)}}class Yj{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Mn(t).next(e=>{const i=new Hm(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Mn(t).next(e=>Nt.fromTimestamp(new Li(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Mn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Mn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.$n(t,e).next(()=>this.Mn(t).next(i=>(i.targetCount+=1,this.Fn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.$n(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>sy(t).delete(e.targetId)).next(()=>this.Mn(t)).next(i=>(Ot(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return sy(t).X((d,m)=>{const C=Tb(m);C.sequenceNumber<=e&&null===i.get(C.targetId)&&(r++,o.push(this.removeTargetData(t,C)))}).next(()=>Be.waitFor(o)).next(()=>r)}forEachTarget(t,e){return sy(t).X((i,r)=>{const o=Tb(r);e(o)})}Mn(t){return qL(t).get("targetGlobalKey").next(e=>(Ot(null!==e),e))}On(t,e){return qL(t).put("targetGlobalKey",e)}$n(t,e){return sy(t).put(AL(this.serializer,e))}Fn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Mn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=km(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return sy(t).X({range:r,index:"queryTargetsIndex"},(d,m,C)=>{const S=Tb(m);pb(e,S.target)&&(o=S,C.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=yf(t);return e.forEach(d=>{const m=Vs(d.path);r.push(o.put({targetId:i,path:m})),r.push(this.referenceDelegate.addReference(t,i,d))}),Be.waitFor(r)}removeMatchingKeys(t,e,i){const r=yf(t);return Be.forEach(e,o=>{const d=Vs(o.path);return Be.waitFor([r.delete([i,d]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=yf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=yf(t);let o=cn();return r.X({range:i,Y:!0},(d,m,C)=>{const S=Kc(d[1]),O=new ut(S);o=o.add(O)}).next(()=>o)}containsKey(t,e){const i=Vs(e.path),r=IDBKeyRange.bound([i],[sN(i)],!1,!0);let o=0;return yf(t).X({index:"documentTargetsIndex",Y:!0,range:r},([d,m],C,S)=>{0!==d&&(o++,S.done())}).next(()=>o>0)}he(t,e){return sy(t).get(e).next(i=>i?Tb(i):null)}}function sy(n){return Xr(n,"targets")}function qL(n){return Xr(n,"targetGlobal")}function yf(n){return Xr(n,"targetDocuments")}function WL([n,t],[e,i]){const r=tn(n,e);return 0===r?tn(t,i):r}class Qj{constructor(t){this.Bn=t,this.buffer=new xi(WL),this.Ln=0}qn(){return++this.Ln}Un(t){const e=[t,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();WL(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class ZL{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(t){var e=this;et("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ve.Z)(function*(){e.Kn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){af(i)?et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield sf(i)}yield e.Gn(3e5)}))}}class Xj{constructor(t,e){this.Qn=t,this.params=e}calculateTargetCount(t,e){return this.Qn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Be.resolve(Jo.ct);const i=new Qj(e);return this.Qn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.Qn.zn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Qn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Qn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(jL)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jL):this.Wn(t,e))}getCacheSize(t){return this.Qn.getCacheSize(t)}Wn(t,e){let i,r,o,d,m,C,S;const O=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(W=>(W>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${W}`),r=this.params.maximumSequenceNumbersToCollect):r=W,d=Date.now(),this.nthSequenceNumber(t,r))).next(W=>(i=W,m=Date.now(),this.removeTargets(t,i,e))).next(W=>(o=W,C=Date.now(),this.removeOrphanedDocuments(t,i))).next(W=>(S=Date.now(),QM()<=Ha.in.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-O}ms\n\tDetermined least recently used ${r} in `+(m-d)+`ms\n\tRemoved ${o} targets in `+(C-m)+`ms\n\tRemoved ${W} documents in `+(S-C)+`ms\nTotal Duration: ${S-O}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:W})))}}class Jj{constructor(t,e){this.db=t,this.garbageCollector=function KL(n,t){return new Xj(n,t)}(this,e)}jn(t){const e=this.Hn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Hn(t){let e=0;return this.zn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}zn(t,e){return this.Jn(t,(i,r)=>e(r))}addReference(t,e,i){return lS(t,i)}removeReference(t,e,i){return lS(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return lS(t,e)}Yn(t,e){return function(i,r){let o=!1;return $L(i).Z(d=>GL(i,d,r).next(m=>(m&&(o=!0),Be.resolve(!m)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Jn(t,(d,m)=>{if(m<=e){const C=this.Yn(t,d).next(S=>{if(!S)return o++,i.getEntry(t,d).next(()=>(i.removeEntry(d,Nt.min()),yf(t).delete([0,Vs(d.path)])))});r.push(C)}}).next(()=>Be.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return lS(t,e)}Jn(t,e){const i=yf(t);let r,o=Jo.ct;return i.X({index:"documentTargetsIndex"},([d,m],{path:C,sequenceNumber:S})=>{0===d?(o!==Jo.ct&&e(new ut(Kc(r)),o),o=S,r=C):o=Jo.ct}).next(()=>{o!==Jo.ct&&e(new ut(Kc(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function lS(n,t){return yf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Vs(t.path),sequenceNumber:i}));var i}class YL{constructor(){this.changes=new Dd(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Si.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Be.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ez{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Um(t).put(i)}removeEntry(t,e,i){return Um(t).delete(function(r,o){const d=r.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],tS(o),d[d.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Xn(t,i)))}getEntry(t,e){let i=Si.newInvalidDocument(e);return Um(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Pb(e))},(r,o)=>{i=this.Zn(e,o)}).next(()=>i)}ts(t,e){let i={size:0,document:Si.newInvalidDocument(e)};return Um(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Pb(e))},(r,o)=>{i={document:this.Zn(e,o),size:oS(o)}}).next(()=>i)}getEntries(t,e){let i=Io();return this.es(t,e,(r,o)=>{const d=this.Zn(r,o);i=i.insert(r,d)}).next(()=>i)}ns(t,e){let i=Io(),r=new yi(ut.comparator);return this.es(t,e,(o,d)=>{const m=this.Zn(o,d);i=i.insert(o,m),r=r.insert(o,oS(d))}).next(()=>({documents:i,ss:r}))}es(t,e,i){if(e.isEmpty())return Be.resolve();let r=new xi(e2);e.forEach(C=>r=r.add(C));const o=IDBKeyRange.bound(Pb(r.first()),Pb(r.last())),d=r.getIterator();let m=d.getNext();return Um(t).X({index:"documentKeyIndex",range:o},(C,S,O)=>{const W=ut.fromSegments([...S.prefixPath,S.collectionGroup,S.documentId]);for(;m&&e2(m,W)<0;)i(m,null),m=d.getNext();m&&m.isEqual(W)&&(i(m,S),m=d.hasNext()?d.getNext():null),m?O.G(Pb(m)):O.done()}).next(()=>{for(;m;)i(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,d=[o.popLast().toArray(),o.lastSegment(),tS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Um(t).j(IDBKeyRange.bound(d,m,!0)).next(C=>{let S=Io();for(const O of C){const W=this.Zn(ut.fromSegments(O.prefixPath.concat(O.collectionGroup,O.documentId)),O);W.isFoundDocument()&&(gb(e,W)||r.has(W.key))&&(S=S.insert(W.key,W))}return S})}getAllFromCollectionGroup(t,e,i,r){let o=Io();const d=JL(e,i),m=JL(e,Xo.max());return Um(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(C,S,O)=>{const W=this.Zn(ut.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);o=o.insert(W.key,W),o.size===r&&O.done()}).next(()=>o)}newChangeBuffer(t){return new tz(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return XL(t).get("remoteDocumentGlobalKey").next(e=>(Ot(!!e),e))}Xn(t,e){return XL(t).put("remoteDocumentGlobalKey",e)}Zn(t,e){if(e){const i=function Hj(n,t){let e;if(t.document)e=EL(n.le,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ut.fromSegments(t.noDocument.path),r=Nm(t.noDocument.readTime);e=Si.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return wt();{const i=ut.fromSegments(t.unknownDocument.path),r=Nm(t.unknownDocument.version);e=Si.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Li(i[0],i[1]);return Nt.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Nt.min()))return i}return Si.newInvalidDocument(t)}}function QL(n){return new ez(n)}class tz extends YL{constructor(t,e){super(),this.rs=t,this.trackRemovals=e,this.os=new Dd(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new xi((o,d)=>tn(o.canonicalString(),d.canonicalString()));return this.changes.forEach((o,d)=>{const m=this.os.get(o);if(e.push(this.rs.removeEntry(t,o,m.readTime)),d.isValidDocument()){const C=ML(this.rs.serializer,d);r=r.add(o.path.popLast()),i+=oS(C)-m.size,e.push(this.rs.addEntry(t,o,C))}else if(i-=m.size,this.trackRemovals){const C=ML(this.rs.serializer,d.convertToNoDocument(Nt.min()));e.push(this.rs.addEntry(t,o,C))}}),r.forEach(o=>{e.push(this.rs.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.rs.updateMetadata(t,i)),Be.waitFor(e)}getFromCache(t,e){return this.rs.ts(t,e).next(i=>(this.os.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.rs.ns(t,e).next(({documents:i,ss:r})=>(r.forEach((o,d)=>{this.os.set(o,{size:d,readTime:i.get(o).readTime})}),i))}}function XL(n){return Xr(n,"remoteDocumentGlobal")}function Um(n){return Xr(n,"remoteDocumentsV14")}function Pb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function JL(n,t){const e=t.documentKey.path.toArray();return[n,tS(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function e2(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=tn(e[o],i[o]),r)return r;return r=tn(e.length,i.length),r||(r=tn(e[e.length-2],i[i.length-2]),r||tn(e[e.length-1],i[i.length-1]))}class nz{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class t2{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&bb(i.mutation,r,So.empty(),Li.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,cn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=cn()){const r=Qc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let d=_b();return o.forEach((m,C)=>{d=d.insert(m,C.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const i=Qc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,cn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((d,m)=>{e.set(d,m)})})}computeViews(t,e,i,r){let o=Io();const d=yb(),m=yb();return e.forEach((C,S)=>{const O=i.get(S.key);r.has(S.key)&&(void 0===O||O.mutation instanceof Md)?o=o.insert(S.key,S):void 0!==O?(d.set(S.key,O.mutation.getFieldMask()),bb(O.mutation,S,O.mutation.getFieldMask(),Li.now())):d.set(S.key,So.empty())}),this.recalculateAndSaveOverlays(t,o).next(C=>(C.forEach((S,O)=>d.set(S,O)),e.forEach((S,O)=>{var W;return m.set(S,new nz(O,null!==(W=d.get(S))&&void 0!==W?W:null))}),m))}recalculateAndSaveOverlays(t,e){const i=yb();let r=new yi((d,m)=>d-m),o=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const m of d)m.keys().forEach(C=>{const S=e.get(C);if(null===S)return;let O=i.get(C)||So.empty();O=m.applyToLocalView(S,O),i.set(C,O);const W=(r.get(m.batchId)||cn()).add(C);r=r.insert(m.batchId,W)})}).next(()=>{const d=[],m=r.getReverseIterator();for(;m.hasNext();){const C=m.getNext(),S=C.key,O=C.value,W=WN();O.forEach(ce=>{if(!o.has(ce)){const fe=nL(e.get(ce),i.get(ce));null!==fe&&W.set(ce,fe),o=o.add(ce)}}),d.push(this.documentOverlayCache.saveOverlays(t,S,W))}return Be.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return ut.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):h1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const d=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):Be.resolve(Qc());let m=-1,C=o;return d.next(S=>Be.forEach(S,(O,W)=>(m<W.largestBatchId&&(m=W.largestBatchId),o.get(O)?Be.resolve():this.remoteDocumentCache.getEntry(t,O).next(ce=>{C=C.insert(O,ce)}))).next(()=>this.populateOverlays(t,S,o)).next(()=>this.computeViews(t,C,S,cn())).next(O=>({batchId:m,changes:qN(O)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ut(e)).next(i=>{let r=_b();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=_b();return this.indexManager.getCollectionParents(t,r).next(d=>Be.forEach(d,m=>{const C=(S=e,O=m.child(r),new Td(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,O;return this.getDocumentsMatchingCollectionQuery(t,C,i).next(S=>{S.forEach((O,W)=>{o=o.insert(O,W)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((m,C)=>{const S=C.getKey();null===o.get(S)&&(o=o.insert(S,Si.newInvalidDocument(S)))});let d=_b();return o.forEach((m,C)=>{const S=r.get(m);void 0!==S&&bb(S.mutation,C,So.empty(),Li.now()),gb(e,C)&&(d=d.insert(m,C))}),d})}}class iz{constructor(t){this.serializer=t,this.us=new Map,this.cs=new Map}getBundleMetadata(t,e){return Be.resolve(this.us.get(e))}saveBundleMetadata(t,e){var i;return this.us.set(e.id,{id:(i=e).id,version:i.version,createTime:vr(i.createTime)}),Be.resolve()}getNamedQuery(t,e){return Be.resolve(this.cs.get(e))}saveNamedQuery(t,e){return this.cs.set(e.name,{name:(i=e).name,query:T1(i.bundledQuery),readTime:vr(i.readTime)}),Be.resolve();var i}}class rz{constructor(){this.overlays=new yi(ut.comparator),this.hs=new Map}getOverlay(t,e){return Be.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Qc();return Be.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.de(t,e,o)}),Be.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.hs.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hs.delete(i)),Be.resolve()}getOverlaysForCollection(t,e,i){const r=Qc(),o=e.length+1,d=new ut(e.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const C=m.getNext().value,S=C.getKey();if(!e.isPrefixOf(S.path))break;S.path.length===o&&C.largestBatchId>i&&r.set(C.getKey(),C)}return Be.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new yi((S,O)=>S-O);const d=this.overlays.getIterator();for(;d.hasNext();){const S=d.getNext().value;if(S.getKey().getCollectionGroup()===e&&S.largestBatchId>i){let O=o.get(S.largestBatchId);null===O&&(O=Qc(),o=o.insert(S.largestBatchId,O)),O.set(S.getKey(),S)}}const m=Qc(),C=o.getIterator();for(;C.hasNext()&&(C.getNext().value.forEach((S,O)=>m.set(S,O)),!(m.size()>=r)););return Be.resolve(m)}de(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const d=this.hs.get(r.largestBatchId).delete(i.key);this.hs.set(r.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new v1(e,i));let o=this.hs.get(e);void 0===o&&(o=cn(),this.hs.set(e,o)),this.hs.set(e,o.add(i.key))}}class O1{constructor(){this.ls=new xi(Jr.fs),this.ds=new xi(Jr._s)}isEmpty(){return this.ls.isEmpty()}addReference(t,e){const i=new Jr(t,e);this.ls=this.ls.add(i),this.ds=this.ds.add(i)}ws(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.gs(new Jr(t,e))}ys(t,e){t.forEach(i=>this.removeReference(i,e))}ps(t){const e=new ut(new An([])),i=new Jr(e,t),r=new Jr(e,t+1),o=[];return this.ds.forEachInRange([i,r],d=>{this.gs(d),o.push(d.key)}),o}Is(){this.ls.forEach(t=>this.gs(t))}gs(t){this.ls=this.ls.delete(t),this.ds=this.ds.delete(t)}Ts(t){const e=new ut(new An([])),i=new Jr(e,t),r=new Jr(e,t+1);let o=cn();return this.ds.forEachInRange([i,r],d=>{o=o.add(d.key)}),o}containsKey(t){const e=new Jr(t,0),i=this.ls.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Jr{constructor(t,e){this.key=t,this.Es=e}static fs(t,e){return ut.comparator(t.key,e.key)||tn(t.Es,e.Es)}static _s(t,e){return tn(t.Es,e.Es)||ut.comparator(t.key,e.key)}}class sz{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.As=1,this.Rs=new xi(Jr.fs)}checkEmpty(t){return Be.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.As;this.As++;const d=new _1(o,e,i,r);this.mutationQueue.push(d);for(const m of r)this.Rs=this.Rs.add(new Jr(m.key,o)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Be.resolve(d)}lookupMutationBatch(t,e){return Be.resolve(this.vs(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Ps(e+1),o=r<0?0:r;return Be.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(t){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Jr(e,0),r=new Jr(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],d=>{const m=this.vs(d.Es);o.push(m)}),Be.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new xi(tn);return e.forEach(r=>{const o=new Jr(r,0),d=new Jr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,d],m=>{i=i.add(m.Es)})}),Be.resolve(this.bs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;ut.isDocumentKey(o)||(o=o.child(""));const d=new Jr(new ut(o),0);let m=new xi(tn);return this.Rs.forEachWhile(C=>{const S=C.key.path;return!!i.isPrefixOf(S)&&(S.length===r&&(m=m.add(C.Es)),!0)},d),Be.resolve(this.bs(m))}bs(t){const e=[];return t.forEach(i=>{const r=this.vs(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ot(0===this.Vs(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Be.forEach(e.mutations,r=>{const o=new Jr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Dn(t){}containsKey(t,e){const i=new Jr(e,0),r=this.Rs.firstAfterOrEqual(i);return Be.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Be.resolve()}Vs(t,e){return this.Ps(t)}Ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}vs(t){const e=this.Ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class oz{constructor(t){this.Ss=t,this.docs=new yi(ut.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,d=this.Ss(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:d}),this.size+=d-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Be.resolve(i?i.document.mutableCopy():Si.newInvalidDocument(e))}getEntries(t,e){let i=Io();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Si.newInvalidDocument(r))}),Be.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Io();const d=e.path,m=new ut(d.child("")),C=this.docs.getIteratorFrom(m);for(;C.hasNext();){const{key:S,value:{document:O}}=C.getNext();if(!d.isPrefixOf(S.path))break;S.path.length>d.length+1||e1(aN(O),i)<=0||(r.has(O.key)||gb(e,O))&&(o=o.insert(O.key,O.mutableCopy()))}return Be.resolve(o)}getAllFromCollectionGroup(t,e,i,r){wt()}Ds(t,e){return Be.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new az(this)}getSize(t){return Be.resolve(this.size)}}class az extends YL{constructor(t){super(),this.rs=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.rs.addEntry(t,r)):this.rs.removeEntry(i)}),Be.waitFor(e)}getFromCache(t,e){return this.rs.getEntry(t,e)}getAllFromCache(t,e){return this.rs.getEntries(t,e)}}class lz{constructor(t){this.persistence=t,this.Cs=new Dd(e=>km(e),pb),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new O1,this.targetCount=0,this.ks=Hm.Nn()}forEachTarget(t,e){return this.Cs.forEach((i,r)=>e(r)),Be.resolve()}getLastRemoteSnapshotVersion(t){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Be.resolve(this.xs)}allocateTargetId(t){return this.highestTargetId=this.ks.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.xs&&(this.xs=e),Be.resolve()}$n(t){this.Cs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ks=new Hm(e),this.highestTargetId=e),t.sequenceNumber>this.xs&&(this.xs=t.sequenceNumber)}addTargetData(t,e){return this.$n(e),this.targetCount+=1,Be.resolve()}updateTargetData(t,e){return this.$n(e),Be.resolve()}removeTargetData(t,e){return this.Cs.delete(e.target),this.Ns.ps(e.targetId),this.targetCount-=1,Be.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Cs.forEach((d,m)=>{m.sequenceNumber<=e&&null===i.get(m.targetId)&&(this.Cs.delete(d),o.push(this.removeMatchingKeysForTargetId(t,m.targetId)),r++)}),Be.waitFor(o).next(()=>r)}getTargetCount(t){return Be.resolve(this.targetCount)}getTargetData(t,e){const i=this.Cs.get(e)||null;return Be.resolve(i)}addMatchingKeys(t,e,i){return this.Ns.ws(e,i),Be.resolve()}removeMatchingKeys(t,e,i){this.Ns.ys(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(d=>{o.push(r.markPotentiallyOrphaned(t,d))}),Be.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ns.ps(e),Be.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ns.Ts(e);return Be.resolve(i)}containsKey(t,e){return Be.resolve(this.Ns.containsKey(e))}}class F1{constructor(t,e){this.Ms={},this.overlays={},this.Os=new Jo(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new lz(this),this.indexManager=new Zj,this.remoteDocumentCache=new oz(i=>this.referenceDelegate.Bs(i)),this.serializer=new DL(e),this.Ls=new iz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new rz,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Ms[t.toKey()];return i||(i=new sz(e,this.referenceDelegate),this.Ms[t.toKey()]=i),i}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(t,e,i){et("MemoryPersistence","Starting transaction:",t);const r=new cz(this.Os.next());return this.referenceDelegate.qs(),i(r).next(o=>this.referenceDelegate.Us(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ks(t,e){return Be.or(Object.values(this.Ms).map(i=>()=>i.containsKey(t,e)))}}class cz extends cN{constructor(t){super(),this.currentSequenceNumber=t}}class cS{constructor(t){this.persistence=t,this.Gs=new O1,this.Qs=null}static js(t){return new cS(t)}get zs(){if(this.Qs)return this.Qs;throw wt()}addReference(t,e,i){return this.Gs.addReference(i,e),this.zs.delete(i.toString()),Be.resolve()}removeReference(t,e,i){return this.Gs.removeReference(i,e),this.zs.add(i.toString()),Be.resolve()}markPotentiallyOrphaned(t,e){return this.zs.add(e.toString()),Be.resolve()}removeTarget(t,e){this.Gs.ps(e.targetId).forEach(r=>this.zs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.zs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}qs(){this.Qs=new Set}Us(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.zs,i=>{const r=ut.fromPath(i);return this.Ws(t,r).next(o=>{o||e.removeEntry(r,Nt.min())})}).next(()=>(this.Qs=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ws(t,e).next(i=>{i?this.zs.delete(e.toString()):this.zs.add(e.toString())})}Bs(t){return 0}Ws(t,e){return Be.or([()=>Be.resolve(this.Gs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ks(t,e)])}}class uz{constructor(t){this.serializer=t}$(t,e,i,r){const o=new Bx("createOrUpgrade",e);var m;i<1&&r>=1&&(t.createObjectStore("owner"),(m=t).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fN,{unique:!0}),m.createObjectStore("documentMutations"),n2(t),function(m){m.createObjectStore("remoteDocuments")}(t));let d=Be.resolve();return i<3&&r>=3&&(0!==i&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(t),n2(t)),d=d.next(()=>function(m){const C=m.store("targetGlobal"),S={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return C.put("targetGlobalKey",S)}(o))),i<4&&r>=4&&(0!==i&&(d=d.next(()=>function(m,C){return C.store("mutations").j().next(S=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fN,{unique:!0});const O=C.store("mutations"),W=S.map(ce=>O.put(ce));return Be.waitFor(W)})}(t,o))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(d=d.next(()=>this.Js(o))),i<6&&r>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(t),this.Ys(o)))),i<7&&r>=7&&(d=d.next(()=>this.Xs(o))),i<8&&r>=8&&(d=d.next(()=>this.Zs(t,o))),i<9&&r>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(d=d.next(()=>this.ti(o))),i<11&&r>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(d=d.next(()=>{!function(m){const C=m.createObjectStore("documentOverlays",{keyPath:ZU});C.createIndex("collectionPathOverlayIndex",KU,{unique:!1}),C.createIndex("collectionGroupOverlayIndex",YU,{unique:!1})}(t)})),i<13&&r>=13&&(d=d.next(()=>function(m){const C=m.createObjectStore("remoteDocumentsV14",{keyPath:LU});C.createIndex("documentKeyIndex",BU),C.createIndex("collectionGroupIndex",VU)}(t)).next(()=>this.ei(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(d=d.next(()=>this.ni(t,o))),i<15&&r>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:GU}).createIndex("sequenceNumberIndex",$U,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:qU}).createIndex("documentKeyIndex",WU,{unique:!1})}(t))),d}Ys(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=oS(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Js(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>Be.forEach(r,o=>{const d=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",d).next(m=>Be.forEach(m,C=>{Ot(C.userId===o.userId);const S=Lm(this.serializer,C);return zL(t,o.userId,S).next(()=>{})}))}))}Xs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((d,m)=>{const C=new An(d),S=[0,Vs(C)];o.push(e.get(S).next(O=>O?Be.resolve():e.put({targetId:0,path:Vs(C),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Be.waitFor(o))})}Zs(t,e){t.createObjectStore("collectionParents",{keyPath:zU});const i=e.store("collectionParents"),r=new R1,o=d=>{if(r.add(d)){const m=d.lastSegment(),C=d.popLast();return i.put({collectionId:m,parent:Vs(C)})}};return e.store("remoteDocuments").X({Y:!0},(d,m)=>{const C=new An(d);return o(C.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([d,m,C],S)=>{const O=Kc(m);return o(O.popLast())}))}ti(t){const e=t.store("targets");return e.X((i,r)=>{const o=Tb(r),d=AL(this.serializer,o);return e.put(d)})}ei(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((o,d)=>{const m=e.store("remoteDocumentsV14"),C=(S=d,S.document?new ut(An.fromString(S.document.name).popFirst(5)):S.noDocument?ut.fromSegments(S.noDocument.path):S.unknownDocument?ut.fromSegments(S.unknownDocument.path):wt()).path.toArray();var S;const O={prefixPath:C.slice(0,C.length-2),collectionGroup:C[C.length-2],documentId:C[C.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};r.push(m.put(O))}).next(()=>Be.waitFor(r))}ni(t,e){const i=e.store("mutations"),r=QL(this.serializer),o=new F1(cS.js,this.serializer.le);return i.j().next(d=>{const m=new Map;return d.forEach(C=>{var S;let O=null!==(S=m.get(C.userId))&&void 0!==S?S:cn();Lm(this.serializer,C).keys().forEach(W=>O=O.add(W)),m.set(C.userId,O)}),Be.forEach(m,(C,S)=>{const O=new Qr(S),W=nS.fe(this.serializer,O),ce=o.getIndexManager(O),fe=aS.fe(O,this.serializer,ce,o.referenceDelegate);return new t2(r,fe,W,ce).recalculateAndSaveOverlaysForDocumentKeys(new r1(e,Jo.ct),C).next()})})}}function n2(n){n.createObjectStore("targetDocuments",{keyPath:UU}).createIndex("documentTargetsIndex",jU,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",HU,{unique:!0}),n.createObjectStore("targetGlobal")}const N1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class L1{constructor(t,e,i,r,o,d,m,C,S,O,W=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=o,this.window=d,this.document=m,this.ii=S,this.ri=O,this.oi=W,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=ce=>Promise.resolve(),!L1.D())throw new Ke(ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jj(this,r),this.fi=e+"main",this.serializer=new DL(C),this.di=new Ll(this.fi,this.oi,new uz(this.serializer)),this.Fs=new Yj(this.referenceDelegate,this.serializer),this.remoteDocumentCache=QL(this.serializer),this.Ls=new Uj,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===O&&yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ke(ze.FAILED_PRECONDITION,N1);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Fs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Jo(t,this.ii)}).then(()=>{this.$s=!0}).catch(t=>(this.di&&this.di.close(),Promise.reject(t)))}pi(t){var e=this;return this.li=function(){var i=(0,Ve.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.di.B(function(){var e=(0,Ve.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,Ve.Z)(function*(){e.started&&(yield e.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>dS(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(t)).next(e=>this.isPrimary&&!e?this.Ei(t).next(()=>!1):!!e&&this.Ai(t).next(()=>!0))).catch(t=>{if(af(t))return et("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.li(t)),this.isPrimary=t})}Ii(t){return Rb(t).get("owner").next(e=>Be.resolve(this.Ri(e)))}vi(t){return dS(t).delete(this.clientId)}Pi(){var t=this;return(0,Ve.Z)(function*(){if(t.isPrimary&&!t.bi(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Xr(i,"clientMetadata");return r.j().next(o=>{const d=t.Vi(o,18e5),m=o.filter(C=>-1===d.indexOf(C));return Be.forEach(m,C=>r.delete(C.clientId)).next(()=>m)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Si(i.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ti(t){return this.ri?Be.resolve(!0):Rb(t).get("owner").next(e=>{if(null!==e&&this.bi(e.leaseTimestampMs,5e3)&&!this.Di(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Ke(ze.FAILED_PRECONDITION,N1);return!1}}return!(!this.networkEnabled||!this.inForeground)||dS(t).j().next(i=>void 0===this.Vi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const d=!this.inForeground&&r.inForeground,m=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||d&&m)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&et("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ve.Z)(function*(){t.$s=!1,t.Ci(),t.ai&&(t.ai.cancel(),t.ai=null),t.xi(),t.Ni(),yield t.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new r1(e,Jo.ct);return t.Ei(i).next(()=>t.vi(i))}),t.di.close(),t.ki()})()}Vi(t,e){return t.filter(i=>this.bi(i.updateTimeMs,e)&&!this.Di(i.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",t=>dS(t).j().next(e=>this.Vi(e,18e5).map(i=>i.clientId)))}get started(){return this.$s}getMutationQueue(t,e){return aS.fe(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Kj(t,this.serializer.le.databaseId)}getDocumentOverlayCache(t){return nS.fe(this.serializer,t)}getBundleCache(){return this.Ls}runTransaction(t,e,i){et("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(d=this.oi)?XU:14===d?_N:13===d?gN:12===d?QU:11===d?mN:void wt();var d;let m;return this.di.runTransaction(t,r,o,C=>(m=new r1(C,this.Os?this.Os.next():Jo.ct),"readwrite-primary"===e?this.Ii(m).next(S=>!!S||this.Ti(m)).next(S=>{if(!S)throw yr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Ke(ze.FAILED_PRECONDITION,lN);return i(m)}).next(S=>this.Ai(m).next(()=>S)):this.Oi(m).next(()=>i(m)))).then(C=>(m.raiseOnCommittedEvent(),C))}Oi(t){return Rb(t).get("owner").next(e=>{if(null!==e&&this.bi(e.leaseTimestampMs,5e3)&&!this.Di(e.ownerId)&&!this.Ri(e)&&!(this.ri||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ke(ze.FAILED_PRECONDITION,N1)})}Ai(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rb(t).put("owner",e)}static D(){return Ll.D()}Ei(t){const e=Rb(t);return e.get("owner").next(i=>this.Ri(i)?(et("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Be.resolve())}bi(t,e){const i=Date.now();return!(t<i-e||t>i&&(yr(`Detected an update time that is in the future: ${t} > ${i}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Ci();const e=/(?:Version|Mobile)\/1[456]/;(0,In.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Si(t)));return et("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return yr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(t){yr("Failed to set zombie client id.",t)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Rb(n){return Xr(n,"owner")}function dS(n){return Xr(n,"clientMetadata")}function B1(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class V1{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.$i=i,this.Fi=r}static Bi(t,e){let i=cn(),r=cn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new V1(t,e.fromCache,i,r)}}class r2{constructor(){this.Li=!1}initialize(t,e){this.qi=t,this.indexManager=e,this.Li=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ui(t,e).next(o=>o||this.Ki(t,e,r,i)).next(o=>o||this.Gi(t,e))}Ui(t,e){if(UN(e))return Be.resolve(null);let i=oo(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Kx(e,null,"F"),i=oo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const d=cn(...o);return this.qi.getDocuments(t,d).next(m=>this.indexManager.getMinOffset(t,i).next(C=>{const S=this.Qi(e,m);return this.ji(e,S,d,C.readTime)?this.Ui(t,Kx(e,null,"F")):this.zi(t,S,e,C)}))})))}Ki(t,e,i,r){return UN(e)||r.isEqual(Nt.min())?this.Gi(t,e):this.qi.getDocuments(t,i).next(o=>{const d=this.Qi(e,o);return this.ji(e,d,i,r)?this.Gi(t,e):(QM()<=Ha.in.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),p1(e)),this.zi(t,d,e,oN(r,-1)))})}Qi(t,e){let i=new xi(GN(t));return e.forEach((r,o)=>{gb(t,o)&&(i=i.add(o))}),i}ji(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Gi(t,e){return QM()<=Ha.in.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",p1(e)),this.qi.getDocumentsMatchingQuery(t,e,Xo.min())}zi(t,e,i,r){return this.qi.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(d=>{o=o.insert(d.key,d)}),o))}}class dz{constructor(t,e,i,r){this.persistence=t,this.Wi=e,this.serializer=r,this.Hi=new yi(tn),this.Ji=new Dd(o=>km(o),pb),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(i)}Zi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new t2(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Hi))}}function s2(n,t,e,i){return new dz(n,t,e,i)}function o2(n,t){return H1.apply(this,arguments)}function H1(){return H1=(0,Ve.Z)(function*(n,t){const e=gt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Zi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const d=[],m=[];let C=cn();for(const S of r){d.push(S.batchId);for(const O of S.mutations)C=C.add(O.key)}for(const S of o){m.push(S.batchId);for(const O of S.mutations)C=C.add(O.key)}return e.localDocuments.getDocuments(i,C).next(S=>({tr:S,removedBatchIds:d,addedBatchIds:m}))})})}),H1.apply(this,arguments)}function hz(n,t){const e=gt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Xi.newChangeBuffer({trackRemovals:!0});return function(d,m,C,S){const O=C.batch,W=O.keys();let ce=Be.resolve();return W.forEach(fe=>{ce=ce.next(()=>S.getEntry(m,fe)).next(be=>{const Ae=C.docVersions.get(fe);Ot(null!==Ae),be.version.compareTo(Ae)<0&&(O.applyToRemoteDocument(be,C),be.isValidDocument()&&(be.setReadTime(C.commitVersion),S.addEntry(be)))})}),ce.next(()=>d.mutationQueue.removeMutationBatch(m,O))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=cn();for(let C=0;C<d.mutationResults.length;++C)d.mutationResults[C].transformResults.length>0&&(m=m.add(d.batch.mutations[C].key));return m}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function a2(n){const t=gt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Fs.getLastRemoteSnapshotVersion(e))}function fz(n,t){const e=gt(n),i=t.snapshotVersion;let r=e.Hi;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const d=e.Xi.newChangeBuffer({trackRemovals:!0});r=e.Hi;const m=[];t.targetChanges.forEach((O,W)=>{const ce=r.get(W);if(!ce)return;m.push(e.Fs.removeMatchingKeys(o,O.removedDocuments,W).next(()=>e.Fs.addMatchingKeys(o,O.addedDocuments,W)));let fe=ce.withSequenceNumber(o.currentSequenceNumber);var be,Ae,Ue;null!==t.targetMismatches.get(W)?fe=fe.withResumeToken(jr.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):O.resumeToken.approximateByteSize()>0&&(fe=fe.withResumeToken(O.resumeToken,i)),r=r.insert(W,fe),Ae=fe,Ue=O,(0===(be=ce).resumeToken.approximateByteSize()||Ae.snapshotVersion.toMicroseconds()-be.snapshotVersion.toMicroseconds()>=3e8||Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0)&&m.push(e.Fs.updateTargetData(o,fe))});let C=Io(),S=cn();if(t.documentUpdates.forEach(O=>{t.resolvedLimboDocuments.has(O)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(o,O))}),m.push(l2(o,d,t.documentUpdates).next(O=>{C=O.er,S=O.nr})),!i.isEqual(Nt.min())){const O=e.Fs.getLastRemoteSnapshotVersion(o).next(W=>e.Fs.setTargetsMetadata(o,o.currentSequenceNumber,i));m.push(O)}return Be.waitFor(m).next(()=>d.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,C,S)).next(()=>C)}).then(o=>(e.Hi=r,o))}function l2(n,t,e){let i=cn(),r=cn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let d=Io();return e.forEach((m,C)=>{const S=o.get(m);C.isFoundDocument()!==S.isFoundDocument()&&(r=r.add(m)),C.isNoDocument()&&C.version.isEqual(Nt.min())?(t.removeEntry(m,C.readTime),d=d.insert(m,C)):!S.isValidDocument()||C.version.compareTo(S.version)>0||0===C.version.compareTo(S.version)&&S.hasPendingWrites?(t.addEntry(C),d=d.insert(m,C)):et("LocalStore","Ignoring outdated watch update for ",m,". Current version:",S.version," Watch version:",C.version)}),{er:d,nr:r}})}function pz(n,t){const e=gt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function oy(n,t){const e=gt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Fs.getTargetData(i,t).next(o=>o?(r=o,Be.resolve(r)):e.Fs.allocateTargetId(i).next(d=>(r=new Ad(t,d,"TargetPurposeListen",i.currentSequenceNumber),e.Fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Hi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Hi=e.Hi.insert(i.targetId,i),e.Ji.set(t,i.targetId)),i})}function ay(n,t,e){return U1.apply(this,arguments)}function U1(){return U1=(0,Ve.Z)(function*(n,t,e){const i=gt(n),r=i.Hi.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,d=>i.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!af(d))throw d;et("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}i.Hi=i.Hi.remove(t),i.Ji.delete(r.target)}),U1.apply(this,arguments)}function hS(n,t,e){const i=gt(n);let r=Nt.min(),o=cn();return i.persistence.runTransaction("Execute query","readonly",d=>function(m,C,S){const O=gt(m),W=O.Ji.get(S);return void 0!==W?Be.resolve(O.Hi.get(W)):O.Fs.getTargetData(C,S)}(i,d,oo(t)).next(m=>{if(m)return r=m.lastLimboFreeSnapshotVersion,i.Fs.getMatchingKeysForTargetId(d,m.targetId).next(C=>{o=C})}).next(()=>i.Wi.getDocumentsMatchingQuery(d,t,e?r:Nt.min(),e?o:cn())).next(m=>(d2(i,zN(t),m),{documents:m,sr:o})))}function c2(n,t){const e=gt(n),i=gt(e.Fs),r=e.Hi.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.he(o,t).next(d=>d?d.target:null))}function u2(n,t){const e=gt(n),i=e.Yi.get(t)||Nt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Xi.getAllFromCollectionGroup(r,t,oN(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(d2(e,t,r),r))}function d2(n,t,e){let i=n.Yi.get(t)||Nt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Yi.set(t,i)}function j1(){return j1=(0,Ve.Z)(function*(n,t,e,i){const r=gt(n);let o=cn(),d=Io();for(const S of e){const O=t.ir(S.metadata.name);S.document&&(o=o.add(O));const W=t.rr(S);W.setReadTime(t.ur(S.metadata.readTime)),d=d.insert(O,W)}const m=r.Xi.newChangeBuffer({trackRemovals:!0}),C=yield oy(r,(S=i,oo(Q_(An.fromString(`__bundle__/docs/${S}`)))));var S;return r.persistence.runTransaction("Apply bundle documents","readwrite",S=>l2(S,m,d).next(O=>(m.apply(S),O)).next(O=>r.Fs.removeMatchingKeysForTargetId(S,C.targetId).next(()=>r.Fs.addMatchingKeys(S,o,C.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(S,O.er,O.nr)).next(()=>O.er)))}),j1.apply(this,arguments)}function gz(n,t){return z1.apply(this,arguments)}function z1(){return z1=(0,Ve.Z)(function*(n,t,e=cn()){const i=yield oy(n,oo(T1(t.bundledQuery))),r=gt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const d=vr(t.readTime);if(i.snapshotVersion.compareTo(d)>=0)return r.Ls.saveNamedQuery(o,t);const m=i.withResumeToken(jr.EMPTY_BYTE_STRING,d);return r.Hi=r.Hi.insert(m.targetId,m),r.Fs.updateTargetData(o,m).next(()=>r.Fs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Fs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ls.saveNamedQuery(o,t))})}),z1.apply(this,arguments)}function h2(n,t){return`firestore_clients_${n}_${t}`}function f2(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function G1(n,t){return`firestore_targets_${n}_${t}`}class fS{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static cr(t,e,i){const r=JSON.parse(i);let o,d="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(o=new Ke(r.error.code,r.error.message))),d?new fS(t,e,r.state,o):(yr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}ar(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ob{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static cr(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Ke(i.error.code,i.error.message))),o?new Ob(t,i.state,r):(yr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}ar(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class pS{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static cr(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=m1();for(let d=0;r&&d<i.activeTargetIds.length;++d)r=dN(i.activeTargetIds[d]),o=o.add(i.activeTargetIds[d]);return r?new pS(t,o):(yr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class $1{constructor(t,e){this.clientId=t,this.onlineState=e}static cr(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new $1(e.clientId,e.onlineState):(yr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class q1{constructor(){this.activeTargetIds=m1()}hr(t){this.activeTargetIds=this.activeTargetIds.add(t)}lr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ar(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class W1{constructor(t,e,i,r,o){this.window=t,this.si=e,this.persistenceKey=i,this.dr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new yi(tn),this.started=!1,this.gr=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.yr=h2(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new q1),this.Ir=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ve.Z)(function*(){const e=yield t.syncEngine.Mi();for(const r of e){if(r===t.dr)continue;const o=t.getItem(h2(t.persistenceKey,r));if(o){const d=pS.cr(r,o);d&&(t.mr=t.mr.insert(d.clientId,d))}}t.vr();const i=t.storage.getItem(t.Ar);if(i){const r=t.Pr(i);r&&t.br(r)}for(const r of t.gr)t.wr(r);t.gr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.pr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(t){let e=!1;return this.mr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Sr(t,"pending")}updateMutationState(t,e,i){this.Sr(t,e,i),this.Dr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(G1(this.persistenceKey,t));if(i){const r=Ob.cr(t,i);r&&(e=r.state)}}return this.Cr.hr(t),this.vr(),e}removeLocalQueryTarget(t){this.Cr.lr(t),this.vr()}isLocalQueryTarget(t){return this.Cr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(G1(this.persistenceKey,t))}updateQueryState(t,e,i){this.Nr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Dr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.kr(t)}notifyBundleLoaded(t){this.Mr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return et("SharedClientState","READ",t,e),e}setItem(t,e){et("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){et("SharedClientState","REMOVE",t),this.storage.removeItem(t)}wr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(et("SharedClientState","EVENT",i.key,i.newValue),i.key===this.yr)return void yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Ve.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ir.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.$r(r,null)}{const r=e.Fr(i.key,i.newValue);if(r)return e.$r(r.clientId,r)}}else if(e.Tr.test(i.key)){if(null!==i.newValue){const r=e.Br(i.key,i.newValue);if(r)return e.Lr(r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.qr(i.key,i.newValue);if(r)return e.Ur(r)}}else if(i.key===e.Ar){if(null!==i.newValue){const r=e.Pr(i.newValue);if(r)return e.br(r)}}else if(i.key===e.pr){const r=function(o){let d=Jo.ct;if(null!=o)try{const m=JSON.parse(o);Ot("number"==typeof m),d=m}catch(m){yr("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(i.newValue);r!==Jo.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Kr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Gr(o)))}}else e.gr.push(i)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(t,e,i){const r=new fS(this.currentUser,t,e,i),o=f2(this.persistenceKey,this.currentUser,t);this.setItem(o,r.ar())}Dr(t){const e=f2(this.persistenceKey,this.currentUser,t);this.removeItem(e)}kr(t){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:t}))}Nr(t,e,i){const r=G1(this.persistenceKey,t),o=new Ob(t,e,i);this.setItem(r,o.ar())}Mr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Ir.exec(t);return e?e[1]:null}Fr(t,e){const i=this.Or(t);return pS.cr(i,e)}Br(t,e){const i=this.Tr.exec(t),r=Number(i[1]);return fS.cr(new Qr(void 0!==i[2]?i[2]:null),r,e)}qr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return Ob.cr(r,e)}Pr(t){return $1.cr(t)}Kr(t){return JSON.parse(t)}Lr(t){var e=this;return(0,Ve.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Qr(t.batchId,t.state,t.error);et("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Ur(t){return this.syncEngine.jr(t.targetId,t.state,t.error)}$r(t,e){const i=e?this.mr.insert(t,e):this.mr.remove(t),r=this.Vr(this.mr),o=this.Vr(i),d=[],m=[];return o.forEach(C=>{r.has(C)||d.push(C)}),r.forEach(C=>{o.has(C)||m.push(C)}),this.syncEngine.zr(d,m).then(()=>{this.mr=i})}br(t){this.mr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Vr(t){let e=m1();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class p2{constructor(){this.Wr=new q1,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Wr.hr(t),this.Hr[t]||"not-current"}updateQueryState(t,e,i){this.Hr[t]=e}removeLocalQueryTarget(t){this.Wr.lr(t)}isLocalQueryTarget(t){return this.Wr.activeTargetIds.has(t)}clearQueryState(t){delete this.Hr[t]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(t){return this.Wr.activeTargetIds.has(t)}start(){return this.Wr=new q1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class _z{Jr(t){}shutdown(){}}class m2{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(t){this.no.push(t)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.no)t(0)}eo(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.no)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mS=null;function Z1(){return null===mS?mS=268435456+Math.round(2147483648*Math.random()):mS++,"0x"+mS.toString(16)}const yz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vz{constructor(t){this.io=t.io,this.ro=t.ro}oo(t){this.uo=t}co(t){this.ao=t}onMessage(t){this.ho=t}close(){this.ro()}send(t){this.io(t)}lo(){this.uo()}fo(t){this.ao(t)}_o(t){this.ho(t)}}const Us="WebChannelConnection";class bz extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.wo=(t.ssl?"https":"http")+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(t,e,i,r,o){const d=Z1(),m=this.Io(t,e);et("RestConnection",`Sending RPC '${t}' ${d}:`,m,i);const C={};return this.To(C,r,o),this.Eo(t,m,C,i).then(S=>(et("RestConnection",`Received RPC '${t}' ${d}: `,S),S),S=>{throw ja("RestConnection",`RPC '${t}' ${d} failed with error: `,S,"url: ",m,"request:",i),S})}Ao(t,e,i,r,o,d){return this.po(t,e,i,r,o)}To(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+$_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Io(t,e){return`${this.wo}/v1/${e}:${yz[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Eo(t,e,i,r){const o=Z1();return new Promise((d,m)=>{const C=new _U;C.setWithCredentials(!0),C.listenOnce(pU.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case YM.NO_ERROR:const O=C.getResponseJson();et(Us,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(O)),d(O);break;case YM.TIMEOUT:et(Us,`RPC '${t}' ${o} timed out`),m(new Ke(ze.DEADLINE_EXCEEDED,"Request time out"));break;case YM.HTTP_ERROR:const W=C.getStatus();if(et(Us,`RPC '${t}' ${o} failed with status:`,W,"response text:",C.getResponseText()),W>0){let ce=C.getResponseJson();Array.isArray(ce)&&(ce=ce[0]);const fe=ce?.error;if(fe&&fe.status&&fe.message){const be=function(Ae){const Ue=Ae.toLowerCase().replace(/_/g,"-");return Object.values(ze).indexOf(Ue)>=0?Ue:ze.UNKNOWN}(fe.status);m(new Ke(be,fe.message))}else m(new Ke(ze.UNKNOWN,"Server responded with status "+C.getStatus()))}else m(new Ke(ze.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{et(Us,`RPC '${t}' ${o} completed.`)}});const S=JSON.stringify(r);et(Us,`RPC '${t}' ${o} sending request:`,r),C.send(e,"POST",S,i,15)})}Ro(t,e,i){const r=Z1(),o=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=hU(),m=fU(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new gU({})),this.To(C.initMessageHeaders,e,i),C.encodeInitMessageHeaders=!0;const S=o.join("");et(Us,`Creating RPC '${t}' stream ${r}: ${S}`,C);const O=d.createWebChannel(S,C);let W=!1,ce=!1;const fe=new vz({io:Ae=>{ce?et(Us,`Not sending because RPC '${t}' stream ${r} is closed:`,Ae):(W||(et(Us,`Opening RPC '${t}' stream ${r} transport.`),O.open(),W=!0),et(Us,`RPC '${t}' stream ${r} sending:`,Ae),O.send(Ae))},ro:()=>O.close()}),be=(Ae,Ue,it)=>{Ae.listen(Ue,bt=>{try{it(bt)}catch(dt){setTimeout(()=>{throw dt},0)}})};return be(O,Fx.EventType.OPEN,()=>{ce||et(Us,`RPC '${t}' stream ${r} transport opened.`)}),be(O,Fx.EventType.CLOSE,()=>{ce||(ce=!0,et(Us,`RPC '${t}' stream ${r} transport closed`),fe.fo())}),be(O,Fx.EventType.ERROR,Ae=>{ce||(ce=!0,ja(Us,`RPC '${t}' stream ${r} transport errored:`,Ae),fe.fo(new Ke(ze.UNAVAILABLE,"The operation could not be completed")))}),be(O,Fx.EventType.MESSAGE,Ae=>{var Ue;if(!ce){const it=Ae.data[0];Ot(!!it);const bt=it,dt=bt.error||(null===(Ue=bt[0])||void 0===Ue?void 0:Ue.error);if(dt){et(Us,`RPC '${t}' stream ${r} received error:`,dt);const Mt=dt.status;let en=function(zn){const es=Mr[zn];if(void 0!==es)return lL(es)}(Mt),rn=dt.message;void 0===en&&(en=ze.INTERNAL,rn="Unknown error status: "+Mt+" with message "+dt.message),ce=!0,fe.fo(new Ke(en,rn)),O.close()}else et(Us,`RPC '${t}' stream ${r} received:`,it),fe._o(it)}}),be(m,mU.STAT_EVENT,Ae=>{Ae.stat===eN.PROXY?et(Us,`RPC '${t}' stream ${r} detected buffering proxy`):Ae.stat===eN.NOPROXY&&et(Us,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{fe.lo()},0),fe}}function g2(){return typeof window<"u"?window:null}function gS(){return typeof document<"u"?document:null}function Fb(n){return new Aj(n,!0)}class K1{constructor(t,e,i=1e3,r=1.5,o=6e4){this.si=t,this.timerId=e,this.vo=i,this.Po=r,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(t){this.cancel();const e=Math.floor(this.Vo+this.No()),i=Math.max(0,Date.now()-this.Do),r=Math.max(0,e-i);r>0&&et("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Vo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Do=Date.now(),t())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class _2{constructor(t,e,i,r,o,d,m,C){this.si=t,this.Mo=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=C,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new K1(t,e)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var t=this;return(0,Ve.Z)(function*(){t.qo()&&(yield t.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(t){this.Wo(),this.stream.send(t)}jo(){var t=this;return(0,Ve.Z)(function*(){if(t.Uo())return t.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(t,e){var i=this;return(0,Ve.Z)(function*(){i.Wo(),i.Ho(),i.Lo.cancel(),i.$o++,4!==t?i.Lo.reset():e&&e.code===ze.RESOURCE_EXHAUSTED?(yr(e.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),i.Lo.Co()):e&&e.code===ze.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Jo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.co(e)})()}Jo(){}auth(){this.state=1;const t=this.Yo(this.$o),e=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.$o===e&&this.Xo(i,r)},i=>{t(()=>{const r=new Ke(ze.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Zo(r)})})}Xo(t,e){const i=this.Yo(this.$o);this.stream=this.tu(t,e),this.stream.oo(()=>{i(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(r=>{i(()=>this.Zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Ko(){var t=this;this.state=5,this.Lo.xo((0,Ve.Z)(function*(){t.state=0,t.start()}))}Zo(t){return et("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Yo(t){return e=>{this.si.enqueueAndForget(()=>this.$o===t?e():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cz extends _2{constructor(t,e,i,r,o,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,d),this.serializer=o}tu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.Lo.reset();const e=function Rj(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(C=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:wt(),r=t.targetChange.targetIds||[],o=function(C,S){return C.useProto3Json?(Ot(void 0===S||"string"==typeof S),jr.fromBase64String(S||"")):(Ot(void 0===S||S instanceof Uint8Array),jr.fromUint8Array(S||new Uint8Array))}(n,t.targetChange.resumeToken),d=t.targetChange.cause,m=d&&function(C){const S=void 0===C.code?ze.UNKNOWN:lL(C.code);return new Ke(S,C.message||"")}(d);e=new fL(i,r,o,m||null)}else if("documentChange"in t){const i=t.documentChange,r=Xc(n,i.document.name),o=vr(i.document.updateTime),d=i.document.createTime?vr(i.document.createTime):Nt.min(),m=new Cs({mapValue:{fields:i.document.fields}}),C=Si.newFoundDocument(r,o,d,m);e=new eS(i.targetIds||[],i.removedTargetIds||[],C.key,C)}else if("documentDelete"in t){const i=t.documentDelete,r=Xc(n,i.document),o=i.readTime?vr(i.readTime):Nt.min(),d=Si.newNoDocument(r,o);e=new eS([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const i=t.documentRemove,r=Xc(n,i.document);e=new eS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return wt();{const i=t.filter,{count:r=0,unchangedNames:o}=i,d=new xj(r,o);e=new hL(i.targetId,d)}}var C;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return Nt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Nt.min():o.readTime?vr(o.readTime):Nt.min()}(t);return this.listener.eu(e,i)}nu(t){const e={};e.database=Sb(this.serializer),e.addTarget=function(r,o){let d;const m=o.target;if(d=qx(m)?{documents:wL(r,m)}:{query:I1(r,m)},d.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){d.resumeToken=_L(r,o.resumeToken);const C=E1(r,o.expectedCount);null!==C&&(d.expectedCount=C)}else if(o.snapshotVersion.compareTo(Nt.min())>0){d.readTime=ny(r,o.snapshotVersion.toTimestamp());const C=E1(r,o.expectedCount);null!==C&&(d.expectedCount=C)}return d}(this.serializer,t);const i=function Fj(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.zo(e)}su(t){const e={};e.database=Sb(this.serializer),e.removeTarget=t,this.zo(e)}}class Ez extends _2{constructor(t,e,i,r,o,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,d),this.serializer=o,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(Ot(!!t.streamToken),this.lastStreamToken=t.streamToken,this.iu){this.Lo.reset();const e=function Oj(n,t){return n&&n.length>0?(Ot(void 0!==t),n.map(e=>function(i,r){let o=vr(i.updateTime?i.updateTime:r);return o.isEqual(Nt.min())&&(o=vr(r)),new bj(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=vr(t.commitTime);return this.listener.uu(i,e)}return Ot(!t.writeResults||0===t.writeResults.length),this.iu=!0,this.listener.cu()}au(){const t={};t.database=Sb(this.serializer),this.zo(t)}ou(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Ib(this.serializer,i))};this.zo(e)}}class wz extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.hu=!1}lu(){if(this.hu)throw new Ke(ze.FAILED_PRECONDITION,"The client has already been terminated.")}po(t,e,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.po(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ke(ze.UNKNOWN,r.toString())})}Ao(t,e,i,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,d])=>this.connection.Ao(t,e,i,o,d,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(ze.UNKNOWN,o.toString())})}terminate(){this.hu=!0}}class Sz{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(t){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.gu("Offline")))}set(t){this.Iu(),this.du=0,"Online"===t&&(this.wu=!1),this.gu(t)}gu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}yu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(yr(e),this.wu=!1):et("OnlineStateTracker",e)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Iz{constructor(t,e,i,r,o){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=o,this.vu.Jr(m=>{i.enqueueAndForget((0,Ve.Z)(function*(){var C;vf(d)&&(et("RemoteStore","Restarting streams for network reachability change."),yield(C=(0,Ve.Z)(function*(S){const O=gt(S);O.Au.add(4),yield ly(O),O.Pu.set("Unknown"),O.Au.delete(4),yield Nb(O)}),function(S){return C.apply(this,arguments)})(d))}))}),this.Pu=new Sz(i,r)}}function Nb(n){return Q1.apply(this,arguments)}function Q1(){return Q1=(0,Ve.Z)(function*(n){if(vf(n))for(const t of n.Ru)yield t(!0)}),Q1.apply(this,arguments)}function ly(n){return X1.apply(this,arguments)}function X1(){return X1=(0,Ve.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),X1.apply(this,arguments)}function _S(n,t){const e=gt(n);e.Eu.has(t.targetId)||(e.Eu.set(t.targetId,t),tA(e)?eA(e):uy(e).Uo()&&J1(e,t))}function Lb(n,t){const e=gt(n),i=uy(e);e.Eu.delete(t),i.Uo()&&y2(e,t),0===e.Eu.size&&(i.Uo()?i.Qo():vf(e)&&e.Pu.set("Unknown"))}function J1(n,t){if(n.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}uy(n).nu(t)}function y2(n,t){n.bu.Lt(t),uy(n).su(t)}function eA(n){n.bu=new Ij({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),he:t=>n.Eu.get(t)||null,oe:()=>n.datastore.serializer.databaseId}),uy(n).start(),n.Pu.mu()}function tA(n){return vf(n)&&!uy(n).qo()&&n.Eu.size>0}function vf(n){return 0===gt(n).Au.size}function v2(n){n.bu=void 0}function Tz(n){return nA.apply(this,arguments)}function nA(){return nA=(0,Ve.Z)(function*(n){n.Eu.forEach((t,e)=>{J1(n,t)})}),nA.apply(this,arguments)}function Dz(n,t){return iA.apply(this,arguments)}function iA(){return iA=(0,Ve.Z)(function*(n,t){v2(n),tA(n)?(n.Pu.pu(t),eA(n)):n.Pu.set("Unknown")}),iA.apply(this,arguments)}function Mz(n,t,e){return rA.apply(this,arguments)}function rA(){return rA=(0,Ve.Z)(function*(n,t,e){if(n.Pu.set("Online"),t instanceof fL&&2===t.state&&t.cause)try{yield(i=(0,Ve.Z)(function*(r,o){const d=o.cause;for(const m of o.targetIds)r.Eu.has(m)&&(yield r.remoteSyncer.rejectListen(m,d),r.Eu.delete(m),r.bu.removeTarget(m))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){et("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield yS(n,i)}else if(t instanceof eS?n.bu.Wt(t):t instanceof hL?n.bu.ee(t):n.bu.Yt(t),!e.isEqual(Nt.min()))try{const i=yield a2(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const d=r.bu.ue(o);return d.targetChanges.forEach((m,C)=>{if(m.resumeToken.approximateByteSize()>0){const S=r.Eu.get(C);S&&r.Eu.set(C,S.withResumeToken(m.resumeToken,o))}}),d.targetMismatches.forEach((m,C)=>{const S=r.Eu.get(m);if(!S)return;r.Eu.set(m,S.withResumeToken(jr.EMPTY_BYTE_STRING,S.snapshotVersion)),y2(r,m);const O=new Ad(S.target,m,C,S.sequenceNumber);J1(r,O)}),r.remoteSyncer.applyRemoteEvent(d)}(n,e))}catch(i){et("RemoteStore","Failed to raise snapshot:",i),yield yS(n,i)}var i}),rA.apply(this,arguments)}function yS(n,t,e){return sA.apply(this,arguments)}function sA(){return sA=(0,Ve.Z)(function*(n,t,e){if(!af(t))throw t;n.Au.add(1),yield ly(n),n.Pu.set("Offline"),e||(e=()=>a2(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ve.Z)(function*(){et("RemoteStore","Retrying IndexedDB access"),yield e(),n.Au.delete(1),yield Nb(n)}))}),sA.apply(this,arguments)}function b2(n,t){return t().catch(e=>yS(n,e,t))}function cy(n){return oA.apply(this,arguments)}function oA(){return oA=(0,Ve.Z)(function*(n){const t=gt(n),e=bf(t);let i=t.Tu.length>0?t.Tu[t.Tu.length-1].batchId:-1;for(;Az(t);)try{const r=yield pz(t.localStore,i);if(null===r){0===t.Tu.length&&e.Qo();break}i=r.batchId,kz(t,r)}catch(r){yield yS(t,r)}C2(t)&&E2(t)}),oA.apply(this,arguments)}function Az(n){return vf(n)&&n.Tu.length<10}function kz(n,t){n.Tu.push(t);const e=bf(n);e.Uo()&&e.ru&&e.ou(t.mutations)}function C2(n){return vf(n)&&!bf(n).qo()&&n.Tu.length>0}function E2(n){bf(n).start()}function Pz(n){return aA.apply(this,arguments)}function aA(){return aA=(0,Ve.Z)(function*(n){bf(n).au()}),aA.apply(this,arguments)}function Rz(n){return lA.apply(this,arguments)}function lA(){return lA=(0,Ve.Z)(function*(n){const t=bf(n);for(const e of n.Tu)t.ou(e.mutations)}),lA.apply(this,arguments)}function Oz(n,t,e){return cA.apply(this,arguments)}function cA(){return cA=(0,Ve.Z)(function*(n,t,e){const i=n.Tu.shift(),r=y1.from(i,t,e);yield b2(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield cy(n)}),cA.apply(this,arguments)}function Fz(n,t){return uA.apply(this,arguments)}function uA(){return uA=(0,Ve.Z)(function*(n,t){var e;t&&bf(n).ru&&(yield(e=(0,Ve.Z)(function*(i,r){if(aL(o=r.code)&&o!==ze.ABORTED){const d=i.Tu.shift();bf(i).Go(),yield b2(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,r)),yield cy(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),C2(n)&&E2(n)}),uA.apply(this,arguments)}function w2(n,t){return dA.apply(this,arguments)}function dA(){return dA=(0,Ve.Z)(function*(n,t){const e=gt(n);e.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const i=vf(e);e.Au.add(3),yield ly(e),i&&e.Pu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.Au.delete(3),yield Nb(e)}),dA.apply(this,arguments)}function hA(n,t){return fA.apply(this,arguments)}function fA(){return fA=(0,Ve.Z)(function*(n,t){const e=gt(n);t?(e.Au.delete(2),yield Nb(e)):t||(e.Au.add(2),yield ly(e),e.Pu.set("Unknown"))}),fA.apply(this,arguments)}function uy(n){return n.Vu||(n.Vu=function(t,e,i){const r=gt(t);return r.lu(),new Cz(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:Tz.bind(null,n),co:Dz.bind(null,n),eu:Mz.bind(null,n)}),n.Ru.push(function(){var t=(0,Ve.Z)(function*(e){e?(n.Vu.Go(),tA(n)?eA(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),v2(n))});return function(e){return t.apply(this,arguments)}}())),n.Vu}function bf(n){return n.Su||(n.Su=function(t,e,i){const r=gt(t);return r.lu(),new Ez(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:Pz.bind(null,n),co:Fz.bind(null,n),cu:Rz.bind(null,n),uu:Oz.bind(null,n)}),n.Ru.push(function(){var t=(0,Ve.Z)(function*(e){e?(n.Su.Go(),yield cy(n)):(yield n.Su.stop(),n.Tu.length>0&&(et("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Su}class pA{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(t,e,i,r,o){const d=Date.now()+i,m=new pA(t,e,d,r,o);return m.start(i),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ke(ze.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(n,t){if(yr("AsyncQueue",`${t}: ${n}`),af(n))return new Ke(ze.UNAVAILABLE,`${t}: ${n}`);throw n}class hy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||ut.comparator(e.key,i.key):(e,i)=>ut.comparator(e.key,i.key),this.keyedMap=_b(),this.sortedSet=new yi(this.comparator)}static emptySet(t){return new hy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof hy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new hy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class x2{constructor(){this.Du=new yi(ut.comparator)}track(t){const e=t.doc.key,i=this.Du.get(e);i?0!==t.type&&3===i.type?this.Du=this.Du.insert(e,t):3===t.type&&1!==i.type?this.Du=this.Du.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Du=this.Du.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Du=this.Du.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Du=this.Du.remove(e):1===t.type&&2===i.type?this.Du=this.Du.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Du=this.Du.insert(e,{type:2,doc:t.doc}):wt():this.Du=this.Du.insert(e,t)}Cu(){const t=[];return this.Du.inorderTraversal((e,i)=>{t.push(i)}),t}}class fy{constructor(t,e,i,r,o,d,m,C,S){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=C,this.hasCachedResults=S}static fromInitialDocuments(t,e,i,r,o){const d=[];return e.forEach(m=>{d.push({type:0,doc:m})}),new fy(t,e,hy.emptySet(e),d,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Nz{constructor(){this.xu=void 0,this.listeners=[]}}class Lz{constructor(){this.queries=new Dd(t=>jN(t),mb),this.onlineState="Unknown",this.Nu=new Set}}function mA(n,t){return gA.apply(this,arguments)}function gA(){return gA=(0,Ve.Z)(function*(n,t){const e=gt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new Nz),r)try{o.xu=yield e.onListen(i)}catch(d){const m=dy(d,`Initialization of query '${p1(t.query)}' failed`);return void t.onError(m)}e.queries.set(i,o),o.listeners.push(t),t.ku(e.onlineState),o.xu&&t.Mu(o.xu)&&vA(e)}),gA.apply(this,arguments)}function _A(n,t){return yA.apply(this,arguments)}function yA(){return yA=(0,Ve.Z)(function*(n,t){const e=gt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const d=o.listeners.indexOf(t);d>=0&&(o.listeners.splice(d,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),yA.apply(this,arguments)}function Bz(n,t){const e=gt(n);let i=!1;for(const r of t){const d=e.queries.get(r.query);if(d){for(const m of d.listeners)m.Mu(r)&&(i=!0);d.xu=r}}i&&vA(e)}function Vz(n,t,e){const i=gt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function vA(n){n.Nu.forEach(t=>{t.next()})}class bA{constructor(t,e,i){this.query=t,this.Ou=e,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=i||{}}Mu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new fy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.$u?this.Bu(t)&&(this.Ou.next(t),e=!0):this.Lu(t,this.onlineState)&&(this.qu(t),e=!0),this.Fu=t,e}onError(t){this.Ou.error(t)}ku(t){this.onlineState=t;let e=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,t)&&(this.qu(this.Fu),e=!0),e}Lu(t,e){return!t.fromCache||(!this.options.Uu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Bu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(t){t=fy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.$u=!0,this.Ou.next(t)}}class Hz{constructor(t,e){this.Ku=t,this.byteLength=e}Gu(){return"metadata"in this.Ku}}class S2{constructor(t){this.serializer=t}ir(t){return Xc(this.serializer,t)}rr(t){return t.metadata.exists?EL(this.serializer,t.document,!1):Si.newNoDocument(this.ir(t.metadata.name),this.ur(t.metadata.readTime))}ur(t){return vr(t)}}class Uz{constructor(t,e,i){this.Qu=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=I2(t)}ju(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Ku.namedQuery)this.queries.push(t.Ku.namedQuery);else if(t.Ku.documentMetadata){this.documents.push({metadata:t.Ku.documentMetadata}),t.Ku.documentMetadata.exists||++e;const i=An.fromString(t.Ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Ku.document&&(this.documents[this.documents.length-1].document=t.Ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}zu(t){const e=new Map,i=new S2(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.ir(r.metadata.name);for(const d of r.metadata.queries){const m=(e.get(d)||cn()).add(o);e.set(d,m)}}return e}complete(){var t=this;return(0,Ve.Z)(function*(){const e=yield function mz(n,t,e,i){return j1.apply(this,arguments)}(t.localStore,new S2(t.serializer),t.documents,t.Qu.id),i=t.zu(t.documents);for(const r of t.queries)yield gz(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Wu:t.collectionGroups,Hu:e}})()}}function I2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class T2{constructor(t){this.key=t}}class D2{constructor(t){this.key=t}}class M2{constructor(t,e){this.query=t,this.Ju=e,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=cn(),this.mutatedKeys=cn(),this.Zu=GN(t),this.tc=new hy(this.Zu)}get ec(){return this.Ju}nc(t,e){const i=e?e.sc:new x2,r=e?e.tc:this.tc;let o=e?e.mutatedKeys:this.mutatedKeys,d=r,m=!1;const C="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,S="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((O,W)=>{const ce=r.get(O),fe=gb(this.query,W)?W:null,be=!!ce&&this.mutatedKeys.has(ce.key),Ae=!!fe&&(fe.hasLocalMutations||this.mutatedKeys.has(fe.key)&&fe.hasCommittedMutations);let Ue=!1;ce&&fe?ce.data.isEqual(fe.data)?be!==Ae&&(i.track({type:3,doc:fe}),Ue=!0):this.ic(ce,fe)||(i.track({type:2,doc:fe}),Ue=!0,(C&&this.Zu(fe,C)>0||S&&this.Zu(fe,S)<0)&&(m=!0)):!ce&&fe?(i.track({type:0,doc:fe}),Ue=!0):ce&&!fe&&(i.track({type:1,doc:ce}),Ue=!0,(C||S)&&(m=!0)),Ue&&(fe?(d=d.add(fe),o=Ae?o.add(O):o.delete(O)):(d=d.delete(O),o=o.delete(O)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const O="F"===this.query.limitType?d.last():d.first();d=d.delete(O.key),o=o.delete(O.key),i.track({type:1,doc:O})}return{tc:d,sc:i,ji:m,mutatedKeys:o}}ic(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.tc;this.tc=t.tc,this.mutatedKeys=t.mutatedKeys;const o=t.sc.Cu();o.sort((S,O)=>function(W,ce){const fe=be=>{switch(be){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return fe(W)-fe(ce)}(S.type,O.type)||this.Zu(S.doc,O.doc)),this.rc(i);const d=e?this.oc():[],m=0===this.Xu.size&&this.current?1:0,C=m!==this.Yu;return this.Yu=m,0!==o.length||C?{snapshot:new fy(this.query,t.tc,r,o,t.mutatedKeys,0===m,C,!1,!!i&&i.resumeToken.approximateByteSize()>0),uc:d}:{uc:d}}ku(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({tc:this.tc,sc:new x2,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(t){return!this.Ju.has(t)&&!!this.tc.has(t)&&!this.tc.get(t).hasLocalMutations}rc(t){t&&(t.addedDocuments.forEach(e=>this.Ju=this.Ju.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ju=this.Ju.delete(e)),this.current=t.current)}oc(){if(!this.current)return[];const t=this.Xu;this.Xu=cn(),this.tc.forEach(i=>{this.cc(i.key)&&(this.Xu=this.Xu.add(i.key))});const e=[];return t.forEach(i=>{this.Xu.has(i)||e.push(new D2(i))}),this.Xu.forEach(i=>{t.has(i)||e.push(new T2(i))}),e}ac(t){this.Ju=t.sr,this.Xu=cn();const e=this.nc(t.documents);return this.applyChanges(e,!0)}hc(){return fy.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class jz{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class zz{constructor(t){this.key=t,this.lc=!1}}class Gz{constructor(t,e,i,r,o,d){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=d,this.fc={},this.dc=new Dd(m=>jN(m),mb),this._c=new Map,this.wc=new Set,this.mc=new yi(ut.comparator),this.gc=new Map,this.yc=new O1,this.Ic={},this.Tc=new Map,this.Ec=Hm.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function $z(n,t){return CA.apply(this,arguments)}function CA(){return CA=(0,Ve.Z)(function*(n,t){const e=GA(n);let i,r;const o=e.dc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.hc();else{const d=yield oy(e.localStore,oo(t)),m=e.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,r=yield EA(e,t,i,"current"===m,d.resumeToken),e.isPrimaryClient&&_S(e.remoteStore,d)}return r}),CA.apply(this,arguments)}function EA(n,t,e,i,r){return wA.apply(this,arguments)}function wA(){return wA=(0,Ve.Z)(function*(n,t,e,i,r){n.Rc=(W,ce,fe)=>{return(be=(0,Ve.Z)(function*(Ae,Ue,it,bt){let dt=Ue.view.nc(it);dt.ji&&(dt=yield hS(Ae.localStore,Ue.query,!1).then(({documents:rn})=>Ue.view.nc(rn,dt)));const Mt=bt&&bt.targetChanges.get(Ue.targetId),en=Ue.view.applyChanges(dt,Ae.isPrimaryClient,Mt);return RA(Ae,Ue.targetId,en.uc),en.snapshot}),function(Ae,Ue,it,bt){return be.apply(this,arguments)})(n,W,ce,fe);var be};const o=yield hS(n.localStore,t,!0),d=new M2(t,o.sr),m=d.nc(o.documents),C=wb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),S=d.applyChanges(m,n.isPrimaryClient,C);RA(n,e,S.uc);const O=new jz(t,e,d);return n.dc.set(t,O),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),S.snapshot}),wA.apply(this,arguments)}function qz(n,t){return xA.apply(this,arguments)}function xA(){return xA=(0,Ve.Z)(function*(n,t){const e=gt(n),i=e.dc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(o=>!mb(o,t))),void e.dc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ay(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Lb(e.remoteStore,i.targetId),py(e,i.targetId)}).catch(sf))):(py(e,i.targetId),yield ay(e.localStore,i.targetId,!0))}),xA.apply(this,arguments)}function SA(){return SA=(0,Ve.Z)(function*(n,t,e){const i=$A(n);try{const r=yield function(o,d){const m=gt(o),C=Li.now(),S=d.reduce((ce,fe)=>ce.add(fe.key),cn());let O,W;return m.persistence.runTransaction("Locally write mutations","readwrite",ce=>{let fe=Io(),be=cn();return m.Xi.getEntries(ce,S).next(Ae=>{fe=Ae,fe.forEach((Ue,it)=>{it.isValidDocument()||(be=be.add(Ue))})}).next(()=>m.localDocuments.getOverlayedDocuments(ce,fe)).next(Ae=>{O=Ae;const Ue=[];for(const it of d){const bt=Ej(it,O.get(it.key).overlayedDocument);null!=bt&&Ue.push(new Md(it.key,bt,DN(bt.value.mapValue),Bi.exists(!0)))}return m.mutationQueue.addMutationBatch(ce,C,Ue,d)}).next(Ae=>{W=Ae;const Ue=Ae.applyToLocalDocumentSet(O,be);return m.documentOverlayCache.saveOverlays(ce,Ae.batchId,Ue)})}).then(()=>({batchId:W.batchId,changes:qN(O)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,d,m){let C=o.Ic[o.currentUser.toKey()];C||(C=new yi(tn)),C=C.insert(d,m),o.Ic[o.currentUser.toKey()]=C}(i,r.batchId,e),yield kd(i,r.changes),yield cy(i.remoteStore)}catch(r){const o=dy(r,"Failed to persist write");e.reject(o)}}),SA.apply(this,arguments)}function A2(n,t){return IA.apply(this,arguments)}function IA(){return IA=(0,Ve.Z)(function*(n,t){const e=gt(n);try{const i=yield fz(e.localStore,t);t.targetChanges.forEach((r,o)=>{const d=e.gc.get(o);d&&(Ot(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.lc=!0:r.modifiedDocuments.size>0?Ot(d.lc):r.removedDocuments.size>0&&(Ot(d.lc),d.lc=!1))}),yield kd(e,i,t)}catch(i){yield sf(i)}}),IA.apply(this,arguments)}function k2(n,t,e){const i=gt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.dc.forEach((o,d)=>{const m=d.view.ku(t);m.snapshot&&r.push(m.snapshot)}),function(o,d){const m=gt(o);m.onlineState=d;let C=!1;m.queries.forEach((S,O)=>{for(const W of O.listeners)W.ku(d)&&(C=!0)}),C&&vA(m)}(i.eventManager,t),r.length&&i.fc.eu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Zz(n,t,e){return TA.apply(this,arguments)}function TA(){return TA=(0,Ve.Z)(function*(n,t,e){const i=gt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.gc.get(t),o=r&&r.key;if(o){let d=new yi(ut.comparator);d=d.insert(o,Si.newNoDocument(o,Nt.min()));const m=cn().add(o),C=new Eb(Nt.min(),new Map,new yi(tn),d,m);yield A2(i,C),i.mc=i.mc.remove(o),i.gc.delete(t),OA(i)}else yield ay(i.localStore,t,!1).then(()=>py(i,t,e)).catch(sf)}),TA.apply(this,arguments)}function Kz(n,t){return DA.apply(this,arguments)}function DA(){return DA=(0,Ve.Z)(function*(n,t){const e=gt(n),i=t.batch.batchId;try{const r=yield hz(e.localStore,t);PA(e,i,null),kA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield kd(e,r)}catch(r){yield sf(r)}}),DA.apply(this,arguments)}function Yz(n,t,e){return MA.apply(this,arguments)}function MA(){return MA=(0,Ve.Z)(function*(n,t,e){const i=gt(n);try{const r=yield function(o,d){const m=gt(o);return m.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let S;return m.mutationQueue.lookupMutationBatch(C,d).next(O=>(Ot(null!==O),S=O.keys(),m.mutationQueue.removeMutationBatch(C,O))).next(()=>m.mutationQueue.performConsistencyCheck(C)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(C,S,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(C,S)).next(()=>m.localDocuments.getDocuments(C,S))})}(i.localStore,t);PA(i,t,e),kA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield kd(i,r)}catch(r){yield sf(r)}}),MA.apply(this,arguments)}function AA(){return AA=(0,Ve.Z)(function*(n,t){const e=gt(n);vf(e.remoteStore)||et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const d=gt(o);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Tc.get(i)||[];r.push(t),e.Tc.set(i,r)}catch(i){const r=dy(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),AA.apply(this,arguments)}function kA(n,t){(n.Tc.get(t)||[]).forEach(e=>{e.resolve()}),n.Tc.delete(t)}function PA(n,t,e){const i=gt(n);let r=i.Ic[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ic[i.currentUser.toKey()]=r}}function py(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.dc.delete(i),e&&n.fc.vc(i,e);n._c.delete(t),n.isPrimaryClient&&n.yc.ps(t).forEach(i=>{n.yc.containsKey(i)||P2(n,i)})}function P2(n,t){n.wc.delete(t.path.canonicalString());const e=n.mc.get(t);null!==e&&(Lb(n.remoteStore,e),n.mc=n.mc.remove(t),n.gc.delete(e),OA(n))}function RA(n,t,e){for(const i of e)i instanceof T2?(n.yc.addReference(i.key,t),Xz(n,i)):i instanceof D2?(et("SyncEngine","Document no longer in limbo: "+i.key),n.yc.removeReference(i.key,t),n.yc.containsKey(i.key)||P2(n,i.key)):wt()}function Xz(n,t){const e=t.key,i=e.path.canonicalString();n.mc.get(e)||n.wc.has(i)||(et("SyncEngine","New document in limbo: "+e),n.wc.add(i),OA(n))}function OA(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const t=n.wc.values().next().value;n.wc.delete(t);const e=new ut(An.fromString(t)),i=n.Ec.next();n.gc.set(i,new zz(e)),n.mc=n.mc.insert(e,i),_S(n.remoteStore,new Ad(oo(Q_(e.path)),i,"TargetPurposeLimboResolution",Jo.ct))}}function kd(n,t,e){return FA.apply(this,arguments)}function FA(){return FA=(0,Ve.Z)(function*(n,t,e){const i=gt(n),r=[],o=[],d=[];var m;i.dc.isEmpty()||(i.dc.forEach((m,C)=>{d.push(i.Rc(C,t,e).then(S=>{if((S||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(C.targetId,S?.fromCache?"not-current":"current"),S){r.push(S);const O=V1.Bi(C.targetId,S);o.push(O)}}))}),yield Promise.all(d),i.fc.eu(r),yield(m=(0,Ve.Z)(function*(C,S){const O=gt(C);try{yield O.persistence.runTransaction("notifyLocalViewChanges","readwrite",W=>Be.forEach(S,ce=>Be.forEach(ce.$i,fe=>O.persistence.referenceDelegate.addReference(W,ce.targetId,fe)).next(()=>Be.forEach(ce.Fi,fe=>O.persistence.referenceDelegate.removeReference(W,ce.targetId,fe)))))}catch(W){if(!af(W))throw W;et("LocalStore","Failed to update sequence numbers: "+W)}for(const W of S){const ce=W.targetId;if(!W.fromCache){const fe=O.Hi.get(ce),Ae=fe.withLastLimboFreeSnapshotVersion(fe.snapshotVersion);O.Hi=O.Hi.insert(ce,Ae)}}}),function(C,S){return m.apply(this,arguments)})(i.localStore,o))}),FA.apply(this,arguments)}function Jz(n,t){return NA.apply(this,arguments)}function NA(){return NA=(0,Ve.Z)(function*(n,t){const e=gt(n);if(!e.currentUser.isEqual(t)){et("SyncEngine","User change. New user:",t.toKey());const i=yield o2(e.localStore,t);e.currentUser=t,(r=e).Tc.forEach(d=>{d.forEach(m=>{m.reject(new Ke(ze.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Tc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield kd(e,i.tr)}var r}),NA.apply(this,arguments)}function e4(n,t){const e=gt(n),i=e.gc.get(t);if(i&&i.lc)return cn().add(i.key);{let r=cn();const o=e._c.get(t);if(!o)return r;for(const d of o){const m=e.dc.get(d);r=r.unionWith(m.view.ec)}return r}}function t4(n,t){return LA.apply(this,arguments)}function LA(){return LA=(0,Ve.Z)(function*(n,t){const e=gt(n),i=yield hS(e.localStore,t.query,!0),r=t.view.ac(i);return e.isPrimaryClient&&RA(e,t.targetId,r.uc),r}),LA.apply(this,arguments)}function n4(n,t){return BA.apply(this,arguments)}function BA(){return BA=(0,Ve.Z)(function*(n,t){const e=gt(n);return u2(e.localStore,t).then(i=>kd(e,i))}),BA.apply(this,arguments)}function r4(n,t,e,i){return VA.apply(this,arguments)}function VA(){return VA=(0,Ve.Z)(function*(n,t,e,i){const r=gt(n),o=yield function(d,m){const C=gt(d),S=gt(C.mutationQueue);return C.persistence.runTransaction("Lookup mutation documents","readonly",O=>S.Vn(O,m).next(W=>W?C.localDocuments.getDocuments(O,W):Be.resolve(null)))}(r.localStore,t);var m;null!==o?("pending"===e?yield cy(r.remoteStore):"acknowledged"===e||"rejected"===e?(PA(r,t,i||null),kA(r,t),m=t,gt(gt(r.localStore).mutationQueue).Dn(m)):wt(),yield kd(r,o)):et("SyncEngine","Cannot apply mutation batch with id: "+t)}),VA.apply(this,arguments)}function HA(){return HA=(0,Ve.Z)(function*(n,t){const e=gt(n);if(GA(e),$A(e),!0===t&&!0!==e.Ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield R2(e,i.toArray());e.Ac=!0,yield hA(e.remoteStore,!0);for(const o of r)_S(e.remoteStore,o)}else if(!1===t&&!1!==e.Ac){const i=[];let r=Promise.resolve();e._c.forEach((o,d)=>{e.sharedClientState.isLocalQueryTarget(d)?i.push(d):r=r.then(()=>(py(e,d),ay(e.localStore,d,!0))),Lb(e.remoteStore,d)}),yield r,yield R2(e,i),function(o){const d=gt(o);d.gc.forEach((m,C)=>{Lb(d.remoteStore,C)}),d.yc.Is(),d.gc=new Map,d.mc=new yi(ut.comparator)}(e),e.Ac=!1,yield hA(e.remoteStore,!1)}}),HA.apply(this,arguments)}function R2(n,t,e){return UA.apply(this,arguments)}function UA(){return UA=(0,Ve.Z)(function*(n,t,e){const i=gt(n),r=[],o=[];for(const d of t){let m;const C=i._c.get(d);if(C&&0!==C.length){m=yield oy(i.localStore,oo(C[0]));for(const S of C){const O=i.dc.get(S),W=yield t4(i,O);W.snapshot&&o.push(W.snapshot)}}else{const S=yield c2(i.localStore,d);m=yield oy(i.localStore,S),yield EA(i,O2(S),d,!1,m.resumeToken)}r.push(m)}return i.fc.eu(o),r}),UA.apply(this,arguments)}function O2(n){return HN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function o4(n){const t=gt(n);return gt(gt(t.localStore).persistence).Mi()}function a4(n,t,e,i){return jA.apply(this,arguments)}function jA(){return jA=(0,Ve.Z)(function*(n,t,e,i){const r=gt(n);if(r.Ac)return void et("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const d=yield u2(r.localStore,zN(o[0])),m=Eb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,jr.EMPTY_BYTE_STRING);yield kd(r,d,m);break}case"rejected":yield ay(r.localStore,t,!0),py(r,t,i);break;default:wt()}}),jA.apply(this,arguments)}function l4(n,t,e){return zA.apply(this,arguments)}function zA(){return zA=(0,Ve.Z)(function*(n,t,e){const i=GA(n);if(i.Ac){for(const r of t){if(i._c.has(r)){et("SyncEngine","Adding an already active target "+r);continue}const o=yield c2(i.localStore,r),d=yield oy(i.localStore,o);yield EA(i,O2(o),d.targetId,!1,d.resumeToken),_S(i.remoteStore,d)}for(const r of e)i._c.has(r)&&(yield ay(i.localStore,r,!1).then(()=>{Lb(i.remoteStore,r),py(i,r)}).catch(sf))}}),zA.apply(this,arguments)}function GA(n){const t=gt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=A2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=e4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zz.bind(null,t),t.fc.eu=Bz.bind(null,t.eventManager),t.fc.vc=Vz.bind(null,t.eventManager),t}function $A(n){const t=gt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Kz.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Yz.bind(null,t),t}class Bb{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ve.Z)(function*(){e.serializer=Fb(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return s2(this.persistence,new r2,t.initialUser,this.serializer)}createPersistence(t){return new F1(cS.js,this.serializer)}createSharedClientState(t){return new p2}terminate(){var t=this;return(0,Ve.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class qA extends Bb{constructor(t,e,i){super(),this.bc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ve.Z)(function*(){yield e().call(i,t),yield i.bc.initialize(i,t),yield $A(i.bc.syncEngine),yield cy(i.bc.remoteStore),yield i.persistence.pi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return s2(this.persistence,new r2,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new ZL(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new OU(e,this.persistence);return new RU(t.asyncQueue,i)}createPersistence(t){const e=B1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Hs.withCacheSize(this.cacheSizeBytes):Hs.DEFAULT;return new L1(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,g2(),gS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new p2}}class F2 extends qA{constructor(t,e){super(t,e,!1),this.bc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ve.Z)(function*(){yield e().call(i,t);const r=i.bc.syncEngine;i.sharedClientState instanceof W1&&(i.sharedClientState.syncEngine={Qr:r4.bind(null,r),jr:a4.bind(null,r),zr:l4.bind(null,r),Mi:o4.bind(null,r),Gr:n4.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.pi(function(){var o=(0,Ve.Z)(function*(d){yield function s4(n,t){return HA.apply(this,arguments)}(i.bc.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start():d||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(d&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():d||i.indexBackfillerScheduler.stop())});return function(d){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=g2();if(!W1.D(e))throw new Ke(ze.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=B1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new W1(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class my{initialize(t,e){var i=this;return(0,Ve.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>k2(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Jz.bind(null,i.syncEngine),yield hA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Lz}createDatastore(t){const e=Fb(t.databaseInfo.databaseId),i=new bz(t.databaseInfo);return new wz(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=m=>k2(this.syncEngine,m,0),d=m2.D()?new m2:new _z,new Iz(e,i,r,o,d);var e,i,r,o,d}createSyncEngine(t,e){return function(i,r,o,d,m,C,S){const O=new Gz(i,r,o,d,m,C);return S&&(O.Ac=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ve.Z)(function*(e){const i=gt(e);et("RemoteStore","RemoteStore shutting down."),i.Au.add(5),yield ly(i),i.vu.shutdown(),i.Pu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function N2(n,t=10240){let e=0;return{read:()=>(0,Ve.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ve.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class vS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Vc(this.observer.next,t)}error(t){this.observer.error?this.Vc(this.observer.error,t):yr("Uncaught Error in snapshot listener:",t.toString())}Sc(){this.muted=!0}Vc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class d4{constructor(t,e){this.Dc=t,this.serializer=e,this.metadata=new Ur,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(i=>{i&&i.Gu()?this.metadata.resolve(i.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Ku)}`))},i=>this.metadata.reject(i))}close(){return this.Dc.cancel()}getMetadata(){var t=this;return(0,Ve.Z)(function*(){return t.metadata.promise})()}Pc(){var t=this;return(0,Ve.Z)(function*(){return yield t.getMetadata(),t.xc()})()}xc(){var t=this;return(0,Ve.Z)(function*(){const e=yield t.Nc();if(null===e)return null;const i=t.Cc.decode(e),r=Number(i);isNaN(r)&&t.kc(`length string (${i}) is not valid number`);const o=yield t.Mc(r);return new Hz(JSON.parse(o),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Nc(){var t=this;return(0,Ve.Z)(function*(){for(;t.Oc()<0&&!(yield t.$c()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.kc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Mc(t){var e=this;return(0,Ve.Z)(function*(){for(;e.buffer.length<t;)(yield e.$c())&&e.kc("Reached the end of bundle when more is expected.");const i=e.Cc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}kc(t){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${t}`)}$c(){var t=this;return(0,Ve.Z)(function*(){const e=yield t.Dc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class h4{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ke(ze.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ve.Z)(function*(o,d){const m=gt(o),C=Sb(m.serializer)+"/documents",S={documents:d.map(fe=>xb(m.serializer,fe))},O=yield m.Ao("BatchGetDocuments",C,S,d.length),W=new Map;O.forEach(fe=>{const be=function Pj(n,t){return"found"in t?function(e,i){Ot(!!i.found);const r=Xc(e,i.found.name),o=vr(i.found.updateTime),d=i.found.createTime?vr(i.found.createTime):Nt.min(),m=new Cs({mapValue:{fields:i.found.fields}});return Si.newFoundDocument(r,o,d,m)}(n,t):"missing"in t?function(e,i){Ot(!!i.missing),Ot(!!i.readTime);const r=Xc(e,i.missing),o=vr(i.readTime);return Si.newNoDocument(r,o)}(n,t):wt()}(m.serializer,fe);W.set(be.key.toString(),be)});const ce=[];return d.forEach(fe=>{const be=W.get(fe.toString());Ot(!!be),ce.push(be)}),ce}),function(o,d){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new ty(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=ut.fromPath(r);t.mutations.push(new g1(o,t.precondition(o)))}),yield(i=(0,Ve.Z)(function*(r,o){const d=gt(r),m=Sb(d.serializer)+"/documents",C={writes:o.map(S=>Ib(d.serializer,S))};yield d.po("Commit",m,C)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw wt();e=Nt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ke(ze.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Nt.min())?Bi.exists(!1):Bi.updateTime(e):Bi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Nt.min()))throw new Ke(ze.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bi.updateTime(e)}return Bi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class f4{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Fc=i.maxAttempts,this.Lo=new K1(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var t=this;this.Lo.xo((0,Ve.Z)(function*(){const e=new h4(t.datastore),i=t.Lc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.qc(o)}))}).catch(r=>{t.qc(r)})}))}Lc(t){try{const e=this.updateFunction(t);return!lb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}qc(t){this.Fc>0&&this.Uc(t)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(t)}Uc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!aL(e)}return!1}}class p4{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Qr.UNAUTHENTICATED,this.clientId=rN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,Ve.Z)(function*(m){et("FirestoreClient","Received user=",m.uid),yield o.authCredentialListener(m),o.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(et("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var t=this;return(0,Ve.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ke(ze.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ve.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=dy(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function bS(n,t){return WA.apply(this,arguments)}function WA(){return WA=(0,Ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ve.Z)(function*(o){i.isEqual(o)||(yield o2(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),WA.apply(this,arguments)}function ZA(n,t){return KA.apply(this,arguments)}function KA(){return KA=(0,Ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield YA(n);et("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>w2(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>w2(t.remoteStore,o)),n._onlineComponents=t}),KA.apply(this,arguments)}function L2(n){return"FirebaseError"===n.name?n.code===ze.FAILED_PRECONDITION||n.code===ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function YA(n){return QA.apply(this,arguments)}function QA(){return QA=(0,Ve.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bS(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!L2(e))throw e;ja("Error using user provided cache. Falling back to memory cache: "+e),yield bS(n,new Bb)}}else et("FirestoreClient","Using default OfflineComponentProvider"),yield bS(n,new Bb);return n._offlineComponents}),QA.apply(this,arguments)}function CS(n){return XA.apply(this,arguments)}function XA(){return XA=(0,Ve.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),yield ZA(n,n._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),yield ZA(n,new my))),n._onlineComponents}),XA.apply(this,arguments)}function B2(n){return YA(n).then(t=>t.persistence)}function ES(n){return YA(n).then(t=>t.localStore)}function V2(n){return CS(n).then(t=>t.remoteStore)}function JA(n){return CS(n).then(t=>t.syncEngine)}function gy(n){return ek.apply(this,arguments)}function ek(){return ek=(0,Ve.Z)(function*(n){const t=yield CS(n),e=t.eventManager;return e.onListen=$z.bind(null,t.syncEngine),e.onUnlisten=qz.bind(null,t.syncEngine),e}),ek.apply(this,arguments)}function U2(n,t,e={}){const i=new Ur;return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function(r,o,d,m,C){const S=new vS({next:W=>{o.enqueueAndForget(()=>_A(r,O));const ce=W.docs.has(d);!ce&&W.fromCache?C.reject(new Ke(ze.UNAVAILABLE,"Failed to get document because the client is offline.")):ce&&W.fromCache&&m&&"server"===m.source?C.reject(new Ke(ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(W)},error:W=>C.reject(W)}),O=new bA(Q_(d.path),S,{includeMetadataChanges:!0,Uu:!0});return mA(r,O)}(yield gy(n),n.asyncQueue,t,e,i)})),i.promise}function j2(n,t,e={}){const i=new Ur;return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function(r,o,d,m,C){const S=new vS({next:W=>{o.enqueueAndForget(()=>_A(r,O)),W.fromCache&&"server"===m.source?C.reject(new Ke(ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(W)},error:W=>C.reject(W)}),O=new bA(d,S,{includeMetadataChanges:!0,Uu:!0});return mA(r,O)}(yield gy(n),n.asyncQueue,t,e,i)})),i.promise}const z2=new Map;function tk(n,t,e){if(!e)throw new Ke(ze.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function G2(n,t,e,i){if(!0===t&&!0===i)throw new Ke(ze.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function $2(n){if(!ut.isDocumentKey(n))throw new Ke(ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function q2(n){if(ut.isDocumentKey(n))throw new Ke(ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":wt()}function Cn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ke(ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=wS(n);throw new Ke(ze.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function W2(n,t){if(t<=0)throw new Ke(ze.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class Z2{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ke(ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ke(ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}G2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==t.experimentalAutoDetectLongPolling&&!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vb{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ke(ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ke(ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z2(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new CU;switch(e.type){case"firstParty":return new SU(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ke(ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=z2.get(t);e&&(et("ComponentProvider","Removing Datastore"),z2.delete(t),e.terminate())}(this),Promise.resolve()}}class Ii{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ii(this.firestore,t,this._key)}}class Es{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Es(this.firestore,t,this._query)}}class Jc extends Es{constructor(t,e,i){super(t,e,Q_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ii(this.firestore,null,new ut(t))}withConverter(t){return new Jc(this.firestore,t,this._path)}}function Y2(n,t,...e){if(n=(0,In.m9)(n),tk("collection","path",t),n instanceof Vb){const i=An.fromString(t,...e);return q2(i),new Jc(n,null,i)}{if(!(n instanceof Ii||n instanceof Jc))throw new Ke(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(An.fromString(t,...e));return q2(i),new Jc(n.firestore,null,i)}}function xS(n,t,...e){if(n=(0,In.m9)(n),1===arguments.length&&(t=rN.A()),tk("doc","path",t),n instanceof Vb){const i=An.fromString(t,...e);return $2(i),new Ii(n,null,new ut(i))}{if(!(n instanceof Ii||n instanceof Jc))throw new Ke(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(An.fromString(t,...e));return $2(i),new Ii(n.firestore,n instanceof Jc?n.converter:null,new ut(i))}}function Q2(n,t){return n=(0,In.m9)(n),t=(0,In.m9)(t),(n instanceof Ii||n instanceof Jc)&&(t instanceof Ii||t instanceof Jc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function nk(n,t){return n=(0,In.m9)(n),t=(0,In.m9)(t),n instanceof Es&&t instanceof Es&&n.firestore===t.firestore&&mb(n._query,t._query)&&n.converter===t.converter}class x4{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new K1(this,"async_queue_retry"),this.Yc=()=>{const e=gS();e&&et("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Lo.ko()};const t=gS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Xc(),this.Zc(t)}enterRestrictedMode(t){if(!this.Qc){this.Qc=!0,this.Hc=t||!1;const e=gS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Yc)}}enqueue(t){if(this.Xc(),this.Qc)return new Promise(()=>{});const e=new Ur;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Gc.push(t),this.ta()))}ta(){var t=this;return(0,Ve.Z)(function*(){if(0!==t.Gc.length){try{yield t.Gc[0](),t.Gc.shift(),t.Lo.reset()}catch(e){if(!af(e))throw e;et("AsyncQueue","Operation failed with retryable error: "+e)}t.Gc.length>0&&t.Lo.xo(()=>t.ta())}})()}Zc(t){const e=this.Kc.then(()=>(this.Wc=!0,t().catch(i=>{throw this.zc=i,this.Wc=!1,yr("INTERNAL UNHANDLED ERROR: ",function(o){let d=o.message||"";return o.stack&&(d=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),d}(i)),i}).then(i=>(this.Wc=!1,i))));return this.Kc=e,e}enqueueAfterDelay(t,e,i){this.Xc(),this.Jc.indexOf(t)>-1&&(e=0);const r=pA.createAndSchedule(this,t,e,i,o=>this.ea(o));return this.jc.push(r),r}Xc(){this.zc&&wt()}verifyOperationInProgress(){}na(){var t=this;return(0,Ve.Z)(function*(){let e;do{e=t.Kc,yield e}while(e!==t.Kc)})()}sa(t){for(const e of this.jc)if(e.timerId===t)return!0;return!1}ia(t){return this.na().then(()=>{this.jc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.jc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.na()})}ra(t){this.Jc.push(t)}ea(t){const e=this.jc.indexOf(t);this.jc.splice(e,1)}}function ik(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class S4{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ti extends Vb{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new x4,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||X2(this),this._firestoreClient.terminate()}}function br(n){return n._firestoreClient||X2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function X2(n){var t,e,i;const r=n._freezeSettings(),o=(m=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new tj(n._databaseId,m,n._persistenceKey,(S=r).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,S.useFetchStreams));var m,S;n._firestoreClient=new p4(n._authCredentials,n._appCheckCredentials,n._queue,o),(null===(e=r.cache)||void 0===e?void 0:e._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function J2(n,t,e){const i=new Ur;return n.asyncQueue.enqueue((0,Ve.Z)(function*(){try{yield bS(n,e),yield ZA(n,t),i.resolve()}catch(r){const o=r;if(!L2(o))throw o;ja("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function eB(n){if(n._initialized||n._terminated)throw new Ke(ze.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class eu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new eu(jr.fromBase64String(t))}catch(e){throw new Ke(ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new eu(jr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Pd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ke(ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class jm{constructor(t){this._methodName=t}}class SS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ke(ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ke(ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return tn(this._lat,t._lat)||tn(this._long,t._long)}}const N4=/^__.*__$/;class L4{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Md(t,this.data,this.fieldMask,e,this.fieldTransforms):new ey(t,this.data,e,this.fieldTransforms)}}class tB{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Md(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function nB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class IS{constructor(t,e,i,r,o,d){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.oa(),this.fieldTransforms=o||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(t){return new IS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ca({path:i,ha:!1});return r.la(t),r}fa(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ca({path:i,ha:!1});return r.oa(),r}da(t){return this.ca({path:void 0,ha:!0})}_a(t){return MS(t,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}oa(){if(this.path)for(let t=0;t<this.path.length;t++)this.la(this.path.get(t))}la(t){if(0===t.length)throw this._a("Document fields must not be empty");if(nB(this.ua)&&N4.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class B4{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Fb(t)}ga(t,e,i,r=!1){return new IS({ua:t,methodName:e,ma:i,path:lr.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zm(n){const t=n._freezeSettings(),e=Fb(n._databaseId);return new B4(n._databaseId,!!t.ignoreUndefinedProperties,e)}function TS(n,t,e,i,r,o={}){const d=n.ga(o.merge||o.mergeFields?2:0,t,e,r);ak("Data must be an object, but it was:",d,i);const m=sB(i,d);let C,S;if(o.merge)C=new So(d.fieldMask),S=d.fieldTransforms;else if(o.mergeFields){const O=[];for(const W of o.mergeFields){const ce=jb(t,W,e);if(!d.contains(ce))throw new Ke(ze.INVALID_ARGUMENT,`Field '${ce}' is specified in your field mask but missing from your input data.`);aB(O,ce)||O.push(ce)}C=new So(O),S=d.fieldTransforms.filter(W=>C.covers(W.field))}else C=null,S=d.fieldTransforms;return new L4(new Cs(m),C,S)}class Ub extends jm{_toFieldTransform(t){if(2!==t.ua)throw t._a(1===t.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ub}}function iB(n,t,e){return new IS({ua:3,ma:t.settings.ma,methodName:n._methodName,ha:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class rk extends jm{_toFieldTransform(t){return new vb(t.path,new X_)}isEqual(t){return t instanceof rk}}class V4 extends jm{constructor(t,e){super(t),this.ya=e}_toFieldTransform(t){const e=iB(this,t,!0),i=this.ya.map(o=>Gm(o,e)),r=new Rm(i);return new vb(t.path,r)}isEqual(t){return this===t}}class H4 extends jm{constructor(t,e){super(t),this.ya=e}_toFieldTransform(t){const e=iB(this,t,!0),i=this.ya.map(o=>Gm(o,e)),r=new Om(i);return new vb(t.path,r)}isEqual(t){return this===t}}class U4 extends jm{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=new J_(t.serializer,YN(t.serializer,this.pa));return new vb(t.path,e)}isEqual(t){return this===t}}function sk(n,t,e,i){const r=n.ga(1,t,e);ak("Data must be an object, but it was:",r,i);const o=[],d=Cs.empty();lf(i,(C,S)=>{const O=DS(t,C,e);S=(0,In.m9)(S);const W=r.fa(O);if(S instanceof Ub)o.push(O);else{const ce=Gm(S,W);null!=ce&&(o.push(O),d.set(O,ce))}});const m=new So(o);return new tB(d,m,r.fieldTransforms)}function ok(n,t,e,i,r,o){const d=n.ga(1,t,e),m=[jb(t,i,e)],C=[r];if(o.length%2!=0)throw new Ke(ze.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ce=0;ce<o.length;ce+=2)m.push(jb(t,o[ce])),C.push(o[ce+1]);const S=[],O=Cs.empty();for(let ce=m.length-1;ce>=0;--ce)if(!aB(S,m[ce])){const fe=m[ce];let be=C[ce];be=(0,In.m9)(be);const Ae=d.fa(fe);if(be instanceof Ub)S.push(fe);else{const Ue=Gm(be,Ae);null!=Ue&&(S.push(fe),O.set(fe,Ue))}}const W=new So(S);return new tB(O,W,d.fieldTransforms)}function rB(n,t,e,i=!1){return Gm(e,n.ga(i?4:3,t))}function Gm(n,t){if(oB(n=(0,In.m9)(n)))return ak("Unsupported field value:",t,n),sB(n,t);if(n instanceof jm)return function(e,i){if(!nB(i.ua))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ha&&4!==t.ua)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const d of e){let m=Gm(d,i.da(o));null==m&&(m={nullValue:"NULL_VALUE"}),r.push(m),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,In.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return YN(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Li.fromDate(e);return{timestampValue:ny(i.serializer,r)}}if(e instanceof Li){const r=new Li(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ny(i.serializer,r)}}if(e instanceof SS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof eu)return{bytesValue:_L(i.serializer,e._byteString)};if(e instanceof Ii){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:w1(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${wS(e)}`)}(n,t)}function sB(n,t){const e={};return vN(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lf(n,(i,r)=>{const o=Gm(r,t.aa(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function oB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Li||n instanceof SS||n instanceof eu||n instanceof Ii||n instanceof jm)}function ak(n,t,e){if(!oB(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=wS(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function jb(n,t,e){if((t=(0,In.m9)(t))instanceof Pd)return t._internalPath;if("string"==typeof t)return DS(n,t);throw MS("Field path arguments must be of type string or ",n,!1,void 0,e)}const j4=new RegExp("[~\\*/\\[\\]]");function DS(n,t,e){if(t.search(j4)>=0)throw MS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Pd(...t.split("."))._internalPath}catch{throw MS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function MS(n,t,e,i,r){const o=i&&!i.isEmpty(),d=void 0!==r;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let C="";return(o||d)&&(C+=" (found",o&&(C+=` in field ${i}`),d&&(C+=` in document ${r}`),C+=")"),new Ke(ze.INVALID_ARGUMENT,m+n+C)}function aB(n,t){return n.some(e=>e.isEqual(t))}class zb{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ii(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new z4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(AS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class z4 extends zb{data(){return super.data()}}function AS(n,t){return"string"==typeof t?DS(n,t):t instanceof Pd?t._internalPath:t._delegate._internalPath}function lB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ke(ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lk{}class Gb extends lk{}function Cf(n,t,...e){let i=[];t instanceof lk&&i.push(t),i=i.concat(e),function(r){const o=r.filter(m=>m instanceof _y).length,d=r.filter(m=>m instanceof $b).length;if(o>1||o>0&&d>0)throw new Ke(ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class $b extends Gb{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new $b(t,e,i)}_apply(t){const e=this._parse(t);return hB(t._query,e),new Es(t.firestore,t.converter,f1(t._query,e))}_parse(t){const e=zm(t.firestore);return function(r,o,d,m,C,S,O){let W;if(C.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Ke(ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if("in"===S||"not-in"===S){dB(O,S);const ce=[];for(const fe of O)ce.push(uB(m,r,fe));W={arrayValue:{values:ce}}}else W=uB(m,r,O)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||dB(O,S),W=rB(d,"where",O,"in"===S||"not-in"===S);return bn.create(C,S,W)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class _y extends lk{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new _y(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Xn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const d=r.getFlattenedFilters();for(const m of d)hB(o,m),o=f1(o,m)}(t._query,e),new Es(t.firestore,t.converter,f1(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ck extends Gb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new ck(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Ke(ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ke(ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new K_(r,o);return function(m,C){if(null===d1(m)){const S=Zx(m);null!==S&&fB(0,S,C.field)}}(i,d),d}(t._query,this._field,this._direction);return new Es(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Td(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class kS extends Gb{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new kS(t,e,i)}_apply(t){return new Es(t.firestore,t.converter,Kx(t._query,this._limit,this._limitType))}}class PS extends Gb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new PS(t,e,i)}_apply(t){const e=cB(t,this.type,this._docOrFields,this._inclusive);return new Es(t.firestore,t.converter,(r=e,new Td((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class RS extends Gb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new RS(t,e,i)}_apply(t){const e=cB(t,this.type,this._docOrFields,this._inclusive);return new Es(t.firestore,t.converter,(r=e,new Td((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function cB(n,t,e,i){if(e[0]=(0,In.m9)(e[0]),e[0]instanceof zb)return function(r,o,d,m,C){if(!m)throw new Ke(ze.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const S=[];for(const O of Pm(r))if(O.field.isKeyField())S.push(Am(o,m.key));else{const W=m.data.field(O.field);if(Ux(W))throw new Ke(ze.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+O.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===W){const ce=O.field.canonicalString();throw new Ke(ze.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ce}' (used as the orderBy) does not exist.`)}S.push(W)}return new pf(S,C)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=zm(n.firestore);return function(o,d,m,C,S,O){const W=o.explicitOrderBy;if(S.length>W.length)throw new Ke(ze.INVALID_ARGUMENT,`Too many arguments provided to ${C}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ce=[];for(let fe=0;fe<S.length;fe++){const be=S[fe];if(W[fe].field.isKeyField()){if("string"!=typeof be)throw new Ke(ze.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${C}(), but got a ${typeof be}`);if(!h1(o)&&-1!==be.indexOf("/"))throw new Ke(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${C}() must be a plain document ID, but '${be}' contains a slash.`);const Ae=o.path.child(An.fromString(be));if(!ut.isDocumentKey(Ae))throw new Ke(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${C}() must result in a valid document path, but '${Ae}' is not because it contains an odd number of segments.`);const Ue=new ut(Ae);ce.push(Am(d,Ue))}else{const Ae=rB(m,C,be);ce.push(Ae)}}return new pf(ce,O)}(n._query,n.firestore._databaseId,r,t,e,i)}}function uB(n,t,e){if("string"==typeof(e=(0,In.m9)(e))){if(""===e)throw new Ke(ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h1(t)&&-1!==e.indexOf("/"))throw new Ke(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(An.fromString(e));if(!ut.isDocumentKey(i))throw new Ke(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Am(n,new ut(i))}if(e instanceof Ii)return Am(n,e._key);throw new Ke(ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wS(e)}.`)}function dB(n,t){if(!Array.isArray(n)||0===n.length)throw new Ke(ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hB(n,t){if(t.isInequality()){const i=Zx(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Ke(ze.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=d1(n);null!==o&&fB(0,r,o)}const e=function(i,r){for(const o of i)for(const d of o.getFlattenedFilters())if(r.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Ke(ze.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function fB(n,t,e){if(!e.isEqual(t))throw new Ke(ze.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class uk{convertValue(t,e="none"){switch(hf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return cr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Id(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw wt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return lf(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new SS(cr(t.latitude),cr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=jx(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(ub(t));default:return null}}convertTimestamp(t){const e=cf(t);return new Li(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=An.fromString(t);Ot(TL(i));const r=new uf(i.get(1),i.get(3)),o=new ut(i.popFirst(5));return r.isEqual(e)||yr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function OS(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class X4 extends uk{constructor(t){super(),this.firestore=t}convertBytes(t){return new eu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ii(this.firestore,null,e)}}class $m{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Rd extends zb{constructor(t,e,i,r,o,d){super(t,e,i,r,d),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(AS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class qb extends Rd{data(t={}){return super.data(t)}}class Ef{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new $m(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new qb(this._firestore,this._userDataWriter,i.key,i,new $m(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ke(ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new qb(i._firestore,i._userDataWriter,d.doc.key,d.doc,new $m(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>r||3!==d.type).map(d=>{const m=new qb(i._firestore,i._userDataWriter,d.doc.key,d.doc,new $m(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let C=-1,S=-1;return 0!==d.type&&(C=o.indexOf(d.doc.key),o=o.delete(d.doc.key)),1!==d.type&&(o=o.add(d.doc),S=o.indexOf(d.doc.key)),{type:e6(d.type),doc:m,oldIndex:C,newIndex:S}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function e6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}function mB(n,t){return n instanceof Rd&&t instanceof Rd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Ef&&t instanceof Ef&&n._firestore===t._firestore&&nk(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class wf extends uk{constructor(t){super(),this.firestore=t}convertBytes(t){return new eu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ii(this.firestore,null,e)}}function gB(n,t,e){n=Cn(n,Ii);const i=Cn(n.firestore,Ti),r=OS(n.converter,t,e);return yy(i,[TS(zm(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Bi.none())])}function _B(n,t,e,...i){n=Cn(n,Ii);const r=Cn(n.firestore,Ti),o=zm(r);let d;return d="string"==typeof(t=(0,In.m9)(t))||t instanceof Pd?ok(o,"updateDoc",n._key,t,e,i):sk(o,"updateDoc",n._key,t),yy(r,[d.toMutation(n._key,Bi.exists(!0))])}function yB(n,...t){var e,i,r;n=(0,In.m9)(n);let o={includeMetadataChanges:!1},d=0;"object"!=typeof t[d]||ik(t[d])||(o=t[d],d++);const m={includeMetadataChanges:o.includeMetadataChanges};if(ik(t[d])){const W=t[d];t[d]=null===(e=W.next)||void 0===e?void 0:e.bind(W),t[d+1]=null===(i=W.error)||void 0===i?void 0:i.bind(W),t[d+2]=null===(r=W.complete)||void 0===r?void 0:r.bind(W)}let C,S,O;if(n instanceof Ii)S=Cn(n.firestore,Ti),O=Q_(n._key.path),C={next:W=>{t[d]&&t[d](dk(S,n,W))},error:t[d+1],complete:t[d+2]};else{const W=Cn(n,Es);S=Cn(W.firestore,Ti),O=W._query;const ce=new wf(S);C={next:fe=>{t[d]&&t[d](new Ef(S,ce,W,fe))},error:t[d+1],complete:t[d+2]},lB(n._query)}return function(W,ce,fe,be){const Ae=new vS(be),Ue=new bA(ce,Ae,fe);return W.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return mA(yield gy(W),Ue)})),()=>{Ae.Sc(),W.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return _A(yield gy(W),Ue)}))}}(br(S),O,m,C)}function yy(n,t){return function(e,i){const r=new Ur;return e.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function Wz(n,t,e){return SA.apply(this,arguments)}(yield JA(e),i,r)})),r.promise}(br(n),t)}function dk(n,t,e){const i=e.docs.get(t._key),r=new wf(n);return new Rd(n,r,t._key,i,new $m(e.hasPendingWrites,e.fromCache),t.converter)}const y6={maxAttempts:5};class vB{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=zm(t)}set(t,e,i){this._verifyNotCommitted();const r=xf(t,this._firestore),o=OS(r.converter,e,i),d=TS(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(d.toMutation(r._key,Bi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=xf(t,this._firestore);let d;return d="string"==typeof(e=(0,In.m9)(e))||e instanceof Pd?ok(this._dataReader,"WriteBatch.update",o._key,e,i,r):sk(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(d.toMutation(o._key,Bi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=xf(t,this._firestore);return this._mutations=this._mutations.concat(new ty(e._key,Bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ke(ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xf(n,t){if((n=(0,In.m9)(n)).firestore!==t)throw new Ke(ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class v6 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=zm(t)}get(t){const e=xf(t,this._firestore),i=new X4(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return wt();const o=r[0];if(o.isFoundDocument())return new zb(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new zb(this._firestore,i,e._key,null,e.converter);throw wt()})}set(t,e,i){const r=xf(t,this._firestore),o=OS(r.converter,e,i),d=TS(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,d),this}update(t,e,i,...r){const o=xf(t,this._firestore);let d;return d="string"==typeof(e=(0,In.m9)(e))||e instanceof Pd?ok(this._dataReader,"Transaction.update",o._key,e,i,r):sk(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,d),this}delete(t){const e=xf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=xf(t,this._firestore),i=new wf(this._firestore);return super.get(t).then(r=>new Rd(this._firestore,i,e._key,r._document,new $m(!1,!1),e.converter))}}function hk(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function CB(){if(typeof Uint8Array>"u")throw new Ke("unimplemented","Uint8Arrays are not available in this environment.")}function EB(){if(!function JU(){return typeof atob<"u"}())throw new Ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){$_=Gc.SDK_VERSION,(0,Gc._registerComponent)(new P0.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),d=new Ti(new wU(e.getProvider("auth-internal")),new IU(e.getProvider("app-check-internal")),function(m,C){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ke(ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uf(m.options.projectId,C)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),d._setSettings(r),d},"PUBLIC").setMultipleInstances(!0)),(0,Gc.registerVersion)(tN,"3.11.0",n),(0,Gc.registerVersion)(tN,"3.11.0","esm2017")}();class Wb{constructor(t){this._delegate=t}static fromBase64String(t){return EB(),new Wb(eu.fromBase64String(t))}static fromUint8Array(t){return CB(),new Wb(eu.fromUint8Array(t))}toBase64(){return EB(),this._delegate.toBase64()}toUint8Array(){return CB(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fk(n){return function D6(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class M6{enableIndexedDbPersistence(t,e){return function T4(n,t){eB(n=Cn(n,Ti));const e=br(n);if(e._uninitializedComponentsProvider)throw new Ke(ze.FAILED_PRECONDITION,"SDK cache is already specified.");ja("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new my;return J2(e,r,new qA(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function D4(n){eB(n=Cn(n,Ti));const t=br(n);if(t._uninitializedComponentsProvider)throw new Ke(ze.FAILED_PRECONDITION,"SDK cache is already specified.");ja("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new my;return J2(t,i,new F2(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function M4(n){if(n._initialized&&!n._terminated)throw new Ke(ze.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ur;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ve.Z)(function*(){try{yield(e=(0,Ve.Z)(function*(i){if(!Ll.D())return Promise.resolve();const r=i+"main";yield Ll.delete(r)}),function(i){return e.apply(this,arguments)})(B1(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class wB{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof uf||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&ja("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function K2(n,t,e,i={}){var r;const o=(n=Cn(n,Vb))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&ja("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let d,m;if("string"==typeof i.mockUserToken)d=i.mockUserToken,m=Qr.MOCK_USER;else{d=(0,In.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const C=i.mockUserToken.sub||i.mockUserToken.user_id;if(!C)throw new Ke(ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Qr(C)}n._authCredentials=new EU(new nN(d,m))}}(this._delegate,t,e,i)}enableNetwork(){return function k4(n){return function m4(n){return n.asyncQueue.enqueue((0,Ve.Z)(function*(){const t=yield B2(n),e=yield V2(n);return t.setNetworkEnabled(!0),function(i){const r=gt(i);return r.Au.delete(0),Nb(r)}(e)}))}(br(n=Cn(n,Ti)))}(this._delegate)}disableNetwork(){return function P4(n){return function g4(n){return n.asyncQueue.enqueue((0,Ve.Z)(function*(){const t=yield B2(n),e=yield V2(n);return t.setNetworkEnabled(!1),(i=(0,Ve.Z)(function*(r){const o=gt(r);o.Au.add(0),yield ly(o),o.Pu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(br(n=Cn(n,Ti)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,G2("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function A4(n){return function(t){const e=new Ur;return t.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return function Qz(n,t){return AA.apply(this,arguments)}(yield JA(t),e)})),e.promise}(br(n=Cn(n,Ti)))}(this._delegate)}onSnapshotsInSync(t){return function c6(n,t){return function v4(n,t){const e=new vS(t);return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return i=yield gy(n),r=e,gt(i).Nu.add(r),void r.next();var i,r})),()=>{e.Sc(),n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return i=yield gy(n),r=e,void gt(i).Nu.delete(r);var i,r}))}}(br(n=Cn(n,Ti)),ik(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new vy(this,Y2(this._delegate,t))}catch(e){throw ao(e,"collection()","Firestore.collection()")}}doc(t){try{return new za(this,xS(this._delegate,t))}catch(e){throw ao(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new lo(this,function w4(n,t){if(n=Cn(n,Vb),tk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ke(ze.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Es(n,null,(e=t,new Td(An.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw ao(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function b6(n,t,e){n=Cn(n,Ti);const i=Object.assign(Object.assign({},y6),e);return function(r){if(r.maxAttempts<1)throw new Ke(ze.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,d){const m=new Ur;return r.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){const C=yield function H2(n){return CS(n).then(t=>t.datastore)}(r);new f4(r.asyncQueue,C,d,o,m).run()})),m.promise}(br(n),r=>t(new v6(n,r)),i)}(this._delegate,e=>t(new xB(this,e)))}batch(){return br(this._delegate),new SB(new vB(this._delegate,t=>yy(this._delegate,t)))}loadBundle(t){return function R4(n,t){const e=br(n=Cn(n,Ti)),i=new S4;return function b4(n,t,e,i){const r=function(o,d){let m;return m="string"==typeof o?cL().encode(o):o,C=function(C,S){if(C instanceof Uint8Array)return N2(C,S);if(C instanceof ArrayBuffer)return N2(new Uint8Array(C),S);if(C instanceof ReadableStream)return C.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new d4(C,d);var C}(e,Fb(t));n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){!function c4(n,t,e){const i=gt(n);var r;(r=(0,Ve.Z)(function*(o,d,m){try{const C=yield d.getMetadata();if(yield function(ce,fe){const be=gt(ce),Ae=vr(fe.createTime);return be.persistence.runTransaction("hasNewerBundle","readonly",Ue=>be.Ls.getBundleMetadata(Ue,fe.id)).then(Ue=>!!Ue&&Ue.createTime.compareTo(Ae)>=0)}(o.localStore,C))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(ce=C).totalDocuments,bytesLoaded:ce.totalBytes,totalDocuments:ce.totalDocuments,totalBytes:ce.totalBytes}),Promise.resolve(new Set);m._updateProgress(I2(C));const S=new Uz(C,o.localStore,d.serializer);let O=yield d.Pc();for(;O;){const ce=yield S.ju(O);ce&&m._updateProgress(ce),O=yield d.Pc()}const W=yield S.complete();return yield kd(o,W.Hu,void 0),yield function(ce,fe){const be=gt(ce);return be.persistence.runTransaction("Save bundle","readwrite",Ae=>be.Ls.saveBundleMetadata(Ae,fe))}(o.localStore,C),m._completeWith(W.progress),Promise.resolve(W.Wu)}catch(C){return ja("SyncEngine",`Loading bundle failed with ${C}`),m._failWith(C),Promise.resolve(new Set)}var ce}),function(o,d,m){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield JA(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function O4(n,t){return function C4(n,t){return n.asyncQueue.enqueue((0,Ve.Z)(function*(){return function(e,i){const r=gt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ls.getNamedQuery(o,i))}(yield ES(n),t)}))}(br(n=Cn(n,Ti)),t).then(e=>e?new Es(n,null,e.query):null)}(this._delegate,t).then(e=>e?new lo(this,e):null)}}class FS extends uk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wb(new eu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return za.forKey(e,this.firestore,null)}}class xB{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new FS(t)}get(t){const e=Wm(t);return this._delegate.get(e).then(i=>new Zb(this._firestore,new Rd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Wm(t);return i?(hk("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Wm(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Wm(t);return this._delegate.delete(e),this}}class SB{constructor(t){this._delegate=t}set(t,e,i){const r=Wm(t);return i?(hk("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Wm(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Wm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class qm{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new qb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Kb(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=qm.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new qm(t,new FS(t),e),r.set(e,o)),o}}qm.INSTANCES=new WeakMap;class za{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new FS(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new za(e,new Ii(e._delegate,i,new ut(t)))}static forKey(t,e,i){return new za(e,new Ii(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new vy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new vy(this.firestore,Y2(this._delegate,t))}catch(e){throw ao(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,In.m9)(t))instanceof Ii&&Q2(this._delegate,t)}set(t,e){e=hk("DocumentReference.set",e);try{return e?gB(this._delegate,t,e):gB(this._delegate,t)}catch(i){throw ao(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?_B(this._delegate,t):_B(this._delegate,t,e,...i)}catch(r){throw ao(r,"updateDoc()","DocumentReference.update()")}}delete(){return function a6(n){return yy(Cn(n.firestore,Ti),[new ty(n._key,Bi.none())])}(this._delegate)}onSnapshot(...t){const e=IB(t),i=TB(t,r=>new Zb(this.firestore,new Rd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return yB(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function n6(n){n=Cn(n,Ii);const t=Cn(n.firestore,Ti),e=br(t),i=new wf(t);return function _4(n,t){const e=new Ur;return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return(i=(0,Ve.Z)(function*(r,o,d){try{const m=yield function(C,S){const O=gt(C);return O.persistence.runTransaction("read document","readonly",W=>O.localDocuments.getDocument(W,S))}(r,o);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Ke(ze.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const C=dy(m,`Failed to get document '${o} from cache`);d.reject(C)}}),function(r,o,d){return i.apply(this,arguments)})(yield ES(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Rd(t,i,n._key,r,new $m(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function i6(n){n=Cn(n,Ii);const t=Cn(n.firestore,Ti);return U2(br(t),n._key,{source:"server"}).then(e=>dk(t,n,e))}(this._delegate):function t6(n){n=Cn(n,Ii);const t=Cn(n.firestore,Ti);return U2(br(t),n._key).then(e=>dk(t,n,e))}(this._delegate),e.then(i=>new Zb(this.firestore,new Rd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new za(this.firestore,this._delegate.withConverter(t?qm.getInstance(this.firestore,t):null))}}function ao(n,t,e){return n.message=n.message.replace(t,e),n}function IB(n){for(const t of n)if("object"==typeof t&&!fk(t))return t;return{}}function TB(n,t){var e,i;let r;return r=fk(n[0])?n[0]:fk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Zb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new za(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return mB(this._delegate,t._delegate)}}class Kb extends Zb{data(t){const e=this._delegate.data(t);return function bU(n,t){n||wt()}(void 0!==e),e}}class lo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new FS(t)}where(t,e,i){try{return new lo(this.firestore,Cf(this._delegate,function G4(n,t,e){const i=t,r=AS("where",n);return $b._create(r,i,e)}(t,e,i)))}catch(r){throw ao(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new lo(this.firestore,Cf(this._delegate,function $4(n,t="asc"){const e=t,i=AS("orderBy",n);return ck._create(i,e)}(t,e)))}catch(i){throw ao(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new lo(this.firestore,Cf(this._delegate,function q4(n){return W2("limit",n),kS._create("limit",n,"F")}(t)))}catch(e){throw ao(e,"limit()","Query.limit()")}}limitToLast(t){try{return new lo(this.firestore,Cf(this._delegate,function W4(n){return W2("limitToLast",n),kS._create("limitToLast",n,"L")}(t)))}catch(e){throw ao(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new lo(this.firestore,Cf(this._delegate,function Z4(...n){return PS._create("startAt",n,!0)}(...t)))}catch(e){throw ao(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new lo(this.firestore,Cf(this._delegate,function K4(...n){return PS._create("startAfter",n,!1)}(...t)))}catch(e){throw ao(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new lo(this.firestore,Cf(this._delegate,function Y4(...n){return RS._create("endBefore",n,!1)}(...t)))}catch(e){throw ao(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new lo(this.firestore,Cf(this._delegate,function Q4(...n){return RS._create("endAt",n,!0)}(...t)))}catch(e){throw ao(e,"endAt()","Query.endAt()")}}isEqual(t){return nk(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function s6(n){n=Cn(n,Es);const t=Cn(n.firestore,Ti),e=br(t),i=new wf(t);return function y4(n,t){const e=new Ur;return n.asyncQueue.enqueueAndForget((0,Ve.Z)(function*(){return(i=(0,Ve.Z)(function*(r,o,d){try{const m=yield hS(r,o,!0),C=new M2(o,m.sr),S=C.nc(m.documents),O=C.applyChanges(S,!1);d.resolve(O.snapshot)}catch(m){const C=dy(m,`Failed to execute query '${o} against cache`);d.reject(C)}}),function(r,o,d){return i.apply(this,arguments)})(yield ES(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Ef(t,i,n,r))}(this._delegate):"server"===t?.source?function o6(n){n=Cn(n,Es);const t=Cn(n.firestore,Ti),e=br(t),i=new wf(t);return j2(e,n._query,{source:"server"}).then(r=>new Ef(t,i,n,r))}(this._delegate):function r6(n){n=Cn(n,Es);const t=Cn(n.firestore,Ti),e=br(t),i=new wf(t);return lB(n._query),j2(e,n._query).then(r=>new Ef(t,i,n,r))}(this._delegate),e.then(i=>new pk(this.firestore,new Ef(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=IB(t),i=TB(t,r=>new pk(this.firestore,new Ef(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return yB(this._delegate,e,i)}withConverter(t){return new lo(this.firestore,this._delegate.withConverter(t?qm.getInstance(this.firestore,t):null))}}class k6{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Kb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class pk{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new lo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Kb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new k6(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Kb(this._firestore,i))})}isEqual(t){return mB(this._delegate,t._delegate)}}class vy extends lo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new za(this.firestore,t):null}doc(t){try{return new za(this.firestore,void 0===t?xS(this._delegate):xS(this._delegate,t))}catch(e){throw ao(e,"doc()","CollectionReference.doc()")}}add(t){return function l6(n,t){const e=Cn(n.firestore,Ti),i=xS(n),r=OS(n.converter,t);return yy(e,[TS(zm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Bi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new za(this.firestore,e))}isEqual(t){return Q2(this._delegate,t._delegate)}withConverter(t){return new vy(this.firestore,this._delegate.withConverter(t?qm.getInstance(this.firestore,t):null))}}function Wm(n){return Cn(n,Ii)}class mk{constructor(...t){this._delegate=new Pd(...t)}static documentId(){return new mk(lr.keyField().canonicalString())}isEqual(t){return(t=(0,In.m9)(t))instanceof Pd&&this._delegate._internalPath.isEqual(t._internalPath)}}class Zm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function E6(){return new rk("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Zm(t)}static delete(){const t=function C6(){return new Ub("deleteField")}();return t._methodName="FieldValue.delete",new Zm(t)}static arrayUnion(...t){const e=function w6(...n){return new V4("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Zm(e)}static arrayRemove(...t){const e=function x6(...n){return new H4("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Zm(e)}static increment(t){const e=function S6(n){return new U4("increment",n)}(t);return e._methodName="FieldValue.increment",new Zm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const P6={Firestore:wB,GeoPoint:SS,Timestamp:Li,Blob:Wb,Transaction:xB,WriteBatch:SB,DocumentReference:za,DocumentSnapshot:Zb,Query:lo,QueryDocumentSnapshot:Kb,QuerySnapshot:pk,CollectionReference:vy,FieldPath:mk,FieldValue:Zm,setLogLevel:function A6(n){!function vU(n){rf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function O6(n){(function R6(n,t){n.INTERNAL.registerComponent(new P0.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},P6)))})(n,(t,e)=>new wB(t,e,new M6)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(yM.Z);var NS=f(5363),F6=f(6063);class N6 extends _t.x{constructor(t=1/0,e=1/0,i=F6.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:d}=this;e||(i.push(t),!r&&i.push(o.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let d=0;d<o.length&&!t.closed;d+=i?1:2)t.next(o[d]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const d=e.now();let m=0;for(let C=1;C<i.length&&i[C]<=d;C+=2)m=C;m&&i.splice(0,m+1)}}}var DB=f(3099);function MB(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,DB.B)({connector:()=>new N6(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function AB(n,t){return(0,Rs.m)(t)?_i(()=>n,t):_i(()=>n)}var gk=f(9468);f(259);const yk=new Map,PB={activated:!1,tokenObservers:[]},U6={initialized:!1,enabled:!1};function ur(n){return yk.get(n)||Object.assign({},PB)}function BS(){return U6}class W6{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ve.Z)(function*(){e.stop();try{e.pending=new In.BH,yield function Z6(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new In.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ws=new In.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bk(n){if(!ur(n).activated)throw ws.create("use-before-activation",{appName:n.name})}function US(n,t){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,Ve.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const W=yield r.getHeartbeatsHeader();W&&(i["X-Firebase-Client"]=W)}const o={method:"POST",body:JSON.stringify(t),headers:i};let d,m;try{d=yield fetch(n,o)}catch(W){throw ws.create("fetch-network-error",{originalErrorMessage:W?.message})}if(200!==d.status)throw ws.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(W){throw ws.create("fetch-parse-error",{originalErrorMessage:W?.message})}const C=m.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw ws.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const S=1e3*Number(C[1]),O=Date.now();return{token:m.token,expireTimeMillis:O+S,issuedAtTimeMillis:O}}),Ek.apply(this,arguments)}function OB(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Yb="firebase-app-check-store";let jS=null;function NB(){return jS||(jS=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(ws.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Yb,{keyPath:"compositeKey"})}}catch(e){t(ws.create("storage-open",{originalErrorMessage:e?.message}))}}),jS)}function wk(){return wk=(0,Ve.Z)(function*(n,t){const i=(yield NB()).transaction(Yb,"readwrite"),o=i.objectStore(Yb).put({compositeKey:n,value:t});return new Promise((d,m)=>{o.onsuccess=C=>{d()},i.onerror=C=>{var S;m(ws.create("storage-set",{originalErrorMessage:null===(S=C.target.error)||void 0===S?void 0:S.message}))}})}),wk.apply(this,arguments)}const Qb=new Ha.Yd("@firebase/app-check");function Ik(n,t){return(0,In.hl)()?function tG(n,t){return function LB(n,t){return wk.apply(this,arguments)}(function VB(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Qb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Dk(){return BS().enabled}function Mk(){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,Ve.Z)(function*(){const n=BS();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Ak.apply(this,arguments)}const aG={error:"UNKNOWN_ERROR"};function lG(n){return In.US.encodeString(JSON.stringify(n),!1)}function zS(n){return kk.apply(this,arguments)}function kk(){return kk=(0,Ve.Z)(function*(n,t=!1){const e=n.app;bk(e);const i=ur(e);let o,r=i.token;if(r&&!by(r)&&(i.token=void 0,r=void 0),!r){const C=yield i.cachedTokenPromise;C&&(by(C)?r=C:yield Ik(e,void 0))}if(!t&&r&&by(r))return{token:r.token};let m,d=!1;if(Dk()){i.exchangeTokenPromise||(i.exchangeTokenPromise=US(OB(e,yield Mk()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),d=!0);const C=yield i.exchangeTokenPromise;return yield Ik(e,C),i.token=C,{token:C.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),d=!0),r=yield ur(e).exchangeTokenPromise}catch(C){"appCheck/throttled"===C.code?Qb.warn(C.message):Qb.error(C),o=C}return r?o?m=by(r)?{token:r.token,internalError:o}:jB(o):(m={token:r.token},i.token=r,yield Ik(e,r)):m=jB(o),d&&UB(e,m),m}),kk.apply(this,arguments)}function Ok(n,t){const e=ur(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function HB(n){const{app:t}=n,e=ur(t);let i=e.tokenRefresher;i||(i=function uG(n){const{app:t}=n;return new W6((0,Ve.Z)(function*(){let i;if(i=ur(t).token?yield zS(n,!0):yield zS(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=ur(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function UB(n,t){const e=ur(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function by(n){return n.expireTimeMillis-Date.now()>0}function jB(n){return{token:lG(aG),error:n}}class dG{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ur(this.app);for(const e of t)Ok(this.app,e.next);return Promise.resolve()}}const YB="app-check-internal";!function SG(){(0,Gc._registerComponent)(new P0.wA("app-check",n=>function hG(n,t){return new dG(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(YB).initialize()})),(0,Gc._registerComponent)(new P0.wA(YB,n=>function fG(n){return{getToken:t=>zS(n,t),addTokenListener:t=>function Rk(n,t,e,i){const{app:r}=n,o=ur(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&by(o.token)){const m=o.token;Promise.resolve().then(()=>{e({token:m.token}),HB(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>HB(n))}(n,"INTERNAL",t),removeTokenListener:t=>Ok(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Gc.registerVersion)("@firebase/app-check","0.7.0")}();class Bk{constructor(){return(0,Tr.vb)("app-check")}}typeof window<"u"&&window;var Hk=f(9260);const XB=new s.OlP("angularfire2.auth.use-emulator"),JB=new s.OlP("angularfire2.auth.settings"),eV=new s.OlP("angularfire2.auth.tenant-id"),tV=new s.OlP("angularfire2.auth.langugage-code"),nV=new s.OlP("angularfire2.auth.use-device-language"),iV=new s.OlP("angularfire.auth.persistence"),rV=(n,t,e,i,r,o,d,m)=>(0,Va.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const C=t.runOutsideAngular(()=>n.auth());if(e&&C.useEmulator(...e),i&&(C.tenantId=i),C.languageCode=r,o&&C.useDeviceLanguage(),d)for(const[S,O]of Object.entries(d))C.settings[S]=O;return m&&C.setPersistence(m),C},[e,i,r,o,d,m]);let Uk=(()=>{class n{constructor(e,i,r,o,d,m,C,S,O,W,ce,fe){const be=new _t.x,Ae=mt(void 0).pipe((0,NS.Q)(d.outsideAngular),_i(()=>o.runOutsideAngular(()=>Promise.resolve().then(f.bind(f,3042)))),(0,Et.U)(()=>(0,Va.on)(e,o,i)),(0,Et.U)(Ue=>rV(Ue,o,m,S,O,W,C,ce)),MB({bufferSize:1,refCount:!1}));if($l(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=mt(null);else{Ae.pipe(Sr()).subscribe();const it=Ae.pipe(_i(Mt=>Mt.getRedirectResult().then(en=>en,()=>null)),Tr.iC,MB({bufferSize:1,refCount:!1})),bt=Ae.pipe(_i(Mt=>new ki.y(en=>({unsubscribe:o.runOutsideAngular(()=>Mt.onAuthStateChanged(rn=>en.next(rn),rn=>en.error(rn),()=>en.complete()))})))),dt=Ae.pipe(_i(Mt=>new ki.y(en=>({unsubscribe:o.runOutsideAngular(()=>Mt.onIdTokenChanged(rn=>en.next(rn),rn=>en.error(rn),()=>en.complete()))}))));this.authState=it.pipe(AB(bt),(0,gk.R)(d.outsideAngular),(0,NS.Q)(d.insideAngular)),this.user=it.pipe(AB(dt),(0,gk.R)(d.outsideAngular),(0,NS.Q)(d.insideAngular)),this.idToken=this.user.pipe(_i(Mt=>Mt?(0,Sn.D)(Mt.getIdToken()):mt(null))),this.idTokenResult=this.user.pipe(_i(Mt=>Mt?(0,Sn.D)(Mt.getIdTokenResult()):mt(null))),this.credential=(0,dm.T)(it,be,this.authState.pipe(ui(Mt=>!Mt))).pipe((0,Et.U)(Mt=>Mt?.user?Mt:null),(0,gk.R)(d.outsideAngular),(0,NS.Q)(d.insideAngular))}return(0,Va.pX)(this,Ae,o,{spy:{apply:(Ue,it,bt)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&bt.then(dt=>be.next(dt))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Va.Dh),s.LFG(Va.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Tr.HU),s.LFG(XB,8),s.LFG(JB,8),s.LFG(eV,8),s.LFG(tV,8),s.LFG(nV,8),s.LFG(iV,8),s.LFG(Bk,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kG=(()=>{class n{constructor(){Hk.Z.registerVersion("angularfire",Tr.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Uk]}),n})();function sV(n,t){return function PG(n,t=ud.z){return new ki.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function jk(n,t){return sV(n,t).pipe((0,Et.U)(e=>({payload:e,type:"query"})))}function $S(n,t){return jk(n,t).pipe(xr(void 0),D_(),(0,Et.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(d=>({type:d.type,payload:d}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((d,m)=>{const C=r.find(O=>O.doc.ref.isEqual(d.ref)),S=e?.payload.docs.find(O=>O.ref.isEqual(d.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(d.metadata)||!C&&S&&JSON.stringify(S.metadata)===JSON.stringify(d.metadata)||o.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),o}))}function oV(n,t,e){return $S(n,e).pipe(po((i,r)=>function OG(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function FG(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return zk(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return zk(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return zk(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),xw(),(0,Et.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function zk(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function aV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class lV{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=$S(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Et.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(xr(void 0),D_(),ui(([i,r])=>r.length>0||!i),(0,Et.U)(([i,r])=>r),Tr.iC)}auditTrail(t){return this.stateChanges(t).pipe(po((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=aV(t);return oV(this.query,e,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(t={}){return jk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Tr.iC)}get(t){return(0,Sn.D)(this.query.get(t)).pipe(Tr.iC)}add(t){return this.ref.add(t)}doc(t){return new cV(this.ref.doc(t),this.afs)}}class cV{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=hV(i,e);return new lV(r,o,this.afs)}snapshotChanges(){return function RG(n,t){return sV(n,t).pipe(xr(void 0),D_(),(0,Et.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Et.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Sn.D)(this.ref.get(t)).pipe(Tr.iC)}}class NG{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?$S(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),ui(e=>e.length>0),Tr.iC):$S(this.query,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}auditTrail(t){return this.stateChanges(t).pipe(po((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=aV(t);return oV(this.query,e,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(t={}){return jk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Tr.iC)}get(t){return(0,Sn.D)(this.query.get(t)).pipe(Tr.iC)}}const uV=new s.OlP("angularfire2.enableFirestorePersistence"),dV=new s.OlP("angularfire2.firestore.persistenceSettings"),LG=new s.OlP("angularfire2.firestore.settings"),BG=new s.OlP("angularfire2.firestore.use-emulator");function hV(n,t=(e=>e)){return{query:t(n),ref:n}}let Cy=(()=>{class n{constructor(e,i,r,o,d,m,C,S,O,W,ce,fe,be,Ae,Ue,it,bt){this.schedulers=C;const dt=(0,Va.on)(e,m,i),Mt=O;W&&rV(dt,m,ce,be,Ae,Ue,fe,it),[this.firestore,this.persistenceEnabled$]=(0,Va.cc)(`${dt.name}.firestore`,"AngularFirestore",dt.name,()=>{const en=m.runOutsideAngular(()=>dt.firestore());if(o&&en.settings(o),Mt&&en.useEmulator(...Mt),r&&!$l(d)){const rn=()=>{try{return(0,Sn.D)(en.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(zn){return typeof console<"u"&&console.warn(zn),mt(!1)}};return[en,m.runOutsideAngular(rn)]}return[en,mt(!1)]},[o,Mt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:d}=hV(r,i),m=this.schedulers.ngZone.run(()=>o);return new lV(m,d,this)}collectionGroup(e,i){const r=i||(d=>d),o=this.firestore.collectionGroup(e);return new NG(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new cV(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Va.Dh),s.LFG(Va.xv,8),s.LFG(uV,8),s.LFG(LG,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Tr.HU),s.LFG(dV,8),s.LFG(BG,8),s.LFG(Uk,8),s.LFG(XB,8),s.LFG(JB,8),s.LFG(eV,8),s.LFG(tV,8),s.LFG(nV,8),s.LFG(iV,8),s.LFG(Bk,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VG=(()=>{class n{constructor(){Hk.Z.registerVersion("angularfire",Tr.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:uV,useValue:!0},{provide:dV,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Cy]}),n})();var HG=f(930);let Ey=(()=>{class n{constructor(e){this.db=e}createTicket(e,i,r,o,d){var m=this;return(0,Ve.Z)(function*(){if(!e||!i||!r)throw new Error("Required fields are missing");const C=m.db.collection("boards").doc(e).collection("months").doc(i).collection("sprints").doc(r).collection("tickets").doc();yield C.set({...o,id:C.ref.id,position:d})})()}createDefaultTickets(e,i,r){var o=this;return(0,Ve.Z)(function*(){const m=["TBD","TBD","TBD"].map((C,S)=>o.createTicket(e,i,r,{title:C,description:"",boardId:e,monthId:i,sprintId:r},S));yield Promise.all(m)})()}getTickets(e,i,r){return this.db.collection("boards").doc(e).collection("months").doc(i).collection("sprints").doc(r).collection("tickets").valueChanges({idField:"id"})}getTicketsPromise(e,i,r){var o=this;return(0,Ve.Z)(function*(){return(yield o.db.collection("boards").doc(e).collection("months").doc(i).collection("sprints").doc(r).collection("tickets").ref.get()).docs.map(m=>({...m.data(),id:m.id}))})()}updateTicket(e,i){var r=this;return(0,Ve.Z)(function*(){if(!i.boardId||!i.monthId||!i.sprintId)throw new Error("Required fields are missing");yield r.db.collection("boards").doc(i.boardId).collection("months").doc(i.monthId).collection("sprints").doc(i.sprintId).collection("tickets").doc(e).update({...i,boardId:i.boardId,monthId:i.monthId,sprintId:i.sprintId})})()}deleteTicket(e,i,r,o){return this.db.collection("boards").doc(i).collection("months").doc(r).collection("sprints").doc(o).collection("tickets").doc(e).delete()}getNewTicketPosition(e,i,r){var o=this;return(0,Ve.Z)(function*(){const d=o.getTickets(e,i,r),C=(yield function UG(n,t){const e="object"==typeof t;return new Promise((i,r)=>{const o=new HG.Hp({next:d=>{i(d),o.unsubscribe()},error:r,complete:()=>{e?i(t.defaultValue):r(new va)}});n.subscribe(o)})}(d)).map(O=>O.position);return(C.length?Math.max(...C):0)+1})()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cy))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wy=(()=>{class n{constructor(e,i){this.db=e,this.ticketService=i}createSprintsForMonth(e,i){var r=this;return(0,Ve.Z)(function*(){const d=["Sprint 1","Sprint 2"].map(function(){var m=(0,Ve.Z)(function*(C){const S=yield r.createSprint(e,i,{boardId:e,monthId:i,name:C});if(S.id)return r.ticketService.createDefaultTickets(e,i,S.id);throw new Error("Failed to create a sprint")});return function(C){return m.apply(this,arguments)}}());yield Promise.all(d)})()}createSprint(e,i,r){var o=this;return(0,Ve.Z)(function*(){const d=o.db.collection("boards").doc(e).collection("months").doc(i),m=yield d.collection("sprints").add(r);return yield d.collection("sprints").doc(m.id).collection("sprintStates").doc("state").set({isCollapsed:!1}),{id:m.id,...r}})()}getSprintState(e,i,r){return this.db.collection("boards").doc(e).collection("months").doc(i).collection("sprints").doc(r).collection("sprintStates").doc("state").valueChanges()}updateSprintState(e,i,r,o){return this.db.collection("boards").doc(e).collection("months").doc(i).collection("sprints").doc(r).collection("sprintStates").doc("state").update(o)}getSprints(e,i){return this.db.collection("boards").doc(e).collection("months").doc(i).collection("sprints").valueChanges({idField:"id"})}getSprintsPromise(e,i){var r=this;return(0,Ve.Z)(function*(){return(yield r.db.collection("boards").doc(e).collection("months").doc(i).collection("sprints").ref.get()).docs.map(d=>({...d.data(),id:d.id}))})()}updateSprint(e,i,r,o){return this.db.collection("boards").doc(i).collection("months").doc(r).collection("sprints").doc(e).update(o)}deleteSprint(e,i,r){return this.db.collection("boards").doc(i).collection("months").doc(r).collection("sprints").doc(e).delete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cy),s.LFG(Ey))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qS=(()=>{class n{constructor(e,i){this.db=e,this.sprintService=i}createDefaultMonths(e){var i=this;return(0,Ve.Z)(function*(){const r=[{boardId:e,name:"January"},{boardId:e,name:"February"},{boardId:e,name:"March"}],o=r.map(m=>i.db.collection("boards").doc(e).collection("months").add(m));return(yield Promise.all(o)).map((m,C)=>({id:m.id,...r[C]}))})()}createMonth(e,i){var r=this;return(0,Ve.Z)(function*(){const d=yield r.db.collection("boards").doc(e).collection("months").add(i);yield r.sprintService.createSprintsForMonth(e,d.id)})()}getMonths(e){return this.db.collection("boards").doc(e).collection("months").valueChanges({idField:"id"}).pipe(Ir(i=>(console.error("Error fetching months:",i),mt([]))))}getMonthsPromise(e){var i=this;return(0,Ve.Z)(function*(){return(yield i.db.collection("boards").doc(e).collection("months").ref.get()).docs.map(o=>({...o.data(),id:o.id}))})()}updateMonth(e,i,r){return this.db.collection("boards").doc(i).collection("months").doc(e).update(r)}deleteMonth(e,i){var r=this;return(0,Ve.Z)(function*(){try{console.log(`Deleting month with boardId ${e} and monthId ${i}`);const d=yield r.db.collection("boards").doc(e).collection("months").doc(i).collection("sprints").get().toPromise();if(console.log("sprintsSnapshot:",d),d?.empty)return void console.log("No matching documents.");if(d?.forEach(C=>{console.log(C.id,"=>",C.data())}),d&&d.docs)for(const C of d.docs){const S=C.id;console.log(`Deleting sprint with sprintId ${S}`);const W=yield r.db.collection("boards").doc(e).collection("months").doc(i).collection("sprints").doc(S).collection("sprintStates").get().toPromise();if(W&&W.docs){for(const be of W.docs)yield be.ref.delete();console.log(`SprintStates deleted for sprintId ${S}`)}const fe=yield r.db.collection("boards").doc(e).collection("months").doc(i).collection("sprints").doc(S).collection("tickets").get().toPromise();if(fe&&fe.docs){for(const be of fe.docs)yield be.ref.delete();console.log(`Tickets deleted for sprintId ${S}`)}yield C.ref.delete(),console.log(`Sprint ${S} deleted`)}yield r.db.collection("boards").doc(e).collection("months").doc(i).delete(),console.log("Month and its subcollections successfully deleted.")}catch(o){console.error("Error deleting month:",o)}})()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cy),s.LFG(wy))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fV=(()=>{class n{constructor(e,i,r){this.db=e,this.monthService=i,this.sprintService=r}createNewBoard(e,i,r){var o=this;return(0,Ve.Z)(function*(){const d={name:e,code:i,editorAccessOnCreation:r},m=yield o.db.collection("boards").add(d),C=yield o.monthService.createDefaultMonths(m.id);for(const S of C)yield o.sprintService.createSprintsForMonth(m.id,S.id);return m.id})()}getBoard(e){return this.db.collection("boards").doc(e).valueChanges().pipe((0,Et.U)(i=>{if(!i)throw new Error("Board not found");return{id:e,...i}}))}updateBoard(e,i){return this.db.collection("boards").doc(e).update(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cy),s.LFG(qS),s.LFG(wy))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jG=["connectionContainer"],zG=["inputContainer"],GG=["label"];function $G(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function qG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function WG(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function ZG(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function KG(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function YG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.YNc(2,WG,4,1,"ng-container",12),s.YNc(3,ZG,1,0,"ng-content",12),s.YNc(4,KG,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function QG(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function XG(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function JG(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function e5(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function t5(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,e5,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const n5=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],r5=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let s5=0;const pV=new s.OlP("MatError");let mV=(()=>{class n{constructor(e,i){this.id="mat-error-"+s5++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:pV,useExisting:n}])]}),n})();const o5={transitionMessages:Ko("transitionMessages",[sr("enter",dn({opacity:1,transform:"translateY(0%)"})),or("void => enter",[dn({opacity:0,transform:"translateY(-5px)"}),_r("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Gk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})(),a5=0;const gV=new s.OlP("MatHint");let _V=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+a5++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id)("align",null),s.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[s._Bn([{provide:gV,useExisting:n}])]}),n})(),Xb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),l5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const yV=new s.OlP("MatPrefix");let vV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matPrefix",""]],features:[s._Bn([{provide:yV,useExisting:n}])]}),n})();const c5=new s.OlP("MatSuffix");let bV=0;const d5=Yh(class{constructor(n){this._elementRef=n}},"primary"),h5=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),EV=new s.OlP("MatFormField");let Jb=(()=>{class n extends d5{constructor(e,i,r,o,d,m,C){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=d,this._ngZone=m,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new _t.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+bV++,this._labelId="mat-form-field-label-"+bV++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==C,this.appearance=o&&o.appearance?o.appearance:"legacy",this._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=hi(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(xr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(rr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(rr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,dm.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(xr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(xr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(rr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ld(this._label.nativeElement,"transitionend").pipe(Pi(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const O=i.querySelectorAll(`${r}, ${o}`);for(let W=0;W<O.length;W++)O[W].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,m=0;const C=i.querySelectorAll(r),S=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const O=i.getBoundingClientRect();if(0===O.width&&0===O.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const W=this._getStartEnd(O),ce=e.children,fe=this._getStartEnd(ce[0].getBoundingClientRect());let be=0;for(let Ae=0;Ae<ce.length;Ae++)be+=ce[Ae].offsetWidth;d=Math.abs(fe-W)-5,m=be>0?.75*be+10:0}for(let O=0;O<C.length;O++)C[O].style.width=`${d}px`;for(let O=0;O<S.length;O++)S[O].style.width=`${m}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(jc,8),s.Y36(h5,8),s.Y36(gr),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Gk,5),s.Suo(r,Gk,7),s.Suo(r,Xb,5),s.Suo(r,Xb,7),s.Suo(r,l5,5),s.Suo(r,pV,5),s.Suo(r,gV,5),s.Suo(r,yV,5),s.Suo(r,c5,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(jG,7),s.Gf(zG,5),s.Gf(GG,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:EV,useExisting:n}]),s.qOj],ngContentSelectors:r5,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(n5),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,$G,9,0,"ng-container",3),s.YNc(4,qG,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,YG,5,16,"label",8),s.qZA()(),s.YNc(10,QG,2,0,"div",9),s.qZA(),s.YNc(11,XG,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,JG,2,1,"div",12),s.YNc(14,t5,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[xn,Xv,uo,oa],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[o5.transitionMessages]},changeDetection:0}),n})(),xy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[oi,vn,pm],vn]}),n})();const wV=Ls({passive:!0});let f5=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Zr.E;const i=Fi(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new _t.x,d="cdk-text-field-autofilled",m=C=>{"cdk-text-field-autofill-start"!==C.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===C.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>o.next({target:C.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>o.next({target:C.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",m,wV),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",m,wV)}}),o}stopMonitoring(e){const i=Fi(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gr),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const p5=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),m5=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let g5=0;const _5=Qh(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let Sy=(()=>{class n extends _5{constructor(e,i,r,o,d,m,C,S,O,W){super(m,o,d,r),this._elementRef=e,this._platform=i,this._autofillMonitor=S,this._formField=W,this._uid="mat-input-"+g5++,this.focused=!1,this.stateChanges=new _t.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(be=>qE().has(be)),this._iOSKeyupListener=be=>{const Ae=be.target;!Ae.value&&0===Ae.selectionStart&&0===Ae.selectionEnd&&(Ae.setSelectionRange(1,1),Ae.setSelectionRange(0,0))};const ce=this._elementRef.nativeElement,fe=ce.nodeName.toLowerCase();this._inputValueAccessor=C||ce,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&O.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===fe,this._isTextarea="textarea"===fe,this._isInFormField=!!W,this._isNativeSelect&&(this.controlType=ce.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=hi(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Vn.required)??!1}set required(e){this._required=hi(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&qE().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=hi(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){m5.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(gr),s.Y36($o,10),s.Y36(qg,8),s.Y36(Ns,8),s.Y36(w_),s.Y36(p5,10),s.Y36(f5),s.Y36(s.R0b),s.Y36(EV,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:Gk,useExisting:n}]),s.qOj,s.TTD]}),n})(),$k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[w_],imports:[[xV,xy,vn],xV,xy]}),n})();const y5=function(n){return{"cancel-button":n}},v5=["*"];let Sf=(()=>{class n{constructor(){this.width=277,this.height=44,this.disabled=!1,this.buttonType=""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-custom-button"]],inputs:{width:"width",height:"height",disabled:"disabled",buttonType:"buttonType"},ngContentSelectors:v5,decls:2,vars:10,consts:[[1,"custom-button",3,"ngClass","disabled"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"button",0),s.Hsn(1),s.qZA()),2&e&&(s.Udp("width",i.width,"px")("height",i.height,"px"),s.ekj("disabled",i.disabled),s.Q6J("ngClass",s.VKq(8,y5,"cancel-button"===i.buttonType))("disabled",i.disabled))},dependencies:[_n],styles:[".custom-button[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Inter,Raleway,sans-serif;font-size:18px;background:#ecf3fc;border:1px solid #4388dd;box-shadow:0 4px 180px #00000040;border-radius:6px;cursor:pointer;transition:all .3s ease}.custom-button[_ngcontent-%COMP%]:hover{background:#4388dd;border-color:#4388dd;color:#fff;box-shadow:0 6px 180px #00000059;transform:translateY(-2px)}.custom-button[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 4px 180px #00000040}.custom-button.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.custom-button.cancel-button[_ngcontent-%COMP%]{background:#f44336;border:1px solid #f44336;color:#fff}.custom-button.cancel-button[_ngcontent-%COMP%]:hover{background:#d32f2f;border:1px solid #d32f2f;color:#fff;box-shadow:0 6px 180px #00000059;transform:translateY(-2px)}@media (max-width: 767px){.custom-button[_ngcontent-%COMP%]{font-size:16px}}"]}),n})();const b5=["inputElem"];function C5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-form-field",14)(1,"input",15,16),s.NdJ("input",function(r){const d=s.CHM(e).index,m=s.oxw();return s.KtG(m.onInput(r,d))})("keyup",function(r){const d=s.CHM(e).index,m=s.oxw();return s.KtG(m.onKeyUp(r,d))}),s.qZA()()}if(2&n){const e=t.index;s.xp6(1),s.MGl("formControlName","roadmapCode",e,"")}}function E5(n,t){1&n&&(s.TgZ(0,"div",17),s._uU(1," Only digits are accepted. "),s.qZA())}let w5=(()=>{class n{constructor(e,i,r,o){this.formBuilder=e,this.dialogRef=i,this.boardService=r,this.router=o,this.controlsArray=[],this.invalidInput=!1,this.subscriptions=new er.w0}ngOnInit(){this.roadmapCodeForm=this.formBuilder.group({boardName:["",Vn.required],roadmapCode0:["",[Vn.required,Vn.pattern("\\d")]],roadmapCode1:["",[Vn.required,Vn.pattern("\\d")]],roadmapCode2:["",[Vn.required,Vn.pattern("\\d")]],roadmapCode3:["",[Vn.required,Vn.pattern("\\d")]],roadmapCode4:["",[Vn.required,Vn.pattern("\\d")]],roadmapCode5:["",[Vn.required,Vn.pattern("\\d")]]}),this.controlsArray=Object.values(this.roadmapCodeForm.controls).filter(e=>e!==this.roadmapCodeForm.controls.boardName)}ngOnDestroy(){this.subscriptions.unsubscribe()}onInput(e,i){const r=e.target,o=r.value;o.length>1&&(r.value=o.slice(0,1)),/\d/.test(o)?(this.invalidInput=!1,i<this.controlsArray.length-1&&this.controlsArray[i+1].enable()):""===o?this.invalidInput=!1:(r.value="",this.invalidInput=!0)}onKeyUp(e,i){if(1!==e.key.length||isNaN(Number(e.key))){if("Backspace"===e.key||"Delete"===e.key){this.invalidInput=!1;const r=i-1;r>=0&&this.inputElements.toArray()[r].nativeElement.focus()}}else{const r=i+1;r<this.inputElements.length&&setTimeout(()=>{this.inputElements.toArray()[r].nativeElement.focus()},50)}}onSubmit(){if(this.roadmapCodeForm.valid){const e=this.roadmapCodeForm.controls.boardName.value,i=this.controlsArray.map(o=>o.value).join(""),r=(0,PE.sha256)(i);this.boardService.createNewBoard(e,r,!0).then(o=>{this.dialogRef.close(o)}).catch(o=>{console.error("Error creating new board:",o)})}}onCancel(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hh),s.Y36(La),s.Y36(fV),s.Y36(Nn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-roadmap-popup"]],viewQuery:function(e,i){if(1&e&&s.Gf(b5,5),2&e){let r;s.iGM(r=s.CRH())&&(i.inputElements=r)}},decls:21,vars:4,consts:[[1,"popup-container"],[1,"setup-title"],[1,"content-container"],[1,"title"],[1,"description"],[1,"pin-code-form",3,"formGroup"],[1,"board-name-input"],["matInput","","formControlName","boardName","required",""],[1,"pin-inputs"],["class","pin-input",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],[1,"popup-actions"],[3,"disabled","click"],["buttonType","cancel-button",3,"click"],[1,"pin-input"],["matInput","","type","password","maxlength","1","pattern","\\d","required","",3,"formControlName","input","keyup"],["inputElem",""],[1,"error-message"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2,"Setup a Pin Code"),s.qZA(),s.TgZ(3,"div",2)(4,"h2",3),s._uU(5,"To obtain editor rights"),s.qZA(),s.TgZ(6,"p",4),s._uU(7,"Please enter the 6 digit code pin that will ensure your admin rights:"),s.qZA(),s.TgZ(8,"form",5)(9,"mat-form-field",6)(10,"mat-label"),s._uU(11,"Board Name"),s.qZA(),s._UZ(12,"input",7),s.qZA(),s.TgZ(13,"div",8),s.YNc(14,C5,3,1,"mat-form-field",9),s.qZA()(),s.YNc(15,E5,2,0,"div",10),s.qZA(),s.TgZ(16,"div",11)(17,"app-custom-button",12),s.NdJ("click",function(){return i.onSubmit()}),s._uU(18,"Validate"),s.qZA(),s.TgZ(19,"app-custom-button",13),s.NdJ("click",function(){return i.onCancel()}),s._uU(20,"Cancel"),s.qZA()()()),2&e&&(s.xp6(8),s.Q6J("formGroup",i.roadmapCodeForm),s.xp6(6),s.Q6J("ngForOf",i.controlsArray),s.xp6(1),s.Q6J("ngIf",i.invalidInput),s.xp6(2),s.Q6J("disabled",!i.roadmapCodeForm.valid))},dependencies:[mn,xn,Bc,Il,ed,Fh,nr,Oa,Uc,Ns,Vc,Jb,Xb,Sy,Sf],styles:[".popup-container[_ngcontent-%COMP%]{box-sizing:border-box;background:#323232;border:1px solid #323232;box-shadow:0 4px 20px #0009;border-radius:5px;padding:20px;height:100%;width:100%}.setup-title[_ngcontent-%COMP%]{width:100%;height:50px;font-size:clamp(16px,1.5vw,18px);line-height:24px;color:#fff}.content-container[_ngcontent-%COMP%]{background:#e8f0fb;border-radius:5px;padding:20px;position:relative}.title[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:700;font-size:20px;line-height:150%;color:#000;margin-bottom:20px}.description[_ngcontent-%COMP%]{width:250px;height:39px;font-family:Roboto;font-style:normal;font-weight:400;font-size:clamp(14px,1.2vw,16px);line-height:19px;color:#000}.board-name-input[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.pin-inputs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.pin-input[_ngcontent-%COMP%]{width:42px}.pin-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:55px;margin:3px;padding:0;background:#ecf3fc;border:1px solid #000000;border-radius:10px;display:flex;justify-content:center;align-items:center}@media (max-width: 480px){.popup-container[_ngcontent-%COMP%]{padding:10px}.setup-title[_ngcontent-%COMP%]{font-size:14px;height:40px}.title[_ngcontent-%COMP%]{font-size:clamp(16px,1.5vw,18px);margin-bottom:10px}.description[_ngcontent-%COMP%]{width:100%;font-size:14px;line-height:17px}.pin-input[_ngcontent-%COMP%]{width:35px}.pin-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:40px}input[type=password][_ngcontent-%COMP%]{font-size:46px}input[type=password][_ngcontent-%COMP%]::-webkit-text-security{font-size:50px}}input[type=password][_ngcontent-%COMP%]{text-align:center;font-size:62px}input[type=password][_ngcontent-%COMP%]::-webkit-text-security{font-size:66px}.popup-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;padding:20px}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;text-align:center;margin-top:8px}"]}),n})();function x5(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}function S5(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}const T5=Yh(class{constructor(n){this._elementRef=n}},"primary"),D5=new s.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function M5(){return{diameter:100}}});class Od extends T5{constructor(t,e,i,r,o,d,m,C){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=er.w0.EMPTY,this.mode="determinate";const S=Od._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),S.has(i.head)||S.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),e.isBrowser&&e.SAFARI&&m&&d&&C&&(this._resizeSubscription=m.change(150).subscribe(()=>{"indeterminate"===this.mode&&C.run(()=>d.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=Fa(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Fa(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Fa(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=zh(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=Od._diameters;let r=i.get(t);if(!r||!r.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Od._diameters=new WeakMap,Od.\u0275fac=function(t){return new(t||Od)(s.Y36(s.SBq),s.Y36(gr),s.Y36(F,8),s.Y36(s.QbO,8),s.Y36(D5),s.Y36(s.sBO),s.Y36(hd),s.Y36(s.R0b))},Od.\u0275cmp=s.Xpm({type:Od,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(s.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[s.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(s.O4$(),s.TgZ(0,"svg",0,1),s.YNc(2,x5,1,11,"circle",2),s.YNc(3,S5,1,9,"circle",3),s.qZA()),2&t&&(s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.Q6J("ngSwitch","indeterminate"===e.mode),s.uIk("viewBox",e._getViewBox()),s.xp6(2),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1))},dependencies:[uo,oa],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let SV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[vn,oi],vn]}),n})(),Iy=(()=>{class n{constructor(){this.diameter=50,this.strokeWidth=5}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-circle-loader"]],inputs:{diameter:"diameter",strokeWidth:"strokeWidth"},decls:2,vars:2,consts:[[1,"loader-container"],["mode","indeterminate","color","accent",1,"circle-loader",3,"diameter","strokeWidth"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"mat-progress-spinner",1),s.qZA()),2&e&&(s.xp6(1),s.Q6J("diameter",i.diameter)("strokeWidth",i.strokeWidth))},dependencies:[Od],styles:[".loader-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.circle-loader[_ngcontent-%COMP%]{transform-origin:center;animation:rotation 2s linear infinite}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();const k5=["lottieContainer"];function P5(n,t){1&n&&s._UZ(0,"app-circle-loader",3)}function R5(n,t){1&n&&(s.TgZ(0,"div",4)(1,"h1",5),s._uU(2,"Hang in there! Your personalized roadmap is coming together"),s.qZA(),s._UZ(3,"div",6,7),s.qZA())}function O5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",8)(1,"div",9),s._uU(2," Welcome to Dlivr, the easiest roadmap builder to really"),s._UZ(3,"br"),s._uU(4," Get Sh!t Done "),s.qZA(),s.TgZ(5,"app-custom-button",10),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openPopup())}),s._uU(6,"Create a roadmap"),s.qZA()()}2&n&&(s.xp6(5),s.Q6J("width",277)("height",44))}let F5=(()=>{class n{constructor(e,i){this.dialog=e,this.router=i,this.loading=!1,this.creatingBoard=!1}openPopup(){this.dialog.open(w5,{width:"390px",height:"542px",panelClass:"custom-popup"}).afterClosed().subscribe(i=>{i&&(this.creatingBoard=!0,setTimeout(()=>{this.startAnimation(i)},0))})}startAnimation(e){if(this.lottieContainer)try{this.animation=WI().loadAnimation({container:this.lottieContainer.nativeElement,path:"assets/animations/animation-building-page.json",renderer:"svg",loop:!0,autoplay:!0}),this.animation.addEventListener("DOMLoaded",()=>{setTimeout(()=>{this.router.navigate(["/board",e])},5e3)})}catch(i){console.error("Error loading the animation: ",i)}}ngOnDestroy(){this.animation&&this.animation.destroy()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rl),s.Y36(Nn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-landing"]],viewQuery:function(e,i){if(1&e&&s.Gf(k5,5),2&e){let r;s.iGM(r=s.CRH())&&(i.lottieContainer=r.first)}},decls:3,vars:3,consts:[["class","loading",4,"ngIf"],["class","landing-page-creation",4,"ngIf"],["class","landing-page",4,"ngIf"],[1,"loading"],[1,"landing-page-creation"],["data-aos","fade-down","data-aos-duration","1000",1,"title"],["data-aos","zoom-in","data-aos-duration","1500",1,"animation-build"],["lottieContainer",""],[1,"landing-page"],[1,"landing-page__welcome"],[1,"landing-page__button",3,"width","height","click"]],template:function(e,i){1&e&&(s.YNc(0,P5,1,0,"app-circle-loader",0),s.YNc(1,R5,5,0,"div",1),s.YNc(2,O5,7,2,"div",2)),2&e&&(s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",i.creatingBoard),s.xp6(1),s.Q6J("ngIf",!i.creatingBoard&&!i.loading))},dependencies:[xn,Iy,Sf],styles:[".landing-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;min-height:100%;background-color:#2f80ed1a}.landing-page-creation[_ngcontent-%COMP%]{padding-top:2em;display:flex;flex-direction:column;align-items:center;text-align:center;height:100%;background-color:#2f80ed1a}.landing-page__welcome[_ngcontent-%COMP%]{max-width:730px;font-family:Inter,sans-serif;font-style:normal;font-weight:600;font-size:40px;line-height:44px;color:#373f41}.title[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-style:normal;font-weight:600;font-size:32px;line-height:44px;color:#373f41;animation:fadeInUp 1s ease-out}.landing-page__button[_ngcontent-%COMP%]{margin-top:4.18rem}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.animation-build[_ngcontent-%COMP%]{width:70%;height:70%;animation:pulse 2s infinite alternate}@keyframes pulse{0%{transform:scale(1)}to{transform:scale(1.2)}}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.popup[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:#323232;border:1px solid #323232;box-shadow:0 4px 20px #0009;border-radius:5px}@media screen and (max-width: 767px){.landing-page__welcome[_ngcontent-%COMP%]{font-size:28px;line-height:32px}.landing-page__button[_ngcontent-%COMP%]{margin-top:2rem}}@media screen and (max-width: 480px){.landing-page__welcome[_ngcontent-%COMP%]{font-size:24px;line-height:28px}.popup[_ngcontent-%COMP%]{width:90%;height:auto}}"]}),n})();function eC(n,t){localStorage.setItem(`lastViewedMonthIndex_${n}`,t.toString())}const L5=Ko("slideIn",[or(":increment",[dn({transform:"translateX(100%)",opacity:0}),_r("500ms ease-out",dn({transform:"translateX(0)",opacity:1}))]),or(":decrement",[dn({transform:"translateX(-100%)",opacity:0}),_r("500ms ease-out",dn({transform:"translateX(0)",opacity:1}))])]),B5=["mat-button",""],V5=["*"],U5=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],j5=Yh(QD(p0(class{constructor(n){this._elementRef=n}})));let If=(()=>{class n extends j5{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of U5)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Kh),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(S_,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:B5,ngContentSelectors:V5,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[S_],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),tC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[_m,vn],vn]}),n})();class z5{}class Tf{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(d):this.headers.set(o,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Tf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Tf;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Tf?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let d=this.headers.get(e);if(!d)return;d=d.filter(m=>-1===o.indexOf(m)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class G5{encodeKey(t){return IV(t)}encodeValue(t){return IV(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const q5=/%(\d[a-f0-9])/gi,W5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function IV(n){return encodeURIComponent(n).replace(q5,(t,e)=>W5[e]??t)}function WS(n){return`${n}`}class Df{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new G5,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $5(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[d,m]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],C=e.get(d)||[];C.push(m),e.set(d,C)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(WS):[WS(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Df({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(WS(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(WS(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Z5{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function TV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function DV(n){return typeof Blob<"u"&&n instanceof Blob}function MV(n){return typeof FormData<"u"&&n instanceof FormData}class nC{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function K5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Tf),this.context||(this.context=new Z5),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+d}}else this.params=new Df,this.urlWithParams=e}serializeBody(){return null===this.body?null:TV(this.body)||DV(this.body)||MV(this.body)||function Y5(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Df?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||MV(this.body)?null:DV(this.body)?this.body.type||null:TV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Df?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,m=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let C=t.headers||this.headers,S=t.params||this.params;const O=t.context??this.context;return void 0!==t.setHeaders&&(C=Object.keys(t.setHeaders).reduce((W,ce)=>W.set(ce,t.setHeaders[ce]),C)),t.setParams&&(S=Object.keys(t.setParams).reduce((W,ce)=>W.set(ce,t.setParams[ce]),S)),new nC(e,i,o,{params:S,headers:C,context:O,reportProgress:m,responseType:r,withCredentials:d})}}var xs=(()=>((xs=xs||{})[xs.Sent=0]="Sent",xs[xs.UploadProgress=1]="UploadProgress",xs[xs.ResponseHeader=2]="ResponseHeader",xs[xs.DownloadProgress=3]="DownloadProgress",xs[xs.Response=4]="Response",xs[xs.User=5]="User",xs))();class Wk extends class Q5{constructor(t,e=200,i="OK"){this.headers=t.headers||new Tf,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=xs.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Wk({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Zk(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let kV=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof nC)o=e;else{let C,S;C=r.headers instanceof Tf?r.headers:new Tf(r.headers),r.params&&(S=r.params instanceof Df?r.params:new Df({fromObject:r.params})),o=new nC(e,i,void 0!==r.body?r.body:null,{headers:C,context:r.context,params:S,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=mt(o).pipe(Kr(C=>this.handler.handle(C)));if(e instanceof nC||"events"===r.observe)return d;const m=d.pipe(ui(C=>C instanceof Wk));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return m.pipe((0,Et.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return m.pipe((0,Et.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return m.pipe((0,Et.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));default:return m.pipe((0,Et.U)(C=>C.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Df).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Zk(r,i))}post(e,i,r={}){return this.request("POST",e,Zk(r,i))}put(e,i,r={}){return this.request("PUT",e,Zk(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(z5))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const J5=["*"];let ZS;function iC(n){return function e$(){if(void 0===ZS&&(ZS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(ZS=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return ZS}()?.createHTML(n)||n}function PV(n){return Error(`Unable to find icon with the name "${n}"`)}function RV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function OV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Km{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let KS=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Km(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const d=this._sanitizer.sanitize(s.q3G.HTML,r);if(!d)throw OV(r);const m=iC(d);return this._addSvgIconConfig(e,i,new Km("",m,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Km(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw OV(i);const d=iC(o);return this._addSvgIconSetConfig(e,new Km("",d,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw RV(e);const r=this._cachedIconsByUrl.get(i);return r?mt(YS(r)):this._loadSvgIconFromConfig(new Km(e,null)).pipe((0,qn.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,Et.U)(o=>YS(o)))}getNamedSvgIcon(e,i=""){const r=FV(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(e,d):Br(PV(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?mt(YS(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Et.U)(i=>YS(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?mt(r):iv(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Ir(m=>{const S=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,d.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(S)),mt(null)})))).pipe((0,Et.U)(()=>{const d=this._extractIconWithNameFromAnySet(e,i);if(!d)throw PV(e);return d}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(o),m=this._extractSvgIconFromSet(d,e,o.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,qn.b)(i=>e.svgText=i),(0,Et.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?mt(null):this._fetchIcon(e).pipe((0,qn.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const d=o.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,r);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),r);const m=this._svgElementFromString(iC("<svg></svg>"));return m.appendChild(d),this._setSvgAttributes(m,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(iC("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:d,value:m}=r[o];"id"!==d&&i.setAttribute(d,m)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function t$(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const d=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!d)throw RV(i);const m=this._inProgressUrlFetches.get(d);if(m)return m;const C=this._httpClient.get(d,{responseType:"text",withCredentials:o}).pipe((0,Et.U)(S=>iC(S)),ml(()=>this._inProgressUrlFetches.delete(d)),(0,DB.B)());return this._inProgressUrlFetches.set(d,C),C}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(FV(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return i$(o)?new Km(o.url,null,o.options):new Km(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kV,8),s.LFG(Vo),s.LFG(F,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YS(n){return n.cloneNode(!0)}function FV(n,t){return n+":"+t}function i$(n){return!(!n.url||!n.options)}const r$=Yh(class{constructor(n){this._elementRef=n}}),s$=new s.OlP("mat-icon-location",{providedIn:"root",factory:function o$(){const n=(0,s.f3M)(F),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),NV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],a$=NV.map(n=>`[${n}]`).join(", "),l$=/^url\(['"]?#(.*?)['"]?\)$/;let Mf=(()=>{class n extends r${constructor(e,i,r,o,d){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=d,this._inline=!1,this._currentIconFetch=er.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=hi(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(d=>{o.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(a$),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)NV.forEach(d=>{const m=i[o],C=m.getAttribute(d),S=C?C.match(l$):null;if(S){let O=r.get(m);O||(O=[],r.set(m,O)),O.push({name:d,value:S[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Pi(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(KS),s.$8M("aria-hidden"),s.Y36(s$),s.Y36(s.qLn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:J5,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),rC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[vn],vn]}),n})();function Kk(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function Ty(n,t){const e=t?"":"none";Kk(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function LV(n,t,e){Kk(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function QS(n,t){return t&&"none"!=t?n+" "+t:n}function BV(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function Yk(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function Qk(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function Xk(n,t,e){const{top:i,bottom:r,left:o,right:d}=n;return e>=i&&e<=r&&t>=o&&t<=d}function sC(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function VV(n,t,e,i){const{top:r,right:o,bottom:d,left:m,width:C,height:S}=n,O=C*t,W=S*t;return i>r-W&&i<d+W&&e>m-O&&e<o+O}class HV{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Qk(e)})})}handleScroll(t){const e=ir(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let o,d;if(e===this._document){const S=this.getViewportScrollPosition();o=S.top,d=S.left}else o=e.scrollTop,d=e.scrollLeft;const m=r.top-o,C=r.left-d;return this.positions.forEach((S,O)=>{S.clientRect&&e!==O&&e.contains(O)&&sC(S.clientRect,m,C)}),r.top=o,r.left=d,{top:m,left:C}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function UV(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?GV(n,t):("input"===i||"select"===i||"textarea"===i)&&zV(n,t),jV("canvas",n,t,GV),jV("input, textarea, select",n,t,zV),t}function jV(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const o=e.querySelectorAll(n);for(let d=0;d<r.length;d++)i(r[d],o[d])}}let d$=0;function zV(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${d$++}`)}function GV(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const $V=Ls({passive:!0}),XS=Ls({passive:!1}),Jk=new Set(["position"]);class f${constructor(t,e,i,r,o,d){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=d,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new _t.x,this._pointerMoveSubscription=er.w0.EMPTY,this._pointerUpSubscription=er.w0.EMPTY,this._scrollSubscription=er.w0.EMPTY,this._resizeSubscription=er.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new _t.x,this.started=new _t.x,this.released=new _t.x,this.ended=new _t.x,this.entered=new _t.x,this.exited=new _t.x,this.dropped=new _t.x,this.moved=this._moveEvents,this._pointerDown=m=>{if(this.beforeStarted.next(),this._handles.length){const C=this._getTargetHandle(m);C&&!this._disabledHandles.has(C)&&!this.disabled&&this._initializeDragSequence(C,m)}else this.disabled||this._initializeDragSequence(this._rootElement,m)},this._pointerMove=m=>{const C=this._getPointerPositionOnPage(m);if(!this._hasStartedDragging){if(Math.abs(C.x-this._pickupPositionOnPage.x)+Math.abs(C.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const fe=Date.now()>=this._dragStartTime+this._getDragStartDelay(m),be=this._dropContainer;if(!fe)return void this._endDragSequence(m);(!be||!be.isDragging()&&!be.isReceiving())&&(m.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(m)))}return}m.preventDefault();const S=this._getConstrainedPointerPosition(C);if(this._hasMoved=!0,this._lastKnownPointerPosition=C,this._updatePointerDirectionDelta(S),this._dropContainer)this._updateActiveDropContainer(S,C);else{const O=this._activeTransform;O.x=S.x-this._pickupPositionOnPage.x+this._passiveTransform.x,O.y=S.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(O.x,O.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:S,event:m,distance:this._getDragDistance(S),delta:this._pointerDirectionDelta})})},this._pointerUp=m=>{this._endDragSequence(m)},this._nativeDragStart=m=>{if(this._handles.length){const C=this._getTargetHandle(m);C&&!this._disabledHandles.has(C)&&!this.disabled&&m.preventDefault()}else this.disabled||m.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new HV(i),d.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=hi(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Ty(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Fi(i)),this._handles.forEach(i=>Ty(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Fi(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,XS),e.addEventListener("touchstart",this._pointerDown,$V),e.addEventListener("dragstart",this._nativeDragStart,XS)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Fi(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Ty(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Ty(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){oC(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),d=this._anchor=this._anchor||this._document.createComment(""),m=this._getShadowRoot();r.insertBefore(d,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),LV(i,!1,Jk),this._document.body.appendChild(r.replaceChild(o,i)),this._getPreviewInsertionPoint(r,m).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=oC(e),o=!r&&0!==e.button,d=this._rootElement,m=ir(e),C=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),S=r?a0(e):o0(e);if(m&&m.draggable&&"mousedown"===e.type&&e.preventDefault(),i||o||C||S)return;if(this._handles.length){const ce=d.style;this._rootElementTapHighlight=ce.webkitTapHighlightColor||"",ce.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ce=>this._updateOnScroll(ce)),this._boundaryElement&&(this._boundaryRect=Qk(this._boundaryElement));const O=this._previewTemplate;this._pickupPositionInElement=O&&O.template&&!O.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const W=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:W.x,y:W.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){LV(this._rootElement,!0,Jk),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),d=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:d,distance:o,dropPoint:r}),e.drop(this,i,this._initialIndex,this._initialContainer,d,o,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const o=t.matchSize?this._rootElement.getBoundingClientRect():null,d=t.viewContainer.createEmbeddedView(i,t.context);d.detectChanges(),r=WV(d,this._document),this._previewRef=d,t.matchSize?ZV(r,o):r.style.transform=JS(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const o=this._rootElement;r=UV(o),ZV(r,o.getBoundingClientRect()),this._initialTransform&&(r.style.transform=this._initialTransform)}return Kk(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Jk),Ty(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function u$(n){const t=getComputedStyle(n),e=Yk(t,"transition-property"),i=e.find(m=>"transform"===m||"all"===m);if(!i)return 0;const r=e.indexOf(i),o=Yk(t,"transition-duration"),d=Yk(t,"transition-delay");return BV(o[r])+BV(d[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=d=>{(!d||ir(d)===this._preview&&"transform"===d.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(o))},o=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=WV(this._placeholderRef,this._document)):i=UV(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,o=r?r.getBoundingClientRect():i,d=oC(e)?e.targetTouches[0]:e,m=this._getViewportScrollPosition();return{x:o.left-i.left+(d.pageX-o.left-m.left),y:o.top-i.top+(d.pageY-o.top-m.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=oC(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){const d=this._ownerSVGElement.getScreenCTM();if(d){const m=this._ownerSVGElement.createSVGPoint();return m.x=r,m.y=o,m.matrixTransform(d.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:d}=this._pickupPositionInElement,m=this._boundaryRect,{width:C,height:S}=this._getPreviewRect(),O=m.top+d,W=m.bottom-(S-d);i=qV(i,m.left+o,m.right-(C-o)),r=qV(r,O,W)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,d=Math.abs(e-o.x),m=Math.abs(i-o.y);return d>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),m>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Ty(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,XS),t.removeEventListener("touchstart",this._pointerDown,$V),t.removeEventListener("dragstart",this._nativeDragStart,XS)}_applyRootElementTransform(t,e){const i=JS(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=QS(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=JS(t,e);this._preview.style.transform=QS(r,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===r.width&&0===r.height)return;const o=i.left-r.left,d=r.right-i.right,m=i.top-r.top,C=r.bottom-i.bottom;i.width>r.width?(o>0&&(t+=o),d>0&&(t-=d)):t=0,i.height>r.height?(m>0&&(e+=m),C>0&&(e-=C)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:oC(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=ir(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&sC(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=zh(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Fi(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function JS(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function qV(n,t,e){return Math.max(t,Math.min(e,n))}function oC(n){return"t"===n.type[0]}function WV(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function ZV(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=JS(t.left,t.top)}function KV(n,t,e){const i=aC(t,n.length-1),r=aC(e,n.length-1);if(i===r)return;const o=n[i],d=r<i?-1:1;for(let m=i;m!==r;m+=d)n[m]=n[m+d];n[r]=o}function aC(n,t){return Math.max(0,Math.min(t,n))}class m${constructor(t,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new _t.x,this.entered=new _t.x,this.exited=new _t.x,this.dropped=new _t.x,this.sorted=new _t.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=er.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new _t.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function c$(n=0,t=ud.z){return n<0&&(n=0),n_(n,n,t)}(0,Ov).pipe(rr(this._stopScrollTimers)).subscribe(()=>{const d=this._scrollNode,m=this.autoScrollStep;1===this._verticalScrollDirection?d.scrollBy(0,-m):2===this._verticalScrollDirection&&d.scrollBy(0,m),1===this._horizontalScrollDirection?d.scrollBy(-m,0):2===this._horizontalScrollDirection&&d.scrollBy(m,0)})},this.element=Fi(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new HV(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){let o;this._draggingStarted(),null==r?(o=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===o&&(o=this._getItemIndexFromPointerPosition(t,e,i))):o=r;const d=this._activeDraggables,m=d.indexOf(t),C=t.getPlaceholderElement();let S=d[o];if(S===t&&(S=d[o+1]),!S&&(null==o||-1===o||o<d.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(S=d[0]),m>-1&&d.splice(m,1),S&&!this._dragDropRegistry.isDragging(S)){const O=S.getRootElement();O.parentElement.insertBefore(C,O),d.splice(o,0,t)}else Fi(this.element).appendChild(C),d.push(t);C.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,o,d,m){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:d,dropPoint:m})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Fi(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!VV(this._clientRect,.05,e,i))return;const o=this._itemPositions,d=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===d&&o.length>0)return;const m="horizontal"===this._orientation,C=o.findIndex(Ue=>Ue.drag===t),S=o[d],W=S.clientRect,ce=C>d?1:-1,fe=this._getItemOffsetPx(o[C].clientRect,W,ce),be=this._getSiblingOffsetPx(C,o,ce),Ae=o.slice();KV(o,C,d),this.sorted.next({previousIndex:C,currentIndex:d,container:this,item:t}),o.forEach((Ue,it)=>{if(Ae[it]===Ue)return;const bt=Ue.drag===t,dt=bt?fe:be,Mt=bt?t.getPlaceholderElement():Ue.drag.getRootElement();Ue.offset+=dt,m?(Mt.style.transform=QS(`translate3d(${Math.round(Ue.offset)}px, 0, 0)`,Ue.initialTransform),sC(Ue.clientRect,0,dt)):(Mt.style.transform=QS(`translate3d(0, ${Math.round(Ue.offset)}px, 0)`,Ue.initialTransform),sC(Ue.clientRect,dt,0))}),this._previousSwap.overlaps=Xk(W,e,i),this._previousSwap.drag=S.drag,this._previousSwap.delta=m?r.x:r.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,o=0;if(this._parentPositions.positions.forEach((d,m)=>{m===this._document||!d.clientRect||i||VV(d.clientRect,.05,t,e)&&([r,o]=function g$(n,t,e,i){const r=XV(t,i),o=JV(t,e);let d=0,m=0;if(r){const C=n.scrollTop;1===r?C>0&&(d=1):n.scrollHeight-C>n.clientHeight&&(d=2)}if(o){const C=n.scrollLeft;1===o?C>0&&(m=1):n.scrollWidth-C>n.clientWidth&&(m=2)}return[d,m]}(m,d.clientRect,t,e),(r||o)&&(i=m))}),!r&&!o){const{width:d,height:m}=this._viewportRuler.getViewportSize(),C={width:d,height:m,top:0,right:d,bottom:m,left:0};r=XV(C,e),o=JV(C,t),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Fi(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Fi(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:Qk(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=Fi(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{const i=e.getRootElement();if(i){const r=this._itemPositions.find(o=>o.drag===e)?.initialTransform;i.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this._orientation,o=e[t].clientRect,d=e[t+-1*i];let m=o[r?"width":"height"]*i;if(d){const C=r?"left":"top",S=r?"right":"bottom";-1===i?m-=d.clientRect[C]-o[S]:m+=o[C]-d.clientRect[S]}return m}_getItemOffsetPx(t,e,i){const r="horizontal"===this._orientation;let o=r?e.left-t.left:e.top-t.top;return-1===i&&(o+=r?e.width-t.width:e.height-t.height),o}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const d=i[i.length-1].clientRect;return r?t>=d.right:e>=d.bottom}{const d=i[0].clientRect;return r?t<=d.left:e<=d.top}}_getItemIndexFromPointerPosition(t,e,i,r){const o="horizontal"===this._orientation,d=this._itemPositions.findIndex(({drag:m,clientRect:C})=>{if(m===t)return!1;if(r){const S=o?r.x:r.y;if(m===this._previousSwap.drag&&this._previousSwap.overlaps&&S===this._previousSwap.delta)return!1}return o?e>=Math.floor(C.left)&&e<Math.floor(C.right):i>=Math.floor(C.top)&&i<Math.floor(C.bottom)});return-1!==d&&this.sortPredicate(d,t,this)?d:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&Xk(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!Xk(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const o=Fi(this.element);return r===o||o.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{sC(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=zh(Fi(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function XV(n,t){const{top:e,bottom:i,height:r}=n,o=.05*r;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}function JV(n,t){const{left:e,right:i,width:r}=n,o=.05*r;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}const eI=Ls({passive:!1,capture:!0});let _$=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new _t.x,this.pointerUp=new _t.x,this.scroll=new _t.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,eI)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,eI)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:eI}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:eI}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,d)=>{this._document.addEventListener(d,o.handler,o.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new ki.y(r=>this._ngZone.runOutsideAngular(()=>{const d=m=>{this._activeDragInstances.length&&r.next(m)};return e.addEventListener("scroll",d,!0),()=>{e.removeEventListener("scroll",d,!0)}}))),(0,dm.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y$={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let eP=(()=>{class n{constructor(e,i,r,o){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(e,i=y$){return new f$(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new m$(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(F),s.LFG(s.R0b),s.LFG(hd),s.LFG(_$))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eH=new s.OlP("CDK_DRAG_PARENT"),tP=new s.OlP("CdkDropListGroup");let v$=(()=>{class n{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=hi(e)}ngOnDestroy(){this._items.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[s._Bn([{provide:tP,useExisting:n}])]}),n})();const tH=new s.OlP("CDK_DRAG_CONFIG");let b$=0;const nH=new s.OlP("CdkDropList");let C$=(()=>{class n{constructor(e,i,r,o,d,m,C){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=o,this._dir=d,this._group=m,this._destroyed=new _t.x,this.connectedTo=[],this.id="cdk-drop-list-"+b$++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.sorted=new s.vpe,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,C&&this._assignDefaults(C),this._dropListRef.enterPredicate=(S,O)=>this.enterPredicate(S.data,O.data),this._dropListRef.sortPredicate=(S,O,W)=>this.sortPredicate(S,O.data,W.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),m&&m._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=hi(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(xr(this._dir.value),rr(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=ad(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(d=>d.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=hi(this.sortingDisabled),e.autoScrollDisabled=hi(this.autoScrollDisabled),e.autoScrollStep=Fa(this.autoScrollStep,2),e.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:d,listOrientation:m}=e;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=d??!1,this.orientation=m||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n._dropLists=[],n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(eP),s.Y36(s.sBO),s.Y36(Hv),s.Y36(jc,8),s.Y36(tP,12),s.Y36(tH,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("id",i.id),s.ekj("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[s._Bn([{provide:tP,useValue:void 0},{provide:nH,useExisting:n}])]}),n})();const iH=new s.OlP("CdkDragHandle"),E$=new s.OlP("CdkDragPlaceholder"),w$=new s.OlP("CdkDragPreview");let S$=(()=>{class n{constructor(e,i,r,o,d,m,C,S,O,W,ce){this.element=e,this.dropContainer=i,this._ngZone=o,this._viewContainerRef=d,this._dir=C,this._changeDetectorRef=O,this._selfHandle=W,this._parentDrag=ce,this._destroyed=new _t.x,this.started=new s.vpe,this.released=new s.vpe,this.ended=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.dropped=new s.vpe,this.moved=new ki.y(fe=>{const be=this._dragRef.moved.pipe((0,Et.U)(Ae=>({source:this,pointerPosition:Ae.pointerPosition,event:Ae.event,delta:Ae.delta,distance:Ae.distance}))).subscribe(fe);return()=>{be.unsubscribe()}}),this._dragRef=S.createDrag(e,{dragStartThreshold:m&&null!=m.dragStartThreshold?m.dragStartThreshold:5,pointerDirectionChangeThreshold:m&&null!=m.pointerDirectionChangeThreshold?m.pointerDirectionChangeThreshold:5,zIndex:m?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),m&&this._assignDefaults(m),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=hi(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Pi(1),rr(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):Fi(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,d=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:Fa(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(d).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(Pi(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:d,boundaryElement:m,draggingDisabled:C,rootElementSelector:S,previewContainer:O}=e;this.disabled=C??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),o&&(this.constrainPosition=o),d&&(this.previewClass=d),m&&(this.boundaryElement=m),S&&(this.rootElementSelector=S),O&&(this.previewContainer=O)}_setupHandlesListener(){this._handles.changes.pipe(xr(this._handles),(0,qn.b)(e=>{const i=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),_i(e=>(0,dm.T)(...e.map(i=>i._stateChanges.pipe(xr(i))))),rr(this._destroyed)).subscribe(e=>{const i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(nH,12),s.Y36(F),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(tH,8),s.Y36(jc,8),s.Y36(eP),s.Y36(s.sBO),s.Y36(iH,10),s.Y36(eH,12))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,w$,5),s.Suo(r,E$,5),s.Suo(r,iH,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._previewTemplate=o.first),s.iGM(o=s.CRH())&&(i._placeholderTemplate=o.first),s.iGM(o=s.CRH())&&(i._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[s._Bn([{provide:eH,useExisting:n}]),s.TTD]}),n})(),nP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[eP],imports:[$h]}),n})();var Ym=(()=>(function(n){n.Todo="todo",n.InProgress="in_progress",n.Done="done"}(Ym||(Ym={})),Ym))(),ea=(()=>(function(n){n.Low="low",n.Medium="medium",n.High="high"}(ea||(ea={})),ea))();const rH=new Set;let Dy,I$=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):D$}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function T$(n){if(!rH.has(n))try{Dy||(Dy=document.createElement("style"),Dy.setAttribute("type","text/css"),document.head.appendChild(Dy)),Dy.sheet&&(Dy.sheet.insertRule(`@media ${n} {body{ }}`,0),rH.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function D$(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let iP=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new _t.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return sH(ad(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Xs(sH(ad(e)).map(d=>this._registerQuery(d).observable));return o=Ps(o.pipe(Pi(1)),o.pipe(ww(1),Wh(0))),o.pipe((0,Et.U)(d=>{const m={matches:!1,breakpoints:{}};return d.forEach(({matches:C,query:S})=>{m.matches=m.matches||C,m.breakpoints[S]=C}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new ki.y(d=>{const m=C=>this._zone.run(()=>d.next(C));return i.addListener(m),()=>{i.removeListener(m)}}).pipe(xr(i),(0,Et.U)(({matches:d})=>({query:e,matches:d})),rr(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(I$),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sH(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function M$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2)(1,"button",3),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.action())}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.data.action)}}function A$(n,t){}const aH=new s.OlP("MatSnackBarData");class tI{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const k$=Math.pow(2,31)-1;class rP{constructor(t,e){this._overlayRef=e,this._afterDismissed=new _t.x,this._afterOpened=new _t.x,this._onAction=new _t.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,k$))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let P$=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(rP),s.Y36(aH))},n.\u0275cmp=s.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0),s._uU(1),s.qZA(),s.YNc(2,M$,3,1,"div",1)),2&e&&(s.xp6(1),s.Oqu(i.data.message),s.xp6(1),s.Q6J("ngIf",i.hasAction))},dependencies:[If,xn],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const R$={snackBarState:Ko("state",[sr("void, hidden",dn({transform:"scale(0.8)",opacity:0})),sr("visible",dn({transform:"scale(1)",opacity:1})),or("* => visible",_r("150ms cubic-bezier(0, 0, 0.2, 1)")),or("* => void, * => hidden",_r("75ms cubic-bezier(0.4, 0.0, 1, 1)",dn({opacity:0})))])};let O$=(()=>{class n extends o_{constructor(e,i,r,o,d){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=d,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new _t.x,this._onExit=new _t.x,this._onEnter=new _t.x,this._animationState="void",this.attachDomPortal=m=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(m)),this._live="assertive"!==d.politeness||d.announcementMessage?"off"===d.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Pi(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(gr),s.Y36(tI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(a_,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&s.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&s.d8E("@state",i._animationState)},features:[s.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,A$,0,0,"ng-template",1),s.qZA(),s._UZ(2,"div")),2&e&&(s.xp6(2),s.uIk("aria-live",i._live)("role",i._role))},dependencies:[a_],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[R$.snackBarState]}}),n})(),lH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[hm,um,oi,tC,vn],vn]}),n})();const cH=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function F$(){return new tI}});let N$=(()=>{class n{constructor(e,i,r,o,d,m){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=d,this._defaultConfig=m,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:tI,useValue:i}]}),d=new qh(this.snackBarContainerComponent,i.viewContainerRef,o),m=e.attach(d);return m.instance.snackBarConfig=i,m.instance}_attach(e,i){const r={...new tI,...this._defaultConfig,...i},o=this._createOverlay(r),d=this._attachSnackBarContainer(o,r),m=new rP(d,o);if(e instanceof s.Rgc){const C=new Gv(e,null,{$implicit:r.data,snackBarRef:m});m.instance=d.attachTemplatePortal(C)}else{const C=this._createInjector(r,m),S=new qh(e,void 0,C),O=d.attachComponentPortal(S);m.instance=O.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(rr(o.detachments())).subscribe(C=>{o.overlayElement.classList.toggle(this.handsetCssClass,C.matches)}),r.announcementMessage&&d._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(m,r),this._openedSnackBarRef=m,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new c_;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,d="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,m=!d&&"center"!==e.horizontalPosition;return d?r.left("0"):m?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:rP,useValue:i},{provide:aH,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hn),s.LFG(l0),s.LFG(s.zs3),s.LFG(iP),s.LFG(n,12),s.LFG(cH))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),L$=(()=>{class n extends N${constructor(e,i,r,o,d,m){super(e,i,r,o,d,m),this.simpleSnackBarComponent=P$,this.snackBarContainerComponent=O$,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hn),s.LFG(l0),s.LFG(s.zs3),s.LFG(iP),s.LFG(n,12),s.LFG(cH))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:lH}),n})(),Qm=(()=>{class n{constructor(e){this.snackBar=e}showSuccess(e,i=3e3){this.snackBar.open(e,"Close",{duration:i,panelClass:["snackbar-success"]})}showError(e,i=3e3){this.snackBar.open(e,"Close",{duration:i,panelClass:["snackbar-error"]})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(L$))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B$=(()=>{class n{constructor(e,i,r,o,d){this.dialogRef=e,this.data=i,this.fb=r,this.snackbarService=o,this.ticketService=d,this.ticketForm=this.fb.group({title:["",Vn.required],description:["",Vn.maxLength(280)],priority:[ea.Low],link:[""]})}ngOnInit(){}getTicketsSafe(){var e=this;return(0,Ve.Z)(function*(){return(yield e.ticketService.getTicketsPromise(e.data.boardId,e.data.monthId,e.data.sprintId))||[]})()}onSubmit(){var e=this;return(0,Ve.Z)(function*(){if(e.data.boardId&&e.data.sprintId&&e.data.monthId){if(e.ticketForm.valid){const i=e.ticketForm.value,r={title:i.title,boardId:e.data.boardId,monthId:e.data.monthId,sprintId:e.data.sprintId,description:i.description,status:Ym.Todo,priority:i.priority?ea.High:ea.Low,createdAt:new Date,updatedAt:new Date,link:i.link,assignee:""},o=yield e.getTicketsSafe(),d=yield e.ticketService.getNewTicketPosition(e.data.boardId,e.data.monthId,e.data.sprintId);for(const[m,C]of o.entries())m>=d&&(C.position=m+1,yield e.ticketService.updateTicket(C.id,C));r.position=d;try{yield e.ticketService.createTicket(e.data.boardId,e.data.monthId,e.data.sprintId,r,d),e.dialogRef.close(),e.snackbarService.showSuccess("Ticket created successfully")}catch(m){console.error(m),e.snackbarService.showError("An error occurred while creating the ticket")}}}else e.snackbarService.showError("Required data is missing")})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(La),s.Y36(Xh),s.Y36(Hh),s.Y36(Qm),s.Y36(Ey))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-ticket-creation-dialog"]],decls:35,vars:5,consts:[[1,"dialog-container"],["mat-dialog-title",""],["mat-icon-button","",1,"close-button",3,"click"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","title","placeholder","Issue title","cdkFocusInitial",""],["matInput","","formControlName","description","placeholder","Add description...","maxlength","280",2,"min-height","101px","resize","none"],["align","end"],[1,"toggle-priority"],[1,"switch"],["type","checkbox","formControlName","priority"],[1,"slider","round"],["matInput","","formControlName","link","placeholder","Paste a link"],["matPrefix",""],[1,"save-button"],["type","submit",3,"width","height","disabled"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h1",1),s._uU(2,"Create a new ticket"),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return i.dialogRef.close()}),s.TgZ(4,"mat-icon"),s._uU(5,"close"),s.qZA()(),s.TgZ(6,"mat-dialog-content")(7,"form",3),s.NdJ("ngSubmit",function(){return i.onSubmit()}),s.TgZ(8,"mat-form-field",4)(9,"mat-label"),s._uU(10,"Issue title"),s.qZA(),s._UZ(11,"input",5),s.qZA(),s.TgZ(12,"mat-form-field",4)(13,"mat-label"),s._uU(14,"Add description..."),s.qZA(),s._UZ(15,"textarea",6),s.TgZ(16,"mat-hint",7),s._uU(17),s.qZA()(),s.TgZ(18,"div",8)(19,"label",9),s._UZ(20,"input",10)(21,"span",11),s.qZA(),s.TgZ(22,"span"),s._uU(23,"This item is a "),s.TgZ(24,"strong"),s._uU(25,"must have"),s.qZA()()(),s.TgZ(26,"mat-form-field",4)(27,"mat-label"),s._uU(28,"Paste a link"),s.qZA(),s._UZ(29,"input",12),s.TgZ(30,"mat-icon",13),s._uU(31,"link"),s.qZA()(),s.TgZ(32,"div",14)(33,"app-custom-button",15),s._uU(34," Save "),s.qZA()()()()()),2&e&&(s.xp6(7),s.Q6J("formGroup",i.ticketForm),s.xp6(10),s.hij("",i.ticketForm.controls.description.value.length,"/280"),s.xp6(16),s.Q6J("width",277)("height",44)("disabled",!i.ticketForm.valid))},dependencies:[Bc,Il,Og,ed,Fh,Oa,Ns,Vc,If,Mf,Ba,T_,Jb,_V,Xb,vV,Sy,Sf],styles:['[_nghost-%COMP%]{font-family:Inter;position:relative;display:flex;flex-direction:column}.dialog-container[_ngcontent-%COMP%]{position:relative}.close-button[_ngcontent-%COMP%]{position:absolute;top:-16px;right:-16px;z-index:10}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;border-radius:50%;transition:background-color .3s ease}mat-form-field[_ngcontent-%COMP%]{width:100%}.toggle-priority[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:16px;margin-bottom:16px;gap:8px}.toggle-priority[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:500;font-size:17.3264px;line-height:25px;color:#323232}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:36px;height:14px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:0;bottom:-1.9px;background-color:#fff;transition:.4s;border:1px solid #B2B2B2;box-shadow:0 1px 1px #00000026}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ff4581e6}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.slider.round[_ngcontent-%COMP%]{border-radius:14px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.save-button[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:center}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{font-family:Inter;font-weight:500}.form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.select-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}h1[_ngcontent-%COMP%]{text-align:center}']}),n})();const V$=Ko("collapseExpand",[sr("expanded",dn({height:"*",opacity:1,padding:"*"})),sr("collapsed",dn({height:"0px",opacity:0,padding:"0px"})),or("void => expanded",[dn({height:"0px",opacity:0,padding:"0px"}),_r("300ms")]),or("expanded => void",[_r("300ms",dn({height:"0px",opacity:0,padding:"0px"}))]),or("expanded <=> collapsed",[_r("300ms")])]);let uH=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(La),s.Y36(Xh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-confirmation-dialog"]],decls:10,vars:0,consts:[[1,"dialog-container"],["mat-dialog-title","",1,"dialog-title"],[1,"dialog-content"],[1,"dialog-actions"],["mat-raised-button","",1,"yes-button",3,"click"],["mat-raised-button","",1,"no-button",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h2",1),s._uU(2,"Delete Confirmation"),s.qZA(),s.TgZ(3,"mat-dialog-content",2),s._uU(4,"Are you sure you want to delete this ticket?"),s.qZA(),s.TgZ(5,"mat-dialog-actions",3)(6,"button",4),s.NdJ("click",function(){return i.dialogRef.close(!0)}),s._uU(7,"Yes"),s.qZA(),s.TgZ(8,"button",5),s.NdJ("click",function(){return i.dialogRef.close(!1)}),s._uU(9,"No"),s.qZA()()())},dependencies:[If,Ba,T_,nF],styles:['[_nghost-%COMP%]{width:100%;height:100%}.dialog-container[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.dialog-title[_ngcontent-%COMP%]{text-align:center;padding:1em 0;font-size:1.5em;transition:color .3s ease}.dialog-content[_ngcontent-%COMP%]{padding:1em 0;text-align:center;color:#4388dd;transition:color .3s ease}.dialog-actions[_ngcontent-%COMP%]{justify-content:space-around;padding:1em 0}.yes-button[_ngcontent-%COMP%]{background-color:#4388dd;color:#fff;font-weight:700;transition:background-color .3s ease}.yes-button[_ngcontent-%COMP%]:hover{background-color:#3076a6}.no-button[_ngcontent-%COMP%]{background-color:#ff4581;color:#fff;font-weight:700;transition:background-color .3s ease}.no-button[_ngcontent-%COMP%]:hover{background-color:#ff2157}.is-visible[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]{transform:translateY(0);transition:transform .3s ease-in-out}']}),n})();function H$(n,t){1&n&&s._UZ(0,"app-circle-loader",3)}function U$(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Issue title is required "),s.qZA())}function j$(n,t){1&n&&(s.TgZ(0,"span"),s._uU(1,"This item is a "),s.TgZ(2,"strong"),s._uU(3,"must have"),s.qZA()())}function z$(n,t){1&n&&(s.TgZ(0,"span"),s._uU(1,"This item is a "),s.TgZ(2,"strong"),s._uU(3,"must have"),s.qZA()())}function G$(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Invalid URL "),s.qZA())}function $$(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"div",20)(2,"mat-form-field",6),s._UZ(3,"input",21),s.TgZ(4,"mat-icon",22),s._uU(5,"link"),s.qZA(),s.YNc(6,G$,2,0,"mat-error",2),s.qZA()(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(6),s.Q6J("ngIf",e.ticketForm.controls.link.hasError("url")&&e.ticketForm.controls.link.touched)}}function q$(n,t){if(1&n&&(s.TgZ(0,"div",23)(1,"mat-icon",22),s._uU(2,"link"),s.qZA(),s.TgZ(3,"mat-label")(4,"a",24),s._uU(5,"Link to additional information"),s.qZA()()()),2&n){const e=s.oxw(2);s.xp6(4),s.Q6J("href",e.ticketForm.controls.link.value,s.LSH)}}function W$(n,t){if(1&n&&(s.TgZ(0,"app-custom-button",25),s._uU(1," Save "),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("width",277)("height",44)("disabled",e.ticketForm.invalid||e.loading||!e.isEditorMode)}}function Z$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",26),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.onDelete())}),s.TgZ(1,"mat-icon"),s._uU(2,"delete"),s.qZA()()}}function K$(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-dialog-content")(1,"form",4),s.NdJ("ngSubmit",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onSubmit())}),s.TgZ(2,"div",5)(3,"mat-form-field",6),s._UZ(4,"textarea",7),s.YNc(5,U$,2,0,"mat-error",2),s.qZA()(),s.TgZ(6,"div",5)(7,"mat-form-field",6),s._UZ(8,"textarea",8),s.TgZ(9,"mat-hint",9),s._uU(10),s.qZA()()(),s.TgZ(11,"div",5)(12,"div",10)(13,"label",11),s._UZ(14,"input",12)(15,"span",13),s.qZA(),s.YNc(16,j$,4,0,"span",14),s.YNc(17,z$,4,0,"ng-template",null,15,s.W1O),s.qZA()(),s.YNc(19,$$,7,1,"ng-container",14),s.YNc(20,q$,6,1,"ng-template",null,16,s.W1O),s.TgZ(22,"div",17),s.YNc(23,W$,2,3,"app-custom-button",18),s.qZA()(),s.YNc(24,Z$,3,0,"button",19),s.qZA()}if(2&n){const e=s.MAs(18),i=s.MAs(21),r=s.oxw();s.xp6(1),s.Q6J("formGroup",r.ticketForm),s.xp6(3),s.uIk("cdkFocusInitial",r.isEditorMode?"":null),s.xp6(1),s.Q6J("ngIf",r.ticketForm.controls.title.hasError("required")&&r.ticketForm.controls.title.touched),s.xp6(5),s.hij("",(null==r.ticketForm.controls.description.value?null:r.ticketForm.controls.description.value.length)||0,"/280"),s.xp6(6),s.Q6J("ngIf",r.ticketForm.controls.priority.value)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",r.isEditorMode)("ngIfElse",i),s.xp6(4),s.Q6J("ngIf",r.isEditorMode),s.xp6(1),s.Q6J("ngIf",r.isEditorMode)}}let Y$=(()=>{class n{constructor(e,i,r,o,d,m){this.dialogRef=e,this.data=i,this.fb=r,this.snackbarService=o,this.ticketService=d,this.dialog=m,this.loading=!1,this.ticketStatuses=Object.values(Ym),this.isEditorMode=this.data.isEditorMode,this.ticketForm=this.fb.group({boardId:[{value:"",disabled:!this.isEditorMode},Vn.required],monthId:[{value:"",disabled:!this.isEditorMode},Vn.required],sprintId:[{value:"",disabled:!this.isEditorMode},Vn.required],title:[{value:"",disabled:!this.isEditorMode},Vn.required],description:[{value:"",disabled:!this.isEditorMode},Vn.maxLength(280)],priority:[{value:ea.Low,disabled:!this.isEditorMode}],link:[{value:"",disabled:!this.isEditorMode},Vn.pattern("https?://.+")],status:[{value:Ym.Todo,disabled:!this.isEditorMode}]})}ngOnInit(){this.initializeForm()}initializeForm(){const e=this.data.ticket||{};let i=e.title.trim();this.isEditorMode&&"tbd"===i.toLowerCase()&&(i=""),this.ticketForm.patchValue({boardId:e.boardId,monthId:e.monthId,sprintId:e.sprintId,title:i,description:e.description||"",priority:e.priority===ea.High,link:e.link||"",status:e.status||Ym.Todo})}onSubmit(){var e=this;return(0,Ve.Z)(function*(){if(e.ticketForm.valid&&e.isEditorMode){e.loading=!0;try{const i=e.prepareTicketData();yield e.ticketService.updateTicket(e.data.ticket.id,i),e.snackbarService.showSuccess("Ticket updated successfully"),e.dialogRef.close()}catch(i){console.error(i),e.snackbarService.showError("An error occurred while updating the ticket")}finally{e.loading=!1}}})()}prepareTicketData(){const e=this.ticketForm.value;return{boardId:e.boardId,monthId:e.monthId,sprintId:e.sprintId,title:e.title,description:e.description,status:e.status,priority:e.priority?ea.High:ea.Low,updatedAt:new Date,link:e.link}}formatStatus(e){return e.split("_").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")}onDelete(){var e=this;return(0,Ve.Z)(function*(){e.dialog.open(uH,{width:"330px",height:"210px",panelClass:"confirmation-popup"}).afterClosed().subscribe(function(){var r=(0,Ve.Z)(function*(o){if(o)try{yield e.ticketService.deleteTicket(e.data.ticket.id,e.data.ticket.boardId,e.data.ticket.monthId,e.data.ticket.sprintId),e.snackbarService.showSuccess("Ticket deleted successfully"),e.dialogRef.close()}catch(d){console.error(d),e.snackbarService.showError("An error occurred while deleting the ticket")}});return function(o){return r.apply(this,arguments)}}())})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(La),s.Y36(Xh),s.Y36(Hh),s.Y36(Qm),s.Y36(Ey),s.Y36(Rl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-ticket-edit-dialog"]],decls:3,vars:2,consts:[[1,"dialog-container"],["class","loading",4,"ngIf"],[4,"ngIf"],[1,"loading"],[3,"formGroup","ngSubmit"],[1,"form-group"],["appearance","outline"],["matInput","","formControlName","title","placeholder","Issue title",2,"resize","none"],["matInput","","formControlName","description","placeholder","Add description...","maxlength","280","appClickableLinks","",2,"min-height","120px","resize","none"],["align","end"],[1,"toggle-priority"],[1,"switch"],["type","checkbox","formControlName","priority"],[1,"slider","round"],[4,"ngIf","ngIfElse"],["notImportant",""],["linkView",""],[1,"save-button"],["type","submit",3,"width","height","disabled",4,"ngIf"],["mat-icon-button","","class","delete-button",3,"click",4,"ngIf"],[1,"form-group","editor-view"],["matInput","","formControlName","link","placeholder","Paste a link"],["matPrefix",""],[1,"form-group","link-readonly"],["target","_blank","tabindex","-1",3,"href"],["type","submit",3,"width","height","disabled"],["mat-icon-button","",1,"delete-button",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,H$,1,0,"app-circle-loader",1),s.YNc(2,K$,25,10,"mat-dialog-content",2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",!i.loading))},dependencies:[xn,Bc,Il,Og,ed,Fh,Oa,Ns,Vc,If,Mf,T_,mV,Jb,_V,Xb,vV,Sy,Iy,Sf],styles:['[_nghost-%COMP%]{font-family:Inter;position:relative;display:flex;flex-direction:column;animation:fadeIn ease 1s;-webkit-animation:fadeIn ease 1s;-moz-animation:fadeIn ease 1s;-o-animation:fadeIn ease 1s;-ms-animation:fadeIn ease 1s;width:100%;height:100%}mat-dialog-content[_ngcontent-%COMP%]{width:100%;height:100%;margin:0}form[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.dialog-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;box-sizing:border-box;padding:12px;box-shadow:0 5px 15px #0000001a}.form-group[_ngcontent-%COMP%]:nth-child(2){padding-bottom:15px;border-bottom:3px solid rgba(0,0,0,.1)}.form-group[_ngcontent-%COMP%]:nth-child(4){border-bottom:3px solid rgba(0,0,0,.1)}.form-group[_ngcontent-%COMP%]:nth-child(4)   input[_ngcontent-%COMP%]{height:20px;padding:.25rem}.form-group[_ngcontent-%COMP%]:nth-child(4)   input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 5px #005aa04d;background-color:#005aa00d}mat-form-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{width:100%;position:relative;animation:slideInLeft ease .5s;-webkit-animation:slideInLeft ease .5s;-moz-animation:slideInLeft ease .5s;-o-animation:slideInLeft ease .5s;-ms-animation:slideInLeft ease .5s}@keyframes slideInLeft{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}.toggle-priority[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:16px;margin-bottom:16px;gap:8px}.toggle-priority[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:500;font-size:17.3264px;line-height:25px;color:#323232}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:36px;height:14px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:0;bottom:-1.9px;background-color:#fff;transition:.4s;border:1px solid #B2B2B2;box-shadow:0 1px 1px #00000026}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ff4581e6}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.slider.round[_ngcontent-%COMP%]{border-radius:14px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.save-button[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:center}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{font-family:Inter;font-weight:500}.form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.select-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}h1[_ngcontent-%COMP%]{text-align:center}.separator-border[_ngcontent-%COMP%]{border-bottom:3px solid rgba(0,0,0,.1)}.link-readonly[_ngcontent-%COMP%]{height:50px;display:flex;justify-content:flex-start;align-items:center}.link-readonly[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:25px;margin-left:.7rem;margin-right:.6rem}.delete-button[_ngcontent-%COMP%]{position:absolute;left:1rem;bottom:20px}']}),n})();function Q$(n,t){1&n&&s._UZ(0,"div",5)}function X$(n,t){1&n&&s._UZ(0,"div",6)}function J$(n,t){1&n&&(s.TgZ(0,"div",7)(1,"button",8)(2,"mat-icon"),s._uU(3,"edit"),s.qZA()()())}const eq=function(n){return{"tbd-ticket":n}};let tq=(()=>{class n{constructor(e,i,r){this.dialog=e,this.snackBarService=i,this.ticketService=r,this.isEditorMode=!1}ngOnInit(){}getPriorityClass(e){switch(e){case ea.Low:return"low-priority";case ea.Medium:return"medium-priority";case ea.High:return"high-priority";default:return""}}openEditDialog(){this.dialog.open(Y$,{width:"520px",height:"542px",panelClass:"custom-popup",data:{ticket:this.ticket,isEditorMode:this.isEditorMode}}).afterClosed().subscribe(i=>{i&&this.isEditorMode&&(this.ticket=i)})}confirmDelete(e){e.stopPropagation(),this.dialog.open(uH,{width:"300px"}).afterClosed().subscribe(r=>{r&&this.deleteTicket()})}deleteTicket(){var e=this;return(0,Ve.Z)(function*(){if(e.ticket.id&&e.boardId&&e.monthId&&e.sprintId)try{yield e.ticketService.deleteTicket(e.ticket.id,e.boardId,e.monthId,e.sprintId),e.snackBarService.showSuccess("Ticket deleted successfully!")}catch(i){e.snackBarService.showError("Error while deleting ticket"),console.error(i)}else console.error("Missing required properties")})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rl),s.Y36(Qm),s.Y36(Ey))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-ticket"]],inputs:{ticket:"ticket",isEditorMode:"isEditorMode",boardId:"boardId",monthId:"monthId",sprintId:"sprintId"},decls:6,vars:8,consts:[[1,"ticket",3,"ngClass","click"],["class","priority-line",4,"ngIf"],[3,"ngClass"],["class","priority-indicator",4,"ngIf"],["class","ticket-buttons",4,"ngIf"],[1,"priority-line"],[1,"priority-indicator"],[1,"ticket-buttons"],["mat-icon-button","",1,"edit-button"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.NdJ("click",function(){return i.openEditDialog()}),s.YNc(1,Q$,1,0,"div",1),s.TgZ(2,"h4",2),s._uU(3),s.qZA(),s.YNc(4,X$,1,0,"div",3),s.YNc(5,J$,4,0,"div",4),s.qZA()),2&e&&(s.Q6J("ngClass",i.getPriorityClass(i.ticket.priority)),s.xp6(1),s.Q6J("ngIf",i.ticket.priority),s.xp6(1),s.Q6J("ngClass",s.VKq(6,eq,i.ticket.title.includes("TBD"))),s.xp6(1),s.Oqu(i.ticket.title),s.xp6(1),s.Q6J("ngIf",i.ticket.priority),s.xp6(1),s.Q6J("ngIf",i.isEditorMode))},dependencies:[_n,xn,If,Mf],styles:[".ticket[_ngcontent-%COMP%]{position:relative;background-color:#f5f5f5;border-radius:3px;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;padding:8px 12px;margin:4px 7px;transition:.3s;display:flex;flex-direction:row;justify-content:space-between}.tbd-ticket[_ngcontent-%COMP%]{color:#ccc!important}.ticket[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.ticket[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Helvetica;font-style:normal;font-size:clamp(11px,1.2vw,14px);line-height:18px;margin:0;color:#000}.ticket[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(11px,1.2vw,14px);color:#333;margin-bottom:10px}.priority-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:2px;height:100%}.low-priority[_ngcontent-%COMP%]   .priority-line[_ngcontent-%COMP%]{border-left:3px dashed rgb(255,69,129)}.medium-priority[_ngcontent-%COMP%]   .priority-line[_ngcontent-%COMP%], .high-priority[_ngcontent-%COMP%]   .priority-line[_ngcontent-%COMP%]{border-left:3px solid rgb(255,69,129)}.edit-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0}.edit-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}"]}),n})();function nq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"h3",4),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.startRenaming())}),s._uU(1),s.qZA()}if(2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.sprint.name)}}function iq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",7),s.NdJ("blur",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.saveSprintName())}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("formControl",e.sprintNameControl)}}function rq(n,t){if(1&n&&(s.ynx(0),s._UZ(1,"app-ticket",11),s.BQk()),2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("ticket",e)("cdkDragDisabled",!i.isEditorMode)("cdkDragData",e)("isEditorMode",i.isEditorMode)("sprintId",i.sprint.id)("boardId",i.boardId)("monthId",i.monthId)}}function sq(n,t){if(1&n&&(s.TgZ(0,"div",8)(1,"p",9),s._uU(2,"User facing changes:"),s.qZA(),s.YNc(3,rq,2,7,"ng-container",10),s.qZA()),2&n){const e=s.oxw();s.Q6J("@collapseExpand",e.isSprintCollapsed?"collapsed":"expanded"),s.xp6(3),s.Q6J("ngForOf",e.tickets)}}function oq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",12)(1,"button",13),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openTicketCreationDialog())}),s.TgZ(2,"mat-icon"),s._uU(3,"add"),s.qZA()()()}}const aq=function(n,t){return{tickets:n,monthId:t}};let lq=(()=>{class n{constructor(e,i,r){this.dialog=e,this.sprintService=i,this.ticketService=r,this.isEditorMode=!1,this.isRenamingSprint=!1,this.sprintNameControl=new Lc(""),this.isSprintCollapsed=!1,this.tickets=[],this.subscriptions=new er.w0,this.loading=!1}ngOnInit(){this.sprint.boardId&&this.sprint.id&&this.monthId&&(this.loading=!0,this.fetchSprintData())}fetchSprintData(){try{this.fetchTickets(),this.fetchSprintState(),this.setSprintNameControl()}catch(e){console.error("Error fetching sprint data:",e),this.loading=!1}}fetchTickets(){this.ticketService.getTickets(this.sprint.boardId,this.monthId,this.sprint.id).subscribe(e=>{this.tickets=e&&e.length>0?e.filter(i=>null!=i&&null!=i.position).sort((i,r)=>(i.position??0)-(r.position??0)):[]},e=>{console.error("Error fetching tickets:",e),this.loading=!1})}fetchSprintState(){this.sprint.boardId&&this.sprint.id&&this.monthId&&this.sprintService.getSprintState(this.sprint.boardId,this.monthId,this.sprint.id).subscribe(e=>{e&&(this.isSprintCollapsed=e.isCollapsed||!1),this.loading=!1},e=>{console.error("Error fetching sprint state:",e)})}setSprintNameControl(){this.sprint.name&&this.sprintNameControl.setValue(this.sprint.name)}ngOnDestroy(){this.subscriptions.unsubscribe()}startRenaming(){this.isEditorMode&&(this.isRenamingSprint=!0)}saveSprintName(){if(this.isEditorMode&&this.sprint.id&&this.sprint.boardId&&this.monthId){const e=this.sprintNameControl.value;e&&e!==this.sprint.name&&this.sprintService.updateSprint(this.sprint.id,this.sprint.boardId,this.monthId,{name:e}).then(()=>{this.sprint.name=e}).catch(i=>{console.error("Error updating sprint name:",i)}),this.isRenamingSprint=!1}}toggleSprintCollapse(){this.isSprintCollapsed=!this.isSprintCollapsed,this.sprint.id&&this.sprint.boardId&&this.monthId&&this.sprintService.updateSprintState(this.sprint.boardId,this.monthId,this.sprint.id,{isCollapsed:this.isSprintCollapsed}).catch(e=>{console.error("Error updating sprint collapse state:",e)})}openTicketCreationDialog(){this.isEditorMode&&this.sprint.boardId&&this.sprint.id&&this.monthId&&this.dialog.open(B$,{width:"400px",data:{boardId:this.sprint.boardId,sprintId:this.sprint.id,monthId:this.monthId}})}drop(e){var i=this;return(0,Ve.Z)(function*(){if(i.isEditorMode)if(e.previousContainer===e.container)KV(e.container.data.tickets,e.previousIndex,e.currentIndex),i.monthId&&i.updateTicketOrder(e.container.data.tickets,i.sprint.id,i.monthId);else if(function p$(n,t,e,i){const r=aC(e,n.length-1),o=aC(i,t.length);n.length&&t.splice(o,0,n.splice(r,1)[0])}(e.previousContainer.data.tickets,e.container.data.tickets,e.previousIndex,e.currentIndex),i.monthId&&e.previousContainer.data.monthId&&e.container.data.monthId){yield i.ticketService.deleteTicket(e.item.data.id,i.boardId,e.previousContainer.data.monthId,e.previousContainer.id);const r={...e.item.data,position:e.currentIndex};yield i.ticketService.createTicket(i.boardId,e.container.data.monthId,e.container.id,r,e.currentIndex),i.updateTicketOrder(e.previousContainer.data.tickets,e.previousContainer.id,e.previousContainer.data.monthId),i.updateTicketOrder(e.container.data.tickets,i.sprint.id,i.monthId)}})()}updateTicketOrder(e,i,r){var o=this;return(0,Ve.Z)(function*(){e.forEach(function(){var d=(0,Ve.Z)(function*(m,C){const S={...m,position:C};yield o.ticketService.updateTicket(S.id,{...S,boardId:o.boardId,sprintId:i,monthId:r})});return function(m,C){return d.apply(this,arguments)}}())})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rl),s.Y36(wy),s.Y36(Ey))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sprint"]],inputs:{boardId:"boardId",sprint:"sprint",monthId:"monthId",isEditorMode:"isEditorMode"},decls:9,vars:10,consts:[["cdkDropList","",1,"sprint",3,"id","cdkDropListData","cdkDropListDropped"],[1,"sprint-header"],[3,"click",4,"ngIf"],["matInput","",3,"formControl","blur",4,"ngIf"],[3,"click"],["class","tickets",4,"ngIf"],["class","create-ticket-button-container",4,"ngIf"],["matInput","",3,"formControl","blur"],[1,"tickets"],[1,"tickets__paragraph"],[4,"ngFor","ngForOf"],["cdkDrag","",3,"ticket","cdkDragDisabled","cdkDragData","isEditorMode","sprintId","boardId","monthId"],[1,"create-ticket-button-container"],["mat-icon-button","",1,"create-ticket-button",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.NdJ("cdkDropListDropped",function(o){return i.drop(o)}),s.TgZ(1,"div",1),s.YNc(2,nq,2,1,"h3",2),s.YNc(3,iq,1,1,"input",3),s.TgZ(4,"button",4),s.NdJ("click",function(){return i.toggleSprintCollapse()}),s.TgZ(5,"mat-icon"),s._uU(6),s.qZA()()(),s.YNc(7,sq,4,2,"div",5),s.YNc(8,oq,4,0,"div",6),s.qZA()),2&e&&(s.Q6J("id",i.sprint.id||"defaultId")("cdkDropListData",s.WLB(7,aq,i.tickets,i.monthId)),s.xp6(2),s.Q6J("ngIf",!i.isRenamingSprint),s.xp6(1),s.Q6J("ngIf",i.isRenamingSprint),s.xp6(3),s.Oqu(i.isSprintCollapsed?"keyboard_arrow_down":"keyboard_arrow_up"),s.xp6(1),s.Q6J("ngIf",!i.loading),s.xp6(1),s.Q6J("ngIf",i.isEditorMode&&!i.isSprintCollapsed))},dependencies:[mn,xn,Il,ed,wv,If,Mf,Sy,C$,S$,tq],styles:["app-ticket[_ngcontent-%COMP%]{width:100%;transition:transform .12s cubic-bezier(0,0,.2,1)}.loading[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.sprint[_ngcontent-%COMP%]{max-height:400px;min-height:190px}.sprint-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-direction:row-reverse;padding:10px 12px;background:#ffffff;border-radius:8px;box-shadow:0 2px 6px #00000024,0 1px 2px #00000014,0 0 1px #0000000f,0 0 #0000000a}.sprint-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:90%;text-align:center}.sprint-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .sprint-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex:none;order:1;flex-grow:0;font-family:Roboto;font-style:normal;font-weight:500;font-size:clamp(14px,1.2vw,16px);line-height:clamp(14px,1.2vw,16px);text-align:center;letter-spacing:.02em;color:#005aa0;margin:0}.sprint-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center}.sprint-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#005aa0;transition:transform .3s ease}.sprint-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.sprint[_ngcontent-%COMP%]   .collapsed[_ngcontent-%COMP%]{display:none;transition:opacity .3s ease-in-out}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]{margin-top:6px;border:1px solid #ccc;width:100%;min-height:100px;max-height:370px;display:flex;flex-direction:column;justify-content:flex-start;padding:12px 0;border-radius:4px;background:#ffffff;box-shadow:0 4px 17px #0000001a;overflow-y:auto;scroll-behavior:smooth}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:10px;-webkit-transition:background .2s ease-in-out;transition:background .2s ease-in-out}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.sprint[_ngcontent-%COMP%]   .tickets.expanded[_ngcontent-%COMP%]{display:flex}.sprint[_ngcontent-%COMP%]   .tickets__paragraph[_ngcontent-%COMP%]{margin:0 0 10px .5rem;font-family:Inter;font-style:normal;font-weight:600;font-size:clamp(11px,1.2vw,14px);line-height:18px;color:#3a4650;flex:none;order:0;flex-grow:0}.sprint[_ngcontent-%COMP%]   .create-ticket-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;bottom:10px}.sprint[_ngcontent-%COMP%]   .create-ticket-button[_ngcontent-%COMP%]{width:13px;height:13px;background:#ff4581;border:1px solid #fffdfd;border-radius:50%;display:flex;justify-content:center;align-items:center;padding:10px}.sprint[_ngcontent-%COMP%]   .create-ticket-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:13px;color:#fffdfd}  .mat-input-element{border:none;font-family:Roboto;font-style:normal;font-weight:500;font-size:clamp(14px,1.2vw,16px);line-height:clamp(14px,1.2vw,16px);color:#005aa0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .12s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{position:relative;z-index:100;box-sizing:border-box}.cdk-drag-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{pointer-events:none}.cdk-drag-handle[_ngcontent-%COMP%]{-webkit-user-drag:none;touch-action:none}"],data:{animation:[V$]}}),n})();function cq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-icon",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.deleteMonth())}),s._uU(1,"close"),s.qZA()}}function uq(n,t){if(1&n&&s._UZ(0,"app-sprint",7),2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("sprint",e)("boardId",i.boardId)("monthId",i.month.id)("isEditorMode",i.isEditorMode)}}function dq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1)(1,"h2",2),s.NdJ("mouseover",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.showDeleteIcon=!0)})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.showDeleteIcon=!1)}),s._uU(2),s.YNc(3,cq,2,0,"mat-icon",3),s.qZA(),s.TgZ(4,"div",4),s.YNc(5,uq,1,4,"app-sprint",5),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(2),s.hij(" ",e.month.name," "),s.xp6(1),s.Q6J("ngIf",e.showDeleteIcon&&e.isEditorMode),s.xp6(2),s.Q6J("ngForOf",e.sprints)}}let hq=(()=>{class n{constructor(e,i){this.sprintService=e,this.monthService=i,this.isEditorMode=!1,this.sprints=[],this.showDeleteIcon=!1,this.subscriptions=new er.w0,this.monthDeleted=new s.vpe}ngOnInit(){this.fetchSprints()}ngOnDestroy(){this.subscriptions.unsubscribe()}fetchSprints(){const e=this.sprintService.getSprints(this.boardId,this.month.id).subscribe(i=>{this.sprints=i&&i.length>0?i.filter(r=>null!=r&&null!=r.name).sort((r,o)=>r.name.localeCompare(o.name)):[]});this.subscriptions.add(e)}deleteMonth(){var e=this;return(0,Ve.Z)(function*(){try{e.month.id&&e.boardId&&(yield e.monthService.deleteMonth(e.boardId,e.month.id),e.monthDeleted.emit(e.month.id))}catch(i){console.error("Failed to delete month:",i)}})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(wy),s.Y36(qS))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-month"]],inputs:{month:"month",boardId:"boardId",isEditorMode:"isEditorMode"},outputs:{monthDeleted:"monthDeleted"},decls:1,vars:1,consts:[["class","month",4,"ngIf"],[1,"month"],[3,"mouseover","mouseleave"],["class","delete-icon",3,"click",4,"ngIf"],[1,"sprints"],[3,"sprint","boardId","monthId","isEditorMode",4,"ngFor","ngForOf"],[1,"delete-icon",3,"click"],[3,"sprint","boardId","monthId","isEditorMode"]],template:function(e,i){1&e&&s.YNc(0,dq,6,3,"div",0),2&e&&s.Q6J("ngIf",i.month)},dependencies:[mn,xn,Mf,lq],styles:["h2[_ngcontent-%COMP%]{position:relative;font-family:Assistant;font-style:normal;font-weight:600;font-size:clamp(16px,1.5vw,18px);line-height:24px;text-align:center;color:#000;border:2px solid #4388dd;border-radius:6px;box-shadow:0 4px 180px #00000040;overflow:hidden}.delete-icon[_ngcontent-%COMP%]{position:absolute;right:5px;top:2px;padding:2px;border-radius:50%;background-color:red;color:#fff;cursor:pointer;opacity:0;transform:scale(0);animation:fadeOut .5s ease-in-out;font-size:16px;width:16px;height:16px;transition:all .5s ease}h2[_ngcontent-%COMP%]:hover   .delete-icon[_ngcontent-%COMP%]{animation:fadeIn .5s ease-in-out forwards;transform:rotate(360deg);background-color:#ff4136}.sprints[_ngcontent-%COMP%]{display:grid;gap:.75rem;grid-template-columns:repeat(auto-fill,minmax(calc(50% - .375rem),1fr))}@keyframes fadeIn{0%{transform:scale(0);opacity:0}50%{transform:scale(1.2);opacity:1}to{transform:scale(1);opacity:1}}@keyframes fadeOut{0%{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:1}to{transform:scale(0);opacity:0}}"]}),n})();function fq(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"app-month",7),s.NdJ("monthDeleted",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onMonthDeleted(r))}),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("month",e)("boardId",i.boardId)("isEditorMode",i.isEditorMode)("@slideIn",i.state)}}function pq(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"div",5),s.YNc(2,fq,2,4,"ng-container",6),s.qZA(),s.BQk()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngForOf",e.months.slice(e.currentIndex,e.currentIndex+3))}}function mq(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"app-month",7),s.NdJ("monthDeleted",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onMonthDeleted(r))}),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("month",e)("boardId",i.boardId)("isEditorMode",i.isEditorMode)("@slideIn",i.state)}}function gq(n,t){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,mq,2,4,"ng-container",6),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.months.slice(e.currentIndex,e.currentIndex+3))}}let dH=(()=>{class n{constructor(){this.months=[],this.boardId="",this.isEditorMode=!1,this.visibleMonthsChange=new s.vpe,this.monthDeleted=new s.vpe,this.currentIndex=0,this.state=0,this.slideInTrigger=0}ngOnInit(){this.updateDisplayedMonths()}ngOnDestroy(){eC(this.boardId,this.currentIndex)}ngOnChanges(e){e.months&&this.updateDisplayedMonths()}updateDisplayedMonths(){const e=function N5(n){const t=localStorage.getItem(`lastViewedMonthIndex_${n}`);return null!==t?parseInt(t,10):null}(this.boardId);this.currentIndex=null!==e&&e<=this.months.length-3?e:Math.max(0,this.months.length-3),this.slideInTrigger=this.currentIndex,this.emitVisibleMonths()}hasPrevious(){return this.currentIndex>0}hasNext(){return this.currentIndex<this.months.length-3}previous(){this.hasPrevious()&&(this.currentIndex--,this.slideInTrigger=this.currentIndex,eC(this.boardId,this.currentIndex),this.emitVisibleMonths())}next(){this.hasNext()&&(this.currentIndex++,this.slideInTrigger=this.currentIndex,eC(this.boardId,this.currentIndex),this.emitVisibleMonths())}onMonthDeleted(e){this.months=this.months.filter(i=>i.id!==e),this.state++,this.slideInTrigger=this.currentIndex,this.monthDeleted.emit(e),this.updateDisplayedMonths()}showLastCreatedMonth(){this.currentIndex=Math.max(0,this.months.length-2),this.slideInTrigger=this.currentIndex,eC(this.boardId,this.currentIndex),this.emitVisibleMonths()}scrollToMonth(e){e>=1&&e<=this.months.length-2?this.currentIndex=e-1:e<1?this.currentIndex=0:e>this.months.length-2&&(this.currentIndex=Math.max(0,this.months.length-3)),this.slideInTrigger=this.currentIndex,eC(this.boardId,this.currentIndex),this.emitVisibleMonths()}emitVisibleMonths(){this.visibleMonthsChange.emit({start:this.currentIndex,end:this.currentIndex+3})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-carousel"]],hostVars:1,hostBindings:function(e,i){2&e&&s.d8E("@slideIn",i.slideInTrigger)},inputs:{months:"months",boardId:"boardId",isEditorMode:"isEditorMode"},outputs:{visibleMonthsChange:"visibleMonthsChange",monthDeleted:"monthDeleted"},features:[s.TTD],decls:10,vars:6,consts:[[1,"carousel"],["mat-icon-button","",1,"nav-button","nav-button-left",3,"click"],[4,"ngIf","ngIfElse"],["readMode",""],["mat-icon-button","",1,"nav-button","nav-button-right",3,"click"],["cdkDropListGroup","",1,"carousel-content"],[4,"ngFor","ngForOf"],[3,"month","boardId","isEditorMode","monthDeleted"],[1,"carousel-content"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0)(1,"button",1),s.NdJ("click",function(){return i.previous()}),s.TgZ(2,"mat-icon"),s._uU(3,"navigate_before"),s.qZA()(),s.YNc(4,pq,3,1,"ng-container",2),s.YNc(5,gq,2,1,"ng-template",null,3,s.W1O),s.TgZ(7,"button",4),s.NdJ("click",function(){return i.next()}),s.TgZ(8,"mat-icon"),s._uU(9,"navigate_next"),s.qZA()()()),2&e){const r=s.MAs(6);s.xp6(1),s.ekj("hidden",!i.hasPrevious()),s.xp6(3),s.Q6J("ngIf",i.isEditorMode)("ngIfElse",r),s.xp6(3),s.ekj("hidden",!i.hasNext())}},dependencies:[mn,xn,If,Mf,v$,hq],styles:["[_nghost-%COMP%]{width:100%}.loading[_ngcontent-%COMP%]{height:450px;display:flex;justify-content:center;align-items:center}.carousel[_ngcontent-%COMP%]{height:450px;display:flex}.carousel[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{border:none;background-color:transparent;cursor:pointer;color:#0000008a}.carousel[_ngcontent-%COMP%]   .nav-button.hidden[_ngcontent-%COMP%]{visibility:hidden}.carousel[_ngcontent-%COMP%]   .nav-button-left[_ngcontent-%COMP%]{margin-right:.15rem;margin-top:-6.5px}.carousel[_ngcontent-%COMP%]   .nav-button-right[_ngcontent-%COMP%]{margin-left:1rem;margin-top:-8px}.carousel[_ngcontent-%COMP%]   .carousel-content[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem}"],data:{animation:[L5]}}),n})();const lC=["January","February","March","April","May","June","July","August","September","October","November","December"];let _q=(()=>{class n{constructor(e,i){this.formBuilder=e,this.dialogRef=i,this.accessCodeForm=this.formBuilder.group({accessCode:["",[Vn.required,Vn.minLength(6),Vn.maxLength(6)]]})}onNoClick(){this.dialogRef.close()}submitForm(){if(this.accessCodeForm.valid){const e=this.accessCodeForm.get("accessCode")?.value;this.dialogRef.close(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hh),s.Y36(La))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-access-popup"]],decls:16,vars:2,consts:[[1,"popup-container"],[1,"setup-title"],[1,"content-container"],[1,"title"],[1,"description"],[1,"access-code-form",3,"formGroup","ngSubmit"],[1,"access-code-input"],["matInput","","formControlName","accessCode","type","password","required",""],[1,"popup-actions"],["mat-button","",3,"disabled","click"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2,"Enter Access Code"),s.qZA(),s.TgZ(3,"div",2)(4,"h2",3),s._uU(5,"To obtain editor rights"),s.qZA(),s.TgZ(6,"p",4),s._uU(7,"Please enter the 6 digit access code:"),s.qZA(),s.TgZ(8,"form",5),s.NdJ("ngSubmit",function(){return i.submitForm()}),s.TgZ(9,"mat-form-field",6),s._UZ(10,"input",7),s.qZA()()(),s.TgZ(11,"div",8)(12,"app-custom-button",9),s.NdJ("click",function(){return i.submitForm()}),s._uU(13,"Submit"),s.qZA(),s.TgZ(14,"app-custom-button",10),s.NdJ("click",function(){return i.onNoClick()}),s._uU(15,"Cancel"),s.qZA()()()),2&e&&(s.xp6(8),s.Q6J("formGroup",i.accessCodeForm),s.xp6(4),s.Q6J("disabled",i.accessCodeForm.invalid))},dependencies:[Bc,Il,ed,Fh,nr,Ns,Vc,Jb,Sy,Sf],styles:[".popup-container[_ngcontent-%COMP%]{box-sizing:border-box;background:#323232;border:1px solid #323232;box-shadow:0 4px 20px #0009;border-radius:5px;padding:20px;height:100%;width:100%}.setup-title[_ngcontent-%COMP%]{width:100%;height:50px;font-size:clamp(16px,1.5vw,18px);line-height:24px;color:#fff}.content-container[_ngcontent-%COMP%]{background:#e8f0fb;border-radius:5px;padding:20px;position:relative}.title[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:700;font-size:20px;line-height:150%;color:#000;margin-bottom:20px}.description[_ngcontent-%COMP%]{height:39px;font-family:Roboto;font-style:normal;font-weight:400;font-size:clamp(14px,1.2vw,16px);line-height:19px;color:#000}.access-code-input[_ngcontent-%COMP%]{width:100%}input[type=password][_ngcontent-%COMP%]{text-align:center;font-size:62px}input[type=password][_ngcontent-%COMP%]::-webkit-text-security{font-size:66px}.popup-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;padding:20px}.error-message[_ngcontent-%COMP%]{color:red;font-size:clamp(11px,1.2vw,14px);text-align:center;margin-top:8px}@media (max-width: 480px){.popup-container[_ngcontent-%COMP%]{padding:10px}.setup-title[_ngcontent-%COMP%]{font-size:clamp(11px,1.2vw,14px);height:40px}.title[_ngcontent-%COMP%]{font-size:clamp(16px,1.5vw,18px);margin-bottom:10px}.description[_ngcontent-%COMP%]{width:100%;font-size:clamp(11px,1.2vw,14px);line-height:17px}input[type=password][_ngcontent-%COMP%]{font-size:46px}input[type=password][_ngcontent-%COMP%]::-webkit-text-security{font-size:50px}}"]}),n})(),hH=(()=>{class n{constructor(e){this.db=e}createSubscription(e){return this.db.collection("newsletter-subscriptions").doc(e.email).set(e)}getSubscriptionByEmail(e){return this.db.collection("newsletter-subscriptions").doc(e).valueChanges().pipe((0,Et.U)(i=>i||null))}addBoardSubscription(e,i){return this.db.collection("newsletter-subscriptions").doc(e).update({boardSubscriptions:Hk.Z.firestore.FieldValue.arrayUnion(i)})}sendNotificationToSubscribers(e,i){return this.db.collection("newsletter-subscriptions").ref.get().then(r=>{r.forEach(o=>{o.data().boardSubscriptions.find(m=>m.boardId===e)&&this.db.collection("mail").add({to:o.id,message:{subject:"An update has been published on a board you are subscribed to",html:`<p>${i}</p><p>Click <a href="${window.location.origin}/#/board/${e}">here</a> to see the board</p>`}})})})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cy))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yq(n,t){1&n&&s._UZ(0,"app-circle-loader",3)}function vq(n,t){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Message is required "),s.qZA())}function bq(n,t){if(1&n&&(s.TgZ(0,"app-custom-button",10),s._uU(1," Save "),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("width",277)("height",44)("disabled",e.messageForm.invalid||e.loading||!e.isEditorMode)}}function Cq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-dialog-content")(1,"form",4),s.NdJ("ngSubmit",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.notifySubscribers())}),s.TgZ(2,"div",5)(3,"mat-form-field",6),s._UZ(4,"textarea",7),s.YNc(5,vq,2,0,"mat-error",2),s.qZA()(),s.TgZ(6,"div",8),s.YNc(7,bq,2,3,"app-custom-button",9),s.qZA()()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("formGroup",e.messageForm),s.xp6(3),s.uIk("cdkFocusInitial",e.isEditorMode?"":null),s.xp6(1),s.Q6J("ngIf",e.messageForm.controls.message.hasError("required")&&e.messageForm.controls.message.touched),s.xp6(2),s.Q6J("ngIf",e.isEditorMode)}}let fH=(()=>{class n{constructor(e,i,r,o,d){this.dialogRef=e,this.data=i,this.formBuilder=r,this.newsletterService=o,this.snackbarService=d,this.loading=!1,this.isEditorMode=!0,this.messageForm=this.formBuilder.group({message:""})}ngOnInit(){}notifySubscribers(){var e=this;return(0,Ve.Z)(function*(){try{console.log(e.data.boardId,e.messageForm.value.message),yield e.newsletterService.sendNotificationToSubscribers(e.data.boardId,e.messageForm.value.message),e.snackbarService.showSuccess("Notification sent to subscribers"),e.dialogRef.close()}catch{e.snackbarService.showError("Error sending notification")}})()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(La),s.Y36(Xh),s.Y36(Hh),s.Y36(hH),s.Y36(Qm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-notify-subscribers"]],decls:3,vars:2,consts:[[1,"dialog-container"],["class","loading",4,"ngIf"],[4,"ngIf"],[1,"loading"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],["appearance","outline",1,"form-field"],["matInput","","formControlName","message","placeholder","Describe what did you you changed",1,"textarea",2,"min-height","101px","resize","none"],[1,"save-button"],["type","submit",3,"width","height","disabled",4,"ngIf"],["type","submit",3,"width","height","disabled"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,yq,1,0,"app-circle-loader",1),s.YNc(2,Cq,8,4,"mat-dialog-content",2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",!i.loading))},dependencies:[xn,Bc,Il,ed,Fh,Ns,Vc,Iy,T_,mV,Jb,Sy,Sf],styles:[".ticket[_ngcontent-%COMP%]{position:relative;background-color:#f5f5f5;border-radius:3px;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;padding:8px 12px;margin:4px 7px;transition:.3s;display:flex;flex-direction:row;justify-content:space-between}.tbd-ticket[_ngcontent-%COMP%]{color:#ccc!important}.ticket[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.ticket[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Helvetica;font-style:normal;font-size:clamp(11px,1.2vw,14px);line-height:18px;margin:0;color:#000}.ticket[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(11px,1.2vw,14px);color:#333;margin-bottom:10px}.priority-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:2px;height:100%}.low-priority[_ngcontent-%COMP%]   .priority-line[_ngcontent-%COMP%]{border-left:3px dashed rgb(255,69,129)}.medium-priority[_ngcontent-%COMP%]   .priority-line[_ngcontent-%COMP%], .high-priority[_ngcontent-%COMP%]   .priority-line[_ngcontent-%COMP%]{border-left:3px solid rgb(255,69,129)}.edit-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0}.edit-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.form-group[_ngcontent-%COMP%], .form-field[_ngcontent-%COMP%]{width:400px}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}"]}),n})();const Eq=["tooltip"],pH="tooltip-panel",mH=Ls({passive:!0}),gH=new s.OlP("mat-tooltip-scroll-strategy"),Iq={provide:gH,deps:[Hn],useFactory:function Sq(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},Tq=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Dq(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let Mq=(()=>{class n{constructor(e,i,r,o,d,m,C,S,O,W,ce,fe){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=d,this._platform=m,this._ariaDescriber=C,this._focusMonitor=S,this._dir=W,this._defaultOptions=ce,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new _t.x,this._scrollStrategy=O,this._document=fe,ce&&(ce.position&&(this.position=ce.position),ce.touchGestures&&(this.touchGestures=ce.touchGestures)),W.change.pipe(rr(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=hi(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Fa(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Fa(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(rr(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,mH)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new qh(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(rr(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(rr(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${pH}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(rr(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(rr(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(rr(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Ew(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:d}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:d}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:d}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:d}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Pi(1),rr(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let d;if(d="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",d!==this._currentPosition){const m=this._overlayRef;if(m){const C=`${this._cssClassPrefix}-${pH}-`;m.removePanelClass(C+this._currentPosition),m.addPanelClass(C+d)}this._currentPosition=d}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,mH)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),Aq=(()=>{class n extends Mq{constructor(e,i,r,o,d,m,C,S,O,W,ce,fe){super(e,i,r,o,d,m,C,S,O,W,ce,fe),this._tooltipComponent=Pq}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hn),s.Y36(s.SBq),s.Y36(Hv),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(gr),s.Y36(RD),s.Y36(Kh),s.Y36(gH),s.Y36(jc,8),s.Y36(Tq,8),s.Y36(F))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),kq=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new _t.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const d=getComputedStyle(i);("0s"===d.getPropertyValue("animation-duration")||"none"===d.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n}),n})(),Pq=(()=>{class n extends kq{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(iP),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&s.Gf(Eq,7),2&e){let r;s.iGM(r=s.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&s.Udp("zoom",i.isVisible()?1:null)},features:[s.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),s.ALo(2,"async"),s._uU(3),s.qZA()),2&e){let r;s.ekj("mat-tooltip-handset",null==(r=s.lcZ(2,4,i._isHandset))?null:r.matches),s.Q6J("ngClass",i.tooltipClass),s.xp6(3),s.Oqu(i.message)}},dependencies:[_n,ou],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),_H=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Iq],imports:[[WD,oi,hm,vn],vn,$h]}),n})();function Rq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.openAccessPopup())}),s._uU(1," Request edit "),s.qZA()}}function Oq(n,t){1&n&&s._UZ(0,"app-circle-loader",20)}function Fq(n,t){}function Nq(n,t){1&n&&(s.ynx(0),s.YNc(1,Fq,0,0,"ng-template",24),s.BQk())}function Lq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.addMonth())}),s.TgZ(1,"mat-icon"),s._uU(2,"add"),s.qZA()()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isAddMonthDisabled||e.loading||!e.isEditorMode)}}function Bq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",21)(1,"app-carousel",22),s.NdJ("monthDeleted",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onMonthDeleted(r))}),s.YNc(2,Nq,2,0,"ng-container",15),s.qZA(),s.YNc(3,Lq,3,1,"button",23),s.qZA()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("months",e.months)("boardId",e.boardId)("isEditorMode",e.isEditorMode),s.xp6(1),s.Q6J("ngForOf",e.months),s.xp6(1),s.Q6J("ngIf",e.isEditorMode&&!e.isAddMonthDisabled)}}function Vq(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",26,27),s.NdJ("click",function(){const o=s.CHM(e).index,d=s.oxw();return s.KtG(d.selectMonth(o))}),s._UZ(3,"div",28)(4,"div",29),s.qZA(),s.BQk()}if(2&n){const e=t.$implicit;s.xp6(1),s.Q6J("matTooltip",e.name)}}function Hq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",30)(1,"form",31),s.NdJ("ngSubmit",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onNewsletterSubscribe())}),s._UZ(2,"input",32),s.TgZ(3,"button",33)(4,"span"),s._uU(5,"Subscribe"),s.qZA()()()()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("formGroup",e.newsletterForm)}}function Uq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",34)(1,"app-custom-button",35),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.publishBoard())}),s.TgZ(2,"span"),s._uU(3,"Publish \u{1f680}"),s.qZA()()()}2&n&&(s.xp6(1),s.Q6J("width",200)("height",50)("disabled",!1))}function jq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",34)(1,"app-custom-button",35),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.notifySubscriber())}),s.TgZ(2,"span"),s._uU(3,"Notify subscribers \u{1f4e9}"),s.qZA()()()}2&n&&(s.xp6(1),s.Q6J("width",200)("height",50)("disabled",!1))}let zq=(()=>{class n{constructor(e,i,r,o,d,m,C,S){this.boardService=e,this.route=i,this.monthService=r,this.dialog=o,this.snackbarService=d,this.router=m,this.newsletterService=C,this.sprintService=S,this.board={},this.boardName="",this.boardId="",this.months=[],this.isEditorMode=!1,this.userHasEditorRights=!0,this.loading=!1,this.currentMonth=(new Date).getMonth(),this.isAddMonthDisabled=!1,this.subscriptions=new er.w0,this.newsletterForm=new id({email:new Lc(null,[Vn.required,Vn.email])})}ngOnInit(){this.boardId=this.route.snapshot.paramMap.get("boardId")||"",this.boardId&&(this.fetchBoardData(),this.getBoard())}onMonthDeleted(e){this.months=this.months.filter(i=>i.id!==e),this.isAddMonthDisabled=this.months.length>=12}getBoard(){this.boardService.getBoard(this.boardId).subscribe(e=>{this.board=e})}ngOnDestroy(){this.subscriptions.unsubscribe()}fetchBoardData(){this.loading=!0,iv([this.boardService.getBoard(this.boardId).pipe(Sr(),Ir(r=>(this.snackbarService.showError("Board not found."),this.router.navigate(["/"]),mt(null)))),this.monthService.getMonths(this.boardId).pipe(Sr(),Ir(r=>mt(null)))]).pipe(ml(()=>this.loading=!1)).subscribe(([r,o])=>{r&&(this.boardName=r.name||"",r.editorAccessOnCreation&&(this.isEditorMode=!0,this.boardService.updateBoard(this.boardId,{editorAccessOnCreation:!1}))),o&&(this.months=o.sort((d,m)=>lC.indexOf(d.name)-lC.indexOf(m.name)),this.isAddMonthDisabled=this.months.length>0&&"December"===this.months[this.months.length-1].name)})}toggleEditorView(){this.isEditorMode?this.isEditorMode=!1:this.openAccessPopup()}openAccessPopup(){this.userHasEditorRights?this.dialog.open(_q,{width:"390px",height:"542px",panelClass:"custom-popup"}).afterClosed().subscribe(i=>{i&&((0,PE.sha256)(i)===this.board.code?(this.isEditorMode=!0,this.snackbarService.showSuccess("Access granted. You are now in editor mode.")):this.snackbarService.showError("Invalid code. Please try again."))}):this.snackbarService.showError("You do not have editor rights for this board.")}addMonth(){if(!this.isAddMonthDisabled){const r=(lC.indexOf(this.months[this.months.length-1].name)+1)%lC.length;this.monthService.createMonth(this.boardId,{boardId:this.boardId,name:lC[r]}).then(()=>{this.fetchBoardData(),this.carouselComponent?.showLastCreatedMonth()}).catch(m=>{console.error(m)})}}selectMonth(e){this.carouselComponent&&this.carouselComponent.scrollToMonth(e)}onNewsletterSubscribe(){if(this.newsletterForm.valid){const e=this.newsletterForm.value.email;this.newsletterService.getSubscriptionByEmail(e).pipe(Pi(1)).subscribe(i=>{if(null===i){const r={email:e,boardSubscriptions:[{boardId:this.boardId,subscriptionDate:new Date}]};this.newsletterService.createSubscription(r).then(()=>{this.snackbarService.showSuccess(`Thank you! ${e} will receive updates about changes to this roadmap.`)}).catch(o=>{this.snackbarService.showError("An error occurred while creating the subscription")})}else if(i.boardSubscriptions.find(r=>r.boardId===this.boardId))this.snackbarService.showError(`The email ${e} is already subscribed to updates for this roadmap.`);else{const r={boardId:this.boardId,subscriptionDate:new Date};this.newsletterService.addBoardSubscription(e,r).then(()=>{this.snackbarService.showSuccess(`Thank you! ${e} will receive updates about changes to this roadmap.`)}).catch(o=>{this.snackbarService.showError("An error occurred while adding the board subscription")})}},i=>{this.snackbarService.showError("An error occurred while checking the subscription")})}else this.snackbarService.showError("Please enter a valid email")}publishBoard(){this.router.navigate(["/publish",this.boardId])}notifySubscriber(){this.dialog.open(fH,{data:{boardId:this.boardId}})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fV),s.Y36(ji),s.Y36(qS),s.Y36(Rl),s.Y36(Qm),s.Y36(Nn),s.Y36(hH),s.Y36(wy))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-board"]],viewQuery:function(e,i){if(1&e&&(s.Gf(dH,5),s.Gf(fH,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.carouselComponent=r.first),s.iGM(r=s.CRH())&&(i.NotifySubscribersComponent=r.first)}},decls:25,vars:7,consts:[[1,"board"],[1,"container"],[1,"content-header"],[1,"title"],[1,"title-line"],["mat-icon-button","","class","editor-view-button",3,"click",4,"ngIf"],[1,"container-lines"],[1,"lines"],[1,"line-1"],[1,"line"],[1,"line-text"],[1,"line-2"],["class","loading",4,"ngIf"],["class","content-body",4,"ngIf"],[1,"timeline-container"],[4,"ngFor","ngForOf"],["class","newsletter-container",4,"ngIf"],[2,"display","flex","flex-direction","row","align-items","center","justify-content","space-evenly","margin-top","50px"],["class","publish-button-container",4,"ngIf"],["mat-icon-button","",1,"editor-view-button",3,"click"],[1,"loading"],[1,"content-body"],[3,"months","boardId","isEditorMode","monthDeleted"],["mat-icon-button","","class","add-button",3,"disabled","click",4,"ngIf"],["carouselItem",""],["mat-icon-button","",1,"add-button",3,"disabled","click"],[1,"month-point-container",3,"matTooltip","click"],["monthPoint",""],[1,"month-point"],[1,"shadow-circle"],[1,"newsletter-container"],[3,"formGroup","ngSubmit"],["formControlName","email","type","email","placeholder","Enter your email to be alerted about changes",1,"newsletter-input"],["type","submit",1,"newsletter-button"],[1,"publish-button-container"],["buttonType","submit",3,"width","height","disabled","click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),s._uU(4," User facing Roadmap of Release "),s._UZ(5,"div",4),s.qZA(),s.YNc(6,Rq,2,0,"button",5),s.TgZ(7,"div",6)(8,"div",7)(9,"div",8),s._UZ(10,"div",9),s.TgZ(11,"span",10),s._uU(12,"Must be delivered during sprint"),s.qZA()(),s.TgZ(13,"div",11),s._UZ(14,"div",9),s.TgZ(15,"span",10),s._uU(16,"Nice to be delivered during sprint"),s.qZA()()()()(),s.YNc(17,Oq,1,0,"app-circle-loader",12),s.YNc(18,Bq,4,5,"div",13),s.TgZ(19,"div",14),s.YNc(20,Vq,5,1,"ng-container",15),s.qZA(),s.YNc(21,Hq,6,1,"div",16),s.TgZ(22,"div",17),s.YNc(23,Uq,4,3,"div",18),s.YNc(24,jq,4,3,"div",18),s.qZA()()()),2&e&&(s.xp6(6),s.Q6J("ngIf",!i.isEditorMode&&i.userHasEditorRights),s.xp6(11),s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",!i.loading),s.xp6(2),s.Q6J("ngForOf",i.months),s.xp6(1),s.Q6J("ngIf",!i.isEditorMode),s.xp6(2),s.Q6J("ngIf",i.isEditorMode),s.xp6(1),s.Q6J("ngIf",i.isEditorMode))},dependencies:[mn,xn,Bc,Il,ed,Fh,Ns,Vc,Iy,If,Mf,Sf,dH,Aq],styles:['.board[_ngcontent-%COMP%]{min-height:100vh;background-color:#2f80ed1a}.loading[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{padding:1.5rem 2.5rem}.content-header[_ngcontent-%COMP%]{display:flex;text-align:center;margin-top:58px;color:#373f41}.content-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:600;font-size:clamp(32px,2.15vw,40px);line-height:44px;color:#373f41}.content-body[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:50px}.add-button[_ngcontent-%COMP%]{position:relative;top:-8px;right:62px}.add-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4388dd}.title-line[_ngcontent-%COMP%]{width:539.02px;height:5px;margin-top:10px;background:linear-gradient(270deg,#ff4581 -.22%,#4388dd 99.78%)}.editor-view-button[_ngcontent-%COMP%]{width:101px;height:35px;background:#ecf3fc;border:1px solid #ff4581;box-shadow:0 4px 180px #00000040;border-radius:6px;font-family:Inter,sans-serif;font-style:normal;font-weight:600;font-size:clamp(11px,1.2vw,14px);line-height:44px;display:flex;align-items:center;justify-content:center;color:#ff4581;text-transform:none;margin-left:20px}.container-lines[_ngcontent-%COMP%]{display:flex;width:50%;justify-content:flex-end}.lines[_ngcontent-%COMP%]{margin-left:1rem;opacity:.5}.lines[_ngcontent-%COMP%]   .line-1[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .line-2[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.lines[_ngcontent-%COMP%]   .line-1[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .line-2[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:2px;height:18px;opacity:.5}.lines[_ngcontent-%COMP%]   .line-1[_ngcontent-%COMP%]   .line-text[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .line-2[_ngcontent-%COMP%]   .line-text[_ngcontent-%COMP%]{margin-left:10px}.lines[_ngcontent-%COMP%]   .line-1[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{border-left:3px solid #ff4581}.lines[_ngcontent-%COMP%]   .line-2[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{border-left:3px dashed #ff4581}.month-point-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;cursor:pointer}.month-point[_ngcontent-%COMP%]{height:16px;width:16px;border-radius:50%;background-color:#ff4581;z-index:1;transition:background-color .3s}.shadow-circle[_ngcontent-%COMP%]{position:absolute;height:32px;width:32px;border-radius:50%;background-color:#ff45811a;z-index:0}.publish-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:space-between;margin-top:4rem;height:50px;width:100%}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:8px;background:rgba(47,128,237,.1);z-index:0}.newsletter-container[_ngcontent-%COMP%]{text-align:center;display:flex;justify-content:center;align-items:center;width:-moz-fit-content;width:fit-content;padding:.25rem .5rem;background:#ecf3fc;border:1px solid #4388dd;box-shadow:0 4px 180px #00000040;border-radius:6px;margin:auto;margin-top:2rem}form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:-moz-fit-content;width:fit-content}form[_ngcontent-%COMP%]   .newsletter-input[_ngcontent-%COMP%]{padding:8px;font-family:Inter;font-style:normal;font-weight:200;font-size:17px;line-height:21px;width:370px;color:#415162;box-sizing:border-box;border:none;background:none;outline:transparent}form[_ngcontent-%COMP%]   .newsletter-button[_ngcontent-%COMP%]{margin-left:.5rem;box-sizing:border-box;background:#4388dd!important;border:1px solid #d2e1f5;border-radius:3px;width:102px;height:29px;font-family:Inter;font-style:normal;font-weight:500;font-size:17px;line-height:21px;color:#fff;transition:all .3s ease-in-out}form[_ngcontent-%COMP%]   .newsletter-button[_ngcontent-%COMP%]:hover{background-color:#3673ac!important;cursor:pointer;transform:scale(1.05)}form[_ngcontent-%COMP%]   .newsletter-button[_ngcontent-%COMP%]:active{transform:scale(.95)}']}),n})();const Gq=["boardLink"];function $q(n,t){1&n&&s._UZ(0,"app-circle-loader",2)}function qq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h1",4),s._uU(2,"Awesome! You're ready to go \u{1f680}"),s.qZA(),s.TgZ(3,"p",5),s._uU(4,"You can share your delivery roadmap with your stakeholders"),s.qZA(),s.TgZ(5,"a",6,7),s._uU(7),s.qZA(),s.TgZ(8,"app-custom-button",8),s.NdJ("click",function(){s.CHM(e);const r=s.MAs(6),o=s.oxw();return s.KtG(o.copyLink(r))}),s._uU(9,"Copy link"),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("href",e.boardUrl,s.LSH),s.xp6(2),s.Oqu(e.boardUrl),s.xp6(1),s.Q6J("width",277)("height",44)}}let Wq=(()=>{class n{constructor(e,i,r){this.route=e,this.router=i,this.snackbarService=r,this.loading=!1,this.boardId="",this.boardUrl=""}ngOnInit(){this.loading=!0,this.boardId=this.route.snapshot.paramMap.get("boardId")||"",this.boardUrl=this.getBoardUrl(),this.loading=!1}getBoardUrl(){const e=this.router.createUrlTree(["/board",this.boardId]);return window.location.origin+"/mvp-roadmap/#"+this.router.serializeUrl(e)}copyLink(e){navigator.clipboard.writeText(e.href).then(()=>{this.snackbarService.showSuccess("Link copied to clipboard")}).catch(r=>{this.snackbarService.showError("Failed to copy link to clipboard")})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ji),s.Y36(Nn),s.Y36(Qm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-publish-roadmap"]],viewQuery:function(e,i){if(1&e&&s.Gf(Gq,5),2&e){let r;s.iGM(r=s.CRH())&&(i.boardLink=r.first)}},decls:2,vars:2,consts:[["class","loading",4,"ngIf"],["class","page",4,"ngIf"],[1,"loading"],[1,"page"],[1,"title"],[1,"paragraph"],[1,"link",3,"href"],["boardLink",""],[1,"button",3,"width","height","click"]],template:function(e,i){1&e&&(s.YNc(0,$q,1,0,"app-circle-loader",0),s.YNc(1,qq,10,4,"div",1)),2&e&&(s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",!i.loading))},dependencies:[xn,Iy,Sf],styles:[".page[_ngcontent-%COMP%]{min-height:100vh;background-color:#2f80ed1a;display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative}.loading[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}.title[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-style:normal;font-weight:600;font-size:34px;line-height:41px;display:flex;align-items:flex-end;justify-content:center;color:#373f41}.paragraph[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-style:normal;font-weight:400;font-size:24px;line-height:28px;text-align:center;letter-spacing:.01em;color:#3a4650}.link[_ngcontent-%COMP%]{margin:5rem 0;font-family:IBM Plex Mono,monospace;font-style:normal;font-weight:700;font-size:24px;line-height:31px;text-align:center;letter-spacing:.01em;text-decoration-line:underline;color:#4285f4}.button[_ngcontent-%COMP%]{box-sizing:border-box;background:#ECF3FC;box-shadow:0 4px 180px #00000040;border-radius:6px;font-size:16px;font-weight:500;display:flex;justify-content:center;align-items:center;cursor:pointer}"]}),n})();const yH={leading:!0,trailing:!1};const Yq=["contentEl"],Qq=["fillEl"];function Xq(n,t){1&n&&s.GkF(0)}function Jq(n,t){if(1&n&&(s.TgZ(0,"mat-icon",12),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.icon)}}function e8(n,t){if(1&n&&s.YNc(0,Jq,2,1,"mat-icon",11),2&n){const e=s.oxw(),i=s.MAs(7);s.Q6J("ngIf",e.icon)("ngIfElse",i)}}function t8(n,t){if(1&n&&s._UZ(0,"mat-icon",14),2&n){const e=s.oxw(2);s.Q6J("svgIcon",e.svgIcon)}}function n8(n,t){if(1&n&&s.YNc(0,t8,1,1,"mat-icon",13),2&n){const e=s.oxw(),i=s.MAs(9);s.Q6J("ngIf",e.svgIcon)("ngIfElse",i)}}function r8(n,t){if(1&n&&s._UZ(0,"img",16),2&n){const e=s.oxw(2);s.Q6J("src",e.iconUrl,s.LSH)}}function s8(n,t){if(1&n&&s.YNc(0,r8,1,1,"img",15),2&n){const e=s.oxw();s.Q6J("ngIf",e.iconUrl)}}function o8(n,t){1&n&&s.GkF(0)}function a8(n,t){if(1&n&&(s.TgZ(0,"div",18),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.label)}}function l8(n,t){if(1&n&&s.YNc(0,a8,2,1,"div",17),2&n){const e=s.oxw();s.Q6J("ngIf",e.label)}}const vH=["*"];let bH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngxMatTimelineItemIcon",""]]}),n})(),c8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngxMatTimelineItemLabel",""]]}),n})(),CH=(()=>{class n{constructor(){}_updateVerticalCenteredLayout(){this._fillEl.nativeElement.style.minWidth=this._contentEl.nativeElement.offsetWidth+"px",this._fillEl.nativeElement.style.minHeight="unset"}_updateHorizontalCenteredLayout(){this._fillEl.nativeElement.style.minHeight=this._contentEl.nativeElement.offsetHeight+"px",this._fillEl.nativeElement.style.minWidth="unset"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-mat-timeline-item"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,bH,5,s.Rgc),s.Suo(r,c8,5,s.Rgc)),2&e){let o;s.iGM(o=s.CRH())&&(i.customIconTpl=o.first),s.iGM(o=s.CRH())&&(i.customLabelTpl=o.first)}},viewQuery:function(e,i){if(1&e&&(s.Gf(Yq,7),s.Gf(Qq,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._contentEl=r.first),s.iGM(r=s.CRH())&&(i._fillEl=r.first)}},hostAttrs:[1,"ngx-mat-timeline-item"],inputs:{label:"label",icon:"icon",svgIcon:"svgIcon",iconUrl:"iconUrl"},ngContentSelectors:vH,decls:17,vars:2,consts:[[1,"ngx-mat-timeline-item-fill"],["fillEl",""],[1,"ngx-mat-timeline-item-timeline"],[4,"ngTemplateOutlet"],["iconTpl",""],["svgIconTpl",""],["iconUrlTpl",""],["labelTpl",""],[1,"ngx-mat-timeline-item-line"],[1,"ngx-mat-timeline-item-content"],["contentEl",""],["class","ngx-mat-timeline-item-icon",4,"ngIf","ngIfElse"],[1,"ngx-mat-timeline-item-icon"],["class","ngx-mat-timeline-item-icon",3,"svgIcon",4,"ngIf","ngIfElse"],[1,"ngx-mat-timeline-item-icon",3,"svgIcon"],["class","ngx-mat-timeline-item-icon",3,"src",4,"ngIf"],[1,"ngx-mat-timeline-item-icon",3,"src"],["class","mat-caption ngx-mat-timeline-item-label",4,"ngIf"],[1,"mat-caption","ngx-mat-timeline-item-label"]],template:function(e,i){if(1&e&&(s.F$t(),s._UZ(0,"div",0,1),s.TgZ(2,"div",2),s.YNc(3,Xq,1,0,"ng-container",3),s.YNc(4,e8,1,2,"ng-template",null,4,s.W1O),s.YNc(6,n8,1,2,"ng-template",null,5,s.W1O),s.YNc(8,s8,1,1,"ng-template",null,6,s.W1O),s.YNc(10,o8,1,0,"ng-container",3),s.YNc(11,l8,1,1,"ng-template",null,7,s.W1O),s._UZ(13,"div",8),s.qZA(),s.TgZ(14,"div",9,10),s.Hsn(16),s.qZA()),2&e){const r=s.MAs(5),o=s.MAs(12);s.xp6(3),s.Q6J("ngTemplateOutlet",i.customIconTpl?i.customIconTpl:r),s.xp6(7),s.Q6J("ngTemplateOutlet",i.customLabelTpl?i.customLabelTpl:o)}},dependencies:[Mf,ru,xn],styles:[".ngx-mat-timeline-item{display:flex;gap:24px}.ngx-mat-timeline-item:last-child .ngx-mat-timeline-item-line{display:none}.ngx-mat-timeline-item-timeline{display:flex;gap:8px}.ngx-mat-timeline-item-icon{margin:0;padding:0;width:24px;height:24px;object-fit:cover;border-radius:50%}.ngx-mat-timeline-item-line{flex:1;background-color:#0000001f}.ngx-mat-timeline-item-fill,.ngx-mat-timeline-item-content{flex:1}.ngx-mat-timeline-vertical>.ngx-mat-timeline-content .ngx-mat-timeline-item{justify-content:flex-start;align-items:stretch}.ngx-mat-timeline-vertical>.ngx-mat-timeline-content .ngx-mat-timeline-item:not(:last-child){margin-bottom:8px}.ngx-mat-timeline-vertical>.ngx-mat-timeline-content .ngx-mat-timeline-item:not(:last-child) .ngx-mat-timeline-item-fill,.ngx-mat-timeline-vertical>.ngx-mat-timeline-content .ngx-mat-timeline-item:not(:last-child) .ngx-mat-timeline-item-content{margin-bottom:48px}.ngx-mat-timeline-vertical>.ngx-mat-timeline-content .ngx-mat-timeline-item .ngx-mat-timeline-item-timeline{min-width:48px;max-width:48px;flex-direction:column;justify-content:flex-start;align-items:center}.ngx-mat-timeline-vertical>.ngx-mat-timeline-content .ngx-mat-timeline-item .ngx-mat-timeline-item-label{width:100%;text-align:center}.ngx-mat-timeline-vertical>.ngx-mat-timeline-content .ngx-mat-timeline-item .ngx-mat-timeline-item-line{width:1px;height:auto;min-height:8px}.ngx-mat-timeline-vertical.ngx-mat-timeline-reverse>.ngx-mat-timeline-content .ngx-mat-timeline-item:last-child{margin-bottom:8px}.ngx-mat-timeline-vertical.ngx-mat-timeline-reverse>.ngx-mat-timeline-content .ngx-mat-timeline-item:last-child .ngx-mat-timeline-item-line{display:block}.ngx-mat-timeline-vertical.ngx-mat-timeline-reverse>.ngx-mat-timeline-content .ngx-mat-timeline-item:last-child .ngx-mat-timeline-item-fill,.ngx-mat-timeline-vertical.ngx-mat-timeline-reverse>.ngx-mat-timeline-content .ngx-mat-timeline-item:last-child .ngx-mat-timeline-item-content{margin-bottom:48px}.ngx-mat-timeline-vertical.ngx-mat-timeline-reverse>.ngx-mat-timeline-content .ngx-mat-timeline-item:first-child{margin-bottom:0}.ngx-mat-timeline-vertical.ngx-mat-timeline-reverse>.ngx-mat-timeline-content .ngx-mat-timeline-item:first-child .ngx-mat-timeline-item-line{display:none}.ngx-mat-timeline-vertical.ngx-mat-timeline-reverse>.ngx-mat-timeline-content .ngx-mat-timeline-item:first-child .ngx-mat-timeline-item-content{margin-bottom:0}.ngx-mat-timeline-vertical.ngx-mat-timeline-start>.ngx-mat-timeline-content .ngx-mat-timeline-item{flex-direction:row}.ngx-mat-timeline-vertical.ngx-mat-timeline-start>.ngx-mat-timeline-content .ngx-mat-timeline-item .ngx-mat-timeline-item-fill{display:none}.ngx-mat-timeline-vertical.ngx-mat-timeline-start>.ngx-mat-timeline-content .ngx-mat-timeline-item .ngx-mat-timeline-item-content{text-align:left;display:flex;justify-content:flex-start;align-items:flex-start}.ngx-mat-timeline-vertical.ngx-mat-timeline-center>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(odd){flex-direction:row}.ngx-mat-timeline-vertical.ngx-mat-timeline-center>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(odd) .ngx-mat-timeline-item-content{text-align:left;display:flex;justify-content:flex-start;align-items:flex-start}.ngx-mat-timeline-vertical.ngx-mat-timeline-center>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(even){flex-direction:row-reverse}.ngx-mat-timeline-vertical.ngx-mat-timeline-center>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(even) .ngx-mat-timeline-item-content{text-align:right;display:flex;justify-content:flex-end;align-items:flex-start}.ngx-mat-timeline-vertical.ngx-mat-timeline-center-alt>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(even){flex-direction:row}.ngx-mat-timeline-vertical.ngx-mat-timeline-center-alt>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(even) .ngx-mat-timeline-item-content{text-align:left;display:flex;justify-content:flex-start;align-items:flex-start}.ngx-mat-timeline-vertical.ngx-mat-timeline-center-alt>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(odd){flex-direction:row-reverse}.ngx-mat-timeline-vertical.ngx-mat-timeline-center-alt>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(odd) .ngx-mat-timeline-item-content{text-align:right;display:flex;justify-content:flex-end;align-items:flex-start}.ngx-mat-timeline-vertical.ngx-mat-timeline-end>.ngx-mat-timeline-content .ngx-mat-timeline-item{flex-direction:row-reverse}.ngx-mat-timeline-vertical.ngx-mat-timeline-end>.ngx-mat-timeline-content .ngx-mat-timeline-item .ngx-mat-timeline-item-fill{display:none}.ngx-mat-timeline-vertical.ngx-mat-timeline-end>.ngx-mat-timeline-content .ngx-mat-timeline-item .ngx-mat-timeline-item-content{text-align:right;display:flex;justify-content:flex-end;align-items:flex-start}.ngx-mat-timeline-horizontal .ngx-mat-timeline-content>.ngx-mat-timeline-item{justify-content:flex-start;align-items:stretch}.ngx-mat-timeline-horizontal .ngx-mat-timeline-content>.ngx-mat-timeline-item:not(:last-child){margin-right:8px}.ngx-mat-timeline-horizontal .ngx-mat-timeline-content>.ngx-mat-timeline-item:not(:last-child) .ngx-mat-timeline-item-fill,.ngx-mat-timeline-horizontal .ngx-mat-timeline-content>.ngx-mat-timeline-item:not(:last-child) .ngx-mat-timeline-item-content{margin-right:48px}.ngx-mat-timeline-horizontal .ngx-mat-timeline-content>.ngx-mat-timeline-item .ngx-mat-timeline-item-timeline{min-height:48px;max-height:48px;flex-direction:row;justify-content:flex-start;align-items:center}.ngx-mat-timeline-horizontal .ngx-mat-timeline-content>.ngx-mat-timeline-item .ngx-mat-timeline-item-label{width:auto;text-align:left}.ngx-mat-timeline-horizontal .ngx-mat-timeline-content>.ngx-mat-timeline-item .ngx-mat-timeline-item-line{width:auto;min-width:8px;height:1px}.ngx-mat-timeline-horizontal.ngx-mat-timeline-reverse>.ngx-mat-timeline-content .ngx-mat-timeline-item:last-child{margin-right:8px}.ngx-mat-timeline-horizontal.ngx-mat-timeline-reverse>.ngx-mat-timeline-content .ngx-mat-timeline-item:last-child .ngx-mat-timeline-item-line{display:block}.ngx-mat-timeline-horizontal.ngx-mat-timeline-reverse>.ngx-mat-timeline-content .ngx-mat-timeline-item:last-child .ngx-mat-timeline-item-fill,.ngx-mat-timeline-horizontal.ngx-mat-timeline-reverse>.ngx-mat-timeline-content .ngx-mat-timeline-item:last-child .ngx-mat-timeline-item-content{margin-right:48px}.ngx-mat-timeline-horizontal.ngx-mat-timeline-reverse>.ngx-mat-timeline-content .ngx-mat-timeline-item:first-child{margin-right:0}.ngx-mat-timeline-horizontal.ngx-mat-timeline-reverse>.ngx-mat-timeline-content .ngx-mat-timeline-item:first-child .ngx-mat-timeline-item-line{display:none}.ngx-mat-timeline-horizontal.ngx-mat-timeline-reverse>.ngx-mat-timeline-content .ngx-mat-timeline-item:first-child .ngx-mat-timeline-item-content{margin-right:0}.ngx-mat-timeline-horizontal.ngx-mat-timeline-start>.ngx-mat-timeline-content .ngx-mat-timeline-item{flex-direction:column}.ngx-mat-timeline-horizontal.ngx-mat-timeline-start>.ngx-mat-timeline-content .ngx-mat-timeline-item .ngx-mat-timeline-item-fill{display:none}.ngx-mat-timeline-horizontal.ngx-mat-timeline-center>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(odd){flex-direction:column}.ngx-mat-timeline-horizontal.ngx-mat-timeline-center>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(odd) .ngx-mat-timeline-item-content{display:flex;justify-content:flex-start;align-items:flex-start}.ngx-mat-timeline-horizontal.ngx-mat-timeline-center>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(even){flex-direction:column-reverse}.ngx-mat-timeline-horizontal.ngx-mat-timeline-center>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(even) .ngx-mat-timeline-item-content{display:flex;justify-content:flex-start;align-items:flex-end}.ngx-mat-timeline-horizontal.ngx-mat-timeline-center-alt>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(even){flex-direction:column}.ngx-mat-timeline-horizontal.ngx-mat-timeline-center-alt>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(even) .ngx-mat-timeline-item-content{display:flex;justify-content:flex-start;align-items:flex-start}.ngx-mat-timeline-horizontal.ngx-mat-timeline-center-alt>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(odd){flex-direction:column-reverse}.ngx-mat-timeline-horizontal.ngx-mat-timeline-center-alt>.ngx-mat-timeline-content .ngx-mat-timeline-item:nth-child(odd) .ngx-mat-timeline-item-content{display:flex;justify-content:flex-start;align-items:flex-end}.ngx-mat-timeline-horizontal.ngx-mat-timeline-end>.ngx-mat-timeline-content .ngx-mat-timeline-item{flex-direction:column-reverse}.ngx-mat-timeline-horizontal.ngx-mat-timeline-end>.ngx-mat-timeline-content .ngx-mat-timeline-item .ngx-mat-timeline-item-content{display:flex;justify-content:flex-start;align-items:flex-end}.ngx-mat-timeline-horizontal.ngx-mat-timeline-end>.ngx-mat-timeline-content .ngx-mat-timeline-item .ngx-mat-timeline-item-fill{display:none}\n"],encapsulation:2,changeDetection:0}),n})(),u8=(()=>{class n{constructor(e,i){this._host=e,this._ngZone=i,this._position="start",this._orientation="vertical",this._reverse=!1,this.items=new s.n_E,this._destroyed=new _t.x}set position(e){this._position=e,this.updateLayout()}set orientation(e){this._orientation=e,this.updateLayout()}set reverse(e){this._reverse=e,this.updateLayout()}get isStartPosition(){return"start"==this._position}get isEndPosition(){return"end"==this._position}get isCenterPosition(){return"center"==this._position}get isCenterAltPosition(){return"center-alt"==this._position}get isVerticalOrientation(){return"vertical"==this._orientation}get isHorizontalOrientation(){return"horizontal"==this._orientation}get isReverse(){return this._reverse}ngOnChanges(e){this._ngZone.onStable.pipe((0,qn.b)(()=>this.updateLayout()),Sr()).subscribe()}ngOnInit(){new ki.y(e=>{const i=new ResizeObserver(r=>e.next(r));return i.observe(this._host.nativeElement),()=>{i.unobserve(this._host.nativeElement),i.disconnect()}}).pipe(function Kq(n,t=ud.z,e=yH){const i=n_(n,t);return function Zq(n,t=yH){return(0,gi.e)((e,i)=>{const{leading:r,trailing:o}=t;let d=!1,m=null,C=null,S=!1;const O=()=>{C?.unsubscribe(),C=null,o&&(fe(),S&&i.complete())},W=()=>{C=null,S&&i.complete()},ce=be=>C=(0,ds.Xf)(n(be)).subscribe((0,jn.x)(i,O,W)),fe=()=>{if(d){d=!1;const be=m;m=null,i.next(be),!S&&ce(be)}};e.subscribe((0,jn.x)(i,be=>{d=!0,m=be,(!C||C.closed)&&(r?fe():ce(be))},()=>{S=!0,(!(o&&d&&C)||C.closed)&&i.complete()}))})}(()=>i,e)}(10),(0,qn.b)(()=>this.updateLayout()),rr(this._destroyed)).subscribe()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}updateLayout(){(this.isCenterPosition||this.isCenterAltPosition)&&this.items.forEach(e=>{this.isVerticalOrientation?e._updateVerticalCenteredLayout():e._updateHorizontalCenteredLayout()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngx-mat-timeline"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,CH,4),2&e){let o;s.iGM(o=s.CRH())&&(i.items=o)}},hostAttrs:[1,"ngx-mat-timeline"],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ngx-mat-timeline-start",i.isStartPosition)("ngx-mat-timeline-end",i.isEndPosition)("ngx-mat-timeline-center",i.isCenterPosition)("ngx-mat-timeline-center-alt",i.isCenterAltPosition)("ngx-mat-timeline-vertical",i.isVerticalOrientation)("ngx-mat-timeline-horizontal",i.isHorizontalOrientation)("ngx-mat-timeline-reverse",i.isReverse)},inputs:{position:"position",orientation:"orientation",reverse:"reverse"},features:[s.TTD],ngContentSelectors:vH,decls:2,vars:0,consts:[[1,"ngx-mat-timeline-content"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},styles:[".ngx-mat-timeline{margin:0;padding:0;width:100%;display:flex;justify-content:stretch;align-items:stretch;overflow:auto}.ngx-mat-timeline-content{margin:0;padding:0;width:100%;display:flex;justify-content:stretch;align-items:stretch;min-width:min-content;min-height:min-content}.ngx-mat-timeline-center>.ngx-mat-timeline-content,.ngx-mat-timeline-center-alt>.ngx-mat-timeline-content{align-items:center}.ngx-mat-timeline-vertical>.ngx-mat-timeline-content{flex-direction:column}.ngx-mat-timeline-vertical.ngx-mat-timeline-reverse>.ngx-mat-timeline-content{flex-direction:column-reverse}.ngx-mat-timeline-horizontal>.ngx-mat-timeline-content{flex-direction:row}.ngx-mat-timeline-horizontal.ngx-mat-timeline-reverse>.ngx-mat-timeline-content{flex-direction:row-reverse}\n"],encapsulation:2,changeDetection:0}),n})(),d8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[oi,rC]]}),n})();const h8=["*",[["mat-card-footer"]]],f8=["*","mat-card-footer"];let p8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),m8=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:f8,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(h8),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),g8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[vn],vn]}),n})();function _8(n,t){1&n&&s._UZ(0,"app-circle-loader",6)}function y8(n,t){if(1&n&&(s.TgZ(0,"div",16),s._UZ(1,"img",17),s.TgZ(2,"p",18),s._uU(3),s.qZA()()),2&n){const e=t.$implicit;s.xp6(3),s.Oqu(e.title)}}function v8(n,t){if(1&n&&(s.TgZ(0,"div",14),s.YNc(1,y8,4,1,"div",15),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("ngForOf",e.tickets)}}function b8(n,t){if(1&n&&(s.TgZ(0,"div",19)(1,"span"),s._uU(2),s.qZA()()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.Oqu(e.label)}}const C8=function(n){return{"--custom-gradient":n}};function E8(n,t){if(1&n&&(s.TgZ(0,"ngx-mat-timeline-item",9)(1,"div",10)(2,"h2"),s._uU(3),s.qZA(),s.TgZ(4,"div",11),s.YNc(5,v8,2,1,"div",12),s.qZA()(),s.YNc(6,b8,3,1,"ng-template",13),s.qZA()),2&n){const e=t.$implicit,i=t.index;s.Q6J("ngStyle",s.VKq(3,C8,e.gradient)),s.xp6(3),s.Oqu(0===i?"Now":"Milestone "+(i+1)),s.xp6(2),s.Q6J("ngForOf",e.content)}}function w8(n,t){if(1&n&&(s.TgZ(0,"mat-card")(1,"mat-card-content")(2,"ngx-mat-timeline",7),s.YNc(3,E8,7,5,"ngx-mat-timeline-item",8),s.qZA()()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("position",e.position)("orientation",e.orientation)("reverse",e.reverse),s.xp6(1),s.Q6J("ngForOf",e.milestones)}}const x8=[{path:"",component:F5},{path:"board/:boardId",component:zq},{path:"publish/:boardId",component:Wq},{path:"milestones/:boardId",component:(()=>{class n{constructor(e,i,r,o,d,m,C){this.renderer=e,this.el=i,this.route=r,this.monthService=o,this.sprintService=d,this.ticketService=m,this.snackbarService=C,this.position="center",this.orientation="horizontal",this.reverse=!1,this.milestones=this.initializeMilestones(),this.loading=!1}ngOnInit(){const e=this.route.snapshot.paramMap.get("boardId");e&&this.fetchAllMonths(e)}initializeMilestones(){return[{label:"Mid Q1",content:[]},{label:"End of Q1",content:[]},{label:"Mid Q2",content:[]},{label:"End of Q2",content:[]},{label:"Mid Q3",content:[]},{label:"End of Q3",content:[]},{label:"Mid Q4",content:[]},{label:"End of Q4",content:[]}]}fetchAllMonths(e){var i=this;return(0,Ve.Z)(function*(){i.loading=!0;try{const r=yield i.monthService.getMonthsPromise(e);r&&r.length>0&&(yield i.createMilestonesFromMonths(r),i.calculateGradients(),i.setTimelineItemBackgrounds())}catch(r){i.snackbarService.showError("Error fetching months."),console.error("Error in fetchAllMonths:",r)}finally{i.loading=!1}})()}createMilestonesFromMonths(e){var i=this;return(0,Ve.Z)(function*(){const r=i.getMilestoneMapping();for(const o of i.milestones){const d=r[o.label];if(d)for(const m of d){const C=e.find(S=>S.name===m.month);if(C&&C.boardId&&C.id){const O=(yield i.sprintService.getSprintsPromise(C.boardId,C.id)).filter(W=>i.isSprintNameMatched(W.name,m.sprints));for(const W of O)if(W.id&&C.boardId&&C.id){const ce=yield i.ticketService.getTicketsPromise(C.boardId,C.id,W.id),fe={...W,tickets:ce};o.content.push(fe)}}}}})()}isSprintNameMatched(e,i){if(!e)return!1;for(const r of i)if(e.includes(r))return!0;return!1}getMilestoneMapping(){return{"Mid Q1":[{month:"January",sprints:["Sprint 1","Sprint 2"]},{month:"February",sprints:["Sprint 1"]}],"End of Q1":[{month:"February",sprints:["Sprint 2"]},{month:"March",sprints:["Sprint 1","Sprint 2"]}],"Mid Q2":[{month:"April",sprints:["Sprint 1","Sprint 2"]},{month:"May",sprints:["Sprint 1"]}],"End of Q2":[{month:"May",sprints:["Sprint 2"]},{month:"June",sprints:["Sprint 1","Sprint 2"]}],"Mid Q3":[{month:"July",sprints:["Sprint 1","Sprint 2"]},{month:"August",sprints:["Sprint 1"]}],"End of Q3":[{month:"August",sprints:["Sprint 2"]},{month:"September",sprints:["Sprint 1","Sprint 2"]}],"Mid Q4":[{month:"October",sprints:["Sprint 1","Sprint 2"]},{month:"November",sprints:["Sprint 1"]}],"End of Q4":[{month:"November",sprints:["Sprint 2"]},{month:"December",sprints:["Sprint 1","Sprint 2"]}]}}setTimelineItemBackgrounds(){this.el.nativeElement.querySelectorAll(".ngx-mat-timeline-item-line").forEach((i,r)=>{this.renderer.setStyle(i,"background",this.milestones[r].gradient)})}calculateGradients(){const e=this.milestones.length;this.milestones.forEach((i,r)=>{const o=this.calculateColor(r,e,!0),d=this.calculateColor(r,e,!1);i.gradient=`linear-gradient(to bottom right, ${o}, ${d})`})}calculateColor(e,i,r){const W=r?e:e+1;return`rgba(${0+236*W/i}, ${159+-112*W/i}, ${255+-180*W/i}, .3)`}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(ji),s.Y36(qS),s.Y36(wy),s.Y36(Ey),s.Y36(Qm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-milestones"]],decls:8,vars:2,consts:[[1,"content-panel"],[1,"title"],[1,"title-line"],[1,"notice"],["class","loading",4,"ngIf"],[4,"ngIf"],[1,"loading"],[1,"custom-timeline",3,"position","orientation","reverse"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"milestone-container"],[1,"tickets-list"],["class","ticket",4,"ngFor","ngForOf"],["ngxMatTimelineItemIcon",""],[1,"ticket"],["class","ticket-item",4,"ngFor","ngForOf"],[1,"ticket-item"],["src","assets/icon_milestone.png","alt","Ticket Icon",1,"ticket-icon"],[1,"ticket-name"],[1,"custom-icon"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h1",1),s._uU(2," Roadmap "),s._UZ(3,"div",2),s.qZA(),s.TgZ(4,"p",3),s._uU(5,"Please note that no roadmaps are final, expect chaos"),s.qZA(),s.YNc(6,_8,1,0,"app-circle-loader",4),s.YNc(7,w8,4,4,"mat-card",5),s.qZA()),2&e&&(s.xp6(6),s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",!i.loading))},dependencies:[mn,xn,Hl,Iy,u8,CH,bH,m8,p8],styles:['.content-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background:linear-gradient(294.72deg,rgba(255,69,129,.12) 9.05%,rgba(67,136,221,.12) 79.28%);width:100%;padding:1.5rem 1rem 0 2rem;margin:0}.title[_ngcontent-%COMP%]{font-family:Inter;font-size:40px!important;font-weight:600;line-height:44px;letter-spacing:0px;text-align:left;margin-bottom:10px}.notice[_ngcontent-%COMP%]{font-family:Assistant;font-size:18px;font-weight:600;letter-spacing:0px;text-align:left;color:#415162;margin:0}.title-line[_ngcontent-%COMP%]{width:96px;height:5px;margin-top:10px;background:linear-gradient(270deg,#ff4581 -.22%,#4388dd 99.78%)}.loading[_ngcontent-%COMP%]{height:70vh;display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;max-width:100vw;width:100%;box-shadow:none!important;background-color:transparent;overflow:auto}mat-card-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;align-items:center;overflow:auto}ngx-mat-timeline[_ngcontent-%COMP%]{width:100%;height:100%;display:grid;grid-auto-rows:1fr}.milestone-container[_ngcontent-%COMP%]{width:100%;height:300px;padding-left:20px}.milestone-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Assistant;font-size:18px;font-weight:600;line-height:24px;letter-spacing:0em;text-align:left;background:linear-gradient(294deg,#ff4581 70%,#4388dd 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.milestone-container[_ngcontent-%COMP%]   .tickets-list[_ngcontent-%COMP%]{width:100%;max-height:250px;overflow-y:auto;padding:10px;margin-bottom:12px;margin-top:12px;border-radius:5px}.milestone-container[_ngcontent-%COMP%]   .tickets-list[_ngcontent-%COMP%]   .ticket-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.milestone-container[_ngcontent-%COMP%]   .tickets-list[_ngcontent-%COMP%]   .ticket-item[_ngcontent-%COMP%]   .ticket-icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:10px}.milestone-container[_ngcontent-%COMP%]   .tickets-list[_ngcontent-%COMP%]   .ticket-item[_ngcontent-%COMP%]   .ticket-name[_ngcontent-%COMP%]{margin:0;font-family:Assistant;font-size:16px;font-weight:400;line-height:30px;letter-spacing:0px;text-align:left;color:#415162}.milestone-container[_ngcontent-%COMP%]   .tickets-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;background-color:#f5f5f5}.milestone-container[_ngcontent-%COMP%]   .tickets-list[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px;width:2.7px;background-color:#f5f5f5}.milestone-container[_ngcontent-%COMP%]   .tickets-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#ff4581}.custom-timeline[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:100%;display:flex;justify-content:stretch;align-items:stretch;overflow:auto}.custom-timeline[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;background-color:#f5f5f5}.custom-timeline[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px;width:8px;background-color:#f5f5f5}.custom-timeline[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#ff4581}.custom-timeline[_ngcontent-%COMP%]     ngx-mat-timeline-item:nth-child(1){padding-left:10rem}.custom-timeline[_ngcontent-%COMP%]     .ngx-mat-timeline-item-line{height:7px!important;background:var(--custom-gradient)}.custom-timeline[_ngcontent-%COMP%]     .ngx-mat-timeline-item-content{width:350px;margin-right:-19px!important;position:relative;padding-left:8px}.custom-timeline[_ngcontent-%COMP%]     .ngx-mat-timeline-item-content:before{content:" ";display:block;height:335px;width:2px;background-color:#ff4581;position:absolute}.custom-timeline[_ngcontent-%COMP%]     .ngx-mat-timeline-item:nth-child(odd) .ngx-mat-timeline-item-content:before{top:-40px}.custom-timeline[_ngcontent-%COMP%]     .ngx-mat-timeline-item:nth-child(even) .ngx-mat-timeline-item-content:before{bottom:-40px;top:auto}.custom-timeline[_ngcontent-%COMP%]     .icon-wrapper{position:relative;width:36px;height:36px;border-radius:50%;display:flex;justify-content:center;align-items:center;margin:0}.custom-timeline[_ngcontent-%COMP%]     .icon-wrapper:before{content:"";position:absolute;height:40px;width:40px;border-radius:50%;background-color:#ff45811a;z-index:-1;top:50%;left:50%;transform:translate(-50%,-50%)}.custom-timeline[_ngcontent-%COMP%]     .custom-icon{height:18px;width:18px;border-radius:50%;background-color:#ff4581;z-index:2;transition:background-color .3s;font-weight:700;position:relative;margin:0}.custom-timeline[_ngcontent-%COMP%]     .custom-icon:before{content:"";position:absolute;height:34.5px;width:34.5px;border-radius:50%;background-color:#ff458133;z-index:-1;top:50%;left:50%;transform:translate(-50%,-50%)}.custom-timeline[_ngcontent-%COMP%]     .custom-icon span{font-family:Assistant;font-size:14px;font-weight:600;line-height:18px;letter-spacing:0em;text-align:center;width:300px;position:absolute;padding:5px 10px;left:50%;margin-top:8px;margin-bottom:8px;transform:translate(-50%);z-index:3}.custom-timeline[_ngcontent-%COMP%]     .ngx-mat-timeline-item:nth-child(odd) .custom-icon span{bottom:calc(100% + 2px)}.custom-timeline[_ngcontent-%COMP%]     .ngx-mat-timeline-item:nth-child(even) .custom-icon span{top:calc(100% + 2px)}']}),n})()}];let S8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Vp.forRoot(x8),Vp]}),n})(),I8=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"hexagon-container"],[1,"hexagon"],[1,"hexagon-2"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"div",1)(2,"div",2),s.qZA())},styles:[".hexagon-container[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:50%;overflow:hidden;z-index:-99}.hexagon[_ngcontent-%COMP%]{position:absolute;width:232.72px;height:201.58px;left:-16.12px;bottom:0;transform:matrix(0,1,1,0,0,0);clip-path:polygon(25% 0%,75% 0%,100% 50%,75% 100%,25% 100%,0% 50%);background:linear-gradient(49.11deg,rgba(67,136,221,.09) 12.62%,rgba(67,136,221,.084) 16.08%,rgba(67,136,221,.063) 29.29%,rgba(67,136,221,.045) 42.43%,rgba(67,136,221,.021) 55.37%,rgba(67,136,221,0) 67.87%)}.hexagon-2[_ngcontent-%COMP%]{position:absolute;width:232.72px;height:201.57px;left:-48px;bottom:0;transform:matrix(0,1,1,0,0,0);clip-path:polygon(25% 0%,75% 0%,100% 50%,75% 100%,25% 100%,0% 50%);background:linear-gradient(49.11deg,rgba(67,136,221,.09) 12.62%,rgba(67,136,221,.075) 16.07%,rgba(67,136,221,.045) 29.29%,rgba(67,136,221,.0405) 42.43%,rgba(67,136,221,.021) 55.37%,rgba(67,136,221,0) 67.87%)}"]}),n})(),T8=(()=>{class n{constructor(){this.title="MVP Ror"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")(1,"app-footer")},dependencies:[_,I8]}),n})();const EH_firebaseConfig={apiKey:"AIzaSyCoFK8wf2T_Cjmq1HGd78wMkq1r1e6LumY",authDomain:"rorr-1124e.firebaseapp.com",projectId:"rorr-1124e",storageBucket:"rorr-1124e.appspot.com",messagingSenderId:"1023753832713",appId:"1:1023753832713:web:b5f7e7d0960d2477126bd8",measurementId:"G-0Q1J784GZB"};function wH(n){return new s.vHH(3e3,!1)}function lW(){return typeof window<"u"&&typeof window.document<"u"}function sP(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Af(n){switch(n.length){case 0:return new I_;case 1:return n[0];default:return new Eo(n)}}function xH(n,t,e,i,r=new Map,o=new Map){const d=[],m=[];let C=-1,S=null;if(i.forEach(O=>{const W=O.get("offset"),ce=W==C,fe=ce&&S||new Map;O.forEach((be,Ae)=>{let Ue=Ae,it=be;if("offset"!==Ae)switch(Ue=t.normalizePropertyName(Ue,d),it){case"!":it=r.get(Ae);break;case Pl:it=o.get(Ae);break;default:it=t.normalizeStyleValue(Ae,Ue,it,d)}fe.set(Ue,it)}),ce||m.push(fe),S=fe,C=W}),d.length)throw function Y8(n){return new s.vHH(3502,!1)}();return m}function oP(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&aP(e,"start",n)));break;case"done":n.onDone(()=>i(e&&aP(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&aP(e,"destroy",n)))}}function aP(n,t,e){const o=lP(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),d=n._data;return null!=d&&(o._data=d),o}function lP(n,t,e,i,r="",o=0,d){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!d}}function ta(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function SH(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let cP=(n,t)=>!1,IH=(n,t,e)=>[],TH=null;function uP(n){const t=n.parentNode||n.host;return t===TH?null:t}(sP()||typeof Element<"u")&&(lW()?(TH=(()=>document.documentElement)(),cP=(n,t)=>{for(;t;){if(t===n)return!0;t=uP(t)}return!1}):cP=(n,t)=>n.contains(t),IH=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Xm=null,DH=!1;const MH=cP,AH=IH;let kH=(()=>{class n{validateStyleProperty(e){return function uW(n){Xm||(Xm=function dW(){return typeof document<"u"?document.body:null}()||{},DH=!!Xm.style&&"WebkitAppearance"in Xm.style);let t=!0;return Xm.style&&!function cW(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Xm.style,!t&&DH&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Xm.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return MH(e,i)}getParentElement(e){return uP(e)}query(e,i,r){return AH(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,d,m=[],C){return new I_(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),dP=(()=>{class n{}return n.NOOP=new kH,n})();const hP="ng-enter",nI="ng-leave",iI="ng-trigger",rI=".ng-trigger",RH="ng-animating",fP=".ng-animating";function Fd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:pP(parseFloat(t[1]),t[2])}function pP(n,t){return"s"===t?1e3*n:n}function sI(n,t,e){return n.hasOwnProperty("duration")?n:function pW(n,t,e){let r,o=0,d="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(wH()),{duration:0,delay:0,easing:""};r=pP(parseFloat(m[1]),m[2]);const C=m[3];null!=C&&(o=pP(parseFloat(C),m[4]));const S=m[5];S&&(d=S)}else r=n;if(!e){let m=!1,C=t.length;r<0&&(t.push(function D8(){return new s.vHH(3100,!1)}()),m=!0),o<0&&(t.push(function M8(){return new s.vHH(3101,!1)}()),m=!0),m&&t.splice(C,0,wH())}return{duration:r,delay:o,easing:d}}(n,t,e)}function cC(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function OH(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function kf(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function NH(n,t,e){return e?t+":"+e+";":""}function LH(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=NH(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=NH(0,yW(e),n.style[e]));n.setAttribute("style",t)}function tu(n,t,e){n.style&&(t.forEach((i,r)=>{const o=gP(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),sP()&&LH(n))}function Jm(n,t){n.style&&(t.forEach((e,i)=>{const r=gP(i);n.style[r]=""}),sP()&&LH(n))}function uC(n){return Array.isArray(n)?1==n.length?n[0]:Zw(n):n}const mP=new RegExp("{{\\s*(.+?)\\s*}}","g");function BH(n){let t=[];if("string"==typeof n){let e;for(;e=mP.exec(n);)t.push(e[1]);mP.lastIndex=0}return t}function dC(n,t,e){const i=n.toString(),r=i.replace(mP,(o,d)=>{let m=t[d];return null==m&&(e.push(function k8(n){return new s.vHH(3003,!1)}()),m=""),m.toString()});return r==i?n:r}function oI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const _W=/-+([a-z0-9])/g;function gP(n){return n.replace(_W,(...t)=>t[1].toUpperCase())}function yW(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function na(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function P8(n){return new s.vHH(3004,!1)}()}}function VH(n,t){return window.getComputedStyle(n)[t]}function xW(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function SW(n,t,e){if(":"==n[0]){const C=function IW(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function q8(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof C)return void t.push(C);n=C}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function $8(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],d=i[3];t.push(HH(r,d));"<"==o[0]&&!("*"==r&&"*"==d)&&t.push(HH(d,r))}(i,e,t)):e.push(n),e}const uI=new Set(["true","1"]),dI=new Set(["false","0"]);function HH(n,t){const e=uI.has(n)||dI.has(n),i=uI.has(t)||dI.has(t);return(r,o)=>{let d="*"==n||n==r,m="*"==t||t==o;return!d&&e&&"boolean"==typeof r&&(d=r?uI.has(n):dI.has(n)),!m&&i&&"boolean"==typeof o&&(m=o?uI.has(t):dI.has(t)),d&&m}}const TW=new RegExp("s*:selfs*,?","g");function _P(n,t,e,i){return new DW(n).build(t,e,i)}class DW{constructor(t){this._driver=t}build(t,e,i){const r=new kW(e);return this._resetContextStyleTimingState(r),na(this,uC(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push(function O8(){return new s.vHH(3006,!1)}()),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const C=m,S=C.name;S.toString().split(/\s*,\s*/).forEach(O=>{C.name=O,o.push(this.visitState(C,e))}),C.name=S}else if(1==m.type){const C=this.visitTransition(m,e);i+=C.queryCount,r+=C.depCount,d.push(C)}else e.errors.push(function F8(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:d,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,d=r||{};i.styles.forEach(m=>{m instanceof Map&&m.forEach(C=>{BH(C).forEach(S=>{d.hasOwnProperty(S)||o.add(S)})})}),o.size&&(oI(o.values()),e.errors.push(function N8(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=na(this,uC(t.animation),e);return{type:1,matchers:xW(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:eg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>na(this,i,e)),options:eg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(d=>{e.currentTime=i;const m=na(this,d,e);return r=Math.max(r,e.currentTime),m});return e.currentTime=r,{type:3,steps:o,options:eg(t.options)}}visitAnimate(t,e){const i=function RW(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return yP(sI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=yP(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=sI(e,t);return yP(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:dn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let d=t.styles,m=!1;if(!d){m=!0;const S={};i.easing&&(S.easing=i.easing),d=dn(S)}e.currentTime+=i.duration+i.delay;const C=this.visitStyle(d,e);C.isEmptyStep=m,r=C}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let m of r)"string"==typeof m?m===Pl?i.push(m):e.errors.push(new s.vHH(3002,!1)):i.push(OH(m));let o=!1,d=null;return i.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(d=m.get("easing"),m.delete("easing")),!o))for(let C of m.values())if(C.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:d,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(d=>{"string"!=typeof d&&d.forEach((m,C)=>{const S=e.collectedStyles.get(e.currentQuerySelector),O=S.get(C);let W=!0;O&&(o!=r&&o>=O.startTime&&r<=O.endTime&&(e.errors.push(function B8(n,t,e,i,r){return new s.vHH(3010,!1)}()),W=!1),o=O.startTime),W&&S.set(C,{startTime:o,endTime:r}),e.options&&function gW(n,t,e){const i=t.params||{},r=BH(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function A8(n){return new s.vHH(3001,!1)}())})}(m,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function V8(){return new s.vHH(3011,!1)}()),i;let o=0;const d=[];let m=!1,C=!1,S=0;const O=t.steps.map(it=>{const bt=this._makeStyleAst(it,e);let dt=null!=bt.offset?bt.offset:function PW(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(bt.styles),Mt=0;return null!=dt&&(o++,Mt=bt.offset=dt),C=C||Mt<0||Mt>1,m=m||Mt<S,S=Mt,d.push(Mt),bt});C&&e.errors.push(function H8(){return new s.vHH(3012,!1)}()),m&&e.errors.push(function U8(){return new s.vHH(3200,!1)}());const W=t.steps.length;let ce=0;o>0&&o<W?e.errors.push(function j8(){return new s.vHH(3202,!1)}()):0==o&&(ce=1/(W-1));const fe=W-1,be=e.currentTime,Ae=e.currentAnimateTimings,Ue=Ae.duration;return O.forEach((it,bt)=>{const dt=ce>0?bt==fe?1:ce*bt:d[bt],Mt=dt*Ue;e.currentTime=be+Ae.delay+Mt,Ae.duration=Mt,this._validateStyleAst(it,e),it.offset=dt,i.styles.push(it)}),i}visitReference(t,e){return{type:8,animation:na(this,uC(t.animation),e),options:eg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:eg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:eg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,d]=function MW(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(TW,"")),n=n.replace(/@\*/g,rI).replace(/@\w+/g,e=>rI+"-"+e.slice(1)).replace(/:animating/g,fP),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,ta(e.collectedStyles,e.currentQuerySelector,new Map);const m=na(this,uC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:m,originalSelector:t.selector,options:eg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function z8(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:sI(t.timings,e.errors,!0);return{type:12,animation:na(this,uC(t.animation),e),timings:i,options:null}}}class kW{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function eg(n){return n?(n=cC(n)).params&&(n.params=function AW(n){return n?cC(n):null}(n.params)):n={},n}function yP(n,t,e){return{duration:n,delay:t,easing:e}}function vP(n,t,e,i,r,o,d=null,m=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:d,subTimeline:m}}class hI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const NW=new RegExp(":enter","g"),BW=new RegExp(":leave","g");function bP(n,t,e,i,r,o=new Map,d=new Map,m,C,S=[]){return(new VW).buildKeyframes(n,t,e,i,r,o,d,m,C,S)}class VW{buildKeyframes(t,e,i,r,o,d,m,C,S,O=[]){S=S||new hI;const W=new CP(t,e,S,r,o,O,[]);W.options=C;const ce=C.delay?Fd(C.delay):0;W.currentTimeline.delayNextStep(ce),W.currentTimeline.setStyles([d],null,W.errors,C),na(this,i,W);const fe=W.timelines.filter(be=>be.containsAnimation());if(fe.length&&m.size){let be;for(let Ae=fe.length-1;Ae>=0;Ae--){const Ue=fe[Ae];if(Ue.element===e){be=Ue;break}}be&&!be.allowOnlyTimelineStyles()&&be.setStyles([m],null,W.errors,C)}return fe.length?fe.map(be=>be.buildKeyframes()):[vP(e,[],[],[],0,ce,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);o!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const d="number"==typeof o?o:Fd(dC(o,r?.params??{},e.errors));i.delayNextStep(d)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const d=null!=i.duration?Fd(i.duration):null,m=null!=i.delay?Fd(i.delay):null;return 0!==d&&t.forEach(C=>{const S=e.appendInstructionToTimeline(C,d,m);o=Math.max(o,S.duration+S.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),na(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=fI);const d=Fd(o.delay);r.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>na(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Fd(t.options.delay):0;t.steps.forEach(d=>{const m=e.createSubContext(t.options);o&&m.delayNextStep(o),na(this,d,m),r=Math.max(r,m.currentTimeline.currentTime),i.push(m.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return sI(e.params?dC(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,m=e.createSubContext().currentTimeline;m.easing=i.easing,t.styles.forEach(C=>{m.forwardTime((C.offset||0)*o),m.setStyles(C.styles,C.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Fd(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=fI);let d=i;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=m.length;let C=null;m.forEach((S,O)=>{e.currentQueryIndex=O;const W=e.createSubContext(t.options,S);o&&W.delayNextStep(o),S===e.element&&(C=W.currentTimeline),na(this,t.animation,W),W.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,W.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),C&&(e.currentTimeline.mergeTimelineCollectedStyles(C),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,d=Math.abs(o.duration),m=d*(e.currentQueryTotal-1);let C=d*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":C=m-C;break;case"full":C=i.currentStaggerTime}const O=e.currentTimeline;C&&O.delayNextStep(C);const W=O.currentTime;na(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-W+(r.startTime-i.currentTimeline.startTime)}}const fI={};class CP{constructor(t,e,i,r,o,d,m,C){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=d,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new pI(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Fd(i.duration)),null!=i.delay&&(r.delay=Fd(i.delay));const o=i.params;if(o){let d=r.params;d||(d=this.options.params={}),Object.keys(o).forEach(m=>{(!e||!d.hasOwnProperty(m))&&(d[m]=dC(o[m],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new CP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=fI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new HW(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,d){let m=[];if(r&&m.push(this.element),t.length>0){t=(t=t.replace(NW,"."+this._enterClassName)).replace(BW,"."+this._leaveClassName);let S=this._driver.query(this.element,t,1!=i);0!==i&&(S=i<0?S.slice(S.length+i,S.length):S.slice(0,i)),m.push(...S)}return!o&&0==m.length&&d.push(function G8(n){return new s.vHH(3014,!1)}()),m}}class pI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new pI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Pl),this._currentKeyframe.set(e,Pl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},d=function UW(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Pl)}else kf(r,e)}),e}(t,this._globalTimelineStyles);for(let[m,C]of d){const S=dC(C,o,i);this._pendingStyles.set(m,S),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??Pl),this._updateStyle(m,S)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((m,C)=>{const S=kf(m,new Map,this._backFill);S.forEach((O,W)=>{"!"===O?t.add(W):O===Pl&&e.add(W)}),i||S.set("offset",C/this.duration),r.push(S)});const o=t.size?oI(t.values()):[],d=e.size?oI(e.values()):[];if(i){const m=r[0],C=new Map(m);m.set("offset",0),C.set("offset",1),r=[m,C]}return vP(this.element,r,o,d,this.duration,this.startTime,this.easing,!1)}}class HW extends pI{constructor(t,e,i,r,o,d,m=!1){super(t,e,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=m,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],d=i+e,m=e/d,C=kf(t[0]);C.set("offset",0),o.push(C);const S=kf(t[0]);S.set("offset",zH(m)),o.push(S);const O=t.length-1;for(let W=1;W<=O;W++){let ce=kf(t[W]);const fe=ce.get("offset");ce.set("offset",zH((e+fe*i)/d)),o.push(ce)}i=d,e=0,r="",t=o}return vP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function zH(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class EP{}const jW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zW extends EP{normalizePropertyName(t,e){return gP(t)}normalizeStyleValue(t,e,i,r){let o="";const d=i.toString().trim();if(jW.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const m=i.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&r.push(function R8(n,t){return new s.vHH(3005,!1)}())}return d+o}}function GH(n,t,e,i,r,o,d,m,C,S,O,W,ce){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:d,timelines:m,queriedElements:C,preStyleProps:S,postStyleProps:O,totalTime:W,errors:ce}}const wP={};class $H{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function GW(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,d,m,C,S,O){const W=[],ce=this.ast.options&&this.ast.options.params||wP,be=this.buildStyles(i,m&&m.params||wP,W),Ae=C&&C.params||wP,Ue=this.buildStyles(r,Ae,W),it=new Set,bt=new Map,dt=new Map,Mt="void"===r,en={params:$W(Ae,ce),delay:this.ast.options?.delay},rn=O?[]:bP(t,e,this.ast.animation,o,d,be,Ue,en,S,W);let zn=0;if(rn.forEach(Nd=>{zn=Math.max(Nd.duration+Nd.delay,zn)}),W.length)return GH(e,this._triggerName,i,r,Mt,be,Ue,[],[],bt,dt,zn,W);rn.forEach(Nd=>{const Ld=Nd.element,y3=ta(bt,Ld,new Set);Nd.preStyleProps.forEach(tg=>y3.add(tg));const fC=ta(dt,Ld,new Set);Nd.postStyleProps.forEach(tg=>fC.add(tg)),Ld!==e&&it.add(Ld)});const es=oI(it.values());return GH(e,this._triggerName,i,r,Mt,be,Ue,rn,es,bt,dt,zn)}}function $W(n,t){const e=cC(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class qW{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=cC(this.defaultParams);return Object.keys(t).forEach(o=>{const d=t[o];null!==d&&(r[o]=d)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((d,m)=>{d&&(d=dC(d,r,e));const C=this.normalizer.normalizePropertyName(m,e);d=this.normalizer.normalizeStyleValue(m,C,d,e),i.set(C,d)})}),i}}class ZW{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new qW(r.style,r.options&&r.options.params||{},i))}),qH(this.states,"true","1"),qH(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new $H(t,r,this.states))}),this.fallbackTransition=function KW(n,t,e){return new $H(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(d=>d.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function qH(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const YW=new hI;class QW{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=_P(this._driver,e,i,[]);if(i.length)throw function Q8(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=xH(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let d;const m=new Map;if(o?(d=bP(this._driver,e,o,hP,nI,new Map,new Map,i,YW,r),d.forEach(O=>{const W=ta(m,O.element,new Map);O.postStyleProps.forEach(ce=>W.set(ce,null))})):(r.push(function X8(){return new s.vHH(3300,!1)}()),d=[]),r.length)throw function J8(n){return new s.vHH(3504,!1)}();m.forEach((O,W)=>{O.forEach((ce,fe)=>{O.set(fe,this._driver.computeStyle(W,fe,Pl))})});const S=Af(d.map(O=>{const W=m.get(O.element);return this._buildPlayer(O,new Map,W)}));return this._playersById.set(t,S),S.onDestroy(()=>this.destroy(t)),this.players.push(S),S}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function eW(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=lP(e,"","","");return oP(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const WH="ng-animate-queued",xP="ng-animate-disabled",n9=[],ZH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},i9={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ga="__ng_removed";class SP{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function a9(n){return n??null}(i?t.value:t),i){const o=cC(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const hC="void",IP=new SP(hC);class r9{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,$a(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function tW(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function nW(n){return new s.vHH(3303,!1)}();if(!function l9(n){return"start"==n||"done"==n}(i))throw function iW(n,t){return new s.vHH(3400,!1)}();const o=ta(this._elementListeners,t,[]),d={name:e,phase:i,callback:r};o.push(d);const m=ta(this._engine.statesByElement,t,new Map);return m.has(e)||($a(t,iI),$a(t,iI+"-"+e),m.set(e,IP)),()=>{this._engine.afterFlush(()=>{const C=o.indexOf(d);C>=0&&o.splice(C,1),this._triggers.has(e)||m.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function rW(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),d=new TP(this.id,e,t);let m=this._engine.statesByElement.get(t);m||($a(t,iI),$a(t,iI+"-"+e),this._engine.statesByElement.set(t,m=new Map));let C=m.get(e);const S=new SP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&C&&S.absorbOptions(C.options),m.set(e,S),C||(C=IP),S.value!==hC&&C.value===S.value){if(!function d9(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(C.params,S.params)){const Ae=[],Ue=o.matchStyles(C.value,C.params,Ae),it=o.matchStyles(S.value,S.params,Ae);Ae.length?this._engine.reportError(Ae):this._engine.afterFlush(()=>{Jm(t,Ue),tu(t,it)})}return}const ce=ta(this._engine.playersByElement,t,[]);ce.forEach(Ae=>{Ae.namespaceId==this.id&&Ae.triggerName==e&&Ae.queued&&Ae.destroy()});let fe=o.matchTransition(C.value,S.value,t,S.params),be=!1;if(!fe){if(!r)return;fe=o.fallbackTransition,be=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:fe,fromState:C,toState:S,player:d,isFallbackTransition:be}),be||($a(t,WH),d.onStart(()=>{My(t,WH)})),d.onDone(()=>{let Ae=this.players.indexOf(d);Ae>=0&&this.players.splice(Ae,1);const Ue=this._engine.playersByElement.get(t);if(Ue){let it=Ue.indexOf(d);it>=0&&Ue.splice(it,1)}}),this.players.push(d),ce.push(d),d}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,rI,!0);i.forEach(r=>{if(r[Ga])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(d=>d.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),d=new Map;if(o){const m=[];if(o.forEach((C,S)=>{if(d.set(S,C.value),this._triggers.has(S)){const O=this.trigger(t,S,hC,r);O&&m.push(O)}}),m.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),i&&Af(m).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const d=o.name;if(r.has(d))return;r.add(d);const C=this._triggers.get(d).fallbackTransition,S=i.get(d)||IP,O=new SP(hC),W=new TP(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:C,fromState:S,toState:O,player:W,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let d=t;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ga];(!o||o===ZH)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){$a(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,d=this._elementListeners.get(o);d&&d.forEach(m=>{if(m.name==i.triggerName){const C=lP(o,i.triggerName,i.fromState.value,i.toState.value);C._data=t,oP(i.player,m.phase,C,m.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==o||0==d?o-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class s9{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new r9(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let d=!1,m=this.driver.getParentElement(e);for(;m;){const C=r.get(m);if(C){const S=i.indexOf(C);i.splice(S+1,0,t),d=!0;break}m=this.driver.getParentElement(m)}d||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(mI(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!mI(e))return;const o=e[Ga];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),$a(t,xP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),My(t,xP))}removeNode(t,e,i,r){if(mI(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Ga]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return mI(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,rI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,fP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Af(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ga];if(e&&e.setForRemoval){if(t[Ga]=ZH,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(xP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)$a(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Af(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function sW(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new hI,r=[],o=new Map,d=[],m=new Map,C=new Map,S=new Map,O=new Set;this.disabledNodes.forEach(kt=>{O.add(kt);const Wt=this.driver.query(kt,".ng-animate-queued",!0);for(let Qt=0;Qt<Wt.length;Qt++)O.add(Wt[Qt])});const W=this.bodyNode,ce=Array.from(this.statesByElement.keys()),fe=QH(ce,this.collectedEnterElements),be=new Map;let Ae=0;fe.forEach((kt,Wt)=>{const Qt=hP+Ae++;be.set(Wt,Qt),kt.forEach(Ln=>$a(Ln,Qt))});const Ue=[],it=new Set,bt=new Set;for(let kt=0;kt<this.collectedLeaveElements.length;kt++){const Wt=this.collectedLeaveElements[kt],Qt=Wt[Ga];Qt&&Qt.setForRemoval&&(Ue.push(Wt),it.add(Wt),Qt.hasAnimation?this.driver.query(Wt,".ng-star-inserted",!0).forEach(Ln=>it.add(Ln)):bt.add(Wt))}const dt=new Map,Mt=QH(ce,Array.from(it));Mt.forEach((kt,Wt)=>{const Qt=nI+Ae++;dt.set(Wt,Qt),kt.forEach(Ln=>$a(Ln,Qt))}),t.push(()=>{fe.forEach((kt,Wt)=>{const Qt=be.get(Wt);kt.forEach(Ln=>My(Ln,Qt))}),Mt.forEach((kt,Wt)=>{const Qt=dt.get(Wt);kt.forEach(Ln=>My(Ln,Qt))}),Ue.forEach(kt=>{this.processLeaveNode(kt)})});const en=[],rn=[];for(let kt=this._namespaceList.length-1;kt>=0;kt--)this._namespaceList[kt].drainQueuedTransitions(e).forEach(Qt=>{const Ln=Qt.player,ts=Qt.element;if(en.push(Ln),this.collectedEnterElements.length){const js=ts[Ga];if(js&&js.setForMove){if(js.previousTriggersValues&&js.previousTriggersValues.has(Qt.triggerName)){const ng=js.previousTriggersValues.get(Qt.triggerName),qa=this.statesByElement.get(Qt.element);if(qa&&qa.has(Qt.triggerName)){const yI=qa.get(Qt.triggerName);yI.value=ng,qa.set(Qt.triggerName,yI)}}return void Ln.destroy()}}const nu=!W||!this.driver.containsElement(W,ts),ia=dt.get(ts),Pf=be.get(ts),Gi=this._buildInstruction(Qt,i,Pf,ia,nu);if(Gi.errors&&Gi.errors.length)return void rn.push(Gi);if(nu)return Ln.onStart(()=>Jm(ts,Gi.fromStyles)),Ln.onDestroy(()=>tu(ts,Gi.toStyles)),void r.push(Ln);if(Qt.isFallbackTransition)return Ln.onStart(()=>Jm(ts,Gi.fromStyles)),Ln.onDestroy(()=>tu(ts,Gi.toStyles)),void r.push(Ln);const C3=[];Gi.timelines.forEach(js=>{js.stretchStartingKeyframe=!0,this.disabledNodes.has(js.element)||C3.push(js)}),Gi.timelines=C3,i.append(ts,Gi.timelines),d.push({instruction:Gi,player:Ln,element:ts}),Gi.queriedElements.forEach(js=>ta(m,js,[]).push(Ln)),Gi.preStyleProps.forEach((js,ng)=>{if(js.size){let qa=C.get(ng);qa||C.set(ng,qa=new Set),js.forEach((yI,RP)=>qa.add(RP))}}),Gi.postStyleProps.forEach((js,ng)=>{let qa=S.get(ng);qa||S.set(ng,qa=new Set),js.forEach((yI,RP)=>qa.add(RP))})});if(rn.length){const kt=[];rn.forEach(Wt=>{kt.push(function oW(n,t){return new s.vHH(3505,!1)}())}),en.forEach(Wt=>Wt.destroy()),this.reportError(kt)}const zn=new Map,es=new Map;d.forEach(kt=>{const Wt=kt.element;i.has(Wt)&&(es.set(Wt,Wt),this._beforeAnimationBuild(kt.player.namespaceId,kt.instruction,zn))}),r.forEach(kt=>{const Wt=kt.element;this._getPreviousPlayers(Wt,!1,kt.namespaceId,kt.triggerName,null).forEach(Ln=>{ta(zn,Wt,[]).push(Ln),Ln.destroy()})});const Nd=Ue.filter(kt=>JH(kt,C,S)),Ld=new Map;YH(Ld,this.driver,bt,S,Pl).forEach(kt=>{JH(kt,C,S)&&Nd.push(kt)});const fC=new Map;fe.forEach((kt,Wt)=>{YH(fC,this.driver,new Set(kt),C,"!")}),Nd.forEach(kt=>{const Wt=Ld.get(kt),Qt=fC.get(kt);Ld.set(kt,new Map([...Array.from(Wt?.entries()??[]),...Array.from(Qt?.entries()??[])]))});const tg=[],v3=[],b3={};d.forEach(kt=>{const{element:Wt,player:Qt,instruction:Ln}=kt;if(i.has(Wt)){if(O.has(Wt))return Qt.onDestroy(()=>tu(Wt,Ln.toStyles)),Qt.disabled=!0,Qt.overrideTotalTime(Ln.totalTime),void r.push(Qt);let ts=b3;if(es.size>1){let ia=Wt;const Pf=[];for(;ia=ia.parentNode;){const Gi=es.get(ia);if(Gi){ts=Gi;break}Pf.push(ia)}Pf.forEach(Gi=>es.set(Gi,ts))}const nu=this._buildAnimation(Qt.namespaceId,Ln,zn,o,fC,Ld);if(Qt.setRealPlayer(nu),ts===b3)tg.push(Qt);else{const ia=this.playersByElement.get(ts);ia&&ia.length&&(Qt.parentPlayer=Af(ia)),r.push(Qt)}}else Jm(Wt,Ln.fromStyles),Qt.onDestroy(()=>tu(Wt,Ln.toStyles)),v3.push(Qt),O.has(Wt)&&r.push(Qt)}),v3.forEach(kt=>{const Wt=o.get(kt.element);if(Wt&&Wt.length){const Qt=Af(Wt);kt.setRealPlayer(Qt)}}),r.forEach(kt=>{kt.parentPlayer?kt.syncPlayerEvents(kt.parentPlayer):kt.destroy()});for(let kt=0;kt<Ue.length;kt++){const Wt=Ue[kt],Qt=Wt[Ga];if(My(Wt,nI),Qt&&Qt.hasAnimation)continue;let Ln=[];if(m.size){let nu=m.get(Wt);nu&&nu.length&&Ln.push(...nu);let ia=this.driver.query(Wt,fP,!0);for(let Pf=0;Pf<ia.length;Pf++){let Gi=m.get(ia[Pf]);Gi&&Gi.length&&Ln.push(...Gi)}}const ts=Ln.filter(nu=>!nu.destroyed);ts.length?c9(this,Wt,ts):this.processLeaveNode(Wt)}return Ue.length=0,tg.forEach(kt=>{this.players.push(kt),kt.onDone(()=>{kt.destroy();const Wt=this.players.indexOf(kt);this.players.splice(Wt,1)}),kt.play()}),tg}elementContainsData(t,e){let i=!1;const r=e[Ga];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let d=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(d=m)}else{const m=this.playersByElement.get(t);if(m){const C=!o||o==hC;m.forEach(S=>{S.queued||!C&&S.triggerName!=r||d.push(S)})}}return(i||r)&&(d=d.filter(m=>!(i&&i!=m.namespaceId||r&&r!=m.triggerName))),d}_beforeAnimationBuild(t,e,i){const o=e.element,d=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const C of e.timelines){const S=C.element,O=S!==o,W=ta(i,S,[]);this._getPreviousPlayers(S,O,d,m,e.toState).forEach(fe=>{const be=fe.getRealPlayer();be.beforeDestroy&&be.beforeDestroy(),fe.destroy(),W.push(fe)})}Jm(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,d){const m=e.triggerName,C=e.element,S=[],O=new Set,W=new Set,ce=e.timelines.map(be=>{const Ae=be.element;O.add(Ae);const Ue=Ae[Ga];if(Ue&&Ue.removedBeforeQueried)return new I_(be.duration,be.delay);const it=Ae!==C,bt=function u9(n){const t=[];return XH(n,t),t}((i.get(Ae)||n9).map(zn=>zn.getRealPlayer())).filter(zn=>!!zn.element&&zn.element===Ae),dt=o.get(Ae),Mt=d.get(Ae),en=xH(0,this._normalizer,0,be.keyframes,dt,Mt),rn=this._buildPlayer(be,en,bt);if(be.subTimeline&&r&&W.add(Ae),it){const zn=new TP(t,m,Ae);zn.setRealPlayer(rn),S.push(zn)}return rn});S.forEach(be=>{ta(this.playersByQueriedElement,be.element,[]).push(be),be.onDone(()=>function o9(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,be.element,be))}),O.forEach(be=>$a(be,RH));const fe=Af(ce);return fe.onDestroy(()=>{O.forEach(be=>My(be,RH)),tu(C,e.toStyles)}),W.forEach(be=>{ta(r,be,[]).push(fe)}),fe}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new I_(t.duration,t.delay)}}class TP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new I_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>oP(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ta(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function mI(n){return n&&1===n.nodeType}function KH(n,t){const e=n.style.display;return n.style.display=t??"none",e}function YH(n,t,e,i,r){const o=[];e.forEach(C=>o.push(KH(C)));const d=[];i.forEach((C,S)=>{const O=new Map;C.forEach(W=>{const ce=t.computeStyle(S,W,r);O.set(W,ce),(!ce||0==ce.length)&&(S[Ga]=i9,d.push(S))}),n.set(S,O)});let m=0;return e.forEach(C=>KH(C,o[m++])),d}function QH(n,t){const e=new Map;if(n.forEach(m=>e.set(m,[])),0==t.length)return e;const r=new Set(t),o=new Map;function d(m){if(!m)return 1;let C=o.get(m);if(C)return C;const S=m.parentNode;return C=e.has(S)?S:r.has(S)?1:d(S),o.set(m,C),C}return t.forEach(m=>{const C=d(m);1!==C&&e.get(C).push(m)}),e}function $a(n,t){n.classList?.add(t)}function My(n,t){n.classList?.remove(t)}function c9(n,t,e){Af(e).onDone(()=>n.processLeaveNode(t))}function XH(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Eo?XH(i.players,t):t.push(i)}}function JH(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class gI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new s9(t,e,i),this._timelineEngine=new QW(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const d=t+"-"+r;let m=this._triggerCache[d];if(!m){const C=[],O=_P(this._driver,o,C,[]);if(C.length)throw function K8(n,t){return new s.vHH(3404,!1)}();m=function WW(n,t,e){return new ZW(n,t,e)}(r,O,this._normalizer),this._triggerCache[d]=m}this._transitionEngine.registerTrigger(e,r,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,d]=SH(i);this._timelineEngine.command(o,e,d,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[d,m]=SH(i);return this._timelineEngine.listen(d,e,m,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let f9=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&tu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tu(this._element,this._initialStyles),this._endStyles&&(tu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Jm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jm(this._element,this._endStyles),this._endStyles=null),tu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function DP(n){let t=null;return n.forEach((e,i)=>{(function p9(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class e3{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:VH(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class m9{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return MH(t,e)}getParentElement(t){return uP(t)}query(t,e,i){return AH(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,d=[]){const C={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(C.easing=o);const S=new Map,O=d.filter(fe=>fe instanceof e3);(function vW(n,t){return 0===n||0===t})(i,r)&&O.forEach(fe=>{fe.currentSnapshot.forEach((be,Ae)=>S.set(Ae,be))});let W=function mW(n){return n.length?n[0]instanceof Map?n:n.map(t=>OH(t)):[]}(e).map(fe=>kf(fe));W=function bW(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,d)=>{i.has(d)||r.push(d),i.set(d,o)}),r.length)for(let o=1;o<t.length;o++){let d=t[o];r.forEach(m=>d.set(m,VH(n,m)))}}return t}(t,W,S);const ce=function h9(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=DP(t[0]),t.length>1&&(i=DP(t[t.length-1]))):t instanceof Map&&(e=DP(t)),e||i?new f9(n,e,i):null}(t,W);return new e3(t,W,C,ce)}}let g9=(()=>{class n extends C0{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Zw(e):e;return t3(this._renderer,null,i,"register",[r]),new _9(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class _9 extends class XO{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new y9(this._id,t,e||{},this._renderer)}}class y9{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return t3(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function t3(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const n3="@.disabled";let v9=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,d)=>{const m=d?.parentNode(o);m&&d.removeChild(m,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let O=this._rendererCache.get(o);return O||(O=new r3("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,O)),O}const d=i.id,m=i.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const C=O=>{Array.isArray(O)?O.forEach(C):this.engine.registerTrigger(d,m,e,O.name,O)};return i.data.animation.forEach(C),new b9(this,m,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[d,m]=o;d(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(gI),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class r3{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==n3?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class b9 extends r3{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==n3?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function C9(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),d="";return"@"!=o.charAt(0)&&([o,d]=function E9(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,d,m=>{this.factory.scheduleListenerCallback(m._data||-1,i,m)})}return this.delegate.listen(t,e,i)}}let w9=(()=>{class n extends gI{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(F),s.LFG(dP),s.LFG(EP),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const s3=[{provide:C0,useClass:g9},{provide:EP,useFactory:function x9(){return new zW}},{provide:gI,useClass:w9},{provide:s.FYo,useFactory:function S9(n,t,e){return new v9(n,t,e)},deps:[ma,gI,s.R0b]}],MP=[{provide:dP,useFactory:()=>new m9},{provide:s.QbO,useValue:"BrowserAnimations"},...s3],o3=[{provide:dP,useClass:kH},{provide:s.QbO,useValue:"NoopAnimations"},...s3];let a3=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?o3:MP}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:MP,imports:[dc]}),n})(),AP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[vn],vn]}),n})();const A9={provide:new s.OlP("mat-select-scroll-strategy"),deps:[Hn],useFactory:function M9(n){return()=>n.scrollStrategies.reposition()}};let k9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[A9],imports:[[oi,hm,Ww,vn],$h,xy,Ww,vn]}),n})(),c3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[oi,Xg,Vh,Vp,AP,tC,rC,k0,xy,$k,SV,nP,k9,_H,oi,Xg,Vh,Vp,AP,tC,rC,k0,xy,$k,nP]}),n})(),P9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Gh]]}),n})(),kP=(()=>{class n{constructor(){this.changes=new _t.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const z9={provide:kP,deps:[[new s.FiY,new s.tp0,kP]],useFactory:function j9(n){return n||new kP}};let G9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[z9,w_],imports:[[vn,oi,um,tC,P9,rC,_m],vn]}),n})(),d3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[oi]}),n})(),Q9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[oi,d3]}),n})(),n7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[oi,d3]}),n})(),r7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[oi]}),n})(),o7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[oi,r7]}),n})(),b7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[_m,vn],vn]}),n})(),_3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),P7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[_m,vn,pm,_3],vn,_3]}),n})(),L7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[oi,vn,um,_m,pm,WD],vn]}),n})(),B7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[au],imports:[c3,oi,_H,G9,Q9,n7,o7,d8,b7,P7,L7,g8,Xg]}),n})(),V7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[T8]}),n.\u0275inj=s.cJS({providers:[{provide:B,useClass:te}],imports:[dc,oi,Vp,S8,Va.hO.initializeApp(EH_firebaseConfig),kG,VG,a3,c3,B7,SV,k0,Vh,xy,$k,tC,rC,AP,nP,lH,Vh,a3]}),n})();(0,s.G48)(),uc().bootstrapModule(V7).catch(n=>console.error(n))},1520:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(c){return"[object Array]"===Object.prototype.toString.call(c)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(c){return"object"==typeof c&&c.buffer&&c.buffer.constructor===ArrayBuffer});var createOutputMethod=function(c,h){return function(f){return new Sha256(h,!0).update(f)[c]()}},createMethod=function(c){var h=createOutputMethod("hex",c);NODE_JS&&(h=nodeWrap(h,c)),h.create=function(){return new Sha256(c)},h.update=function(v){return h.create().update(v)};for(var f=0;f<OUTPUT_TYPES.length;++f){var s=OUTPUT_TYPES[f];h[s]=createOutputMethod(s,c)}return h},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(c){if("string"==typeof c)return crypto.createHash(algorithm).update(c,"utf8").digest("hex");if(null==c)throw new Error(ERROR);return c.constructor===ArrayBuffer&&(c=new Uint8Array(c)),Array.isArray(c)||ArrayBuffer.isView(c)||c.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(c)).digest("hex"):method(c)};return nodeMethod},createHmacOutputMethod=function(c,h){return function(f,s){return new HmacSha256(f,h,!0).update(s)[c]()}},createHmacMethod=function(c){var h=createHmacOutputMethod("hex",c);h.create=function(v){return new HmacSha256(v,c)},h.update=function(v,y){return h.create(v).update(y)};for(var f=0;f<OUTPUT_TYPES.length;++f){var s=OUTPUT_TYPES[f];h[s]=createHmacOutputMethod(s,c)}return h};function Sha256(c,h){h?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=c}function HmacSha256(c,h,f){var s,v=typeof c;if("string"===v){var k,y=[],I=c.length,M=0;for(s=0;s<I;++s)(k=c.charCodeAt(s))<128?y[M++]=k:k<2048?(y[M++]=192|k>>6,y[M++]=128|63&k):k<55296||k>=57344?(y[M++]=224|k>>12,y[M++]=128|k>>6&63,y[M++]=128|63&k):(k=65536+((1023&k)<<10|1023&c.charCodeAt(++s)),y[M++]=240|k>>18,y[M++]=128|k>>12&63,y[M++]=128|k>>6&63,y[M++]=128|63&k);c=y}else{if("object"!==v)throw new Error(ERROR);if(null===c)throw new Error(ERROR);if(ARRAY_BUFFER&&c.constructor===ArrayBuffer)c=new Uint8Array(c);else if(!(Array.isArray(c)||ARRAY_BUFFER&&ArrayBuffer.isView(c)))throw new Error(ERROR)}c.length>64&&(c=new Sha256(h,!0).update(c).array());var F=[],z=[];for(s=0;s<64;++s){var Q=c[s]||0;F[s]=92^Q,z[s]=54^Q}Sha256.call(this,h,f),this.update(z),this.oKeyPad=F,this.inner=!0,this.sharedMemory=f}Sha256.prototype.update=function(c){if(!this.finalized){var h,f=typeof c;if("string"!==f){if("object"!==f)throw new Error(ERROR);if(null===c)throw new Error(ERROR);if(ARRAY_BUFFER&&c.constructor===ArrayBuffer)c=new Uint8Array(c);else if(!(Array.isArray(c)||ARRAY_BUFFER&&ArrayBuffer.isView(c)))throw new Error(ERROR);h=!0}for(var s,y,v=0,I=c.length,M=this.blocks;v<I;){if(this.hashed&&(this.hashed=!1,M[0]=this.block,M[16]=M[1]=M[2]=M[3]=M[4]=M[5]=M[6]=M[7]=M[8]=M[9]=M[10]=M[11]=M[12]=M[13]=M[14]=M[15]=0),h)for(y=this.start;v<I&&y<64;++v)M[y>>2]|=c[v]<<SHIFT[3&y++];else for(y=this.start;v<I&&y<64;++v)(s=c.charCodeAt(v))<128?M[y>>2]|=s<<SHIFT[3&y++]:s<2048?(M[y>>2]|=(192|s>>6)<<SHIFT[3&y++],M[y>>2]|=(128|63&s)<<SHIFT[3&y++]):s<55296||s>=57344?(M[y>>2]|=(224|s>>12)<<SHIFT[3&y++],M[y>>2]|=(128|s>>6&63)<<SHIFT[3&y++],M[y>>2]|=(128|63&s)<<SHIFT[3&y++]):(s=65536+((1023&s)<<10|1023&c.charCodeAt(++v)),M[y>>2]|=(240|s>>18)<<SHIFT[3&y++],M[y>>2]|=(128|s>>12&63)<<SHIFT[3&y++],M[y>>2]|=(128|s>>6&63)<<SHIFT[3&y++],M[y>>2]|=(128|63&s)<<SHIFT[3&y++]);this.lastByteIndex=y,this.bytes+=y-this.start,y>=64?(this.block=M[16],this.start=y-64,this.hash(),this.hashed=!0):this.start=y}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var c=this.blocks,h=this.lastByteIndex;c[16]=this.block,c[h>>2]|=EXTRA[3&h],this.block=c[16],h>=56&&(this.hashed||this.hash(),c[0]=this.block,c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),c[14]=this.hBytes<<3|this.bytes>>>29,c[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var F,H,ne,j,G,B,c=this.h0,h=this.h1,f=this.h2,s=this.h3,v=this.h4,y=this.h5,I=this.h6,M=this.h7,k=this.blocks;for(F=16;F<64;++F)k[F]=k[F-16]+(((H=k[F-15])>>>7|H<<25)^(H>>>18|H<<14)^H>>>3)+k[F-7]+(((H=k[F-2])>>>17|H<<15)^(H>>>19|H<<13)^H>>>10)<<0;for(B=h&f,F=0;F<64;F+=4)this.first?(this.is224?(ne=300032,M=(H=k[0]-1413257819)-150054599<<0,s=H+24177077<<0):(ne=704751109,M=(H=k[0]-210244248)-1521486534<<0,s=H+143694565<<0),this.first=!1):(M=s+(H=M+((v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&y^~v&I)+K[F]+k[F])<<0,s=H+(((c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10))+((ne=c&h)^c&f^B))<<0),I=f+(H=I+((M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(M&v^~M&y)+K[F+1]+k[F+1])<<0,f=H+(((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+((j=s&c)^s&h^ne))<<0,y=h+(H=y+((I>>>6|I<<26)^(I>>>11|I<<21)^(I>>>25|I<<7))+(I&M^~I&v)+K[F+2]+k[F+2])<<0,h=H+(((f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10))+((G=f&s)^f&c^j))<<0,v=c+(H=v+((y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&I^~y&M)+K[F+3]+k[F+3])<<0,c=H+(((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+((B=h&f)^h&s^G))<<0;this.h0=this.h0+c<<0,this.h1=this.h1+h<<0,this.h2=this.h2+f<<0,this.h3=this.h3+s<<0,this.h4=this.h4+v<<0,this.h5=this.h5+y<<0,this.h6=this.h6+I<<0,this.h7=this.h7+M<<0},Sha256.prototype.hex=function(){this.finalize();var c=this.h0,h=this.h1,f=this.h2,s=this.h3,v=this.h4,y=this.h5,I=this.h6,M=this.h7,k=HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[15&c]+HEX_CHARS[h>>28&15]+HEX_CHARS[h>>24&15]+HEX_CHARS[h>>20&15]+HEX_CHARS[h>>16&15]+HEX_CHARS[h>>12&15]+HEX_CHARS[h>>8&15]+HEX_CHARS[h>>4&15]+HEX_CHARS[15&h]+HEX_CHARS[f>>28&15]+HEX_CHARS[f>>24&15]+HEX_CHARS[f>>20&15]+HEX_CHARS[f>>16&15]+HEX_CHARS[f>>12&15]+HEX_CHARS[f>>8&15]+HEX_CHARS[f>>4&15]+HEX_CHARS[15&f]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[v>>28&15]+HEX_CHARS[v>>24&15]+HEX_CHARS[v>>20&15]+HEX_CHARS[v>>16&15]+HEX_CHARS[v>>12&15]+HEX_CHARS[v>>8&15]+HEX_CHARS[v>>4&15]+HEX_CHARS[15&v]+HEX_CHARS[y>>28&15]+HEX_CHARS[y>>24&15]+HEX_CHARS[y>>20&15]+HEX_CHARS[y>>16&15]+HEX_CHARS[y>>12&15]+HEX_CHARS[y>>8&15]+HEX_CHARS[y>>4&15]+HEX_CHARS[15&y]+HEX_CHARS[I>>28&15]+HEX_CHARS[I>>24&15]+HEX_CHARS[I>>20&15]+HEX_CHARS[I>>16&15]+HEX_CHARS[I>>12&15]+HEX_CHARS[I>>8&15]+HEX_CHARS[I>>4&15]+HEX_CHARS[15&I];return this.is224||(k+=HEX_CHARS[M>>28&15]+HEX_CHARS[M>>24&15]+HEX_CHARS[M>>20&15]+HEX_CHARS[M>>16&15]+HEX_CHARS[M>>12&15]+HEX_CHARS[M>>8&15]+HEX_CHARS[M>>4&15]+HEX_CHARS[15&M]),k},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var c=this.h0,h=this.h1,f=this.h2,s=this.h3,v=this.h4,y=this.h5,I=this.h6,M=this.h7,k=[c>>24&255,c>>16&255,c>>8&255,255&c,h>>24&255,h>>16&255,h>>8&255,255&h,f>>24&255,f>>16&255,f>>8&255,255&f,s>>24&255,s>>16&255,s>>8&255,255&s,v>>24&255,v>>16&255,v>>8&255,255&v,y>>24&255,y>>16&255,y>>8&255,255&y,I>>24&255,I>>16&255,I>>8&255,255&I];return this.is224||k.push(M>>24&255,M>>16&255,M>>8&255,255&M),k},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var c=new ArrayBuffer(this.is224?28:32),h=new DataView(c);return h.setUint32(0,this.h0),h.setUint32(4,this.h1),h.setUint32(8,this.h2),h.setUint32(12,this.h3),h.setUint32(16,this.h4),h.setUint32(20,this.h5),h.setUint32(24,this.h6),this.is224||h.setUint32(28,this.h7),c},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var c=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(c),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},4487:function(module,exports,__webpack_require__){var h;typeof navigator<"u"&&(h=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(h){_useWebWorker=!!h},getWebWorker=function(){return _useWebWorker},setLocationHref=function(h){locationHref=h},getLocationHref=function(){return locationHref};function createTag(c){return document.createElement(c)}function extendPrototype(c,h){var f,v,s=c.length;for(f=0;f<s;f+=1)for(var y in v=c[f].prototype)Object.prototype.hasOwnProperty.call(v,y)&&(h.prototype[y]=v[y])}function getDescriptor(c,h){return Object.getOwnPropertyDescriptor(c,h)}function createProxyFunction(c){function h(){}return h.prototype=c,h}var audioControllerFactory=function(){function c(h){this.audios=[],this.audioFactory=h,this._volume=1,this._isMuted=!1}return c.prototype={addAudio:function(f){this.audios.push(f)},pause:function(){var f,s=this.audios.length;for(f=0;f<s;f+=1)this.audios[f].pause()},resume:function(){var f,s=this.audios.length;for(f=0;f<s;f+=1)this.audios[f].resume()},setRate:function(f){var s,v=this.audios.length;for(s=0;s<v;s+=1)this.audios[s].setRate(f)},createAudio:function(f){return this.audioFactory?this.audioFactory(f):window.Howl?new window.Howl({src:[f]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(f){this.audioFactory=f},setVolume:function(f){this._volume=f,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var f,s=this.audios.length;for(f=0;f<s;f+=1)this.audios[f].volume(this._volume*(this._isMuted?0:1))}},function(){return new c}}(),createTypedArray=function(){function c(f,s){var I,v=0,y=[];switch(f){case"int16":case"uint8c":I=1;break;default:I=1.1}for(v=0;v<s;v+=1)y.push(I);return y}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function h(f,s){return"float32"===f?new Float32Array(s):"int16"===f?new Int16Array(s):"uint8c"===f?new Uint8ClampedArray(s):c(f,s)}:c}();function createSizedArray(c){return Array.apply(null,{length:c})}function _typeof$6(c){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var h,c=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],f=c.length;for(h=0;h<f;h+=1)BMMath[c[h]]=Math[c[h]]}(),BMMath.random=Math.random,BMMath.abs=function(c){if("object"===_typeof$6(c)&&c.length){var s,f=createSizedArray(c.length),v=c.length;for(s=0;s<v;s+=1)f[s]=Math.abs(c[s]);return f}return Math.abs(c)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(c){_shouldRoundValues=!!c}function bmRnd(c){return _shouldRoundValues?Math.round(c):c}function styleDiv(c){c.style.position="absolute",c.style.top=0,c.style.left=0,c.style.display="block",c.style.transformOrigin="0 0",c.style.webkitTransformOrigin="0 0",c.style.backfaceVisibility="visible",c.style.webkitBackfaceVisibility="visible",c.style.transformStyle="preserve-3d",c.style.webkitTransformStyle="preserve-3d",c.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(c,h,f,s){this.type=c,this.currentTime=h,this.totalTime=f,this.direction=s<0?-1:1}function BMCompleteEvent(c,h){this.type=c,this.direction=h<0?-1:1}function BMCompleteLoopEvent(c,h,f,s){this.type=c,this.currentLoop=f,this.totalLoops=h,this.direction=s<0?-1:1}function BMSegmentStartEvent(c,h,f){this.type=c,this.firstFrame=h,this.totalFrames=f}function BMDestroyEvent(c,h){this.type=c,this.target=h}function BMRenderFrameErrorEvent(c,h){this.type="renderFrameError",this.nativeError=c,this.currentTime=h}function BMConfigErrorEvent(c){this.type="configError",this.nativeError=c}function BMAnimationConfigErrorEvent(c,h){this.type=c,this.nativeError=h}var createElementID=(c=0,function(){return idPrefix$1+"__lottie_element_"+(c+=1)}),c;function HSVtoRGB(c,h,f){var s,v,y,I,M,k,F,z;switch(k=f*(1-h),F=f*(1-(M=6*c-(I=Math.floor(6*c)))*h),z=f*(1-(1-M)*h),I%6){case 0:s=f,v=z,y=k;break;case 1:s=F,v=f,y=k;break;case 2:s=k,v=f,y=z;break;case 3:s=k,v=F,y=f;break;case 4:s=z,v=k,y=f;break;case 5:s=f,v=k,y=F}return[s,v,y]}function RGBtoHSV(c,h,f){var I,s=Math.max(c,h,f),v=Math.min(c,h,f),y=s-v,M=0===s?0:y/s,k=s/255;switch(s){case v:I=0;break;case c:I=h-f+y*(h<f?6:0),I/=6*y;break;case h:I=f-c+2*y,I/=6*y;break;case f:I=c-h+4*y,I/=6*y}return[I,M,k]}function addSaturationToRGB(c,h){var f=RGBtoHSV(255*c[0],255*c[1],255*c[2]);return f[1]+=h,f[1]>1?f[1]=1:f[1]<=0&&(f[1]=0),HSVtoRGB(f[0],f[1],f[2])}function addBrightnessToRGB(c,h){var f=RGBtoHSV(255*c[0],255*c[1],255*c[2]);return f[2]+=h,f[2]>1?f[2]=1:f[2]<0&&(f[2]=0),HSVtoRGB(f[0],f[1],f[2])}function addHueToRGB(c,h){var f=RGBtoHSV(255*c[0],255*c[1],255*c[2]);return f[0]+=h/360,f[0]>1?f[0]-=1:f[0]<0&&(f[0]+=1),HSVtoRGB(f[0],f[1],f[2])}var rgbToHex=function(){var h,f,c=[];for(h=0;h<256;h+=1)f=h.toString(16),c[h]=1===f.length?"0"+f:f;return function(s,v,y){return s<0&&(s=0),v<0&&(v=0),y<0&&(y=0),"#"+c[s]+c[v]+c[y]}}(),setSubframeEnabled=function(h){subframeEnabled=!!h},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(h){expressionsPlugin=h},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(h){expressionsInterfaces=h},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(h){defaultCurveSegments=h},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(h){idPrefix$1=h},getIdPrefix=function(){return idPrefix$1};function createNS(c){return document.createElementNS(svgNS,c)}function _typeof$5(c){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var dataManager=function(){var f,s,c=1,h=[],v={onmessage:function(){},postMessage:function(H){f({data:H})}},y={postMessage:function(H){v.onmessage({data:H})}};function M(){s||((s=function I(R){if(window.Worker&&window.Blob&&getWebWorker()){var H=new Blob(["var _workerSelf = self; self.onmessage = ",R.toString()],{type:"text/javascript"}),U=URL.createObjectURL(H);return new Worker(U)}return f=R,v}(function(H){if(y.dataManager||(y.dataManager=function U(){function ne(Te,pe){var le,X,Ce,me,Ne,Le,oe=Te.length;for(X=0;X<oe;X+=1)if("ks"in(le=Te[X])&&!le.completed){if(le.completed=!0,le.hasMask){var nt=le.masksProperties;for(me=nt.length,Ce=0;Ce<me;Ce+=1)if(nt[Ce].pt.k.i)ee(nt[Ce].pt.k);else for(Le=nt[Ce].pt.k.length,Ne=0;Ne<Le;Ne+=1)nt[Ce].pt.k[Ne].s&&ee(nt[Ce].pt.k[Ne].s[0]),nt[Ce].pt.k[Ne].e&&ee(nt[Ce].pt.k[Ne].e[0])}0===le.ty?(le.layers=B(le.refId,pe),ne(le.layers,pe)):4===le.ty&&V(le.shapes)}}function B(Te,pe){var le=function G(Te,pe){for(var le=0,X=pe.length;le<X;){if(pe[le].id===Te)return pe[le];le+=1}return null}(Te,pe);return le?le.layers.__used?JSON.parse(JSON.stringify(le.layers)):(le.layers.__used=!0,le.layers):null}function V(Te){var pe,X,oe;for(pe=Te.length-1;pe>=0;pe-=1)if("sh"===Te[pe].ty)if(Te[pe].ks.k.i)ee(Te[pe].ks.k);else for(oe=Te[pe].ks.k.length,X=0;X<oe;X+=1)Te[pe].ks.k[X].s&&ee(Te[pe].ks.k[X].s[0]),Te[pe].ks.k[X].e&&ee(Te[pe].ks.k[X].e[0]);else"gr"===Te[pe].ty&&V(Te[pe].it)}function ee(Te){var pe,le=Te.i.length;for(pe=0;pe<le;pe+=1)Te.i[pe][0]+=Te.v[pe][0],Te.i[pe][1]+=Te.v[pe][1],Te.o[pe][0]+=Te.v[pe][0],Te.o[pe][1]+=Te.v[pe][1]}function te(Te,pe){var le=pe?pe.split("."):[100,100,100];return Te[0]>le[0]||!(le[0]>Te[0])&&(Te[1]>le[1]||!(le[1]>Te[1])&&(Te[2]>le[2]||!(le[2]>Te[2])&&null))}var Te,ie=function(){var Te=[4,4,14];function pe(X){X.t.d={k:[{s:X.t.d,t:0}]}}function le(X){var oe,Ce=X.length;for(oe=0;oe<Ce;oe+=1)5===X[oe].ty&&pe(X[oe])}return function(X){if(te(Te,X.v)&&(le(X.layers),X.assets)){var oe,Ce=X.assets.length;for(oe=0;oe<Ce;oe+=1)X.assets[oe].layers&&le(X.assets[oe].layers)}}}(),ae=(Te=[4,7,99],function(pe){if(pe.chars&&!te(Te,pe.v)){var le,X=pe.chars.length;for(le=0;le<X;le+=1){var oe=pe.chars[le];oe.data&&oe.data.shapes&&(V(oe.data.shapes),oe.data.ip=0,oe.data.op=99999,oe.data.st=0,oe.data.sr=1,oe.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},pe.chars[le].t||(oe.data.shapes.push({ty:"no"}),oe.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),he=function(){var Te=[5,7,15];function pe(X){var oe=X.t.p;"number"==typeof oe.a&&(oe.a={a:0,k:oe.a}),"number"==typeof oe.p&&(oe.p={a:0,k:oe.p}),"number"==typeof oe.r&&(oe.r={a:0,k:oe.r})}function le(X){var oe,Ce=X.length;for(oe=0;oe<Ce;oe+=1)5===X[oe].ty&&pe(X[oe])}return function(X){if(te(Te,X.v)&&(le(X.layers),X.assets)){var oe,Ce=X.assets.length;for(oe=0;oe<Ce;oe+=1)X.assets[oe].layers&&le(X.assets[oe].layers)}}}(),Re=function(){var Te=[4,1,9];function pe(X){var oe,me,Ne,Ce=X.length;for(oe=0;oe<Ce;oe+=1)if("gr"===X[oe].ty)pe(X[oe].it);else if("fl"===X[oe].ty||"st"===X[oe].ty)if(X[oe].c.k&&X[oe].c.k[0].i)for(Ne=X[oe].c.k.length,me=0;me<Ne;me+=1)X[oe].c.k[me].s&&(X[oe].c.k[me].s[0]/=255,X[oe].c.k[me].s[1]/=255,X[oe].c.k[me].s[2]/=255,X[oe].c.k[me].s[3]/=255),X[oe].c.k[me].e&&(X[oe].c.k[me].e[0]/=255,X[oe].c.k[me].e[1]/=255,X[oe].c.k[me].e[2]/=255,X[oe].c.k[me].e[3]/=255);else X[oe].c.k[0]/=255,X[oe].c.k[1]/=255,X[oe].c.k[2]/=255,X[oe].c.k[3]/=255}function le(X){var oe,Ce=X.length;for(oe=0;oe<Ce;oe+=1)4===X[oe].ty&&pe(X[oe].shapes)}return function(X){if(te(Te,X.v)&&(le(X.layers),X.assets)){var oe,Ce=X.assets.length;for(oe=0;oe<Ce;oe+=1)X.assets[oe].layers&&le(X.assets[oe].layers)}}}(),De=function(){var Te=[4,4,18];function pe(X){var oe,me,Ne;for(oe=X.length-1;oe>=0;oe-=1)if("sh"===X[oe].ty)if(X[oe].ks.k.i)X[oe].ks.k.c=X[oe].closed;else for(Ne=X[oe].ks.k.length,me=0;me<Ne;me+=1)X[oe].ks.k[me].s&&(X[oe].ks.k[me].s[0].c=X[oe].closed),X[oe].ks.k[me].e&&(X[oe].ks.k[me].e[0].c=X[oe].closed);else"gr"===X[oe].ty&&pe(X[oe].it)}function le(X){var oe,Ce,Ne,Le,nt,Ht,me=X.length;for(Ce=0;Ce<me;Ce+=1){if((oe=X[Ce]).hasMask){var ht=oe.masksProperties;for(Le=ht.length,Ne=0;Ne<Le;Ne+=1)if(ht[Ne].pt.k.i)ht[Ne].pt.k.c=ht[Ne].cl;else for(Ht=ht[Ne].pt.k.length,nt=0;nt<Ht;nt+=1)ht[Ne].pt.k[nt].s&&(ht[Ne].pt.k[nt].s[0].c=ht[Ne].cl),ht[Ne].pt.k[nt].e&&(ht[Ne].pt.k[nt].e[0].c=ht[Ne].cl)}4===oe.ty&&pe(oe.shapes)}}return function(X){if(te(Te,X.v)&&(le(X.layers),X.assets)){var oe,Ce=X.assets.length;for(oe=0;oe<Ce;oe+=1)X.assets[oe].layers&&le(X.assets[oe].layers)}}}(),$e={completeData:function Se(Te){Te.__complete||(Re(Te),ie(Te),ae(Te),he(Te),De(Te),ne(Te.layers,Te.assets),function j(Te,pe){if(Te){var le=0,X=Te.length;for(le=0;le<X;le+=1)1===Te[le].t&&(Te[le].data.layers=B(Te[le].data.refId,pe),ne(Te[le].data.layers,pe))}}(Te.chars,Te.assets),Te.__complete=!0)}};return $e.checkColors=Re,$e.checkChars=ae,$e.checkPathProperties=he,$e.checkShapes=De,$e.completeLayers=ne,$e}()),y.assetLoader||(y.assetLoader=function(){function ne(G){var B=G.getResponseHeader("content-type");return B&&"json"===G.responseType&&-1!==B.indexOf("json")||G.response&&"object"===_typeof$5(G.response)?G.response:G.response&&"string"==typeof G.response?JSON.parse(G.response):G.responseText?JSON.parse(G.responseText):null}return{load:function j(G,B,V,ee){var te,ie=new XMLHttpRequest;try{ie.responseType="json"}catch{}ie.onreadystatechange=function(){if(4===ie.readyState)if(200===ie.status)te=ne(ie),V(te);else try{te=ne(ie),V(te)}catch(ae){ee&&ee(ae)}};try{ie.open(["G","E","T"].join(""),G,!0)}catch{ie.open(["G","E","T"].join(""),B+"/"+G,!0)}ie.send()}}}()),"loadAnimation"===H.data.type)y.assetLoader.load(H.data.path,H.data.fullPath,function(ne){y.dataManager.completeData(ne),y.postMessage({id:H.data.id,payload:ne,status:"success"})},function(){y.postMessage({id:H.data.id,status:"error"})});else if("complete"===H.data.type){var q=H.data.animation;y.dataManager.completeData(q),y.postMessage({id:H.data.id,payload:q,status:"success"})}else"loadData"===H.data.type&&y.assetLoader.load(H.data.path,H.data.fullPath,function(ne){y.postMessage({id:H.data.id,payload:ne,status:"success"})},function(){y.postMessage({id:H.data.id,status:"error"})})})).onmessage=function(R){var H=R.data,U=H.id,q=h[U];h[U]=null,"success"===H.status?q.onComplete(H.payload):q.onError&&q.onError()})}function k(R,H){var U="processId_"+(c+=1);return h[U]={onComplete:R,onError:H},U}return{loadAnimation:function F(R,H,U){M();var q=k(H,U);s.postMessage({type:"loadAnimation",path:R,fullPath:window.location.origin+window.location.pathname,id:q})},loadData:function z(R,H,U){M();var q=k(H,U);s.postMessage({type:"loadData",path:R,fullPath:window.location.origin+window.location.pathname,id:q})},completeAnimation:function Q(R,H,U){M();var q=k(H,U);s.postMessage({type:"complete",animation:R,id:q})}}}(),ImagePreloader=function(){var c=function(){var j=createTag("canvas");j.width=1,j.height=1;var G=j.getContext("2d");return G.fillStyle="rgba(0,0,0,0)",G.fillRect(0,0,1,1),j}();function h(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function f(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(j,G,B){var V="";if(j.e)V=j.p;else if(G){var ee=j.p;-1!==ee.indexOf("images/")&&(ee=ee.split("/")[1]),V=G+ee}else V=B,V+=j.u?j.u:"",V+=j.p;return V}function v(j){var G=0,B=setInterval(function(){(j.getBBox().width||G>500)&&(this._imageLoaded(),clearInterval(B)),G+=1}.bind(this),50)}function M(j){var G={assetData:j},B=s(j,this.assetsPath,this.path);return dataManager.loadData(B,function(V){G.img=V,this._footageLoaded()}.bind(this),function(){G.img={},this._footageLoaded()}.bind(this)),G}function ne(){this._imageLoaded=h.bind(this),this._footageLoaded=f.bind(this),this.testImageLoaded=v.bind(this),this.createFootageData=M.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return ne.prototype={loadAssets:function k(j,G){this.imagesLoadedCb=G;var B,V=j.length;for(B=0;B<V;B+=1)j[B].layers||(j[B].t&&"seq"!==j[B].t?3===j[B].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(j[B]))):(this.totalImages+=1,this.images.push(this._createImageData(j[B]))))},setAssetsPath:function z(j){this.assetsPath=j||""},setPath:function F(j){this.path=j||""},loadedImages:function H(){return this.totalImages===this.loadedAssets},loadedFootages:function U(){return this.totalFootages===this.loadedFootagesCount},destroy:function R(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function Q(j){for(var G=0,B=this.images.length;G<B;){if(this.images[G].assetData===j)return this.images[G].img;G+=1}return null},createImgData:function I(j){var G=s(j,this.assetsPath,this.path),B=createTag("img");B.crossOrigin="anonymous",B.addEventListener("load",this._imageLoaded,!1),B.addEventListener("error",function(){V.img=c,this._imageLoaded()}.bind(this),!1),B.src=G;var V={img:B,assetData:j};return V},createImageData:function y(j){var G=s(j,this.assetsPath,this.path),B=createNS("image");isSafari?this.testImageLoaded(B):B.addEventListener("load",this._imageLoaded,!1),B.addEventListener("error",function(){V.img=c,this._imageLoaded()}.bind(this),!1),B.setAttributeNS("http://www.w3.org/1999/xlink","href",G),this._elementHelper.append?this._elementHelper.append(B):this._elementHelper.appendChild(B);var V={img:B,assetData:j};return V},imageLoaded:h,footageLoaded:f,setCacheType:function q(j,G){"svg"===j?(this._elementHelper=G,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},ne}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(h,f){if(this._cbs[h])for(var s=this._cbs[h],v=0;v<s.length;v+=1)s[v](f)},addEventListener:function(h,f){return this._cbs[h]||(this._cbs[h]=[]),this._cbs[h].push(f),function(){this.removeEventListener(h,f)}.bind(this)},removeEventListener:function(h,f){if(f){if(this._cbs[h]){for(var s=0,v=this._cbs[h].length;s<v;)this._cbs[h][s]===f&&(this._cbs[h].splice(s,1),s-=1,v-=1),s+=1;this._cbs[h].length||(this._cbs[h]=null)}}else this._cbs[h]=null}};var markerParser=function(){function c(h){for(var v,f=h.split("\r\n"),s={},y=0,I=0;I<f.length;I+=1)2===(v=f[I].split(":")).length&&(s[v[0]]=v[1].trim(),y+=1);if(0===y)throw new Error;return s}return function(h){for(var f=[],s=0;s<h.length;s+=1){var v=h[s],y={time:v.tm,duration:v.dr};try{y.payload=JSON.parse(h[s].cm)}catch{try{y.payload=c(h[s].cm)}catch{y.payload={name:h[s].cm}}}f.push(y)}return f}}(),ProjectInterface=function(){function c(h){this.compositions.push(h)}return function(){function h(f){for(var s=0,v=this.compositions.length;s<v;){if(this.compositions[s].data&&this.compositions[s].data.nm===f)return this.compositions[s].prepareFrame&&this.compositions[s].data.xt&&this.compositions[s].prepareFrame(this.currentFrame),this.compositions[s].compInterface;s+=1}return null}return h.compositions=[],h.currentFrame=0,h.registerComposition=c,h}}(),renderers={},registerRenderer=function(h,f){renderers[h]=f};function getRenderer(c){return renderers[c]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var c in renderers)if(renderers[c])return c;return""}function _typeof$4(c){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(c){(c.wrapper||c.container)&&(this.wrapper=c.wrapper||c.container);var h="svg";c.animType?h=c.animType:c.renderer&&(h=c.renderer);var f=getRenderer(h);this.renderer=new f(this,c.rendererSettings),this.imagePreloader.setCacheType(h,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=h,this.loop=""===c.loop||null==c.loop||!0===c.loop||!1!==c.loop&&parseInt(c.loop,10),this.autoplay=!("autoplay"in c)||c.autoplay,this.name=c.name?c.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(c,"autoloadSegments")||c.autoloadSegments,this.assetsPath=c.assetsPath,this.initialSegment=c.initialSegment,c.audioFactory&&this.audioController.setAudioFactory(c.audioFactory),c.animationData?this.setupAnimation(c.animationData):c.path&&(this.path=-1!==c.path.lastIndexOf("\\")?c.path.substr(0,c.path.lastIndexOf("\\")+1):c.path.substr(0,c.path.lastIndexOf("/")+1),this.fileName=c.path.substr(c.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(c.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(c){dataManager.completeAnimation(c,this.configAnimation)},AnimationItem.prototype.setData=function(c,h){h&&"object"!==_typeof$4(h)&&(h=JSON.parse(h));var f={wrapper:c,animationData:h},s=c.attributes;f.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",f.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var v=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";"false"===v?f.loop=!1:"true"===v?f.loop=!0:""!==v&&(f.loop=parseInt(v,10));var y=s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:!s.getNamedItem("bm-autoplay")||s.getNamedItem("bm-autoplay").value;f.autoplay="false"!==y,f.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"","false"===(s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"")&&(f.prerender=!1),f.path?this.setParams(f):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(c){c.op>this.animationData.op&&(this.animationData.op=c.op,this.totalFrames=Math.floor(c.op-this.animationData.ip));var f,y,h=this.animationData.layers,s=h.length,v=c.layers,I=v.length;for(y=0;y<I;y+=1)for(f=0;f<s;){if(h[f].id===v[y].id){h[f]=v[y];break}f+=1}if((c.chars||c.fonts)&&(this.renderer.globalData.fontManager.addChars(c.chars),this.renderer.globalData.fontManager.addFonts(c.fonts,this.renderer.globalData.defs)),c.assets)for(s=c.assets.length,f=0;f<s;f+=1)this.animationData.assets.push(c.assets[f]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(c){this.animationData=c;var h=getExpressionsPlugin();h&&h.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var c=this.animationData.segments;if(!c||0===c.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var h=c.shift();this.timeCompleted=h.time*this.frameRate;var f=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(f,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(c){if(this.renderer)try{this.animationData=c,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(c),c.assets||(c.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(c.assets),this.markers=markerParser(c.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(h){this.triggerConfigError(h)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var c=getExpressionsPlugin();c&&c.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(c,h){this.renderer.updateContainerSize("number"==typeof c?c:void 0,"number"==typeof h?h:void 0)},AnimationItem.prototype.setSubframe=function(c){this.isSubframeEnabled=!!c},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(c){this.triggerRenderFrameError(c)}},AnimationItem.prototype.play=function(c){c&&this.name!==c||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(c){c&&this.name!==c||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(c){c&&this.name!==c||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(c){c&&this.name!==c||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(c){for(var h,f=0;f<this.markers.length;f+=1)if((h=this.markers[f]).payload&&h.payload.name===c)return h;return null},AnimationItem.prototype.goToAndStop=function(c,h,f){if(!f||this.name===f){var s=Number(c);if(isNaN(s)){var v=this.getMarkerData(c);v&&this.goToAndStop(v.time,!0)}else this.setCurrentRawFrameValue(h?c:c*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(c,h,f){if(!f||this.name===f){var s=Number(c);if(isNaN(s)){var v=this.getMarkerData(c);v&&(v.duration?this.playSegments([v.time,v.time+v.duration],!0):this.goToAndStop(v.time,!0))}else this.goToAndStop(s,h,f);this.play()}},AnimationItem.prototype.advanceTime=function(c){if(!0!==this.isPaused&&!1!==this.isLoaded){var h=this.currentRawFrame+c*this.frameModifier,f=!1;h>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?h>=this.totalFrames?(this.playCount+=1,this.checkSegments(h%this.totalFrames)||(this.setCurrentRawFrameValue(h%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(h):this.checkSegments(h>this.totalFrames?h%this.totalFrames:0)||(f=!0,h=this.totalFrames-1):h<0?this.checkSegments(h%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(f=!0,h=0):(this.setCurrentRawFrameValue(this.totalFrames+h%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(h),f&&(this.setCurrentRawFrameValue(h),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(c,h){this.playCount=0,c[1]<c[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=c[0]-c[1],this.timeCompleted=this.totalFrames,this.firstFrame=c[1],this.setCurrentRawFrameValue(this.totalFrames-.001-h)):c[1]>c[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=c[1]-c[0],this.timeCompleted=this.totalFrames,this.firstFrame=c[0],this.setCurrentRawFrameValue(.001+h)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(c,h){var f=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<c?f=c:this.currentRawFrame+this.firstFrame>h&&(f=h-c)),this.firstFrame=c,this.totalFrames=h-c,this.timeCompleted=this.totalFrames,-1!==f&&this.goToAndStop(f,!0)},AnimationItem.prototype.playSegments=function(c,h){if(h&&(this.segments.length=0),"object"===_typeof$4(c[0])){var f,s=c.length;for(f=0;f<s;f+=1)this.segments.push(c[f])}else this.segments.push(c);this.segments.length&&h&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(c){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),c&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(c){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),c),!0)},AnimationItem.prototype.destroy=function(c){c&&this.name!==c||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(c){this.currentRawFrame=c,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(c){this.playSpeed=c,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(c){this.playDirection=c<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(c){this.loop=c},AnimationItem.prototype.setVolume=function(c,h){h&&this.name!==h||this.audioController.setVolume(c)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(c){c&&this.name!==c||this.audioController.mute()},AnimationItem.prototype.unmute=function(c){c&&this.name!==c||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(c){var h="";if(c.e)h=c.p;else if(this.assetsPath){var f=c.p;-1!==f.indexOf("images/")&&(f=f.split("/")[1]),h=this.assetsPath+f}else h=this.path,h+=c.u?c.u:"",h+=c.p;return h},AnimationItem.prototype.getAssetData=function(c){for(var h=0,f=this.assets.length;h<f;){if(c===this.assets[h].id)return this.assets[h];h+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(c){return c?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(c,h,f){try{this.renderer.getElementByPath(c).updateDocumentData(h,f)}catch{}},AnimationItem.prototype.trigger=function(c){if(this._cbs&&this._cbs[c])switch(c){case"enterFrame":this.triggerEvent(c,new BMEnterFrameEvent(c,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(c,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(c,new BMCompleteLoopEvent(c,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(c,new BMCompleteEvent(c,this.frameMult));break;case"segmentStart":this.triggerEvent(c,new BMSegmentStartEvent(c,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(c,new BMDestroyEvent(c,this));break;default:this.triggerEvent(c)}"enterFrame"===c&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(c,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===c&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(c,this.loop,this.playCount,this.frameMult)),"complete"===c&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(c,this.frameMult)),"segmentStart"===c&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(c,this.firstFrame,this.totalFrames)),"destroy"===c&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(c,this))},AnimationItem.prototype.triggerRenderFrameError=function(c){var h=new BMRenderFrameErrorEvent(c,this.currentFrame);this.triggerEvent("error",h),this.onError&&this.onError.call(this,h)},AnimationItem.prototype.triggerConfigError=function(c){var h=new BMConfigErrorEvent(c,this.currentFrame);this.triggerEvent("error",h),this.onError&&this.onError.call(this,h)};var animationManager=function(){var c={},h=[],f=0,s=0,v=0,y=!0,I=!1;function M(pe){for(var le=0,X=pe.target;le<s;)h[le].animation===X&&(h.splice(le,1),le-=1,s-=1,X.isPaused||Q()),le+=1}function k(pe,le){if(!pe)return null;for(var X=0;X<s;){if(h[X].elem===pe&&null!==h[X].elem)return h[X].animation;X+=1}var oe=new AnimationItem;return R(oe,pe),oe.setData(pe,le),oe}function z(){v+=1,Re()}function Q(){v-=1}function R(pe,le){pe.addEventListener("destroy",M),pe.addEventListener("_active",z),pe.addEventListener("_idle",Q),h.push({elem:le,animation:pe}),s+=1}function j(pe){var X,le=pe-f;for(X=0;X<s;X+=1)h[X].animation.advanceTime(le);f=pe,v&&!I?window.requestAnimationFrame(j):y=!0}function G(pe){f=pe,window.requestAnimationFrame(j)}function Re(){!I&&v&&y&&(window.requestAnimationFrame(G),y=!1)}return c.registerAnimation=k,c.loadAnimation=function H(pe){var le=new AnimationItem;return R(le,null),le.setParams(pe),le},c.setSpeed=function U(pe,le){var X;for(X=0;X<s;X+=1)h[X].animation.setSpeed(pe,le)},c.setDirection=function q(pe,le){var X;for(X=0;X<s;X+=1)h[X].animation.setDirection(pe,le)},c.play=function ne(pe){var le;for(le=0;le<s;le+=1)h[le].animation.play(pe)},c.pause=function B(pe){var le;for(le=0;le<s;le+=1)h[le].animation.pause(pe)},c.stop=function ee(pe){var le;for(le=0;le<s;le+=1)h[le].animation.stop(pe)},c.togglePause=function te(pe){var le;for(le=0;le<s;le+=1)h[le].animation.togglePause(pe)},c.searchAnimations=function ae(pe,le,X){var Ce,oe=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),me=oe.length;for(Ce=0;Ce<me;Ce+=1)X&&oe[Ce].setAttribute("data-bm-type",X),k(oe[Ce],pe);if(le&&0===me){X||(X="svg");var Ne=document.getElementsByTagName("body")[0];Ne.innerText="";var Le=createTag("div");Le.style.width="100%",Le.style.height="100%",Le.setAttribute("data-bm-type",X),Ne.appendChild(Le),k(Le,pe)}},c.resize=function he(){var pe;for(pe=0;pe<s;pe+=1)h[pe].animation.resize()},c.goToAndStop=function V(pe,le,X){var oe;for(oe=0;oe<s;oe+=1)h[oe].animation.goToAndStop(pe,le,X)},c.destroy=function ie(pe){var le;for(le=s-1;le>=0;le-=1)h[le].animation.destroy(pe)},c.freeze=function De(){I=!0},c.unfreeze=function Se(){I=!1,Re()},c.setVolume=function _e(pe,le){var X;for(X=0;X<s;X+=1)h[X].animation.setVolume(pe,le)},c.mute=function $e(pe){var le;for(le=0;le<s;le+=1)h[le].animation.mute(pe)},c.unmute=function Te(pe){var le;for(le=0;le<s;le+=1)h[le].animation.unmute(pe)},c.getRegisteredAnimations=function F(){var pe,le=h.length,X=[];for(pe=0;pe<le;pe+=1)X.push(h[pe].animation);return X},c}(),BezierFactory=function(){var c={getBezierEasing:function f(G,B,V,ee,te){var ie=te||("bez_"+G+"_"+B+"_"+V+"_"+ee).replace(/\./g,"p");if(h[ie])return h[ie];var ae=new j([G,B,V,ee]);return h[ie]=ae,ae}},h={},k=.1,F="function"==typeof Float32Array;function z(G,B){return 1-3*B+3*G}function Q(G,B){return 3*B-6*G}function R(G){return 3*G}function H(G,B,V){return((z(B,V)*G+Q(B,V))*G+R(B))*G}function U(G,B,V){return 3*z(B,V)*G*G+2*Q(B,V)*G+R(B)}function j(G){this._p=G,this._mSampleValues=F?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return j.prototype={get:function(B){var V=this._p[0],ee=this._p[1],te=this._p[2],ie=this._p[3];return this._precomputed||this._precompute(),V===ee&&te===ie?B:0===B?0:1===B?1:H(this._getTForX(B),ee,ie)},_precompute:function(){var B=this._p[0],V=this._p[1],ee=this._p[2],te=this._p[3];this._precomputed=!0,(B!==V||ee!==te)&&this._calcSampleValues()},_calcSampleValues:function(){for(var B=this._p[0],V=this._p[2],ee=0;ee<11;++ee)this._mSampleValues[ee]=H(ee*k,B,V)},_getTForX:function(B){for(var V=this._p[0],ee=this._p[2],te=this._mSampleValues,ie=0,ae=1;10!==ae&&te[ae]<=B;++ae)ie+=k;var De=ie+(B-te[--ae])/(te[ae+1]-te[ae])*k,Se=U(De,V,ee);return Se>=.001?function ne(G,B,V,ee){for(var te=0;te<4;++te){var ie=U(B,V,ee);if(0===ie)return B;B-=(H(B,V,ee)-G)/ie}return B}(B,De,V,ee):0===Se?De:function q(G,B,V,ee,te){var ie,ae,he=0;do{(ie=H(ae=B+(V-B)/2,ee,te)-G)>0?V=ae:B=ae}while(Math.abs(ie)>1e-7&&++he<10);return ae}(B,ie,ie+k,V,ee)}},c}(),pooling={double:function c(h){return h.concat(createSizedArray(h.length))}},poolFactory=function(c,h,f){var s=0,v=c,y=createSizedArray(v);return{newElement:function M(){return s?y[s-=1]:h()},release:function k(F){s===v&&(y=pooling.double(y),v*=2),f&&f(F),y[s]=F,s+=1}}},bezierLengthPool=poolFactory(8,function c(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function c(){return{lengths:[],totalLength:0}},function h(f){var s,v=f.lengths.length;for(s=0;s<v;s+=1)bezierLengthPool.release(f.lengths[s]);f.lengths.length=0});function bezFunction(){var c=Math;function h(R,H,U,q,ne,j){var G=R*q+H*ne+U*j-ne*q-j*R-U*H;return G>-.001&&G<.001}var s=function(R,H,U,q){var j,G,B,V,ee,ie,ne=getDefaultCurveSegments(),te=0,ae=[],he=[],Re=bezierLengthPool.newElement();for(B=U.length,j=0;j<ne;j+=1){for(ee=j/(ne-1),ie=0,G=0;G<B;G+=1)V=bmPow(1-ee,3)*R[G]+3*bmPow(1-ee,2)*ee*U[G]+3*(1-ee)*bmPow(ee,2)*q[G]+bmPow(ee,3)*H[G],ae[G]=V,null!==he[G]&&(ie+=bmPow(ae[G]-he[G],2)),he[G]=ae[G];ie&&(te+=ie=bmSqrt(ie)),Re.percents[j]=ee,Re.lengths[j]=te}return Re.addedLength=te,Re};function y(R){this.segmentLength=0,this.points=new Array(R)}function I(R,H){this.partialLength=R,this.point=H}var R,M=(R={},function(H,U,q,ne){var j=(H[0]+"_"+H[1]+"_"+U[0]+"_"+U[1]+"_"+q[0]+"_"+q[1]+"_"+ne[0]+"_"+ne[1]).replace(/\./g,"p");if(!R[j]){var B,V,ee,te,ie,he,Re,G=getDefaultCurveSegments(),ae=0,De=null;2===H.length&&(H[0]!==U[0]||H[1]!==U[1])&&h(H[0],H[1],U[0],U[1],H[0]+q[0],H[1]+q[1])&&h(H[0],H[1],U[0],U[1],U[0]+ne[0],U[1]+ne[1])&&(G=2);var Se=new y(G);for(ee=q.length,B=0;B<G;B+=1){for(Re=createSizedArray(ee),ie=B/(G-1),he=0,V=0;V<ee;V+=1)te=bmPow(1-ie,3)*H[V]+3*bmPow(1-ie,2)*ie*(H[V]+q[V])+3*(1-ie)*bmPow(ie,2)*(U[V]+ne[V])+bmPow(ie,3)*U[V],Re[V]=te,null!==De&&(he+=bmPow(Re[V]-De[V],2));ae+=he=bmSqrt(he),Se.points[B]=new I(he,Re),De=Re}Se.segmentLength=ae,R[j]=Se}return R[j]});function k(R,H){var U=H.percents,q=H.lengths,ne=U.length,j=bmFloor((ne-1)*R),G=R*H.addedLength,B=0;if(j===ne-1||0===j||G===q[j])return U[j];for(var V=q[j]>G?-1:1,ee=!0;ee;)if(q[j]<=G&&q[j+1]>G?(B=(G-q[j])/(q[j+1]-q[j]),ee=!1):j+=V,j<0||j>=ne-1){if(j===ne-1)return U[j];ee=!1}return U[j]+(U[j+1]-U[j])*B}var z=createTypedArray("float32",8);return{getSegmentsLength:function v(R){var G,H=segmentsLengthPool.newElement(),U=R.c,q=R.v,ne=R.o,j=R.i,B=R._length,V=H.lengths,ee=0;for(G=0;G<B-1;G+=1)V[G]=s(q[G],q[G+1],ne[G],j[G+1]),ee+=V[G].addedLength;return U&&B&&(V[G]=s(q[G],q[0],ne[G],j[0]),ee+=V[G].addedLength),H.totalLength=ee,H},getNewSegment:function Q(R,H,U,q,ne,j,G){ne<0?ne=0:ne>1&&(ne=1);var ee,B=k(ne,G),V=k(j=j>1?1:j,G),te=R.length,ie=1-B,ae=1-V,he=ie*ie*ie,Re=B*ie*ie*3,De=B*B*ie*3,Se=B*B*B,_e=ie*ie*ae,$e=B*ie*ae+ie*B*ae+ie*ie*V,Te=B*B*ae+ie*B*V+B*ie*V,pe=B*B*V,le=ie*ae*ae,X=B*ae*ae+ie*V*ae+ie*ae*V,oe=B*V*ae+ie*V*V+B*ae*V,Ce=B*V*V,me=ae*ae*ae,Ne=V*ae*ae+ae*V*ae+ae*ae*V,Le=V*V*ae+ae*V*V+V*ae*V,nt=V*V*V;for(ee=0;ee<te;ee+=1)z[4*ee]=c.round(1e3*(he*R[ee]+Re*U[ee]+De*q[ee]+Se*H[ee]))/1e3,z[4*ee+1]=c.round(1e3*(_e*R[ee]+$e*U[ee]+Te*q[ee]+pe*H[ee]))/1e3,z[4*ee+2]=c.round(1e3*(le*R[ee]+X*U[ee]+oe*q[ee]+Ce*H[ee]))/1e3,z[4*ee+3]=c.round(1e3*(me*R[ee]+Ne*U[ee]+Le*q[ee]+nt*H[ee]))/1e3;return z},getPointInSegment:function F(R,H,U,q,ne,j){var G=k(ne,j),B=1-G;return[c.round(1e3*(B*B*B*R[0]+(G*B*B+B*G*B+B*B*G)*U[0]+(G*G*B+B*G*G+G*B*G)*q[0]+G*G*G*H[0]))/1e3,c.round(1e3*(B*B*B*R[1]+(G*B*B+B*G*B+B*B*G)*U[1]+(G*G*B+B*G*G+G*B*G)*q[1]+G*G*G*H[1]))/1e3]},buildBezierData:M,pointOnLine2D:h,pointOnLine3D:function f(R,H,U,q,ne,j,G,B,V){if(0===U&&0===j&&0===V)return h(R,H,q,ne,G,B);var ae,ee=c.sqrt(c.pow(q-R,2)+c.pow(ne-H,2)+c.pow(j-U,2)),te=c.sqrt(c.pow(G-R,2)+c.pow(B-H,2)+c.pow(V-U,2)),ie=c.sqrt(c.pow(G-q,2)+c.pow(B-ne,2)+c.pow(V-j,2));return(ae=ee>te?ee>ie?ee-te-ie:ie-te-ee:ie>te?ie-te-ee:te-ee-ie)>-1e-4&&ae<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(c,h){var s,f=this.offsetTime;"multidimensional"===this.propType&&(s=createTypedArray("float32",this.pv.length));for(var k,F,z,v=h.lastIndex,y=v,I=this.keyframes.length-1,M=!0;M;){if(k=this.keyframes[y],F=this.keyframes[y+1],y===I-1&&c>=F.t-f){k.h&&(k=F),v=0;break}if(F.t-f>c){v=y;break}y<I-1?y+=1:(v=0,M=!1)}z=this.keyframesMetadata[y]||{};var Q,R,H,U,q,ne,B,j=F.t-f,G=k.t-f;if(k.to){z.bezierData||(z.bezierData=bez.buildBezierData(k.s,F.s||k.e,k.to,k.ti));var V=z.bezierData;if(c>=j||c<G){var ee=c>=j?V.points.length-1:0;for(R=V.points[ee].point.length,Q=0;Q<R;Q+=1)s[Q]=V.points[ee].point[Q]}else{z.__fnct?ne=z.__fnct:(ne=BezierFactory.getBezierEasing(k.o.x,k.o.y,k.i.x,k.i.y,k.n).get,z.__fnct=ne),H=ne((c-G)/(j-G));var ie,te=V.segmentLength*H,ae=h.lastFrame<c&&h._lastKeyframeIndex===y?h._lastAddedLength:0;for(q=h.lastFrame<c&&h._lastKeyframeIndex===y?h._lastPoint:0,M=!0,U=V.points.length;M;){if(ae+=V.points[q].partialLength,0===te||0===H||q===V.points.length-1){for(R=V.points[q].point.length,Q=0;Q<R;Q+=1)s[Q]=V.points[q].point[Q];break}if(te>=ae&&te<ae+V.points[q+1].partialLength){for(ie=(te-ae)/V.points[q+1].partialLength,R=V.points[q].point.length,Q=0;Q<R;Q+=1)s[Q]=V.points[q].point[Q]+(V.points[q+1].point[Q]-V.points[q].point[Q])*ie;break}q<U-1?q+=1:M=!1}h._lastPoint=q,h._lastAddedLength=ae-V.points[q].partialLength,h._lastKeyframeIndex=y}}else{var _e;if(I=k.s.length,B=F.s||k.e,this.sh&&1!==k.h)c>=j?(s[0]=B[0],s[1]=B[1],s[2]=B[2]):c<=G?(s[0]=k.s[0],s[1]=k.s[1],s[2]=k.s[2]):quaternionToEuler(s,slerp(createQuaternion(k.s),createQuaternion(B),(c-G)/(j-G)));else for(y=0;y<I;y+=1)1!==k.h&&(c>=j?H=1:c<G?H=0:(k.o.x.constructor===Array?(z.__fnct||(z.__fnct=[]),z.__fnct[y]?ne=z.__fnct[y]:(ne=BezierFactory.getBezierEasing(void 0===k.o.x[y]?k.o.x[0]:k.o.x[y],void 0===k.o.y[y]?k.o.y[0]:k.o.y[y],void 0===k.i.x[y]?k.i.x[0]:k.i.x[y],void 0===k.i.y[y]?k.i.y[0]:k.i.y[y]).get,z.__fnct[y]=ne)):z.__fnct?ne=z.__fnct:(ne=BezierFactory.getBezierEasing(k.o.x,k.o.y,k.i.x,k.i.y).get,k.keyframeMetadata=ne),H=ne((c-G)/(j-G)))),B=F.s||k.e,_e=1===k.h?k.s[y]:k.s[y]+(B[y]-k.s[y])*H,"multidimensional"===this.propType?s[y]=_e:s=_e}return h.lastIndex=v,s}function slerp(c,h,f){var R,H,U,q,ne,s=[],v=c[0],y=c[1],I=c[2],M=c[3],k=h[0],F=h[1],z=h[2],Q=h[3];return(H=v*k+y*F+I*z+M*Q)<0&&(H=-H,k=-k,F=-F,z=-z,Q=-Q),1-H>1e-6?(R=Math.acos(H),U=Math.sin(R),q=Math.sin((1-f)*R)/U,ne=Math.sin(f*R)/U):(q=1-f,ne=f),s[0]=q*v+ne*k,s[1]=q*y+ne*F,s[2]=q*I+ne*z,s[3]=q*M+ne*Q,s}function quaternionToEuler(c,h){var f=h[0],s=h[1],v=h[2],y=h[3],I=Math.atan2(2*s*y-2*f*v,1-2*s*s-2*v*v),M=Math.asin(2*f*s+2*v*y),k=Math.atan2(2*f*y-2*s*v,1-2*f*f-2*v*v);c[0]=I/degToRads,c[1]=M/degToRads,c[2]=k/degToRads}function createQuaternion(c){var h=c[0]*degToRads,f=c[1]*degToRads,s=c[2]*degToRads,v=Math.cos(h/2),y=Math.cos(f/2),I=Math.cos(s/2),M=Math.sin(h/2),k=Math.sin(f/2),F=Math.sin(s/2);return[M*k*I+v*y*F,M*y*I+v*k*F,v*k*I-M*y*F,v*y*I-M*k*F]}function getValueAtCurrentTime(){var c=this.comp.renderedFrame-this.offsetTime,h=this.keyframes[0].t-this.offsetTime,f=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(c===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=f&&c>=f||this._caching.lastFrame<h&&c<h))){this._caching.lastFrame>=c&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var s=this.interpolateValue(c,this._caching);this.pv=s}return this._caching.lastFrame=c,this.pv}function setVValue(c){var h;if("unidimensional"===this.propType)mathAbs(this.v-(h=c*this.mult))>1e-5&&(this.v=h,this._mdf=!0);else for(var f=0,s=this.v.length;f<s;)mathAbs(this.v[f]-(h=c[f]*this.mult))>1e-5&&(this.v[f]=h,this._mdf=!0),f+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var c,h=this.effectsSequence.length,f=this.kf?this.pv:this.data.k;for(c=0;c<h;c+=1)f=this.effectsSequence[c](f);this.setVValue(f),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(c){this.effectsSequence.push(c),this.container.addDynamicProperty(this)}function ValueProperty(c,h,f,s){this.propType="unidimensional",this.mult=f||1,this.data=h,this.v=f?h.k*f:h.k,this.pv=h.k,this._mdf=!1,this.elem=c,this.container=s,this.comp=c.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(c,h,f,s){this.propType="multidimensional",this.mult=f||1,this.data=h,this._mdf=!1,this.elem=c,this.container=s,this.comp=c.comp,this.k=!1,this.kf=!1,this.frameId=-1;var v,y=h.k.length;for(this.v=createTypedArray("float32",y),this.pv=createTypedArray("float32",y),this.vel=createTypedArray("float32",y),v=0;v<y;v+=1)this.v[v]=h.k[v]*this.mult,this.pv[v]=h.k[v];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(c,h,f,s){this.propType="unidimensional",this.keyframes=h.k,this.keyframesMetadata=[],this.offsetTime=c.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=h,this.mult=f||1,this.elem=c,this.container=s,this.comp=c.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(c,h,f,s){this.propType="multidimensional";var v,I,M,k,F,y=h.k.length;for(v=0;v<y-1;v+=1)h.k[v].to&&h.k[v].s&&h.k[v+1]&&h.k[v+1].s&&(M=h.k[v+1].s,k=h.k[v].to,F=h.k[v].ti,(2===(I=h.k[v].s).length&&!(I[0]===M[0]&&I[1]===M[1])&&bez.pointOnLine2D(I[0],I[1],M[0],M[1],I[0]+k[0],I[1]+k[1])&&bez.pointOnLine2D(I[0],I[1],M[0],M[1],M[0]+F[0],M[1]+F[1])||3===I.length&&!(I[0]===M[0]&&I[1]===M[1]&&I[2]===M[2])&&bez.pointOnLine3D(I[0],I[1],I[2],M[0],M[1],M[2],I[0]+k[0],I[1]+k[1],I[2]+k[2])&&bez.pointOnLine3D(I[0],I[1],I[2],M[0],M[1],M[2],M[0]+F[0],M[1]+F[1],M[2]+F[2]))&&(h.k[v].to=null,h.k[v].ti=null),I[0]===M[0]&&I[1]===M[1]&&0===k[0]&&0===k[1]&&0===F[0]&&0===F[1]&&(2===I.length||I[2]===M[2]&&0===k[2]&&0===F[2])&&(h.k[v].to=null,h.k[v].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=h,this.keyframes=h.k,this.keyframesMetadata=[],this.offsetTime=c.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=f||1,this.elem=c,this.container=s,this.comp=c.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var z=h.k[0].s.length;for(this.v=createTypedArray("float32",z),this.pv=createTypedArray("float32",z),v=0;v<z;v+=1)this.v[v]=initFrame,this.pv[v]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",z)},this.addEffect=addEffect}var PropertyFactory={getProp:function c(f,s,v,y,I){var M;if(s.sid&&(s=f.globalData.slotManager.getProp(s)),s.k.length)if("number"==typeof s.k[0])M=new MultiDimensionalProperty(f,s,y,I);else switch(v){case 0:M=new KeyframedValueProperty(f,s,y,I);break;case 1:M=new KeyframedMultidimensionalProperty(f,s,y,I)}else M=new ValueProperty(f,s,y,I);return M.effectsSequence.length&&I.addDynamicProperty(M),M}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(h){-1===this.dynamicProperties.indexOf(h)&&(this.dynamicProperties.push(h),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var h,f=this.dynamicProperties.length;for(h=0;h<f;h+=1)this.dynamicProperties[h].getValue(),this.dynamicProperties[h]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(h){this.container=h,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function c(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(c,h){this.c=c,this.setLength(h);for(var f=0;f<h;)this.v[f]=pointPool.newElement(),this.o[f]=pointPool.newElement(),this.i[f]=pointPool.newElement(),f+=1},ShapePath.prototype.setLength=function(c){for(;this._maxLength<c;)this.doubleArrayLength();this._length=c},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(c,h,f,s,v){var y;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),f){case"v":y=this.v;break;case"i":y=this.i;break;case"o":y=this.o;break;default:y=[]}(!y[s]||y[s]&&!v)&&(y[s]=pointPool.newElement()),y[s][0]=c,y[s][1]=h},ShapePath.prototype.setTripleAt=function(c,h,f,s,v,y,I,M){this.setXYAt(c,h,"v",I,M),this.setXYAt(f,s,"o",I,M),this.setXYAt(v,y,"i",I,M)},ShapePath.prototype.reverse=function(){var c=new ShapePath;c.setPathData(this.c,this._length);var h=this.v,f=this.o,s=this.i,v=0;this.c&&(c.setTripleAt(h[0][0],h[0][1],s[0][0],s[0][1],f[0][0],f[0][1],0,!1),v=1);var M,y=this._length-1,I=this._length;for(M=v;M<I;M+=1)c.setTripleAt(h[y][0],h[y][1],s[y][0],s[y][1],f[y][0],f[y][1],M,!1),y-=1;return c},ShapePath.prototype.length=function(){return this._length};var shapePool=(s=poolFactory(4,function c(){return new ShapePath},function h(v){var I,y=v._length;for(I=0;I<y;I+=1)pointPool.release(v.v[I]),pointPool.release(v.i[I]),pointPool.release(v.o[I]),v.v[I]=null,v.i[I]=null,v.o[I]=null;v._length=0,v.c=!1}),s.clone=function f(v){var I,y=s.newElement(),M=void 0===v._length?v.v.length:v._length;for(y.setLength(M),y.c=v.c,I=0;I<M;I+=1)y.setTripleAt(v.v[I][0],v.v[I][1],v.o[I][0],v.o[I][1],v.i[I][0],v.i[I][1],I);return y},s),s;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(c){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=c,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var c;for(c=0;c<this._length;c+=1)shapePool.release(this.shapes[c]);this._length=0};var shapeCollectionPool=function(){var c={newShapeCollection:function v(){return h?s[h-=1]:new ShapeCollection},release:function y(I){var M,k=I._length;for(M=0;M<k;M+=1)shapePool.release(I.shapes[M]);I._length=0,h===f&&(s=pooling.double(s),f*=2),s[h]=I,h+=1}},h=0,f=4,s=createSizedArray(f);return c}(),ShapePropertyFactory=function(){var c=-999999;function h(j,G,B){var ee,te,ie,ae,he,Re,De,Se,V=B.lastIndex,$e=this.keyframes;if(j<$e[0].t-this.offsetTime)ee=$e[0].s[0],ie=!0,V=0;else if(j>=$e[$e.length-1].t-this.offsetTime)ee=$e[$e.length-1].s?$e[$e.length-1].s[0]:$e[$e.length-2].e[0],ie=!0;else{for(var X,oe,Ce,Te=V,pe=$e.length-1,le=!0;le&&(X=$e[Te],!((oe=$e[Te+1]).t-this.offsetTime>j));)Te<pe-1?Te+=1:le=!1;if(Ce=this.keyframesMetadata[Te]||{},V=Te,!(ie=1===X.h)){if(j>=oe.t-this.offsetTime)Se=1;else if(j<X.t-this.offsetTime)Se=0;else{var me;Ce.__fnct?me=Ce.__fnct:(me=BezierFactory.getBezierEasing(X.o.x,X.o.y,X.i.x,X.i.y).get,Ce.__fnct=me),Se=me((j-(X.t-this.offsetTime))/(oe.t-this.offsetTime-(X.t-this.offsetTime)))}te=oe.s?oe.s[0]:X.e[0]}ee=X.s[0]}for(Re=G._length,De=ee.i[0].length,B.lastIndex=V,ae=0;ae<Re;ae+=1)for(he=0;he<De;he+=1)G.i[ae][he]=ie?ee.i[ae][he]:ee.i[ae][he]+(te.i[ae][he]-ee.i[ae][he])*Se,G.o[ae][he]=ie?ee.o[ae][he]:ee.o[ae][he]+(te.o[ae][he]-ee.o[ae][he])*Se,G.v[ae][he]=ie?ee.v[ae][he]:ee.v[ae][he]+(te.v[ae][he]-ee.v[ae][he])*Se}function f(){var j=this.comp.renderedFrame-this.offsetTime,G=this.keyframes[0].t-this.offsetTime,B=this.keyframes[this.keyframes.length-1].t-this.offsetTime,V=this._caching.lastFrame;return V!==c&&(V<G&&j<G||V>B&&j>B)||(this._caching.lastIndex=V<j?this._caching.lastIndex:0,this.interpolateShape(j,this.pv,this._caching)),this._caching.lastFrame=j,this.pv}function s(){this.paths=this.localShapeCollection}function y(j){(function v(j,G){if(j._length!==G._length||j.c!==G.c)return!1;var B,V=j._length;for(B=0;B<V;B+=1)if(j.v[B][0]!==G.v[B][0]||j.v[B][1]!==G.v[B][1]||j.o[B][0]!==G.o[B][0]||j.o[B][1]!==G.o[B][1]||j.i[B][0]!==G.i[B][0]||j.i[B][1]!==G.i[B][1])return!1;return!0})(this.v,j)||(this.v=shapePool.clone(j),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function I(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length)return void(this._mdf=!1);if(this.lock)return void this.setVValue(this.pv);var j;this.lock=!0,this._mdf=!1,j=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var G,B=this.effectsSequence.length;for(G=0;G<B;G+=1)j=this.effectsSequence[G](j);this.setVValue(j),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function M(j,G,B){this.propType="shape",this.comp=j.comp,this.container=j,this.elem=j,this.data=G,this.k=!1,this.kf=!1,this._mdf=!1,this.v=shapePool.clone(3===B?G.pt.k:G.ks.k),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s,this.effectsSequence=[]}function k(j){this.effectsSequence.push(j),this.container.addDynamicProperty(this)}function F(j,G,B){this.propType="shape",this.comp=j.comp,this.elem=j,this.container=j,this.offsetTime=j.data.st,this.keyframes=3===B?G.pt.k:G.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var V=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,V),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=c,this.reset=s,this._caching={lastFrame:c,lastIndex:0},this.effectsSequence=[f.bind(this)]}M.prototype.interpolateShape=h,M.prototype.getValue=I,M.prototype.setVValue=y,M.prototype.addEffect=k,F.prototype.getValue=I,F.prototype.interpolateShape=h,F.prototype.setVValue=y,F.prototype.addEffect=k;var z=function(){var j=roundCorner;function G(B,V){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=V.d,this.elem=B,this.comp=B.comp,this.frameId=-1,this.initDynamicPropertyContainer(B),this.p=PropertyFactory.getProp(B,V.p,1,0,this),this.s=PropertyFactory.getProp(B,V.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return G.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var V=this.p.v[0],ee=this.p.v[1],te=this.s.v[0]/2,ie=this.s.v[1]/2,ae=3!==this.d,he=this.v;he.v[0][0]=V,he.v[0][1]=ee-ie,he.v[1][0]=ae?V+te:V-te,he.v[1][1]=ee,he.v[2][0]=V,he.v[2][1]=ee+ie,he.v[3][0]=ae?V-te:V+te,he.v[3][1]=ee,he.i[0][0]=ae?V-te*j:V+te*j,he.i[0][1]=ee-ie,he.i[1][0]=ae?V+te:V-te,he.i[1][1]=ee-ie*j,he.i[2][0]=ae?V+te*j:V-te*j,he.i[2][1]=ee+ie,he.i[3][0]=ae?V-te:V+te,he.i[3][1]=ee+ie*j,he.o[0][0]=ae?V+te*j:V-te*j,he.o[0][1]=ee-ie,he.o[1][0]=ae?V+te:V-te,he.o[1][1]=ee+ie*j,he.o[2][0]=ae?V-te*j:V+te*j,he.o[2][1]=ee+ie,he.o[3][0]=ae?V-te:V+te,he.o[3][1]=ee-ie*j}},extendPrototype([DynamicPropertyContainer],G),G}(),Q=function(){function j(G,B){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=G,this.comp=G.comp,this.data=B,this.frameId=-1,this.d=B.d,this.initDynamicPropertyContainer(G),1===B.sy?(this.ir=PropertyFactory.getProp(G,B.ir,0,0,this),this.is=PropertyFactory.getProp(G,B.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(G,B.pt,0,0,this),this.p=PropertyFactory.getProp(G,B.p,1,0,this),this.r=PropertyFactory.getProp(G,B.r,0,degToRads,this),this.or=PropertyFactory.getProp(G,B.or,0,0,this),this.os=PropertyFactory.getProp(G,B.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return j.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Se,_e,$e,Te,B=2*Math.floor(this.pt.v),V=2*Math.PI/B,ee=!0,te=this.or.v,ie=this.ir.v,ae=this.os.v,he=this.is.v,Re=2*Math.PI*te/(2*B),De=2*Math.PI*ie/(2*B),pe=-Math.PI/2;pe+=this.r.v;var le=3===this.data.d?-1:1;for(this.v._length=0,Se=0;Se<B;Se+=1){$e=ee?ae:he,Te=ee?Re:De;var X=(_e=ee?te:ie)*Math.cos(pe),oe=_e*Math.sin(pe),Ce=0===X&&0===oe?0:oe/Math.sqrt(X*X+oe*oe),me=0===X&&0===oe?0:-X/Math.sqrt(X*X+oe*oe);this.v.setTripleAt(X+=+this.p.v[0],oe+=+this.p.v[1],X-Ce*Te*$e*le,oe-me*Te*$e*le,X+Ce*Te*$e*le,oe+me*Te*$e*le,Se,!0),ee=!ee,pe+=V*le}},convertPolygonToPath:function(){var ae,B=Math.floor(this.pt.v),V=2*Math.PI/B,ee=this.or.v,te=this.os.v,ie=2*Math.PI*ee/(4*B),he=.5*-Math.PI,Re=3===this.data.d?-1:1;for(he+=this.r.v,this.v._length=0,ae=0;ae<B;ae+=1){var De=ee*Math.cos(he),Se=ee*Math.sin(he),_e=0===De&&0===Se?0:Se/Math.sqrt(De*De+Se*Se),$e=0===De&&0===Se?0:-De/Math.sqrt(De*De+Se*Se);this.v.setTripleAt(De+=+this.p.v[0],Se+=+this.p.v[1],De-_e*ie*te*Re,Se-$e*ie*te*Re,De+_e*ie*te*Re,Se+$e*ie*te*Re,ae,!0),he+=V*Re}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],j),j}(),R=function(){function j(G,B){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=G,this.comp=G.comp,this.frameId=-1,this.d=B.d,this.initDynamicPropertyContainer(G),this.p=PropertyFactory.getProp(G,B.p,1,0,this),this.s=PropertyFactory.getProp(G,B.s,1,0,this),this.r=PropertyFactory.getProp(G,B.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return j.prototype={convertRectToPath:function(){var B=this.p.v[0],V=this.p.v[1],ee=this.s.v[0]/2,te=this.s.v[1]/2,ie=bmMin(ee,te,this.r.v),ae=ie*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(B+ee,V-te+ie,B+ee,V-te+ie,B+ee,V-te+ae,0,!0),this.v.setTripleAt(B+ee,V+te-ie,B+ee,V+te-ae,B+ee,V+te-ie,1,!0),0!==ie?(this.v.setTripleAt(B+ee-ie,V+te,B+ee-ie,V+te,B+ee-ae,V+te,2,!0),this.v.setTripleAt(B-ee+ie,V+te,B-ee+ae,V+te,B-ee+ie,V+te,3,!0),this.v.setTripleAt(B-ee,V+te-ie,B-ee,V+te-ie,B-ee,V+te-ae,4,!0),this.v.setTripleAt(B-ee,V-te+ie,B-ee,V-te+ae,B-ee,V-te+ie,5,!0),this.v.setTripleAt(B-ee+ie,V-te,B-ee+ie,V-te,B-ee+ae,V-te,6,!0),this.v.setTripleAt(B+ee-ie,V-te,B+ee-ae,V-te,B+ee-ie,V-te,7,!0)):(this.v.setTripleAt(B-ee,V+te,B-ee+ae,V+te,B-ee,V+te,2),this.v.setTripleAt(B-ee,V-te,B-ee,V-te+ae,B-ee,V-te,3))):(this.v.setTripleAt(B+ee,V-te+ie,B+ee,V-te+ae,B+ee,V-te+ie,0,!0),0!==ie?(this.v.setTripleAt(B+ee-ie,V-te,B+ee-ie,V-te,B+ee-ae,V-te,1,!0),this.v.setTripleAt(B-ee+ie,V-te,B-ee+ae,V-te,B-ee+ie,V-te,2,!0),this.v.setTripleAt(B-ee,V-te+ie,B-ee,V-te+ie,B-ee,V-te+ae,3,!0),this.v.setTripleAt(B-ee,V+te-ie,B-ee,V+te-ae,B-ee,V+te-ie,4,!0),this.v.setTripleAt(B-ee+ie,V+te,B-ee+ie,V+te,B-ee+ae,V+te,5,!0),this.v.setTripleAt(B+ee-ie,V+te,B+ee-ae,V+te,B+ee-ie,V+te,6,!0),this.v.setTripleAt(B+ee,V+te-ie,B+ee,V+te-ie,B+ee,V+te-ae,7,!0)):(this.v.setTripleAt(B-ee,V-te,B-ee+ae,V-te,B-ee,V-te,1,!0),this.v.setTripleAt(B-ee,V+te,B-ee,V+te-ae,B-ee,V+te,2,!0),this.v.setTripleAt(B+ee,V+te,B+ee-ae,V+te,B+ee,V+te,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:s},extendPrototype([DynamicPropertyContainer],j),j}();return{getShapeProp:function H(j,G,B){var V;return 3===B||4===B?V=(3===B?G.pt:G.ks).k.length?new F(j,G,B):new M(j,G,B):5===B?V=new R(j,G):6===B?V=new z(j,G):7===B&&(V=new Q(j,G)),V.k&&j.addDynamicProperty(V),V},getConstructorFunction:function U(){return M},getKeyframedConstructorFunction:function q(){return F}}}(),Matrix=function(){var c=Math.cos,h=Math.sin,f=Math.tan,s=Math.round;function v(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function y(le){if(0===le)return this;var X=c(le),oe=h(le);return this._t(X,-oe,0,0,oe,X,0,0,0,0,1,0,0,0,0,1)}function I(le){if(0===le)return this;var X=c(le),oe=h(le);return this._t(1,0,0,0,0,X,-oe,0,0,oe,X,0,0,0,0,1)}function M(le){if(0===le)return this;var X=c(le),oe=h(le);return this._t(X,0,oe,0,0,1,0,0,-oe,0,X,0,0,0,0,1)}function k(le){if(0===le)return this;var X=c(le),oe=h(le);return this._t(X,-oe,0,0,oe,X,0,0,0,0,1,0,0,0,0,1)}function F(le,X){return this._t(1,X,le,1,0,0)}function z(le,X){return this.shear(f(le),f(X))}function Q(le,X){var oe=c(X),Ce=h(X);return this._t(oe,Ce,0,0,-Ce,oe,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,f(le),1,0,0,0,0,1,0,0,0,0,1)._t(oe,-Ce,0,0,Ce,oe,0,0,0,0,1,0,0,0,0,1)}function R(le,X,oe){return!oe&&0!==oe&&(oe=1),1===le&&1===X&&1===oe?this:this._t(le,0,0,0,0,X,0,0,0,0,oe,0,0,0,0,1)}function H(le,X,oe,Ce,me,Ne,Le,nt,Ht,ht,Qe,jt,zt,Ut,Jt,un){return this.props[0]=le,this.props[1]=X,this.props[2]=oe,this.props[3]=Ce,this.props[4]=me,this.props[5]=Ne,this.props[6]=Le,this.props[7]=nt,this.props[8]=Ht,this.props[9]=ht,this.props[10]=Qe,this.props[11]=jt,this.props[12]=zt,this.props[13]=Ut,this.props[14]=Jt,this.props[15]=un,this}function U(le,X,oe){return oe=oe||0,0!==le||0!==X||0!==oe?this._t(1,0,0,0,0,1,0,0,0,0,1,0,le,X,oe,1):this}function q(le,X,oe,Ce,me,Ne,Le,nt,Ht,ht,Qe,jt,zt,Ut,Jt,un){var lt=this.props;if(1===le&&0===X&&0===oe&&0===Ce&&0===me&&1===Ne&&0===Le&&0===nt&&0===Ht&&0===ht&&1===Qe&&0===jt)return lt[12]=lt[12]*le+lt[15]*zt,lt[13]=lt[13]*Ne+lt[15]*Ut,lt[14]=lt[14]*Qe+lt[15]*Jt,lt[15]*=un,this._identityCalculated=!1,this;var on=lt[0],Bn=lt[1],vi=lt[2],ii=lt[3],$i=lt[4],qi=lt[5],ft=lt[6],En=lt[7],fi=lt[8],Wn=lt[9],Di=lt[10],ri=lt[11],gn=lt[12],hn=lt[13],an=lt[14],pt=lt[15];return lt[0]=on*le+Bn*me+vi*Ht+ii*zt,lt[1]=on*X+Bn*Ne+vi*ht+ii*Ut,lt[2]=on*oe+Bn*Le+vi*Qe+ii*Jt,lt[3]=on*Ce+Bn*nt+vi*jt+ii*un,lt[4]=$i*le+qi*me+ft*Ht+En*zt,lt[5]=$i*X+qi*Ne+ft*ht+En*Ut,lt[6]=$i*oe+qi*Le+ft*Qe+En*Jt,lt[7]=$i*Ce+qi*nt+ft*jt+En*un,lt[8]=fi*le+Wn*me+Di*Ht+ri*zt,lt[9]=fi*X+Wn*Ne+Di*ht+ri*Ut,lt[10]=fi*oe+Wn*Le+Di*Qe+ri*Jt,lt[11]=fi*Ce+Wn*nt+Di*jt+ri*un,lt[12]=gn*le+hn*me+an*Ht+pt*zt,lt[13]=gn*X+hn*Ne+an*ht+pt*Ut,lt[14]=gn*oe+hn*Le+an*Qe+pt*Jt,lt[15]=gn*Ce+hn*nt+an*jt+pt*un,this._identityCalculated=!1,this}function ne(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function j(le){for(var X=0;X<16;){if(le.props[X]!==this.props[X])return!1;X+=1}return!0}function G(le){var X;for(X=0;X<16;X+=1)le.props[X]=this.props[X];return le}function B(le){var X;for(X=0;X<16;X+=1)this.props[X]=le[X]}function V(le,X,oe){return{x:le*this.props[0]+X*this.props[4]+oe*this.props[8]+this.props[12],y:le*this.props[1]+X*this.props[5]+oe*this.props[9]+this.props[13],z:le*this.props[2]+X*this.props[6]+oe*this.props[10]+this.props[14]}}function ee(le,X,oe){return le*this.props[0]+X*this.props[4]+oe*this.props[8]+this.props[12]}function te(le,X,oe){return le*this.props[1]+X*this.props[5]+oe*this.props[9]+this.props[13]}function ie(le,X,oe){return le*this.props[2]+X*this.props[6]+oe*this.props[10]+this.props[14]}function ae(){var le=this.props[0]*this.props[5]-this.props[1]*this.props[4],X=this.props[5]/le,oe=-this.props[1]/le,Ce=-this.props[4]/le,me=this.props[0]/le,Ne=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/le,Le=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/le,nt=new Matrix;return nt.props[0]=X,nt.props[1]=oe,nt.props[4]=Ce,nt.props[5]=me,nt.props[12]=Ne,nt.props[13]=Le,nt}function he(le){return this.getInverseMatrix().applyToPointArray(le[0],le[1],le[2]||0)}function Re(le){var X,oe=le.length,Ce=[];for(X=0;X<oe;X+=1)Ce[X]=he(le[X]);return Ce}function De(le,X,oe){var Ce=createTypedArray("float32",6);if(this.isIdentity())Ce[0]=le[0],Ce[1]=le[1],Ce[2]=X[0],Ce[3]=X[1],Ce[4]=oe[0],Ce[5]=oe[1];else{var me=this.props[0],Ne=this.props[1],Le=this.props[4],nt=this.props[5],Ht=this.props[12],ht=this.props[13];Ce[0]=le[0]*me+le[1]*Le+Ht,Ce[1]=le[0]*Ne+le[1]*nt+ht,Ce[2]=X[0]*me+X[1]*Le+Ht,Ce[3]=X[0]*Ne+X[1]*nt+ht,Ce[4]=oe[0]*me+oe[1]*Le+Ht,Ce[5]=oe[0]*Ne+oe[1]*nt+ht}return Ce}function Se(le,X,oe){return this.isIdentity()?[le,X,oe]:[le*this.props[0]+X*this.props[4]+oe*this.props[8]+this.props[12],le*this.props[1]+X*this.props[5]+oe*this.props[9]+this.props[13],le*this.props[2]+X*this.props[6]+oe*this.props[10]+this.props[14]]}function _e(le,X){if(this.isIdentity())return le+","+X;var oe=this.props;return Math.round(100*(le*oe[0]+X*oe[4]+oe[12]))/100+","+Math.round(100*(le*oe[1]+X*oe[5]+oe[13]))/100}function $e(){for(var le=0,X=this.props,oe="matrix3d(";le<16;)oe+=s(1e4*X[le])/1e4,oe+=15===le?")":",",le+=1;return oe}function Te(le){return le<1e-6&&le>0||le>-1e-6&&le<0?s(1e4*le)/1e4:le}function pe(){var le=this.props;return"matrix("+Te(le[0])+","+Te(le[1])+","+Te(le[4])+","+Te(le[5])+","+Te(le[12])+","+Te(le[13])+")"}return function(){this.reset=v,this.rotate=y,this.rotateX=I,this.rotateY=M,this.rotateZ=k,this.skew=z,this.skewFromAxis=Q,this.shear=F,this.scale=R,this.setTransform=H,this.translate=U,this.transform=q,this.applyToPoint=V,this.applyToX=ee,this.applyToY=te,this.applyToZ=ie,this.applyToPointArray=Se,this.applyToTriplePoints=De,this.applyToPointStringified=_e,this.toCSS=$e,this.to2dCSS=pe,this.clone=G,this.cloneFromProps=B,this.equals=j,this.inversePoints=Re,this.inversePoint=he,this.getInverseMatrix=ae,this._t=this.transform,this.isIdentity=ne,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(c){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(c){setLocationHref(c)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(c){setSubframeEnabled(c)}function setPrefix(c){setIdPrefix(c)}function loadAnimation(c){return!0===standalone&&(c.animationData=JSON.parse(animationData)),animationManager.loadAnimation(c)}function setQuality(c){if("string"==typeof c)switch(c){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(c)&&c>1&&setDefaultCurveSegments(c);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return typeof navigator<"u"}function installPlugin(c,h){"expressions"===c&&setExpressionsPlugin(h)}function getFactory(c){switch(c){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(c){for(var h=queryString.split("&"),f=0;f<h.length;f+=1){var s=h[f].split("=");if(decodeURIComponent(s[0])==c)return decodeURIComponent(s[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.11.0";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)}catch(c){}var ShapeModifiers=function(){var c={},h={};return c.registerModifier=function f(v,y){h[v]||(h[v]=y)},c.getModifier=function s(v,y,I){return new h[v](y,I)},c}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(c){if(!this.closed){c.sh.container.addDynamicProperty(c.sh);var h={shape:c.sh,data:c,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(h),this.addShapeToModifier(h),this._isAnimated&&c.setAsAnimated()}},ShapeModifier.prototype.init=function(c,h){this.shapes=[],this.elem=c,this.initDynamicPropertyContainer(c),this.initModifierProperties(c,h),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(c,h){this.s=PropertyFactory.getProp(c,h.s,0,.01,this),this.e=PropertyFactory.getProp(c,h.e,0,.01,this),this.o=PropertyFactory.getProp(c,h.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=h.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(c){c.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(c,h,f,s,v){var y=[];h<=1?y.push({s:c,e:h}):c>=1?y.push({s:c-1,e:h-1}):(y.push({s:c,e:1}),y.push({s:0,e:h-1}));var M,F,I=[],k=y.length;for(M=0;M<k;M+=1)(F=y[M]).e*v<s||F.s*v>s+f||I.push([F.s*v<=s?0:(F.s*v-s)/f,F.e*v>=s+f?1:(F.e*v-s)/f]);return I.length||I.push([0,0]),I},TrimModifier.prototype.releasePathsData=function(c){var h,f=c.length;for(h=0;h<f;h+=1)segmentsLengthPool.release(c[h]);return c.length=0,c},TrimModifier.prototype.processShapes=function(c){var h,f;if(this._mdf||c){var s=this.o.v%360/360;if(s<0&&(s+=1),(h=this.s.v>1?1+s:this.s.v<0?0+s:this.s.v+s)>(f=this.e.v>1?1+s:this.e.v<0?0+s:this.e.v+s)){var v=h;h=f,f=v}h=1e-4*Math.round(1e4*h),f=1e-4*Math.round(1e4*f),this.sValue=h,this.eValue=f}else h=this.sValue,f=this.eValue;var y,I,k,F,z,Q,R,M=this.shapes.length,H=0;if(f===h)for(I=0;I<M;I+=1)this.shapes[I].localShapeCollection.releaseShapes(),this.shapes[I].shape._mdf=!0,this.shapes[I].shape.paths=this.shapes[I].localShapeCollection,this._mdf&&(this.shapes[I].pathsData.length=0);else if(1===f&&0===h||0===f&&1===h){if(this._mdf)for(I=0;I<M;I+=1)this.shapes[I].pathsData.length=0,this.shapes[I].shape._mdf=!0}else{var q,ne,U=[];for(I=0;I<M;I+=1)if((q=this.shapes[I]).shape._mdf||this._mdf||c||2===this.m){if(F=(y=q.shape.paths)._length,R=0,!q.shape._mdf&&q.pathsData.length)R=q.totalShapeLength;else{for(z=this.releasePathsData(q.pathsData),k=0;k<F;k+=1)Q=bez.getSegmentsLength(y.shapes[k]),z.push(Q),R+=Q.totalLength;q.totalShapeLength=R,q.pathsData=z}H+=R,q.shape._mdf=!0}else q.shape.paths=q.localShapeCollection;var V,j=h,G=f,B=0;for(I=M-1;I>=0;I-=1)if((q=this.shapes[I]).shape._mdf){for((ne=q.localShapeCollection).releaseShapes(),2===this.m&&M>1?(V=this.calculateShapeEdges(h,f,q.totalShapeLength,B,H),B+=q.totalShapeLength):V=[[j,G]],F=V.length,k=0;k<F;k+=1){j=V[k][0],G=V[k][1],U.length=0,G<=1?U.push({s:q.totalShapeLength*j,e:q.totalShapeLength*G}):j>=1?U.push({s:q.totalShapeLength*(j-1),e:q.totalShapeLength*(G-1)}):(U.push({s:q.totalShapeLength*j,e:q.totalShapeLength}),U.push({s:0,e:q.totalShapeLength*(G-1)}));var ee=this.addShapes(q,U[0]);if(U[0].s!==U[0].e){if(U.length>1)if(q.shape.paths.shapes[q.shape.paths._length-1].c){var ie=ee.pop();this.addPaths(ee,ne),ee=this.addShapes(q,U[1],ie)}else this.addPaths(ee,ne),ee=this.addShapes(q,U[1]);this.addPaths(ee,ne)}}q.shape.paths=ne}}},TrimModifier.prototype.addPaths=function(c,h){var f,s=c.length;for(f=0;f<s;f+=1)h.addShape(c[f])},TrimModifier.prototype.addSegment=function(c,h,f,s,v,y,I){v.setXYAt(h[0],h[1],"o",y),v.setXYAt(f[0],f[1],"i",y+1),I&&v.setXYAt(c[0],c[1],"v",y),v.setXYAt(s[0],s[1],"v",y+1)},TrimModifier.prototype.addSegmentFromArray=function(c,h,f,s){h.setXYAt(c[1],c[5],"o",f),h.setXYAt(c[2],c[6],"i",f+1),s&&h.setXYAt(c[0],c[4],"v",f),h.setXYAt(c[3],c[7],"v",f+1)},TrimModifier.prototype.addShapes=function(c,h,f){var y,M,k,z,Q,R,H,q,s=c.pathsData,v=c.shape.paths.shapes,I=c.shape.paths._length,F=0,U=[],ne=!0;for(f?(Q=f._length,q=f._length):(f=shapePool.newElement(),Q=0,q=0),U.push(f),y=0;y<I;y+=1){for(R=s[y].lengths,f.c=v[y].c,k=v[y].c?R.length:R.length+1,M=1;M<k;M+=1)if(F+(z=R[M-1]).addedLength<h.s)F+=z.addedLength,f.c=!1;else{if(F>h.e){f.c=!1;break}h.s<=F&&h.e>=F+z.addedLength?(this.addSegment(v[y].v[M-1],v[y].o[M-1],v[y].i[M],v[y].v[M],f,Q,ne),ne=!1):(H=bez.getNewSegment(v[y].v[M-1],v[y].v[M],v[y].o[M-1],v[y].i[M],(h.s-F)/z.addedLength,(h.e-F)/z.addedLength,R[M-1]),this.addSegmentFromArray(H,f,Q,ne),ne=!1,f.c=!1),F+=z.addedLength,Q+=1}if(v[y].c&&R.length){if(z=R[M-1],F<=h.e){var j=R[M-1].addedLength;h.s<=F&&h.e>=F+j?(this.addSegment(v[y].v[M-1],v[y].o[M-1],v[y].i[0],v[y].v[0],f,Q,ne),ne=!1):(H=bez.getNewSegment(v[y].v[M-1],v[y].v[0],v[y].o[M-1],v[y].i[0],(h.s-F)/j,(h.e-F)/j,R[M-1]),this.addSegmentFromArray(H,f,Q,ne),ne=!1,f.c=!1)}else f.c=!1;F+=z.addedLength,Q+=1}if(f._length&&(f.setXYAt(f.v[q][0],f.v[q][1],"i",q),f.setXYAt(f.v[f._length-1][0],f.v[f._length-1][1],"o",f._length-1)),F>h.e)break;y<I-1&&(f=shapePool.newElement(),ne=!0,U.push(f),Q=0)}return U},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(c,h){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(c,h.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(c,h){var f=h/100,s=[0,0],v=c._length,y=0;for(y=0;y<v;y+=1)s[0]+=c.v[y][0],s[1]+=c.v[y][1];s[0]/=v,s[1]/=v;var I=shapePool.newElement();for(I.c=c.c,y=0;y<v;y+=1)I.setTripleAt(c.v[y][0]+(s[0]-c.v[y][0])*f,c.v[y][1]+(s[1]-c.v[y][1])*f,c.o[y][0]+(s[0]-c.o[y][0])*-f,c.o[y][1]+(s[1]-c.o[y][1])*-f,c.i[y][0]+(s[0]-c.i[y][0])*-f,c.i[y][1]+(s[1]-c.i[y][1])*-f,y);return I},PuckerAndBloatModifier.prototype.processShapes=function(c){var h,f,v,y,M,k,s=this.shapes.length,I=this.amount.v;if(0!==I)for(f=0;f<s;f+=1){if(k=(M=this.shapes[f]).localShapeCollection,M.shape._mdf||this._mdf||c)for(k.releaseShapes(),M.shape._mdf=!0,h=M.shape.paths.shapes,y=M.shape.paths._length,v=0;v<y;v+=1)k.addShape(this.processPath(h[v],I));M.shape.paths=M.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var c=[0,0];function I(k,F,z){if(this.elem=k,this.frameId=-1,this.propType="transform",this.data=F,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(z||k),F.p&&F.p.s?(this.px=PropertyFactory.getProp(k,F.p.x,0,0,this),this.py=PropertyFactory.getProp(k,F.p.y,0,0,this),F.p.z&&(this.pz=PropertyFactory.getProp(k,F.p.z,0,0,this))):this.p=PropertyFactory.getProp(k,F.p||{k:[0,0,0]},1,0,this),F.rx){if(this.rx=PropertyFactory.getProp(k,F.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(k,F.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(k,F.rz,0,degToRads,this),F.or.k[0].ti){var Q,R=F.or.k.length;for(Q=0;Q<R;Q+=1)F.or.k[Q].to=null,F.or.k[Q].ti=null}this.or=PropertyFactory.getProp(k,F.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(k,F.r||{k:0},0,degToRads,this);F.sk&&(this.sk=PropertyFactory.getProp(k,F.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(k,F.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(k,F.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(k,F.s||{k:[100,100,100]},1,.01,this),this.o=F.o?PropertyFactory.getProp(k,F.o,0,.01,k):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return I.prototype={applyToMatrix:function h(k){var F=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||F,this.a&&k.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&k.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&k.skewFromAxis(-this.sk.v,this.sa.v),this.r?k.rotate(-this.r.v):k.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?k.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):k.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function f(k){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||k){var F;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var z,Q;if(F=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(z=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/F,0),Q=this.p.getValueAtTime(this.p.keyframes[0].t/F,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(z=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/F,0),Q=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/F,0)):(z=this.p.pv,Q=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/F,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){z=[],Q=[];var R=this.px,H=this.py;R._caching.lastFrame+R.offsetTime<=R.keyframes[0].t?(z[0]=R.getValueAtTime((R.keyframes[0].t+.01)/F,0),z[1]=H.getValueAtTime((H.keyframes[0].t+.01)/F,0),Q[0]=R.getValueAtTime(R.keyframes[0].t/F,0),Q[1]=H.getValueAtTime(H.keyframes[0].t/F,0)):R._caching.lastFrame+R.offsetTime>=R.keyframes[R.keyframes.length-1].t?(z[0]=R.getValueAtTime(R.keyframes[R.keyframes.length-1].t/F,0),z[1]=H.getValueAtTime(H.keyframes[H.keyframes.length-1].t/F,0),Q[0]=R.getValueAtTime((R.keyframes[R.keyframes.length-1].t-.01)/F,0),Q[1]=H.getValueAtTime((H.keyframes[H.keyframes.length-1].t-.01)/F,0)):(z=[R.pv,H.pv],Q[0]=R.getValueAtTime((R._caching.lastFrame+R.offsetTime-.01)/F,R.offsetTime),Q[1]=H.getValueAtTime((H._caching.lastFrame+H.offsetTime-.01)/F,H.offsetTime))}else z=Q=c;this.v.rotate(-Math.atan2(z[1]-Q[1],z[0]-Q[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function s(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function v(){}},extendPrototype([DynamicPropertyContainer],I),I.prototype.addDynamicProperty=function y(k){this._addDynamicProperty(k),this.elem.addDynamicProperty(k),this._isDirty=!0},I.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function M(k,F,z){return new I(k,F,z)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(c,h){return 1e5*Math.abs(c-h)<=Math.min(Math.abs(c),Math.abs(h))}function floatZero(c){return Math.abs(c)<=1e-5}function lerp(c,h,f){return c*(1-f)+h*f}function lerpPoint(c,h,f){return[lerp(c[0],h[0],f),lerp(c[1],h[1],f)]}function quadRoots(c,h,f){if(0===c)return[];var s=h*h-4*c*f;if(s<0)return[];var v=-h/(2*c);if(0===s)return[v];var y=Math.sqrt(s)/(2*c);return[v-y,v+y]}function polynomialCoefficients(c,h,f,s){return[3*h-c-3*f+s,3*c-6*h+3*f,-3*c+3*h,c]}function singlePoint(c){return new PolynomialBezier(c,c,c,c,!1)}function PolynomialBezier(c,h,f,s,v){v&&pointEqual(c,h)&&(h=lerpPoint(c,s,1/3)),v&&pointEqual(f,s)&&(f=lerpPoint(c,s,2/3));var y=polynomialCoefficients(c[0],h[0],f[0],s[0]),I=polynomialCoefficients(c[1],h[1],f[1],s[1]);this.a=[y[0],I[0]],this.b=[y[1],I[1]],this.c=[y[2],I[2]],this.d=[y[3],I[3]],this.points=[c,h,f,s]}function extrema(c,h){var f=c.points[0][h],s=c.points[c.points.length-1][h];if(f>s){var v=s;s=f,f=v}for(var y=quadRoots(3*c.a[h],2*c.b[h],c.c[h]),I=0;I<y.length;I+=1)if(y[I]>0&&y[I]<1){var M=c.point(y[I])[h];M<f?f=M:M>s&&(s=M)}return{min:f,max:s}}function intersectData(c,h,f){var s=c.boundingBox();return{cx:s.cx,cy:s.cy,width:s.width,height:s.height,bez:c,t:(h+f)/2,t1:h,t2:f}}function splitData(c){var h=c.bez.split(.5);return[intersectData(h[0],c.t1,c.t),intersectData(h[1],c.t,c.t2)]}function boxIntersect(c,h){return 2*Math.abs(c.cx-h.cx)<c.width+h.width&&2*Math.abs(c.cy-h.cy)<c.height+h.height}function intersectsImpl(c,h,f,s,v,y){if(boxIntersect(c,h)){if(f>=y||c.width<=s&&c.height<=s&&h.width<=s&&h.height<=s)return void v.push([c.t,h.t]);var I=splitData(c),M=splitData(h);intersectsImpl(I[0],M[0],f+1,s,v,y),intersectsImpl(I[0],M[1],f+1,s,v,y),intersectsImpl(I[1],M[0],f+1,s,v,y),intersectsImpl(I[1],M[1],f+1,s,v,y)}}function crossProduct(c,h){return[c[1]*h[2]-c[2]*h[1],c[2]*h[0]-c[0]*h[2],c[0]*h[1]-c[1]*h[0]]}function lineIntersection(c,h,f,s){var I=[f[0],f[1],1],M=[s[0],s[1],1],k=crossProduct(crossProduct([c[0],c[1],1],[h[0],h[1],1]),crossProduct(I,M));return floatZero(k[2])?null:[k[0]/k[2],k[1]/k[2]]}function polarOffset(c,h,f){return[c[0]+Math.cos(h)*f,c[1]-Math.sin(h)*f]}function pointDistance(c,h){return Math.hypot(c[0]-h[0],c[1]-h[1])}function pointEqual(c,h){return floatEqual(c[0],h[0])&&floatEqual(c[1],h[1])}function ZigZagModifier(){}function setPoint(c,h,f,s,v,y,I){var M=f-Math.PI/2,k=f+Math.PI/2,F=h[0]+Math.cos(f)*s*v,z=h[1]-Math.sin(f)*s*v;c.setTripleAt(F,z,F+Math.cos(M)*y,z-Math.sin(M)*y,F+Math.cos(k)*I,z-Math.sin(k)*I,c.length())}function getPerpendicularVector(c,h){var f=[h[0]-c[0],h[1]-c[1]],s=.5*-Math.PI;return[Math.cos(s)*f[0]-Math.sin(s)*f[1],Math.sin(s)*f[0]+Math.cos(s)*f[1]]}function getProjectingAngle(c,h){var f=0===h?c.length()-1:h-1,s=(h+1)%c.length(),I=getPerpendicularVector(c.v[f],c.v[s]);return Math.atan2(0,1)-Math.atan2(I[1],I[0])}function zigZagCorner(c,h,f,s,v,y,I){var M=getProjectingAngle(h,f),k=h.v[f%h._length],F=h.v[0===f?h._length-1:f-1],z=h.v[(f+1)%h._length],Q=2===y?Math.sqrt(Math.pow(k[0]-F[0],2)+Math.pow(k[1]-F[1],2)):0,R=2===y?Math.sqrt(Math.pow(k[0]-z[0],2)+Math.pow(k[1]-z[1],2)):0;setPoint(c,h.v[f%h._length],M,I,s,R/(2*(v+1)),Q/(2*(v+1)),y)}function zigZagSegment(c,h,f,s,v,y){for(var I=0;I<s;I+=1){var M=(I+1)/(s+1),k=2===v?Math.sqrt(Math.pow(h.points[3][0]-h.points[0][0],2)+Math.pow(h.points[3][1]-h.points[0][1],2)):0,F=h.normalAngle(M);setPoint(c,h.point(M),F,y,f,k/(2*(s+1)),k/(2*(s+1)),v),y=-y}return y}function linearOffset(c,h,f){var s=Math.atan2(h[0]-c[0],h[1]-c[1]);return[polarOffset(c,s,f),polarOffset(h,s,f)]}function offsetSegment(c,h){var f,s,v,y,I,M,k;f=(k=linearOffset(c.points[0],c.points[1],h))[0],s=k[1],v=(k=linearOffset(c.points[1],c.points[2],h))[0],y=k[1],I=(k=linearOffset(c.points[2],c.points[3],h))[0],M=k[1];var F=lineIntersection(f,s,v,y);null===F&&(F=s);var z=lineIntersection(I,M,v,y);return null===z&&(z=I),new PolynomialBezier(f,F,z,M)}function joinLines(c,h,f,s,v){var y=h.points[3],I=f.points[0];if(3===s||pointEqual(y,I))return y;if(2===s){var M=-h.tangentAngle(1),k=-f.tangentAngle(0)+Math.PI,F=lineIntersection(y,polarOffset(y,M+Math.PI/2,100),I,polarOffset(I,M+Math.PI/2,100)),z=F?pointDistance(F,y):pointDistance(y,I)/2,Q=polarOffset(y,M,2*z*roundCorner);return c.setXYAt(Q[0],Q[1],"o",c.length()-1),Q=polarOffset(I,k,2*z*roundCorner),c.setTripleAt(I[0],I[1],I[0],I[1],Q[0],Q[1],c.length()),I}var U=lineIntersection(pointEqual(y,h.points[2])?h.points[0]:h.points[2],y,I,pointEqual(I,f.points[1])?f.points[3]:f.points[1]);return U&&pointDistance(U,y)<v?(c.setTripleAt(U[0],U[1],U[0],U[1],U[0],U[1],c.length()),U):y}function getIntersection(c,h){var f=c.intersections(h);return f.length&&floatEqual(f[0][0],1)&&f.shift(),f.length?f[0]:null}function pruneSegmentIntersection(c,h){var f=c.slice(),s=h.slice(),v=getIntersection(c[c.length-1],h[0]);return v&&(f[c.length-1]=c[c.length-1].split(v[0])[0],s[0]=h[0].split(v[1])[1]),c.length>1&&h.length>1&&(v=getIntersection(c[0],h[h.length-1]))?[[c[0].split(v[0])[0]],[h[h.length-1].split(v[1])[1]]]:[f,s]}function pruneIntersections(c){for(var h,f=1;f<c.length;f+=1)h=pruneSegmentIntersection(c[f-1],c[f]),c[f-1]=h[0],c[f]=h[1];return c.length>1&&(h=pruneSegmentIntersection(c[c.length-1],c[0]),c[c.length-1]=h[0],c[0]=h[1]),c}function offsetSegmentSplit(c,h){var s,v,y,I,f=c.inflectionPoints();return 0===f.length?[offsetSegment(c,h)]:1===f.length||floatEqual(f[1],1)?(v=(y=c.split(f[0]))[1],[offsetSegment(s=y[0],h),offsetSegment(v,h)]):(s=(y=c.split(f[0]))[0],I=(y=y[1].split((f[1]-f[0])/(1-f[0])))[0],v=y[1],[offsetSegment(s,h),offsetSegment(I,h),offsetSegment(v,h)])}function OffsetPathModifier(){}function getFontProperties(c){for(var y,h=c.fStyle?c.fStyle.split(" "):[],f="normal",s="normal",v=h.length,I=0;I<v;I+=1)switch(y=h[I].toLowerCase(),y){case"italic":s="italic";break;case"bold":f="700";break;case"black":f="900";break;case"medium":f="500";break;case"regular":case"normal":f="400";break;case"light":case"thin":f="200"}return{style:s,weight:c.fWeight||f}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(c,h){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(c,h.c,0,null,this),this.o=PropertyFactory.getProp(c,h.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(c,h.tr,this),this.so=PropertyFactory.getProp(c,h.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(c,h.tr.eo,0,.01,this),this.data=h,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(c,h,f,s,v,y){var I=y?-1:1,M=s.s.v[0]+(1-s.s.v[0])*(1-v),k=s.s.v[1]+(1-s.s.v[1])*(1-v);c.translate(s.p.v[0]*I*v,s.p.v[1]*I*v,s.p.v[2]),h.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),h.rotate(-s.r.v*I*v),h.translate(s.a.v[0],s.a.v[1],s.a.v[2]),f.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),f.scale(y?1/M:M,y?1/k:k),f.translate(s.a.v[0],s.a.v[1],s.a.v[2])},RepeaterModifier.prototype.init=function(c,h,f,s){for(this.elem=c,this.arr=h,this.pos=f,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(c),this.initModifierProperties(c,h[f]);f>0;)this._elements.unshift(h[f-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(c){var h,f=c.length;for(h=0;h<f;h+=1)c[h]._processed=!1,"gr"===c[h].ty&&this.resetElements(c[h].it)},RepeaterModifier.prototype.cloneElements=function(c){var h=JSON.parse(JSON.stringify(c));return this.resetElements(h),h},RepeaterModifier.prototype.changeGroupRender=function(c,h){var f,s=c.length;for(f=0;f<s;f+=1)c[f]._render=h,"gr"===c[f].ty&&this.changeGroupRender(c[f].it,h)},RepeaterModifier.prototype.processShapes=function(c){var h,f,s,v,y,I=!1;if(this._mdf||c){var F,M=Math.ceil(this.c.v);if(this._groups.length<M){for(;this._groups.length<M;){var k={it:this.cloneElements(this._elements),ty:"gr"};k.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,k),this._groups.splice(0,0,k),this._currentCopies+=1}this.elem.reloadShapes(),I=!0}for(y=0,s=0;s<=this._groups.length-1;s+=1){if(this._groups[s]._render=F=y<M,this.changeGroupRender(this._groups[s].it,F),!F){var z=this.elemsData[s].it,Q=z[z.length-1];0!==Q.transform.op.v?(Q.transform.op._mdf=!0,Q.transform.op.v=0):Q.transform.op._mdf=!1}y+=1}this._currentCopies=M;var R=this.o.v,H=R%1,U=R>0?Math.floor(R):Math.ceil(R),q=this.pMatrix.props,ne=this.rMatrix.props,j=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var B,V,G=0;if(R>0){for(;G<U;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),G+=1;H&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,H,!1),G+=H)}else if(R<0){for(;G>U;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),G-=1;H&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-H,!0),G-=H)}for(s=1===this.data.m?0:this._currentCopies-1,v=1===this.data.m?1:-1,y=this._currentCopies;y;){if(V=(f=(h=this.elemsData[s].it)[h.length-1].transform.mProps.v.props).length,h[h.length-1].transform.mProps._mdf=!0,h[h.length-1].transform.op._mdf=!0,h[h.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+s/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==G){for((0!==s&&1===v||s!==this._currentCopies-1&&-1===v)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5],ne[6],ne[7],ne[8],ne[9],ne[10],ne[11],ne[12],ne[13],ne[14],ne[15]),this.matrix.transform(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],j[8],j[9],j[10],j[11],j[12],j[13],j[14],j[15]),this.matrix.transform(q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],q[8],q[9],q[10],q[11],q[12],q[13],q[14],q[15]),B=0;B<V;B+=1)f[B]=this.matrix.props[B];this.matrix.reset()}else for(this.matrix.reset(),B=0;B<V;B+=1)f[B]=this.matrix.props[B];G+=1,y-=1,s+=v}}else for(y=this._currentCopies,s=0,v=1;y;)f=(h=this.elemsData[s].it)[h.length-1].transform.mProps.v.props,h[h.length-1].transform.mProps._mdf=!1,h[h.length-1].transform.op._mdf=!1,y-=1,s+=v;return I},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(c,h){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(c,h.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(c,h){var f=shapePool.newElement();f.c=c.c;var s,y,I,M,k,F,z,R,H,U,q,ne,j,v=c._length,Q=0;for(s=0;s<v;s+=1)I=c.i[s],(y=c.v[s])[0]===(M=c.o[s])[0]&&y[1]===M[1]&&y[0]===I[0]&&y[1]===I[1]?0!==s&&s!==v-1||c.c?(k=0===s?c.v[v-1]:c.v[s-1],z=(F=Math.sqrt(Math.pow(y[0]-k[0],2)+Math.pow(y[1]-k[1],2)))?Math.min(F/2,h)/F:0,f.setTripleAt(R=ne=y[0]+(k[0]-y[0])*z,H=j=y[1]-(y[1]-k[1])*z,R-(R-y[0])*roundCorner,H-(H-y[1])*roundCorner,ne,j,Q),Q+=1,k=s===v-1?c.v[0]:c.v[s+1],z=(F=Math.sqrt(Math.pow(y[0]-k[0],2)+Math.pow(y[1]-k[1],2)))?Math.min(F/2,h)/F:0,f.setTripleAt(R=U=y[0]+(k[0]-y[0])*z,H=q=y[1]+(k[1]-y[1])*z,U,q,ne=R-(R-y[0])*roundCorner,j=H-(H-y[1])*roundCorner,Q),Q+=1):(f.setTripleAt(y[0],y[1],M[0],M[1],I[0],I[1],Q),Q+=1):(f.setTripleAt(c.v[s][0],c.v[s][1],c.o[s][0],c.o[s][1],c.i[s][0],c.i[s][1],Q),Q+=1);return f},RoundCornersModifier.prototype.processShapes=function(c){var h,f,v,y,M,k,s=this.shapes.length,I=this.rd.v;if(0!==I)for(f=0;f<s;f+=1){if(k=(M=this.shapes[f]).localShapeCollection,M.shape._mdf||this._mdf||c)for(k.releaseShapes(),M.shape._mdf=!0,h=M.shape.paths.shapes,y=M.shape.paths._length,v=0;v<y;v+=1)k.addShape(this.processPath(h[v],I));M.shape.paths=M.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(c){return[((this.a[0]*c+this.b[0])*c+this.c[0])*c+this.d[0],((this.a[1]*c+this.b[1])*c+this.c[1])*c+this.d[1]]},PolynomialBezier.prototype.derivative=function(c){return[(3*c*this.a[0]+2*this.b[0])*c+this.c[0],(3*c*this.a[1]+2*this.b[1])*c+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(c){var h=this.derivative(c);return Math.atan2(h[1],h[0])},PolynomialBezier.prototype.normalAngle=function(c){var h=this.derivative(c);return Math.atan2(h[0],h[1])},PolynomialBezier.prototype.inflectionPoints=function(){var c=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(c))return[];var h=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/c,f=h*h-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/c;if(f<0)return[];var s=Math.sqrt(f);return floatZero(s)?s>0&&s<1?[h]:[]:[h-s,h+s].filter(function(v){return v>0&&v<1})},PolynomialBezier.prototype.split=function(c){if(c<=0)return[singlePoint(this.points[0]),this];if(c>=1)return[this,singlePoint(this.points[this.points.length-1])];var h=lerpPoint(this.points[0],this.points[1],c),f=lerpPoint(this.points[1],this.points[2],c),s=lerpPoint(this.points[2],this.points[3],c),v=lerpPoint(h,f,c),y=lerpPoint(f,s,c),I=lerpPoint(v,y,c);return[new PolynomialBezier(this.points[0],h,v,I,!0),new PolynomialBezier(I,y,s,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var c=this.bounds();return{left:c.x.min,right:c.x.max,top:c.y.min,bottom:c.y.max,width:c.x.max-c.x.min,height:c.y.max-c.y.min,cx:(c.x.max+c.x.min)/2,cy:(c.y.max+c.y.min)/2}},PolynomialBezier.prototype.intersections=function(c,h,f){void 0===h&&(h=2),void 0===f&&(f=7);var s=[];return intersectsImpl(intersectData(this,0,1),intersectData(c,0,1),0,h,s,f),s},PolynomialBezier.shapeSegment=function(c,h){var f=(h+1)%c.length();return new PolynomialBezier(c.v[h],c.o[h],c.i[f],c.v[f],!0)},PolynomialBezier.shapeSegmentInverted=function(c,h){var f=(h+1)%c.length();return new PolynomialBezier(c.v[f],c.i[f],c.o[h],c.v[h],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(c,h){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(c,h.s,0,null,this),this.frequency=PropertyFactory.getProp(c,h.r,0,null,this),this.pointsType=PropertyFactory.getProp(c,h.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(c,h,f,s){var v=c._length,y=shapePool.newElement();if(y.c=c.c,c.c||(v-=1),0===v)return y;var I=-1,M=PolynomialBezier.shapeSegment(c,0);zigZagCorner(y,c,0,h,f,s,I);for(var k=0;k<v;k+=1)I=zigZagSegment(y,M,h,f,s,-I),M=k!==v-1||c.c?PolynomialBezier.shapeSegment(c,(k+1)%v):null,zigZagCorner(y,c,k+1,h,f,s,I);return y},ZigZagModifier.prototype.processShapes=function(c){var h,f,v,y,F,z,s=this.shapes.length,I=this.amplitude.v,M=Math.max(0,Math.round(this.frequency.v)),k=this.pointsType.v;if(0!==I)for(f=0;f<s;f+=1){if(z=(F=this.shapes[f]).localShapeCollection,F.shape._mdf||this._mdf||c)for(z.releaseShapes(),F.shape._mdf=!0,h=F.shape.paths.shapes,y=F.shape.paths._length,v=0;v<y;v+=1)z.addShape(this.processPath(h[v],I,M,k));F.shape.paths=F.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(c,h){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(c,h.a,0,null,this),this.miterLimit=PropertyFactory.getProp(c,h.ml,0,null,this),this.lineJoin=h.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(c,h,f,s){var v=shapePool.newElement();v.c=c.c;var y=c.length();c.c||(y-=1);var I,M,k,F=[];for(I=0;I<y;I+=1)k=PolynomialBezier.shapeSegment(c,I),F.push(offsetSegmentSplit(k,h));if(!c.c)for(I=y-1;I>=0;I-=1)k=PolynomialBezier.shapeSegmentInverted(c,I),F.push(offsetSegmentSplit(k,h));F=pruneIntersections(F);var z=null,Q=null;for(I=0;I<F.length;I+=1){var R=F[I];for(Q&&(z=joinLines(v,Q,R[0],f,s)),Q=R[R.length-1],M=0;M<R.length;M+=1)k=R[M],z&&pointEqual(k.points[0],z)?v.setXYAt(k.points[1][0],k.points[1][1],"o",v.length()-1):v.setTripleAt(k.points[0][0],k.points[0][1],k.points[1][0],k.points[1][1],k.points[0][0],k.points[0][1],v.length()),v.setTripleAt(k.points[3][0],k.points[3][1],k.points[3][0],k.points[3][1],k.points[2][0],k.points[2][1],v.length()),z=k.points[3]}return F.length&&joinLines(v,Q,F[0][0],f,s),v},OffsetPathModifier.prototype.processShapes=function(c){var h,f,v,y,F,z,s=this.shapes.length,I=this.amount.v,M=this.miterLimit.v,k=this.lineJoin;if(0!==I)for(f=0;f<s;f+=1){if(z=(F=this.shapes[f]).localShapeCollection,F.shape._mdf||this._mdf||c)for(z.releaseShapes(),F.shape._mdf=!0,h=F.shape.paths.shapes,y=F.shape.paths._length,v=0;v<y;v+=1)z.addShape(this.processPath(h[v],I,k,M));F.shape.paths=F.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var h={w:0,size:0,shapes:[],data:{shapes:[]}},f=[];f=f.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var s=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],v=[65039,8205];function I(V,ee){var te=createTag("span");te.setAttribute("aria-hidden",!0),te.style.fontFamily=ee;var ie=createTag("span");ie.innerText="giItT1WQy@!-/#",te.style.position="absolute",te.style.left="-10000px",te.style.top="-10000px",te.style.fontSize="300px",te.style.fontVariant="normal",te.style.fontStyle="normal",te.style.fontWeight="normal",te.style.letterSpacing="0",te.appendChild(ie),document.body.appendChild(te);var ae=ie.offsetWidth;return ie.style.fontFamily=function y(V){var te,ee=V.split(","),ie=ee.length,ae=[];for(te=0;te<ie;te+=1)"sans-serif"!==ee[te]&&"monospace"!==ee[te]&&ae.push(ee[te]);return ae.join(",")}(V)+", "+ee,{node:ie,w:ae,parent:te}}function k(V,ee){var ie,te=document.body&&ee?"svg":"canvas",ae=getFontProperties(V);if("svg"===te){var he=createNS("text");he.style.fontSize="100px",he.setAttribute("font-family",V.fFamily),he.setAttribute("font-style",ae.style),he.setAttribute("font-weight",ae.weight),he.textContent="1",V.fClass?(he.style.fontFamily="inherit",he.setAttribute("class",V.fClass)):he.style.fontFamily=V.fFamily,ee.appendChild(he),ie=he}else{var Re=new OffscreenCanvas(500,500).getContext("2d");Re.font=ae.style+" "+ae.weight+" 100px "+V.fFamily,ie=Re}return{measureText:function De(Se){return"svg"===te?(ie.textContent=Se,ie.getComputedTextLength()):ie.measureText(Se).width}}}var G=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return G.isModifier=function U(V,ee){var te=V.toString(16)+ee.toString(16);return-1!==s.indexOf(te)},G.isZeroWidthJoiner=function q(V,ee){return ee?V===v[0]&&ee===v[1]:V===v[1]},G.isCombinedCharacter=function ne(V){return-1!==f.indexOf(V)},G.prototype={addChars:function z(V){if(V){this.chars||(this.chars=[]);var ee,ie,he,te=V.length,ae=this.chars.length;for(ee=0;ee<te;ee+=1){for(ie=0,he=!1;ie<ae;)this.chars[ie].style===V[ee].style&&this.chars[ie].fFamily===V[ee].fFamily&&this.chars[ie].ch===V[ee].ch&&(he=!0),ie+=1;he||(this.chars.push(V[ee]),ae+=1)}}},addFonts:function F(V,ee){if(V){if(this.chars)return this.isLoaded=!0,void(this.fonts=V.list);if(!document.body)return this.isLoaded=!0,V.list.forEach(function(pe){pe.helper=k(pe),pe.cache={}}),void(this.fonts=V.list);var ie,te=V.list,ae=te.length,he=ae;for(ie=0;ie<ae;ie+=1){var De,Se,Re=!0;if(te[ie].loaded=!1,te[ie].monoCase=I(te[ie].fFamily,"monospace"),te[ie].sansCase=I(te[ie].fFamily,"sans-serif"),te[ie].fPath){if("p"===te[ie].fOrigin||3===te[ie].origin){if((De=document.querySelectorAll('style[f-forigin="p"][f-family="'+te[ie].fFamily+'"], style[f-origin="3"][f-family="'+te[ie].fFamily+'"]')).length>0&&(Re=!1),Re){var _e=createTag("style");_e.setAttribute("f-forigin",te[ie].fOrigin),_e.setAttribute("f-origin",te[ie].origin),_e.setAttribute("f-family",te[ie].fFamily),_e.type="text/css",_e.innerText="@font-face {font-family: "+te[ie].fFamily+"; font-style: normal; src: url('"+te[ie].fPath+"');}",ee.appendChild(_e)}}else if("g"===te[ie].fOrigin||1===te[ie].origin){for(De=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Se=0;Se<De.length;Se+=1)-1!==De[Se].href.indexOf(te[ie].fPath)&&(Re=!1);if(Re){var $e=createTag("link");$e.setAttribute("f-forigin",te[ie].fOrigin),$e.setAttribute("f-origin",te[ie].origin),$e.type="text/css",$e.rel="stylesheet",$e.href=te[ie].fPath,document.body.appendChild($e)}}else if("t"===te[ie].fOrigin||2===te[ie].origin){for(De=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Se=0;Se<De.length;Se+=1)te[ie].fPath===De[Se].src&&(Re=!1);if(Re){var Te=createTag("link");Te.setAttribute("f-forigin",te[ie].fOrigin),Te.setAttribute("f-origin",te[ie].origin),Te.setAttribute("rel","stylesheet"),Te.setAttribute("href",te[ie].fPath),ee.appendChild(Te)}}}else te[ie].loaded=!0,he-=1;te[ie].helper=k(te[ie],ee),te[ie].cache={},this.fonts.push(te[ie])}0===he?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function Q(V,ee,te){for(var ie=0,ae=this.chars.length;ie<ae;){if(this.chars[ie].ch===V&&this.chars[ie].style===ee&&this.chars[ie].fFamily===te)return this.chars[ie];ie+=1}return("string"==typeof V&&13!==V.charCodeAt(0)||!V)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",V,ee,te)),h},getFontByName:function H(V){for(var ee=0,te=this.fonts.length;ee<te;){if(this.fonts[ee].fName===V)return this.fonts[ee];ee+=1}return this.fonts[0]},measureText:function R(V,ee,te){var ie=this.getFontByName(ee),ae=V.charCodeAt(0);if(!ie.cache[ae+1]){var he=ie.helper;if(" "===V){var Re=he.measureText("|"+V+"|"),De=he.measureText("||");ie.cache[ae+1]=(Re-De)/100}else ie.cache[ae+1]=he.measureText(V)/100}return ie.cache[ae+1]*te},checkLoadedFonts:function M(){var V,ee=this.fonts.length,ae=ee;for(V=0;V<ee;V+=1)this.fonts[V].loaded?ae-=1:"n"===this.fonts[V].fOrigin||0===this.fonts[V].origin?this.fonts[V].loaded=!0:((this.fonts[V].monoCase.node.offsetWidth!==this.fonts[V].monoCase.w||this.fonts[V].sansCase.node.offsetWidth!==this.fonts[V].sansCase.w)&&(ae-=1,this.fonts[V].loaded=!0),this.fonts[V].loaded&&(this.fonts[V].sansCase.parent.parentNode.removeChild(this.fonts[V].sansCase.parent),this.fonts[V].monoCase.parent.parentNode.removeChild(this.fonts[V].monoCase.parent)));0!==ae&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function j(){this.isLoaded=!0}},G}();function SlotManager(c){this.animationData=c}function slotFactory(c){return new SlotManager(c)}function RenderableElement(){}SlotManager.prototype.getProp=function(c){return this.animationData.slots&&this.animationData.slots[c.sid]?Object.assign(c,this.animationData.slots[c.sid].p):c},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(h){-1===this.renderableComponents.indexOf(h)&&this.renderableComponents.push(h)},removeRenderableComponent:function(h){-1!==this.renderableComponents.indexOf(h)&&this.renderableComponents.splice(this.renderableComponents.indexOf(h),1)},prepareRenderableFrame:function(h){this.checkLayerLimits(h)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(h){this.data.ip-this.data.st<=h&&this.data.op-this.data.st>h?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var h,f=this.renderableComponents.length;for(h=0;h<f;h+=1)this.renderableComponents[h].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var c={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(h){return c[h]||""}}();function SliderEffect(c,h,f){this.p=PropertyFactory.getProp(h,c.v,0,0,f)}function AngleEffect(c,h,f){this.p=PropertyFactory.getProp(h,c.v,0,0,f)}function ColorEffect(c,h,f){this.p=PropertyFactory.getProp(h,c.v,1,0,f)}function PointEffect(c,h,f){this.p=PropertyFactory.getProp(h,c.v,1,0,f)}function LayerIndexEffect(c,h,f){this.p=PropertyFactory.getProp(h,c.v,0,0,f)}function MaskIndexEffect(c,h,f){this.p=PropertyFactory.getProp(h,c.v,0,0,f)}function CheckboxEffect(c,h,f){this.p=PropertyFactory.getProp(h,c.v,0,0,f)}function NoValueEffect(){this.p={}}function EffectsManager(c,h){var f=c.ef||[];this.effectElements=[];var s,y,v=f.length;for(s=0;s<v;s+=1)y=new GroupEffect(f[s],h),this.effectElements.push(y)}function GroupEffect(c,h){this.init(c,h)}function BaseElement(){}function FrameElement(){}function FootageElement(c,h,f){this.initFrame(),this.initRenderable(),this.assetData=h.getAssetData(c.refId),this.footageData=h.imageLoader.getAsset(this.assetData),this.initBaseData(c,h,f)}function AudioElement(c,h,f){this.initFrame(),this.initRenderable(),this.assetData=h.getAssetData(c.refId),this.initBaseData(c,h,f),this._isPlaying=!1,this._canPlay=!1;var s=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(s),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=c.tm?PropertyFactory.getProp(this,c.tm,0,h.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,c.au&&c.au.lv?c.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(c,h,f){this.data=c,this.element=h,this.globalData=f,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var v,s=this.globalData.defs,y=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(y),this.solidPath="";var I,z,Q,H,U,q,ne,M=this.masksProperties,k=0,F=[],R=createElementID(),j="clipPath",G="clip-path";for(v=0;v<y;v+=1)if(("a"!==M[v].mode&&"n"!==M[v].mode||M[v].inv||100!==M[v].o.k||M[v].o.x)&&(j="mask",G="mask"),"s"!==M[v].mode&&"i"!==M[v].mode||0!==k?H=null:((H=createNS("rect")).setAttribute("fill","#ffffff"),H.setAttribute("width",this.element.comp.data.w||0),H.setAttribute("height",this.element.comp.data.h||0),F.push(H)),I=createNS("path"),"n"===M[v].mode)this.viewData[v]={op:PropertyFactory.getProp(this.element,M[v].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,M[v],3),elem:I,lastPath:""},s.appendChild(I);else{var B;if(k+=1,I.setAttribute("fill","s"===M[v].mode?"#000000":"#ffffff"),I.setAttribute("clip-rule","nonzero"),0!==M[v].x.k?(j="mask",G="mask",ne=PropertyFactory.getProp(this.element,M[v].x,0,null,this.element),B=createElementID(),(U=createNS("filter")).setAttribute("id",B),(q=createNS("feMorphology")).setAttribute("operator","erode"),q.setAttribute("in","SourceGraphic"),q.setAttribute("radius","0"),U.appendChild(q),s.appendChild(U),I.setAttribute("stroke","s"===M[v].mode?"#000000":"#ffffff")):(q=null,ne=null),this.storedData[v]={elem:I,x:ne,expan:q,lastPath:"",lastOperator:"",filterId:B,lastRadius:0},"i"===M[v].mode){Q=F.length;var V=createNS("g");for(z=0;z<Q;z+=1)V.appendChild(F[z]);var ee=createNS("mask");ee.setAttribute("mask-type","alpha"),ee.setAttribute("id",R+"_"+k),ee.appendChild(I),s.appendChild(ee),V.setAttribute("mask","url("+getLocationHref()+"#"+R+"_"+k+")"),F.length=0,F.push(V)}else F.push(I);M[v].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[v]={elem:I,lastPath:"",op:PropertyFactory.getProp(this.element,M[v].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,M[v],3),invRect:H},this.viewData[v].prop.k||this.drawPath(M[v],this.viewData[v].prop.v,this.viewData[v])}for(this.maskElement=createNS(j),y=F.length,v=0;v<y;v+=1)this.maskElement.appendChild(F[v]);k>0&&(this.maskElement.setAttribute("id",R),this.element.maskedElement.setAttribute(G,"url("+getLocationHref()+"#"+R+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(c,h){this.data=c,this.effectElements=[],this.initDynamicPropertyContainer(h);var f,v,s=this.data.ef.length,y=this.data.ef;for(f=0;f<s;f+=1){switch(v=null,y[f].ty){case 0:v=new SliderEffect(y[f],h,this);break;case 1:v=new AngleEffect(y[f],h,this);break;case 2:v=new ColorEffect(y[f],h,this);break;case 3:v=new PointEffect(y[f],h,this);break;case 4:case 7:v=new CheckboxEffect(y[f],h,this);break;case 10:v=new LayerIndexEffect(y[f],h,this);break;case 11:v=new MaskIndexEffect(y[f],h,this);break;case 5:v=new EffectsManager(y[f],h,this);break;default:v=new NoValueEffect(y[f],h,this)}v&&this.effectElements.push(v)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var h=0,f=this.data.masksProperties.length;h<f;){if("n"!==this.data.masksProperties[h].mode&&!1!==this.data.masksProperties[h].cl)return!0;h+=1}return!1},initExpressions:function(){var h=getExpressionInterfaces();if(h){var f=h("layer"),s=h("effects"),v=h("shape"),y=h("text"),I=h("comp");this.layerInterface=f(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var M=s.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(M),0===this.data.ty||this.data.xt?this.compInterface=I(this):4===this.data.ty?(this.layerInterface.shapeInterface=v(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=y(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var h=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=h},initBaseData:function(h,f,s){this.globalData=f,this.comp=s,this.data=h,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(h,f){var s,v=this.dynamicProperties.length;for(s=0;s<v;s+=1)(f||this._isParent&&"transform"===this.dynamicProperties[s].propType)&&(this.dynamicProperties[s].getValue(),this.dynamicProperties[s]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(h){-1===this.dynamicProperties.indexOf(h)&&this.dynamicProperties.push(h)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var c=getExpressionInterfaces();if(c){var h=c("footage");this.layerInterface=h(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(c){this.prepareRenderableFrame(c,!0),this.prepareProperties(c,!0),this._currentTime=this.tm._placeholder?c/this.data.sr:this.tm.v,this._volume=this.lv.v[0];var f=this._volume*this._volumeMultiplier;this._previousVolume!==f&&(this._previousVolume=f,this.audio.volume(f))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(c){this.audio.rate(c)},AudioElement.prototype.volume=function(c){this._volumeMultiplier=c,this._previousVolume=c*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(c){var h,s,f=this.layers.length;for(this.completeLayers=!0,h=f-1;h>=0;h-=1)this.elements[h]||(s=this.layers[h]).ip-s.st<=c-this.layers[h].st&&s.op-s.st>c-this.layers[h].st&&this.buildItem(h),this.completeLayers=!!this.elements[h]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(c){switch(c.ty){case 2:return this.createImage(c);case 0:return this.createComp(c);case 1:return this.createSolid(c);case 3:default:return this.createNull(c);case 4:return this.createShape(c);case 5:return this.createText(c);case 6:return this.createAudio(c);case 13:return this.createCamera(c);case 15:return this.createFootage(c)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(c){return new AudioElement(c,this.globalData,this)},BaseRenderer.prototype.createFootage=function(c){return new FootageElement(c,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var c,h=this.layers.length;for(c=0;c<h;c+=1)this.buildItem(c);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(c){this.completeLayers=!1;var h,s,f=c.length,v=this.layers.length;for(h=0;h<f;h+=1)for(s=0;s<v;){if(this.layers[s].id===c[h].id){this.layers[s]=c[h];break}s+=1}},BaseRenderer.prototype.setProjectInterface=function(c){this.globalData.projectInterface=c},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(c,h,f){for(var s=this.elements,v=this.layers,y=0,I=v.length;y<I;)v[y].ind==h&&(s[y]&&!0!==s[y]?(f.push(s[y]),s[y].setAsParent(),void 0!==v[y].parent?this.buildElementParenting(c,v[y].parent,f):c.setHierarchy(f)):(this.buildItem(y),this.addPendingElement(c))),y+=1},BaseRenderer.prototype.addPendingElement=function(c){this.pendingElements.push(c)},BaseRenderer.prototype.searchExtraCompositions=function(c){var h,f=c.length;for(h=0;h<f;h+=1)if(c[h].xt){var s=this.createComp(c[h]);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},BaseRenderer.prototype.getElementById=function(c){var h,f=this.elements.length;for(h=0;h<f;h+=1)if(this.elements[h].data.ind===c)return this.elements[h];return null},BaseRenderer.prototype.getElementByPath=function(c){var f,h=c.shift();if("number"==typeof h)f=this.elements[h];else{var s,v=this.elements.length;for(s=0;s<v;s+=1)if(this.elements[s].data.nm===h){f=this.elements[s];break}}return 0===c.length?f:f.getElementByPath(c)},BaseRenderer.prototype.setupGlobalData=function(c,h){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(c),this.globalData.fontManager.addChars(c.chars),this.globalData.fontManager.addFonts(c.fonts,h),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=c.fr,this.globalData.nm=c.nm,this.globalData.compSize={w:c.w,h:c.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var h,f=this.finalTransform.mat,s=0,v=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;s<v;){if(this.hierarchy[s].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}s+=1}if(this.finalTransform._matMdf)for(f.cloneFromProps(h=this.finalTransform.mProp.v.props),s=0;s<v;s+=1)f.transform((h=this.hierarchy[s].finalTransform.mProp.v.props)[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])}},globalToLocal:function(h){var f=[];f.push(this.finalTransform);for(var s=!0,v=this.comp;s;)v.finalTransform?(v.data.hasMask&&f.splice(0,0,v.finalTransform),v=v.comp):s=!1;var y,M,I=f.length;for(y=0;y<I;y+=1)M=f[y].mat.applyToPointArray(0,0,0),h=[h[0]-M[0],h[1]-M[1],0];return h},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(c){return this.viewData[c].prop},MaskElement.prototype.renderFrame=function(c){var f,h=this.element.finalTransform.mat,s=this.masksProperties.length;for(f=0;f<s;f+=1)if((this.viewData[f].prop._mdf||c)&&this.drawPath(this.masksProperties[f],this.viewData[f].prop.v,this.viewData[f]),(this.viewData[f].op._mdf||c)&&this.viewData[f].elem.setAttribute("fill-opacity",this.viewData[f].op.v),"n"!==this.masksProperties[f].mode&&(this.viewData[f].invRect&&(this.element.finalTransform.mProp._mdf||c)&&this.viewData[f].invRect.setAttribute("transform",h.getInverseMatrix().to2dCSS()),this.storedData[f].x&&(this.storedData[f].x._mdf||c))){var v=this.storedData[f].expan;this.storedData[f].x.v<0?("erode"!==this.storedData[f].lastOperator&&(this.storedData[f].lastOperator="erode",this.storedData[f].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[f].filterId+")")),v.setAttribute("radius",-this.storedData[f].x.v)):("dilate"!==this.storedData[f].lastOperator&&(this.storedData[f].lastOperator="dilate",this.storedData[f].elem.setAttribute("filter",null)),this.storedData[f].elem.setAttribute("stroke-width",2*this.storedData[f].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var c="M0,0 ";return c+=" h"+this.globalData.compSize.w,c+=" v"+this.globalData.compSize.h,(c+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(c,h,f){var v,y,s=" M"+h.v[0][0]+","+h.v[0][1];for(y=h._length,v=1;v<y;v+=1)s+=" C"+h.o[v-1][0]+","+h.o[v-1][1]+" "+h.i[v][0]+","+h.i[v][1]+" "+h.v[v][0]+","+h.v[v][1];if(h.c&&y>1&&(s+=" C"+h.o[v-1][0]+","+h.o[v-1][1]+" "+h.i[0][0]+","+h.i[0][1]+" "+h.v[0][0]+","+h.v[0][1]),f.lastPath!==s){var I="";f.elem&&(h.c&&(I=c.inv?this.solidPath+s:s),f.elem.setAttribute("d",I)),f.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var c={createFilter:function h(s,v){var y=createNS("filter");return y.setAttribute("id",s),!0!==v&&(y.setAttribute("filterUnits","objectBoundingBox"),y.setAttribute("x","0%"),y.setAttribute("y","0%"),y.setAttribute("width","100%"),y.setAttribute("height","100%")),y},createAlphaToLuminanceFilter:function f(){var s=createNS("feColorMatrix");return s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),s}};return c}(),featureSupport=function(){var c={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(c.maskType=!1),/firefox/i.test(navigator.userAgent)&&(c.svgLumaHidden=!1),c}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(c){var h,M,f="SourceGraphic",s=c.data.ef?c.data.ef.length:0,v=createElementID(),y=filtersFactory.createFilter(v,!0),I=0;for(this.filters=[],h=0;h<s;h+=1){M=null;var k=c.data.ef[h].ty;registeredEffects[k]&&(M=new(0,registeredEffects[k].effect)(y,c.effectsManager.effectElements[h],c,idPrefix+I,f),f=idPrefix+I,registeredEffects[k].countsAsEffect&&(I+=1)),M&&this.filters.push(M)}I&&(c.globalData.defs.appendChild(y),c.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+v+")")),this.filters.length&&c.addRenderableComponent(this)}function registerEffect(c,h,f){registeredEffects[c]={effect:h,countsAsEffect:f}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(c,h,f){this.assetData=h.getAssetData(c.refId),this.assetData&&this.assetData.sid&&(this.assetData=h.slotManager.getProp(this.assetData)),this.initElement(c,h,f),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(c,h){this.elem=c,this.pos=h}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(c){var h,f=this.filters.length;for(h=0;h<f;h+=1)this.filters[h].renderFrame(c)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var h=null;if(this.data.td){this.matteMasks={};var f=createNS("g");f.setAttribute("id",this.layerId),f.appendChild(this.layerElement),h=f,this.globalData.defs.appendChild(f)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),h=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var s=createNS("clipPath"),v=createNS("path");v.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var y=createElementID();if(s.setAttribute("id",y),s.appendChild(v),this.globalData.defs.appendChild(s),this.checkMasks()){var I=createNS("g");I.setAttribute("clip-path","url("+getLocationHref()+"#"+y+")"),I.appendChild(this.layerElement),this.transformedElement=I,h?h.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+y+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},getMatte:function(h){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[h]){var s,v,y,I,f=this.layerId+"_"+h;if(1===h||3===h){var M=createNS("mask");M.setAttribute("id",f),M.setAttribute("mask-type",3===h?"luminance":"alpha"),(y=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),M.appendChild(y),this.globalData.defs.appendChild(M),!featureSupport.maskType&&1===h&&(M.setAttribute("mask-type","luminance"),s=createElementID(),v=filtersFactory.createFilter(s),this.globalData.defs.appendChild(v),v.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(I=createNS("g")).appendChild(y),M.appendChild(I),I.setAttribute("filter","url("+getLocationHref()+"#"+s+")"))}else if(2===h){var k=createNS("mask");k.setAttribute("id",f),k.setAttribute("mask-type","alpha");var F=createNS("g");k.appendChild(F),s=createElementID(),v=filtersFactory.createFilter(s);var z=createNS("feComponentTransfer");z.setAttribute("in","SourceGraphic"),v.appendChild(z);var Q=createNS("feFuncA");Q.setAttribute("type","table"),Q.setAttribute("tableValues","1.0 0.0"),z.appendChild(Q),this.globalData.defs.appendChild(v);var R=createNS("rect");R.setAttribute("width",this.comp.data.w),R.setAttribute("height",this.comp.data.h),R.setAttribute("x","0"),R.setAttribute("y","0"),R.setAttribute("fill","#ffffff"),R.setAttribute("opacity","0"),F.setAttribute("filter","url("+getLocationHref()+"#"+s+")"),F.appendChild(R),(y=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),F.appendChild(y),featureSupport.maskType||(k.setAttribute("mask-type","luminance"),v.appendChild(filtersFactory.createAlphaToLuminanceFilter()),I=createNS("g"),F.appendChild(R),I.appendChild(this.layerElement),F.appendChild(I)),this.globalData.defs.appendChild(k)}this.matteMasks[h]=f}return this.matteMasks[h]},setMatte:function(h){!this.matteElement||this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+h+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(h){this.hierarchy=h},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(f,s,v){this.initFrame(),this.initBaseData(f,s,v),this.initTransform(f,s,v),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(f){this._mdf=!1,this.prepareRenderableFrame(f),this.prepareProperties(f,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var c=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",c),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(h){var f,s=this.shapeModifiers.length;for(f=0;f<s;f+=1)this.shapeModifiers[f].addShape(h)},isShapeInAnimatedModifiers:function(h){for(var s=this.shapeModifiers.length;0<s;)if(this.shapeModifiers[0].isAnimatedWithShape(h))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var h,f=this.shapes.length;for(h=0;h<f;h+=1)this.shapes[h].sh.reset();for(h=(f=this.shapeModifiers.length)-1;h>=0&&!this.shapeModifiers[h].processShapes(this._isFirstFrame);h-=1);}},searchProcessedElement:function(h){for(var f=this.processedElements,s=0,v=f.length;s<v;){if(f[s].elem===h)return f[s].pos;s+=1}return 0},addProcessedElement:function(h,f){for(var s=this.processedElements,v=s.length;v;)if(s[v-=1].elem===h)return void(s[v].pos=f);s.push(new ProcessedElement(h,f))},prepareFrame:function(h){this.prepareRenderableFrame(h),this.prepareProperties(h,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(c,h,f){this.caches=[],this.styles=[],this.transformers=c,this.lStr="",this.sh=f,this.lvl=h,this._isAnimated=!!f.k;for(var s=0,v=c.length;s<v;){if(c[s].mProps.dynamicProperties.length){this._isAnimated=!0;break}s+=1}}function SVGStyleData(c,h){this.data=c,this.type=c.ty,this.d="",this.lvl=h,this._mdf=!1,this.closed=!0===c.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(c,h,f,s){this.elem=c,this.frameId=-1,this.dataProps=createSizedArray(h.length),this.renderer=f,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",h.length?h.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(s);var v,I,y=h.length||0;for(v=0;v<y;v+=1)I=PropertyFactory.getProp(c,h[v].v,0,0,this),this.k=I.k||this.k,this.dataProps[v]={n:h[v].n,p:I};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(c,h,f){this.initDynamicPropertyContainer(c),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(c,h.o,0,.01,this),this.w=PropertyFactory.getProp(c,h.w,0,null,this),this.d=new DashProperty(c,h.d||{},"svg",this),this.c=PropertyFactory.getProp(c,h.c,1,255,this),this.style=f,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(c,h,f){this.initDynamicPropertyContainer(c),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(c,h.o,0,.01,this),this.c=PropertyFactory.getProp(c,h.c,1,255,this),this.style=f}function SVGNoStyleData(c,h,f){this.initDynamicPropertyContainer(c),this.getValue=this.iterateDynamicProperties,this.style=f}function GradientProperty(c,h,f){this.data=h,this.c=createTypedArray("uint8c",4*h.p);var s=h.k.k[0].s?h.k.k[0].s.length-4*h.p:h.k.k.length-4*h.p;this.o=createTypedArray("float32",s),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=s,this.initDynamicPropertyContainer(f),this.prop=PropertyFactory.getProp(c,h.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(c,h,f){this.initDynamicPropertyContainer(c),this.getValue=this.iterateDynamicProperties,this.initGradientData(c,h,f)}function SVGGradientStrokeStyleData(c,h,f){this.initDynamicPropertyContainer(c),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(c,h.w,0,null,this),this.d=new DashProperty(c,h.d||{},"svg",this),this.initGradientData(c,h,f),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(c,h,f){this.transform={mProps:c,op:h,container:f},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(c){if((this.elem.globalData.frameId!==this.frameId||c)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||c,this._mdf)){var h=0,f=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),h=0;h<f;h+=1)"o"!==this.dataProps[h].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[h].p.v:this.dashArray[h]=this.dataProps[h].p.v:this.dashoffset[0]=this.dataProps[h].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(c,h){for(var f=0,s=this.o.length/2;f<s;){if(Math.abs(c[4*f]-c[4*h+2*f])>.01)return!1;f+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var c=0,h=this.data.k.k.length;c<h;){if(!this.comparePoints(this.data.k.k[c].s,this.data.p))return!1;c+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(c){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||c){var h,s,v,f=4*this.data.p;for(h=0;h<f;h+=1)s=h%4==0?100:255,v=Math.round(this.prop.v[h]*s),this.c[h]!==v&&(this.c[h]=v,this._cmdf=!c);if(this.o.length)for(f=this.prop.v.length,h=4*this.data.p;h<f;h+=1)s=h%2==0?100:1,v=h%2==0?Math.round(100*this.prop.v[h]):this.prop.v[h],this.o[h-4*this.data.p]!==v&&(this.o[h-4*this.data.p]=v,this._omdf=!c);this._mdf=!c}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(c,h,f){this.o=PropertyFactory.getProp(c,h.o,0,.01,this),this.s=PropertyFactory.getProp(c,h.s,1,null,this),this.e=PropertyFactory.getProp(c,h.e,1,null,this),this.h=PropertyFactory.getProp(c,h.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(c,h.a||{k:0},0,degToRads,this),this.g=new GradientProperty(c,h.g,this),this.style=f,this.stops=[],this.setGradientData(f.pElem,h),this.setGradientOpacity(h,f),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(c,h){var f=createElementID(),s=createNS(1===h.t?"linearGradient":"radialGradient");s.setAttribute("id",f),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse");var y,I,M,v=[];for(M=4*h.g.p,I=0;I<M;I+=4)y=createNS("stop"),s.appendChild(y),v.push(y);c.setAttribute("gf"===h.ty?"fill":"stroke","url("+getLocationHref()+"#"+f+")"),this.gf=s,this.cst=v},SVGGradientFillStyleData.prototype.setGradientOpacity=function(c,h){if(this.g._hasOpacity&&!this.g._collapsable){var f,s,v,y=createNS("mask"),I=createNS("path");y.appendChild(I);var M=createElementID(),k=createElementID();y.setAttribute("id",k);var F=createNS(1===c.t?"linearGradient":"radialGradient");F.setAttribute("id",M),F.setAttribute("spreadMethod","pad"),F.setAttribute("gradientUnits","userSpaceOnUse"),v=c.g.k.k[0].s?c.g.k.k[0].s.length:c.g.k.k.length;var z=this.stops;for(s=4*c.g.p;s<v;s+=2)(f=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),F.appendChild(f),z.push(f);I.setAttribute("gf"===c.ty?"fill":"stroke","url("+getLocationHref()+"#"+M+")"),"gs"===c.ty&&(I.setAttribute("stroke-linecap",lineCapEnum[c.lc||2]),I.setAttribute("stroke-linejoin",lineJoinEnum[c.lj||2]),1===c.lj&&I.setAttribute("stroke-miterlimit",c.ml)),this.of=F,this.ms=y,this.ost=z,this.maskId=k,h.msElem=I}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(h,f,s,v){if(0===f)return"";var k,y=h.o,I=h.i,M=h.v,F=" M"+v.applyToPointStringified(M[0][0],M[0][1]);for(k=1;k<f;k+=1)F+=" C"+v.applyToPointStringified(y[k-1][0],y[k-1][1])+" "+v.applyToPointStringified(I[k][0],I[k][1])+" "+v.applyToPointStringified(M[k][0],M[k][1]);return s&&f&&(F+=" C"+v.applyToPointStringified(y[k-1][0],y[k-1][1])+" "+v.applyToPointStringified(I[0][0],I[0][1])+" "+v.applyToPointStringified(M[0][0],M[0][1]),F+="z"),F},SVGElementsRenderer=function(){var c=new Matrix,h=new Matrix;function v(Q,R,H){(H||R.transform.op._mdf)&&R.transform.container.setAttribute("opacity",R.transform.op.v),(H||R.transform.mProps._mdf)&&R.transform.container.setAttribute("transform",R.transform.mProps.v.to2dCSS())}function y(){}function I(Q,R,H){var U,q,ne,j,G,B,te,ie,ae,he,Re,V=R.styles.length,ee=R.lvl;for(B=0;B<V;B+=1){if(j=R.sh._mdf||H,R.styles[B].lvl<ee){for(ie=h.reset(),he=ee-R.styles[B].lvl,Re=R.transformers.length-1;!j&&he>0;)j=R.transformers[Re].mProps._mdf||j,he-=1,Re-=1;if(j)for(he=ee-R.styles[B].lvl,Re=R.transformers.length-1;he>0;)ie.transform((ae=R.transformers[Re].mProps.v.props)[0],ae[1],ae[2],ae[3],ae[4],ae[5],ae[6],ae[7],ae[8],ae[9],ae[10],ae[11],ae[12],ae[13],ae[14],ae[15]),he-=1,Re-=1}else ie=c;if(q=(te=R.sh.paths)._length,j){for(ne="",U=0;U<q;U+=1)(G=te.shapes[U])&&G._length&&(ne+=buildShapeString(G,G._length,G.c,ie));R.caches[B]=ne}else ne=R.caches[B];R.styles[B].d+=!0===Q.hd?"":ne,R.styles[B]._mdf=j||R.styles[B]._mdf}}function M(Q,R,H){var U=R.style;(R.c._mdf||H)&&U.pElem.setAttribute("fill","rgb("+bmFloor(R.c.v[0])+","+bmFloor(R.c.v[1])+","+bmFloor(R.c.v[2])+")"),(R.o._mdf||H)&&U.pElem.setAttribute("fill-opacity",R.o.v)}function k(Q,R,H){F(Q,R,H),z(0,R,H)}function F(Q,R,H){var ee,te,ie,ae,De,U=R.gf,q=R.g._hasOpacity,ne=R.s.v,j=R.e.v;if((R.o._mdf||H)&&R.style.pElem.setAttribute("gf"===Q.ty?"fill-opacity":"stroke-opacity",R.o.v),R.s._mdf||H){var B=1===Q.t?"x1":"cx",V="x1"===B?"y1":"cy";U.setAttribute(B,ne[0]),U.setAttribute(V,ne[1]),q&&!R.g._collapsable&&(R.of.setAttribute(B,ne[0]),R.of.setAttribute(V,ne[1]))}if(R.g._cmdf||H){var he=R.g.c;for(ie=(ee=R.cst).length,te=0;te<ie;te+=1)(ae=ee[te]).setAttribute("offset",he[4*te]+"%"),ae.setAttribute("stop-color","rgb("+he[4*te+1]+","+he[4*te+2]+","+he[4*te+3]+")")}if(q&&(R.g._omdf||H)){var Re=R.g.o;for(ie=(ee=R.g._collapsable?R.cst:R.ost).length,te=0;te<ie;te+=1)ae=ee[te],R.g._collapsable||ae.setAttribute("offset",Re[2*te]+"%"),ae.setAttribute("stop-opacity",Re[2*te+1])}if(1===Q.t)(R.e._mdf||H)&&(U.setAttribute("x2",j[0]),U.setAttribute("y2",j[1]),q&&!R.g._collapsable&&(R.of.setAttribute("x2",j[0]),R.of.setAttribute("y2",j[1])));else if((R.s._mdf||R.e._mdf||H)&&(De=Math.sqrt(Math.pow(ne[0]-j[0],2)+Math.pow(ne[1]-j[1],2)),U.setAttribute("r",De),q&&!R.g._collapsable&&R.of.setAttribute("r",De)),R.e._mdf||R.h._mdf||R.a._mdf||H){De||(De=Math.sqrt(Math.pow(ne[0]-j[0],2)+Math.pow(ne[1]-j[1],2)));var Se=Math.atan2(j[1]-ne[1],j[0]-ne[0]),_e=R.h.v;_e>=1?_e=.99:_e<=-1&&(_e=-.99);var $e=De*_e,Te=Math.cos(Se+R.a.v)*$e+ne[0],pe=Math.sin(Se+R.a.v)*$e+ne[1];U.setAttribute("fx",Te),U.setAttribute("fy",pe),q&&!R.g._collapsable&&(R.of.setAttribute("fx",Te),R.of.setAttribute("fy",pe))}}function z(Q,R,H){var U=R.style,q=R.d;q&&(q._mdf||H)&&q.dashStr&&(U.pElem.setAttribute("stroke-dasharray",q.dashStr),U.pElem.setAttribute("stroke-dashoffset",q.dashoffset[0])),R.c&&(R.c._mdf||H)&&U.pElem.setAttribute("stroke","rgb("+bmFloor(R.c.v[0])+","+bmFloor(R.c.v[1])+","+bmFloor(R.c.v[2])+")"),(R.o._mdf||H)&&U.pElem.setAttribute("stroke-opacity",R.o.v),(R.w._mdf||H)&&(U.pElem.setAttribute("stroke-width",R.w.v),U.msElem&&U.msElem.setAttribute("stroke-width",R.w.v))}return{createRenderFunction:function s(Q){switch(Q.ty){case"fl":return M;case"gf":return F;case"gs":return k;case"st":return z;case"sh":case"el":case"rc":case"sr":return I;case"tr":return v;case"no":return y;default:return null}}}}();function SVGShapeElement(c,h,f){this.shapes=[],this.shapesData=c.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(c,h,f),this.prevViewData=[]}function LetterProps(c,h,f,s,v,y){this.o=c,this.sw=h,this.sc=f,this.fc=s,this.m=v,this.p=y,this._mdf={o:!0,sw:!!h,sc:!!f,fc:!!s,m:!0,p:!0}}function TextProperty(c,h){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,h.d&&h.d.sid&&(h.d=c.globalData.slotManager.getProp(h.d)),this.data=h,this.elem=c,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var c,f,s,y,h=this.shapes.length,v=this.stylesList.length,I=[],M=!1;for(s=0;s<v;s+=1){for(y=this.stylesList[s],M=!1,I.length=0,c=0;c<h;c+=1)-1!==(f=this.shapes[c]).styles.indexOf(y)&&(I.push(f),M=f._isAnimated||M);I.length>1&&M&&this.setShapesAsAnimated(I)}},SVGShapeElement.prototype.setShapesAsAnimated=function(c){var h,f=c.length;for(h=0;h<f;h+=1)c[h].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(c,h){var f,s=new SVGStyleData(c,h),v=s.pElem;return"st"===c.ty?f=new SVGStrokeStyleData(this,c,s):"fl"===c.ty?f=new SVGFillStyleData(this,c,s):"gf"===c.ty||"gs"===c.ty?(f=new("gf"===c.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,c,s),this.globalData.defs.appendChild(f.gf),f.maskId&&(this.globalData.defs.appendChild(f.ms),this.globalData.defs.appendChild(f.of),v.setAttribute("mask","url("+getLocationHref()+"#"+f.maskId+")"))):"no"===c.ty&&(f=new SVGNoStyleData(this,c,s)),("st"===c.ty||"gs"===c.ty)&&(v.setAttribute("stroke-linecap",lineCapEnum[c.lc||2]),v.setAttribute("stroke-linejoin",lineJoinEnum[c.lj||2]),v.setAttribute("fill-opacity","0"),1===c.lj&&v.setAttribute("stroke-miterlimit",c.ml)),2===c.r&&v.setAttribute("fill-rule","evenodd"),c.ln&&v.setAttribute("id",c.ln),c.cl&&v.setAttribute("class",c.cl),c.bm&&(v.style["mix-blend-mode"]=getBlendMode(c.bm)),this.stylesList.push(s),this.addToAnimatedContents(c,f),f},SVGShapeElement.prototype.createGroupElement=function(c){var h=new ShapeGroupData;return c.ln&&h.gr.setAttribute("id",c.ln),c.cl&&h.gr.setAttribute("class",c.cl),c.bm&&(h.gr.style["mix-blend-mode"]=getBlendMode(c.bm)),h},SVGShapeElement.prototype.createTransformElement=function(c,h){var f=TransformPropertyFactory.getTransformProperty(this,c,this),s=new SVGTransformData(f,f.o,h);return this.addToAnimatedContents(c,s),s},SVGShapeElement.prototype.createShapeElement=function(c,h,f){var s=4;"rc"===c.ty?s=5:"el"===c.ty?s=6:"sr"===c.ty&&(s=7);var y=new SVGShapeData(h,f,ShapePropertyFactory.getShapeProp(this,c,s,this));return this.shapes.push(y),this.addShapeToModifiers(y),this.addToAnimatedContents(c,y),y},SVGShapeElement.prototype.addToAnimatedContents=function(c,h){for(var f=0,s=this.animatedContents.length;f<s;){if(this.animatedContents[f].element===h)return;f+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(c),element:h,data:c})},SVGShapeElement.prototype.setElementStyles=function(c){var f,h=c.styles,s=this.stylesList.length;for(f=0;f<s;f+=1)this.stylesList[f].closed||h.push(this.stylesList[f])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var c,h=this.itemsData.length;for(c=0;c<h;c+=1)this.prevViewData[c]=this.itemsData[c];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),h=this.dynamicProperties.length,c=0;c<h;c+=1)this.dynamicProperties[c].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(c,h,f,s,v,y,I){var k,z,Q,q,ne,M=[].concat(y),F=c.length-1,R=[],H=[];for(k=F;k>=0;k-=1){if((ne=this.searchProcessedElement(c[k]))?h[k]=f[ne-1]:c[k]._render=I,"fl"===c[k].ty||"st"===c[k].ty||"gf"===c[k].ty||"gs"===c[k].ty||"no"===c[k].ty)ne?h[k].style.closed=!1:h[k]=this.createStyleElement(c[k],v),c[k]._render&&h[k].style.pElem.parentNode!==s&&s.appendChild(h[k].style.pElem),R.push(h[k].style);else if("gr"===c[k].ty){if(ne)for(Q=h[k].it.length,z=0;z<Q;z+=1)h[k].prevViewData[z]=h[k].it[z];else h[k]=this.createGroupElement(c[k]);this.searchShapes(c[k].it,h[k].it,h[k].prevViewData,h[k].gr,v+1,M,I),c[k]._render&&h[k].gr.parentNode!==s&&s.appendChild(h[k].gr)}else"tr"===c[k].ty?(ne||(h[k]=this.createTransformElement(c[k],s)),M.push(h[k].transform)):"sh"===c[k].ty||"rc"===c[k].ty||"el"===c[k].ty||"sr"===c[k].ty?(ne||(h[k]=this.createShapeElement(c[k],M,v)),this.setElementStyles(h[k])):"tm"===c[k].ty||"rd"===c[k].ty||"ms"===c[k].ty||"pb"===c[k].ty||"zz"===c[k].ty||"op"===c[k].ty?(ne?(q=h[k]).closed=!1:((q=ShapeModifiers.getModifier(c[k].ty)).init(this,c[k]),h[k]=q,this.shapeModifiers.push(q)),H.push(q)):"rp"===c[k].ty&&(ne?(q=h[k]).closed=!0:(q=ShapeModifiers.getModifier(c[k].ty),h[k]=q,q.init(this,c,k,h),this.shapeModifiers.push(q),I=!1),H.push(q));this.addProcessedElement(c[k],k+1)}for(F=R.length,k=0;k<F;k+=1)R[k].closed=!0;for(F=H.length,k=0;k<F;k+=1)H[k].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var c,h=this.stylesList.length;for(c=0;c<h;c+=1)this.stylesList[c].reset();for(this.renderShape(),c=0;c<h;c+=1)(this.stylesList[c]._mdf||this._isFirstFrame)&&(this.stylesList[c].msElem&&(this.stylesList[c].msElem.setAttribute("d",this.stylesList[c].d),this.stylesList[c].d="M0 0"+this.stylesList[c].d),this.stylesList[c].pElem.setAttribute("d",this.stylesList[c].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var c,f,h=this.animatedContents.length;for(c=0;c<h;c+=1)f=this.animatedContents[c],(this._isFirstFrame||f.element._isAnimated)&&!0!==f.data&&f.fn(f.data,f.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(c,h,f,s,v,y){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var I=!1;return this.o!==c&&(this.o=c,this._mdf.o=!0,I=!0),this.sw!==h&&(this.sw=h,this._mdf.sw=!0,I=!0),this.sc!==f&&(this.sc=f,this._mdf.sc=!0,I=!0),this.fc!==s&&(this.fc=s,this._mdf.fc=!0,I=!0),this.m!==v&&(this.m=v,this._mdf.m=!0,I=!0),y.length&&(this.p[0]!==y[0]||this.p[1]!==y[1]||this.p[4]!==y[4]||this.p[5]!==y[5]||this.p[12]!==y[12]||this.p[13]!==y[13])&&(this.p=y,this._mdf.p=!0,I=!0),I},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(c,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f]);return c},TextProperty.prototype.setCurrentData=function(c){c.__complete||this.completeTextData(c),this.currentData=c,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(c){this.effectsSequence.push(c),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(c){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||c){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var h=this.currentData,f=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData);this.lock=!0,this._mdf=!1;var s,v=this.effectsSequence.length,y=c||this.data.d.k[this.keysIndex].s;for(s=0;s<v;s+=1)y=this.effectsSequence[s](f!==this.keysIndex?y:this.currentData,y.t);h!==y&&this.setCurrentData(y),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var c=this.data.d.k,h=this.elem.comp.renderedFrame,f=0,s=c.length;f<=s-1&&!(f===s-1||c[f+1].t>h);)f+=1;return this.keysIndex!==f&&(this.keysIndex=f),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(c){for(var v,y,h=[],f=0,s=c.length,I=!1;f<s;)v=c.charCodeAt(f),FontManager.isCombinedCharacter(v)?h[h.length-1]+=c.charAt(f):v>=55296&&v<=56319?(y=c.charCodeAt(f+1))>=56320&&y<=57343?(I||FontManager.isModifier(v,y)?(h[h.length-1]+=c.substr(f,2),I=!1):h.push(c.substr(f,2)),f+=1):h.push(c.charAt(f)):v>56319?(y=c.charCodeAt(f+1),FontManager.isZeroWidthJoiner(v,y)?(I=!0,h[h.length-1]+=c.substr(f,2),f+=1):h.push(c.charAt(f))):FontManager.isZeroWidthJoiner(v)?(h[h.length-1]+=c.charAt(f),I=!0):h.push(c.charAt(f)),f+=1;return h},TextProperty.prototype.completeTextData=function(c){c.__complete=!0;var v,y,I,k,ne,j,B,h=this.elem.globalData.fontManager,f=this.data,s=[],M=0,F=f.m.g,z=0,Q=0,R=0,H=[],U=0,q=0,G=h.getFontByName(c.f),V=0,ee=getFontProperties(G);c.fWeight=ee.weight,c.fStyle=ee.style,c.finalSize=c.s,c.finalText=this.buildFinalText(c.t),y=c.finalText.length,c.finalLineHeight=c.lh;var ie,te=c.tr/1e3*c.finalSize;if(c.sz)for(var De,Se,ae=!0,he=c.sz[0],Re=c.sz[1];ae;){De=0,U=0,y=(Se=this.buildFinalText(c.t)).length,te=c.tr/1e3*c.finalSize;var _e=-1;for(v=0;v<y;v+=1)ie=Se[v].charCodeAt(0),I=!1," "===Se[v]?_e=v:(13===ie||3===ie)&&(U=0,I=!0,De+=c.finalLineHeight||1.2*c.finalSize),h.chars?(B=h.getCharData(Se[v],G.fStyle,G.fFamily),V=I?0:B.w*c.finalSize/100):V=h.measureText(Se[v],c.f,c.finalSize),U+V>he&&" "!==Se[v]?(-1===_e?y+=1:v=_e,De+=c.finalLineHeight||1.2*c.finalSize,Se.splice(v,_e===v?1:0,"\r"),_e=-1,U=0):(U+=V,U+=te);De+=G.ascent*c.finalSize/100,this.canResize&&c.finalSize>this.minimumFontSize&&Re<De?(c.finalSize-=1,c.finalLineHeight=c.finalSize*c.lh/c.s):(c.finalText=Se,y=c.finalText.length,ae=!1)}U=-te,V=0;var Te,$e=0;for(v=0;v<y;v+=1)if(I=!1,13===(ie=(Te=c.finalText[v]).charCodeAt(0))||3===ie?($e=0,H.push(U),q=U>q?U:q,U=-2*te,k="",I=!0,R+=1):k=Te,h.chars?(B=h.getCharData(Te,G.fStyle,h.getFontByName(c.f).fFamily),V=I?0:B.w*c.finalSize/100):V=h.measureText(k,c.f,c.finalSize)," "===Te?$e+=V+te:(U+=V+te+$e,$e=0),s.push({l:V,an:V,add:z,n:I,anIndexes:[],val:k,line:R,animatorJustifyOffset:0}),2==F){if(z+=V,""===k||" "===k||v===y-1){for((""===k||" "===k)&&(z-=V);Q<=v;)s[Q].an=z,s[Q].ind=M,s[Q].extra=V,Q+=1;M+=1,z=0}}else if(3==F){if(z+=V,""===k||v===y-1){for(""===k&&(z-=V);Q<=v;)s[Q].an=z,s[Q].ind=M,s[Q].extra=V,Q+=1;z=0,M+=1}}else s[M].ind=M,s[M].extra=0,M+=1;if(c.l=s,q=U>q?U:q,H.push(U),c.sz)c.boxWidth=c.sz[0],c.justifyOffset=0;else switch(c.boxWidth=q,c.j){case 1:c.justifyOffset=-c.boxWidth;break;case 2:c.justifyOffset=-c.boxWidth/2;break;default:c.justifyOffset=0}c.lineWidths=H;var le,X,pe=f.a;j=pe.length;var oe,Ce,me=[];for(ne=0;ne<j;ne+=1){for((le=pe[ne]).a.sc&&(c.strokeColorAnim=!0),le.a.sw&&(c.strokeWidthAnim=!0),(le.a.fc||le.a.fh||le.a.fs||le.a.fb)&&(c.fillColorAnim=!0),Ce=0,oe=le.s.b,v=0;v<y;v+=1)(X=s[v]).anIndexes[ne]=Ce,(1==oe&&""!==X.val||2==oe&&""!==X.val&&" "!==X.val||3==oe&&(X.n||" "==X.val||v==y-1)||4==oe&&(X.n||v==y-1))&&(1===le.s.rn&&me.push(Ce),Ce+=1);f.a[ne].s.totalChars=Ce;var Le,Ne=-1;if(1===le.s.rn)for(v=0;v<y;v+=1)Ne!=(X=s[v]).anIndexes[ne]&&(Ne=X.anIndexes[ne],Le=me.splice(Math.floor(Math.random()*me.length),1)[0]),X.anIndexes[ne]=Le}c.yOffset=c.finalLineHeight||1.2*c.finalSize,c.ls=c.ls||0,c.ascent=G.ascent*c.finalSize/100},TextProperty.prototype.updateDocumentData=function(c,h){var f=this.copyData({},this.data.d.k[h=void 0===h?this.keysIndex:h].s);f=this.copyData(f,c),this.data.d.k[h].s=f,this.recalculate(h),this.setCurrentData(f),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(c){var h=this.data.d.k[c].s;h.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(h)},TextProperty.prototype.canResizeFont=function(c){this.canResize=c,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(c){this.minimumFontSize=Math.floor(c)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var c=Math.max,h=Math.min,f=Math.floor;function s(y,I){this._currentTextLength=-1,this.k=!1,this.data=I,this.elem=y,this.comp=y.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(y),this.s=PropertyFactory.getProp(y,I.s||{k:0},0,0,this),this.e="e"in I?PropertyFactory.getProp(y,I.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(y,I.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(y,I.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(y,I.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(y,I.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(y,I.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return s.prototype={getMult:function(I){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var M=0,k=0,F=1,z=1;this.ne.v>0?M=this.ne.v/100:k=-this.ne.v/100,this.xe.v>0?F=1-this.xe.v/100:z=1+this.xe.v/100;var Q=BezierFactory.getBezierEasing(M,k,F,z).get,R=0,H=this.finalS,U=this.finalE,q=this.data.sh;if(2===q)R=Q(R=U===H?I>=U?1:0:c(0,h(.5/(U-H)+(I-H)/(U-H),1)));else if(3===q)R=Q(R=U===H?I>=U?0:1:1-c(0,h(.5/(U-H)+(I-H)/(U-H),1)));else if(4===q)U===H?R=0:(R=c(0,h(.5/(U-H)+(I-H)/(U-H),1)))<.5?R*=2:R=1-2*(R-.5),R=Q(R);else if(5===q){if(U===H)R=0;else{var ne=U-H,j=-ne/2+(I=h(c(0,I+.5-H),U-H)),G=ne/2;R=Math.sqrt(1-j*j/(G*G))}R=Q(R)}else 6===q?(U===H?R=0:(I=h(c(0,I+.5-H),U-H),R=(1+Math.cos(Math.PI+2*Math.PI*I/(U-H)))/2),R=Q(R)):(I>=f(H)&&(R=c(0,h(I-H<0?h(U,1)-(H-I):U-I,1))),R=Q(R));if(100!==this.sm.v){var B=.01*this.sm.v;0===B&&(B=1e-8);var V=.5-.5*B;R<V?R=0:(R=(R-V)/B)>1&&(R=1)}return R*this.a.v},getValue:function(I){this.iterateDynamicProperties(),this._mdf=I||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,I&&2===this.data.r&&(this.e.v=this._currentTextLength);var M=2===this.data.r?1:100/this.data.totalChars,k=this.o.v/M,F=this.s.v/M+k,z=this.e.v/M+k;if(F>z){var Q=F;F=z,z=Q}this.finalS=F,this.finalE=z}},extendPrototype([DynamicPropertyContainer],s),{getTextSelectorProp:function v(y,I,M){return new s(y,I,M)}}}();function TextAnimatorDataProperty(c,h,f){var s={propType:!1},v=PropertyFactory.getProp,y=h.a;this.a={r:y.r?v(c,y.r,0,degToRads,f):s,rx:y.rx?v(c,y.rx,0,degToRads,f):s,ry:y.ry?v(c,y.ry,0,degToRads,f):s,sk:y.sk?v(c,y.sk,0,degToRads,f):s,sa:y.sa?v(c,y.sa,0,degToRads,f):s,s:y.s?v(c,y.s,1,.01,f):s,a:y.a?v(c,y.a,1,0,f):s,o:y.o?v(c,y.o,0,.01,f):s,p:y.p?v(c,y.p,1,0,f):s,sw:y.sw?v(c,y.sw,0,0,f):s,sc:y.sc?v(c,y.sc,1,0,f):s,fc:y.fc?v(c,y.fc,1,0,f):s,fh:y.fh?v(c,y.fh,0,0,f):s,fs:y.fs?v(c,y.fs,0,.01,f):s,fb:y.fb?v(c,y.fb,0,.01,f):s,t:y.t?v(c,y.t,0,0,f):s},this.s=TextSelectorProp.getTextSelectorProp(c,h.s,f),this.s.t=h.s.t}function TextAnimatorProperty(c,h,f){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=c,this._renderType=h,this._elem=f,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(f)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var c,h=this._textData.a.length,s=PropertyFactory.getProp;for(c=0;c<h;c+=1)this._animatorsData[c]=new TextAnimatorDataProperty(this._elem,this._textData.a[c],this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:s(this._elem,this._textData.p.a,0,0,this),f:s(this._elem,this._textData.p.f,0,0,this),l:s(this._elem,this._textData.p.l,0,0,this),r:s(this._elem,this._textData.p.r,0,0,this),p:s(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=s(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(c,h){if(this.lettersChangedFlag=h,this._mdf||this._isFirstFrame||h||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var k,F,z,Q,H,U,q,ne,j,G,B,V,ee,te,ie,ae,he,De,f=this._moreOptions.alignment.v,s=this._animatorsData,v=this._textData,y=this.mHelper,I=this._renderType,M=this.renderedLetters.length,R=c.l;if(this._hasMaskedPath){if(De=this._pathData.m,!this._pathData.n||this._pathData._mdf){var _e,Se=De.v;for(this._pathData.r.v&&(Se=Se.reverse()),H={tLength:0,segments:[]},Q=Se._length-1,ae=0,z=0;z<Q;z+=1)_e=bez.buildBezierData(Se.v[z],Se.v[z+1],[Se.o[z][0]-Se.v[z][0],Se.o[z][1]-Se.v[z][1]],[Se.i[z+1][0]-Se.v[z+1][0],Se.i[z+1][1]-Se.v[z+1][1]]),H.tLength+=_e.segmentLength,H.segments.push(_e),ae+=_e.segmentLength;z=Q,De.v.c&&(_e=bez.buildBezierData(Se.v[z],Se.v[0],[Se.o[z][0]-Se.v[z][0],Se.o[z][1]-Se.v[z][1]],[Se.i[0][0]-Se.v[0][0],Se.i[0][1]-Se.v[0][1]]),H.tLength+=_e.segmentLength,H.segments.push(_e),ae+=_e.segmentLength),this._pathData.pi=H}if(B=0,G=1,ne=0,j=!0,te=(H=this._pathData.pi).segments,(U=this._pathData.f.v)<0&&De.v.c)for(H.tLength<Math.abs(U)&&(U=-Math.abs(U)%H.tLength),G=(ee=te[B=te.length-1].points).length-1;U<0;)U+=ee[G].partialLength,(G-=1)<0&&(G=(ee=te[B-=1].points).length-1);V=(ee=te[B].points)[G-1],ie=(q=ee[G]).partialLength}Q=R.length,k=0,F=0;var pe,X,oe,Ce,$e=1.2*c.finalSize*.714,Te=!0;oe=s.length;var me,Le,nt,Ht,Ut,Jt,un,lt,on,Bn,vi,ii,ft,Ne=-1,ht=U,Qe=B,jt=G,zt=-1,$i="",qi=this.defaultPropsArray;if(2===c.j||1===c.j){var En=0,fi=0,Wn=2===c.j?-.5:-1,Di=0,ri=!0;for(z=0;z<Q;z+=1)if(R[z].n){for(En&&(En+=fi);Di<z;)R[Di].animatorJustifyOffset=En,Di+=1;En=0,ri=!0}else{for(X=0;X<oe;X+=1)(pe=s[X].a).t.propType&&(ri&&2===c.j&&(fi+=pe.t.v*Wn),En+=(me=s[X].s.getMult(R[z].anIndexes[X],v.a[X].s.totalChars)).length?pe.t.v*me[0]*Wn:pe.t.v*me*Wn);ri=!1}for(En&&(En+=fi);Di<z;)R[Di].animatorJustifyOffset=En,Di+=1}for(z=0;z<Q;z+=1){if(y.reset(),Ut=1,R[z].n)k=0,F+=c.yOffset,F+=Te?1:0,U=ht,Te=!1,this._hasMaskedPath&&(V=(ee=te[B=Qe].points)[(G=jt)-1],ie=(q=ee[G]).partialLength,ne=0),$i="",ii="",Bn="",ft="",qi=this.defaultPropsArray;else{if(this._hasMaskedPath){if(zt!==R[z].line){switch(c.j){case 1:U+=ae-c.lineWidths[R[z].line];break;case 2:U+=(ae-c.lineWidths[R[z].line])/2}zt=R[z].line}Ne!==R[z].ind&&(R[Ne]&&(U+=R[Ne].extra),U+=R[z].an/2,Ne=R[z].ind),U+=f[0]*R[z].an*.005;var gn=0;for(X=0;X<oe;X+=1)(pe=s[X].a).p.propType&&(gn+=(me=s[X].s.getMult(R[z].anIndexes[X],v.a[X].s.totalChars)).length?pe.p.v[0]*me[0]:pe.p.v[0]*me),pe.a.propType&&(gn+=(me=s[X].s.getMult(R[z].anIndexes[X],v.a[X].s.totalChars)).length?pe.a.v[0]*me[0]:pe.a.v[0]*me);for(j=!0,this._pathData.a.v&&(U=.5*R[0].an+(ae-this._pathData.f.v-.5*R[0].an-.5*R[R.length-1].an)*Ne/(Q-1),U+=this._pathData.f.v);j;)ne+ie>=U+gn||!ee?(nt=V.point[0]+(q.point[0]-V.point[0])*(he=(U+gn-ne)/q.partialLength),Ht=V.point[1]+(q.point[1]-V.point[1])*he,y.translate(-f[0]*R[z].an*.005,-f[1]*$e*.01),j=!1):ee&&(ne+=q.partialLength,(G+=1)>=ee.length&&(G=0,te[B+=1]?ee=te[B].points:De.v.c?(G=0,ee=te[B=0].points):(ne-=q.partialLength,ee=null)),ee&&(V=q,ie=(q=ee[G]).partialLength));y.translate(-(Le=R[z].an/2-R[z].add),0,0)}else y.translate(-(Le=R[z].an/2-R[z].add),0,0),y.translate(-f[0]*R[z].an*.005,-f[1]*$e*.01,0);for(X=0;X<oe;X+=1)(pe=s[X].a).t.propType&&(me=s[X].s.getMult(R[z].anIndexes[X],v.a[X].s.totalChars),(0!==k||0!==c.j)&&(this._hasMaskedPath?U+=me.length?pe.t.v*me[0]:pe.t.v*me:k+=me.length?pe.t.v*me[0]:pe.t.v*me));for(c.strokeWidthAnim&&(un=c.sw||0),c.strokeColorAnim&&(Jt=c.sc?[c.sc[0],c.sc[1],c.sc[2]]:[0,0,0]),c.fillColorAnim&&c.fc&&(lt=[c.fc[0],c.fc[1],c.fc[2]]),X=0;X<oe;X+=1)(pe=s[X].a).a.propType&&((me=s[X].s.getMult(R[z].anIndexes[X],v.a[X].s.totalChars)).length?y.translate(-pe.a.v[0]*me[0],-pe.a.v[1]*me[1],pe.a.v[2]*me[2]):y.translate(-pe.a.v[0]*me,-pe.a.v[1]*me,pe.a.v[2]*me));for(X=0;X<oe;X+=1)(pe=s[X].a).s.propType&&((me=s[X].s.getMult(R[z].anIndexes[X],v.a[X].s.totalChars)).length?y.scale(1+(pe.s.v[0]-1)*me[0],1+(pe.s.v[1]-1)*me[1],1):y.scale(1+(pe.s.v[0]-1)*me,1+(pe.s.v[1]-1)*me,1));for(X=0;X<oe;X+=1){if(pe=s[X].a,me=s[X].s.getMult(R[z].anIndexes[X],v.a[X].s.totalChars),pe.sk.propType&&(me.length?y.skewFromAxis(-pe.sk.v*me[0],pe.sa.v*me[1]):y.skewFromAxis(-pe.sk.v*me,pe.sa.v*me)),pe.r.propType&&y.rotateZ(me.length?-pe.r.v*me[2]:-pe.r.v*me),pe.ry.propType&&y.rotateY(me.length?pe.ry.v*me[1]:pe.ry.v*me),pe.rx.propType&&y.rotateX(me.length?pe.rx.v*me[0]:pe.rx.v*me),pe.o.propType&&(Ut+=me.length?(pe.o.v*me[0]-Ut)*me[0]:(pe.o.v*me-Ut)*me),c.strokeWidthAnim&&pe.sw.propType&&(un+=me.length?pe.sw.v*me[0]:pe.sw.v*me),c.strokeColorAnim&&pe.sc.propType)for(on=0;on<3;on+=1)Jt[on]+=me.length?(pe.sc.v[on]-Jt[on])*me[0]:(pe.sc.v[on]-Jt[on])*me;if(c.fillColorAnim&&c.fc){if(pe.fc.propType)for(on=0;on<3;on+=1)lt[on]+=me.length?(pe.fc.v[on]-lt[on])*me[0]:(pe.fc.v[on]-lt[on])*me;pe.fh.propType&&(lt=addHueToRGB(lt,me.length?pe.fh.v*me[0]:pe.fh.v*me)),pe.fs.propType&&(lt=addSaturationToRGB(lt,me.length?pe.fs.v*me[0]:pe.fs.v*me)),pe.fb.propType&&(lt=addBrightnessToRGB(lt,me.length?pe.fb.v*me[0]:pe.fb.v*me))}}for(X=0;X<oe;X+=1)(pe=s[X].a).p.propType&&(me=s[X].s.getMult(R[z].anIndexes[X],v.a[X].s.totalChars),this._hasMaskedPath?me.length?y.translate(0,pe.p.v[1]*me[0],-pe.p.v[2]*me[1]):y.translate(0,pe.p.v[1]*me,-pe.p.v[2]*me):me.length?y.translate(pe.p.v[0]*me[0],pe.p.v[1]*me[1],-pe.p.v[2]*me[2]):y.translate(pe.p.v[0]*me,pe.p.v[1]*me,-pe.p.v[2]*me));if(c.strokeWidthAnim&&(Bn=un<0?0:un),c.strokeColorAnim&&(vi="rgb("+Math.round(255*Jt[0])+","+Math.round(255*Jt[1])+","+Math.round(255*Jt[2])+")"),c.fillColorAnim&&c.fc&&(ii="rgb("+Math.round(255*lt[0])+","+Math.round(255*lt[1])+","+Math.round(255*lt[2])+")"),this._hasMaskedPath){if(y.translate(0,-c.ls),y.translate(0,f[1]*$e*.01+F,0),this._pathData.p.v){var hn=180*Math.atan((q.point[1]-V.point[1])/(q.point[0]-V.point[0]))/Math.PI;q.point[0]<V.point[0]&&(hn+=180),y.rotate(-hn*Math.PI/180)}y.translate(nt,Ht,0),U-=f[0]*R[z].an*.005,R[z+1]&&Ne!==R[z+1].ind&&(U+=R[z].an/2,U+=.001*c.tr*c.finalSize)}else{switch(y.translate(k,F,0),c.ps&&y.translate(c.ps[0],c.ps[1]+c.ascent,0),c.j){case 1:y.translate(R[z].animatorJustifyOffset+c.justifyOffset+(c.boxWidth-c.lineWidths[R[z].line]),0,0);break;case 2:y.translate(R[z].animatorJustifyOffset+c.justifyOffset+(c.boxWidth-c.lineWidths[R[z].line])/2,0,0)}y.translate(0,-c.ls),y.translate(Le,0,0),y.translate(f[0]*R[z].an*.005,f[1]*$e*.01,0),k+=R[z].l+.001*c.tr*c.finalSize}"html"===I?$i=y.toCSS():"svg"===I?$i=y.to2dCSS():qi=[y.props[0],y.props[1],y.props[2],y.props[3],y.props[4],y.props[5],y.props[6],y.props[7],y.props[8],y.props[9],y.props[10],y.props[11],y.props[12],y.props[13],y.props[14],y.props[15]],ft=Ut}M<=z?(Ce=new LetterProps(ft,Bn,vi,ii,$i,qi),this.renderedLetters.push(Ce),M+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(Ce=this.renderedLetters[z]).update(ft,Bn,vi,ii,$i,qi)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(c,h,f){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(c,h,f),this.textProperty=new TextProperty(this,c.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(c.t,this.renderType,this),this.initTransform(c,h,f),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(c){this._mdf=!1,this.prepareRenderableFrame(c),this.prepareProperties(c,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(c,h){var f,v,s=h.length,y="";for(f=0;f<s;f+=1)"sh"===h[f].ty&&(y+=buildShapeString(v=h[f].ks.k,v.i.length,!0,c));return y},ITextElement.prototype.updateDocumentData=function(c,h){this.textProperty.updateDocumentData(c,h)},ITextElement.prototype.canResizeFont=function(c){this.textProperty.canResizeFont(c)},ITextElement.prototype.setMinimumFontSize=function(c){this.textProperty.setMinimumFontSize(c)},ITextElement.prototype.applyTextPropertiesToMatrix=function(c,h,f,s,v){switch(c.ps&&h.translate(c.ps[0],c.ps[1]+c.ascent,0),h.translate(0,-c.ls,0),c.j){case 1:h.translate(c.justifyOffset+(c.boxWidth-c.lineWidths[f]),0,0);break;case 2:h.translate(c.justifyOffset+(c.boxWidth-c.lineWidths[f])/2,0,0)}h.translate(s,v,0)},ITextElement.prototype.buildColor=function(c){return"rgb("+Math.round(255*c[0])+","+Math.round(255*c[1])+","+Math.round(255*c[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(c,h,f){this.textSpans=[],this.renderType="svg",this.initElement(c,h,f)}function ISolidElement(c,h,f){this.initElement(c,h,f)}function NullElement(c,h,f){this.initFrame(),this.initBaseData(c,h,f),this.initFrame(),this.initTransform(c,h,f),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(c,h,f){this.layers=c.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(c,h,f),this.tm=c.tm?PropertyFactory.getProp(this,c.tm,0,h.frameRate,this):{_placeholder:!0}}function SVGRenderer(c,h){this.animationItem=c,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var f="";if(h&&h.title){var s=createNS("title"),v=createElementID();s.setAttribute("id",v),s.textContent=h.title,this.svgElement.appendChild(s),f+=v}if(h&&h.description){var y=createNS("desc"),I=createElementID();y.setAttribute("id",I),y.textContent=h.description,this.svgElement.appendChild(y),f+=" "+I}f&&this.svgElement.setAttribute("aria-labelledby",f);var M=createNS("defs");this.svgElement.appendChild(M);var k=createNS("g");this.svgElement.appendChild(k),this.layerElement=k,this.renderConfig={preserveAspectRatio:h&&h.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:h&&h.contentVisibility||"visible",progressiveLoad:h&&h.progressiveLoad||!1,hideOnTransparent:!(h&&!1===h.hideOnTransparent),viewBoxOnly:h&&h.viewBoxOnly||!1,viewBoxSize:h&&h.viewBoxSize||!1,className:h&&h.className||"",id:h&&h.id||"",focusable:h&&h.focusable,filterSize:{width:h&&h.filterSize&&h.filterSize.width||"100%",height:h&&h.filterSize&&h.filterSize.height||"100%",x:h&&h.filterSize&&h.filterSize.x||"0%",y:h&&h.filterSize&&h.filterSize.y||"0%"},width:h&&h.width,height:h&&h.height,runExpressions:!h||void 0===h.runExpressions||h.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:M,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var c;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),c=0;c<15;c+=1)this.saved[c]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(c){for(var h=0,f=c.length,s=[],v="";h<f;)c[h]===String.fromCharCode(13)||c[h]===String.fromCharCode(3)?(s.push(v),v=""):v+=c[h],h+=1;return s.push(v),s},SVGTextLottieElement.prototype.buildShapeData=function(c,h){if(c.shapes&&c.shapes.length){var f=c.shapes[0];if(f.it){var s=f.it[f.it.length-1];s.s&&(s.s.k[0]=h,s.s.k[1]=h)}}return c},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var c,h,f=this.textProperty.currentData;this.renderedLetters=createSizedArray(f?f.l.length:0),this.layerElement.setAttribute("fill",f.fc?this.buildColor(f.fc):"rgba(0,0,0,0)"),f.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(f.sc)),this.layerElement.setAttribute("stroke-width",f.sw)),this.layerElement.setAttribute("font-size",f.finalSize);var s=this.globalData.fontManager.getFontByName(f.f);if(s.fClass)this.layerElement.setAttribute("class",s.fClass);else{this.layerElement.setAttribute("font-family",s.fFamily);var v=f.fWeight;this.layerElement.setAttribute("font-style",f.fStyle),this.layerElement.setAttribute("font-weight",v)}this.layerElement.setAttribute("aria-label",f.t);var I=f.l||[],M=!!this.globalData.fontManager.chars;h=I.length;var k,F=this.mHelper,Q=this.data.singleShape,R=0,H=0,U=!0,q=.001*f.tr*f.finalSize;if(!Q||M||f.sz){var V,B=this.textSpans.length;for(c=0;c<h;c+=1){if(this.textSpans[c]||(this.textSpans[c]={span:null,childSpan:null,glyph:null}),!M||!Q||0===c){if(k=B>c?this.textSpans[c].span:createNS(M?"g":"text"),B<=c){if(k.setAttribute("stroke-linecap","butt"),k.setAttribute("stroke-linejoin","round"),k.setAttribute("stroke-miterlimit","4"),this.textSpans[c].span=k,M){var ee=createNS("g");k.appendChild(ee),this.textSpans[c].childSpan=ee}this.textSpans[c].span=k,this.layerElement.appendChild(k)}k.style.display="inherit"}if(F.reset(),Q&&(I[c].n&&(R=-q,H+=f.yOffset,H+=U?1:0,U=!1),this.applyTextPropertiesToMatrix(f,F,I[c].line,R,H),R+=I[c].l||0,R+=q),M){var te;if(1===(V=this.globalData.fontManager.getCharData(f.finalText[c],s.fStyle,this.globalData.fontManager.getFontByName(f.f).fFamily)).t)te=new SVGCompElement(V.data,this.globalData,this);else{var ie=emptyShapeData;V.data&&V.data.shapes&&(ie=this.buildShapeData(V.data,f.finalSize)),te=new SVGShapeElement(ie,this.globalData,this)}if(this.textSpans[c].glyph){var ae=this.textSpans[c].glyph;this.textSpans[c].childSpan.removeChild(ae.layerElement),ae.destroy()}this.textSpans[c].glyph=te,te._debug=!0,te.prepareFrame(0),te.renderFrame(),this.textSpans[c].childSpan.appendChild(te.layerElement),1===V.t&&this.textSpans[c].childSpan.setAttribute("transform","scale("+f.finalSize/100+","+f.finalSize/100+")")}else Q&&k.setAttribute("transform","translate("+F.props[12]+","+F.props[13]+")"),k.textContent=I[c].val,k.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Q&&k&&k.setAttribute("d","")}else{var ne=this.textContainer,j="start";switch(f.j){case 1:j="end";break;case 2:j="middle";break;default:j="start"}ne.setAttribute("text-anchor",j),ne.setAttribute("letter-spacing",q);var G=this.buildTextContents(f.finalText);for(h=G.length,H=f.ps?f.ps[1]+f.ascent:0,c=0;c<h;c+=1)(k=this.textSpans[c].span||createNS("tspan")).textContent=G[c],k.setAttribute("x",0),k.setAttribute("y",H),k.style.display="inherit",ne.appendChild(k),this.textSpans[c]||(this.textSpans[c]={span:null,glyph:null}),this.textSpans[c].span=k,H+=f.finalLineHeight;this.layerElement.appendChild(ne)}for(;c<this.textSpans.length;)this.textSpans[c].span.style.display="none",c+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var c=this.layerElement.getBBox();this.bbox={top:c.y,left:c.x,width:c.width,height:c.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var c,f,h=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,c=0;c<h;c+=1)(f=this.textSpans[c].glyph)&&(f.prepareFrame(this.comp.renderedFrame-this.data.st),f._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var c,h,v,y,I,f=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(h=s.length,c=0;c<h;c+=1)s[c].n||(v=f[c],y=this.textSpans[c].span,(I=this.textSpans[c].glyph)&&I.renderFrame(),v._mdf.m&&y.setAttribute("transform",v.m),v._mdf.o&&y.setAttribute("opacity",v.o),v._mdf.sw&&y.setAttribute("stroke-width",v.sw),v._mdf.sc&&y.setAttribute("stroke",v.sc),v._mdf.fc&&y.setAttribute("fill",v.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var c=createNS("rect");c.setAttribute("width",this.data.sw),c.setAttribute("height",this.data.sh),c.setAttribute("fill",this.data.sc),this.layerElement.appendChild(c)},NullElement.prototype.prepareFrame=function(c){this.prepareProperties(c,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(c){return new NullElement(c,this.globalData,this)},SVGRendererBase.prototype.createShape=function(c){return new SVGShapeElement(c,this.globalData,this)},SVGRendererBase.prototype.createText=function(c){return new SVGTextLottieElement(c,this.globalData,this)},SVGRendererBase.prototype.createImage=function(c){return new IImageElement(c,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(c){return new ISolidElement(c,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(c){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+c.w+" "+c.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",c.w),this.svgElement.setAttribute("height",c.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var h=this.globalData.defs;this.setupGlobalData(c,h),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=c;var f=createNS("clipPath"),s=createNS("rect");s.setAttribute("width",c.w),s.setAttribute("height",c.h),s.setAttribute("x",0),s.setAttribute("y",0);var v=createElementID();f.setAttribute("id",v),f.appendChild(s),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+v+")"),h.appendChild(f),this.layers=c.layers,this.elements=createSizedArray(c.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var c,h=this.layers?this.layers.length:0;for(c=0;c<h;c+=1)this.elements[c]&&this.elements[c].destroy&&this.elements[c].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(c){var h=0,f=this.layers.length;for(h=0;h<f;h+=1)if(this.layers[h].ind===c)return h;return-1},SVGRendererBase.prototype.buildItem=function(c){var h=this.elements;if(!h[c]&&99!==this.layers[c].ty){h[c]=!0;var f=this.createItem(this.layers[c]);if(h[c]=f,getExpressionsPlugin()&&(0===this.layers[c].ty&&this.globalData.projectInterface.registerComposition(f),f.initExpressions()),this.appendElementInPos(f,c),this.layers[c].tt){var s="tp"in this.layers[c]?this.findIndexByInd(this.layers[c].tp):c-1;if(-1===s)return;if(this.elements[s]&&!0!==this.elements[s]){var y=h[s].getMatte(this.layers[c].tt);f.setMatte(y)}else this.buildItem(s),this.addPendingElement(f)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var c=this.pendingElements.pop();if(c.checkParenting(),c.data.tt)for(var h=0,f=this.elements.length;h<f;){if(this.elements[h]===c){var s="tp"in c.data?this.findIndexByInd(c.data.tp):h-1,y=this.elements[s].getMatte(this.layers[h].tt);c.setMatte(y);break}h+=1}}},SVGRendererBase.prototype.renderFrame=function(c){if(this.renderedFrame!==c&&!this.destroyed){null===c?c=this.renderedFrame:this.renderedFrame=c,this.globalData.frameNum=c,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=c,this.globalData._mdf=!1;var h,f=this.layers.length;for(this.completeLayers||this.checkLayers(c),h=f-1;h>=0;h-=1)(this.completeLayers||this.elements[h])&&this.elements[h].prepareFrame(c-this.layers[h].st);if(this.globalData._mdf)for(h=0;h<f;h+=1)(this.completeLayers||this.elements[h])&&this.elements[h].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(c,h){var f=c.getBaseElement();if(f){for(var v,s=0;s<h;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement()&&(v=this.elements[s].getBaseElement()),s+=1;v?this.layerElement.insertBefore(f,v):this.layerElement.appendChild(f)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(c,h,f){this.initFrame(),this.initBaseData(c,h,f),this.initTransform(c,h,f),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!h.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(c){if(this._mdf=!1,this.prepareRenderableFrame(c),this.prepareProperties(c,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=c/this.data.sr;else{var h=this.tm.v;h===this.data.op&&(h=this.data.op-1),this.renderedFrame=h}var f,s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),f=s-1;f>=0;f-=1)(this.completeLayers||this.elements[f])&&(this.elements[f].prepareFrame(this.renderedFrame-this.layers[f].st),this.elements[f]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var c,h=this.layers.length;for(c=0;c<h;c+=1)(this.completeLayers||this.elements[c])&&this.elements[c].renderFrame()},ICompElement.prototype.setElements=function(c){this.elements=c},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var c,h=this.layers.length;for(c=0;c<h;c+=1)this.elements[c]&&this.elements[c].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(c){return new SVGCompElement(c,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(c){return new SVGCompElement(c,this.globalData,this)},CVContextData.prototype.duplicate=function(){var c=2*this._length,h=this.savedOp;this.savedOp=createTypedArray("float32",c),this.savedOp.set(h);var f=0;for(f=this._length;f<c;f+=1)this.saved[f]=createTypedArray("float32",16);this._length=c},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVContextData.prototype.popTransform=function(){var h,c=this.saved[this.cArrPos],f=this.cTr.props;for(h=0;h<16;h+=1)f[h]=c[h];return c},CVContextData.prototype.popOpacity=function(){var c=this.savedOp[this.cArrPos];return this.cO=c,c},CVContextData.prototype.pop=function(){return this.cArrPos-=1,{transform:this.popTransform(),opacity:this.popOpacity()}},CVContextData.prototype.push=function(){var c=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var h,f=this.saved[this.cArrPos];for(h=0;h<16;h+=1)f[h]=c[h];this.savedOp[this.cArrPos]=this.cO,this.cArrPos+=1},CVContextData.prototype.getTransform=function(){return this.cTr},CVContextData.prototype.getOpacity=function(){return this.cO},CVContextData.prototype.setOpacity=function(c){this.cO=c},ShapeTransformManager.prototype={addTransformSequence:function(h){var f,s=h.length,v="_";for(f=0;f<s;f+=1)v+=h[f].transform.key+"_";var y=this.sequences[v];return y||(y={transforms:[].concat(h),finalTransform:new Matrix,_mdf:!1},this.sequences[v]=y,this.sequenceList.push(y)),y},processSequence:function(h,f){for(var s=0,v=h.transforms.length,y=f;s<v&&!f;){if(h.transforms[s].transform.mProps._mdf){y=!0;break}s+=1}var I;if(y)for(h.finalTransform.reset(),s=v-1;s>=0;s-=1)h.finalTransform.transform((I=h.transforms[s].transform.mProps.v.props)[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],I[8],I[9],I[10],I[11],I[12],I[13],I[14],I[15]);h._mdf=y},processSequences:function(h){var f,s=this.sequenceList.length;for(f=0;f<s;f+=1)this.processSequence(this.sequenceList[f],h)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var h="__lottie_element_luma_buffer",f=null,s=null,v=null;function I(){f||(v=function y(){var k=createNS("svg"),F=createNS("filter"),z=createNS("feColorMatrix");return F.setAttribute("id",h),z.setAttribute("type","matrix"),z.setAttribute("color-interpolation-filters","sRGB"),z.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),F.appendChild(z),k.appendChild(F),k.setAttribute("id",h+"_svg"),featureSupport.svgLumaHidden&&(k.style.display="none"),k}(),document.body.appendChild(v),f=createTag("canvas"),(s=f.getContext("2d")).filter="url(#"+h+")",s.fillStyle="rgba(0,0,0,0)",s.fillRect(0,0,1,1))}return{load:I,get:function M(k){return f||I(),f.width=k.width,f.height=k.height,s.filter="url(#"+h+")",f}}};function createCanvas(c,h){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(c,h);var f=createTag("canvas");return f.width=c,f.height=h,f}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas};function CVEffects(){}function CVMaskElement(c,h){this.data=c,this.element=h,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var f,s=this.masksProperties.length,v=!1;for(f=0;f<s;f+=1)"n"!==this.masksProperties[f].mode&&(v=!0),this.viewData[f]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[f],3);this.hasMasks=v,v&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var f,v,y,I,c=this.element.finalTransform.mat,h=this.element.canvasContext,s=this.masksProperties.length;for(h.beginPath(),f=0;f<s;f+=1)if("n"!==this.masksProperties[f].mode){this.masksProperties[f].inv&&(h.moveTo(0,0),h.lineTo(this.element.globalData.compSize.w,0),h.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),h.lineTo(0,this.element.globalData.compSize.h),h.lineTo(0,0)),v=c.applyToPointArray((I=this.viewData[f].v).v[0][0],I.v[0][1],0),h.moveTo(v[0],v[1]);var M,k=I._length;for(M=1;M<k;M+=1)y=c.applyToTriplePoints(I.o[M-1],I.i[M],I.v[M]),h.bezierCurveTo(y[0],y[1],y[2],y[3],y[4],y[5]);y=c.applyToTriplePoints(I.o[M-1],I.i[0],I.v[0]),h.bezierCurveTo(y[0],y[1],y[2],y[3],y[4],y[5])}this.element.globalData.renderer.save(!0),h.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(c,h,f,s){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var v=4;"rc"===h.ty?v=5:"el"===h.ty?v=6:"sr"===h.ty&&(v=7),this.sh=ShapePropertyFactory.getShapeProp(c,h,v,c);var y,M,I=f.length;for(y=0;y<I;y+=1)f[y].closed||(M={transforms:s.addTransformSequence(f[y].transforms),trNodes:[]},this.styledShapes.push(M),f[y].elements.push(M))}function CVShapeElement(c,h,f){this.shapes=[],this.shapesData=c.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(c,h,f)}function CVTextElement(c,h,f){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(c,h,f)}function CVImageElement(c,h,f){this.assetData=h.getAssetData(c.refId),this.img=h.imageLoader.getAsset(this.assetData),this.initElement(c,h,f)}function CVSolidElement(c,h,f){this.initElement(c,h,f)}function CanvasRendererBase(c,h){this.animationItem=c,this.renderConfig={clearCanvas:!h||void 0===h.clearCanvas||h.clearCanvas,context:h&&h.context||null,progressiveLoad:h&&h.progressiveLoad||!1,preserveAspectRatio:h&&h.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:h&&h.contentVisibility||"visible",className:h&&h.className||"",id:h&&h.id||""},this.renderConfig.dpr=h&&h.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=h&&h.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(c,h,f){this.completeLayers=!1,this.layers=c.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(c,h,f),this.tm=c.tm?PropertyFactory.getProp(this,c.tm,0,h.frameRate,this):{_placeholder:!0}}function CanvasRenderer(c,h){this.animationItem=c,this.renderConfig={clearCanvas:!h||void 0===h.clearCanvas||h.clearCanvas,context:h&&h.context||null,progressiveLoad:h&&h.progressiveLoad||!1,preserveAspectRatio:h&&h.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:h&&h.contentVisibility||"visible",className:h&&h.className||"",id:h&&h.id||"",runExpressions:!h||void 0===h.runExpressions||h.runExpressions},this.renderConfig.dpr=h&&h.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=h&&h.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(c,h,f){this.initElement(c,h,f)}function HShapeElement(c,h,f){this.shapes=[],this.shapesData=c.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(c,h,f),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(c,h,f){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(c,h,f)}function HCameraElement(c,h,f){this.initFrame(),this.initBaseData(c,h,f),this.initHierarchy();var s=PropertyFactory.getProp;if(this.pe=s(this,c.pe,0,0,this),c.ks.p.s?(this.px=s(this,c.ks.p.x,1,0,this),this.py=s(this,c.ks.p.y,1,0,this),this.pz=s(this,c.ks.p.z,1,0,this)):this.p=s(this,c.ks.p,1,0,this),c.ks.a&&(this.a=s(this,c.ks.a,1,0,this)),c.ks.or.k.length&&c.ks.or.k[0].to){var v,y=c.ks.or.k.length;for(v=0;v<y;v+=1)c.ks.or.k[v].to=null,c.ks.or.k[v].ti=null}this.or=s(this,c.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=s(this,c.ks.rx,0,degToRads,this),this.ry=s(this,c.ks.ry,0,degToRads,this),this.rz=s(this,c.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(c,h,f){this.assetData=h.getAssetData(c.refId),this.initElement(c,h,f)}function HybridRendererBase(c,h){this.animationItem=c,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:h&&h.className||"",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(h&&!1===h.hideOnTransparent),filterSize:{width:h&&h.filterSize&&h.filterSize.width||"400%",height:h&&h.filterSize&&h.filterSize.height||"400%",x:h&&h.filterSize&&h.filterSize.x||"-100%",y:h&&h.filterSize&&h.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(c,h,f){this.layers=c.layers,this.supports3d=!c.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(c,h,f),this.tm=c.tm?PropertyFactory.getProp(this,c.tm,0,h.frameRate,this):{_placeholder:!0}}function HybridRenderer(c,h){this.animationItem=c,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:h&&h.className||"",imagePreserveAspectRatio:h&&h.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(h&&!1===h.hideOnTransparent),filterSize:{width:h&&h.filterSize&&h.filterSize.width||"400%",height:h&&h.filterSize&&h.filterSize.height||"400%",x:h&&h.filterSize&&h.filterSize.x||"-100%",y:h&&h.filterSize&&h.filterSize.y||"-100%"},runExpressions:!h||void 0===h.runExpressions||h.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var h=this.globalData.canvasContext,f=assetLoader.createCanvas(h.canvas.width,h.canvas.height);this.buffers.push(f);var s=assetLoader.createCanvas(h.canvas.width,h.canvas.height);this.buffers.push(s),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var h=this.globalData;if(h.blendMode!==this.data.bm){h.blendMode=this.data.bm;var f=getBlendMode(this.data.bm);h.canvasContext.globalCompositeOperation=f}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(h){h.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var f=this.buffers[0].getContext("2d");this.clearCanvas(f),f.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var h=this.buffers[1],f=h.getContext("2d");if(this.clearCanvas(f),f.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var v=assetLoader.getLumaCanvas(this.canvasContext.canvas);v.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(v,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(h,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(h){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||h)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var f=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(f),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(f),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(c,h){var f={data:c,type:c.ty,preTransforms:this.transformsManager.addTransformSequence(h),transforms:[],elements:[],closed:!0===c.hd},s={};if("fl"===c.ty||"st"===c.ty?(s.c=PropertyFactory.getProp(this,c.c,1,255,this),s.c.k||(f.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")")):("gf"===c.ty||"gs"===c.ty)&&(s.s=PropertyFactory.getProp(this,c.s,1,null,this),s.e=PropertyFactory.getProp(this,c.e,1,null,this),s.h=PropertyFactory.getProp(this,c.h||{k:0},0,.01,this),s.a=PropertyFactory.getProp(this,c.a||{k:0},0,degToRads,this),s.g=new GradientProperty(this,c.g,this)),s.o=PropertyFactory.getProp(this,c.o,0,.01,this),"st"===c.ty||"gs"===c.ty){if(f.lc=lineCapEnum[c.lc||2],f.lj=lineJoinEnum[c.lj||2],1==c.lj&&(f.ml=c.ml),s.w=PropertyFactory.getProp(this,c.w,0,null,this),s.w.k||(f.wi=s.w.v),c.d){var v=new DashProperty(this,c.d,"canvas",this);s.d=v,s.d.k||(f.da=s.d.dashArray,f.do=s.d.dashoffset[0])}}else f.r=2===c.r?"evenodd":"nonzero";return this.stylesList.push(f),s.style=f,s},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(c){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,c.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,c,this)}}},CVShapeElement.prototype.createShapeElement=function(c){var h=new CVShapeData(this,c,this.stylesList,this.transformsManager);return this.shapes.push(h),this.addShapeToModifiers(h),h},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var c,h=this.itemsData.length;for(c=0;c<h;c+=1)this.prevViewData[c]=this.itemsData[c];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),h=this.dynamicProperties.length,c=0;c<h;c+=1)this.dynamicProperties[c].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(c){var h,f=this.stylesList.length;for(h=0;h<f;h+=1)this.stylesList[h].closed||this.stylesList[h].transforms.push(c)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var c,h=this.stylesList.length;for(c=0;c<h;c+=1)this.stylesList[c].closed||this.stylesList[c].transforms.pop()},CVShapeElement.prototype.closeStyles=function(c){var h,f=c.length;for(h=0;h<f;h+=1)c[h].closed=!0},CVShapeElement.prototype.searchShapes=function(c,h,f,s,v){var y,M,k,Q,R,H,I=c.length-1,F=[],z=[],U=[].concat(v);for(y=I;y>=0;y-=1){if((Q=this.searchProcessedElement(c[y]))?h[y]=f[Q-1]:c[y]._shouldRender=s,"fl"===c[y].ty||"st"===c[y].ty||"gf"===c[y].ty||"gs"===c[y].ty)Q?h[y].style.closed=!1:h[y]=this.createStyleElement(c[y],U),F.push(h[y].style);else if("gr"===c[y].ty){if(Q)for(k=h[y].it.length,M=0;M<k;M+=1)h[y].prevViewData[M]=h[y].it[M];else h[y]=this.createGroupElement(c[y]);this.searchShapes(c[y].it,h[y].it,h[y].prevViewData,s,U)}else"tr"===c[y].ty?(Q||(H=this.createTransformElement(c[y]),h[y]=H),U.push(h[y]),this.addTransformToStyleList(h[y])):"sh"===c[y].ty||"rc"===c[y].ty||"el"===c[y].ty||"sr"===c[y].ty?Q||(h[y]=this.createShapeElement(c[y])):"tm"===c[y].ty||"rd"===c[y].ty||"pb"===c[y].ty||"zz"===c[y].ty||"op"===c[y].ty?(Q?(R=h[y]).closed=!1:((R=ShapeModifiers.getModifier(c[y].ty)).init(this,c[y]),h[y]=R,this.shapeModifiers.push(R)),z.push(R)):"rp"===c[y].ty&&(Q?(R=h[y]).closed=!0:(R=ShapeModifiers.getModifier(c[y].ty),h[y]=R,R.init(this,c,y,h),this.shapeModifiers.push(R),s=!1),z.push(R));this.addProcessedElement(c[y],y+1)}for(this.removeTransformFromStyleList(),this.closeStyles(F),I=z.length,y=0;y<I;y+=1)z[y].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(c,h){(c._opMdf||h.op._mdf||this._isFirstFrame)&&(h.opacity=c.opacity,h.opacity*=h.op.v,h._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var c,f,s,v,y,I,M,z,Q,h=this.stylesList.length,k=this.globalData.renderer,F=this.globalData.canvasContext;for(c=0;c<h;c+=1)if(("st"!==(z=(Q=this.stylesList[c]).type)&&"gs"!==z||0!==Q.wi)&&Q.data._shouldRender&&0!==Q.coOp&&0!==this.globalData.currentGlobalAlpha){for(k.save(),I=Q.elements,"st"===z||"gs"===z?(F.strokeStyle="st"===z?Q.co:Q.grd,F.lineWidth=Q.wi,F.lineCap=Q.lc,F.lineJoin=Q.lj,F.miterLimit=Q.ml||0):F.fillStyle="fl"===z?Q.co:Q.grd,k.ctxOpacity(Q.coOp),"st"!==z&&"gs"!==z&&F.beginPath(),k.ctxTransform(Q.preTransforms.finalTransform.props),s=I.length,f=0;f<s;f+=1){for(("st"===z||"gs"===z)&&(F.beginPath(),Q.da&&(F.setLineDash(Q.da),F.lineDashOffset=Q.do)),y=(M=I[f].trNodes).length,v=0;v<y;v+=1)"m"===M[v].t?F.moveTo(M[v].p[0],M[v].p[1]):"c"===M[v].t?F.bezierCurveTo(M[v].pts[0],M[v].pts[1],M[v].pts[2],M[v].pts[3],M[v].pts[4],M[v].pts[5]):F.closePath();("st"===z||"gs"===z)&&(F.stroke(),Q.da&&F.setLineDash(this.dashResetter))}"st"!==z&&"gs"!==z&&F.fill(Q.r),k.restore()}},CVShapeElement.prototype.renderShape=function(c,h,f,s){var v,I;for(I=c,v=h.length-1;v>=0;v-=1)"tr"===h[v].ty?this.renderShapeTransform(c,I=f[v].transform):"sh"===h[v].ty||"el"===h[v].ty||"rc"===h[v].ty||"sr"===h[v].ty?this.renderPath(h[v],f[v]):"fl"===h[v].ty?this.renderFill(h[v],f[v],I):"st"===h[v].ty?this.renderStroke(h[v],f[v],I):"gf"===h[v].ty||"gs"===h[v].ty?this.renderGradientFill(h[v],f[v],I):"gr"===h[v].ty&&this.renderShape(I,h[v].it,f[v].it);s&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(c,h){if(this._isFirstFrame||h._mdf||c.transforms._mdf){var v,y,I,f=c.trNodes,s=h.paths,M=s._length;f.length=0;var k=c.transforms.finalTransform;for(I=0;I<M;I+=1){var F=s.shapes[I];if(F&&F.v){for(y=F._length,v=1;v<y;v+=1)1===v&&f.push({t:"m",p:k.applyToPointArray(F.v[0][0],F.v[0][1],0)}),f.push({t:"c",pts:k.applyToTriplePoints(F.o[v-1],F.i[v],F.v[v])});1===y&&f.push({t:"m",p:k.applyToPointArray(F.v[0][0],F.v[0][1],0)}),F.c&&y&&(f.push({t:"c",pts:k.applyToTriplePoints(F.o[v-1],F.i[0],F.v[0])}),f.push({t:"z"}))}}c.trNodes=f}},CVShapeElement.prototype.renderPath=function(c,h){if(!0!==c.hd&&c._shouldRender){var f,s=h.styledShapes.length;for(f=0;f<s;f+=1)this.renderStyledShape(h.styledShapes[f],h.sh)}},CVShapeElement.prototype.renderFill=function(c,h,f){var s=h.style;(h.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(h.c.v[0])+","+bmFloor(h.c.v[1])+","+bmFloor(h.c.v[2])+")"),(h.o._mdf||f._opMdf||this._isFirstFrame)&&(s.coOp=h.o.v*f.opacity)},CVShapeElement.prototype.renderGradientFill=function(c,h,f){var v,s=h.style;if(!s.grd||h.g._mdf||h.s._mdf||h.e._mdf||1!==c.t&&(h.h._mdf||h.a._mdf)){var y=this.globalData.canvasContext,I=h.s.v,M=h.e.v;if(1===c.t)v=y.createLinearGradient(I[0],I[1],M[0],M[1]);else{var k=Math.sqrt(Math.pow(I[0]-M[0],2)+Math.pow(I[1]-M[1],2)),F=Math.atan2(M[1]-I[1],M[0]-I[0]),z=h.h.v;z>=1?z=.99:z<=-1&&(z=-.99);var Q=k*z,R=Math.cos(F+h.a.v)*Q+I[0],H=Math.sin(F+h.a.v)*Q+I[1];v=y.createRadialGradient(R,H,0,I[0],I[1],k)}var U,q=c.g.p,ne=h.g.c,j=1;for(U=0;U<q;U+=1)h.g._hasOpacity&&h.g._collapsable&&(j=h.g.o[2*U+1]),v.addColorStop(ne[4*U]/100,"rgba("+ne[4*U+1]+","+ne[4*U+2]+","+ne[4*U+3]+","+j+")");s.grd=v}s.coOp=h.o.v*f.opacity},CVShapeElement.prototype.renderStroke=function(c,h,f){var s=h.style,v=h.d;v&&(v._mdf||this._isFirstFrame)&&(s.da=v.dashArray,s.do=v.dashoffset[0]),(h.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(h.c.v[0])+","+bmFloor(h.c.v[1])+","+bmFloor(h.c.v[2])+")"),(h.o._mdf||f._opMdf||this._isFirstFrame)&&(s.coOp=h.o.v*f.opacity),(h.w._mdf||this._isFirstFrame)&&(s.wi=h.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var c=this.textProperty.currentData;this.renderedLetters=createSizedArray(c.l?c.l.length:0);var h=!1;c.fc?(h=!0,this.values.fill=this.buildColor(c.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=h;var f=!1;c.sc&&(f=!0,this.values.stroke=this.buildColor(c.sc),this.values.sWidth=c.sw);var v,y,s=this.globalData.fontManager.getFontByName(c.f),I=c.l,M=this.mHelper;this.stroke=f,this.values.fValue=c.finalSize+"px "+this.globalData.fontManager.getFontByName(c.f).fFamily,y=c.finalText.length;var k,F,z,Q,R,H,U,q,ne,j,G=this.data.singleShape,B=.001*c.tr*c.finalSize,V=0,ee=0,te=!0,ie=0;for(v=0;v<y;v+=1){F=(k=this.globalData.fontManager.getCharData(c.finalText[v],s.fStyle,this.globalData.fontManager.getFontByName(c.f).fFamily))&&k.data||{},M.reset(),G&&I[v].n&&(V=-B,ee+=c.yOffset,ee+=te?1:0,te=!1),U=(R=F.shapes?F.shapes[0].it:[]).length,M.scale(c.finalSize/100,c.finalSize/100),G&&this.applyTextPropertiesToMatrix(c,M,I[v].line,V,ee),ne=createSizedArray(U-1);var ae=0;for(H=0;H<U;H+=1)if("sh"===R[H].ty){for(Q=R[H].ks.k.i.length,q=R[H].ks.k,j=[],z=1;z<Q;z+=1)1===z&&j.push(M.applyToX(q.v[0][0],q.v[0][1],0),M.applyToY(q.v[0][0],q.v[0][1],0)),j.push(M.applyToX(q.o[z-1][0],q.o[z-1][1],0),M.applyToY(q.o[z-1][0],q.o[z-1][1],0),M.applyToX(q.i[z][0],q.i[z][1],0),M.applyToY(q.i[z][0],q.i[z][1],0),M.applyToX(q.v[z][0],q.v[z][1],0),M.applyToY(q.v[z][0],q.v[z][1],0));j.push(M.applyToX(q.o[z-1][0],q.o[z-1][1],0),M.applyToY(q.o[z-1][0],q.o[z-1][1],0),M.applyToX(q.i[0][0],q.i[0][1],0),M.applyToY(q.i[0][0],q.i[0][1],0),M.applyToX(q.v[0][0],q.v[0][1],0),M.applyToY(q.v[0][0],q.v[0][1],0)),ne[ae]=j,ae+=1}G&&(V+=I[v].l,V+=B),this.textSpans[ie]?this.textSpans[ie].elem=ne:this.textSpans[ie]={elem:ne},ie+=1}},CVTextElement.prototype.renderInnerContent=function(){var c=this.canvasContext;c.font=this.values.fValue,c.lineCap="butt",c.lineJoin="miter",c.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var h,f,s,v,y,I,M=this.textAnimator.renderedLetters,k=this.textProperty.currentData.l;f=k.length;var F,H,U,z=null,Q=null,R=null;for(h=0;h<f;h+=1)if(!k[h].n){if((F=M[h])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(F.p),this.globalData.renderer.ctxOpacity(F.o)),this.fill){for(F&&F.fc?z!==F.fc&&(z=F.fc,c.fillStyle=F.fc):z!==this.values.fill&&(z=this.values.fill,c.fillStyle=this.values.fill),v=(H=this.textSpans[h].elem).length,this.globalData.canvasContext.beginPath(),s=0;s<v;s+=1)for(I=(U=H[s]).length,this.globalData.canvasContext.moveTo(U[0],U[1]),y=2;y<I;y+=6)this.globalData.canvasContext.bezierCurveTo(U[y],U[y+1],U[y+2],U[y+3],U[y+4],U[y+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(F&&F.sw?R!==F.sw&&(R=F.sw,c.lineWidth=F.sw):R!==this.values.sWidth&&(R=this.values.sWidth,c.lineWidth=this.values.sWidth),F&&F.sc?Q!==F.sc&&(Q=F.sc,c.strokeStyle=F.sc):Q!==this.values.stroke&&(Q=this.values.stroke,c.strokeStyle=this.values.stroke),v=(H=this.textSpans[h].elem).length,this.globalData.canvasContext.beginPath(),s=0;s<v;s+=1)for(I=(U=H[s]).length,this.globalData.canvasContext.moveTo(U[0],U[1]),y=2;y<I;y+=6)this.globalData.canvasContext.bezierCurveTo(U[y],U[y+1],U[y+2],U[y+3],U[y+4],U[y+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}F&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var c=createTag("canvas");c.width=this.assetData.w,c.height=this.assetData.h;var I,M,h=c.getContext("2d"),f=this.img.width,s=this.img.height,v=f/s,y=this.assetData.w/this.assetData.h,k=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;v>y&&"xMidYMid slice"===k||v<y&&"xMidYMid slice"!==k?I=(M=s)*y:M=(I=f)/y,h.drawImage(this.img,(f-I)/2,(s-M)/2,I,M,0,0,this.assetData.w,this.assetData.h),this.img=c}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var c=this.canvasContext;c.fillStyle=this.data.sc,c.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(c){return new CVShapeElement(c,this.globalData,this)},CanvasRendererBase.prototype.createText=function(c){return new CVTextElement(c,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(c){return new CVImageElement(c,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(c){return new CVSolidElement(c,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(c){if(1!==c[0]||0!==c[1]||0!==c[4]||1!==c[5]||0!==c[12]||0!==c[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(c[0],c[1],c[4],c[5],c[12],c[13]);this.transformMat.cloneFromProps(c);var h=this.contextData.getTransform(),f=h.props;this.transformMat.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),h.cloneFromProps(this.transformMat.props);var s=h.props;this.canvasContext.setTransform(s[0],s[1],s[4],s[5],s[12],s[13])}},CanvasRendererBase.prototype.ctxOpacity=function(c){var h=this.contextData.getOpacity();if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=c<0?0:c,void(this.globalData.currentGlobalAlpha=h);this.contextData.setOpacity(h*=c<0?0:c),this.globalData.currentGlobalAlpha!==h&&(this.canvasContext.globalAlpha=h,this.globalData.currentGlobalAlpha=h)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(c){this.renderConfig.clearCanvas?(c&&this.canvasContext.save(),this.contextData.push()):this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(c){if(this.renderConfig.clearCanvas){c&&(this.canvasContext.restore(),this.globalData.blendMode="source-over");var h=this.contextData.pop(),f=h.transform,s=h.opacity;this.canvasContext.setTransform(f[0],f[1],f[4],f[5],f[12],f[13]),this.globalData.currentGlobalAlpha!==s&&(this.canvasContext.globalAlpha=s,this.globalData.currentGlobalAlpha=s)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(c){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var h=this.animationItem.container.style;h.width="100%",h.height="100%";var f="0px 0px 0px";h.transformOrigin=f,h.mozTransformOrigin=f,h.webkitTransformOrigin=f,h["-webkit-transform"]=f,h.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=c,this.layers=c.layers,this.transformCanvas={w:c.w,h:c.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(c,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(c.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(c,h){var f,s,v,y;if(this.reset(),c?(s=h,this.canvasContext.canvas.width=f=c,this.canvasContext.canvas.height=s):(this.animationItem.wrapper&&this.animationItem.container?(f=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight):(f=this.canvasContext.canvas.width,s=this.canvasContext.canvas.height),this.canvasContext.canvas.width=f*this.renderConfig.dpr,this.canvasContext.canvas.height=s*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var I=this.renderConfig.preserveAspectRatio.split(" "),M=I[1]||"meet",k=I[0]||"xMidYMid",F=k.substr(0,4),z=k.substr(4);(y=this.transformCanvas.w/this.transformCanvas.h)>(v=f/s)&&"meet"===M||y<v&&"slice"===M?(this.transformCanvas.sx=f/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=f/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===F&&(y<v&&"meet"===M||y>v&&"slice"===M)?(f-this.transformCanvas.w*(s/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===F&&(y<v&&"meet"===M||y>v&&"slice"===M)?(f-this.transformCanvas.w*(s/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===z&&(y>v&&"meet"===M||y<v&&"slice"===M)?(s-this.transformCanvas.h*(f/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===z&&(y>v&&"meet"===M||y<v&&"slice"===M)?(s-this.transformCanvas.h*(f/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=f/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var c;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),c=(this.layers?this.layers.length:0)-1;c>=0;c-=1)this.elements[c]&&this.elements[c].destroy&&this.elements[c].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(c,h){if((this.renderedFrame!==c||!0!==this.renderConfig.clearCanvas||h)&&!this.destroyed&&-1!==c){this.renderedFrame=c,this.globalData.frameNum=c-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||h,this.globalData.projectInterface.currentFrame=c;var f,s=this.layers.length;for(this.completeLayers||this.checkLayers(c),f=0;f<s;f+=1)(this.completeLayers||this.elements[f])&&this.elements[f].prepareFrame(c-this.layers[f].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),f=s-1;f>=0;f-=1)(this.completeLayers||this.elements[f])&&this.elements[f].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(c){var h=this.elements;if(!h[c]&&99!==this.layers[c].ty){var f=this.createItem(this.layers[c],this,this.globalData);h[c]=f,f.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var h,c=this.canvasContext;for(c.beginPath(),c.moveTo(0,0),c.lineTo(this.data.w,0),c.lineTo(this.data.w,this.data.h),c.lineTo(0,this.data.h),c.lineTo(0,0),c.clip(),h=this.layers.length-1;h>=0;h-=1)(this.completeLayers||this.elements[h])&&this.elements[h].renderFrame()},CVCompElement.prototype.destroy=function(){var c;for(c=this.layers.length-1;c>=0;c-=1)this.elements[c]&&this.elements[c].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(c){return new CVCompElement(c,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(c){return new CVCompElement(c,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var h=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var f=this.finalTransform.mat.toCSS();h.transform=f,h.webkitTransform=f}this.finalTransform._opMdf&&(h.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var c;this.data.hasMask?((c=createNS("rect")).setAttribute("width",this.data.sw),c.setAttribute("height",this.data.sh),c.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((c=createTag("div")).style.width=this.data.sw+"px",c.style.height=this.data.sh+"px",c.style.backgroundColor=this.data.sc),this.layerElement.appendChild(c)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var c;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),c=this.svgElement;else{c=createNS("svg");var h=this.comp.data?this.comp.data:this.globalData.compSize;c.setAttribute("width",h.w),c.setAttribute("height",h.h),c.appendChild(this.shapesContainer),this.layerElement.appendChild(c)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=c},HShapeElement.prototype.getTransformedPoint=function(c,h){var f,s=c.length;for(f=0;f<s;f+=1)h=c[f].mProps.v.applyToPointArray(h[0],h[1],0);return h},HShapeElement.prototype.calculateShapeBoundingBox=function(c,h){var v,I,M,k,F,f=c.sh.v,s=c.transformers,y=f._length;if(!(y<=1)){for(v=0;v<y-1;v+=1)I=this.getTransformedPoint(s,f.v[v]),M=this.getTransformedPoint(s,f.o[v]),k=this.getTransformedPoint(s,f.i[v+1]),F=this.getTransformedPoint(s,f.v[v+1]),this.checkBounds(I,M,k,F,h);f.c&&(I=this.getTransformedPoint(s,f.v[v]),M=this.getTransformedPoint(s,f.o[v]),k=this.getTransformedPoint(s,f.i[0]),F=this.getTransformedPoint(s,f.v[0]),this.checkBounds(I,M,k,F,h))}},HShapeElement.prototype.checkBounds=function(c,h,f,s,v){this.getBoundsOfCurve(c,h,f,s);var y=this.shapeBoundingBox;v.x=bmMin(y.left,v.x),v.xMax=bmMax(y.right,v.xMax),v.y=bmMin(y.top,v.y),v.yMax=bmMax(y.bottom,v.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(c,h,f,s){for(var y,I,M,k,F,z,Q,v=[[c[0],s[0]],[c[1],s[1]]],R=0;R<2;++R)I=6*c[R]-12*h[R]+6*f[R],y=-3*c[R]+9*h[R]-9*f[R]+3*s[R],M=3*h[R]-3*c[R],I|=0,M|=0,0==(y|=0)&&0===I||(0===y?(k=-M/I)>0&&k<1&&v[R].push(this.calculateF(k,c,h,f,s,R)):(F=I*I-4*M*y)>=0&&((z=(-I+bmSqrt(F))/(2*y))>0&&z<1&&v[R].push(this.calculateF(z,c,h,f,s,R)),(Q=(-I-bmSqrt(F))/(2*y))>0&&Q<1&&v[R].push(this.calculateF(Q,c,h,f,s,R))));this.shapeBoundingBox.left=bmMin.apply(null,v[0]),this.shapeBoundingBox.top=bmMin.apply(null,v[1]),this.shapeBoundingBox.right=bmMax.apply(null,v[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,v[1])},HShapeElement.prototype.calculateF=function(c,h,f,s,v,y){return bmPow(1-c,3)*h[y]+3*bmPow(1-c,2)*c*f[y]+3*(1-c)*bmPow(c,2)*s[y]+bmPow(c,3)*v[y]},HShapeElement.prototype.calculateBoundingBox=function(c,h){var f,s=c.length;for(f=0;f<s;f+=1)c[f]&&c[f].sh?this.calculateShapeBoundingBox(c[f],h):c[f]&&c[f].it?this.calculateBoundingBox(c[f].it,h):c[f]&&c[f].style&&c[f].w&&this.expandStrokeBoundingBox(c[f].w,h)},HShapeElement.prototype.expandStrokeBoundingBox=function(c,h){var f=0;if(c.keyframes){for(var s=0;s<c.keyframes.length;s+=1){var v=c.keyframes[s].s;v>f&&(f=v)}f*=c.mult}else f=c.v*c.mult;h.x-=f,h.xMax+=f,h.y-=f,h.yMax+=f},HShapeElement.prototype.currentBoxContains=function(c){return this.currentBBox.x<=c.x&&this.currentBBox.y<=c.y&&this.currentBBox.width+this.currentBBox.x>=c.x+c.width&&this.currentBBox.height+this.currentBBox.y>=c.y+c.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var c=this.tempBoundingBox,h=999999;if(c.x=h,c.xMax=-h,c.y=h,c.yMax=-h,this.calculateBoundingBox(this.itemsData,c),c.width=c.xMax<c.x?0:c.xMax-c.x,c.height=c.yMax<c.y?0:c.yMax-c.y,this.currentBoxContains(c))return;var f=!1;if(this.currentBBox.w!==c.width&&(this.currentBBox.w=c.width,this.shapeCont.setAttribute("width",c.width),f=!0),this.currentBBox.h!==c.height&&(this.currentBBox.h=c.height,this.shapeCont.setAttribute("height",c.height),f=!0),f||this.currentBBox.x!==c.x||this.currentBBox.y!==c.y){this.currentBBox.w=c.width,this.currentBBox.h=c.height,this.currentBBox.x=c.x,this.currentBBox.y=c.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var s=this.shapeCont.style,v="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=v,s.webkitTransform=v}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var c=createNS("g");this.maskedElement.appendChild(c),this.innerElem=c}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var c=this.textProperty.currentData;this.renderedLetters=createSizedArray(c.l?c.l.length:0);var h=this.innerElem.style,f=c.fc?this.buildColor(c.fc):"rgba(0,0,0,0)";h.fill=f,h.color=f,c.sc&&(h.stroke=this.buildColor(c.sc),h.strokeWidth=c.sw+"px");var s=this.globalData.fontManager.getFontByName(c.f);if(!this.globalData.fontManager.chars)if(h.fontSize=c.finalSize+"px",h.lineHeight=c.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{h.fontFamily=s.fFamily;var v=c.fWeight;h.fontStyle=c.fStyle,h.fontWeight=v}var I,M,k=c.l;M=k.length;var F,z,Q,H,R=this.mHelper,U="",q=0;for(I=0;I<M;I+=1){if(this.globalData.fontManager.chars?(this.textPaths[q]?F=this.textPaths[q]:((F=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),F.setAttribute("stroke-linejoin",lineJoinEnum[2]),F.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[q]?Q=(z=this.textSpans[q]).children[0]:((z=createTag("div")).style.lineHeight=0,(Q=createNS("svg")).appendChild(F),styleDiv(z)))):this.isMasked?F=this.textPaths[q]?this.textPaths[q]:createNS("text"):this.textSpans[q]?(z=this.textSpans[q],F=this.textPaths[q]):(styleDiv(z=createTag("span")),styleDiv(F=createTag("span")),z.appendChild(F)),this.globalData.fontManager.chars){var j,ne=this.globalData.fontManager.getCharData(c.finalText[I],s.fStyle,this.globalData.fontManager.getFontByName(c.f).fFamily);if(j=ne?ne.data:null,R.reset(),j&&j.shapes&&j.shapes.length&&(H=j.shapes[0].it,R.scale(c.finalSize/100,c.finalSize/100),U=this.createPathShape(R,H),F.setAttribute("d",U)),this.isMasked)this.innerElem.appendChild(F);else{if(this.innerElem.appendChild(z),j&&j.shapes){document.body.appendChild(Q);var G=Q.getBBox();Q.setAttribute("width",G.width+2),Q.setAttribute("height",G.height+2),Q.setAttribute("viewBox",G.x-1+" "+(G.y-1)+" "+(G.width+2)+" "+(G.height+2));var B=Q.style,V="translate("+(G.x-1)+"px,"+(G.y-1)+"px)";B.transform=V,B.webkitTransform=V,k[I].yOffset=G.y-1}else Q.setAttribute("width",1),Q.setAttribute("height",1);z.appendChild(Q)}}else if(F.textContent=k[I].val,F.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(F);else{this.innerElem.appendChild(z);var ee=F.style,te="translate3d(0,"+-c.finalSize/1.2+"px,0)";ee.transform=te,ee.webkitTransform=te}this.textSpans[q]=this.isMasked?F:z,this.textSpans[q].style.display="block",this.textPaths[q]=F,q+=1}for(;q<this.textSpans.length;)this.textSpans[q].style.display="none",q+=1},HTextElement.prototype.renderInnerContent=function(){var c;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH);var h="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";(c=this.svgElement.style).transform=h,c.webkitTransform=h}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var f,s,M,k,F,v=0,y=this.textAnimator.renderedLetters,I=this.textProperty.currentData.l;for(s=I.length,f=0;f<s;f+=1)I[f].n?v+=1:(k=this.textSpans[f],F=this.textPaths[f],M=y[v],v+=1,M._mdf.m&&(this.isMasked?k.setAttribute("transform",M.m):(k.style.webkitTransform=M.m,k.style.transform=M.m)),k.style.opacity=M.o,M.sw&&M._mdf.sw&&F.setAttribute("stroke-width",M.sw),M.sc&&M._mdf.sc&&F.setAttribute("stroke",M.sc),M.fc&&M._mdf.fc&&(F.setAttribute("fill",M.fc),F.style.color=M.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var z=this.innerElem.getBBox();if(this.currentBBox.w!==z.width&&(this.currentBBox.w=z.width,this.svgElement.setAttribute("width",z.width)),this.currentBBox.h!==z.height&&(this.currentBBox.h=z.height,this.svgElement.setAttribute("height",z.height)),this.currentBBox.w!==z.width+2||this.currentBBox.h!==z.height+2||this.currentBBox.x!==z.x-1||this.currentBBox.y!==z.y-1){this.currentBBox.w=z.width+2,this.currentBBox.h=z.height+2,this.currentBBox.x=z.x-1,this.currentBBox.y=z.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var R="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";(c=this.svgElement.style).transform=R,c.webkitTransform=R}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var c,f,s,v,h=this.comp.threeDElements.length;for(c=0;c<h;c+=1)if("3d"===(f=this.comp.threeDElements[c]).type){v=f.container.style;var y=this.pe.v+"px",I="0px 0px 0px",M="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(s=f.perspectiveElem.style).perspective=y,s.webkitPerspective=y,v.transformOrigin=I,v.mozTransformOrigin=I,v.webkitTransformOrigin=I,s.transform=M,s.webkitTransform=M}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var h,f,c=this._isFirstFrame;if(this.hierarchy)for(f=this.hierarchy.length,h=0;h<f;h+=1)c=this.hierarchy[h].finalTransform.mProp._mdf||c;if(c||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(h=f=this.hierarchy.length-1;h>=0;h-=1){var s=this.hierarchy[h].finalTransform.mProp;this.mat.translate(-s.p.v[0],-s.p.v[1],s.p.v[2]),this.mat.rotateX(-s.or.v[0]).rotateY(-s.or.v[1]).rotateZ(s.or.v[2]),this.mat.rotateX(-s.rx.v).rotateY(-s.ry.v).rotateZ(s.rz.v),this.mat.scale(1/s.s.v[0],1/s.s.v[1],1/s.s.v[2]),this.mat.translate(s.a.v[0],s.a.v[1],s.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var v;v=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var y=Math.sqrt(Math.pow(v[0],2)+Math.pow(v[1],2)+Math.pow(v[2],2)),I=[v[0]/y,v[1]/y,v[2]/y],M=Math.sqrt(I[2]*I[2]+I[0]*I[0]),k=Math.atan2(I[1],M),F=Math.atan2(I[0],-I[2]);this.mat.rotateY(F).rotateX(-k)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var z=!this._prevMat.equals(this.mat);if((z||this.pe._mdf)&&this.comp.threeDElements){var Q,R,H;for(f=this.comp.threeDElements.length,h=0;h<f;h+=1)if("3d"===(Q=this.comp.threeDElements[h]).type){if(z){var U=this.mat.toCSS();(H=Q.container.style).transform=U,H.webkitTransform=U}this.pe._mdf&&((R=Q.perspectiveElem.style).perspective=this.pe.v+"px",R.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(c){this.prepareProperties(c,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var c=this.globalData.getAssetsPath(this.assetData),h=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",c),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(h),h.crossOrigin="anonymous",h.src=c,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(c,h){var f=c.getBaseElement();if(f){var s=this.layers[h];if(s.ddd&&this.supports3d)this.addTo3dContainer(f,h);else if(this.threeDElements)this.addTo3dContainer(f,h);else{for(var y,I,v=0;v<h;)this.elements[v]&&!0!==this.elements[v]&&this.elements[v].getBaseElement&&(I=this.elements[v],y=(this.layers[v].ddd?this.getThreeDContainerByPos(v):I.getBaseElement())||y),v+=1;y?(!s.ddd||!this.supports3d)&&this.layerElement.insertBefore(f,y):(!s.ddd||!this.supports3d)&&this.layerElement.appendChild(f)}}},HybridRendererBase.prototype.createShape=function(c){return this.supports3d?new HShapeElement(c,this.globalData,this):new SVGShapeElement(c,this.globalData,this)},HybridRendererBase.prototype.createText=function(c){return this.supports3d?new HTextElement(c,this.globalData,this):new SVGTextLottieElement(c,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(c){return this.camera=new HCameraElement(c,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(c){return this.supports3d?new HImageElement(c,this.globalData,this):new IImageElement(c,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(c){return this.supports3d?new HSolidElement(c,this.globalData,this):new ISolidElement(c,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(c){for(var h=0,f=this.threeDElements.length;h<f;){if(this.threeDElements[h].startPos<=c&&this.threeDElements[h].endPos>=c)return this.threeDElements[h].perspectiveElem;h+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(c,h){var s,v,f=createTag("div");styleDiv(f);var y=createTag("div");if(styleDiv(y),"3d"===h){(s=f.style).width=this.globalData.compSize.w+"px",s.height=this.globalData.compSize.h+"px";var I="50% 50%";s.webkitTransformOrigin=I,s.mozTransformOrigin=I,s.transformOrigin=I;var M="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(v=y.style).transform=M,v.webkitTransform=M}f.appendChild(y);var k={container:y,perspectiveElem:f,startPos:c,endPos:c,type:h};return this.threeDElements.push(k),k},HybridRendererBase.prototype.build3dContainers=function(){var c,f,h=this.layers.length,s="";for(c=0;c<h;c+=1)this.layers[c].ddd&&3!==this.layers[c].ty?("3d"!==s&&(s="3d",f=this.createThreeDContainer(c,"3d")),f.endPos=Math.max(f.endPos,c)):("2d"!==s&&(s="2d",f=this.createThreeDContainer(c,"2d")),f.endPos=Math.max(f.endPos,c));for(c=(h=this.threeDElements.length)-1;c>=0;c-=1)this.resizerElem.appendChild(this.threeDElements[c].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(c,h){for(var f=0,s=this.threeDElements.length;f<s;){if(h<=this.threeDElements[f].endPos){for(var y,v=this.threeDElements[f].startPos;v<h;)this.elements[v]&&this.elements[v].getBaseElement&&(y=this.elements[v].getBaseElement()),v+=1;y?this.threeDElements[f].container.insertBefore(c,y):this.threeDElements[f].container.appendChild(c);break}f+=1}},HybridRendererBase.prototype.configAnimation=function(c){var h=createTag("div"),f=this.animationItem.wrapper,s=h.style;s.width=c.w+"px",s.height=c.h+"px",this.resizerElem=h,styleDiv(h),s.transformStyle="flat",s.mozTransformStyle="flat",s.webkitTransformStyle="flat",this.renderConfig.className&&h.setAttribute("class",this.renderConfig.className),f.appendChild(h),s.overflow="hidden";var v=createNS("svg");v.setAttribute("width","1"),v.setAttribute("height","1"),styleDiv(v),this.resizerElem.appendChild(v);var y=createNS("defs");v.appendChild(y),this.data=c,this.setupGlobalData(c,v),this.globalData.defs=y,this.layers=c.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var c,h=this.layers?this.layers.length:0;for(c=0;c<h;c+=1)this.elements[c]&&this.elements[c].destroy&&this.elements[c].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var v,y,I,M,c=this.animationItem.wrapper.offsetWidth,h=this.animationItem.wrapper.offsetHeight;this.globalData.compSize.w/this.globalData.compSize.h>c/h?(v=c/this.globalData.compSize.w,y=c/this.globalData.compSize.w,I=0,M=(h-this.globalData.compSize.h*(c/this.globalData.compSize.w))/2):(v=h/this.globalData.compSize.h,y=h/this.globalData.compSize.h,I=(c-this.globalData.compSize.w*(h/this.globalData.compSize.h))/2,M=0);var k=this.resizerElem.style;k.webkitTransform="matrix3d("+v+",0,0,0,0,"+y+",0,0,0,0,1,0,"+I+","+M+",0,1)",k.transform=k.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var f,c=this.globalData.compSize.w,h=this.globalData.compSize.h,s=this.threeDElements.length;for(f=0;f<s;f+=1){var v=this.threeDElements[f].perspectiveElem.style;v.webkitPerspective=Math.sqrt(Math.pow(c,2)+Math.pow(h,2))+"px",v.perspective=v.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(c){var h,f=c.length,s=createTag("div");for(h=0;h<f;h+=1)if(c[h].xt){var v=this.createComp(c[h],s,this.globalData.comp,null);v.initExpressions(),this.globalData.projectInterface.registerComposition(v)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(c,h){for(var s,f=0;f<h;)this.elements[f]&&this.elements[f].getBaseElement&&(s=this.elements[f].getBaseElement()),f+=1;s?this.layerElement.insertBefore(c,s):this.layerElement.appendChild(c)},HCompElement.prototype.createComp=function(c){return this.supports3d?new HCompElement(c,this.globalData,this):new SVGCompElement(c,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(c){return this.supports3d?new HCompElement(c,this.globalData,this):new SVGCompElement(c,this.globalData,this)};var CompExpressionInterface=function(c){function h(f){for(var s=0,v=c.layers.length;s<v;){if(c.layers[s].nm===f||c.layers[s].ind===f)return c.elements[s].layerInterface;s+=1}return null}return Object.defineProperty(h,"_name",{value:c.data.nm}),h.layer=h,h.pixelAspect=1,h.height=c.data.h||c.globalData.compSize.h,h.width=c.data.w||c.globalData.compSize.w,h.pixelAspect=1,h.frameDuration=1/c.globalData.frameRate,h.displayStartTime=0,h.numLayers=c.layers.length,h},Expressions=function(){var c={initExpressions:function h(f){var s=0,v=[];f.renderer.compInterface=CompExpressionInterface(f.renderer),f.renderer.globalData.projectInterface.registerComposition(f.renderer),f.renderer.globalData.pushExpression=function y(){s+=1},f.renderer.globalData.popExpression=function I(){0==(s-=1)&&function k(){var F,z=v.length;for(F=0;F<z;F+=1)v[F].release();v.length=0}()},f.renderer.globalData.registerExpressionProperty=function M(F){-1===v.indexOf(F)&&v.push(F)}}};return c}(),MaskManagerInterface=function(){function c(f,s){this._mask=f,this._data=s}return Object.defineProperty(c.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(c.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(s){var y,v=createSizedArray(s.viewData.length),I=s.viewData.length;for(y=0;y<I;y+=1)v[y]=new c(s.viewData[y],s.masksProperties[y]);return function(F){for(y=0;y<I;){if(s.masksProperties[y].nm===F)return v[y];y+=1}return null}}}(),ExpressionPropertyInterface=function(){var c={pv:0,v:0,mult:1},h={pv:[0,0,0],v:[0,0,0],mult:1};function f(I,M,k){Object.defineProperty(I,"velocity",{get:function(){return M.getVelocityAtTime(M.comp.currentFrame)}}),I.numKeys=M.keyframes?M.keyframes.length:0,I.key=function(F){if(!I.numKeys)return 0;var z;z="s"in M.keyframes[F-1]?M.keyframes[F-1].s:"e"in M.keyframes[F-2]?M.keyframes[F-2].e:M.keyframes[F-2].s;var Q="unidimensional"===k?new Number(z):Object.assign({},z);return Q.time=M.keyframes[F-1].t/M.elem.comp.globalData.frameRate,Q.value="unidimensional"===k?z[0]:z,Q},I.valueAtTime=M.getValueAtTime,I.speedAtTime=M.getSpeedAtTime,I.velocityAtTime=M.getVelocityAtTime,I.propertyGroup=M.propertyGroup}function y(){return c}return function(I){return I?"unidimensional"===I.propType?function s(I){(!I||!("pv"in I))&&(I=c);var M=1/I.mult,k=I.pv*M,F=new Number(k);return F.value=k,f(F,I,"unidimensional"),function(){return I.k&&I.getValue(),F.value!==(k=I.v*M)&&((F=new Number(k)).value=k,f(F,I,"unidimensional")),F}}(I):function v(I){(!I||!("pv"in I))&&(I=h);var M=1/I.mult,k=I.data&&I.data.l||I.pv.length,F=createTypedArray("float32",k),z=createTypedArray("float32",k);return F.value=z,f(F,I,"multidimensional"),function(){I.k&&I.getValue();for(var Q=0;Q<k;Q+=1)z[Q]=I.v[Q]*M,F[Q]=z[Q];return F}}(I):y}}(),TransformExpressionInterface=function(c){function h(I){switch(I){case"scale":case"Scale":case"ADBE Scale":case 6:return h.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return h.rotation;case"ADBE Rotate X":return h.xRotation;case"ADBE Rotate Y":return h.yRotation;case"position":case"Position":case"ADBE Position":case 2:return h.position;case"ADBE Position_0":return h.xPosition;case"ADBE Position_1":return h.yPosition;case"ADBE Position_2":return h.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return h.anchorPoint;case"opacity":case"Opacity":case 11:return h.opacity;default:return null}}var f,s,v,y;return Object.defineProperty(h,"rotation",{get:ExpressionPropertyInterface(c.r||c.rz)}),Object.defineProperty(h,"zRotation",{get:ExpressionPropertyInterface(c.rz||c.r)}),Object.defineProperty(h,"xRotation",{get:ExpressionPropertyInterface(c.rx)}),Object.defineProperty(h,"yRotation",{get:ExpressionPropertyInterface(c.ry)}),Object.defineProperty(h,"scale",{get:ExpressionPropertyInterface(c.s)}),c.p?y=ExpressionPropertyInterface(c.p):(f=ExpressionPropertyInterface(c.px),s=ExpressionPropertyInterface(c.py),c.pz&&(v=ExpressionPropertyInterface(c.pz))),Object.defineProperty(h,"position",{get:function(){return c.p?y():[f(),s(),v?v():0]}}),Object.defineProperty(h,"xPosition",{get:ExpressionPropertyInterface(c.px)}),Object.defineProperty(h,"yPosition",{get:ExpressionPropertyInterface(c.py)}),Object.defineProperty(h,"zPosition",{get:ExpressionPropertyInterface(c.pz)}),Object.defineProperty(h,"anchorPoint",{get:ExpressionPropertyInterface(c.a)}),Object.defineProperty(h,"opacity",{get:ExpressionPropertyInterface(c.o)}),Object.defineProperty(h,"skew",{get:ExpressionPropertyInterface(c.sk)}),Object.defineProperty(h,"skewAxis",{get:ExpressionPropertyInterface(c.sa)}),Object.defineProperty(h,"orientation",{get:ExpressionPropertyInterface(c.or)}),h},LayerExpressionInterface=function(){function c(F){var z=new Matrix;return void 0!==F?this._elem.finalTransform.mProp.getValueAtTime(F).clone(z):this._elem.finalTransform.mProp.applyToMatrix(z),z}function h(F,z){var Q=this.getMatrix(z);return Q.props[12]=0,Q.props[13]=0,Q.props[14]=0,this.applyPoint(Q,F)}function f(F,z){var Q=this.getMatrix(z);return this.applyPoint(Q,F)}function s(F,z){var Q=this.getMatrix(z);return Q.props[12]=0,Q.props[13]=0,Q.props[14]=0,this.invertPoint(Q,F)}function v(F,z){var Q=this.getMatrix(z);return this.invertPoint(Q,F)}function y(F,z){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Q,R=this._elem.hierarchy.length;for(Q=0;Q<R;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(F)}return F.applyToPointArray(z[0],z[1],z[2]||0)}function I(F,z){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Q,R=this._elem.hierarchy.length;for(Q=0;Q<R;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(F)}return F.inversePoint(z)}function M(F){var z=new Matrix;if(z.reset(),this._elem.finalTransform.mProp.applyToMatrix(z),this._elem.hierarchy&&this._elem.hierarchy.length){var Q,R=this._elem.hierarchy.length;for(Q=0;Q<R;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(z);return z.inversePoint(F)}return z.inversePoint(F)}function k(){return[1,1,1,1]}return function(F){var z;function H(q){switch(q){case"ADBE Root Vectors Group":case"Contents":case 2:return H.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return z;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return H.effect;case"ADBE Text Properties":return H.textInterface;default:return null}}H.getMatrix=c,H.invertPoint=I,H.applyPoint=y,H.toWorld=f,H.toWorldVec=h,H.fromWorld=v,H.fromWorldVec=s,H.toComp=f,H.fromComp=M,H.sampleImage=k,H.sourceRectAtTime=F.sourceRectAtTime.bind(F),H._elem=F;var U=getDescriptor(z=TransformExpressionInterface(F.finalTransform.mProp),"anchorPoint");return Object.defineProperties(H,{hasParent:{get:function(){return F.hierarchy.length}},parent:{get:function(){return F.hierarchy[0].layerInterface}},rotation:getDescriptor(z,"rotation"),scale:getDescriptor(z,"scale"),position:getDescriptor(z,"position"),opacity:getDescriptor(z,"opacity"),anchorPoint:U,anchor_point:U,transform:{get:function(){return z}},active:{get:function(){return F.isInRange}}}),H.startTime=F.data.st,H.index=F.data.ind,H.source=F.data.refId,H.height=0===F.data.ty?F.data.h:100,H.width=0===F.data.ty?F.data.w:100,H.inPoint=F.data.ip/F.comp.globalData.frameRate,H.outPoint=F.data.op/F.comp.globalData.frameRate,H._name=F.data.nm,H.registerMaskInterface=function Q(q){H.mask=new MaskManagerInterface(q,F)},H.registerEffectsInterface=function R(q){H.effect=q},H}}(),propertyGroupFactory=function(c,h){return function(f){return(f=void 0===f?1:f)<=0?c:h(f-1)}},PropertyInterface=function(c,h){var f={_name:c};return function s(v){return(v=void 0===v?1:v)<=0?f:h(v-1)}},EffectsExpressionInterface=function(){function f(v,y,I,M){function k(H){for(var U=v.ef,q=0,ne=U.length;q<ne;){if(H===U[q].nm||H===U[q].mn||H===U[q].ix)return 5===U[q].ty?z[q]:z[q]();q+=1}throw new Error}var Q,F=propertyGroupFactory(k,I),z=[],R=v.ef.length;for(Q=0;Q<R;Q+=1)z.push(5===v.ef[Q].ty?f(v.ef[Q],y.effectElements[Q],y.effectElements[Q].propertyGroup,M):s(y.effectElements[Q],v.ef[Q].ty,M,F));return"ADBE Color Control"===v.mn&&Object.defineProperty(k,"color",{get:function(){return z[0]()}}),Object.defineProperties(k,{numProperties:{get:function(){return v.np}},_name:{value:v.nm},propertyGroup:{value:F}}),k.active=k.enabled=0!==v.en,k}function s(v,y,I,M){var k=ExpressionPropertyInterface(v.p);return v.p.setGroupProperty&&v.p.setGroupProperty(PropertyInterface("",M)),function F(){return 10===y?I.comp.compInterface(v.p.v):k()}}return{createEffectsInterface:function h(v,y){if(v.effectsManager){var k,I=[],M=v.data.ef,F=v.effectsManager.effectElements.length;for(k=0;k<F;k+=1)I.push(f(M[k],v.effectsManager.effectElements[k],y,v));var z=v.data.ef||[],Q=function(H){for(k=0,F=z.length;k<F;){if(H===z[k].nm||H===z[k].mn||H===z[k].ix)return I[k];k+=1}return null};return Object.defineProperty(Q,"numProperties",{get:function(){return z.length}}),Q}return null}}}(),ShapePathInterface=function(h,f,s){var v=f.sh;function y(M){return"Shape"===M||"shape"===M||"Path"===M||"path"===M||"ADBE Vector Shape"===M||2===M?y.path:null}var I=propertyGroupFactory(y,s);return v.setGroupProperty(PropertyInterface("Path",I)),Object.defineProperties(y,{path:{get:function(){return v.k&&v.getValue(),v}},shape:{get:function(){return v.k&&v.getValue(),v}},_name:{value:h.nm},ix:{value:h.ix},propertyIndex:{value:h.ix},mn:{value:h.mn},propertyGroup:{value:s}}),y},ShapeExpressionInterface=function(){function c(U,q,ne){var G,j=[],B=U?U.length:0;for(G=0;G<B;G+=1)"gr"===U[G].ty?j.push(f(U[G],q[G],ne)):"fl"===U[G].ty?j.push(s(U[G],q[G],ne)):"st"===U[G].ty?j.push(I(U[G],q[G],ne)):"tm"===U[G].ty?j.push(M(U[G],q[G],ne)):"tr"===U[G].ty||j.push("el"===U[G].ty?F(U[G],q[G],ne):"sr"===U[G].ty?z(U[G],q[G],ne):"sh"===U[G].ty?ShapePathInterface(U[G],q[G],ne):"rc"===U[G].ty?Q(U[G],q[G],ne):"rd"===U[G].ty?R(U[G],q[G],ne):"rp"===U[G].ty?H(U[G],q[G],ne):"gf"===U[G].ty?v(U[G],q[G],ne):function U(){return null});return j}function f(U,q,ne){var j=function(ee){switch(ee){case"ADBE Vectors Group":case"Contents":case 2:return j.content;default:return j.transform}};j.propertyGroup=propertyGroupFactory(j,ne);var G=function h(U,q,ne){var j,G=function(ee){for(var te=0,ie=j.length;te<ie;){if(j[te]._name===ee||j[te].mn===ee||j[te].propertyIndex===ee||j[te].ix===ee||j[te].ind===ee)return j[te];te+=1}return"number"==typeof ee?j[ee-1]:null};G.propertyGroup=propertyGroupFactory(G,ne),j=c(U.it,q.it,G.propertyGroup),G.numProperties=j.length;var B=k(U.it[U.it.length-1],q.it[q.it.length-1],G.propertyGroup);return G.transform=B,G.propertyIndex=U.cix,G._name=U.nm,G}(U,q,j.propertyGroup),B=k(U.it[U.it.length-1],q.it[q.it.length-1],j.propertyGroup);return j.content=G,j.transform=B,Object.defineProperty(j,"_name",{get:function(){return U.nm}}),j.numProperties=U.np,j.propertyIndex=U.ix,j.nm=U.nm,j.mn=U.mn,j}function s(U,q,ne){function j(G){return"Color"===G||"color"===G?j.color:"Opacity"===G||"opacity"===G?j.opacity:null}return Object.defineProperties(j,{color:{get:ExpressionPropertyInterface(q.c)},opacity:{get:ExpressionPropertyInterface(q.o)},_name:{value:U.nm},mn:{value:U.mn}}),q.c.setGroupProperty(PropertyInterface("Color",ne)),q.o.setGroupProperty(PropertyInterface("Opacity",ne)),j}function v(U,q,ne){function j(G){return"Start Point"===G||"start point"===G?j.startPoint:"End Point"===G||"end point"===G?j.endPoint:"Opacity"===G||"opacity"===G?j.opacity:null}return Object.defineProperties(j,{startPoint:{get:ExpressionPropertyInterface(q.s)},endPoint:{get:ExpressionPropertyInterface(q.e)},opacity:{get:ExpressionPropertyInterface(q.o)},type:{get:function(){return"a"}},_name:{value:U.nm},mn:{value:U.mn}}),q.s.setGroupProperty(PropertyInterface("Start Point",ne)),q.e.setGroupProperty(PropertyInterface("End Point",ne)),q.o.setGroupProperty(PropertyInterface("Opacity",ne)),j}function I(U,q,ne){var V,ae,j=propertyGroupFactory(ie,ne),G=propertyGroupFactory(te,j),ee=U.d?U.d.length:0,te={};for(V=0;V<ee;V+=1)ae=V,Object.defineProperty(te,U.d[ae].nm,{get:ExpressionPropertyInterface(q.d.dataProps[ae].p)}),q.d.dataProps[V].p.setGroupProperty(G);function ie(ae){return"Color"===ae||"color"===ae?ie.color:"Opacity"===ae||"opacity"===ae?ie.opacity:"Stroke Width"===ae||"stroke width"===ae?ie.strokeWidth:null}return Object.defineProperties(ie,{color:{get:ExpressionPropertyInterface(q.c)},opacity:{get:ExpressionPropertyInterface(q.o)},strokeWidth:{get:ExpressionPropertyInterface(q.w)},dash:{get:function(){return te}},_name:{value:U.nm},mn:{value:U.mn}}),q.c.setGroupProperty(PropertyInterface("Color",j)),q.o.setGroupProperty(PropertyInterface("Opacity",j)),q.w.setGroupProperty(PropertyInterface("Stroke Width",j)),ie}function M(U,q,ne){function j(B){return B===U.e.ix||"End"===B||"end"===B?j.end:B===U.s.ix?j.start:B===U.o.ix?j.offset:null}var G=propertyGroupFactory(j,ne);return j.propertyIndex=U.ix,q.s.setGroupProperty(PropertyInterface("Start",G)),q.e.setGroupProperty(PropertyInterface("End",G)),q.o.setGroupProperty(PropertyInterface("Offset",G)),j.propertyIndex=U.ix,j.propertyGroup=ne,Object.defineProperties(j,{start:{get:ExpressionPropertyInterface(q.s)},end:{get:ExpressionPropertyInterface(q.e)},offset:{get:ExpressionPropertyInterface(q.o)},_name:{value:U.nm}}),j.mn=U.mn,j}function k(U,q,ne){function j(B){return U.a.ix===B||"Anchor Point"===B?j.anchorPoint:U.o.ix===B||"Opacity"===B?j.opacity:U.p.ix===B||"Position"===B?j.position:U.r.ix===B||"Rotation"===B||"ADBE Vector Rotation"===B?j.rotation:U.s.ix===B||"Scale"===B?j.scale:U.sk&&U.sk.ix===B||"Skew"===B?j.skew:U.sa&&U.sa.ix===B||"Skew Axis"===B?j.skewAxis:null}var G=propertyGroupFactory(j,ne);return q.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",G)),q.transform.mProps.p.setGroupProperty(PropertyInterface("Position",G)),q.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",G)),q.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",G)),q.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",G)),q.transform.mProps.sk&&(q.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",G)),q.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",G))),q.transform.op.setGroupProperty(PropertyInterface("Opacity",G)),Object.defineProperties(j,{opacity:{get:ExpressionPropertyInterface(q.transform.mProps.o)},position:{get:ExpressionPropertyInterface(q.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(q.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(q.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(q.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(q.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(q.transform.mProps.sa)},_name:{value:U.nm}}),j.ty="tr",j.mn=U.mn,j.propertyGroup=ne,j}function F(U,q,ne){function j(V){return U.p.ix===V?j.position:U.s.ix===V?j.size:null}var G=propertyGroupFactory(j,ne);j.propertyIndex=U.ix;var B="tm"===q.sh.ty?q.sh.prop:q.sh;return B.s.setGroupProperty(PropertyInterface("Size",G)),B.p.setGroupProperty(PropertyInterface("Position",G)),Object.defineProperties(j,{size:{get:ExpressionPropertyInterface(B.s)},position:{get:ExpressionPropertyInterface(B.p)},_name:{value:U.nm}}),j.mn=U.mn,j}function z(U,q,ne){function j(V){return U.p.ix===V?j.position:U.r.ix===V?j.rotation:U.pt.ix===V?j.points:U.or.ix===V||"ADBE Vector Star Outer Radius"===V?j.outerRadius:U.os.ix===V?j.outerRoundness:!U.ir||U.ir.ix!==V&&"ADBE Vector Star Inner Radius"!==V?U.is&&U.is.ix===V?j.innerRoundness:null:j.innerRadius}var G=propertyGroupFactory(j,ne),B="tm"===q.sh.ty?q.sh.prop:q.sh;return j.propertyIndex=U.ix,B.or.setGroupProperty(PropertyInterface("Outer Radius",G)),B.os.setGroupProperty(PropertyInterface("Outer Roundness",G)),B.pt.setGroupProperty(PropertyInterface("Points",G)),B.p.setGroupProperty(PropertyInterface("Position",G)),B.r.setGroupProperty(PropertyInterface("Rotation",G)),U.ir&&(B.ir.setGroupProperty(PropertyInterface("Inner Radius",G)),B.is.setGroupProperty(PropertyInterface("Inner Roundness",G))),Object.defineProperties(j,{position:{get:ExpressionPropertyInterface(B.p)},rotation:{get:ExpressionPropertyInterface(B.r)},points:{get:ExpressionPropertyInterface(B.pt)},outerRadius:{get:ExpressionPropertyInterface(B.or)},outerRoundness:{get:ExpressionPropertyInterface(B.os)},innerRadius:{get:ExpressionPropertyInterface(B.ir)},innerRoundness:{get:ExpressionPropertyInterface(B.is)},_name:{value:U.nm}}),j.mn=U.mn,j}function Q(U,q,ne){function j(V){return U.p.ix===V?j.position:U.r.ix===V?j.roundness:U.s.ix===V||"Size"===V||"ADBE Vector Rect Size"===V?j.size:null}var G=propertyGroupFactory(j,ne),B="tm"===q.sh.ty?q.sh.prop:q.sh;return j.propertyIndex=U.ix,B.p.setGroupProperty(PropertyInterface("Position",G)),B.s.setGroupProperty(PropertyInterface("Size",G)),B.r.setGroupProperty(PropertyInterface("Rotation",G)),Object.defineProperties(j,{position:{get:ExpressionPropertyInterface(B.p)},roundness:{get:ExpressionPropertyInterface(B.r)},size:{get:ExpressionPropertyInterface(B.s)},_name:{value:U.nm}}),j.mn=U.mn,j}function R(U,q,ne){function j(V){return U.r.ix===V||"Round Corners 1"===V?j.radius:null}var G=propertyGroupFactory(j,ne),B=q;return j.propertyIndex=U.ix,B.rd.setGroupProperty(PropertyInterface("Radius",G)),Object.defineProperties(j,{radius:{get:ExpressionPropertyInterface(B.rd)},_name:{value:U.nm}}),j.mn=U.mn,j}function H(U,q,ne){function j(V){return U.c.ix===V||"Copies"===V?j.copies:U.o.ix===V||"Offset"===V?j.offset:null}var G=propertyGroupFactory(j,ne),B=q;return j.propertyIndex=U.ix,B.c.setGroupProperty(PropertyInterface("Copies",G)),B.o.setGroupProperty(PropertyInterface("Offset",G)),Object.defineProperties(j,{copies:{get:ExpressionPropertyInterface(B.c)},offset:{get:ExpressionPropertyInterface(B.o)},_name:{value:U.nm}}),j.mn=U.mn,j}return function(U,q,ne){var j;function G(V){if("number"==typeof V)return 0===(V=void 0===V?1:V)?ne:j[V-1];for(var ee=0,te=j.length;ee<te;){if(j[ee]._name===V)return j[ee];ee+=1}return null}return G.propertyGroup=propertyGroupFactory(G,function B(){return ne}),j=c(U,q,G.propertyGroup),G.numProperties=j.length,G._name="Contents",G}}(),TextExpressionInterface=function(c){var h;function f(s){return"ADBE Text Document"===s?f.sourceText:null}return Object.defineProperty(f,"sourceText",{get:function(){c.textProperty.getValue();var v=c.textProperty.currentData.t;return(!h||v!==h.value)&&((h=new String(v)).value=v||new String(v),Object.defineProperty(h,"style",{get:function(){return{fillColor:c.textProperty.currentData.fc}}})),h}}),f};function _typeof$2(c){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var FootageInterface=(h=function(s){function v(y){return"Outline"===y?v.outlineInterface():null}return v._name="Outline",v.outlineInterface=function(s){var v="",y=s.getFootageData();function M(k){if(y[k])return v=k,"object"===_typeof$2(y=y[k])?M:y;var F=k.indexOf(v);if(-1!==F){var z=parseInt(k.substr(F+v.length),10);return"object"===_typeof$2(y=y[z])?M:y}return""}return function I(){return v="",y=s.getFootageData(),M}}(s),v},function(f){function s(v){return"Data"===v?s.dataInterface:null}return s._name="Data",s.dataInterface=h(f),s}),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface},h;function getInterface(c){return interfaces[c]||null}function _typeof$1(c){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}function seedRandom(c,h){var f=this,s=256,I="random",M=h.pow(s,6),k=h.pow(2,52),F=2*k,z=255;function H(B){var V,ee=B.length,te=this,ie=0,ae=te.i=te.j=0,he=te.S=[];for(ee||(B=[ee++]);ie<s;)he[ie]=ie++;for(ie=0;ie<s;ie++)he[ie]=he[ae=z&ae+B[ie%ee]+(V=he[ie])],he[ae]=V;te.g=function(Re){for(var De,Se=0,_e=te.i,$e=te.j,Te=te.S;Re--;)De=Te[_e=z&_e+1],Se=Se*s+Te[z&(Te[_e]=Te[$e=z&$e+De])+(Te[$e]=De)];return te.i=_e,te.j=$e,Se}}function U(B,V){return V.i=B.i,V.j=B.j,V.S=B.S.slice(),V}function q(B,V){var ie,ee=[],te=_typeof$1(B);if(V&&"object"==te)for(ie in B)try{ee.push(q(B[ie],V-1))}catch{}return ee.length?ee:"string"==te?B:B+"\0"}function ne(B,V){for(var te,ee=B+"",ie=0;ie<ee.length;)V[z&ie]=z&(te^=19*V[z&ie])+ee.charCodeAt(ie++);return G(V)}function G(B){return String.fromCharCode.apply(0,B)}h["seed"+I]=function R(B,V,ee){var te=[],ie=ne(q((V=!0===V?{entropy:!0}:V||{}).entropy?[B,G(c)]:null===B?function j(){try{var B=new Uint8Array(s);return(f.crypto||f.msCrypto).getRandomValues(B),G(B)}catch{var V=f.navigator,ee=V&&V.plugins;return[+new Date,f,ee,f.screen,G(c)]}}():B,3),te),ae=new H(te),he=function(){for(var De=ae.g(6),Se=M,_e=0;De<k;)De=(De+_e)*s,Se*=s,_e=ae.g(1);for(;De>=F;)De/=2,Se/=2,_e>>>=1;return(De+_e)/Se};return he.int32=function(){return 0|ae.g(4)},he.quick=function(){return ae.g(4)/4294967296},he.double=he,ne(G(ae.S),c),(V.pass||ee||function(Re,De,Se,_e){return _e&&(_e.S&&U(_e,ae),Re.state=function(){return U(ae,{})}),Se?(h[I]=Re,De):Re})(he,ie,"global"in V?V.global:this==h,V.state)},ne(h.random(),c)}function initialize$2(c){seedRandom([],c)}var propTypes={SHAPE:"shape"};function _typeof(c){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(c){return c.constructor===Array||c.constructor===Float32Array}function isNumerable(c,h){return"number"===c||"boolean"===c||"string"===c||h instanceof Number}function $bm_neg(c){var h=_typeof(c);if("number"===h||"boolean"===h||c instanceof Number)return-c;if($bm_isInstanceOfArray(c)){var f,s=c.length,v=[];for(f=0;f<s;f+=1)v[f]=-c[f];return v}return c.propType?c.v:-c}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(c,h){var f=_typeof(c),s=_typeof(h);if("string"===f||"string"===s||isNumerable(f,c)&&isNumerable(s,h))return c+h;if($bm_isInstanceOfArray(c)&&isNumerable(s,h))return(c=c.slice(0))[0]+=h,c;if(isNumerable(f,c)&&$bm_isInstanceOfArray(h))return(h=h.slice(0))[0]=c+h[0],h;if($bm_isInstanceOfArray(c)&&$bm_isInstanceOfArray(h)){for(var v=0,y=c.length,I=h.length,M=[];v<y||v<I;)M[v]=("number"==typeof c[v]||c[v]instanceof Number)&&("number"==typeof h[v]||h[v]instanceof Number)?c[v]+h[v]:void 0===h[v]?c[v]:c[v]||h[v],v+=1;return M}return 0}var add=sum;function sub(c,h){var f=_typeof(c),s=_typeof(h);if(isNumerable(f,c)&&isNumerable(s,h))return"string"===f&&(c=parseInt(c,10)),"string"===s&&(h=parseInt(h,10)),c-h;if($bm_isInstanceOfArray(c)&&isNumerable(s,h))return(c=c.slice(0))[0]-=h,c;if(isNumerable(f,c)&&$bm_isInstanceOfArray(h))return(h=h.slice(0))[0]=c-h[0],h;if($bm_isInstanceOfArray(c)&&$bm_isInstanceOfArray(h)){for(var v=0,y=c.length,I=h.length,M=[];v<y||v<I;)M[v]=("number"==typeof c[v]||c[v]instanceof Number)&&("number"==typeof h[v]||h[v]instanceof Number)?c[v]-h[v]:void 0===h[v]?c[v]:c[v]||h[v],v+=1;return M}return 0}function mul(c,h){var v,y,I,f=_typeof(c),s=_typeof(h);if(isNumerable(f,c)&&isNumerable(s,h))return c*h;if($bm_isInstanceOfArray(c)&&isNumerable(s,h)){for(v=createTypedArray("float32",I=c.length),y=0;y<I;y+=1)v[y]=c[y]*h;return v}if(isNumerable(f,c)&&$bm_isInstanceOfArray(h)){for(v=createTypedArray("float32",I=h.length),y=0;y<I;y+=1)v[y]=c*h[y];return v}return 0}function div(c,h){var v,y,I,f=_typeof(c),s=_typeof(h);if(isNumerable(f,c)&&isNumerable(s,h))return c/h;if($bm_isInstanceOfArray(c)&&isNumerable(s,h)){for(v=createTypedArray("float32",I=c.length),y=0;y<I;y+=1)v[y]=c[y]/h;return v}if(isNumerable(f,c)&&$bm_isInstanceOfArray(h)){for(v=createTypedArray("float32",I=h.length),y=0;y<I;y+=1)v[y]=c/h[y];return v}return 0}function mod(c,h){return"string"==typeof c&&(c=parseInt(c,10)),"string"==typeof h&&(h=parseInt(h,10)),c%h}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(c,h,f){if(h>f){var s=f;f=h,h=s}return Math.min(Math.max(c,h),f)}function radiansToDegrees(c){return c/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(c){return c*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(c,h){if("number"==typeof c||c instanceof Number)return Math.abs(c-(h=h||0));h||(h=helperLengthArray);var f,s=Math.min(c.length,h.length),v=0;for(f=0;f<s;f+=1)v+=Math.pow(h[f]-c[f],2);return Math.sqrt(v)}function normalize(c){return div(c,length(c))}function rgbToHsl(c){var I,M,h=c[0],f=c[1],s=c[2],v=Math.max(h,f,s),y=Math.min(h,f,s),k=(v+y)/2;if(v===y)I=0,M=0;else{var F=v-y;switch(M=k>.5?F/(2-v-y):F/(v+y),v){case h:I=(f-s)/F+(f<s?6:0);break;case f:I=(s-h)/F+2;break;case s:I=(h-f)/F+4}I/=6}return[I,M,k,c[3]]}function hue2rgb(c,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+6*(h-c)*f:f<.5?h:f<2/3?c+(h-c)*(2/3-f)*6:c}function hslToRgb(c){var v,y,I,h=c[0],f=c[1],s=c[2];if(0===f)v=s,I=s,y=s;else{var M=s<.5?s*(1+f):s+f-s*f,k=2*s-M;v=hue2rgb(k,M,h+1/3),y=hue2rgb(k,M,h),I=hue2rgb(k,M,h-1/3)}return[v,y,I,c[3]]}function linear(c,h,f,s,v){if((void 0===s||void 0===v)&&(s=h,v=f,h=0,f=1),f<h){var y=f;f=h,h=y}if(c<=h)return s;if(c>=f)return v;var I=f===h?0:(c-h)/(f-h);if(!s.length)return s+(v-s)*I;var M,k=s.length,F=createTypedArray("float32",k);for(M=0;M<k;M+=1)F[M]=s[M]+(v[M]-s[M])*I;return F}function random(c,h){if(void 0===h&&(void 0===c?(c=0,h=1):(h=c,c=void 0)),h.length){var f,s=h.length;c||(c=createTypedArray("float32",s));var v=createTypedArray("float32",s),y=BMMath.random();for(f=0;f<s;f+=1)v[f]=c[f]+y*(h[f]-c[f]);return v}return void 0===c&&(c=0),c+BMMath.random()*(h-c)}function createPath(c,h,f,s){var v,y=c.length,I=shapePool.newElement();I.setPathData(!!s,y);var k,F,M=[0,0];for(v=0;v<y;v+=1)I.setTripleAt(c[v][0],c[v][1],(F=f&&f[v]?f[v]:M)[0]+c[v][0],F[1]+c[v][1],(k=h&&h[v]?h[v]:M)[0]+c[v][0],k[1]+c[v][1],v,!0);return I}function initiateExpression(elem,data,property){function noOp(c){return c}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function c(h,f){var s,v,y=this.pv.length?this.pv.length:1,I=createTypedArray("float32",y),M=Math.floor(5*time);for(s=0,v=0;s<M;){for(v=0;v<y;v+=1)I[v]+=-f+2*f*BMMath.random();s+=1}var k=5*time,F=k-Math.floor(k),z=createTypedArray("float32",y);if(y>1){for(v=0;v<y;v+=1)z[v]=this.pv[v]+I[v]+(-f+2*f*BMMath.random())*F;return z}return this.pv+I[0]+(-f+2*f*BMMath.random())*F}.bind(this);function loopInDuration(c,h){return loopIn(c,h,!0)}function loopOutDuration(c,h){return loopOut(c,h,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(c,h){var f=[h[0]-c[0],h[1]-c[1],h[2]-c[2]],s=Math.atan2(f[0],Math.sqrt(f[1]*f[1]+f[2]*f[2]))/degToRads;return[-Math.atan2(f[1],f[2])/degToRads,s,0]}function easeOut(c,h,f,s,v){return applyEase(easeOutBez,c,h,f,s,v)}function easeIn(c,h,f,s,v){return applyEase(easeInBez,c,h,f,s,v)}function ease(c,h,f,s,v){return applyEase(easeInOutBez,c,h,f,s,v)}function applyEase(c,h,f,s,v,y){void 0===v?(v=f,y=s):h=(h-f)/(s-f),h>1?h=1:h<0&&(h=0);var I=c(h);if($bm_isInstanceOfArray(v)){var M,k=v.length,F=createTypedArray("float32",k);for(M=0;M<k;M+=1)F[M]=(y[M]-v[M])*I+v[M];return F}return(y-v)*I+v}function nearestKey(c){var h,s,v,f=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(s=-1,(c*=elem.comp.globalData.frameRate)<data.k[0].t)s=1,v=data.k[0].t;else{for(h=0;h<f-1;h+=1){if(c===data.k[h].t){s=h+1,v=data.k[h].t;break}if(c>data.k[h].t&&c<data.k[h+1].t){c-data.k[h].t>data.k[h+1].t-c?(s=h+2,v=data.k[h+1].t):(s=h+1,v=data.k[h].t);break}}-1===s&&(s=h+1,v=data.k[h].t)}else s=0,v=0;var y={};return y.index=s,y.time=v/elem.comp.globalData.frameRate,y}function key(c){var h,f,s;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+c);h={time:data.k[c-=1].t/elem.comp.globalData.frameRate,value:[]};var v=Object.prototype.hasOwnProperty.call(data.k[c],"s")?data.k[c].s:data.k[c-1].e;for(s=v.length,f=0;f<s;f+=1)h[f]=v[f],h.value[f]=v[f];return h}function framesToTime(c,h){return h||(h=elem.comp.globalData.frameRate),c/h}function timeToFrames(c,h){return!c&&0!==c&&(c=time),h||(h=elem.comp.globalData.frameRate),c*h}function seedRandom(c){BMMath.seedrandom(randSeed+c)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(c,h){return"string"==typeof value?void 0===h?value.substring(c):value.substring(c,h):""}function substr(c,h){return"string"==typeof value?void 0===h?value.substr(c):value.substr(c,h):""}function posterizeTime(c){time=0===c?0:Math.floor(time*c)/c,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(c){return value=c,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisComp=elem.comp.compInterface,toWorld=(thisLayer=elem.layerInterface).toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4===elemType&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function c(I,M,k){M.x&&(k.k=!0,k.x=!0,k.initiateExpression=ExpressionManager.initiateExpression,k.effectsSequence.push(k.initiateExpression(I,M,k).bind(k)))},getSpeedAtTime:function f(I){var k=this.getValueAtTime(I),F=this.getValueAtTime(I+-.01),z=0;if(k.length){var Q;for(Q=0;Q<k.length;Q+=1)z+=Math.pow(F[Q]-k[Q],2);z=100*Math.sqrt(z)}else z=0;return z},getVelocityAtTime:function s(I){if(void 0!==this.vel)return this.vel;var z,Q,M=-.001,k=this.getValueAtTime(I),F=this.getValueAtTime(I+M);if(k.length)for(z=createTypedArray("float32",k.length),Q=0;Q<k.length;Q+=1)z[Q]=(F[Q]-k[Q])/M;else z=(F-k)/M;return z},getValueAtTime:function h(I){return I*=this.elem.globalData.frameRate,(I-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<I?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(I,this._cachingAtTime),this._cachingAtTime.lastFrame=I),this._cachingAtTime.value},getStaticValueAtTime:function v(){return this.pv},setGroupProperty:function y(I){this.propertyGroup=I}};function addPropertyDecorator(){function c(R,H,U){if(!this.k||!this.keyframes)return this.pv;R=R?R.toLowerCase():"";var G,B,V,ee,te,q=this.comp.renderedFrame,ne=this.keyframes,j=ne[ne.length-1].t;if(q<=j)return this.pv;if(U?B=j-(G=H?Math.abs(j-this.elem.comp.globalData.frameRate*H):Math.max(0,j-this.elem.data.ip)):((!H||H>ne.length-1)&&(H=ne.length-1),G=j-(B=ne[ne.length-1-H].t)),"pingpong"===R){if(Math.floor((q-B)/G)%2!=0)return this.getValueAtTime((G-(q-B)%G+B)/this.comp.globalData.frameRate,0)}else{if("offset"===R){var ae=this.getValueAtTime(B/this.comp.globalData.frameRate,0),he=this.getValueAtTime(j/this.comp.globalData.frameRate,0),Re=this.getValueAtTime(((q-B)%G+B)/this.comp.globalData.frameRate,0),De=Math.floor((q-B)/G);if(this.pv.length){for(ee=(te=new Array(ae.length)).length,V=0;V<ee;V+=1)te[V]=(he[V]-ae[V])*De+Re[V];return te}return(he-ae)*De+Re}if("continue"===R){var Se=this.getValueAtTime(j/this.comp.globalData.frameRate,0),_e=this.getValueAtTime((j-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ee=(te=new Array(Se.length)).length,V=0;V<ee;V+=1)te[V]=Se[V]+(q-j)/this.comp.globalData.frameRate*(Se[V]-_e[V])/5e-4;return te}return Se+(q-j)/.001*(Se-_e)}}return this.getValueAtTime(((q-B)%G+B)/this.comp.globalData.frameRate,0)}function h(R,H,U){if(!this.k)return this.pv;R=R?R.toLowerCase():"";var G,B,V,ee,te,q=this.comp.renderedFrame,ne=this.keyframes,j=ne[0].t;if(q>=j)return this.pv;if(U?B=j+(G=H?Math.abs(this.elem.comp.globalData.frameRate*H):Math.max(0,this.elem.data.op-j)):((!H||H>ne.length-1)&&(H=ne.length-1),G=(B=ne[H].t)-j),"pingpong"===R){if(Math.floor((j-q)/G)%2==0)return this.getValueAtTime(((j-q)%G+j)/this.comp.globalData.frameRate,0)}else{if("offset"===R){var ae=this.getValueAtTime(j/this.comp.globalData.frameRate,0),he=this.getValueAtTime(B/this.comp.globalData.frameRate,0),Re=this.getValueAtTime((G-(j-q)%G+j)/this.comp.globalData.frameRate,0),De=Math.floor((j-q)/G)+1;if(this.pv.length){for(ee=(te=new Array(ae.length)).length,V=0;V<ee;V+=1)te[V]=Re[V]-(he[V]-ae[V])*De;return te}return Re-(he-ae)*De}if("continue"===R){var Se=this.getValueAtTime(j/this.comp.globalData.frameRate,0),_e=this.getValueAtTime((j+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ee=(te=new Array(Se.length)).length,V=0;V<ee;V+=1)te[V]=Se[V]+(Se[V]-_e[V])*(j-q)/.001;return te}return Se+(Se-_e)*(j-q)/.001}}return this.getValueAtTime((G-((j-q)%G+j))/this.comp.globalData.frameRate,0)}function f(R,H){if(!this.k)return this.pv;if(R=.5*(R||.4),(H=Math.floor(H||5))<=1)return this.pv;var V,ee,U=this.comp.renderedFrame/this.comp.globalData.frameRate,q=U-R,j=H>1?(U+R-q)/(H-1):1,G=0,B=0;for(V=this.pv.length?createTypedArray("float32",this.pv.length):0;G<H;){if(ee=this.getValueAtTime(q+G*j),this.pv.length)for(B=0;B<this.pv.length;B+=1)V[B]+=ee[B];else V+=ee;G+=1}if(this.pv.length)for(B=0;B<this.pv.length;B+=1)V[B]/=H;else V/=H;return V}function s(R){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var H=this._transformCachingAtTime.v;if(H.cloneFromProps(this.pre.props),this.appliedTransformations<1){var U=this.a.getValueAtTime(R);H.translate(-U[0]*this.a.mult,-U[1]*this.a.mult,U[2]*this.a.mult)}if(this.appliedTransformations<2){var q=this.s.getValueAtTime(R);H.scale(q[0]*this.s.mult,q[1]*this.s.mult,q[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var ne=this.sk.getValueAtTime(R),j=this.sa.getValueAtTime(R);H.skewFromAxis(-ne*this.sk.mult,j*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var G=this.r.getValueAtTime(R);H.rotate(-G*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var B=this.rz.getValueAtTime(R),V=this.ry.getValueAtTime(R),ee=this.rx.getValueAtTime(R),te=this.or.getValueAtTime(R);H.rotateZ(-B*this.rz.mult).rotateY(V*this.ry.mult).rotateX(ee*this.rx.mult).rotateZ(-te[2]*this.or.mult).rotateY(te[1]*this.or.mult).rotateX(te[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var ie=this.px.getValueAtTime(R),ae=this.py.getValueAtTime(R);if(this.data.p.z){var he=this.pz.getValueAtTime(R);H.translate(ie*this.px.mult,ae*this.py.mult,-he*this.pz.mult)}else H.translate(ie*this.px.mult,ae*this.py.mult,0)}else{var Re=this.p.getValueAtTime(R);H.translate(Re[0]*this.p.mult,Re[1]*this.p.mult,-Re[2]*this.p.mult)}return H}function v(){return this.v.clone(new Matrix)}var y=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(R,H,U){var q=y(R,H,U);return q.getValueAtTime=q.dynamicProperties.length?s.bind(q):v.bind(q),q.setGroupProperty=expressionHelpers.setGroupProperty,q};var I=PropertyFactory.getProp;PropertyFactory.getProp=function(R,H,U,q,ne){var j=I(R,H,U,q,ne);j.getValueAtTime=j.kf?expressionHelpers.getValueAtTime.bind(j):expressionHelpers.getStaticValueAtTime.bind(j),j.setGroupProperty=expressionHelpers.setGroupProperty,j.loopOut=c,j.loopIn=h,j.smooth=f,j.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(j),j.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(j),j.numKeys=1===H.a?H.k.length:0,j.propertyIndex=H.ix;var G=0;return 0!==U&&(G=createTypedArray("float32",1===H.a?H.k[0].s.length:H.k.length)),j._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:G},expressionHelpers.searchExpressions(R,H,j),j.k&&ne.addDynamicProperty(j),j};var k=ShapePropertyFactory.getConstructorFunction(),F=ShapePropertyFactory.getKeyframedConstructorFunction();function z(){}z.prototype={vertices:function(H,U){this.k&&this.getValue();var q=this.v;void 0!==U&&(q=this.getValueAtTime(U,0));var ne,j=q._length,G=q[H],B=q.v,V=createSizedArray(j);for(ne=0;ne<j;ne+=1)V[ne]="i"===H||"o"===H?[G[ne][0]-B[ne][0],G[ne][1]-B[ne][1]]:[G[ne][0],G[ne][1]];return V},points:function(H){return this.vertices("v",H)},inTangents:function(H){return this.vertices("i",H)},outTangents:function(H){return this.vertices("o",H)},isClosed:function(){return this.v.c},pointOnPath:function(H,U){var q=this.v;void 0!==U&&(q=this.getValueAtTime(U,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(q));for(var te,ne=this._segmentsLength,j=ne.lengths,G=ne.totalLength*H,B=0,V=j.length,ee=0;B<V;){if(ee+j[B].addedLength>G){var ae=q.c&&B===V-1?0:B+1;te=bez.getPointInSegment(q.v[B],q.v[ae],q.o[B],q.i[ae],(G-ee)/j[B].addedLength,j[B]);break}ee+=j[B].addedLength,B+=1}return te||(te=q.c?[q.v[0][0],q.v[0][1]]:[q.v[q._length-1][0],q.v[q._length-1][1]]),te},vectorOnPath:function(H,U,q){1==H?H=this.v.c:0==H&&(H=.999);var ne=this.pointOnPath(H,U),j=this.pointOnPath(H+.001,U),G=j[0]-ne[0],B=j[1]-ne[1],V=Math.sqrt(Math.pow(G,2)+Math.pow(B,2));return 0===V?[0,0]:"tangent"===q?[G/V,B/V]:[-B/V,G/V]},tangentOnPath:function(H,U){return this.vectorOnPath(H,U,"tangent")},normalOnPath:function(H,U){return this.vectorOnPath(H,U,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([z],k),extendPrototype([z],F),F.prototype.getValueAtTime=function M(R){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),R*=this.elem.globalData.frameRate,(R-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<R?this._caching.lastIndex:0,this._cachingAtTime.lastTime=R,this.interpolateShape(R,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},F.prototype.initiateExpression=ExpressionManager.initiateExpression;var Q=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(R,H,U,q,ne){var j=Q(R,H,U,q,ne);return j.propertyIndex=H.ix,j.lock=!1,3===U?expressionHelpers.searchExpressions(R,H.pt,j):4===U&&expressionHelpers.searchExpressions(R,H.ks,j),j.k&&R.addDynamicProperty(j),j}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(h,f){var s=this.calculateExpression(f);if(h.t!==s){var v={};return this.copyData(v,h),v.t=s.toString(),v.__complete=!1,v}return h},TextProperty.prototype.searchProperty=function(){var h=this.searchKeyframes(),f=this.searchExpressions();return this.kf=h||f,this.kf},TextProperty.prototype.searchExpressions=function c(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function c(h,f){var v,y,s=createNS("feMerge");for(s.setAttribute("result",h),y=0;y<f.length;y+=1)(v=createNS("feMergeNode")).setAttribute("in",f[y]),s.appendChild(v),s.appendChild(v);return s}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(c,h,f,s,v){this.filterManager=h;var y=createNS("feColorMatrix");y.setAttribute("type","matrix"),y.setAttribute("color-interpolation-filters","linearRGB"),y.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=y,y.setAttribute("result",s+"_tint_1"),c.appendChild(y),(y=createNS("feColorMatrix")).setAttribute("type","matrix"),y.setAttribute("color-interpolation-filters","sRGB"),y.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),y.setAttribute("result",s+"_tint_2"),c.appendChild(y),this.matrixFilter=y;var I=this.createMergeNode(s,[v,s+"_tint_1",s+"_tint_2"]);c.appendChild(I)}function SVGFillFilter(c,h,f,s){this.filterManager=h;var v=createNS("feColorMatrix");v.setAttribute("type","matrix"),v.setAttribute("color-interpolation-filters","sRGB"),v.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),v.setAttribute("result",s),c.appendChild(v),this.matrixFilter=v}function SVGStrokeEffect(c,h,f){this.initialized=!1,this.filterManager=h,this.elem=f,this.paths=[]}function SVGTritoneFilter(c,h,f,s){this.filterManager=h;var v=createNS("feColorMatrix");v.setAttribute("type","matrix"),v.setAttribute("color-interpolation-filters","linearRGB"),v.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),c.appendChild(v);var y=createNS("feComponentTransfer");y.setAttribute("color-interpolation-filters","sRGB"),y.setAttribute("result",s),this.matrixFilter=y;var I=createNS("feFuncR");I.setAttribute("type","table"),y.appendChild(I),this.feFuncR=I;var M=createNS("feFuncG");M.setAttribute("type","table"),y.appendChild(M),this.feFuncG=M;var k=createNS("feFuncB");k.setAttribute("type","table"),y.appendChild(k),this.feFuncB=k,c.appendChild(y)}function SVGProLevelsFilter(c,h,f,s){this.filterManager=h;var v=this.filterManager.effectElements,y=createNS("feComponentTransfer");(v[10].p.k||0!==v[10].p.v||v[11].p.k||1!==v[11].p.v||v[12].p.k||1!==v[12].p.v||v[13].p.k||0!==v[13].p.v||v[14].p.k||1!==v[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",y)),(v[17].p.k||0!==v[17].p.v||v[18].p.k||1!==v[18].p.v||v[19].p.k||1!==v[19].p.v||v[20].p.k||0!==v[20].p.v||v[21].p.k||1!==v[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",y)),(v[24].p.k||0!==v[24].p.v||v[25].p.k||1!==v[25].p.v||v[26].p.k||1!==v[26].p.v||v[27].p.k||0!==v[27].p.v||v[28].p.k||1!==v[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",y)),(v[31].p.k||0!==v[31].p.v||v[32].p.k||1!==v[32].p.v||v[33].p.k||1!==v[33].p.v||v[34].p.k||0!==v[34].p.v||v[35].p.k||1!==v[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",y)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(y.setAttribute("color-interpolation-filters","sRGB"),c.appendChild(y)),(v[3].p.k||0!==v[3].p.v||v[4].p.k||1!==v[4].p.v||v[5].p.k||1!==v[5].p.v||v[6].p.k||0!==v[6].p.v||v[7].p.k||1!==v[7].p.v)&&((y=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),y.setAttribute("result",s),c.appendChild(y),this.feFuncRComposed=this.createFeFunc("feFuncR",y),this.feFuncGComposed=this.createFeFunc("feFuncG",y),this.feFuncBComposed=this.createFeFunc("feFuncB",y))}function SVGDropShadowEffect(c,h,f,s,v){var y=h.container.globalData.renderConfig.filterSize,I=h.data.fs||y;c.setAttribute("x",I.x||y.x),c.setAttribute("y",I.y||y.y),c.setAttribute("width",I.width||y.width),c.setAttribute("height",I.height||y.height),this.filterManager=h;var M=createNS("feGaussianBlur");M.setAttribute("in","SourceAlpha"),M.setAttribute("result",s+"_drop_shadow_1"),M.setAttribute("stdDeviation","0"),this.feGaussianBlur=M,c.appendChild(M);var k=createNS("feOffset");k.setAttribute("dx","25"),k.setAttribute("dy","0"),k.setAttribute("in",s+"_drop_shadow_1"),k.setAttribute("result",s+"_drop_shadow_2"),this.feOffset=k,c.appendChild(k);var F=createNS("feFlood");F.setAttribute("flood-color","#00ff00"),F.setAttribute("flood-opacity","1"),F.setAttribute("result",s+"_drop_shadow_3"),this.feFlood=F,c.appendChild(F);var z=createNS("feComposite");z.setAttribute("in",s+"_drop_shadow_3"),z.setAttribute("in2",s+"_drop_shadow_2"),z.setAttribute("operator","in"),z.setAttribute("result",s+"_drop_shadow_4"),c.appendChild(z);var Q=this.createMergeNode(s,[s+"_drop_shadow_4",v]);c.appendChild(Q)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){var h=this.filterManager.effectElements[0].p.v,f=this.filterManager.effectElements[1].p.v;this.linearFilter.setAttribute("values",linearFilterValue+" "+this.filterManager.effectElements[2].p.v/100+" 0"),this.matrixFilter.setAttribute("values",f[0]-h[0]+" 0 0 0 "+h[0]+" "+(f[1]-h[1])+" 0 0 0 "+h[1]+" "+(f[2]-h[2])+" 0 0 0 "+h[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){var h=this.filterManager.effectElements[2].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+h[0]+" 0 0 0 0 "+h[1]+" 0 0 0 0 "+h[2]+" 0 0 0 "+this.filterManager.effectElements[6].p.v+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var h,f,s,v,c=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(v=this.elem.maskManager.masksProperties.length,s=0):v=1+(s=this.filterManager.effectElements[0].p.v-1),(f=createNS("g")).setAttribute("fill","none"),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-dashoffset",1);s<v;s+=1)h=createNS("path"),f.appendChild(h),this.paths.push({p:h,m:s});if(3===this.filterManager.effectElements[10].p.v){var y=createNS("mask"),I=createElementID();y.setAttribute("id",I),y.setAttribute("mask-type","alpha"),y.appendChild(f),this.elem.globalData.defs.appendChild(y);var M=createNS("g");for(M.setAttribute("mask","url("+getLocationHref()+"#"+I+")");c[0];)M.appendChild(c[0]);this.elem.layerElement.appendChild(M),this.masker=y,f.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(c=this.elem.layerElement.children||this.elem.layerElement.childNodes;c.length;)this.elem.layerElement.removeChild(c[0]);this.elem.layerElement.appendChild(f),this.elem.layerElement.removeAttribute("mask"),f.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=f},SVGStrokeEffect.prototype.renderFrame=function(c){this.initialized||this.initialize();var h,s,v,f=this.paths.length;for(h=0;h<f;h+=1)if(-1!==this.paths[h].m&&(s=this.elem.maskManager.viewData[this.paths[h].m],v=this.paths[h].p,(c||this.filterManager._mdf||s.prop._mdf)&&v.setAttribute("d",s.lastPath),c||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||s.prop._mdf)){var y;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var I=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),M=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),k=v.getTotalLength();y="0 0 0 "+k*I+" ";var R,Q=Math.floor(k*(M-I)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(R=0;R<Q;R+=1)y+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";y+="0 "+10*k+" 0 0"}else y="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;v.setAttribute("stroke-dasharray",y)}if((c||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(c||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(c||this.filterManager.effectElements[3].p._mdf)){var H=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*H[0])+","+bmFloor(255*H[1])+","+bmFloor(255*H[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){var h=this.filterManager.effectElements[0].p.v,f=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v,y=s[1]+" "+f[1]+" "+h[1],I=s[2]+" "+f[2]+" "+h[2];this.feFuncR.setAttribute("tableValues",s[0]+" "+f[0]+" "+h[0]),this.feFuncG.setAttribute("tableValues",y),this.feFuncB.setAttribute("tableValues",I)}},SVGProLevelsFilter.prototype.createFeFunc=function(c,h){var f=createNS(c);return f.setAttribute("type","table"),h.appendChild(f),f},SVGProLevelsFilter.prototype.getTableValue=function(c,h,f,s,v){for(var M,Q,y=0,k=Math.min(c,h),F=Math.max(c,h),z=Array.call(null,{length:256}),R=0,H=v-s,U=h-c;y<=256;)Q=(M=y/256)<=k?U<0?v:s:M>=F?U<0?s:v:s+H*Math.pow((M-c)/U,1/f),z[R]=Q,R+=1,y+=256/255;return z.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){var h,f=this.filterManager.effectElements;this.feFuncRComposed&&(c||f[3].p._mdf||f[4].p._mdf||f[5].p._mdf||f[6].p._mdf||f[7].p._mdf)&&(h=this.getTableValue(f[3].p.v,f[4].p.v,f[5].p.v,f[6].p.v,f[7].p.v),this.feFuncRComposed.setAttribute("tableValues",h),this.feFuncGComposed.setAttribute("tableValues",h),this.feFuncBComposed.setAttribute("tableValues",h)),this.feFuncR&&(c||f[10].p._mdf||f[11].p._mdf||f[12].p._mdf||f[13].p._mdf||f[14].p._mdf)&&(h=this.getTableValue(f[10].p.v,f[11].p.v,f[12].p.v,f[13].p.v,f[14].p.v),this.feFuncR.setAttribute("tableValues",h)),this.feFuncG&&(c||f[17].p._mdf||f[18].p._mdf||f[19].p._mdf||f[20].p._mdf||f[21].p._mdf)&&(h=this.getTableValue(f[17].p.v,f[18].p.v,f[19].p.v,f[20].p.v,f[21].p.v),this.feFuncG.setAttribute("tableValues",h)),this.feFuncB&&(c||f[24].p._mdf||f[25].p._mdf||f[26].p._mdf||f[27].p._mdf||f[28].p._mdf)&&(h=this.getTableValue(f[24].p.v,f[25].p.v,f[26].p.v,f[27].p.v,f[28].p.v),this.feFuncB.setAttribute("tableValues",h)),this.feFuncA&&(c||f[31].p._mdf||f[32].p._mdf||f[33].p._mdf||f[34].p._mdf||f[35].p._mdf)&&(h=this.getTableValue(f[31].p.v,f[32].p.v,f[33].p.v,f[34].p.v,f[35].p.v),this.feFuncA.setAttribute("tableValues",h))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){if((c||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),c||this.filterManager.effectElements[0].p._mdf){var h=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*h[0]),Math.round(255*h[1]),Math.round(255*h[2])))}if((c||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),c||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var f=this.filterManager.effectElements[3].p.v,s=(this.filterManager.effectElements[2].p.v-90)*degToRads,v=f*Math.cos(s),y=f*Math.sin(s);this.feOffset.setAttribute("dx",v),this.feOffset.setAttribute("dy",y)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(c,h,f){this.initialized=!1,this.filterManager=h,this.filterElem=c,this.elem=f,f.matteElement=createNS("g"),f.matteElement.appendChild(f.layerElement),f.matteElement.appendChild(f.transformedElement),f.baseElement=f.matteElement}function SVGGaussianBlurEffect(c,h,f,s){c.setAttribute("x","-100%"),c.setAttribute("y","-100%"),c.setAttribute("width","300%"),c.setAttribute("height","300%"),this.filterManager=h;var v=createNS("feGaussianBlur");v.setAttribute("result",s),c.appendChild(v),this.feGaussianBlur=v}return SVGMatte3Effect.prototype.findSymbol=function(c){for(var h=0,f=_svgMatteSymbols.length;h<f;){if(_svgMatteSymbols[h]===c)return _svgMatteSymbols[h];h+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(c,h){var f=c.layerElement.parentNode;if(f){for(var s=f.children,v=0,y=s.length;v<y&&s[v]!==c.layerElement;)v+=1;var I;v<=y-2&&(I=s[v+1]);var M=createNS("use");M.setAttribute("href","#"+h),I?f.insertBefore(M,I):f.appendChild(M)}},SVGMatte3Effect.prototype.setElementAsMask=function(c,h){if(!this.findSymbol(h)){var f=createElementID(),s=createNS("mask");s.setAttribute("id",h.layerId),s.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(h);var v=c.globalData.defs;v.appendChild(s);var y=createNS("symbol");y.setAttribute("id",f),this.replaceInParent(h,f),y.appendChild(h.layerElement),v.appendChild(y);var I=createNS("use");I.setAttribute("href","#"+f),s.appendChild(I),h.data.hd=!1,h.show()}c.setMatte(h.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var c=this.filterManager.effectElements[0].p.v,h=this.elem.comp.elements,f=0,s=h.length;f<s;)h[f]&&h[f].data.ind===c&&this.setElementAsMask(this.elem,h[f]),f+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){var f=.3*this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v;this.feGaussianBlur.setAttribute("stdDeviation",(3==s?0:f)+" "+(2==s?0:f)),this.feGaussianBlur.setAttribute("edgeMode",1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate")}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=h())},9751:(c,h,f)=>{"use strict";f.d(h,{y:()=>z});var s=f(930),v=f(727),y=f(8822),I=f(9635),M=f(2416),k=f(576),F=f(2806);let z=(()=>{class U{constructor(ne){ne&&(this._subscribe=ne)}lift(ne){const j=new U;return j.source=this,j.operator=ne,j}subscribe(ne,j,G){const B=function H(U){return U&&U instanceof s.Lv||function R(U){return U&&(0,k.m)(U.next)&&(0,k.m)(U.error)&&(0,k.m)(U.complete)}(U)&&(0,v.Nn)(U)}(ne)?ne:new s.Hp(ne,j,G);return(0,F.x)(()=>{const{operator:V,source:ee}=this;B.add(V?V.call(B,ee):ee?this._subscribe(B):this._trySubscribe(B))}),B}_trySubscribe(ne){try{return this._subscribe(ne)}catch(j){ne.error(j)}}forEach(ne,j){return new(j=Q(j))((G,B)=>{const V=new s.Hp({next:ee=>{try{ne(ee)}catch(te){B(te),V.unsubscribe()}},error:B,complete:G});this.subscribe(V)})}_subscribe(ne){var j;return null===(j=this.source)||void 0===j?void 0:j.subscribe(ne)}[y.L](){return this}pipe(...ne){return(0,I.U)(ne)(this)}toPromise(ne){return new(ne=Q(ne))((j,G)=>{let B;this.subscribe(V=>B=V,V=>G(V),()=>j(B))})}}return U.create=q=>new U(q),U})();function Q(U){var q;return null!==(q=U??M.v.Promise)&&void 0!==q?q:Promise}},7579:(c,h,f)=>{"use strict";f.d(h,{x:()=>F});var s=f(9751),v=f(727);const I=(0,f(3888).d)(Q=>function(){Q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var M=f(8737),k=f(2806);let F=(()=>{class Q extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const U=new z(this,this);return U.operator=H,U}_throwIfClosed(){if(this.closed)throw new I}next(H){(0,k.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const U of this.currentObservers)U.next(H)}})}error(H){(0,k.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:U}=this;for(;U.length;)U.shift().error(H)}})}complete(){(0,k.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:U,isStopped:q,observers:ne}=this;return U||q?v.Lc:(this.currentObservers=null,ne.push(H),new v.w0(()=>{this.currentObservers=null,(0,M.P)(ne,H)}))}_checkFinalizedStatuses(H){const{hasError:U,thrownError:q,isStopped:ne}=this;U?H.error(q):ne&&H.complete()}asObservable(){const H=new s.y;return H.source=this,H}}return Q.create=(R,H)=>new z(R,H),Q})();class z extends F{constructor(R,H){super(),this.destination=R,this.source=H}next(R){var H,U;null===(U=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===U||U.call(H,R)}error(R){var H,U;null===(U=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===U||U.call(H,R)}complete(){var R,H;null===(H=null===(R=this.destination)||void 0===R?void 0:R.complete)||void 0===H||H.call(R)}_subscribe(R){var H,U;return null!==(U=null===(H=this.source)||void 0===H?void 0:H.subscribe(R))&&void 0!==U?U:v.Lc}}},930:(c,h,f)=>{"use strict";f.d(h,{Hp:()=>G,Lv:()=>U});var s=f(576),v=f(727),y=f(2416),I=f(7849),M=f(5032);const k=Q("C",void 0,void 0);function Q(ie,ae,he){return{kind:ie,value:ae,error:he}}var R=f(3410),H=f(2806);class U extends v.w0{constructor(ae){super(),this.isStopped=!1,ae?(this.destination=ae,(0,v.Nn)(ae)&&ae.add(this)):this.destination=te}static create(ae,he,Re){return new G(ae,he,Re)}next(ae){this.isStopped?ee(function z(ie){return Q("N",ie,void 0)}(ae),this):this._next(ae)}error(ae){this.isStopped?ee(function F(ie){return Q("E",void 0,ie)}(ae),this):(this.isStopped=!0,this._error(ae))}complete(){this.isStopped?ee(k,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ae){this.destination.next(ae)}_error(ae){try{this.destination.error(ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const q=Function.prototype.bind;function ne(ie,ae){return q.call(ie,ae)}class j{constructor(ae){this.partialObserver=ae}next(ae){const{partialObserver:he}=this;if(he.next)try{he.next(ae)}catch(Re){B(Re)}}error(ae){const{partialObserver:he}=this;if(he.error)try{he.error(ae)}catch(Re){B(Re)}else B(ae)}complete(){const{partialObserver:ae}=this;if(ae.complete)try{ae.complete()}catch(he){B(he)}}}class G extends U{constructor(ae,he,Re){let De;if(super(),(0,s.m)(ae)||!ae)De={next:ae??void 0,error:he??void 0,complete:Re??void 0};else{let Se;this&&y.v.useDeprecatedNextContext?(Se=Object.create(ae),Se.unsubscribe=()=>this.unsubscribe(),De={next:ae.next&&ne(ae.next,Se),error:ae.error&&ne(ae.error,Se),complete:ae.complete&&ne(ae.complete,Se)}):De=ae}this.destination=new j(De)}}function B(ie){y.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(ie):(0,I.h)(ie)}function ee(ie,ae){const{onStoppedNotification:he}=y.v;he&&R.z.setTimeout(()=>he(ie,ae))}const te={closed:!0,next:M.Z,error:function V(ie){throw ie},complete:M.Z}},727:(c,h,f)=>{"use strict";f.d(h,{Lc:()=>k,w0:()=>M,Nn:()=>F});var s=f(576);const y=(0,f(3888).d)(Q=>function(H){Q(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((U,q)=>`${q+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var I=f(8737);class M{constructor(R){this.initialTeardown=R,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let R;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const ne of H)ne.remove(this);else H.remove(this);const{initialTeardown:U}=this;if((0,s.m)(U))try{U()}catch(ne){R=ne instanceof y?ne.errors:[ne]}const{_finalizers:q}=this;if(q){this._finalizers=null;for(const ne of q)try{z(ne)}catch(j){R=R??[],j instanceof y?R=[...R,...j.errors]:R.push(j)}}if(R)throw new y(R)}}add(R){var H;if(R&&R!==this)if(this.closed)z(R);else{if(R instanceof M){if(R.closed||R._hasParent(this))return;R._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(R)}}_hasParent(R){const{_parentage:H}=this;return H===R||Array.isArray(H)&&H.includes(R)}_addParent(R){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(R),H):H?[H,R]:R}_removeParent(R){const{_parentage:H}=this;H===R?this._parentage=null:Array.isArray(H)&&(0,I.P)(H,R)}remove(R){const{_finalizers:H}=this;H&&(0,I.P)(H,R),R instanceof M&&R._removeParent(this)}}M.EMPTY=(()=>{const Q=new M;return Q.closed=!0,Q})();const k=M.EMPTY;function F(Q){return Q instanceof M||Q&&"closed"in Q&&(0,s.m)(Q.remove)&&(0,s.m)(Q.add)&&(0,s.m)(Q.unsubscribe)}function z(Q){(0,s.m)(Q)?Q():Q.unsubscribe()}},2416:(c,h,f)=>{"use strict";f.d(h,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(c,h,f)=>{"use strict";f.d(h,{E:()=>v});const v=new(f(9751).y)(M=>M.complete())},8996:(c,h,f)=>{"use strict";f.d(h,{D:()=>ae});var s=f(8421),v=f(5363),y=f(9468),k=f(9751),z=f(2202),Q=f(576),R=f(9672);function U(he,Re){if(!he)throw new Error("Iterable cannot be null");return new k.y(De=>{(0,R.f)(De,Re,()=>{const Se=he[Symbol.asyncIterator]();(0,R.f)(De,Re,()=>{Se.next().then(_e=>{_e.done?De.complete():De.next(_e.value)})},0,!0)})})}var q=f(3670),ne=f(8239),j=f(1144),G=f(6495),B=f(2206),V=f(4532),ee=f(3260);function ae(he,Re){return Re?function ie(he,Re){if(null!=he){if((0,q.c)(he))return function I(he,Re){return(0,s.Xf)(he).pipe((0,y.R)(Re),(0,v.Q)(Re))}(he,Re);if((0,j.z)(he))return function F(he,Re){return new k.y(De=>{let Se=0;return Re.schedule(function(){Se===he.length?De.complete():(De.next(he[Se++]),De.closed||this.schedule())})})}(he,Re);if((0,ne.t)(he))return function M(he,Re){return(0,s.Xf)(he).pipe((0,y.R)(Re),(0,v.Q)(Re))}(he,Re);if((0,B.D)(he))return U(he,Re);if((0,G.T)(he))return function H(he,Re){return new k.y(De=>{let Se;return(0,R.f)(De,Re,()=>{Se=he[z.h](),(0,R.f)(De,Re,()=>{let _e,$e;try{({value:_e,done:$e}=Se.next())}catch(Te){return void De.error(Te)}$e?De.complete():De.next(_e)},0,!0)}),()=>(0,Q.m)(Se?.return)&&Se.return()})}(he,Re);if((0,ee.L)(he))return function te(he,Re){return U((0,ee.Q)(he),Re)}(he,Re)}throw(0,V.z)(he)}(he,Re):(0,s.Xf)(he)}},8421:(c,h,f)=>{"use strict";f.d(h,{Xf:()=>q});var s=f(655),v=f(1144),y=f(8239),I=f(9751),M=f(3670),k=f(2206),F=f(4532),z=f(6495),Q=f(3260),R=f(576),H=f(7849),U=f(8822);function q(ie){if(ie instanceof I.y)return ie;if(null!=ie){if((0,M.c)(ie))return function ne(ie){return new I.y(ae=>{const he=ie[U.L]();if((0,R.m)(he.subscribe))return he.subscribe(ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ie);if((0,v.z)(ie))return function j(ie){return new I.y(ae=>{for(let he=0;he<ie.length&&!ae.closed;he++)ae.next(ie[he]);ae.complete()})}(ie);if((0,y.t)(ie))return function G(ie){return new I.y(ae=>{ie.then(he=>{ae.closed||(ae.next(he),ae.complete())},he=>ae.error(he)).then(null,H.h)})}(ie);if((0,k.D)(ie))return V(ie);if((0,z.T)(ie))return function B(ie){return new I.y(ae=>{for(const he of ie)if(ae.next(he),ae.closed)return;ae.complete()})}(ie);if((0,Q.L)(ie))return function ee(ie){return V((0,Q.Q)(ie))}(ie)}throw(0,F.z)(ie)}function V(ie){return new I.y(ae=>{(function te(ie,ae){var he,Re,De,Se;return(0,s.mG)(this,void 0,void 0,function*(){try{for(he=(0,s.KL)(ie);!(Re=yield he.next()).done;)if(ae.next(Re.value),ae.closed)return}catch(_e){De={error:_e}}finally{try{Re&&!Re.done&&(Se=he.return)&&(yield Se.call(he))}finally{if(De)throw De.error}}ae.complete()})})(ie,ae).catch(he=>ae.error(he))})}},6451:(c,h,f)=>{"use strict";f.d(h,{T:()=>k});var s=f(8189),v=f(8421),y=f(515),I=f(3269),M=f(8996);function k(...F){const z=(0,I.yG)(F),Q=(0,I._6)(F,1/0),R=F;return R.length?1===R.length?(0,v.Xf)(R[0]):(0,s.J)(Q)((0,M.D)(R,z)):y.E}},5403:(c,h,f)=>{"use strict";f.d(h,{x:()=>v});var s=f(930);function v(I,M,k,F,z){return new y(I,M,k,F,z)}class y extends s.Lv{constructor(M,k,F,z,Q,R){super(M),this.onFinalize=Q,this.shouldUnsubscribe=R,this._next=k?function(H){try{k(H)}catch(U){M.error(U)}}:super._next,this._error=z?function(H){try{z(H)}catch(U){M.error(U)}finally{this.unsubscribe()}}:super._error,this._complete=F?function(){try{F()}catch(H){M.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var M;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:k}=this;super.unsubscribe(),!k&&(null===(M=this.onFinalize)||void 0===M||M.call(this))}}}},4004:(c,h,f)=>{"use strict";f.d(h,{U:()=>y});var s=f(4482),v=f(5403);function y(I,M){return(0,s.e)((k,F)=>{let z=0;k.subscribe((0,v.x)(F,Q=>{F.next(I.call(M,Q,z++))}))})}},8189:(c,h,f)=>{"use strict";f.d(h,{J:()=>y});var s=f(5577),v=f(4671);function y(I=1/0){return(0,s.z)(v.y,I)}},5577:(c,h,f)=>{"use strict";f.d(h,{z:()=>z});var s=f(4004),v=f(8421),y=f(4482),I=f(9672),M=f(5403),F=f(576);function z(Q,R,H=1/0){return(0,F.m)(R)?z((U,q)=>(0,s.U)((ne,j)=>R(U,ne,q,j))((0,v.Xf)(Q(U,q))),H):("number"==typeof R&&(H=R),(0,y.e)((U,q)=>function k(Q,R,H,U,q,ne,j,G){const B=[];let V=0,ee=0,te=!1;const ie=()=>{te&&!B.length&&!V&&R.complete()},ae=Re=>V<U?he(Re):B.push(Re),he=Re=>{ne&&R.next(Re),V++;let De=!1;(0,v.Xf)(H(Re,ee++)).subscribe((0,M.x)(R,Se=>{q?.(Se),ne?ae(Se):R.next(Se)},()=>{De=!0},void 0,()=>{if(De)try{for(V--;B.length&&V<U;){const Se=B.shift();j?(0,I.f)(R,j,()=>he(Se)):he(Se)}ie()}catch(Se){R.error(Se)}}))};return Q.subscribe((0,M.x)(R,ae,()=>{te=!0,ie()})),()=>{G?.()}}(U,q,Q,H)))}},5363:(c,h,f)=>{"use strict";f.d(h,{Q:()=>I});var s=f(9672),v=f(4482),y=f(5403);function I(M,k=0){return(0,v.e)((F,z)=>{F.subscribe((0,y.x)(z,Q=>(0,s.f)(z,M,()=>z.next(Q),k),()=>(0,s.f)(z,M,()=>z.complete(),k),Q=>(0,s.f)(z,M,()=>z.error(Q),k)))})}},3099:(c,h,f)=>{"use strict";f.d(h,{B:()=>M});var s=f(8421),v=f(7579),y=f(930),I=f(4482);function M(F={}){const{connector:z=(()=>new v.x),resetOnError:Q=!0,resetOnComplete:R=!0,resetOnRefCountZero:H=!0}=F;return U=>{let q,ne,j,G=0,B=!1,V=!1;const ee=()=>{ne?.unsubscribe(),ne=void 0},te=()=>{ee(),q=j=void 0,B=V=!1},ie=()=>{const ae=q;te(),ae?.unsubscribe()};return(0,I.e)((ae,he)=>{G++,!V&&!B&&ee();const Re=j=j??z();he.add(()=>{G--,0===G&&!V&&!B&&(ne=k(ie,H))}),Re.subscribe(he),!q&&G>0&&(q=new y.Hp({next:De=>Re.next(De),error:De=>{V=!0,ee(),ne=k(te,Q,De),Re.error(De)},complete:()=>{B=!0,ee(),ne=k(te,R),Re.complete()}}),(0,s.Xf)(ae).subscribe(q))})(U)}}function k(F,z,...Q){if(!0===z)return void F();if(!1===z)return;const R=new y.Hp({next:()=>{R.unsubscribe(),F()}});return z(...Q).subscribe(R)}},9468:(c,h,f)=>{"use strict";f.d(h,{R:()=>v});var s=f(4482);function v(y,I=0){return(0,s.e)((M,k)=>{k.add(y.schedule(()=>M.subscribe(k),I))})}},8505:(c,h,f)=>{"use strict";f.d(h,{b:()=>M});var s=f(576),v=f(4482),y=f(5403),I=f(4671);function M(k,F,z){const Q=(0,s.m)(k)||F||z?{next:k,error:F,complete:z}:k;return Q?(0,v.e)((R,H)=>{var U;null===(U=Q.subscribe)||void 0===U||U.call(Q);let q=!0;R.subscribe((0,y.x)(H,ne=>{var j;null===(j=Q.next)||void 0===j||j.call(Q,ne),H.next(ne)},()=>{var ne;q=!1,null===(ne=Q.complete)||void 0===ne||ne.call(Q),H.complete()},ne=>{var j;q=!1,null===(j=Q.error)||void 0===j||j.call(Q,ne),H.error(ne)},()=>{var ne,j;q&&(null===(ne=Q.unsubscribe)||void 0===ne||ne.call(Q)),null===(j=Q.finalize)||void 0===j||j.call(Q)}))}):I.y}},4408:(c,h,f)=>{"use strict";f.d(h,{o:()=>M});var s=f(727);class v extends s.w0{constructor(F,z){super()}schedule(F,z=0){return this}}const y={setInterval(k,F,...z){const{delegate:Q}=y;return Q?.setInterval?Q.setInterval(k,F,...z):setInterval(k,F,...z)},clearInterval(k){const{delegate:F}=y;return(F?.clearInterval||clearInterval)(k)},delegate:void 0};var I=f(8737);class M extends v{constructor(F,z){super(F,z),this.scheduler=F,this.work=z,this.pending=!1}schedule(F,z=0){var Q;if(this.closed)return this;this.state=F;const R=this.id,H=this.scheduler;return null!=R&&(this.id=this.recycleAsyncId(H,R,z)),this.pending=!0,this.delay=z,this.id=null!==(Q=this.id)&&void 0!==Q?Q:this.requestAsyncId(H,this.id,z),this}requestAsyncId(F,z,Q=0){return y.setInterval(F.flush.bind(F,this),Q)}recycleAsyncId(F,z,Q=0){if(null!=Q&&this.delay===Q&&!1===this.pending)return z;null!=z&&y.clearInterval(z)}execute(F,z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Q=this._execute(F,z);if(Q)return Q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(F,z){let R,Q=!1;try{this.work(F)}catch(H){Q=!0,R=H||new Error("Scheduled action threw falsy error")}if(Q)return this.unsubscribe(),R}unsubscribe(){if(!this.closed){const{id:F,scheduler:z}=this,{actions:Q}=z;this.work=this.state=this.scheduler=null,this.pending=!1,(0,I.P)(Q,this),null!=F&&(this.id=this.recycleAsyncId(z,F,null)),this.delay=null,super.unsubscribe()}}}},7565:(c,h,f)=>{"use strict";f.d(h,{v:()=>y});var s=f(6063);class v{constructor(M,k=v.now){this.schedulerActionCtor=M,this.now=k}schedule(M,k=0,F){return new this.schedulerActionCtor(this,M).schedule(F,k)}}v.now=s.l.now;class y extends v{constructor(M,k=v.now){super(M,k),this.actions=[],this._active=!1}flush(M){const{actions:k}=this;if(this._active)return void k.push(M);let F;this._active=!0;do{if(F=M.execute(M.state,M.delay))break}while(M=k.shift());if(this._active=!1,F){for(;M=k.shift();)M.unsubscribe();throw F}}}},4986:(c,h,f)=>{"use strict";f.d(h,{P:()=>I,z:()=>y});var s=f(4408);const y=new(f(7565).v)(s.o),I=y},6063:(c,h,f)=>{"use strict";f.d(h,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(c,h,f)=>{"use strict";f.d(h,{z:()=>s});const s={setTimeout(v,y,...I){const{delegate:M}=s;return M?.setTimeout?M.setTimeout(v,y,...I):setTimeout(v,y,...I)},clearTimeout(v){const{delegate:y}=s;return(y?.clearTimeout||clearTimeout)(v)},delegate:void 0}},2202:(c,h,f)=>{"use strict";f.d(h,{h:()=>v});const v=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(c,h,f)=>{"use strict";f.d(h,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(c,h,f)=>{"use strict";f.d(h,{_6:()=>k,jO:()=>I,yG:()=>M});var s=f(576),v=f(3532);function y(F){return F[F.length-1]}function I(F){return(0,s.m)(y(F))?F.pop():void 0}function M(F){return(0,v.K)(y(F))?F.pop():void 0}function k(F,z){return"number"==typeof y(F)?F.pop():z}},8737:(c,h,f)=>{"use strict";function s(v,y){if(v){const I=v.indexOf(y);0<=I&&v.splice(I,1)}}f.d(h,{P:()=>s})},3888:(c,h,f)=>{"use strict";function s(v){const I=v(M=>{Error.call(M),M.stack=(new Error).stack});return I.prototype=Object.create(Error.prototype),I.prototype.constructor=I,I}f.d(h,{d:()=>s})},2806:(c,h,f)=>{"use strict";f.d(h,{O:()=>I,x:()=>y});var s=f(2416);let v=null;function y(M){if(s.v.useDeprecatedSynchronousErrorHandling){const k=!v;if(k&&(v={errorThrown:!1,error:null}),M(),k){const{errorThrown:F,error:z}=v;if(v=null,F)throw z}}else M()}function I(M){s.v.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=M)}},9672:(c,h,f)=>{"use strict";function s(v,y,I,M=0,k=!1){const F=y.schedule(function(){I(),k?v.add(this.schedule(null,M)):this.unsubscribe()},M);if(v.add(F),!k)return F}f.d(h,{f:()=>s})},4671:(c,h,f)=>{"use strict";function s(v){return v}f.d(h,{y:()=>s})},1144:(c,h,f)=>{"use strict";f.d(h,{z:()=>s});const s=v=>v&&"number"==typeof v.length&&"function"!=typeof v},2206:(c,h,f)=>{"use strict";f.d(h,{D:()=>v});var s=f(576);function v(y){return Symbol.asyncIterator&&(0,s.m)(y?.[Symbol.asyncIterator])}},576:(c,h,f)=>{"use strict";function s(v){return"function"==typeof v}f.d(h,{m:()=>s})},3670:(c,h,f)=>{"use strict";f.d(h,{c:()=>y});var s=f(8822),v=f(576);function y(I){return(0,v.m)(I[s.L])}},6495:(c,h,f)=>{"use strict";f.d(h,{T:()=>y});var s=f(2202),v=f(576);function y(I){return(0,v.m)(I?.[s.h])}},8239:(c,h,f)=>{"use strict";f.d(h,{t:()=>v});var s=f(576);function v(y){return(0,s.m)(y?.then)}},3260:(c,h,f)=>{"use strict";f.d(h,{L:()=>I,Q:()=>y});var s=f(655),v=f(576);function y(M){return(0,s.FC)(this,arguments,function*(){const F=M.getReader();try{for(;;){const{value:z,done:Q}=yield(0,s.qq)(F.read());if(Q)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(z)}}finally{F.releaseLock()}})}function I(M){return(0,v.m)(M?.getReader)}},3532:(c,h,f)=>{"use strict";f.d(h,{K:()=>v});var s=f(576);function v(y){return y&&(0,s.m)(y.schedule)}},4482:(c,h,f)=>{"use strict";f.d(h,{A:()=>v,e:()=>y});var s=f(576);function v(I){return(0,s.m)(I?.lift)}function y(I){return M=>{if(v(M))return M.lift(function(k){try{return I(k,this)}catch(F){this.error(F)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(c,h,f)=>{"use strict";function s(){}f.d(h,{Z:()=>s})},9635:(c,h,f)=>{"use strict";f.d(h,{U:()=>y,z:()=>v});var s=f(4671);function v(...I){return y(I)}function y(I){return 0===I.length?s.y:1===I.length?I[0]:function(k){return I.reduce((F,z)=>z(F),k)}}},7849:(c,h,f)=>{"use strict";f.d(h,{h:()=>y});var s=f(2416),v=f(3410);function y(I){v.z.setTimeout(()=>{const{onUnhandledError:M}=s.v;if(!M)throw I;M(I)})}},4532:(c,h,f)=>{"use strict";function s(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}f.d(h,{z:()=>s})},655:(c,h,f)=>{"use strict";function I(X,oe){var Ce={};for(var me in X)Object.prototype.hasOwnProperty.call(X,me)&&oe.indexOf(me)<0&&(Ce[me]=X[me]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(me=Object.getOwnPropertySymbols(X);Ne<me.length;Ne++)oe.indexOf(me[Ne])<0&&Object.prototype.propertyIsEnumerable.call(X,me[Ne])&&(Ce[me[Ne]]=X[me[Ne]])}return Ce}function U(X,oe,Ce,me){return new(Ce||(Ce=Promise))(function(Le,nt){function Ht(jt){try{Qe(me.next(jt))}catch(zt){nt(zt)}}function ht(jt){try{Qe(me.throw(jt))}catch(zt){nt(zt)}}function Qe(jt){jt.done?Le(jt.value):function Ne(Le){return Le instanceof Ce?Le:new Ce(function(nt){nt(Le)})}(jt.value).then(Ht,ht)}Qe((me=me.apply(X,oe||[])).next())})}function ie(X){return this instanceof ie?(this.v=X,this):new ie(X)}function ae(X,oe,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,me=Ce.apply(X,oe||[]),Le=[];return Ne={},nt("next"),nt("throw"),nt("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function nt(Ut){me[Ut]&&(Ne[Ut]=function(Jt){return new Promise(function(un,lt){Le.push([Ut,Jt,un,lt])>1||Ht(Ut,Jt)})})}function Ht(Ut,Jt){try{!function ht(Ut){Ut.value instanceof ie?Promise.resolve(Ut.value.v).then(Qe,jt):zt(Le[0][2],Ut)}(me[Ut](Jt))}catch(un){zt(Le[0][3],un)}}function Qe(Ut){Ht("next",Ut)}function jt(Ut){Ht("throw",Ut)}function zt(Ut,Jt){Ut(Jt),Le.shift(),Le.length&&Ht(Le[0][0],Le[0][1])}}function Re(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,oe=X[Symbol.asyncIterator];return oe?oe.call(X):(X=function G(X){var oe="function"==typeof Symbol&&Symbol.iterator,Ce=oe&&X[oe],me=0;if(Ce)return Ce.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&me>=X.length&&(X=void 0),{value:X&&X[me++],done:!X}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),Ce={},me("next"),me("throw"),me("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function me(Le){Ce[Le]=X[Le]&&function(nt){return new Promise(function(Ht,ht){!function Ne(Le,nt,Ht,ht){Promise.resolve(ht).then(function(Qe){Le({value:Qe,done:Ht})},nt)}(Ht,ht,(nt=X[Le](nt)).done,nt.value)})}}}f.d(h,{FC:()=>ae,KL:()=>Re,_T:()=>I,mG:()=>U,qq:()=>ie})},4650:(c,h,f)=>{"use strict";f.d(h,{$8M:()=>cc,$Z:()=>Tl,AFp:()=>oM,ALo:()=>Iw,AaK:()=>z,BQk:()=>ld,CHM:()=>Yl,CRH:()=>Vw,CZH:()=>b0,CqO:()=>Pv,D6c:()=>hx,EJc:()=>Zw,EiD:()=>Dp,EpF:()=>OE,F$t:()=>am,F4k:()=>FE,FYo:()=>zy,FiY:()=>Xs,G48:()=>bM,Gf:()=>Lw,GfV:()=>Gy,GkF:()=>t_,Gpc:()=>H,Hsn:()=>Nv,Ikx:()=>rw,JOm:()=>hs,JVY:()=>Th,KtG:()=>fu,L6k:()=>Eg,LAX:()=>wg,LFG:()=>ci,LSH:()=>Wu,Lbi:()=>Ww,Lck:()=>CO,MAs:()=>RE,MGl:()=>Lv,MMx:()=>bw,NdJ:()=>cd,O4$:()=>vu,OlP:()=>Dn,Oqu:()=>XE,PXZ:()=>k0,Q6J:()=>ad,QGY:()=>kv,QP$:()=>Bt,QbO:()=>Pl,Qsj:()=>MC,R0b:()=>wo,RDi:()=>vg,Rgc:()=>Zh,SBq:()=>Fp,Sil:()=>eF,Suo:()=>Bw,TTD:()=>Gr,TgZ:()=>Mv,Udp:()=>zh,VKq:()=>TD,W1O:()=>Kh,WFA:()=>Rv,WLB:()=>DD,X6Q:()=>vM,XFs:()=>ft,Xpm:()=>Jn,Xts:()=>Mh,Y36:()=>Ri,YKP:()=>yD,YNc:()=>hi,Yjl:()=>xe,Yz7:()=>Qe,Z0I:()=>Jt,ZZ4:()=>ef,_Bn:()=>_D,_UZ:()=>Av,_Vd:()=>Op,_c5:()=>V0,_uU:()=>FT,aQg:()=>N_,c2e:()=>Ko,cJS:()=>zt,cg1:()=>Wv,d8E:()=>sw,dDg:()=>pM,dqk:()=>Pn,eBb:()=>Dh,eFA:()=>_M,ekj:()=>cm,eoX:()=>Kw,f3M:()=>Et,g9A:()=>lM,h0i:()=>fm,hGG:()=>H0,hij:()=>Uv,iGM:()=>yd,ifc:()=>Pt,ip1:()=>sM,jDz:()=>bD,kL8:()=>aw,kcU:()=>ec,lG2:()=>ge,lcZ:()=>PD,lqb:()=>Qu,lri:()=>A0,mCW:()=>T,n5z:()=>$n,n_E:()=>t0,oAB:()=>kr,oxw:()=>BE,pB0:()=>xg,q3G:()=>wi,q4F:()=>PC,qLn:()=>Np,qOj:()=>Kg,qZA:()=>Jg,qzn:()=>vo,rWj:()=>fM,sBO:()=>Dr,sIi:()=>qo,s_b:()=>b_,soG:()=>ym,tb:()=>C0,tp0:()=>jo,uIk:()=>Iv,vHH:()=>j,vpe:()=>kl,wAp:()=>$t,xp6:()=>Jy,ynx:()=>e_,z2F:()=>Yt,z3N:()=>Ei,zSh:()=>Ap,zs3:()=>Fc});var s=f(7579),v=f(727),y=f(9751),I=f(6451),M=f(3099);function k(a){for(let l in a)if(a[l]===k)return l;throw Error("Could not find renamed property on target object.")}function F(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function z(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(z).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Q(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const R=k({__forward_ref__:k});function H(a){return a.__forward_ref__=H,a.toString=function(){return z(this())},a}function U(a){return q(a)?a():a}function q(a){return"function"==typeof a&&a.hasOwnProperty(R)&&a.__forward_ref__===H}class j extends Error{constructor(l,u){super(function G(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function B(a){return"string"==typeof a?a:null==a?"":String(a)}function ae(a,l){throw new j(-201,!1)}function Ne(a,l){null==a&&function Le(a,l,u,p){throw new Error(`ASSERTION ERROR: ${a}`+(null==p?"":` [Expected=> ${u} ${p} ${l} <=Actual]`))}(l,a,null,"!=")}function Qe(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function zt(a){return{providers:a.providers||[],imports:a.imports||[]}}function Ut(a){return un(a,vi)||un(a,$i)}function Jt(a){return null!==Ut(a)}function un(a,l){return a.hasOwnProperty(l)?a[l]:null}function Bn(a){return a&&(a.hasOwnProperty(ii)||a.hasOwnProperty(qi))?a[ii]:null}const vi=k({\u0275prov:k}),ii=k({\u0275inj:k}),$i=k({ngInjectableDef:k}),qi=k({ngInjectorDef:k});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let En;function Wn(a){const l=En;return En=a,l}function Di(a,l,u){const p=Ut(a);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:u&ft.Optional?null:void 0!==l?l:void ae(z(a))}function gn(a){return{toString:a}.toString()}var hn=(()=>((hn=hn||{})[hn.OnPush=0]="OnPush",hn[hn.Default=1]="Default",hn))(),Pt=(()=>{return(a=Pt||(Pt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Pt;var a})();const Pn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),bi={},Lt=[],Wi=k({\u0275cmp:k}),Tn=k({\u0275dir:k}),ra=k({\u0275pipe:k}),fn=k({\u0275mod:k}),Mi=k({\u0275fac:k}),Zi=k({__NG_ELEMENT_ID__:k});let ns=0;function Jn(a){return gn(()=>{const u=!0===a.standalone,p={},g={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:p,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===hn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Lt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Pt.Emulated,id:"c"+ns++,styles:a.styles||Lt,_:null,setInput:null,schemas:a.schemas||null,tView:null},E=a.dependencies,x=a.features;return g.inputs=ye(a.inputs,p),g.outputs=ye(a.outputs),x&&x.forEach(P=>P(g)),g.directiveDefs=E?()=>("function"==typeof E?E():E).map(Is).filter(si):null,g.pipeDefs=E?()=>("function"==typeof E?E():E).map(ot).filter(si):null,g})}function Is(a){return He(a)||ke(a)}function si(a){return null!==a}function kr(a){return gn(()=>({type:a.type,bootstrap:a.bootstrap||Lt,declarations:a.declarations||Lt,imports:a.imports||Lt,exports:a.exports||Lt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function ye(a,l){if(null==a)return bi;const u={};for(const p in a)if(a.hasOwnProperty(p)){let g=a[p],E=g;Array.isArray(g)&&(E=g[1],g=g[0]),u[g]=p,l&&(l[g]=E)}return u}const ge=Jn;function xe(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function He(a){return a[Wi]||null}function ke(a){return a[Tn]||null}function ot(a){return a[ra]||null}function Bt(a){const l=He(a)||ke(a)||ot(a);return null!==l&&l.standalone}function Zt(a,l){const u=a[fn]||null;if(!u&&!0===l)throw new Error(`Type ${z(a)} does not have '\u0275mod' property.`);return u}function Ai(a){return Array.isArray(a)&&"object"==typeof a[1]}function Er(a){return Array.isArray(a)&&!0===a[1]}function uo(a){return 0!=(8&a.flags)}function oa(a){return 2==(2&a.flags)}function zs(a){return 1==(1&a.flags)}function rs(a){return null!==a.template}function aa(a){return 0!=(256&a[2])}function Gs(a,l){return a.hasOwnProperty(Mi)?a[Mi]:null}class Lf{constructor(l,u,p){this.previousValue=l,this.currentValue=u,this.firstChange=p}isFirstChange(){return this.firstChange}}function Gr(){return $d}function $d(a){return a.type.prototype.ngOnChanges&&(a.setInput=uu),Za}function Za(){const a=Bf(this),l=a?.current;if(l){const u=a.previous;if(u===bi)a.previous=l;else for(let p in l)u[p]=l[p];a.current=null,this.ngOnChanges(l)}}function uu(a,l,u,p){const g=Bf(a)||function oi(a,l){return a[zl]=l}(a,{previous:bi,current:null}),E=g.current||(g.current={}),x=g.previous,P=this.declaredInputs[u],L=x[P];E[P]=new Lf(L&&L.currentValue,l,x===bi),a[p]=l}Gr.ngInherit=!0;const zl="__ngSimpleChanges__";function Bf(a){return a[zl]||null}function ai(a){for(;Array.isArray(a);)a=a[0];return a}function $r(a,l){return ai(l[a])}function wr(a,l){return ai(l[a.index])}function Zl(a,l){return a.data[l]}function la(a,l){return a[l]}function li(a,l){const u=l[a];return Ai(u)?u:u[0]}function Do(a){return 64==(64&a[2])}function Rr(a,l){return null==l?null:a[l]}function ho(a){a[18]=0}function Xi(a,l){a[5]+=l;let u=a,p=a[3];for(;null!==p&&(1===l&&1===u[5]||-1===l&&0===u[5]);)p[5]+=l,u=p,p=p[3]}const Vt={lFrame:yu(null),bindingsEnabled:!0};function Yd(){return Vt.bindingsEnabled}function qe(){return Vt.lFrame.lView}function nn(){return Vt.lFrame.tView}function Yl(a){return Vt.lFrame.contextLView=a,a[8]}function fu(a){return Vt.lFrame.contextLView=null,a}function ei(){let a=Ql();for(;null!==a&&64===a.type;)a=a.parent;return a}function Ql(){return Vt.lFrame.currentTNode}function Or(a,l){const u=Vt.lFrame;u.currentTNode=a,u.isParent=l}function ca(){return Vt.lFrame.isParent}function pu(){Vt.lFrame.isParent=!1}function hr(){const a=Vt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function qs(){return Vt.lFrame.bindingIndex++}function sg(a,l){const u=Vt.lFrame;u.bindingIndex=u.bindingRootIndex=a,gu(l)}function gu(a){Vt.lFrame.currentDirectiveIndex=a}function Ya(a){const l=Vt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Xl(){return Vt.lFrame.currentQueryIndex}function fr(a){Vt.lFrame.currentQueryIndex=a}function _u(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Qa(a,l,u){if(u&ft.SkipSelf){let g=l,E=a;for(;!(g=g.parent,null!==g||u&ft.Host||(g=_u(E),null===g||(E=E[15],10&g.type))););if(null===g)return!1;l=g,a=E}const p=Vt.lFrame=ko();return p.currentTNode=l,p.lView=a,!0}function Xa(a){const l=ko(),u=a[1];Vt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function ko(){const a=Vt.lFrame,l=null===a?null:a.child;return null===l?yu(a):l}function yu(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Ja(){const a=Vt.lFrame;return Vt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Xd=Ja;function da(){const a=Ja();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function yn(){return Vt.lFrame.selectedIndex}function Ws(a){Vt.lFrame.selectedIndex=a}function Gn(){const a=Vt.lFrame;return Zl(a.tView,a.selectedIndex)}function vu(){Vt.lFrame.currentNamespace="svg"}function ec(){!function eh(){Vt.lFrame.currentNamespace=null}()}function Po(a,l){for(let u=l.directiveStart,p=l.directiveEnd;u<p;u++){const E=a.data[u].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:P,ngAfterViewInit:L,ngAfterViewChecked:Y,ngOnDestroy:se}=E;x&&(a.contentHooks||(a.contentHooks=[])).push(-u,x),P&&((a.contentHooks||(a.contentHooks=[])).push(u,P),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,P)),L&&(a.viewHooks||(a.viewHooks=[])).push(-u,L),Y&&((a.viewHooks||(a.viewHooks=[])).push(u,Y),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,Y)),null!=se&&(a.destroyHooks||(a.destroyHooks=[])).push(u,se)}}function el(a,l,u){tl(a,l,3,u)}function ha(a,l,u,p){(3&a[2])===u&&tl(a,l,u,p)}function th(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function tl(a,l,u,p){const E=p??-1,x=l.length-1;let P=0;for(let L=void 0!==p?65535&a[18]:0;L<x;L++)if("number"==typeof l[L+1]){if(P=l[L],null!=p&&P>=p)break}else l[L]<0&&(a[18]+=65536),(P<E||-1==E)&&(zf(a,u,l,L),a[18]=(4294901760&a[18])+L+2),L++}function zf(a,l,u,p){const g=u[p]<0,E=u[p+1],P=a[g?-u[p]:u[p]];if(g){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{E.call(P)}finally{}}}else try{E.call(P)}finally{}}class nl{constructor(l,u,p){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=p}}function rc(a,l,u){let p=0;for(;p<u.length;){const g=u[p];if("number"==typeof g){if(0!==g)break;p++;const E=u[p++],x=u[p++],P=u[p++];a.setAttribute(l,x,P,E)}else{const E=g,x=u[++p];qf(E)?a.setProperty(l,E,x):a.setAttribute(l,E,x),p++}}return p}function sc(a){return 3===a||4===a||6===a}function qf(a){return 64===a.charCodeAt(0)}function fa(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let p=0;p<l.length;p++){const g=l[p];"number"==typeof g?u=g:0===u||ih(a,u,g,null,-1===u||2===u?l[++p]:null)}}return a}function ih(a,l,u,p,g){let E=0,x=a.length;if(-1===l)x=-1;else for(;E<a.length;){const P=a[E++];if("number"==typeof P){if(P===l){x=-1;break}if(P>l){x=E-1;break}}}for(;E<a.length;){const P=a[E];if("number"==typeof P)break;if(P===u){if(null===p)return void(null!==g&&(a[E+1]=g));if(p===a[E+1])return void(a[E+2]=g)}E++,null!==p&&E++,null!==g&&E++}-1!==x&&(a.splice(x,0,l),E=x+1),a.splice(E++,0,u),null!==p&&a.splice(E++,0,p),null!==g&&a.splice(E++,0,g)}function wu(a){return-1!==a}function il(a){return 32767&a}function Ds(a,l){let u=function Wf(a){return a>>16}(a),p=l;for(;u>0;)p=p[15],u--;return p}let rl=!0;function Ks(a){const l=rl;return rl=a,l}let sl=0;const qr={};function pa(a,l){const u=Oo(a,l);if(-1!==u)return u;const p=l[1];p.firstCreatePass&&(a.injectorIndex=l.length,Su(p.data,a),Su(l,null),Su(p.blueprint,null));const g=Fo(a,l),E=a.injectorIndex;if(wu(g)){const x=il(g),P=Ds(g,l),L=P[1].data;for(let Y=0;Y<8;Y++)l[E+Y]=P[x+Y]|L[x+Y]}return l[E+8]=g,E}function Su(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Oo(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Fo(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,p=null,g=l;for(;null!==g;){if(p=Yf(g),null===p)return-1;if(u++,g=g[15],-1!==p.injectorIndex)return p.injectorIndex|u<<16}return-1}function ol(a,l,u){!function xu(a,l,u){let p;"string"==typeof u?p=u.charCodeAt(0)||0:u.hasOwnProperty(Zi)&&(p=u[Zi]),null==p&&(p=u[Zi]=sl++);const g=255&p;l.data[a+(g>>5)]|=1<<g}(a,l,u)}function ac(a,l,u){if(u&ft.Optional||void 0!==a)return a;ae()}function Zf(a,l,u,p){if(u&ft.Optional&&void 0===p&&(p=null),0==(u&(ft.Self|ft.Host))){const g=a[9],E=Wn(void 0);try{return g?g.get(l,p,u&ft.Optional):Di(l,p,u&ft.Optional)}finally{Wn(E)}}return ac(p,0,u)}function ma(a,l,u,p=ft.Default,g){if(null!==a){if(1024&l[2]){const x=function ll(a,l,u,p,g){let E=a,x=l;for(;null!==E&&null!==x&&1024&x[2]&&!(256&x[2]);){const P=ga(E,x,u,p|ft.Self,qr);if(P!==qr)return P;let L=E.parent;if(!L){const Y=x[21];if(Y){const se=Y.get(u,qr,p);if(se!==qr)return se}L=Yf(x),x=x[15]}E=L}return g}(a,l,u,p,qr);if(x!==qr)return x}const E=ga(a,l,u,p,qr);if(E!==qr)return E}return Zf(l,u,p,g)}function ga(a,l,u,p,g){const E=function Lo(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Zi)?a[Zi]:void 0;return"number"==typeof l?l>=0?255&l:lg:l}(u);if("function"==typeof E){if(!Qa(l,a,p))return p&ft.Host?ac(g,0,p):Zf(l,u,p,g);try{const x=E(p);if(null!=x||p&ft.Optional)return x;ae()}finally{Xd()}}else if("number"==typeof E){let x=null,P=Oo(a,l),L=-1,Y=p&ft.Host?l[16][6]:null;for((-1===P||p&ft.SkipSelf)&&(L=-1===P?Fo(a,l):l[P+8],-1!==L&&lc(p,!1)?(x=l[1],P=il(L),l=Ds(L,l)):P=-1);-1!==P;){const se=l[1];if(Kf(E,P,se.data)){const de=ag(P,l,u,x,p,Y);if(de!==qr)return de}L=l[P+8],-1!==L&&lc(p,l[1].data[P+8]===Y)&&Kf(E,P,l)?(x=se,P=il(L),l=Ds(L,l)):P=-1}}return g}function ag(a,l,u,p,g,E){const x=l[1],P=x.data[a+8],se=As(P,x,u,null==p?oa(P)&&rl:p!=x&&0!=(3&P.type),g&ft.Host&&E===P);return null!==se?al(l,x,se,P):qr}function As(a,l,u,p,g){const E=a.providerIndexes,x=l.data,P=1048575&E,L=a.directiveStart,se=E>>20,we=g?P+se:a.directiveEnd;for(let Pe=p?P:P+se;Pe<we;Pe++){const Ge=x[Pe];if(Pe<L&&u===Ge||Pe>=L&&Ge.type===u)return Pe}if(g){const Pe=x[L];if(Pe&&rs(Pe)&&Pe.type===u)return L}return null}function al(a,l,u,p){let g=a[u];const E=l.data;if(function nc(a){return a instanceof nl}(g)){const x=g;x.resolving&&function ee(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new j(-200,`Circular dependency in DI detected for ${a}${u}`)}(function V(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():B(a)}(E[u]));const P=Ks(x.canSeeViewProviders);x.resolving=!0;const L=x.injectImpl?Wn(x.injectImpl):null;Qa(a,p,ft.Default);try{g=a[u]=x.factory(void 0,E,a,p),l.firstCreatePass&&u>=p.directiveStart&&function bu(a,l,u){const{ngOnChanges:p,ngOnInit:g,ngDoCheck:E}=l.type.prototype;if(p){const x=$d(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,x),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,x)}g&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,g),E&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,E),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,E))}(u,E[u],l)}finally{null!==L&&Wn(L),Ks(P),x.resolving=!1,Xd()}}return g}function Kf(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function lc(a,l){return!(a&ft.Self||a&ft.Host&&l)}class ks{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,p){return ma(this._tNode,this._lView,l,p,u)}}function lg(){return new ks(ei(),qe())}function $n(a){return gn(()=>{const l=a.prototype.constructor,u=l[Mi]||Iu(l),p=Object.prototype;let g=Object.getPrototypeOf(a.prototype).constructor;for(;g&&g!==p;){const E=g[Mi]||Iu(g);if(E&&E!==u)return E;g=Object.getPrototypeOf(g)}return E=>new E})}function Iu(a){return q(a)?()=>{const l=Iu(U(a));return l&&l()}:Gs(a)}function Yf(a){const l=a[1],u=l.type;return 2===u?l.declTNode:1===u?a[6]:null}function cc(a){return function No(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const p=u.length;let g=0;for(;g<p;){const E=u[g];if(sc(E))break;if(0===E)g+=2;else if("number"==typeof E)for(g++;g<p&&"string"==typeof u[g];)g++;else{if(E===l)return u[g+1];g+=2}}}return null}(ei(),a)}const ni="__parameters__";function Qs(a,l,u){return gn(()=>{const p=function _a(a){return function(...u){if(a){const p=a(...u);for(const g in p)this[g]=p[g]}}}(l);function g(...E){if(this instanceof g)return p.apply(this,E),this;const x=new g(...E);return P.annotation=x,P;function P(L,Y,se){const de=L.hasOwnProperty(ni)?L[ni]:Object.defineProperty(L,ni,{value:[]})[ni];for(;de.length<=se;)de.push(null);return(de[se]=de[se]||[]).push(x),L}}return u&&(g.prototype=Object.create(u.prototype)),g.prototype.ngMetadataName=a,g.annotationCls=g,g})}class Dn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Qe({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function pi(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let p=a[u];Array.isArray(p)?(l===a&&(l=a.slice(0,u)),pi(p,l)):l!==a&&l.push(p)}return l}function cs(a,l){a.forEach(u=>Array.isArray(u)?cs(u,l):l(u))}function Du(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Mu(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function ya(a,l){const u=[];for(let p=0;p<a;p++)u.push(l);return u}function Lr(a,l,u){let p=dl(a,l);return p>=0?a[1|p]=u:(p=~p,function cg(a,l,u,p){let g=a.length;if(g==l)a.push(u,p);else if(1===g)a.push(p,a[0]),a[0]=u;else{for(g--,a.push(a[g-1],a[g]);g>l;)a[g]=a[g-2],g--;a[l]=u,a[l+1]=p}}(a,p,l,u)),p}function mc(a,l){const u=dl(a,l);if(u>=0)return a[1|u]}function dl(a,l){return function ip(a,l,u){let p=0,g=a.length>>u;for(;g!==p;){const E=p+(g-p>>1),x=a[E<<u];if(l===x)return E<<u;x>l?g=E:p=E+1}return~(g<<u)}(a,l,1)}const _t={},mi="__NG_DI_FLAG__",pr="ngTempTokenPath",ki=/\n/gm,fl="__source";let Ho;function mr(a){const l=Ho;return Ho=a,l}function vc(a,l=ft.Default){if(void 0===Ho)throw new j(-203,!1);return null===Ho?Di(a,void 0,l):Ho.get(a,l&ft.Optional?null:void 0,l)}function ci(a,l=ft.Default){return(function fi(){return En}()||vc)(U(a),l)}function Et(a,l=ft.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),ci(a,l)}function lh(a){const l=[];for(let u=0;u<a.length;u++){const p=U(a[u]);if(Array.isArray(p)){if(0===p.length)throw new j(900,!1);let g,E=ft.Default;for(let x=0;x<p.length;x++){const P=p[x],L=pl(P);"number"==typeof L?-1===L?g=P.token:E|=L:g=P}l.push(ci(g,E))}else l.push(ci(p))}return l}function Uo(a,l){return a[mi]=l,a.prototype[mi]=l,a}function pl(a){return a[mi]}const Xs=Uo(Qs("Optional"),8),jo=Uo(Qs("SkipSelf"),4);var hs=(()=>((hs=hs||{})[hs.Important=1]="Important",hs[hs.DashCase=2]="DashCase",hs))();const ue=new Map;let Ee=0;const Fn="__ngContext__";function Dt(a,l){Ai(l)?(a[Fn]=l[20],function je(a){ue.set(a[20],a)}(l)):a[Fn]=l}function Sc(a,l){return undefined(a,l)}function Nu(a){const l=a[3];return Er(l)?l[3]:l}function Ic(a){return Ia(a[13])}function pg(a){return Ia(a[4])}function Ia(a){for(;null!==a&&!Er(a);)a=a[4];return a}function Tc(a,l,u,p,g){if(null!=p){let E,x=!1;Er(p)?E=p:Ai(p)&&(x=!0,p=p[0]);const P=ai(p);0===a&&null!==u?null==g?Vu(l,u,P):Go(l,u,P,g||null,!0):1===a&&null!==u?Go(l,u,P,g||null,!0):2===a?function vp(a,l,u){const p=_h(a,l);p&&function mp(a,l,u,p){a.removeChild(l,u,p)}(a,p,l,u)}(l,P,x):3===a&&l.destroyNode(P),null!=E&&function Ep(a,l,u,p,g){const E=u[7];E!==ai(u)&&Tc(l,a,p,E,g);for(let P=10;P<u.length;P++){const L=u[P];Hu(L[1],L,a,l,p,E)}}(l,a,E,u,g)}}function hp(a,l,u){return a.createElement(l,u)}function Mc(a,l){const u=a[9],p=u.indexOf(l),g=l[3];512&l[2]&&(l[2]&=-513,Xi(g,-1)),u.splice(p,1)}function vl(a,l){if(a.length<=10)return;const u=10+l,p=a[u];if(p){const g=p[17];null!==g&&g!==a&&Mc(g,p),l>0&&(a[u-1][4]=p[4]);const E=Mu(a,10+l);!function yl(a,l){Hu(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(p[1],p);const x=E[19];null!==x&&x.detachView(E[1]),p[3]=null,p[4]=null,p[2]&=-65}return p}function bl(a,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&Hu(a,l,u,3,null,null),function Oy(a){let l=a[13];if(!l)return mh(a[1],a);for(;l;){let u=null;if(Ai(l))u=l[13];else{const p=l[10];p&&(u=p)}if(!u){for(;l&&!l[4]&&l!==a;)Ai(l)&&mh(l[1],l),l=l[3];null===l&&(l=a),Ai(l)&&mh(l[1],l),u=l&&l[4]}l=u}}(l)}}function mh(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function gh(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let p=0;p<u.length;p+=2){const g=l[u[p]];if(!(g instanceof nl)){const E=u[p+1];if(Array.isArray(E))for(let x=0;x<E.length;x+=2){const P=g[E[x]],L=E[x+1];try{L.call(P)}finally{}}else try{E.call(g)}finally{}}}}(a,l),function pp(a,l){const u=a.cleanup,p=l[7];let g=-1;if(null!==u)for(let E=0;E<u.length-1;E+=2)if("string"==typeof u[E]){const x=u[E+1],P="function"==typeof x?x(l):ai(l[x]),L=p[g=u[E+2]],Y=u[E+3];"boolean"==typeof Y?P.removeEventListener(u[E],L,Y):Y>=0?p[g=Y]():p[g=-Y].unsubscribe(),E+=2}else{const x=p[g=u[E+1]];u[E].call(x)}if(null!==p){for(let E=g+1;E<p.length;E++)(0,p[E])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&Er(l[3])){u!==l[3]&&Mc(u,l);const p=l[19];null!==p&&p.detachView(a)}!function rt(a){ue.delete(a[20])}(l)}}function Cl(a,l,u){return function mg(a,l,u){let p=l;for(;null!==p&&40&p.type;)p=(l=p).parent;if(null===p)return u[0];if(2&p.flags){const g=a.data[p.directiveStart].encapsulation;if(g===Pt.None||g===Pt.Emulated)return null}return wr(p,u)}(a,l.parent,u)}function Go(a,l,u,p,g){a.insertBefore(l,u,p,g)}function Vu(a,l,u){a.appendChild(l,u)}function gg(a,l,u,p,g){null!==p?Go(a,l,u,p,g):Vu(a,l,u)}function _h(a,l){return a.parentNode(l)}function _g(a,l,u){return _p(a,l,u)}let Ac,yo,_p=function yh(a,l,u){return 40&a.type?wr(a,u):null};function _o(a,l,u,p){const g=Cl(a,p,l),E=l[11],P=_g(p.parent||l[6],p,l);if(null!=g)if(Array.isArray(u))for(let L=0;L<u.length;L++)gg(E,g,u[L],P,!1);else gg(E,g,u,P,!1)}function no(a,l){if(null!==l){const u=l.type;if(3&u)return wr(l,a);if(4&u)return bh(-1,a[l.index]);if(8&u){const p=l.child;if(null!==p)return no(a,p);{const g=a[l.index];return Er(g)?bh(-1,g):ai(g)}}if(32&u)return Sc(l,a)()||ai(a[l.index]);{const p=yp(a,l);return null!==p?Array.isArray(p)?p[0]:no(Nu(a[16]),p):no(a,l.next)}}return null}function yp(a,l){return null!==l?a[16][6].projection[l.projection]:null}function bh(a,l){const u=10+a+1;if(u<l.length){const p=l[u],g=p[1].firstChild;if(null!==g)return no(p,g)}return l[7]}function bp(a,l,u,p,g,E,x){for(;null!=u;){const P=p[u.index],L=u.type;if(x&&0===l&&(P&&Dt(ai(P),p),u.flags|=4),64!=(64&u.flags))if(8&L)bp(a,l,u.child,p,g,E,!1),Tc(l,a,g,P,E);else if(32&L){const Y=Sc(u,p);let se;for(;se=Y();)Tc(l,a,g,se,E);Tc(l,a,g,P,E)}else 16&L?Cp(a,l,p,u,g,E):Tc(l,a,g,P,E);u=x?u.projectionNext:u.next}}function Hu(a,l,u,p,g,E){bp(u,p,a.firstChild,l,g,E,!1)}function Cp(a,l,u,p,g,E){const x=u[16],L=x[6].projection[p.projection];if(Array.isArray(L))for(let Y=0;Y<L.length;Y++)Tc(l,a,g,L[Y],E);else bp(a,l,L,x[3],g,E,!0)}function xp(a,l,u){a.setAttribute(l,"style",u)}function Sp(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function Ui(a){return function Ch(){if(void 0===Ac&&(Ac=null,Pn.trustedTypes))try{Ac=Pn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Ac}()?.createHTML(a)||a}function vg(a){yo=a}class Ta{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ih extends Ta{getTypeName(){return"HTML"}}class Vr extends Ta{getTypeName(){return"Style"}}class ju extends Ta{getTypeName(){return"Script"}}class zu extends Ta{getTypeName(){return"URL"}}class Ly extends Ta{getTypeName(){return"ResourceURL"}}function Ei(a){return a instanceof Ta?a.changingThisBreaksApplicationSecurity:a}function vo(a,l){const u=function Cg(a){return a instanceof Ta&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Th(a){return new Ih(a)}function Eg(a){return new Vr(a)}function Dh(a){return new ju(a)}function wg(a){return new zu(a)}function xg(a){return new Ly(a)}class Gu{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Ui(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class w{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const p=this.inertDocument.createElement("body");u.appendChild(p)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Ui(l),u;const p=this.inertDocument.createElement("body");return p.innerHTML=Ui(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(p),p}stripCustomNsAttrs(l){const u=l.attributes;for(let g=u.length-1;0<g;g--){const x=u.item(g).name;("xmlns:ns1"===x||0===x.indexOf("ns1:"))&&l.removeAttribute(x)}let p=l.firstChild;for(;p;)p.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(p),p=p.nextSibling}}const b=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function T(a){return(a=String(a)).match(b)?a:"unsafe:"+a}function $(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function re(...a){const l={};for(const u of a)for(const p in u)u.hasOwnProperty(p)&&(l[p]=!0);return l}const ve=$("area,br,col,hr,img,wbr"),Me=$("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ze=$("rp,rt"),Kn=re(ve,re(Me,$("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),re(Ze,$("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),re(Ze,Me)),ps=$("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qu=re(ps,$("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pc=$("script,style,template");class Ig{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,p=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?p=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,p&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let g=this.checkClobberedElement(u,u.nextSibling);if(g){u=g;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Kn.hasOwnProperty(u))return this.sanitizedSomething=!0,!Pc.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const p=l.attributes;for(let g=0;g<p.length;g++){const E=p.item(g),x=E.name,P=x.toLowerCase();if(!qu.hasOwnProperty(P)){this.sanitizedSomething=!0;continue}let L=E.value;ps[P]&&(L=T(L)),this.buf.push(" ",x,'="',Rc(L),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Kn.hasOwnProperty(u)&&!ve.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Rc(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Ip=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tp=/([^\#-~ |!])/g;function Rc(a){return a.replace(/&/g,"&amp;").replace(Ip,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Tp,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Oc;function Dp(a,l){let u=null;try{Oc=Oc||function Sg(a){const l=new w(a);return function _(){try{return!!(new window.DOMParser).parseFromString(Ui(""),"text/html")}catch{return!1}}()?new Gu(l):l}(a);let p=l?String(l):"";u=Oc.getInertBodyElement(p);let g=5,E=p;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,p=E,E=u.innerHTML,u=Oc.getInertBodyElement(p)}while(p!==E);return Ui((new Ig).sanitizeChildren(Da(u)||u))}finally{if(u){const p=Da(u)||u;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function Da(a){return"content"in a&&function wl(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var wi=(()=>((wi=wi||{})[wi.NONE=0]="NONE",wi[wi.HTML=1]="HTML",wi[wi.STYLE=2]="STYLE",wi[wi.SCRIPT=3]="SCRIPT",wi[wi.URL=4]="URL",wi[wi.RESOURCE_URL=5]="RESOURCE_URL",wi))();function Wu(a){const l=function Zu(){const a=qe();return a&&a[12]}();return l?l.sanitize(wi.URL,a)||"":vo(a,"URL")?Ei(a):T(B(a))}const Mh=new Dn("ENVIRONMENT_INITIALIZER"),Ku=new Dn("INJECTOR",-1),yC=new Dn("INJECTOR_DEF_TYPES");class vC{get(l,u=_t){if(u===_t){const p=new Error(`NullInjectorError: No provider for ${z(l)}!`);throw p.name="NullInjectorError",p}return u}}function SI(...a){return{\u0275providers:bC(0,a)}}function bC(a,...l){const u=[],p=new Set;let g;return cs(l,E=>{const x=E;By(x,u,[],p)&&(g||(g=[]),g.push(x))}),void 0!==g&&CC(g,u),u}function CC(a,l){for(let u=0;u<a.length;u++){const{providers:g}=a[u];cs(g,E=>{l.push(E)})}}function By(a,l,u,p){if(!(a=U(a)))return!1;let g=null,E=Bn(a);const x=!E&&He(a);if(E||x){if(x&&!x.standalone)return!1;g=a}else{const L=a.ngModule;if(E=Bn(L),!E)return!1;g=L}const P=p.has(g);if(x){if(P)return!1;if(p.add(g),x.dependencies){const L="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const Y of L)By(Y,l,u,p)}}else{if(!E)return!1;{if(null!=E.imports&&!P){let Y;p.add(g);try{cs(E.imports,se=>{By(se,l,u,p)&&(Y||(Y=[]),Y.push(se))})}finally{}void 0!==Y&&CC(Y,l)}if(!P){const Y=Gs(g)||(()=>new g);l.push({provide:g,useFactory:Y,deps:Lt},{provide:yC,useValue:g,multi:!0},{provide:Mh,useValue:()=>ci(g),multi:!0})}const L=E.providers;null==L||P||cs(L,se=>{l.push(se)})}}return g!==a&&void 0!==a.providers}const II=k({provide:String,useValue:k});function Vy(a){return null!==a&&"object"==typeof a&&II in a}function xl(a){return"function"==typeof a}const Ap=new Dn("Set Injector scope."),Yu={},TI={};let Uy;function Tg(){return void 0===Uy&&(Uy=new vC),Uy}class Qu{}class kp extends Qu{constructor(l,u,p,g){super(),this.parent=u,this.source=p,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jy(l,x=>this.processProvider(x)),this.records.set(Ku,Xu(void 0,this)),g.has("environment")&&this.records.set(Qu,Xu(void 0,this));const E=this.records.get(Ap);null!=E&&"string"==typeof E.value&&this.scopes.add(E.value),this.injectorDefTypes=new Set(this.get(yC.multi,Lt,ft.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=mr(this),p=Wn(void 0);try{return l()}finally{mr(u),Wn(p)}}get(l,u=_t,p=ft.Default){this.assertNotDestroyed();const g=mr(this),E=Wn(void 0);try{if(!(p&ft.SkipSelf)){let P=this.records.get(l);if(void 0===P){const L=function DI(a){return"function"==typeof a||"object"==typeof a&&a instanceof Dn}(l)&&Ut(l);P=L&&this.injectableDefInScope(L)?Xu(Dg(l),Yu):null,this.records.set(l,P)}if(null!=P)return this.hydrate(l,P)}return(p&ft.Self?Tg():this.parent).get(l,u=p&ft.Optional&&u===_t?null:u)}catch(x){if("NullInjectorError"===x.name){if((x[pr]=x[pr]||[]).unshift(z(l)),g)throw x;return function bc(a,l,u,p){const g=a[pr];throw l[fl]&&g.unshift(l[fl]),a.message=function jn(a,l,u,p=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let g=z(l);if(Array.isArray(l))g=l.map(z).join(" -> ");else if("object"==typeof l){let E=[];for(let x in l)if(l.hasOwnProperty(x)){let P=l[x];E.push(x+":"+("string"==typeof P?JSON.stringify(P):z(P)))}g=`{${E.join(", ")}}`}return`${u}${p?"("+p+")":""}[${g}]: ${a.replace(ki,"\n  ")}`}("\n"+a.message,g,u,p),a.ngTokenPath=g,a[pr]=null,a}(x,l,"R3InjectorError",this.source)}throw x}finally{Wn(E),mr(g)}}resolveInjectorInitializers(){const l=mr(this),u=Wn(void 0);try{const p=this.get(Mh.multi,Lt,ft.Self);for(const g of p)g()}finally{mr(l),Wn(u)}}toString(){const l=[],u=this.records;for(const p of u.keys())l.push(z(p));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(l){let u=xl(l=U(l))?l:U(l&&l.provide);const p=function Mg(a){return Vy(a)?Xu(void 0,a.useValue):Xu(Pp(a),Yu)}(l);if(xl(l)||!0!==l.multi)this.records.get(u);else{let g=this.records.get(u);g||(g=Xu(void 0,Yu,!0),g.factory=()=>lh(g.multi),this.records.set(u,g)),u=l,g.multi.push(l)}this.records.set(u,p)}hydrate(l,u){return u.value===Yu&&(u.value=TI,u.value=u.factory()),"object"==typeof u.value&&u.value&&function SC(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=U(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Dg(a){const l=Ut(a),u=null!==l?l.factory:Gs(a);if(null!==u)return u;if(a instanceof Dn)throw new j(204,!1);if(a instanceof Function)return function xC(a){const l=a.length;if(l>0)throw ya(l,"?"),new j(204,!1);const u=function lt(a){const l=a&&(a[vi]||a[$i]);if(l){const u=function on(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new j(204,!1)}function Pp(a,l,u){let p;if(xl(a)){const g=U(a);return Gs(g)||Dg(g)}if(Vy(a))p=()=>U(a.useValue);else if(function EC(a){return!(!a||!a.useFactory)}(a))p=()=>a.useFactory(...lh(a.deps||[]));else if(function Hy(a){return!(!a||!a.useExisting)}(a))p=()=>ci(U(a.useExisting));else{const g=U(a&&(a.useClass||a.provide));if(!function Rp(a){return!!a.deps}(a))return Gs(g)||Dg(g);p=()=>new g(...lh(a.deps))}return p}function Xu(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function MI(a){return!!a.\u0275providers}function jy(a,l){for(const u of a)Array.isArray(u)?jy(u,l):MI(u)?jy(u.\u0275providers,l):l(u)}class IC{}class kI{resolveComponentFactory(l){throw function Ag(a){const l=Error(`No component factory found for ${z(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Op=(()=>{class a{}return a.NULL=new kI,a})();function PI(){return Ah(ei(),qe())}function Ah(a,l){return new Fp(wr(a,l))}let Fp=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=PI,a})();function DC(a){return a instanceof Fp?a.nativeElement:a}class zy{}let MC=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function AC(){const a=qe(),u=li(ei().index,a);return(Ai(u)?u:a)[11]}(),a})(),kC=(()=>{class a{}return a.\u0275prov=Qe({token:a,providedIn:"root",factory:()=>null}),a})();class Gy{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const PC=new Gy("14.3.0"),$y={};function Wy(a){return a.ngOriginalError}class Np{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Wy(l);for(;u&&Wy(u);)u=Wy(u);return u||null}}function Sl(a){return a instanceof Function?a():a}function Lp(a,l,u){let p=a.length;for(;;){const g=a.indexOf(l,u);if(-1===g)return g;if(0===g||a.charCodeAt(g-1)<=32){const E=l.length;if(g+E===p||a.charCodeAt(g+E)<=32)return g}u=g+1}}const HC="ng-template";function NI(a,l,u){let p=0;for(;p<a.length;){let g=a[p++];if(u&&"class"===g){if(g=a[p],-1!==Lp(g.toLowerCase(),l,0))return!0}else if(1===g){for(;p<a.length&&"string"==typeof(g=a[p++]);)if(g.toLowerCase()===l)return!0;return!1}}return!1}function UC(a){return 4===a.type&&a.value!==HC}function LI(a,l,u){return l===(4!==a.type||u?a.value:HC)}function jC(a,l,u){let p=4;const g=a.attrs||[],E=function Qy(a){for(let l=0;l<a.length;l++)if(sc(a[l]))return l;return a.length}(g);let x=!1;for(let P=0;P<l.length;P++){const L=l[P];if("number"!=typeof L){if(!x)if(4&p){if(p=2|1&p,""!==L&&!LI(a,L,u)||""===L&&1===l.length){if(Nn(p))return!1;x=!0}}else{const Y=8&p?L:l[++P];if(8&p&&null!==a.attrs){if(!NI(a.attrs,Y,u)){if(Nn(p))return!1;x=!0}continue}const de=BI(8&p?"class":L,g,UC(a),u);if(-1===de){if(Nn(p))return!1;x=!0;continue}if(""!==Y){let we;we=de>E?"":g[de+1].toLowerCase();const Pe=8&p?we:null;if(Pe&&-1!==Lp(Pe,Y,0)||2&p&&Y!==we){if(Nn(p))return!1;x=!0}}}}else{if(!x&&!Nn(p)&&!Nn(L))return!1;if(x&&Nn(L))continue;x=!1,p=L|1&p}}return Nn(p)||x}function Nn(a){return 0==(1&a)}function BI(a,l,u,p){if(null===l)return-1;let g=0;if(p||!u){let E=!1;for(;g<l.length;){const x=l[g];if(x===a)return g;if(3===x||6===x)E=!0;else{if(1===x||2===x){let P=l[++g];for(;"string"==typeof P;)P=l[++g];continue}if(4===x)break;if(0===x){g+=4;continue}}g+=E?1:2}return-1}return function VI(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const p=a[u];if("number"==typeof p)return-1;if(p===l)return u;u++}return-1}(l,a)}function Ky(a,l,u=!1){for(let p=0;p<l.length;p++)if(jC(a,l[p],u))return!0;return!1}function HI(a,l){e:for(let u=0;u<l.length;u++){const p=l[u];if(a.length===p.length){for(let g=0;g<a.length;g++)if(a[g]!==p[g])continue e;return!0}}return!1}function Xy(a,l){return a?":not("+l.trim()+")":l}function UP(a){let l=a[0],u=1,p=2,g="",E=!1;for(;u<a.length;){let x=a[u];if("string"==typeof x)if(2&p){const P=a[++u];g+="["+x+(P.length>0?'="'+P+'"':"")+"]"}else 8&p?g+="."+x:4&p&&(g+=" "+x);else""!==g&&!Nn(x)&&(l+=Xy(E,g),g=""),p=x,E=E||!Nn(p);u++}return""!==g&&(l+=Xy(E,g)),l}const Xt={};function Jy(a){Bp(nn(),qe(),yn()+a,!1)}function Bp(a,l,u,p){if(!p)if(3==(3&l[2])){const E=a.preOrderCheckHooks;null!==E&&el(l,E,u)}else{const E=a.preOrderHooks;null!==E&&ha(l,E,0,u)}Ws(u)}function $C(a,l=null,u=null,p){const g=qC(a,l,u,p);return g.resolveInjectorInitializers(),g}function qC(a,l=null,u=null,p,g=new Set){const E=[u||Lt,SI(a)];return p=p||("object"==typeof a?void 0:z(a)),new kp(E,l||Tg(),p||null,g)}let Fc=(()=>{class a{static create(u,p){if(Array.isArray(u))return $C({name:""},p,u,"");{const g=u.name??"";return $C({name:g},u.parent,u.providers,g)}}}return a.THROW_IF_NOT_FOUND=_t,a.NULL=new vC,a.\u0275prov=Qe({token:a,providedIn:"any",factory:()=>ci(Ku)}),a.__NG_ELEMENT_ID__=-1,a})();function Ri(a,l=ft.Default){const u=qe();return null===u?ci(a,l):ma(ei(),u,U(a),l)}function Tl(){throw new Error("invalid")}function Vn(a,l){return a<<17|l<<2}function Co(a){return a>>17&32767}function Fg(a){return 2|a}function Ma(a){return(131068&a)>>2}function Ng(a,l){return-131069&a|l<<2}function Lg(a){return 1|a}function Ug(a,l){const u=a.contentQueries;if(null!==u)for(let p=0;p<u.length;p+=2){const g=u[p],E=u[p+1];if(-1!==E){const x=a.data[E];fr(g),x.contentQueries(2,l[E],E)}}}function Ml(a,l,u,p,g,E,x,P,L,Y,se){const de=l.blueprint.slice();return de[0]=g,de[2]=76|p,(null!==se||a&&1024&a[2])&&(de[2]|=1024),ho(de),de[3]=de[15]=a,de[8]=u,de[10]=x||a&&a[10],de[11]=P||a&&a[11],de[12]=L||a&&a[12]||null,de[9]=Y||a&&a[9]||null,de[6]=E,de[20]=function Ie(){return Ee++}(),de[21]=se,de[16]=2==l.type?a[16]:de,de}function Aa(a,l,u,p,g){let E=a.data[l];if(null===E)E=function zp(a,l,u,p,g){const E=Ql(),x=ca(),L=a.data[l]=function Zp(a,l,u,p,g,E){return{type:u,index:p,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?E:E&&E.parent,u,l,p,g);return null===a.firstChild&&(a.firstChild=L),null!==E&&(x?null==E.child&&null!==L.parent&&(E.child=L):null===E.next&&(E.next=L)),L}(a,l,u,p,g),function Qd(){return Vt.lFrame.inI18n}()&&(E.flags|=64);else if(64&E.type){E.type=u,E.value=p,E.attrs=g;const x=function Mo(){const a=Vt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();E.injectorIndex=null===x?-1:x.injectorIndex}return Or(E,!0),E}function nd(a,l,u,p){if(0===u)return-1;const g=l.length;for(let E=0;E<u;E++)l.push(p),a.blueprint.push(p),a.data.push(null);return g}function Gp(a,l,u){Xa(l);try{const p=a.viewQuery;null!==p&&Wg(1,p,u);const g=a.template;null!==g&&qp(a,l,g,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Ug(a,l),a.staticViewQueries&&Wg(2,a.viewQuery,u);const E=a.components;null!==E&&function jg(a,l){for(let u=0;u<l.length;u++)oR(a,l[u])}(l,E)}catch(p){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),p}finally{l[2]&=-5,da()}}function $p(a,l,u,p){const g=l[2];if(128!=(128&g)){Xa(l);try{ho(l),function as(a){return Vt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&qp(a,l,u,2,p);const x=3==(3&g);if(x){const Y=a.preOrderCheckHooks;null!==Y&&el(l,Y,null)}else{const Y=a.preOrderHooks;null!==Y&&ha(l,Y,0,null),th(l,0)}if(function uT(a){for(let l=Ic(a);null!==l;l=pg(l)){if(!l[2])continue;const u=l[9];for(let p=0;p<u.length;p++){const g=u[p],E=g[3];0==(512&g[2])&&Xi(E,1),g[2]|=512}}}(l),function sR(a){for(let l=Ic(a);null!==l;l=pg(l))for(let u=10;u<l.length;u++){const p=l[u],g=p[1];Do(p)&&$p(g,p,g.template,p[8])}}(l),null!==a.contentQueries&&Ug(a,l),x){const Y=a.contentCheckHooks;null!==Y&&el(l,Y)}else{const Y=a.contentHooks;null!==Y&&ha(l,Y,1),th(l,1)}!function nT(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let p=0;p<u.length;p++){const g=u[p];if(g<0)Ws(~g);else{const E=g,x=u[++p],P=u[++p];sg(x,E),P(2,l[E])}}}finally{Ws(-1)}}(a,l);const P=a.components;null!==P&&function jp(a,l){for(let u=0;u<l.length;u++)yE(a,l[u])}(l,P);const L=a.viewQuery;if(null!==L&&Wg(2,L,p),x){const Y=a.viewCheckHooks;null!==Y&&el(l,Y)}else{const Y=a.viewHooks;null!==Y&&ha(l,Y,2),th(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Xi(l[3],-1))}finally{da()}}}function qp(a,l,u,p,g){const E=yn(),x=2&p;try{Ws(-1),x&&l.length>22&&Bp(a,l,22,!1),u(p,g)}finally{Ws(E)}}function gv(a,l,u){if(uo(l)){const g=l.directiveEnd;for(let E=l.directiveStart;E<g;E++){const x=a.data[E];x.contentQueries&&x.contentQueries(1,u[E],E)}}}function zg(a,l,u){!Yd()||(function nR(a,l,u,p){const g=u.directiveStart,E=u.directiveEnd;a.firstCreatePass||pa(u,l),Dt(p,l);const x=u.initialInputs;for(let P=g;P<E;P++){const L=a.data[P],Y=rs(L);Y&&rR(l,u,L);const se=al(l,a,P,u);Dt(se,l),null!==x&&qg(0,P-g,se,L,0,x),Y&&(li(u.index,l)[8]=se)}}(a,l,u,wr(u,l)),128==(128&u.flags)&&function aT(a,l,u){const p=u.directiveStart,g=u.directiveEnd,E=u.index,x=function ua(){return Vt.lFrame.currentDirectiveIndex}();try{Ws(E);for(let P=p;P<g;P++){const L=a.data[P],Y=l[P];gu(P),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&vv(L,Y)}}finally{Ws(-1),gu(x)}}(a,l,u))}function Nh(a,l,u=wr){const p=l.localNames;if(null!==p){let g=l.index+1;for(let E=0;E<p.length;E+=2){const x=p[E+1],P=-1===x?u(l,a):a[x];a[g++]=P}}}function id(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=fE(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function fE(a,l,u,p,g,E,x,P,L,Y){const se=22+p,de=se+g,we=function JP(a,l){const u=[];for(let p=0;p<l;p++)u.push(p<a?null:Xt);return u}(se,de),Pe="function"==typeof Y?Y():Y;return we[1]={type:a,blueprint:we,template:u,queries:null,viewQuery:P,declTNode:l,data:we.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:L,consts:Pe,incompleteFirstPass:!1}}function Wp(a,l,u,p){const g=Bc(l);null===u?g.push(p):(g.push(u),a.firstCreatePass&&bE(a).push(p,g.length-1))}function Kp(a,l,u){for(let p in a)if(a.hasOwnProperty(p)){const g=a[p];(u=null===u?{}:u).hasOwnProperty(p)?u[p].push(l,g):u[p]=[l,g]}return u}function Yp(a,l){const p=l.directiveEnd,g=a.data,E=l.attrs,x=[];let P=null,L=null;for(let Y=l.directiveStart;Y<p;Y++){const se=g[Y],de=se.inputs,we=null===E||UC(l)?null:_E(de,E);x.push(we),P=Kp(de,Y,P),L=Kp(se.outputs,Y,L)}null!==P&&(P.hasOwnProperty("class")&&(l.flags|=16),P.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=x,l.inputs=P,l.outputs=L}function gs(a,l,u,p,g,E,x,P){const L=wr(l,u);let se,Y=l.inputs;!P&&null!=Y&&(se=Y[p])?(EE(a,u,se,p,g),oa(l)&&Qp(u,l.index)):3&l.type&&(p=function rT(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(p),g=null!=x?x(g,l.value||"",p):g,E.setProperty(L,p,g))}function Qp(a,l){const u=li(l,a);16&u[2]||(u[2]|=32)}function _v(a,l,u,p){let g=!1;if(Yd()){const E=function iR(a,l,u){const p=a.directiveRegistry;let g=null;if(p)for(let E=0;E<p.length;E++){const x=p[E];Ky(u,x.selectors,!1)&&(g||(g=[]),ol(pa(u,l),a,x.type),rs(x)?(Gg(a,u),g.unshift(x)):g.push(x))}return g}(a,l,u),x=null===p?null:{"":-1};if(null!==E){g=!0,$g(u,a.data.length,E.length);for(let se=0;se<E.length;se++){const de=E[se];de.providersResolver&&de.providersResolver(de)}let P=!1,L=!1,Y=nd(a,l,E.length,null);for(let se=0;se<E.length;se++){const de=E[se];u.mergedAttrs=fa(u.mergedAttrs,de.hostAttrs),gE(a,u,l,Y,de),mE(Y,de,x),null!==de.contentQueries&&(u.flags|=8),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(u.flags|=128);const we=de.type.prototype;!P&&(we.ngOnChanges||we.ngOnInit||we.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),P=!0),!L&&(we.ngOnChanges||we.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),L=!0),Y++}Yp(a,u)}x&&function lT(a,l,u){if(l){const p=a.localNames=[];for(let g=0;g<l.length;g+=2){const E=u[l[g+1]];if(null==E)throw new j(-301,!1);p.push(l[g],E)}}}(u,p,x)}return u.mergedAttrs=fa(u.mergedAttrs,u.attrs),g}function yv(a,l,u,p,g,E){const x=E.hostBindings;if(x){let P=a.hostBindingOpCodes;null===P&&(P=a.hostBindingOpCodes=[]);const L=~l.index;(function oT(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(P)!=L&&P.push(L),P.push(p,g,x)}}function vv(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Gg(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function mE(a,l,u){if(u){if(l.exportAs)for(let p=0;p<l.exportAs.length;p++)u[l.exportAs[p]]=a;rs(l)&&(u[""]=a)}}function $g(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function gE(a,l,u,p,g){a.data[p]=g;const E=g.factory||(g.factory=Gs(g.type)),x=new nl(E,rs(g),Ri);a.blueprint[p]=x,u[p]=x,yv(a,l,0,p,nd(a,u,g.hostVars,Xt),g)}function rR(a,l,u){const p=wr(l,a),g=id(u),E=a[10],x=bv(a,Ml(a,g,null,u.onPush?32:16,p,l,E,E.createRenderer(p,u),null,null,null));a[l.index]=x}function ka(a,l,u,p,g,E){const x=wr(a,l);!function rd(a,l,u,p,g,E,x){if(null==E)a.removeAttribute(l,g,u);else{const P=null==x?B(E):x(E,p||"",g);a.setAttribute(l,g,P,u)}}(l[11],x,E,a.value,u,p,g)}function qg(a,l,u,p,g,E){const x=E[l];if(null!==x){const P=p.setInput;for(let L=0;L<x.length;){const Y=x[L++],se=x[L++],de=x[L++];null!==P?p.setInput(u,de,Y,se):u[se]=de}}}function _E(a,l){let u=null,p=0;for(;p<l.length;){const g=l[p];if(0!==g)if(5!==g){if("number"==typeof g)break;a.hasOwnProperty(g)&&(null===u&&(u=[]),u.push(g,a[g],l[p+1])),p+=2}else p+=2;else p+=4}return u}function Lc(a,l,u,p){return new Array(a,!0,!1,l,null,0,p,u,null,null)}function yE(a,l){const u=li(l,a);if(Do(u)){const p=u[1];48&u[2]?$p(p,u,p.template,u[8]):u[5]>0&&vE(u)}}function vE(a){for(let p=Ic(a);null!==p;p=pg(p))for(let g=10;g<p.length;g++){const E=p[g];if(Do(E))if(512&E[2]){const x=E[1];$p(x,E,x.template,E[8])}else E[5]>0&&vE(E)}const u=a[1].components;if(null!==u)for(let p=0;p<u.length;p++){const g=li(u[p],a);Do(g)&&g[5]>0&&vE(g)}}function oR(a,l){const u=li(l,a),p=u[1];(function aR(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(p,u),Gp(p,u,u[8])}function bv(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Cv(a){for(;a;){a[2]|=32;const l=Nu(a);if(aa(a)&&!l)return a;a=l}return null}function Xp(a,l,u,p=!0){const g=l[10];g.begin&&g.begin();try{$p(a,l,a.template,u)}catch(x){throw p&&CE(l,x),x}finally{g.end&&g.end()}}function Wg(a,l,u){fr(0),l(a,u)}function Bc(a){return a[7]||(a[7]=[])}function bE(a){return a.cleanup||(a.cleanup=[])}function Ev(a,l,u){return(null===a||rs(a))&&(u=function $s(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function CE(a,l){const u=a[9],p=u?u.get(Np,null):null;p&&p.handleError(l)}function EE(a,l,u,p,g){for(let E=0;E<u.length;){const x=u[E++],P=u[E++],L=l[x],Y=a.data[x];null!==Y.setInput?Y.setInput(L,g,p,P):L[P]=g}}function Zg(a,l,u){let p=u?a.styles:null,g=u?a.classes:null,E=0;if(null!==l)for(let x=0;x<l.length;x++){const P=l[x];"number"==typeof P?E=P:1==E?g=Q(g,P):2==E&&(p=Q(p,P+": "+l[++x]+";"))}u?a.styles=p:a.stylesWithoutHost=p,u?a.classes=g:a.classesWithoutHost=g}function Jp(a,l,u,p,g=!1){for(;null!==u;){const E=l[u.index];if(null!==E&&p.push(ai(E)),Er(E))for(let P=10;P<E.length;P++){const L=E[P],Y=L[1].firstChild;null!==Y&&Jp(L[1],L,Y,p)}const x=u.type;if(8&x)Jp(a,l,u.child,p);else if(32&x){const P=Sc(u,l);let L;for(;L=P();)p.push(L)}else if(16&x){const P=yp(l,u);if(Array.isArray(P))p.push(...P);else{const L=Nu(l[16]);Jp(L[1],L,P,p,!0)}}u=g?u.projectionNext:u.next}return p}class em{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Jp(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Er(l)){const u=l[8],p=u?u.indexOf(this):-1;p>-1&&(vl(l,p),Mu(u,p))}this._attachedToViewContainer=!1}bl(this._lView[1],this._lView)}onDestroy(l){Wp(this._lView[1],this._lView,null,l)}markForCheck(){Cv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Xp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gC(a,l){Hu(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=l}}class wE extends em{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Xp(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class tm extends Op{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=He(l);return new Ns(u,this.ngModule)}}function xE(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class hT{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,p){const g=this.injector.get(l,$y,p);return g!==$y||u===$y?g:this.parentInjector.get(l,u,p)}}class Ns extends IC{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function jP(a){return a.map(UP).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return xE(this.componentDef.inputs)}get outputs(){return xE(this.componentDef.outputs)}create(l,u,p,g){let E=(g=g||this.ngModule)instanceof Qu?g:g?.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const x=E?new hT(l,E):l,P=x.get(zy,null);if(null===P)throw new j(407,!1);const L=x.get(kC,null),Y=P.createRenderer(null,this.componentDef),se=this.componentDef.selectors[0][0]||"div",de=p?function eR(a,l,u){return a.selectRootElement(l,u===Pt.ShadowDom)}(Y,p,this.componentDef.encapsulation):hp(Y,se,function wv(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(se)),we=this.componentDef.onPush?288:272,Pe=fE(0,null,null,1,0,null,null,null,null,null),Ge=Ml(null,Pe,null,we,null,null,P,Y,L,x,null);let tt,ct;Xa(Ge);try{const Tt=function TE(a,l,u,p,g,E){const x=u[1];u[22]=a;const L=Aa(x,22,2,"#host",null),Y=L.mergedAttrs=l.hostAttrs;null!==Y&&(Zg(L,Y,!0),null!==a&&(rc(g,a,Y),null!==L.classes&&Sp(g,a,L.classes),null!==L.styles&&xp(g,a,L.styles)));const se=p.createRenderer(a,l),de=Ml(u,id(l),null,l.onPush?32:16,u[22],L,p,se,E||null,null,null);return x.firstCreatePass&&(ol(pa(L,u),x,l.type),Gg(x,L),$g(L,u.length,1)),bv(u,de),u[22]=de}(de,this.componentDef,Ge,P,Y);if(de)if(p)rc(Y,de,["ng-version",PC.full]);else{const{attrs:Rt,classes:We}=function UI(a){const l=[],u=[];let p=1,g=2;for(;p<a.length;){let E=a[p];if("string"==typeof E)2===g?""!==E&&l.push(E,a[++p]):8===g&&u.push(E);else{if(!Nn(g))break;g=E}p++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Rt&&rc(Y,de,Rt),We&&We.length>0&&Sp(Y,de,We.join(" "))}if(ct=Zl(Pe,22),void 0!==u){const Rt=ct.projection=[];for(let We=0;We<this.ngContentSelectors.length;We++){const qt=u[We];Rt.push(null!=qt?Array.from(qt):null)}}tt=function mT(a,l,u,p){const g=u[1],E=function pE(a,l,u){const p=ei();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),gE(a,p,l,nd(a,l,1,null),u),Yp(a,p));const g=al(l,a,p.directiveStart,p);Dt(g,l);const E=wr(p,l);return E&&Dt(E,l),g}(g,u,l);if(a[8]=u[8]=E,null!==p)for(const P of p)P(E,l);if(l.contentQueries){const P=ei();l.contentQueries(1,E,P.directiveStart)}const x=ei();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Ws(x.index),yv(u[1],x,0,x.directiveStart,x.directiveEnd,l),vv(l,E)),E}(Tt,this.componentDef,Ge,[Vc]),Gp(Pe,Ge,null)}finally{da()}return new pT(this.componentType,tt,Ah(ct,Ge),Ge,ct)}}class pT extends class AI{}{constructor(l,u,p,g,E){super(),this.location=p,this._rootLView=g,this._tNode=E,this.instance=u,this.hostView=this.changeDetectorRef=new wE(g),this.componentType=l}setInput(l,u){const p=this._tNode.inputs;let g;if(null!==p&&(g=p[l])){const E=this._rootLView;EE(E[1],E,g,l,u),Qp(E,this._tNode.index)}}get injector(){return new ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Vc(){const a=ei();Po(qe()[1],a)}function Kg(a){let l=function DE(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const p=[a];for(;l;){let g;if(rs(a))g=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new j(903,!1);g=l.\u0275dir}if(g){if(u){p.push(g);const x=a;x.inputs=nm(a.inputs),x.declaredInputs=nm(a.declaredInputs),x.outputs=nm(a.outputs);const P=g.hostBindings;P&&ME(a,P);const L=g.viewQuery,Y=g.contentQueries;if(L&&_T(a,L),Y&&yT(a,Y),F(a.inputs,g.inputs),F(a.declaredInputs,g.declaredInputs),F(a.outputs,g.outputs),rs(g)&&g.data.animation){const se=a.data;se.animation=(se.animation||[]).concat(g.data.animation)}}const E=g.features;if(E)for(let x=0;x<E.length;x++){const P=E[x];P&&P.ngInherit&&P(a),P===Kg&&(u=!1)}}l=Object.getPrototypeOf(l)}!function gT(a){let l=0,u=null;for(let p=a.length-1;p>=0;p--){const g=a[p];g.hostVars=l+=g.hostVars,g.hostAttrs=fa(g.hostAttrs,u=fa(u,g.hostAttrs))}}(p)}function nm(a){return a===bi?{}:a===Lt?[]:a}function _T(a,l){const u=a.viewQuery;a.viewQuery=u?(p,g)=>{l(p,g),u(p,g)}:l}function yT(a,l){const u=a.contentQueries;a.contentQueries=u?(p,g,E)=>{l(p,g,E),u(p,g,E)}:l}function ME(a,l){const u=a.hostBindings;a.hostBindings=u?(p,g)=>{l(p,g),u(p,g)}:l}let Yg=null;function Hc(){if(!Yg){const a=Pn.Symbol;if(a&&a.iterator)Yg=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const p=l[u];"entries"!==p&&"size"!==p&&Map.prototype[p]===Map.prototype.entries&&(Yg=p)}}}return Yg}function qo(a){return!!Sv(a)&&(Array.isArray(a)||!(a instanceof Map)&&Hc()in a)}function Sv(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Ra(a,l,u){return a[l]=u}function nr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function Iv(a,l,u,p){const g=qe();return nr(g,qs(),l)&&(nn(),ka(Gn(),g,a,l,u,p)),Iv}function Lh(a,l,u,p){return nr(a,qs(),u)?l+B(u)+p:Xt}function hi(a,l,u,p,g,E,x,P){const L=qe(),Y=nn(),se=a+22,de=Y.firstCreatePass?function PE(a,l,u,p,g,E,x,P,L){const Y=l.consts,se=Aa(l,a,4,x||null,Rr(Y,P));_v(l,u,se,Rr(Y,L)),Po(l,se);const de=se.tViews=fE(2,se,p,g,E,l.directiveRegistry,l.pipeRegistry,null,l.schemas,Y);return null!==l.queries&&(l.queries.template(l,se),de.queries=l.queries.embeddedTView(se)),se}(se,Y,L,l,u,p,g,E,x):Y.data[se];Or(de,!1);const we=L[11].createComment("");_o(Y,L,we,de),Dt(we,L),bv(L,L[se]=Lc(we,L,we,de)),zs(de)&&zg(Y,L,de),null!=x&&Nh(L,de,P)}function RE(a){return la(function ti(){return Vt.lFrame.contextLView}(),22+a)}function ad(a,l,u){const p=qe();return nr(p,qs(),l)&&gs(nn(),Gn(),p,a,l,p[11],u,!1),ad}function Oi(a,l,u,p,g){const x=g?"class":"style";EE(a,u,l.inputs[x],x,p)}function Mv(a,l,u,p){const g=qe(),E=nn(),x=22+a,P=g[11],L=g[x]=hp(P,l,function tc(){return Vt.lFrame.currentNamespace}()),Y=E.firstCreatePass?function Fi(a,l,u,p,g,E,x){const P=l.consts,Y=Aa(l,a,2,g,Rr(P,E));return _v(l,u,Y,Rr(P,x)),null!==Y.attrs&&Zg(Y,Y.attrs,!1),null!==Y.mergedAttrs&&Zg(Y,Y.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,Y),Y}(x,E,g,0,l,u,p):E.data[x];Or(Y,!0);const se=Y.mergedAttrs;null!==se&&rc(P,L,se);const de=Y.classes;null!==de&&Sp(P,L,de);const we=Y.styles;return null!==we&&xp(P,L,we),64!=(64&Y.flags)&&_o(E,g,L,Y),0===function Ka(){return Vt.lFrame.elementDepthCount}()&&Dt(L,g),function Zd(){Vt.lFrame.elementDepthCount++}(),zs(Y)&&(zg(E,g,Y),gv(E,Y,g)),null!==p&&Nh(g,Y),Mv}function Jg(){let a=ei();ca()?pu():(a=a.parent,Or(a,!1));const l=a;!function Kd(){Vt.lFrame.elementDepthCount--}();const u=nn();return u.firstCreatePass&&(Po(u,a),uo(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function nh(a){return 0!=(16&a.flags)}(l)&&Oi(u,l,qe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function $f(a){return 0!=(32&a.flags)}(l)&&Oi(u,l,qe(),l.stylesWithoutHost,!1),Jg}function Av(a,l,u,p){return Mv(a,l,u,p),Jg(),Av}function e_(a,l,u){const p=qe(),g=nn(),E=a+22,x=g.firstCreatePass?function IT(a,l,u,p,g){const E=l.consts,x=Rr(E,p),P=Aa(l,a,8,"ng-container",x);return null!==x&&Zg(P,x,!0),_v(l,u,P,Rr(E,g)),null!==l.queries&&l.queries.elementStart(l,P),P}(E,g,p,l,u):g.data[E];Or(x,!0);const P=p[E]=p[11].createComment("");return _o(g,p,P,x),Dt(P,p),zs(x)&&(zg(g,p,x),gv(g,x,p)),null!=u&&Nh(p,x),e_}function ld(){let a=ei();const l=nn();return ca()?pu():(a=a.parent,Or(a,!1)),l.firstCreatePass&&(Po(l,a),uo(a)&&l.queries.elementEnd(a)),ld}function t_(a,l,u){return e_(a,l,u),ld(),t_}function OE(){return qe()}function kv(a){return!!a&&"function"==typeof a.then}function FE(a){return!!a&&"function"==typeof a.subscribe}const Pv=FE;function cd(a,l,u,p){const g=qe(),E=nn(),x=ei();return LE(E,g,g[11],x,a,l,0,p),cd}function Rv(a,l){const u=ei(),p=qe(),g=nn();return LE(g,p,Ev(Ya(g.data),u,p),u,a,l),Rv}function LE(a,l,u,p,g,E,x,P){const L=zs(p),se=a.firstCreatePass&&bE(a),de=l[8],we=Bc(l);let Pe=!0;if(3&p.type||P){const ct=wr(p,l),Tt=P?P(ct):ct,Rt=we.length,We=P?Mn=>P(ai(Mn[p.index])):p.index;let qt=null;if(!P&&L&&(qt=function NE(a,l,u,p){const g=a.cleanup;if(null!=g)for(let E=0;E<g.length-1;E+=2){const x=g[E];if(x===u&&g[E+1]===p){const P=l[7],L=g[E+2];return P.length>L?P[L]:null}"string"==typeof x&&(E+=2)}return null}(a,l,g,p.index)),null!==qt)(qt.__ngLastListenerFn__||qt).__ngNextListenerFn__=E,qt.__ngLastListenerFn__=E,Pe=!1;else{E=TT(p,l,de,E,!1);const Mn=u.listen(Tt,g,E);we.push(E,Mn),se&&se.push(g,We,Rt,Rt+1)}}else E=TT(p,l,de,E,!1);const Ge=p.outputs;let tt;if(Pe&&null!==Ge&&(tt=Ge[g])){const ct=tt.length;if(ct)for(let Tt=0;Tt<ct;Tt+=2){const Yn=l[tt[Tt]][tt[Tt+1]].subscribe(E),Cd=we.length;we.push(E,Yn),se&&se.push(g,p.index,Cd,-(Cd+1))}}}function Ov(a,l,u,p){try{return!1!==u(p)}catch(g){return CE(a,g),!1}}function TT(a,l,u,p,g){return function E(x){if(x===Function)return p;Cv(2&a.flags?li(a.index,l):l);let L=Ov(l,0,p,x),Y=E.__ngNextListenerFn__;for(;Y;)L=Ov(l,0,Y,x)&&L,Y=Y.__ngNextListenerFn__;return g&&!1===L&&(x.preventDefault(),x.returnValue=!1),L}}function BE(a=1){return function Jl(a){return(Vt.lFrame.contextLView=function og(a,l){for(;a>0;)l=l[15],a--;return l}(a,Vt.lFrame.contextLView))[8]}(a)}function Fv(a,l){let u=null;const p=function Yy(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let g=0;g<l.length;g++){const E=l[g];if("*"!==E){if(null===p?Ky(a,E,!0):HI(p,E))return g}else u=g}return u}function am(a){const l=qe()[16][6];if(!l.projection){const p=l.projection=ya(a?a.length:1,null),g=p.slice();let E=l.child;for(;null!==E;){const x=a?Fv(E,a):0;null!==x&&(g[x]?g[x].projectionNext=E:p[x]=E,g[x]=E),E=E.next}}}function Nv(a,l=0,u){const p=qe(),g=nn(),E=Aa(g,22+a,16,null,u||null);null===E.projection&&(E.projection=l),pu(),64!=(64&E.flags)&&function Ny(a,l,u){Cp(l[11],0,l,u,Cl(a,u,l),_g(u.parent||l[6],u,l))}(g,p,E)}function Lv(a,l,u,p,g){const E=qe(),x=Lh(E,l,u,p);return x!==Xt&&gs(nn(),Gn(),E,a,x,E[11],g,!1),Lv}function n_(a,l,u,p,g){const E=a[u+1],x=null===l;let P=p?Co(E):Ma(E),L=!1;for(;0!==P&&(!1===L||x);){const se=a[P+1];$E(a[P],l)&&(L=!0,a[P+1]=p?Lg(se):Fg(se)),P=p?Co(se):Ma(se)}L&&(a[u+1]=p?Fg(E):Lg(E))}function $E(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&dl(a,l)>=0}function zh(a,l,u){return Wo(a,l,u,!1),zh}function cm(a,l){return Wo(a,l,null,!0),cm}function Wo(a,l,u,p){const g=qe(),E=nn(),x=function Nr(a){const l=Vt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}(2);E.firstUpdatePass&&function PT(a,l,u,p){const g=a.data;if(null===g[u+1]){const E=g[yn()],x=function jc(a,l){return l>=a.expandoStartIndex}(a,u);(function OT(a,l){return 0!=(a.flags&(l?16:32))})(E,p)&&null===l&&!x&&(l=!1),l=function Gh(a,l,u,p){const g=Ya(a);let E=p?l.residualClasses:l.residualStyles;if(null===g)0===(p?l.classBindings:l.styleBindings)&&(u=s_(u=KE(null,a,l,u,p),l.attrs,p),E=null);else{const x=l.directiveStylingLast;if(-1===x||a[x]!==g)if(u=KE(g,a,l,u,p),null===E){let L=function mR(a,l,u){const p=u?l.classBindings:l.styleBindings;if(0!==Ma(p))return a[Co(p)]}(a,l,p);void 0!==L&&Array.isArray(L)&&(L=KE(null,a,l,L[1],p),L=s_(L,l.attrs,p),function gR(a,l,u,p){a[Co(u?l.classBindings:l.styleBindings)]=p}(a,l,p,L))}else E=function _R(a,l,u){let p;const g=l.directiveEnd;for(let E=1+l.directiveStylingLast;E<g;E++)p=s_(p,a[E].hostAttrs,u);return s_(p,l.attrs,u)}(a,l,p)}return void 0!==E&&(p?l.residualClasses=E:l.residualStyles=E),u}(g,E,l,p),function MT(a,l,u,p,g,E){let x=E?l.classBindings:l.styleBindings,P=Co(x),L=Ma(x);a[p]=u;let se,Y=!1;if(Array.isArray(u)){const de=u;se=de[1],(null===se||dl(de,se)>0)&&(Y=!0)}else se=u;if(g)if(0!==L){const we=Co(a[P+1]);a[p+1]=Vn(we,P),0!==we&&(a[we+1]=Ng(a[we+1],p)),a[P+1]=function tE(a,l){return 131071&a|l<<17}(a[P+1],p)}else a[p+1]=Vn(P,0),0!==P&&(a[P+1]=Ng(a[P+1],p)),P=p;else a[p+1]=Vn(L,0),0===P?P=p:a[L+1]=Ng(a[L+1],p),L=p;Y&&(a[p+1]=Fg(a[p+1])),n_(a,se,p,!0),n_(a,se,p,!1),function AT(a,l,u,p,g){const E=g?a.residualClasses:a.residualStyles;null!=E&&"string"==typeof l&&dl(E,l)>=0&&(u[p+1]=Lg(u[p+1]))}(l,se,a,p,E),x=Vn(P,L),E?l.classBindings=x:l.styleBindings=x}(g,E,l,u,x,p)}}(E,a,x,p),l!==Xt&&nr(g,x,l)&&function RT(a,l,u,p,g,E,x,P){if(!(3&l.type))return;const L=a.data,Y=L[P+1];hd(function av(a){return 1==(1&a)}(Y)?QE(L,l,u,g,Ma(Y),x):void 0)||(hd(E)||function ov(a){return 2==(2&a)}(Y)&&(E=QE(L,null,u,g,P,x)),function wp(a,l,u,p,g){if(l)g?a.addClass(u,p):a.removeClass(u,p);else{let E=-1===p.indexOf("-")?void 0:hs.DashCase;null==g?a.removeStyle(u,p,E):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),E|=hs.Important),a.setStyle(u,p,g,E))}}(p,x,$r(yn(),u),g,E))}(E,E.data[yn()],g,g[11],a,g[x+1]=function vR(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=z(Ei(a)))),a}(l,u),p,x)}function KE(a,l,u,p,g){let E=null;const x=u.directiveEnd;let P=u.directiveStylingLast;for(-1===P?P=u.directiveStart:P++;P<x&&(E=l[P],p=s_(p,E.hostAttrs,g),E!==a);)P++;return null!==a&&(u.directiveStylingLast=P),p}function s_(a,l,u){const p=u?1:2;let g=-1;if(null!==l)for(let E=0;E<l.length;E++){const x=l[E];"number"==typeof x?g=x:g===p&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Lr(a,x,!!u||l[++E]))}return void 0===a?null:a}function QE(a,l,u,p,g,E){const x=null===l;let P;for(;g>0;){const L=a[g],Y=Array.isArray(L),se=Y?L[1]:L,de=null===se;let we=u[g+1];we===Xt&&(we=de?Lt:void 0);let Pe=de?mc(we,p):se===p?we:void 0;if(Y&&!hd(Pe)&&(Pe=mc(L,p)),hd(Pe)&&(P=Pe,x))return P;const Ge=a[g+1];g=x?Co(Ge):Ma(Ge)}if(null!==l){let L=E?l.residualClasses:l.residualStyles;null!=L&&(P=mc(L,p))}return P}function hd(a){return void 0!==a}function FT(a,l=""){const u=qe(),p=nn(),g=a+22,E=p.firstCreatePass?Aa(p,g,1,l,null):p.data[g],x=u[g]=function Lu(a,l){return a.createText(l)}(u[11],l);_o(p,u,x,E),Or(E,!1)}function XE(a){return Uv("",a,""),XE}function Uv(a,l,u){const p=qe(),g=Lh(p,a,l,u);return g!==Xt&&function Pa(a,l,u){const p=$r(l,a);!function ph(a,l,u){a.setValue(l,u)}(a[11],p,u)}(p,yn(),g),Uv}function rw(a,l,u){const p=qe();return nr(p,qs(),l)&&gs(nn(),Gn(),p,a,l,p[11],u,!0),rw}function sw(a,l,u){const p=qe();if(nr(p,qs(),l)){const E=nn(),x=Gn();gs(E,x,p,a,l,Ev(Ya(E.data),x,p),u,!0)}return sw}const fd=void 0;var TR=["en",[["a","p"],["AM","PM"],fd],[["AM","PM"],fd,fd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fd,"{1} 'at' {0}",fd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function IR(a){const u=Math.floor(Math.abs(a)),p=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===p?1:5}];let pd={};function Wv(a){const l=function md(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=Zv(l);if(u)return u;const p=l.split("-")[0];if(u=Zv(p),u)return u;if("en"===p)return TR;throw new j(701,!1)}function aw(a){return Wv(a)[$t.PluralCase]}function Zv(a){return a in pd||(pd[a]=Pn.ng&&Pn.ng.common&&Pn.ng.common.locales&&Pn.ng.common.locales[a]),pd[a]}var $t=(()=>(($t=$t||{})[$t.LocaleId=0]="LocaleId",$t[$t.DayPeriodsFormat=1]="DayPeriodsFormat",$t[$t.DayPeriodsStandalone=2]="DayPeriodsStandalone",$t[$t.DaysFormat=3]="DaysFormat",$t[$t.DaysStandalone=4]="DaysStandalone",$t[$t.MonthsFormat=5]="MonthsFormat",$t[$t.MonthsStandalone=6]="MonthsStandalone",$t[$t.Eras=7]="Eras",$t[$t.FirstDayOfWeek=8]="FirstDayOfWeek",$t[$t.WeekendRange=9]="WeekendRange",$t[$t.DateFormat=10]="DateFormat",$t[$t.TimeFormat=11]="TimeFormat",$t[$t.DateTimeFormat=12]="DateTimeFormat",$t[$t.NumberSymbols=13]="NumberSymbols",$t[$t.NumberFormats=14]="NumberFormats",$t[$t.CurrencyCode=15]="CurrencyCode",$t[$t.CurrencySymbol=16]="CurrencySymbol",$t[$t.CurrencyName=17]="CurrencyName",$t[$t.Currencies=18]="Currencies",$t[$t.Directionality=19]="Directionality",$t[$t.PluralCase=20]="PluralCase",$t[$t.ExtraData=21]="ExtraData",$t))();const gd="en-US";let uw=gd;function mw(a,l,u,p,g){if(a=U(a),Array.isArray(a))for(let E=0;E<a.length;E++)mw(a[E],l,u,p,g);else{const E=nn(),x=qe();let P=xl(a)?a:U(a.provide),L=Pp(a);const Y=ei(),se=1048575&Y.providerIndexes,de=Y.directiveStart,we=Y.providerIndexes>>20;if(xl(a)||!a.multi){const Pe=new nl(L,g,Ri),Ge=_w(P,l,g?se:se+we,de);-1===Ge?(ol(pa(Y,x),E,P),gw(E,a,l.length),l.push(P),Y.directiveStart++,Y.directiveEnd++,g&&(Y.providerIndexes+=1048576),u.push(Pe),x.push(Pe)):(u[Ge]=Pe,x[Ge]=Pe)}else{const Pe=_w(P,l,se+we,de),Ge=_w(P,l,se,se+we),tt=Pe>=0&&u[Pe],ct=Ge>=0&&u[Ge];if(g&&!ct||!g&&!tt){ol(pa(Y,x),E,P);const Tt=function bO(a,l,u,p,g){const E=new nl(a,u,Ri);return E.multi=[],E.index=l,E.componentProviders=0,gD(E,g,p&&!u),E}(g?vO:yO,u.length,g,p,L);!g&&ct&&(u[Ge].providerFactory=Tt),gw(E,a,l.length,0),l.push(P),Y.directiveStart++,Y.directiveEnd++,g&&(Y.providerIndexes+=1048576),u.push(Tt),x.push(Tt)}else gw(E,a,Pe>-1?Pe:Ge,gD(u[g?Ge:Pe],L,!g&&p));!g&&p&&ct&&u[Ge].componentProviders++}}}function gw(a,l,u,p){const g=xl(l),E=function wC(a){return!!a.useClass}(l);if(g||E){const L=(E?U(l.useClass):l).prototype.ngOnDestroy;if(L){const Y=a.destroyHooks||(a.destroyHooks=[]);if(!g&&l.multi){const se=Y.indexOf(u);-1===se?Y.push(u,[p,L]):Y[se+1].push(p,L)}else Y.push(u,L)}}}function gD(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function _w(a,l,u,p){for(let g=u;g<p;g++)if(l[g]===a)return g;return-1}function yO(a,l,u,p){return yw(this.multi,[])}function vO(a,l,u,p){const g=this.multi;let E;if(this.providerFactory){const x=this.providerFactory.componentProviders,P=al(u,u[1],this.providerFactory.index,p);E=P.slice(0,x),yw(g,E);for(let L=x;L<P.length;L++)E.push(P[L])}else E=[],yw(g,E);return E}function yw(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function _D(a,l=[]){return u=>{u.providersResolver=(p,g)=>function _O(a,l,u){const p=nn();if(p.firstCreatePass){const g=rs(a);mw(u,p.data,p.blueprint,g,!0),mw(l,p.data,p.blueprint,g,!1)}}(p,g?g(a):a,l)}}class fm{}class yD{}function CO(a,l){return new vD(a,l??null)}class vD extends fm{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tm(this);const p=Zt(l);this._bootstrapComponents=Sl(p.bootstrap),this._r3Injector=qC(l,u,[{provide:fm,useValue:this},{provide:Op,useValue:this.componentFactoryResolver}],z(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class vw extends yD{constructor(l){super(),this.moduleType=l}create(l){return new vD(this.moduleType,l)}}class EO extends fm{constructor(l,u,p){super(),this.componentFactoryResolver=new tm(this),this.instance=null;const g=new kp([...l,{provide:fm,useValue:this},{provide:Op,useValue:this.componentFactoryResolver}],u||Tg(),p,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function bw(a,l,u=null){return new EO(a,l,u).injector}let wO=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const p=bC(0,u.type),g=p.length>0?bw([p],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,g)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=Qe({token:a,providedIn:"environment",factory:()=>new a(ci(Qu))}),a})();function bD(a){a.getStandaloneInjector=l=>l.get(wO).getOrCreateStandaloneInjector(a)}function TD(a,l,u,p){return Qv(qe(),hr(),a,l,u,p)}function DD(a,l,u,p,g){return function Sw(a,l,u,p,g,E,x){const P=l+u;return function Al(a,l,u,p){const g=nr(a,l,u);return nr(a,l+1,p)||g}(a,P,g,E)?Ra(a,P+2,x?p.call(x,g,E):p(g,E)):Wh(a,P+2)}(qe(),hr(),a,l,u,p,g)}function Wh(a,l){const u=a[l];return u===Xt?void 0:u}function Qv(a,l,u,p,g,E){const x=l+u;return nr(a,x,g)?Ra(a,x+1,E?p.call(E,g):p(g)):Wh(a,x+1)}function Iw(a,l){const u=nn();let p;const g=a+22;u.firstCreatePass?(p=function kD(a,l){if(l)for(let u=l.length-1;u>=0;u--){const p=l[u];if(a===p.name)return p}}(l,u.pipeRegistry),u.data[g]=p,p.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(g,p.onDestroy)):p=u.data[g];const E=p.factory||(p.factory=Gs(p.type)),x=Wn(Ri);try{const P=Ks(!1),L=E();return Ks(P),function Fa(a,l,u,p){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=p}(u,qe(),g,L),L}finally{Wn(x)}}function PD(a,l,u){const p=a+22,g=qe(),E=la(g,p);return function _d(a,l){return a[1].data[l].pure}(g,p)?Qv(g,hr(),l,E.transform,u,E):E.transform(u)}function Aw(a){return l=>{setTimeout(a,void 0,l)}}const kl=class Mw extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,p){let g=l,E=u||(()=>null),x=p;if(l&&"object"==typeof l){const L=l;g=L.next?.bind(L),E=L.error?.bind(L),x=L.complete?.bind(L)}this.__isAsync&&(E=Aw(E),g&&(g=Aw(g)),x&&(x=Aw(x)));const P=super.subscribe({next:g,error:E,complete:x});return l instanceof v.w0&&l.add(P),P}};function FO(){return this._results[Hc()]()}class t0{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Hc(),p=t0.prototype;p[u]||(p[u]=FO)}get changes(){return this._changes||(this._changes=new kl)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const p=this;p.dirty=!1;const g=pi(l);(this._changesDetected=!function tp(a,l,u){if(a.length!==l.length)return!1;for(let p=0;p<a.length;p++){let g=a[p],E=l[p];if(u&&(g=u(g),E=u(E)),E!==g)return!1}return!0}(p._results,g,u))&&(p._results=g,p.length=g.length,p.last=g[this.length-1],p.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Zh=(()=>{class a{}return a.__NG_ELEMENT_ID__=ND,a})();const OD=Zh,FD=class extends OD{constructor(l,u,p){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=p}createEmbeddedView(l,u){const p=this._declarationTContainer.tViews,g=Ml(this._declarationLView,p,l,16,null,p.declTNode,null,null,null,null,u||null);g[17]=this._declarationLView[this._declarationTContainer.index];const x=this._declarationLView[19];return null!==x&&(g[19]=x.createEmbeddedView(p)),Gp(p,g,l),new em(g)}};function ND(){return v_(ei(),qe())}function v_(a,l){return 4&a.type?new FD(l,a,Ah(a,l)):null}let b_=(()=>{class a{}return a.__NG_ELEMENT_ID__=LD,a})();function LD(){return kw(ei(),qe())}const BD=b_,n0=class extends BD{constructor(l,u,p){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=p}get element(){return Ah(this._hostTNode,this._hostLView)}get injector(){return new ks(this._hostTNode,this._hostLView)}get parentInjector(){const l=Fo(this._hostTNode,this._hostLView);if(wu(l)){const u=Ds(l,this._hostLView),p=il(l);return new ks(u[1].data[p+8],u)}return new ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=r0(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,p){let g,E;"number"==typeof p?g=p:null!=p&&(g=p.index,E=p.injector);const x=l.createEmbeddedView(u||{},E);return this.insert(x,g),x}createComponent(l,u,p,g,E){const x=l&&!function Wr(a){return"function"==typeof a}(l);let P;if(x)P=u;else{const de=u||{};P=de.index,p=de.injector,g=de.projectableNodes,E=de.environmentInjector||de.ngModuleRef}const L=x?l:new Ns(He(l)),Y=p||this.parentInjector;if(!E&&null==L.ngModule){const we=(x?Y:this.parentInjector).get(Qu,null);we&&(E=we)}const se=L.create(Y,g,void 0,E);return this.insert(se.hostView,P),se}insert(l,u){const p=l._lView,g=p[1];if(function hu(a){return Er(a[3])}(p)){const se=this.indexOf(l);if(-1!==se)this.detach(se);else{const de=p[3],we=new n0(de,de[6],de[3]);we.detach(we.indexOf(l))}}const E=this._adjustIndex(u),x=this._lContainer;!function fp(a,l,u,p){const g=10+p,E=u.length;p>0&&(u[g-1][4]=l),p<E-10?(l[4]=u[g],Du(u,10+p,l)):(u.push(l),l[4]=null),l[3]=u;const x=l[17];null!==x&&u!==x&&function Fy(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(x,l);const P=l[19];null!==P&&P.insertView(a),l[2]|=64}(g,p,x,E);const P=bh(E,x),L=p[11],Y=_h(L,x[7]);return null!==Y&&function Bu(a,l,u,p,g,E){p[0]=g,p[6]=l,Hu(a,p,u,1,g,E)}(g,x[6],L,p,Y,P),l.attachToViewContainerRef(),Du(s0(x),E,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=r0(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),p=vl(this._lContainer,u);p&&(Mu(s0(this._lContainer),u),bl(p[1],p))}detach(l){const u=this._adjustIndex(l,-1),p=vl(this._lContainer,u);return p&&null!=Mu(s0(this._lContainer),u)?new em(p):null}_adjustIndex(l,u=0){return l??this.length+u}};function r0(a){return a[8]}function s0(a){return a[8]||(a[8]=[])}function kw(a,l){let u;const p=l[a.index];if(Er(p))u=p;else{let g;if(8&a.type)g=ai(p);else{const E=l[11];g=E.createComment("");const x=wr(a,l);Go(E,_h(E,x),g,function gp(a,l){return a.nextSibling(l)}(E,x),!1)}l[a.index]=u=Lc(p,l,g,a),bv(l,u)}return new n0(u,a,l)}class Pw{constructor(l){this.queryList=l,this.matches=null}clone(){return new Pw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rw{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const p=null!==l.contentQueries?l.contentQueries[0]:u.length,g=[];for(let E=0;E<p;E++){const x=u.getByIndex(E);g.push(this.queries[x.indexInDeclarationView].clone())}return new Rw(g)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==mm(l,u).matches&&this.queries[u].setDirty()}}class UD{constructor(l,u,p=null){this.predicate=l,this.flags=u,this.read=p}}class Ow{constructor(l=[]){this.queries=l}elementStart(l,u){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let p=0;p<this.length;p++){const g=null!==u?u.length:0,E=this.getByIndex(p).embeddedTView(l,g);E&&(E.indexInDeclarationView=p,null!==u?u.push(E):u=[E])}return null!==u?new Ow(u):null}template(l,u){for(let p=0;p<this.queries.length;p++)this.queries[p].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Fw{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new Fw(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let p=l.parent;for(;null!==p&&8&p.type&&p.index!==u;)p=p.parent;return u===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const p=this.metadata.predicate;if(Array.isArray(p))for(let g=0;g<p.length;g++){const E=p[g];this.matchTNodeWithReadOption(l,u,LO(u,E)),this.matchTNodeWithReadOption(l,u,As(u,l,E,!1,!1))}else p===Zh?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,As(u,l,p,!1,!1))}matchTNodeWithReadOption(l,u,p){if(null!==p){const g=this.metadata.read;if(null!==g)if(g===Fp||g===b_||g===Zh&&4&u.type)this.addMatch(u.index,-2);else{const E=As(u,l,g,!1,!1);null!==E&&this.addMatch(u.index,E)}else this.addMatch(u.index,p)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function LO(a,l){const u=a.localNames;if(null!==u)for(let p=0;p<u.length;p+=2)if(u[p]===l)return u[p+1];return null}function a0(a,l,u,p){return-1===u?function o0(a,l){return 11&a.type?Ah(a,l):4&a.type?v_(a,l):null}(l,a):-2===u?function jD(a,l,u){return u===Fp?Ah(l,a):u===Zh?v_(l,a):u===b_?kw(l,a):void 0}(a,l,p):al(a,a[1],u,l)}function Nw(a,l,u,p){const g=l[19].queries[p];if(null===g.matches){const E=a.data,x=u.matches,P=[];for(let L=0;L<x.length;L+=2){const Y=x[L];P.push(Y<0?null:a0(l,E[Y],x[L+1],u.metadata.read))}g.matches=P}return g.matches}function C_(a,l,u,p){const g=a.queries.getByIndex(u),E=g.matches;if(null!==E){const x=Nw(a,l,g,u);for(let P=0;P<E.length;P+=2){const L=E[P];if(L>0)p.push(x[P/2]);else{const Y=E[P+1],se=l[-L];for(let de=10;de<se.length;de++){const we=se[de];we[17]===we[3]&&C_(we[1],we,Y,p)}if(null!==se[9]){const de=se[9];for(let we=0;we<de.length;we++){const Pe=de[we];C_(Pe[1],Pe,Y,p)}}}}}return p}function yd(a){const l=qe(),u=nn(),p=Xl();fr(p+1);const g=mm(u,p);if(a.dirty&&function rg(a){return 4==(4&a[2])}(l)===(2==(2&g.metadata.flags))){if(null===g.matches)a.reset([]);else{const E=g.crossesNgTemplate?C_(u,l,p,[]):Nw(u,l,g,p);a.reset(E,DC),a.notifyOnChanges()}return!0}return!1}function Lw(a,l,u){const p=nn();p.firstCreatePass&&(GD(p,new UD(a,l,u),-1),2==(2&l)&&(p.staticViewQueries=!0)),l0(p,qe(),l)}function Bw(a,l,u,p){const g=nn();if(g.firstCreatePass){const E=ei();GD(g,new UD(l,u,p),E.index),function $D(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(g,a),2==(2&u)&&(g.staticContentQueries=!0)}l0(g,qe(),u)}function Vw(){return function zD(a,l){return a[19].queries[l].queryList}(qe(),Xl())}function l0(a,l,u){const p=new t0(4==(4&u));Wp(a,l,p,p.destroy),null===l[19]&&(l[19]=new Rw),l[19].queries.push(new Pw(p))}function GD(a,l,u){null===a.queries&&(a.queries=new Ow),a.queries.track(new Fw(l,u))}function mm(a,l){return a.queries.getByIndex(l)}function Kh(a,l){return v_(a,l)}function v0(...a){}const sM=new Dn("Application Initializer");let b0=(()=>{class a{constructor(u){this.appInits=u,this.resolve=v0,this.reject=v0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,g)=>{this.resolve=p,this.reject=g})}runInitializers(){if(this.initialized)return;const u=[],p=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const E=this.appInits[g]();if(kv(E))u.push(E);else if(Pv(E)){const x=new Promise((P,L)=>{E.subscribe({complete:P,error:L})});u.push(x)}}Promise.all(u).then(()=>{p()}).catch(g=>{this.reject(g)}),0===u.length&&p(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(ci(sM,8))},a.\u0275prov=Qe({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const oM=new Dn("AppId",{providedIn:"root",factory:function aM(){return`${qw()}${qw()}${qw()}`}});function qw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lM=new Dn("Platform Initializer"),Ww=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),C0=new Dn("appBootstrapListener"),Pl=new Dn("AnimationModuleType");let Ko=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Qe({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const ym=new Dn("LocaleId",{providedIn:"root",factory:()=>Et(ym,ft.Optional|ft.SkipSelf)||function _r(){return typeof $localize<"u"&&$localize.locale||gd}()}),Zw=new Dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class or{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let eF=(()=>{class a{compileModuleSync(u){return new vw(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const p=this.compileModuleSync(u),E=Sl(Zt(u).declarations).reduce((x,P)=>{const L=He(P);return L&&x.push(new Ns(L)),x},[]);return new or(p,E)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Qe({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const S0=(()=>Promise.resolve(0))();function I0(a){typeof Zone>"u"?S0.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class wo{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kl(!1),this.onMicrotaskEmpty=new kl(!1),this.onStable=new kl(!1),this.onError=new kl(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();const g=this;if(g._nesting=0,g._outer=g._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const E=Zone.AsyncStackTaggingZoneSpec;g._inner=g._inner.fork(new E("Angular"))}Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!p&&u,g.shouldCoalesceRunChangeDetection=p,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function T0(){let a=Pn.requestAnimationFrame,l=Pn.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const p=l[Zone.__symbol__("OriginalDelegate")];p&&(l=p)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function dM(a){const l=()=>{!function uM(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Pn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,La(a),a.isCheckStableRunning=!0,D0(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),La(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,p,g,E,x,P)=>{try{return M0(a),u.invokeTask(g,E,x,P)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||a.shouldCoalesceRunChangeDetection)&&l(),Xh(a)}},onInvoke:(u,p,g,E,x,P,L)=>{try{return M0(a),u.invoke(g,E,x,P,L)}finally{a.shouldCoalesceRunChangeDetection&&l(),Xh(a)}},onHasTask:(u,p,g,E)=>{u.hasTask(g,E),p===g&&("microTask"==E.change?(a._hasPendingMicrotasks=E.microTask,La(a),D0(a)):"macroTask"==E.change&&(a.hasPendingMacrotasks=E.macroTask))},onHandleError:(u,p,g,E)=>(u.handleError(g,E),a.runOutsideAngular(()=>a.onError.emit(E)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wo.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(wo.isInAngularZone())throw new j(909,!1)}run(l,u,p){return this._inner.run(l,u,p)}runTask(l,u,p,g){const E=this._inner,x=E.scheduleEventTask("NgZoneEvent: "+g,l,tF,v0,v0);try{return E.runTask(x,u,p)}finally{E.cancelTask(x)}}runGuarded(l,u,p){return this._inner.runGuarded(l,u,p)}runOutsideAngular(l){return this._outer.run(l)}}const tF={};function D0(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function La(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function M0(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Xh(a){a._nesting--,D0(a)}class hM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kl,this.onMicrotaskEmpty=new kl,this.onStable=new kl,this.onError=new kl}run(l,u,p){return l.apply(u,p)}runGuarded(l,u,p){return l.apply(u,p)}runOutsideAngular(l){return l()}runTask(l,u,p,g){return l.apply(u,p)}}const A0=new Dn(""),fM=new Dn("");let Rl,pM=(()=>{class a{constructor(u,p,g){this._ngZone=u,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rl||(function mM(a){Rl=a}(g),g.addToWindow(p)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wo.assertNotInAngularZone(),I0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())I0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(u)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,p,g){let E=-1;p&&p>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==E),u(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:u,timeoutId:E,updateCb:g})}whenStable(u,p,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,p,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,p,g){return[]}}return a.\u0275fac=function(u){return new(u||a)(ci(wo),ci(Kw),ci(fM))},a.\u0275prov=Qe({token:a,factory:a.\u0275fac}),a})(),Kw=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,p){this._applications.set(u,p)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,p=!0){return Rl?.findTestabilityInTree(this,u,p)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Qe({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),zc=null;const Yw=new Dn("AllowMultipleToken"),Qw=new Dn("PlatformDestroyListeners");class k0{constructor(l,u){this.name=l,this.token=u}}function _M(a,l,u=[]){const p=`Platform: ${l}`,g=new Dn(p);return(E=[])=>{let x=Ha();if(!x||x.injector.get(Yw,!1)){const P=[...u,...E,{provide:g,useValue:!0}];a?a(P):function Ve(a){if(zc&&!zc.get(Yw,!1))throw new j(400,!1);zc=a;const l=a.get(In);(function D_(a){const l=a.get(lM,null);l&&l.forEach(u=>u())})(a)}(function Gc(a=[],l){return Fc.create({name:l,providers:[{provide:Ap,useValue:"platform"},{provide:Qw,useValue:new Set([()=>zc=null])},...a]})}(P,p))}return function yM(a){const l=Ha();if(!l)throw new j(401,!1);return l}()}}function Ha(){return zc?.get(In)??null}let In=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,p){const g=function xo(a,l){let u;return u="noop"===a?new hM:("zone.js"===a?void 0:a)||new wo(l),u}(p?.ngZone,function Xw(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(p)),E=[{provide:wo,useValue:g}];return g.run(()=>{const x=Fc.create({providers:E,parent:this.injector,name:u.moduleType.name}),P=u.create(x),L=P.injector.get(Np,null);if(!L)throw new j(402,!1);return g.runOutsideAngular(()=>{const Y=g.onError.subscribe({next:se=>{L.handleError(se)}});P.onDestroy(()=>{bd(this._modules,P),Y.unsubscribe()})}),function vt(a,l,u){try{const p=u();return kv(p)?p.catch(g=>{throw l.runOutsideAngular(()=>a.handleError(g)),g}):p}catch(p){throw l.runOutsideAngular(()=>a.handleError(p)),p}}(L,g,()=>{const Y=P.injector.get(b0);return Y.runInitializers(),Y.donePromise.then(()=>(function WT(a){Ne(a,"Expected localeId to be defined"),"string"==typeof a&&(uw=a.toLowerCase().replace(/_/g,"-"))}(P.injector.get(ym,gd)||gd),this._moduleDoBootstrap(P),P))})})}bootstrapModule(u,p=[]){const g=M_({},p);return function T_(a,l,u){const p=new vw(u);return Promise.resolve(p)}(0,0,u).then(E=>this.bootstrapModuleFactory(E,g))}_moduleDoBootstrap(u){const p=u.injector.get(Yt);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(g=>p.bootstrap(g));else{if(!u.instance.ngDoBootstrap)throw new j(403,!1);u.instance.ngDoBootstrap(p)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const u=this._injector.get(Qw,null);u&&(u.forEach(p=>p()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(ci(Fc))},a.\u0275prov=Qe({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function M_(a,l){return Array.isArray(l)?l.reduce(M_,a):{...a,...l}}let Yt=(()=>{class a{constructor(u,p,g){this._zone=u,this._injector=p,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new y.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),x=new y.y(P=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{wo.assertNotInAngularZone(),I0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{wo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{L.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,I.T)(E,x.pipe((0,M.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,p){const g=u instanceof IC;if(!this._injector.get(b0).done)throw!g&&Bt(u),new j(405,false);let x;x=g?u:this._injector.get(Op).resolveComponentFactory(u),this.componentTypes.push(x.componentType);const P=function gM(a){return a.isBoundToModule}(x)?void 0:this._injector.get(fm),Y=x.create(Fc.NULL,[],p||x.selector,P),se=Y.location.nativeElement,de=Y.injector.get(A0,null);return de?.registerApplication(se),Y.onDestroy(()=>{this.detachView(Y.hostView),bd(this.components,Y),de?.unregisterApplication(se)}),this._loadComponent(Y),Y}tick(){if(this._runningTick)throw new j(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const p=u;this._views.push(p),p.attachToAppRef(this)}detachView(u){const p=u;bd(this._views,p),p.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(C0,[]).concat(this._bootstrapListeners).forEach(g=>g(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>bd(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new j(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(ci(wo),ci(Qu),ci(Np))},a.\u0275prov=Qe({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function bd(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let Jw=!0,A_=!1;function vM(){return A_=!0,Jw}function bM(){if(A_)throw new Error("Cannot enable prod mode after platform setup.");Jw=!1}let Dr=(()=>{class a{}return a.__NG_ELEMENT_ID__=$c,a})();function $c(a){return function CM(a,l,u){if(oa(a)&&!u){const p=li(a.index,l);return new em(p,p)}return 47&a.type?new em(l[16],l):null}(ei(),qe(),16==(16&a))}class F_{constructor(){}supports(l){return qo(l)}create(l){return new IM(l)}}const SM=(a,l)=>l;class IM{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||SM}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,p=this._removalsHead,g=0,E=null;for(;u||p;){const x=!p||u&&u.currentIndex<Jh(p,g,E)?u:p,P=Jh(x,g,E),L=x.currentIndex;if(x===p)g--,p=p._nextRemoved;else if(u=u._next,null==x.previousIndex)g++;else{E||(E=[]);const Y=P-g,se=L-g;if(Y!=se){for(let we=0;we<Y;we++){const Pe=we<E.length?E[we]:E[we]=0,Ge=Pe+we;se<=Ge&&Ge<Y&&(E[we]=Pe+1)}E[x.previousIndex]=se-Y}}P!==L&&l(x,P,L)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!qo(l))throw new j(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let g,E,x,u=this._itHead,p=!1;if(Array.isArray(l)){this.length=l.length;for(let P=0;P<this.length;P++)E=l[P],x=this._trackByFn(P,E),null!==u&&Object.is(u.trackById,x)?(p&&(u=this._verifyReinsertion(u,E,x,P)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,x,P),p=!0),u=u._next}else g=0,function AE(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Hc()]();let p;for(;!(p=u.next()).done;)l(p.value)}}(l,P=>{x=this._trackByFn(g,P),null!==u&&Object.is(u.trackById,x)?(p&&(u=this._verifyReinsertion(u,P,x,g)),Object.is(u.item,P)||this._addIdentityChange(u,P)):(u=this._mismatch(u,P,x,g),p=!0),u=u._next,g++}),this.length=g;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,p,g){let E;return null===l?E=this._itTail:(E=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,E,g)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(p,g))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,E,g)):l=this._addAfter(new L0(u,p),E,g),l}_verifyReinsertion(l,u,p,g){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==E?l=this._reinsertAfter(E,l._prev,g):l.currentIndex!=g&&(l.currentIndex=g,this._addToMoves(l,g)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const g=l._prevRemoved,E=l._nextRemoved;return null===g?this._removalsHead=E:g._nextRemoved=E,null===E?this._removalsTail=g:E._prevRemoved=g,this._insertAfter(l,u,p),this._addToMoves(l,p),l}_moveAfter(l,u,p){return this._unlink(l),this._insertAfter(l,u,p),this._addToMoves(l,p),l}_addAfter(l,u,p){return this._insertAfter(l,u,p),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,p){const g=null===u?this._itHead:u._next;return l._next=g,l._prev=u,null===g?this._itTail=l:g._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new sx),this._linkedRecords.put(l),l.currentIndex=p,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,p=l._next;return null===u?this._itHead=p:u._next=p,null===p?this._itTail=u:p._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sx),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class L0{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rx{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===u||u<=p.currentIndex)&&Object.is(p.trackById,l))return p;return null}remove(l){const u=l._prevDup,p=l._nextDup;return null===u?this._head=p:u._nextDup=p,null===p?this._tail=u:p._prevDup=u,null===this._head}}class sx{constructor(){this.map=new Map}put(l){const u=l.trackById;let p=this.map.get(u);p||(p=new rx,this.map.set(u,p)),p.add(l)}get(l,u){const g=this.map.get(l);return g?g.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jh(a,l,u){const p=a.previousIndex;if(null===p)return p;let g=0;return u&&p<u.length&&(g=u[p]),p+l+g}class ox{constructor(){}supports(l){return l instanceof Map||Sv(l)}create(){return new xm}}class xm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Sv(l)))throw new j(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(p,g)=>{if(u&&u.key===g)this._maybeAddToChanges(u,p),this._appendAfter=u,u=u._next;else{const E=this._getOrCreateRecordForKey(g,p);u=this._insertBeforeOrAppend(u,E)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let p=u;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const p=l._prev;return u._next=l,u._prev=p,l._prev=u,p&&(p._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const g=this._records.get(l);this._maybeAddToChanges(g,u);const E=g._prev,x=g._next;return E&&(E._next=x),x&&(x._prev=E),g._next=null,g._prev=null,g}const p=new TM(l);return this._records.set(l,p),p.currentValue=u,this._addToAdditions(p),p}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(p=>u(l[p],p))}}class TM{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ax(){return new ef([new F_])}let ef=(()=>{class a{constructor(u){this.factories=u}static create(u,p){if(null!=p){const g=p.factories.slice();u=u.concat(g)}return new a(u)}static extend(u){return{provide:a,useFactory:p=>a.create(u,p||ax()),deps:[[a,new jo,new Xs]]}}find(u){const p=this.factories.find(g=>g.supports(u));if(null!=p)return p;throw new j(901,!1)}}return a.\u0275prov=Qe({token:a,providedIn:"root",factory:ax}),a})();function B0(){return new N_([new ox])}let N_=(()=>{class a{constructor(u){this.factories=u}static create(u,p){if(p){const g=p.factories.slice();u=u.concat(g)}return new a(u)}static extend(u){return{provide:a,useFactory:p=>a.create(u,p||B0()),deps:[[a,new jo,new Xs]]}}find(u){const p=this.factories.find(g=>g.supports(u));if(p)return p;throw new j(901,!1)}}return a.\u0275prov=Qe({token:a,providedIn:"root",factory:B0}),a})();const V0=_M(null,"core",[]);let H0=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(ci(Yt))},a.\u0275mod=kr({type:a}),a.\u0275inj=zt({}),a})();function hx(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(c,h,f)=>{"use strict";f.d(h,{Z:()=>j});var s=f(2090),v=f(4859),y=f(6881),I=f(1877);class M{constructor(B,V){this._delegate=B,this.firebase=V,(0,y._addComponent)(B,new v.wA("app-compat",()=>this,"PUBLIC")),this.container=B.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(B){this._delegate.automaticDataCollectionEnabled=B}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(B=>{this._delegate.checkDestroyed(),B()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,y.deleteApp)(this._delegate)))}_getService(B,V=y._DEFAULT_ENTRY_NAME){var ee;this._delegate.checkDestroyed();const te=this._delegate.container.getProvider(B);return!te.isInitialized()&&"EXPLICIT"===(null===(ee=te.getComponent())||void 0===ee?void 0:ee.instantiationMode)&&te.initialize(),te.getImmediate({identifier:V})}_removeServiceInstance(B,V=y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(B).clearInstance(V)}_addComponent(B){(0,y._addComponent)(this._delegate,B)}_addOrOverwriteComponent(B){(0,y._addOrOverwriteComponent)(this._delegate,B)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const F=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),R=function Q(){const G=function z(G){const B={},V={__esModule:!0,initializeApp:function ie(De,Se={}){const _e=y.initializeApp(De,Se);if((0,s.r3)(B,_e.name))return B[_e.name];const $e=new G(_e,V);return B[_e.name]=$e,$e},app:te,registerVersion:y.registerVersion,setLogLevel:y.setLogLevel,onLog:y.onLog,apps:null,SDK_VERSION:y.SDK_VERSION,INTERNAL:{registerComponent:function he(De){const Se=De.name,_e=Se.replace("-compat","");if(y._registerComponent(De)&&"PUBLIC"===De.type){const $e=(Te=te())=>{if("function"!=typeof Te[_e])throw F.create("invalid-app-argument",{appName:Se});return Te[_e]()};void 0!==De.serviceProps&&(0,s.ZB)($e,De.serviceProps),V[_e]=$e,G.prototype[_e]=function(...Te){return this._getService.bind(this,Se).apply(this,De.multipleInstances?Te:[])}}return"PUBLIC"===De.type?V[_e]:null},removeApp:function ee(De){delete B[De]},useAsService:function Re(De,Se){return"serverAuth"===Se?null:Se},modularAPIs:y}};function te(De){if(!(0,s.r3)(B,De=De||y._DEFAULT_ENTRY_NAME))throw F.create("no-app",{appName:De});return B[De]}return V.default=V,Object.defineProperty(V,"apps",{get:function ae(){return Object.keys(B).map(De=>B[De])}}),te.App=G,V}(M);return G.INTERNAL=Object.assign(Object.assign({},G.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function B(V){(0,s.ZB)(G,V)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),G}(),H=new I.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const G=self.firebase.SDK_VERSION;G&&G.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const j=R;!function ne(G){(0,y.registerVersion)("@firebase/app-compat","0.2.9",G)}()},6881:(c,h,f)=>{"use strict";f.r(h),f.d(h,{FirebaseError:()=>I.ZR,SDK_VERSION:()=>ra,_DEFAULT_ENTRY_NAME:()=>ri,_addComponent:()=>pt,_addOrOverwriteComponent:()=>Pt,_apps:()=>hn,_clearComponents:()=>bi,_components:()=>an,_getProvider:()=>Ss,_registerComponent:()=>Pn,_removeServiceInstance:()=>Ar,deleteApp:()=>ns,getApp:()=>Mi,getApps:()=>Zi,initializeApp:()=>fn,onLog:()=>Is,registerVersion:()=>Ki,setLogLevel:()=>si});var s=f(5861),v=f(4859),y=f(1877),I=f(2090);let k,F;const R=new WeakMap,H=new WeakMap,U=new WeakMap,q=new WeakMap,ne=new WeakMap;let B={get(Fe,Oe,Ye){if(Fe instanceof IDBTransaction){if("done"===Oe)return H.get(Fe);if("objectStoreNames"===Oe)return Fe.objectStoreNames||U.get(Fe);if("store"===Oe)return Ye.objectStoreNames[1]?void 0:Ye.objectStore(Ye.objectStoreNames[0])}return ie(Fe[Oe])},set:(Fe,Oe,Ye)=>(Fe[Oe]=Ye,!0),has:(Fe,Oe)=>Fe instanceof IDBTransaction&&("done"===Oe||"store"===Oe)||Oe in Fe};function te(Fe){return"function"==typeof Fe?function ee(Fe){return Fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return F||(F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Fe)?function(...Oe){return Fe.apply(ae(this),Oe),ie(R.get(this))}:function(...Oe){return ie(Fe.apply(ae(this),Oe))}:function(Oe,...Ye){const Xe=Fe.call(ae(this),Oe,...Ye);return U.set(Xe,Oe.sort?Oe.sort():[Oe]),ie(Xe)}}(Fe):(Fe instanceof IDBTransaction&&function G(Fe){if(H.has(Fe))return;const Oe=new Promise((Ye,Xe)=>{const Ft=()=>{Fe.removeEventListener("complete",Kt),Fe.removeEventListener("error",pn),Fe.removeEventListener("abort",pn)},Kt=()=>{Ye(),Ft()},pn=()=>{Xe(Fe.error||new DOMException("AbortError","AbortError")),Ft()};Fe.addEventListener("complete",Kt),Fe.addEventListener("error",pn),Fe.addEventListener("abort",pn)});H.set(Fe,Oe)}(Fe),((Fe,Oe)=>Oe.some(Ye=>Fe instanceof Ye))(Fe,function z(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Fe,B):Fe)}function ie(Fe){if(Fe instanceof IDBRequest)return function j(Fe){const Oe=new Promise((Ye,Xe)=>{const Ft=()=>{Fe.removeEventListener("success",Kt),Fe.removeEventListener("error",pn)},Kt=()=>{Ye(ie(Fe.result)),Ft()},pn=()=>{Xe(Fe.error),Ft()};Fe.addEventListener("success",Kt),Fe.addEventListener("error",pn)});return Oe.then(Ye=>{Ye instanceof IDBCursor&&R.set(Ye,Fe)}).catch(()=>{}),ne.set(Oe,Fe),Oe}(Fe);if(q.has(Fe))return q.get(Fe);const Oe=te(Fe);return Oe!==Fe&&(q.set(Fe,Oe),ne.set(Oe,Fe)),Oe}const ae=Fe=>ne.get(Fe),De=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],_e=new Map;function $e(Fe,Oe){if(!(Fe instanceof IDBDatabase)||Oe in Fe||"string"!=typeof Oe)return;if(_e.get(Oe))return _e.get(Oe);const Ye=Oe.replace(/FromIndex$/,""),Xe=Oe!==Ye,Ft=Se.includes(Ye);if(!(Ye in(Xe?IDBIndex:IDBObjectStore).prototype)||!Ft&&!De.includes(Ye))return;const Kt=function(){var pn=(0,s.Z)(function*(Zn,...ln){const Qi=this.transaction(Zn,Ft?"readwrite":"readonly");let zr=Qi.store;return Xe&&(zr=zr.index(ln.shift())),(yield Promise.all([zr[Ye](...ln),Ft&&Qi.done]))[0]});return function(ln){return pn.apply(this,arguments)}}();return _e.set(Oe,Kt),Kt}!function V(Fe){B=Fe(B)}(Fe=>({...Fe,get:(Oe,Ye,Xe)=>$e(Oe,Ye)||Fe.get(Oe,Ye,Xe),has:(Oe,Ye)=>!!$e(Oe,Ye)||Fe.has(Oe,Ye)}));class Te{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(Ye=>{if(function pe(Fe){return"VERSION"===Fe.getComponent()?.type}(Ye)){const Xe=Ye.getImmediate();return`${Xe.library}/${Xe.version}`}return null}).filter(Ye=>Ye).join(" ")}}const le="@firebase/app",X="0.9.9",oe=new y.Yd("@firebase/app"),ri="[DEFAULT]",gn={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,an=new Map;function pt(Fe,Oe){try{Fe.container.addComponent(Oe)}catch(Ye){oe.debug(`Component ${Oe.name} failed to register with FirebaseApp ${Fe.name}`,Ye)}}function Pt(Fe,Oe){Fe.container.addOrOverwriteComponent(Oe)}function Pn(Fe){const Oe=Fe.name;if(an.has(Oe))return oe.debug(`There were multiple attempts to register component ${Oe}.`),!1;an.set(Oe,Fe);for(const Ye of hn.values())pt(Ye,Fe);return!0}function Ss(Fe,Oe){const Ye=Fe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ye&&Ye.triggerHeartbeat(),Fe.container.getProvider(Oe)}function Ar(Fe,Oe,Ye=ri){Ss(Fe,Oe).clearInstance(Ye)}function bi(){an.clear()}const Wi=new I.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Tn{constructor(Oe,Ye,Xe){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},Ye),this._name=Ye.name,this._automaticDataCollectionEnabled=Ye.automaticDataCollectionEnabled,this._container=Xe,this.container.addComponent(new v.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}const ra="9.21.0";function fn(Fe,Oe={}){let Ye=Fe;"object"!=typeof Oe&&(Oe={name:Oe});const Xe=Object.assign({name:ri,automaticDataCollectionEnabled:!1},Oe),Ft=Xe.name;if("string"!=typeof Ft||!Ft)throw Wi.create("bad-app-name",{appName:String(Ft)});if(Ye||(Ye=(0,I.aH)()),!Ye)throw Wi.create("no-options");const Kt=hn.get(Ft);if(Kt){if((0,I.vZ)(Ye,Kt.options)&&(0,I.vZ)(Xe,Kt.config))return Kt;throw Wi.create("duplicate-app",{appName:Ft})}const pn=new v.H0(Ft);for(const ln of an.values())pn.addComponent(ln);const Zn=new Tn(Ye,Xe,pn);return hn.set(Ft,Zn),Zn}function Mi(Fe=ri){const Oe=hn.get(Fe);if(!Oe&&Fe===ri)return fn();if(!Oe)throw Wi.create("no-app",{appName:Fe});return Oe}function Zi(){return Array.from(hn.values())}function ns(Fe){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,s.Z)(function*(Fe){const Oe=Fe.name;hn.has(Oe)&&(hn.delete(Oe),yield Promise.all(Fe.container.getProviders().map(Ye=>Ye.delete())),Fe.isDeleted=!0)})).apply(this,arguments)}function Ki(Fe,Oe,Ye){var Xe;let Ft=null!==(Xe=gn[Fe])&&void 0!==Xe?Xe:Fe;Ye&&(Ft+=`-${Ye}`);const Kt=Ft.match(/\s|\//),pn=Oe.match(/\s|\//);if(Kt||pn){const Zn=[`Unable to register library "${Ft}" with version "${Oe}":`];return Kt&&Zn.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),Kt&&pn&&Zn.push("and"),pn&&Zn.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void oe.warn(Zn.join(" "))}Pn(new v.wA(`${Ft}-version`,()=>({library:Ft,version:Oe}),"VERSION"))}function Is(Fe,Oe){if(null!==Fe&&"function"!=typeof Fe)throw Wi.create("invalid-log-argument");(0,y.Am)(Fe,Oe)}function si(Fe){(0,y.Ub)(Fe)}const ye="firebase-heartbeat-store";let ge=null;function xe(){return ge||(ge=function he(Fe,Oe,{blocked:Ye,upgrade:Xe,blocking:Ft,terminated:Kt}={}){const pn=indexedDB.open(Fe,Oe),Zn=ie(pn);return Xe&&pn.addEventListener("upgradeneeded",ln=>{Xe(ie(pn.result),ln.oldVersion,ln.newVersion,ie(pn.transaction),ln)}),Ye&&pn.addEventListener("blocked",ln=>Ye(ln.oldVersion,ln.newVersion,ln)),Zn.then(ln=>{Kt&&ln.addEventListener("close",()=>Kt()),Ft&&ln.addEventListener("versionchange",Qi=>Ft(Qi.oldVersion,Qi.newVersion,Qi))}).catch(()=>{}),Zn}("firebase-heartbeat-database",1,{upgrade:(Fe,Oe)=>{0===Oe&&Fe.createObjectStore(ye)}}).catch(Fe=>{throw Wi.create("idb-open",{originalErrorMessage:Fe.message})})),ge}function ke(){return(ke=(0,s.Z)(function*(Fe){try{return(yield xe()).transaction(ye).objectStore(ye).get(Zt(Fe))}catch(Oe){if(Oe instanceof I.ZR)oe.warn(Oe.message);else{const Ye=Wi.create("idb-get",{originalErrorMessage:Oe?.message});oe.warn(Ye.message)}}})).apply(this,arguments)}function ot(Fe,Oe){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,s.Z)(function*(Fe,Oe){try{const Xe=(yield xe()).transaction(ye,"readwrite");return yield Xe.objectStore(ye).put(Oe,Zt(Fe)),Xe.done}catch(Ye){if(Ye instanceof I.ZR)oe.warn(Ye.message);else{const Xe=Wi.create("idb-set",{originalErrorMessage:Ye?.message});oe.warn(Xe.message)}}})).apply(this,arguments)}function Zt(Fe){return`${Fe.name}!${Fe.options.appId}`}class xt{constructor(Oe){this.container=Oe,this._heartbeatsCache=null;const Ye=this.container.getProvider("app").getImmediate();this._storage=new Yi(Ye),this._heartbeatsCachePromise=this._storage.read().then(Xe=>(this._heartbeatsCache=Xe,Xe))}triggerHeartbeat(){var Oe=this;return(0,s.Z)(function*(){const Xe=Oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=At();if(null===Oe._heartbeatsCache&&(Oe._heartbeatsCache=yield Oe._heartbeatsCachePromise),Oe._heartbeatsCache.lastSentHeartbeatDate!==Ft&&!Oe._heartbeatsCache.heartbeats.some(Kt=>Kt.date===Ft))return Oe._heartbeatsCache.heartbeats.push({date:Ft,agent:Xe}),Oe._heartbeatsCache.heartbeats=Oe._heartbeatsCache.heartbeats.filter(Kt=>{const pn=new Date(Kt.date).valueOf();return Date.now()-pn<=2592e6}),Oe._storage.overwrite(Oe._heartbeatsCache)})()}getHeartbeatsHeader(){var Oe=this;return(0,s.Z)(function*(){if(null===Oe._heartbeatsCache&&(yield Oe._heartbeatsCachePromise),null===Oe._heartbeatsCache||0===Oe._heartbeatsCache.heartbeats.length)return"";const Ye=At(),{heartbeatsToSend:Xe,unsentEntries:Ft}=function Rn(Fe,Oe=1024){const Ye=[];let Xe=Fe.slice();for(const Ft of Fe){const Kt=Ye.find(pn=>pn.agent===Ft.agent);if(Kt){if(Kt.dates.push(Ft.date),On(Ye)>Oe){Kt.dates.pop();break}}else if(Ye.push({agent:Ft.agent,dates:[Ft.date]}),On(Ye)>Oe){Ye.pop();break}Xe=Xe.slice(1)}return{heartbeatsToSend:Ye,unsentEntries:Xe}}(Oe._heartbeatsCache.heartbeats),Kt=(0,I.L)(JSON.stringify({version:2,heartbeats:Xe}));return Oe._heartbeatsCache.lastSentHeartbeatDate=Ye,Ft.length>0?(Oe._heartbeatsCache.heartbeats=Ft,yield Oe._storage.overwrite(Oe._heartbeatsCache)):(Oe._heartbeatsCache.heartbeats=[],Oe._storage.overwrite(Oe._heartbeatsCache)),Kt})()}}function At(){return(new Date).toISOString().substring(0,10)}class Yi{constructor(Oe){this.app=Oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,I.hl)()&&(0,I.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Oe=this;return(0,s.Z)(function*(){return(yield Oe._canUseIndexedDBPromise)&&(yield function He(Fe){return ke.apply(this,arguments)}(Oe.app))||{heartbeats:[]}})()}overwrite(Oe){var Ye=this;return(0,s.Z)(function*(){var Xe;if(yield Ye._canUseIndexedDBPromise){const Kt=yield Ye.read();return ot(Ye.app,{lastSentHeartbeatDate:null!==(Xe=Oe.lastSentHeartbeatDate)&&void 0!==Xe?Xe:Kt.lastSentHeartbeatDate,heartbeats:Oe.heartbeats})}})()}add(Oe){var Ye=this;return(0,s.Z)(function*(){var Xe;if(yield Ye._canUseIndexedDBPromise){const Kt=yield Ye.read();return ot(Ye.app,{lastSentHeartbeatDate:null!==(Xe=Oe.lastSentHeartbeatDate)&&void 0!==Xe?Xe:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...Oe.heartbeats]})}})()}}function On(Fe){return(0,I.L)(JSON.stringify({version:2,heartbeats:Fe})).length}!function is(Fe){Pn(new v.wA("platform-logger",Oe=>new Te(Oe),"PRIVATE")),Pn(new v.wA("heartbeat",Oe=>new xt(Oe),"PRIVATE")),Ki(le,X,Fe),Ki(le,X,"esm2017"),Ki("fire-js","")}("")},4859:(c,h,f)=>{"use strict";f.d(h,{H0:()=>z,wA:()=>y});var s=f(5861),v=f(2090);class y{constructor(R,H,U){this.name=R,this.instanceFactory=H,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(R){return this.instantiationMode=R,this}setMultipleInstances(R){return this.multipleInstances=R,this}setServiceProps(R){return this.serviceProps=R,this}setInstanceCreatedCallback(R){return this.onInstanceCreated=R,this}}const I="[DEFAULT]";class M{constructor(R,H){this.name=R,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(R){const H=this.normalizeInstanceIdentifier(R);if(!this.instancesDeferred.has(H)){const U=new v.BH;if(this.instancesDeferred.set(H,U),this.isInitialized(H)||this.shouldAutoInitialize())try{const q=this.getOrInitializeService({instanceIdentifier:H});q&&U.resolve(q)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(R){var H;const U=this.normalizeInstanceIdentifier(R?.identifier),q=null!==(H=R?.optional)&&void 0!==H&&H;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(ne){if(q)return null;throw ne}}getComponent(){return this.component}setComponent(R){if(R.name!==this.name)throw Error(`Mismatching Component ${R.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=R,this.shouldAutoInitialize()){if(function F(Q){return"EAGER"===Q.instantiationMode}(R))try{this.getOrInitializeService({instanceIdentifier:I})}catch{}for(const[H,U]of this.instancesDeferred.entries()){const q=this.normalizeInstanceIdentifier(H);try{const ne=this.getOrInitializeService({instanceIdentifier:q});U.resolve(ne)}catch{}}}}clearInstance(R=I){this.instancesDeferred.delete(R),this.instancesOptions.delete(R),this.instances.delete(R)}delete(){var R=this;return(0,s.Z)(function*(){const H=Array.from(R.instances.values());yield Promise.all([...H.filter(U=>"INTERNAL"in U).map(U=>U.INTERNAL.delete()),...H.filter(U=>"_delete"in U).map(U=>U._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(R=I){return this.instances.has(R)}getOptions(R=I){return this.instancesOptions.get(R)||{}}initialize(R={}){const{options:H={}}=R,U=this.normalizeInstanceIdentifier(R.instanceIdentifier);if(this.isInitialized(U))throw Error(`${this.name}(${U}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const q=this.getOrInitializeService({instanceIdentifier:U,options:H});for(const[ne,j]of this.instancesDeferred.entries())U===this.normalizeInstanceIdentifier(ne)&&j.resolve(q);return q}onInit(R,H){var U;const q=this.normalizeInstanceIdentifier(H),ne=null!==(U=this.onInitCallbacks.get(q))&&void 0!==U?U:new Set;ne.add(R),this.onInitCallbacks.set(q,ne);const j=this.instances.get(q);return j&&R(j,q),()=>{ne.delete(R)}}invokeOnInitCallbacks(R,H){const U=this.onInitCallbacks.get(H);if(U)for(const q of U)try{q(R,H)}catch{}}getOrInitializeService({instanceIdentifier:R,options:H={}}){let U=this.instances.get(R);if(!U&&this.component&&(U=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=R,Q===I?void 0:Q),options:H}),this.instances.set(R,U),this.instancesOptions.set(R,H),this.invokeOnInitCallbacks(U,R),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,R,U)}catch{}var Q;return U||null}normalizeInstanceIdentifier(R=I){return this.component?this.component.multipleInstances?R:I:R}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z{constructor(R){this.name=R,this.providers=new Map}addComponent(R){const H=this.getProvider(R.name);if(H.isComponentSet())throw new Error(`Component ${R.name} has already been registered with ${this.name}`);H.setComponent(R)}addOrOverwriteComponent(R){this.getProvider(R.name).isComponentSet()&&this.providers.delete(R.name),this.addComponent(R)}getProvider(R){if(this.providers.has(R))return this.providers.get(R);const H=new M(R,this);return this.providers.set(R,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(c,h,f)=>{"use strict";f.d(h,{Am:()=>Q,Ub:()=>z,Yd:()=>F,in:()=>v});const s=[];var v=(()=>{return(R=v||(v={}))[R.DEBUG=0]="DEBUG",R[R.VERBOSE=1]="VERBOSE",R[R.INFO=2]="INFO",R[R.WARN=3]="WARN",R[R.ERROR=4]="ERROR",R[R.SILENT=5]="SILENT",v;var R})();const y={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},I=v.INFO,M={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},k=(R,H,...U)=>{if(H<R.logLevel)return;const q=(new Date).toISOString(),ne=M[H];if(!ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[ne](`[${q}]  ${R.name}:`,...U)};class F{constructor(H){this.name=H,this._logLevel=I,this._logHandler=k,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in v))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?y[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...H),this._logHandler(this,v.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...H),this._logHandler(this,v.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,v.INFO,...H),this._logHandler(this,v.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,v.WARN,...H),this._logHandler(this,v.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,v.ERROR,...H),this._logHandler(this,v.ERROR,...H)}}function z(R){s.forEach(H=>{H.setLogLevel(R)})}function Q(R,H){for(const U of s){let q=null;H&&H.level&&(q=y[H.level]),U.userLogHandler=null===R?null:(ne,j,...G)=>{const B=G.map(V=>{if(null==V)return null;if("string"==typeof V)return V;if("number"==typeof V||"boolean"==typeof V)return V.toString();if(V instanceof Error)return V.message;try{return JSON.stringify(V)}catch{return null}}).filter(V=>V).join(" ");j>=(q??ne.logLevel)&&R({level:v[j].toLowerCase(),message:B,args:G,type:ne.name})}}}},259:(c,h,f)=>{"use strict";f.d(h,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=f(6881);(0,s.registerVersion)("firebase","9.21.0","app")},9260:(c,h,f)=>{"use strict";f.d(h,{Z:()=>s.Z});var s=f(3942);s.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(c,h,f)=>{"use strict";f.r(h);var s=f(5861),v=f(3942),y=f(2090),I=f(6881),M=f(655),k=f(1877),F=f(4859);const j=function q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},G=function ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},B=new y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ee=new k.Yd("@firebase/auth");function ie(w,..._){ee.logLevel<=k.in.ERROR&&ee.error(`Auth (${I.SDK_VERSION}): ${w}`,..._)}function ae(w,..._){throw Se(w,..._)}function he(w,..._){return Se(w,..._)}function Re(w,_,b){const T=Object.assign(Object.assign({},G()),{[_]:b});return new y.LL("auth","Firebase",T).create(_,{appName:w.name})}function De(w,_,b){if(!(_ instanceof b))throw b.name!==_.constructor.name&&ae(w,"argument-error"),Re(w,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Se(w,..._){if("string"!=typeof w){const b=_[0],T=[..._.slice(1)];return T[0]&&(T[0].appName=w.name),w._errorFactory.create(b,...T)}return B.create(w,..._)}function _e(w,_,...b){if(!w)throw Se(_,...b)}function $e(w){const _="INTERNAL ASSERTION FAILED: "+w;throw ie(_),new Error(_)}function Te(w,_){w||$e(_)}function pe(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function le(){return"http:"===X()||"https:"===X()}function X(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class me{constructor(_,b){this.shortDelay=_,this.longDelay=b,Te(b>_,"Short delay should be less than long delay!"),this.isMobile=(0,y.uI)()||(0,y.b$)()}get(){return function oe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(le()||(0,y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ne(w,_){Te(w.emulator,"Emulator should always be set here");const{url:b}=w.emulator;return _?`${b}${_.startsWith("/")?_.slice(1):_}`:b}class Le{static initialize(_,b,T){this.fetchImpl=_,b&&(this.headersImpl=b),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ht=new me(3e4,6e4);function ht(w,_){return w.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:w.tenantId}):_}function Qe(w,_,b,T){return jt.apply(this,arguments)}function jt(){return(jt=(0,s.Z)(function*(w,_,b,T,$={}){return zt(w,$,(0,s.Z)(function*(){let re={},ve={};T&&("GET"===_?ve=T:re={body:JSON.stringify(T)});const Me=(0,y.xO)(Object.assign({key:w.config.apiKey},ve)).slice(1),Ze=yield w._getAdditionalHeaders();return Ze["Content-Type"]="application/json",w.languageCode&&(Ze["X-Firebase-Locale"]=w.languageCode),Le.fetch()(lt(w,w.config.apiHost,b,Me),Object.assign({method:_,headers:Ze,referrerPolicy:"no-referrer"},re))}))})).apply(this,arguments)}function zt(w,_,b){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,s.Z)(function*(w,_,b){w._canInitEmulator=!1;const T=Object.assign(Object.assign({},nt),_);try{const $=new on(w),re=yield Promise.race([b(),$.promise]);$.clearNetworkTimeout();const ve=yield re.json();if("needConfirmation"in ve)throw Bn(w,"account-exists-with-different-credential",ve);if(re.ok&&!("errorMessage"in ve))return ve;{const Me=re.ok?ve.errorMessage:ve.error.message,[Ze,st]=Me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw Bn(w,"credential-already-in-use",ve);if("EMAIL_EXISTS"===Ze)throw Bn(w,"email-already-in-use",ve);if("USER_DISABLED"===Ze)throw Bn(w,"user-disabled",ve);const yt=T[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw Re(w,yt,st);ae(w,yt)}}catch($){if($ instanceof y.ZR)throw $;ae(w,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function Jt(w,_,b,T){return un.apply(this,arguments)}function un(){return(un=(0,s.Z)(function*(w,_,b,T,$={}){const re=yield Qe(w,_,b,T,$);return"mfaPendingCredential"in re&&ae(w,"multi-factor-auth-required",{_serverResponse:re}),re})).apply(this,arguments)}function lt(w,_,b,T){const $=`${_}${b}?${T}`;return w.config.emulator?Ne(w.config,$):`${w.config.apiScheme}://${$}`}class on{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((b,T)=>{this.timer=setTimeout(()=>T(he(this.auth,"network-request-failed")),Ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(w,_,b){const T={appName:w.name};b.email&&(T.email=b.email),b.phoneNumber&&(T.phoneNumber=b.phoneNumber);const $=he(w,_,T);return $.customData._tokenResponse=b,$}function ii(){return(ii=(0,s.Z)(function*(w,_){return Qe(w,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function $i(w,_){return qi.apply(this,arguments)}function qi(){return(qi=(0,s.Z)(function*(w,_){return Qe(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ft(w,_){return En.apply(this,arguments)}function En(){return(En=(0,s.Z)(function*(w,_){return Qe(w,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function fi(w){if(w)try{const _=new Date(Number(w));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function ri(){return(ri=(0,s.Z)(function*(w,_=!1){const b=(0,y.m9)(w),T=yield b.getIdToken(_),$=hn(T);_e($&&$.exp&&$.auth_time&&$.iat,b.auth,"internal-error");const re="object"==typeof $.firebase?$.firebase:void 0,ve=re?.sign_in_provider;return{claims:$,token:T,authTime:fi(gn($.auth_time)),issuedAtTime:fi(gn($.iat)),expirationTime:fi(gn($.exp)),signInProvider:ve||null,signInSecondFactor:re?.sign_in_second_factor||null}})).apply(this,arguments)}function gn(w){return 1e3*Number(w)}function hn(w){const[_,b,T]=w.split(".");if(void 0===_||void 0===b||void 0===T)return ie("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,y.tV)(b);return $?JSON.parse($):(ie("Failed to decode base64 JWT payload"),null)}catch($){return ie("Caught error parsing JWT payload as JSON",$?.toString()),null}}function pt(w,_){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,s.Z)(function*(w,_,b=!1){if(b)return _;try{return yield _}catch(T){throw T instanceof y.ZR&&Pn(T)&&w.auth.currentUser===w&&(yield w.auth.signOut()),T}})).apply(this,arguments)}function Pn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Ss{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var b;if(_){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const $=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(_=!1){var b=this;if(!this.isRunning)return;const T=this.getInterval(_);this.timerId=setTimeout((0,s.Z)(function*(){yield b.iteration()}),T)}iteration(){var _=this;return(0,s.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&_.schedule(!0))}_.schedule()})()}}class Ar{constructor(_,b){this.createdAt=_,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=fi(this.lastLoginAt),this.creationTime=fi(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function bi(w){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,s.Z)(function*(w){var _;const b=w.auth,T=yield w.getIdToken(),$=yield pt(w,ft(b,{idToken:T}));_e($?.users.length,b,"internal-error");const re=$.users[0];w._notifyReloadListener(re);const ve=null!==(_=re.providerUserInfo)&&void 0!==_&&_.length?fn(re.providerUserInfo):[],Me=ra(w.providerData,ve),yt=!!w.isAnonymous&&!(w.email&&re.passwordHash||Me?.length),Ct={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:Me,metadata:new Ar(re.createdAt,re.lastLoginAt),isAnonymous:yt};Object.assign(w,Ct)})).apply(this,arguments)}function Tn(){return(Tn=(0,s.Z)(function*(w){const _=(0,y.m9)(w);yield bi(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function ra(w,_){return[...w.filter(T=>!_.some($=>$.providerId===T.providerId)),..._]}function fn(w){return w.map(_=>{var{providerId:b}=_,T=(0,M._T)(_,["providerId"]);return{providerId:b,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Zi(){return(Zi=(0,s.Z)(function*(w,_){const b=yield zt(w,{},(0,s.Z)(function*(){const T=(0,y.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:$,apiKey:re}=w.config,ve=lt(w,$,"/v1/token",`key=${re}`),Me=yield w._getAdditionalHeaders();return Me["Content-Type"]="application/x-www-form-urlencoded",Le.fetch()(ve,{method:"POST",headers:Me,body:T})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class ns{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){_e(_.idToken,"internal-error"),_e(typeof _.idToken<"u","internal-error"),_e(typeof _.refreshToken<"u","internal-error");const b="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function an(w){const _=hn(w);return _e(_,"internal-error"),_e(typeof _.exp<"u","internal-error"),_e(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,b)}getToken(_,b=!1){var T=this;return(0,s.Z)(function*(){return _e(!T.accessToken||T.refreshToken,_,"user-token-expired"),b||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(_,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,b){var T=this;return(0,s.Z)(function*(){const{accessToken:$,refreshToken:re,expiresIn:ve}=yield function Mi(w,_){return Zi.apply(this,arguments)}(_,b);T.updateTokensAndExpiration($,re,Number(ve))})()}updateTokensAndExpiration(_,b,T){this.refreshToken=b||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(_,b){const{refreshToken:T,accessToken:$,expirationTime:re}=b,ve=new ns;return T&&(_e("string"==typeof T,"internal-error",{appName:_}),ve.refreshToken=T),$&&(_e("string"==typeof $,"internal-error",{appName:_}),ve.accessToken=$),re&&(_e("number"==typeof re,"internal-error",{appName:_}),ve.expirationTime=re),ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new ns,this.toJSON())}_performRefresh(){return $e("not implemented")}}function Jn(w,_){_e("string"==typeof w||typeof w>"u","internal-error",{appName:_})}class Ki{constructor(_){var{uid:b,auth:T,stsTokenManager:$}=_,re=(0,M._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ss(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=T,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=re.displayName||null,this.email=re.email||null,this.emailVerified=re.emailVerified||!1,this.phoneNumber=re.phoneNumber||null,this.photoURL=re.photoURL||null,this.isAnonymous=re.isAnonymous||!1,this.tenantId=re.tenantId||null,this.providerData=re.providerData?[...re.providerData]:[],this.metadata=new Ar(re.createdAt||void 0,re.lastLoginAt||void 0)}getIdToken(_){var b=this;return(0,s.Z)(function*(){const T=yield pt(b,b.stsTokenManager.getToken(b.auth,_));return _e(T,b.auth,"internal-error"),b.accessToken!==T&&(b.accessToken=T,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),T})()}getIdTokenResult(_){return function Di(w){return ri.apply(this,arguments)}(this,_)}reload(){return function Wi(w){return Tn.apply(this,arguments)}(this)}_assign(_){this!==_&&(_e(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(b=>Object.assign({},b)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const b=new Ki(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(_){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,b=!1){var T=this;return(0,s.Z)(function*(){let $=!1;_.idToken&&_.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(_),$=!0),b&&(yield bi(T)),yield T.auth._persistUserIfCurrent(T),$&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var _=this;return(0,s.Z)(function*(){const b=yield _.getIdToken();return yield pt(_,function vi(w,_){return ii.apply(this,arguments)}(_.auth,{idToken:b})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,b){var T,$,re,ve,Me,Ze,st,yt;const Ct=null!==(T=b.displayName)&&void 0!==T?T:void 0,Kn=null!==($=b.email)&&void 0!==$?$:void 0,ps=null!==(re=b.phoneNumber)&&void 0!==re?re:void 0,$u=null!==(ve=b.photoURL)&&void 0!==ve?ve:void 0,Fs=null!==(Me=b.tenantId)&&void 0!==Me?Me:void 0,qu=null!==(Ze=b._redirectEventId)&&void 0!==Ze?Ze:void 0,Pc=null!==(st=b.createdAt)&&void 0!==st?st:void 0,Ig=null!==(yt=b.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:Ip,emailVerified:Tp,isAnonymous:Rc,providerData:Oc,stsTokenManager:Dp}=b;_e(Ip&&Dp,_,"internal-error");const Da=ns.fromJSON(this.name,Dp);_e("string"==typeof Ip,_,"internal-error"),Jn(Ct,_.name),Jn(Kn,_.name),_e("boolean"==typeof Tp,_,"internal-error"),_e("boolean"==typeof Rc,_,"internal-error"),Jn(ps,_.name),Jn($u,_.name),Jn(Fs,_.name),Jn(qu,_.name),Jn(Pc,_.name),Jn(Ig,_.name);const wl=new Ki({uid:Ip,auth:_,email:Kn,emailVerified:Tp,displayName:Ct,isAnonymous:Rc,photoURL:$u,phoneNumber:ps,tenantId:Fs,stsTokenManager:Da,createdAt:Pc,lastLoginAt:Ig});return Oc&&Array.isArray(Oc)&&(wl.providerData=Oc.map(wi=>Object.assign({},wi))),qu&&(wl._redirectEventId=qu),wl}static _fromIdTokenResponse(_,b,T=!1){return(0,s.Z)(function*(){const $=new ns;$.updateFromServerResponse(b);const re=new Ki({uid:b.localId,auth:_,stsTokenManager:$,isAnonymous:T});return yield bi(re),re})()}}const Is=new Map;function si(w){Te(w instanceof Function,"Expected a class definition");let _=Is.get(w);return _?(Te(_ instanceof w,"Instance stored in cache mismatched with class"),_):(_=new w,Is.set(w,_),_)}const Cr=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(b,T){var $=this;return(0,s.Z)(function*(){$.storage[b]=T})()}_get(b){var T=this;return(0,s.Z)(function*(){const $=T.storage[b];return void 0===$?null:$})()}_remove(b){var T=this;return(0,s.Z)(function*(){delete T.storage[b]})()}_addListener(b,T){}_removeListener(b,T){}}return w.type="NONE",w})();function ye(w,_,b){return`firebase:${w}:${_}:${b}`}class ge{constructor(_,b,T){this.persistence=_,this.auth=b,this.userKey=T;const{config:$,name:re}=this.auth;this.fullUserKey=ye(this.userKey,$.apiKey,re),this.fullPersistenceKey=ye("persistence",$.apiKey,re),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,s.Z)(function*(){const b=yield _.persistence._get(_.fullUserKey);return b?Ki._fromJSON(_.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var b=this;return(0,s.Z)(function*(){if(b.persistence===_)return;const T=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=_,T?b.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,b,T="authUser"){return(0,s.Z)(function*(){if(!b.length)return new ge(si(Cr),_,T);const $=(yield Promise.all(b.map(function(){var st=(0,s.Z)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return st.apply(this,arguments)}}()))).filter(st=>st);let re=$[0]||si(Cr);const ve=ye(T,_.config.apiKey,_.name);let Me=null;for(const st of b)try{const yt=yield st._get(ve);if(yt){const Ct=Ki._fromJSON(_,yt);st!==re&&(Me=Ct),re=st;break}}catch{}const Ze=$.filter(st=>st._shouldAllowMigration);return re._shouldAllowMigration&&Ze.length?(re=Ze[0],Me&&(yield re._set(ve,Me.toJSON())),yield Promise.all(b.map(function(){var st=(0,s.Z)(function*(yt){if(yt!==re)try{yield yt._remove(ve)}catch{}});return function(yt){return st.apply(this,arguments)}}())),new ge(re,_,T)):new ge(re,_,T)})()}}function xe(w){const _=w.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Bt(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(He(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(wn(_))return"Blackberry";if(Je(_))return"Webos";if(ke(_))return"Safari";if((_.includes("chrome/")||ot(_))&&!_.includes("edge/"))return"Chrome";if(Zt(_))return"Android";{const T=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function He(w=(0,y.z$)()){return/firefox\//i.test(w)}function ke(w=(0,y.z$)()){const _=w.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function ot(w=(0,y.z$)()){return/crios\//i.test(w)}function Bt(w=(0,y.z$)()){return/iemobile/i.test(w)}function Zt(w=(0,y.z$)()){return/android/i.test(w)}function wn(w=(0,y.z$)()){return/blackberry/i.test(w)}function Je(w=(0,y.z$)()){return/webos/i.test(w)}function xt(w=(0,y.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function On(w=(0,y.z$)()){return xt(w)||Zt(w)||Je(w)||wn(w)||/windows phone/i.test(w)||Bt(w)}function Fe(w,_=[]){let b;switch(w){case"Browser":b=xe((0,y.z$)());break;case"Worker":b=`${xe((0,y.z$)())}-${w}`;break;default:b=w}const T=_.length?_.join(","):"FirebaseCore-web";return`${b}/JsCore/${I.SDK_VERSION}/${T}`}function Ye(){return(Ye=(0,s.Z)(function*(w){return(yield Qe(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Xe(w,_){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)(function*(w,_){return Qe(w,"GET","/v2/recaptchaConfig",ht(w,_))})).apply(this,arguments)}function Kt(w){return void 0!==w&&void 0!==w.getResponse}function pn(w){return void 0!==w&&void 0!==w.enterprise}class Zn{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(b=>"EMAIL_PASSWORD_PROVIDER"===b.provider&&"OFF"!==b.enforcementState)}}function Qi(w){return new Promise((_,b)=>{const T=document.createElement("script");T.setAttribute("src",w),T.onload=_,T.onerror=$=>{const re=he("internal-error");re.customData=$,b(re)},T.type="text/javascript",T.charset="UTF-8",function ln(){var w,_;return null!==(_=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==_?_:document}().appendChild(T)})}function zr(w){return`__${w}${Math.floor(1e6*Math.random())}`}class _n{constructor(_){this.type="recaptcha-enterprise",this.auth=mn(_)}verify(_="verify",b=!1){var T=this;return(0,s.Z)(function*(){function re(){return re=(0,s.Z)(function*(Me){if(!b){if(null==Me.tenantId&&null!=Me._agentRecaptchaConfig)return Me._agentRecaptchaConfig.siteKey;if(null!=Me.tenantId&&void 0!==Me._tenantRecaptchaConfigs[Me.tenantId])return Me._tenantRecaptchaConfigs[Me.tenantId].siteKey}return new Promise(function(){var Ze=(0,s.Z)(function*(st,yt){Xe(Me,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ct=>{if(void 0!==Ct.recaptchaKey){const Kn=new Zn(Ct);return null==Me.tenantId?Me._agentRecaptchaConfig=Kn:Me._tenantRecaptchaConfigs[Me.tenantId]=Kn,st(Kn.siteKey)}yt(new Error("recaptcha Enterprise site key undefined"))}).catch(Ct=>{yt(Ct)})});return function(st,yt){return Ze.apply(this,arguments)}}())}),re.apply(this,arguments)}function ve(Me,Ze,st){const yt=window.grecaptcha;pn(yt)?yt.enterprise.ready(()=>{yt.enterprise.execute(Me,{action:_}).then(Ct=>{Ze(Ct)}).catch(()=>{Ze("NO_RECAPTCHA")})}):st(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Me,Ze)=>{(function $(Me){return re.apply(this,arguments)})(T.auth).then(st=>{if(!b&&pn(window.grecaptcha))ve(st,Me,Ze);else{if(typeof window>"u")return void Ze(new Error("RecaptchaVerifier is only supported in browser"));Qi("https://www.google.com/recaptcha/enterprise.js?render="+st).then(()=>{ve(st,Me,Ze)}).catch(yt=>{Ze(yt)})}}).catch(st=>{Ze(st)})})})()}}function Ts(w,_,b){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,s.Z)(function*(w,_,b,T=!1){const $=new _n(w);let re;try{re=yield $.verify(b)}catch{re=yield $.verify(b,!0)}const ve=Object.assign({},_);return Object.assign(ve,T?{captchaResp:re}:{captchaResponse:re}),Object.assign(ve,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ve,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ve})).apply(this,arguments)}class To{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,b){const T=re=>new Promise((ve,Me)=>{try{ve(_(re))}catch(Ze){Me(Ze)}});T.onAbort=b,this.queue.push(T);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(_){var b=this;return(0,s.Z)(function*(){if(b.auth.currentUser===_)return;const T=[];try{for(const $ of b.queue)yield $(_),$.onAbort&&T.push($.onAbort)}catch($){T.reverse();for(const re of T)try{re()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}class iu{constructor(_,b,T,$){this.app=_,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=T,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new co(this),this.idTokenSubscription=new co(this),this.beforeStateQueue=new To(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(_,b){var T=this;return b&&(this._popupRedirectResolver=si(b)),this._initializationPromise=this.queue((0,s.Z)(function*(){var $,re;if(!T._deleted&&(T.persistenceManager=yield ge.create(T,_),!T._deleted)){if(null!==($=T._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(b),T.lastNotifiedUid=(null===(re=T.currentUser)||void 0===re?void 0:re.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,s.Z)(function*(){if(_._deleted)return;const b=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||b){if(_.currentUser&&b&&_.currentUser.uid===b.uid)return _._currentUser._assign(b),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(b,!0)}})()}initializeCurrentUser(_){var b=this;return(0,s.Z)(function*(){var T;const $=yield b.assertedPersistence.getCurrentUser();let re=$,ve=!1;if(_&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const Me=null===(T=b.redirectUser)||void 0===T?void 0:T._redirectEventId,Ze=re?._redirectEventId,st=yield b.tryRedirectSignIn(_);(!Me||Me===Ze)&&st?.user&&(re=st.user,ve=!0)}if(!re)return b.directlySetCurrentUser(null);if(!re._redirectEventId){if(ve)try{yield b.beforeStateQueue.runMiddleware(re)}catch(Me){re=$,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(Me))}return re?b.reloadAndSetCurrentUserOrClear(re):b.directlySetCurrentUser(null)}return _e(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===re._redirectEventId?b.directlySetCurrentUser(re):b.reloadAndSetCurrentUserOrClear(re)})()}tryRedirectSignIn(_){var b=this;return(0,s.Z)(function*(){let T=null;try{T=yield b._popupRedirectResolver._completeRedirectFn(b,_,!0)}catch{yield b._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(_){var b=this;return(0,s.Z)(function*(){try{yield bi(_)}catch(T){if("auth/network-request-failed"!==T?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Ce(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var _=this;return(0,s.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var b=this;return(0,s.Z)(function*(){const T=_?(0,y.m9)(_):null;return T&&_e(T.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(T&&T._clone(b))})()}_updateCurrentUser(_,b=!1){var T=this;return(0,s.Z)(function*(){if(!T._deleted)return _&&_e(T.tenantId===_.tenantId,T,"tenant-id-mismatch"),b||(yield T.beforeStateQueue.runMiddleware(_)),T.queue((0,s.Z)(function*(){yield T.directlySetCurrentUser(_),T.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,s.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var b=this;return this.queue((0,s.Z)(function*(){yield b.assertedPersistence.setPersistence(si(_))}))}initializeRecaptchaConfig(){var _=this;return(0,s.Z)(function*(){const b=yield Xe(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new Zn(b);null==_.tenantId?_._agentRecaptchaConfig=T:_._tenantRecaptchaConfigs[_.tenantId]=T,T.emailPasswordEnabled&&new _n(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new y.LL("auth","Firebase",_())}onAuthStateChanged(_,b,T){return this.registerStateListener(this.authStateSubscription,_,b,T)}beforeAuthStateChanged(_,b){return this.beforeStateQueue.pushCallback(_,b)}onIdTokenChanged(_,b,T){return this.registerStateListener(this.idTokenSubscription,_,b,T)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,b){var T=this;return(0,s.Z)(function*(){const $=yield T.getOrInitRedirectPersistenceManager(b);return null===_?$.removeCurrentUser():$.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var b=this;return(0,s.Z)(function*(){if(!b.redirectPersistenceManager){const T=_&&si(_)||b._popupRedirectResolver;_e(T,b,"argument-error"),b.redirectPersistenceManager=yield ge.create(b,[si(T._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(_){var b=this;return(0,s.Z)(function*(){var T,$;return b._isInitialized&&(yield b.queue((0,s.Z)(function*(){}))),(null===(T=b._currentUser)||void 0===T?void 0:T._redirectEventId)===_?b._currentUser:(null===($=b.redirectUser)||void 0===$?void 0:$._redirectEventId)===_?b.redirectUser:null})()}_persistUserIfCurrent(_){var b=this;return(0,s.Z)(function*(){if(_===b.currentUser)return b.queue((0,s.Z)(function*(){return b.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(b=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,b,T,$){if(this._deleted)return()=>{};const re="function"==typeof b?b:b.next.bind(b),ve=this._isInitialized?Promise.resolve():this._initializationPromise;return _e(ve,this,"internal-error"),ve.then(()=>re(this.currentUser)),"function"==typeof b?_.addObserver(b,T,$):_.addObserver(b)}directlySetCurrentUser(_){var b=this;return(0,s.Z)(function*(){b.currentUser&&b.currentUser!==_&&b._currentUser._stopProactiveRefresh(),_&&b.isProactiveRefreshEnabled&&_._startProactiveRefresh(),b.currentUser=_,_?yield b.assertedPersistence.setCurrentUser(_):yield b.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Fe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,s.Z)(function*(){var b;const T={"X-Client-Version":_.clientVersion};_.app.options.appId&&(T["X-Firebase-gmpid"]=_.app.options.appId);const $=yield null===(b=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();$&&(T["X-Firebase-Client"]=$);const re=yield _._getAppCheckToken();return re&&(T["X-Firebase-AppCheck"]=re),T})()}_getAppCheckToken(){var _=this;return(0,s.Z)(function*(){var b;const T=yield null===(b=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return T?.error&&function te(w,..._){ee.logLevel<=k.in.WARN&&ee.warn(`Auth (${I.SDK_VERSION}): ${w}`,..._)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function mn(w){return(0,y.m9)(w)}class co{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,y.ne)(b=>this.observer=b)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ai(w){const _=w.indexOf(":");return _<0?"":w.substr(0,_+1)}function uo(w){if(!w)return null;const _=Number(w);return isNaN(_)?null:_}class zs{constructor(_,b){this.providerId=_,this.signInMethod=b}toJSON(){return $e("not implemented")}_getIdTokenResponse(_){return $e("not implemented")}_linkToIdToken(_,b){return $e("not implemented")}_getReauthenticationResolver(_){return $e("not implemented")}}function rs(w,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,s.Z)(function*(w,_){return Qe(w,"POST","/v1/accounts:resetPassword",ht(w,_))})).apply(this,arguments)}function Vd(w,_){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,s.Z)(function*(w,_){return Qe(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ru(w,_){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,s.Z)(function*(w,_){return Qe(w,"POST","/v1/accounts:update",ht(w,_))})).apply(this,arguments)}function Un(w,_){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,s.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:signInWithPassword",ht(w,_))})).apply(this,arguments)}function su(w,_){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,s.Z)(function*(w,_){return Qe(w,"POST","/v1/accounts:sendOobCode",ht(w,_))})).apply(this,arguments)}function Of(w,_){return ou.apply(this,arguments)}function ou(){return(ou=(0,s.Z)(function*(w,_){return su(w,_)})).apply(this,arguments)}function Ul(w,_){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,s.Z)(function*(w,_){return su(w,_)})).apply(this,arguments)}function jd(w,_){return jl.apply(this,arguments)}function jl(){return(jl=(0,s.Z)(function*(w,_){return su(w,_)})).apply(this,arguments)}function ig(w,_){return au.apply(this,arguments)}function au(){return(au=(0,s.Z)(function*(w,_){return su(w,_)})).apply(this,arguments)}function lu(){return(lu=(0,s.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:signInWithEmailLink",ht(w,_))})).apply(this,arguments)}function Nf(){return(Nf=(0,s.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:signInWithEmailLink",ht(w,_))})).apply(this,arguments)}class cu extends zs{constructor(_,b,T,$=null){super("password",T),this._email=_,this._password=b,this._tenantId=$}static _fromEmailAndPassword(_,b){return new cu(_,b,"password")}static _fromEmailAndCode(_,b,T=null){return new cu(_,b,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(_){var b=this;return(0,s.Z)(function*(){var T;switch(b.signInMethod){case"password":const $={returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=_._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const re=yield Ts(_,$,"signInWithPassword");return Un(_,re)}return Un(_,$).catch(function(){var re=(0,s.Z)(function*(ve){if("auth/missing-recaptcha-token"===ve.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Me=yield Ts(_,$,"signInWithPassword");return Un(_,Me)}return Promise.reject(ve)});return function(ve){return re.apply(this,arguments)}}());case"emailLink":return function zd(w,_){return lu.apply(this,arguments)}(_,{email:b._email,oobCode:b._password});default:ae(_,"internal-error")}})()}_linkToIdToken(_,b){var T=this;return(0,s.Z)(function*(){switch(T.signInMethod){case"password":return Vd(_,{idToken:b,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function Gd(w,_){return Nf.apply(this,arguments)}(_,{idToken:b,email:T._email,oobCode:T._password});default:ae(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function ss(w,_){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,s.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:signInWithIdp",ht(w,_))})).apply(this,arguments)}class Gr extends zs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const b=new Gr(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(b.idToken=_.idToken),_.accessToken&&(b.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(b.nonce=_.nonce),_.pendingToken&&(b.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(b.accessToken=_.oauthToken,b.secret=_.oauthTokenSecret):ae("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:T,signInMethod:$}=b,re=(0,M._T)(b,["providerId","signInMethod"]);if(!T||!$)return null;const ve=new Gr(T,$);return ve.idToken=re.idToken||void 0,ve.accessToken=re.accessToken||void 0,ve.secret=re.secret,ve.nonce=re.nonce,ve.pendingToken=re.pendingToken||null,ve}_getIdTokenResponse(_){return ss(_,this.buildRequest())}_linkToIdToken(_,b){const T=this.buildRequest();return T.idToken=b,ss(_,T)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,ss(_,b)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),_.postBody=(0,y.xO)(b)}return _}}function $d(w,_){return Za.apply(this,arguments)}function Za(){return(Za=(0,s.Z)(function*(w,_){return Qe(w,"POST","/v1/accounts:sendVerificationCode",ht(w,_))})).apply(this,arguments)}function zl(){return(zl=(0,s.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:signInWithPhoneNumber",ht(w,_))})).apply(this,arguments)}function oi(){return(oi=(0,s.Z)(function*(w,_){const b=yield Jt(w,"POST","/v1/accounts:signInWithPhoneNumber",ht(w,_));if(b.temporaryProof)throw Bn(w,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const Gl={USER_NOT_FOUND:"user-not-found"};function Vi(){return(Vi=(0,s.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:signInWithPhoneNumber",ht(w,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Gl)})).apply(this,arguments)}class dr extends zs{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,b){return new dr({verificationId:_,verificationCode:b})}static _fromTokenResponse(_,b){return new dr({phoneNumber:_,temporaryProof:b})}_getIdTokenResponse(_){return function uu(w,_){return zl.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,b){return function Bf(w,_){return oi.apply(this,arguments)}(_,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Vf(w,_){return Vi.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:b,verificationId:T,verificationCode:$}=this.params;return _&&b?{temporaryProof:_,phoneNumber:b}:{sessionInfo:T,code:$}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:b,verificationCode:T,phoneNumber:$,temporaryProof:re}=_;return T||b||$||re?new dr({verificationId:b,verificationCode:T,phoneNumber:$,temporaryProof:re}):null}}class ql{constructor(_){var b,T,$,re,ve,Me;const Ze=(0,y.zd)((0,y.pd)(_)),st=null!==(b=Ze.apiKey)&&void 0!==b?b:null,yt=null!==(T=Ze.oobCode)&&void 0!==T?T:null,Ct=function Hf(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=Ze.mode)&&void 0!==$?$:null);_e(st&&yt&&Ct,"argument-error"),this.apiKey=st,this.operation=Ct,this.code=yt,this.continueUrl=null!==(re=Ze.continueUrl)&&void 0!==re?re:null,this.languageCode=null!==(ve=Ze.languageCode)&&void 0!==ve?ve:null,this.tenantId=null!==(Me=Ze.tenantId)&&void 0!==Me?Me:null}static parseLink(_){const b=function $l(w){const _=(0,y.zd)((0,y.pd)(w)).link,b=_?(0,y.zd)((0,y.pd)(_)).deep_link_id:null,T=(0,y.zd)((0,y.pd)(w)).deep_link_id;return(T?(0,y.zd)((0,y.pd)(T)).link:null)||T||b||_||w}(_);try{return new ql(b)}catch{return null}}}let ai=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(b,T){return cu._fromEmailAndPassword(b,T)}static credentialWithLink(b,T){const $=ql.parseLink(T);return _e($,"argument-error"),cu._fromEmailAndCode(b,$.code,$.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class $s{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Wl extends $s{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class $r extends Wl{static credentialFromJSON(_){const b="string"==typeof _?JSON.parse(_):_;return _e("providerId"in b&&"signInMethod"in b,"argument-error"),Gr._fromParams(b)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return _e(_.idToken||_.accessToken,"argument-error"),Gr._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return $r.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return $r.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:b,oauthAccessToken:T,oauthTokenSecret:$,pendingToken:re,nonce:ve,providerId:Me}=_;if(!T&&!$&&!b&&!re||!Me)return null;try{return new $r(Me)._credential({idToken:b,accessToken:T,nonce:ve,pendingToken:re})}catch{return null}}}let wr=(()=>{class w extends Wl{constructor(){super("facebook.com")}static credential(b){return Gr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return w.credentialFromTaggedObject(b)}static credentialFromError(b){return w.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return w.credential(b.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),du=(()=>{class w extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(b,T){return Gr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:T})}static credentialFromResult(b){return w.credentialFromTaggedObject(b)}static credentialFromError(b){return w.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:T,oauthAccessToken:$}=b;if(!T&&!$)return null;try{return w.credential(T,$)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Zl=(()=>{class w extends Wl{constructor(){super("github.com")}static credential(b){return Gr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return w.credentialFromTaggedObject(b)}static credentialFromError(b){return w.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return w.credential(b.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class li extends zs{constructor(_,b){super(_,_),this.pendingToken=b}_getIdTokenResponse(_){return ss(_,this.buildRequest())}_linkToIdToken(_,b){const T=this.buildRequest();return T.idToken=b,ss(_,T)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,ss(_,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:T,signInMethod:$,pendingToken:re}=b;return T&&$&&re&&T===$?new li(T,re):null}static _create(_,b){return new li(_,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Do extends $s{constructor(_){_e(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Do.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Do.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const b=li.fromJSON(_);return _e(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:b,providerId:T}=_;if(!b||!T)return null;try{return li._create(T,b)}catch{return null}}}let hu=(()=>{class w extends Wl{constructor(){super("twitter.com")}static credential(b,T){return Gr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:T})}static credentialFromResult(b){return w.credentialFromTaggedObject(b)}static credentialFromError(b){return w.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:T,oauthTokenSecret:$}=b;if(!T||!$)return null;try{return w.credential(T,$)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Rr(w,_){return ho.apply(this,arguments)}function ho(){return(ho=(0,s.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:signUp",ht(w,_))})).apply(this,arguments)}class Xi{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,b,T,$=!1){return(0,s.Z)(function*(){const re=yield Ki._fromIdTokenResponse(_,T,$),ve=Vt(T);return new Xi({user:re,providerId:ve,_tokenResponse:T,operationType:b})})()}static _forOperation(_,b,T){return(0,s.Z)(function*(){yield _._updateTokensIfNecessary(T,!0);const $=Vt(T);return new Xi({user:_,providerId:$,_tokenResponse:T,operationType:b})})()}}function Vt(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Wd(){return(Wd=(0,s.Z)(function*(w){var _;const b=mn(w);if(yield b._initializationPromise,null!==(_=b.currentUser)&&void 0!==_&&_.isAnonymous)return new Xi({user:b.currentUser,providerId:null,operationType:"signIn"});const T=yield Rr(b,{returnSecureToken:!0}),$=yield Xi._fromIdTokenResponse(b,"signIn",T,!0);return yield b._updateCurrentUser($.user),$})).apply(this,arguments)}class Ka extends y.ZR{constructor(_,b,T,$){var re;super(b.code,b.message),this.operationType=T,this.user=$,Object.setPrototypeOf(this,Ka.prototype),this.customData={appName:_.name,tenantId:null!==(re=_.tenantId)&&void 0!==re?re:void 0,_serverResponse:b.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(_,b,T,$){return new Ka(_,b,T,$)}}function Zd(w,_,b,T){return("reauthenticate"===_?b._getReauthenticationResolver(w):b._getIdTokenResponse(w)).catch(re=>{throw"auth/multi-factor-auth-required"===re.code?Ka._fromErrorAndOperation(w,re,_,T):re})}function Kd(w){return new Set(w.map(({providerId:_})=>_).filter(_=>!!_))}function os(){return(os=(0,s.Z)(function*(w,_){const b=(0,y.m9)(w);yield nn(!0,b,_);const{providerUserInfo:T}=yield $i(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[_]}),$=Kd(T||[]);return b.providerData=b.providerData.filter(re=>$.has(re.providerId)),$.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function Kl(w,_){return qe.apply(this,arguments)}function qe(){return(qe=(0,s.Z)(function*(w,_,b=!1){const T=yield pt(w,_._linkToIdToken(w.auth,yield w.getIdToken()),b);return Xi._forOperation(w,"link",T)})).apply(this,arguments)}function nn(w,_,b){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,s.Z)(function*(w,_,b){yield bi(_);const $=!1===w?"provider-already-linked":"no-such-provider";_e(Kd(_.providerData).has(b)===w,_.auth,$)})).apply(this,arguments)}function fu(w,_){return ei.apply(this,arguments)}function ei(){return(ei=(0,s.Z)(function*(w,_,b=!1){const{auth:T}=w,$="reauthenticate";try{const re=yield pt(w,Zd(T,$,_,w),b);_e(re.idToken,T,"internal-error");const ve=hn(re.idToken);_e(ve,T,"internal-error");const{sub:Me}=ve;return _e(w.uid===Me,T,"user-mismatch"),Xi._forOperation(w,$,re)}catch(re){throw"auth/user-not-found"===re?.code&&ae(T,"user-mismatch"),re}})).apply(this,arguments)}function Ql(w,_){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,s.Z)(function*(w,_,b=!1){const T="signIn",$=yield Zd(w,T,_),re=yield Xi._fromIdTokenResponse(w,T,$);return b||(yield w._updateCurrentUser(re.user)),re})).apply(this,arguments)}function Or(w,_){return ca.apply(this,arguments)}function ca(){return(ca=(0,s.Z)(function*(w,_){return Ql(mn(w),_)})).apply(this,arguments)}function pu(w,_){return mu.apply(this,arguments)}function mu(){return(mu=(0,s.Z)(function*(w,_){const b=(0,y.m9)(w);return yield nn(!1,b,_.providerId),Kl(b,_)})).apply(this,arguments)}function ti(w,_){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,s.Z)(function*(w,_){return fu((0,y.m9)(w),_)})).apply(this,arguments)}function jf(w,_){return hr.apply(this,arguments)}function hr(){return(hr=(0,s.Z)(function*(w,_){return Jt(w,"POST","/v1/accounts:signInWithCustomToken",ht(w,_))})).apply(this,arguments)}function as(){return(as=(0,s.Z)(function*(w,_){const b=mn(w),T=yield jf(b,{token:_,returnSecureToken:!0}),$=yield Xi._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser($.user),$})).apply(this,arguments)}class qs{constructor(_,b){this.factorId=_,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(_,b){return"phoneInfo"in b?Nr._fromServerResponse(_,b):"totpInfo"in b?Qd._fromServerResponse(_,b):ae(_,"internal-error")}}class Nr extends qs{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,b){return new Nr(b)}}class Qd extends qs{constructor(_){super("totp",_)}static _fromServerResponse(_,b){return new Qd(b)}}function Ao(w,_,b){var T;_e((null===(T=b.url)||void 0===T?void 0:T.length)>0,w,"invalid-continue-uri"),_e(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),_.continueUrl=b.url,_.dynamicLinkDomain=b.dynamicLinkDomain,_.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(_e(b.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),_.iOSBundleId=b.iOS.bundleId),b.android&&(_e(b.android.packageName.length>0,w,"missing-android-pkg-name"),_.androidInstallApp=b.android.installApp,_.androidMinimumVersionCode=b.android.minimumVersion,_.androidPackageName=b.android.packageName)}function ua(){return ua=(0,s.Z)(function*(w,_,b){var T;const $=mn(w),re={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=$._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ve=yield Ts($,re,"getOobCode",!0);b&&Ao($,ve,b),yield Ul($,ve)}else b&&Ao($,re,b),yield Ul($,re).catch(function(){var ve=(0,s.Z)(function*(Me){if("auth/missing-recaptcha-token"!==Me.code)return Promise.reject(Me);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ze=yield Ts($,re,"getOobCode",!0);b&&Ao($,Ze,b),yield Ul($,Ze)}});return function(Me){return ve.apply(this,arguments)}}())}),ua.apply(this,arguments)}function Ya(){return(Ya=(0,s.Z)(function*(w,_,b){yield rs((0,y.m9)(w),{oobCode:_,newPassword:b})})).apply(this,arguments)}function fr(){return(fr=(0,s.Z)(function*(w,_){yield ru((0,y.m9)(w),{oobCode:_})})).apply(this,arguments)}function _u(w,_){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,s.Z)(function*(w,_){const b=(0,y.m9)(w),T=yield rs(b,{oobCode:_}),$=T.requestType;switch(_e($,b,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_e(T.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_e(T.mfaInfo,b,"internal-error");default:_e(T.email,b,"internal-error")}let re=null;return T.mfaInfo&&(re=qs._fromServerResponse(mn(b),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:re},operation:$}})).apply(this,arguments)}function ko(){return(ko=(0,s.Z)(function*(w,_){const{data:b}=yield _u((0,y.m9)(w),_);return b.email})).apply(this,arguments)}function Ja(){return Ja=(0,s.Z)(function*(w,_,b){var T;const $=mn(w),re={returnSecureToken:!0,email:_,password:b,clientType:"CLIENT_TYPE_WEB"};let ve;if(null!==(T=$._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const st=yield Ts($,re,"signUpPassword");ve=Rr($,st)}else ve=Rr($,re).catch(function(){var st=(0,s.Z)(function*(yt){if("auth/missing-recaptcha-token"===yt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ct=yield Ts($,re,"signUpPassword");return Rr($,Ct)}return Promise.reject(yt)});return function(yt){return st.apply(this,arguments)}}());const Me=yield ve.catch(st=>Promise.reject(st)),Ze=yield Xi._fromIdTokenResponse($,"signIn",Me);return yield $._updateCurrentUser(Ze.user),Ze}),Ja.apply(this,arguments)}function Jl(){return Jl=(0,s.Z)(function*(w,_,b){var T;const $=mn(w),re={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function ve(Me,Ze){_e(Ze.handleCodeInApp,$,"argument-error"),Ze&&Ao($,Me,Ze)}if(null!==(T=$._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Me=yield Ts($,re,"getOobCode",!0);ve(Me,b),yield jd($,Me)}else ve(re,b),yield jd($,re).catch(function(){var Me=(0,s.Z)(function*(Ze){if("auth/missing-recaptcha-token"!==Ze.code)return Promise.reject(Ze);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const st=yield Ts($,re,"getOobCode",!0);ve(st,b),yield jd($,st)}});return function(Ze){return Me.apply(this,arguments)}}())}),Jl.apply(this,arguments)}function Ws(){return(Ws=(0,s.Z)(function*(w,_,b){const T=(0,y.m9)(w),$=ai.credentialWithLink(_,b||pe());return _e($._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Or(T,$)})).apply(this,arguments)}function Gn(w,_){return vu.apply(this,arguments)}function vu(){return(vu=(0,s.Z)(function*(w,_){return Qe(w,"POST","/v1/accounts:createAuthUri",ht(w,_))})).apply(this,arguments)}function ec(){return(ec=(0,s.Z)(function*(w,_){const T={identifier:_,continueUri:le()?pe():"http://localhost"},{signinMethods:$}=yield Gn((0,y.m9)(w),T);return $||[]})).apply(this,arguments)}function tc(){return(tc=(0,s.Z)(function*(w,_){const b=(0,y.m9)(w),$={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};_&&Ao(b.auth,$,_);const{email:re}=yield Of(b.auth,$);re!==w.email&&(yield w.reload())})).apply(this,arguments)}function Po(){return(Po=(0,s.Z)(function*(w,_,b){const T=(0,y.m9)(w),re={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:_};b&&Ao(T.auth,re,b);const{email:ve}=yield ig(T.auth,re);ve!==w.email&&(yield w.reload())})).apply(this,arguments)}function el(w,_){return ha.apply(this,arguments)}function ha(){return(ha=(0,s.Z)(function*(w,_){return Qe(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function tl(){return(tl=(0,s.Z)(function*(w,{displayName:_,photoURL:b}){if(void 0===_&&void 0===b)return;const T=(0,y.m9)(w),re={idToken:yield T.getIdToken(),displayName:_,photoUrl:b,returnSecureToken:!0},ve=yield pt(T,el(T.auth,re));T.displayName=ve.displayName||null,T.photoURL=ve.photoUrl||null;const Me=T.providerData.find(({providerId:Ze})=>"password"===Ze);Me&&(Me.displayName=T.displayName,Me.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ve)})).apply(this,arguments)}function nl(w,_,b){return nc.apply(this,arguments)}function nc(){return(nc=(0,s.Z)(function*(w,_,b){const{auth:T}=w,re={idToken:yield w.getIdToken(),returnSecureToken:!0};_&&(re.email=_),b&&(re.password=b);const ve=yield pt(w,Vd(T,re));yield w._updateTokensIfNecessary(ve,!0)})).apply(this,arguments)}class ls{constructor(_,b,T={}){this.isNewUser=_,this.providerId=b,this.profile=T}}class Cu extends ls{constructor(_,b,T,$){super(_,b,T),this.username=$}}class nh extends ls{constructor(_,b){super(_,"facebook.com",b)}}class $f extends Cu{constructor(_,b){super(_,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class Eu extends ls{constructor(_,b){super(_,"google.com",b)}}class ic extends Cu{constructor(_,b,T){super(_,"twitter.com",b,T)}}function rc(w){const{user:_,_tokenResponse:b}=w;return _.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function Gf(w){var _,b;if(!w)return null;const{providerId:T}=w,$=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},re=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!T&&w?.idToken){const ve=null===(b=null===(_=hn(w.idToken))||void 0===_?void 0:_.firebase)||void 0===b?void 0:b.sign_in_provider;if(ve)return new ls(re,"anonymous"!==ve&&"custom"!==ve?ve:null)}if(!T)return null;switch(T){case"facebook.com":return new nh(re,$);case"github.com":return new $f(re,$);case"google.com":return new Eu(re,$);case"twitter.com":return new ic(re,$,w.screenName||null);case"custom":case"anonymous":return new ls(re,null);default:return new ls(re,T,$)}}(b)}class Ro{constructor(_,b,T){this.type=_,this.credential=b,this.auth=T}static _fromIdtoken(_,b){return new Ro("enroll",_,b)}static _fromMfaPendingCredential(_){return new Ro("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var b,T;if(_?.multiFactorSession){if(null!==(b=_.multiFactorSession)&&void 0!==b&&b.pendingCredential)return Ro._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(T=_.multiFactorSession)&&void 0!==T&&T.idToken)return Ro._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Ms{constructor(_,b,T){this.session=_,this.hints=b,this.signInResolver=T}static _fromError(_,b){const T=mn(_),$=b.customData._serverResponse,re=($.mfaInfo||[]).map(Me=>qs._fromServerResponse(T,Me));_e($.mfaPendingCredential,T,"internal-error");const ve=Ro._fromMfaPendingCredential($.mfaPendingCredential);return new Ms(ve,re,function(){var Me=(0,s.Z)(function*(Ze){const st=yield Ze._process(T,ve);delete $.mfaInfo,delete $.mfaPendingCredential;const yt=Object.assign(Object.assign({},$),{idToken:st.idToken,refreshToken:st.refreshToken});switch(b.operationType){case"signIn":const Ct=yield Xi._fromIdTokenResponse(T,b.operationType,yt);return yield T._updateCurrentUser(Ct.user),Ct;case"reauthenticate":return _e(b.user,T,"internal-error"),Xi._forOperation(b.user,b.operationType,yt);default:ae(T,"internal-error")}});return function(Ze){return Me.apply(this,arguments)}}())}resolveSignIn(_){var b=this;return(0,s.Z)(function*(){return b.signInResolver(_)})()}}function sl(w,_){return Qe(w,"POST","/v2/accounts/mfaEnrollment:start",ht(w,_))}class Oo{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(T=>qs._fromServerResponse(_.auth,T)))})}static _fromUser(_){return new Oo(_)}getSession(){var _=this;return(0,s.Z)(function*(){return Ro._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,b){var T=this;return(0,s.Z)(function*(){const $=_,re=yield T.getSession(),ve=yield pt(T.user,$._process(T.user.auth,re,b));return yield T.user._updateTokensIfNecessary(ve),T.user.reload()})()}unenroll(_){var b=this;return(0,s.Z)(function*(){const T="string"==typeof _?_:_.uid,$=yield b.user.getIdToken();try{const re=yield pt(b.user,function Su(w,_){return Qe(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ht(w,_))}(b.user.auth,{idToken:$,mfaEnrollmentId:T}));b.enrolledFactors=b.enrolledFactors.filter(({uid:ve})=>ve!==T),yield b.user._updateTokensIfNecessary(re),yield b.user.reload()}catch(re){throw re}})()}}const Fo=new WeakMap,No="__sak";class ac{constructor(_,b){this.storageRetriever=_,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(No,"1"),this.storage.removeItem(No),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,b){return this.storage.setItem(_,JSON.stringify(b)),Promise.resolve()}_get(_){const b=this.storage.getItem(_);return Promise.resolve(b?JSON.parse(b):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const As=(()=>{class w extends ac{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,T)=>this.onStorageEvent(b,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Zf(){const w=(0,y.z$)();return ke(w)||xt(w)}()&&function is(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=On(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const T of Object.keys(this.listeners)){const $=this.storage.getItem(T),re=this.localCache[T];$!==re&&b(T,re,$)}}onStorageEvent(b,T=!1){if(!b.key)return void this.forAllChangedKeys((Me,Ze,st)=>{this.notifyListeners(Me,st)});const $=b.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Me=this.storage.getItem($);if(b.newValue!==Me)null!==b.newValue?this.storage.setItem($,b.newValue):this.storage.removeItem($);else if(this.localCache[$]===b.newValue&&!T)return}const re=()=>{const Me=this.storage.getItem($);!T&&this.localCache[$]===Me||this.notifyListeners($,Me)},ve=this.storage.getItem($);!function Yi(){return(0,y.w1)()&&10===document.documentMode}()||ve===b.newValue||b.newValue===b.oldValue?re():setTimeout(re,10)}notifyListeners(b,T){this.localCache[b]=T;const $=this.listeners[b];if($)for(const re of Array.from($))re(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,T,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:T,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(T)}_removeListener(b,T){this.listeners[b]&&(this.listeners[b].delete(T),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,T){var $=()=>super._set,re=this;return(0,s.Z)(function*(){yield $().call(re,b,T),re.localCache[b]=JSON.stringify(T)})()}_get(b){var T=()=>super._get,$=this;return(0,s.Z)(function*(){const re=yield T().call($,b);return $.localCache[b]=JSON.stringify(re),re})()}_remove(b){var T=()=>super._remove,$=this;return(0,s.Z)(function*(){yield T().call($,b),delete $.localCache[b]})()}}return w.type="LOCAL",w})(),Lo=(()=>{class w extends ac{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,T){}_removeListener(b,T){}}return w.type="SESSION",w})();let lc=(()=>{class w{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const T=this.receivers.find(re=>re.isListeningto(b));if(T)return T;const $=new w(b);return this.receivers.push($),$}isListeningto(b){return this.eventTarget===b}handleEvent(b){var T=this;return(0,s.Z)(function*(){const $=b,{eventId:re,eventType:ve,data:Me}=$.data,Ze=T.handlersMap[ve];if(!Ze?.size)return;$.ports[0].postMessage({status:"ack",eventId:re,eventType:ve});const st=Array.from(Ze).map(function(){var Ct=(0,s.Z)(function*(Kn){return Kn($.origin,Me)});return function(Kn){return Ct.apply(this,arguments)}}()),yt=yield function Kf(w){return Promise.all(w.map(function(){var _=(0,s.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(T){return{fulfilled:!1,reason:T}}});return function(b){return _.apply(this,arguments)}}()))}(st);$.ports[0].postMessage({status:"done",eventId:re,eventType:ve,response:yt})})()}_subscribe(b,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(T)}_unsubscribe(b,T){this.handlersMap[b]&&T&&this.handlersMap[b].delete(T),(!T||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function ks(w="",_=10){let b="";for(let T=0;T<_;T++)b+=Math.floor(10*Math.random());return w+b}class lg{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,b,T=50){var $=this;return(0,s.Z)(function*(){const re=typeof MessageChannel<"u"?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let ve,Me;return new Promise((Ze,st)=>{const yt=ks("",20);re.port1.start();const Ct=setTimeout(()=>{st(new Error("unsupported_event"))},T);Me={messageChannel:re,onMessage(Kn){const ps=Kn;if(ps.data.eventId===yt)switch(ps.data.status){case"ack":clearTimeout(Ct),ve=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(ve),Ze(ps.data.response);break;default:clearTimeout(Ct),clearTimeout(ve),st(new Error("invalid_response"))}}},$.handlers.add(Me),re.port1.addEventListener("message",Me.onMessage),$.target.postMessage({eventType:_,eventId:yt,data:b},[re.port2])}).finally(()=>{Me&&$.removeMessageHandler(Me)})})()}}function $n(){return window}function ll(){return typeof $n().WorkerGlobalScope<"u"&&"function"==typeof $n().importScripts}function cc(){return(cc=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Bo="firebaseLocalStorageDb",_a="firebaseLocalStorage",Qs="fbase_key";class uc{constructor(_){this.request=_}toPromise(){return new Promise((_,b)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function cl(w,_){return w.transaction([_a],_?"readwrite":"readonly").objectStore(_a)}function Tu(){const w=indexedDB.open(Bo,1);return new Promise((_,b)=>{w.addEventListener("error",()=>{b(w.error)}),w.addEventListener("upgradeneeded",()=>{const T=w.result;try{T.createObjectStore(_a,{keyPath:Qs})}catch($){b($)}}),w.addEventListener("success",(0,s.Z)(function*(){const T=w.result;T.objectStoreNames.contains(_a)?_(T):(T.close(),yield function Dn(){const w=indexedDB.deleteDatabase(Bo);return new uc(w).toPromise()}(),_(yield Tu()))}))})}function dc(w,_,b){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,s.Z)(function*(w,_,b){const T=cl(w,!0).put({[Qs]:_,value:b});return new uc(T).toPromise()})).apply(this,arguments)}function Xf(){return(Xf=(0,s.Z)(function*(w,_){const b=cl(w,!1).get(_),T=yield new uc(b).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Jf(w,_){const b=cl(w,!0).delete(_);return new uc(b).toPromise()}const hc=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,s.Z)(function*(){return b.db||(b.db=yield Tu()),b.db})()}_withRetries(b){var T=this;return(0,s.Z)(function*(){let $=0;for(;;)try{const re=yield T._openDb();return yield b(re)}catch(re){if($++>3)throw re;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,s.Z)(function*(){return ll()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,s.Z)(function*(){b.receiver=lc._getInstance(function ni(){return ll()?self:null}()),b.receiver._subscribe("keyChanged",function(){var T=(0,s.Z)(function*($,re){return{keyProcessed:(yield b._poll()).includes(re.key)}});return function($,re){return T.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var T=(0,s.Z)(function*($,re){return["keyChanged"]});return function($,re){return T.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,s.Z)(function*(){var T,$;if(b.activeServiceWorker=yield function Yf(){return cc.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new lg(b.activeServiceWorker);const re=yield b.sender._send("ping",{},800);!re||(null===(T=re[0])||void 0===T?void 0:T.fulfilled)&&(null===($=re[0])||void 0===$?void 0:$.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var T=this;return(0,s.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Ys(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:b},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const b=yield Tu();return yield dc(b,No,"1"),yield Jf(b,No),!0}catch{}return!1})()}_withPendingWrite(b){var T=this;return(0,s.Z)(function*(){T.pendingWrites++;try{yield b()}finally{T.pendingWrites--}})()}_set(b,T){var $=this;return(0,s.Z)(function*(){return $._withPendingWrite((0,s.Z)(function*(){return yield $._withRetries(re=>dc(re,b,T)),$.localCache[b]=T,$.notifyServiceWorker(b)}))})()}_get(b){var T=this;return(0,s.Z)(function*(){const $=yield T._withRetries(re=>function rh(w,_){return Xf.apply(this,arguments)}(re,b));return T.localCache[b]=$,$})()}_remove(b){var T=this;return(0,s.Z)(function*(){return T._withPendingWrite((0,s.Z)(function*(){return yield T._withRetries($=>Jf($,b)),delete T.localCache[b],T.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,s.Z)(function*(){const T=yield b._withRetries(ve=>{const Me=cl(ve,!1).getAll();return new uc(Me).toPromise()});if(!T)return[];if(0!==b.pendingWrites)return[];const $=[],re=new Set;for(const{fbase_key:ve,value:Me}of T)re.add(ve),JSON.stringify(b.localCache[ve])!==JSON.stringify(Me)&&(b.notifyListeners(ve,Me),$.push(ve));for(const ve of Object.keys(b.localCache))b.localCache[ve]&&!re.has(ve)&&(b.notifyListeners(ve,null),$.push(ve));return $})()}notifyListeners(b,T){this.localCache[b]=T;const $=this.listeners[b];if($)for(const re of Array.from($))re(T)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(T)}_removeListener(b,T){this.listeners[b]&&(this.listeners[b].delete(T),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Ci(w,_){return Qe(w,"POST","/v2/accounts/mfaSignIn:start",ht(w,_))}const pi=1e12;class cs{constructor(_){this.auth=_,this.counter=pi,this._widgets=new Map}render(_,b){const T=this.counter;return this._widgets.set(T,new Du(_,this.auth.name,b||{})),this.counter++,T}reset(_){var b;const T=_||pi;null===(b=this._widgets.get(T))||void 0===b||b.delete(),this._widgets.delete(T)}getResponse(_){var b;return(null===(b=this._widgets.get(_||pi))||void 0===b?void 0:b.getResponse())||""}execute(_){var b=this;return(0,s.Z)(function*(){var T;return null===(T=b._widgets.get(_||pi))||void 0===T||T.execute(),""})()}}class Du{constructor(_,b,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof _?document.getElementById(_):_;_e($,"argument-error",{appName:b}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mu(w){const _=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<w;T++)_.push(b.charAt(Math.floor(Math.random()*b.length)));return _.join("")}(50);const{callback:_,"expired-callback":b}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ya=zr("rcb"),oh=new me(3e4,6e4);class cg{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=$n().grecaptcha)||void 0===_||!_.render)}load(_,b=""){return _e(function np(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(b),_,"argument-error"),this.shouldResolveImmediately(b)&&Kt($n().grecaptcha)?Promise.resolve($n().grecaptcha):new Promise((T,$)=>{const re=$n().setTimeout(()=>{$(he(_,"network-request-failed"))},oh.get());$n()[ya]=()=>{$n().clearTimeout(re),delete $n()[ya];const Me=$n().grecaptcha;if(!Me||!Kt(Me))return void $(he(_,"internal-error"));const Ze=Me.render;Me.render=(st,yt)=>{const Ct=Ze(st,yt);return this.counter++,Ct},this.hostLanguage=b,T(Me)},Qi(`https://www.google.com/recaptcha/api.js??${(0,y.xO)({onload:ya,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(re),$(he(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var b;return!(null===(b=$n().grecaptcha)||void 0===b||!b.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ky{load(_){return(0,s.Z)(function*(){return new cs(_)})()}clearedOneInstance(){}}const pc="recaptcha",Lr={theme:"light",type:"image"};class mc{constructor(_,b=Object.assign({},Lr),T){this.parameters=b,this.type=pc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mn(T),this.isInvisible="invisible"===this.parameters.size,_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof _?document.getElementById(_):_;_e($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ky:new cg,this.validateStartingState()}verify(){var _=this;return(0,s.Z)(function*(){_.assertNotDestroyed();const b=yield _.render(),T=_.getAssertedRecaptcha();return T.getResponse(b)||new Promise(re=>{const ve=Me=>{!Me||(_.tokenChangeListeners.delete(ve),re(Me))};_.tokenChangeListeners.add(ve),_.isInvisible&&T.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){_e(!this.parameters.sitekey,this.auth,"argument-error"),_e(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_e(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return b=>{if(this.tokenChangeListeners.forEach(T=>T(b)),"function"==typeof _)_(b);else if("string"==typeof _){const T=$n()[_];"function"==typeof T&&T(b)}}}assertNotDestroyed(){_e(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,s.Z)(function*(){if(yield _.init(),!_.widgetId){let b=_.container;if(!_.isInvisible){const T=document.createElement("div");b.appendChild(T),b=T}_.widgetId=_.getAssertedRecaptcha().render(b,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,s.Z)(function*(){_e(le()&&!ll(),_.auth,"internal-error"),yield function dl(){let w=null;return new Promise(_=>{"complete"!==document.readyState?(w=()=>_(),window.addEventListener("load",w)):_()}).catch(_=>{throw w&&window.removeEventListener("load",w),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const b=yield function Oe(w){return Ye.apply(this,arguments)}(_.auth);_e(b,_.auth,"internal-error"),_.parameters.sitekey=b})()}getAssertedRecaptcha(){return _e(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Au{constructor(_,b){this.verificationId=_,this.onConfirmation=b}confirm(_){const b=dr._fromVerification(this.verificationId,_);return this.onConfirmation(b)}}function gc(){return(gc=(0,s.Z)(function*(w,_,b){const T=mn(w),$=yield _c(T,_,(0,y.m9)(b));return new Au($,re=>Or(T,re))})).apply(this,arguments)}function Vo(){return(Vo=(0,s.Z)(function*(w,_,b){const T=(0,y.m9)(w);yield nn(!1,T,"phone");const $=yield _c(T.auth,_,(0,y.m9)(b));return new Au($,re=>pu(T,re))})).apply(this,arguments)}function hl(){return(hl=(0,s.Z)(function*(w,_,b){const T=(0,y.m9)(w),$=yield _c(T.auth,_,(0,y.m9)(b));return new Au($,re=>ti(T,re))})).apply(this,arguments)}function _c(w,_,b){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,s.Z)(function*(w,_,b){var T;const $=yield b.verify();try{let re;if(_e("string"==typeof $,w,"argument-error"),_e(b.type===pc,w,"argument-error"),re="string"==typeof _?{phoneNumber:_}:_,"session"in re){const ve=re.session;if("phoneNumber"in re)return _e("enroll"===ve.type,w,"internal-error"),(yield sl(w,{idToken:ve.credential,phoneEnrollmentInfo:{phoneNumber:re.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{_e("signin"===ve.type,w,"internal-error");const Me=(null===(T=re.multiFactorHint)||void 0===T?void 0:T.uid)||re.multiFactorUid;return _e(Me,w,"missing-multi-factor-info"),(yield Ci(w,{mfaPendingCredential:ve.credential,mfaEnrollmentId:Me,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ve}=yield $d(w,{phoneNumber:re.phoneNumber,recaptchaToken:$});return ve}}finally{b._reset()}})).apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(w,_){yield Kl((0,y.m9)(w),_)})).apply(this,arguments)}let _t=(()=>{class w{constructor(b){this.providerId=w.PROVIDER_ID,this.auth=mn(b)}verifyPhoneNumber(b,T){return _c(this.auth,b,(0,y.m9)(T))}static credential(b,T){return dr._fromVerification(b,T)}static credentialFromResult(b){return w.credentialFromTaggedObject(b)}static credentialFromError(b){return w.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:T,temporaryProof:$}=b;return T&&$?dr._fromTokenResponse(T,$):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function mi(w,_){return _?si(_):(_e(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class pr extends zs{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return ss(_,this._buildIdpRequest())}_linkToIdToken(_,b){return ss(_,this._buildIdpRequest(b))}_getReauthenticationResolver(_){return ss(_,this._buildIdpRequest())}_buildIdpRequest(_){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(b.idToken=_),b}}function va(w){return Ql(w.auth,new pr(w),w.bypassAuthState)}function ki(w){const{auth:_,user:b}=w;return _e(b,_,"internal-error"),fu(b,new pr(w),w.bypassAuthState)}function yc(w){return fl.apply(this,arguments)}function fl(){return(fl=(0,s.Z)(function*(w){const{auth:_,user:b}=w;return _e(b,_,"internal-error"),Kl(b,new pr(w),w.bypassAuthState)})).apply(this,arguments)}class Ho{constructor(_,b,T,$,re=!1){this.auth=_,this.resolver=T,this.user=$,this.bypassAuthState=re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var _=this;return new Promise(function(){var b=(0,s.Z)(function*(T,$){_.pendingPromise={resolve:T,reject:$};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(re){_.reject(re)}});return function(T,$){return b.apply(this,arguments)}}())}onAuthEvent(_){var b=this;return(0,s.Z)(function*(){const{urlResponse:T,sessionId:$,postBody:re,tenantId:ve,error:Me,type:Ze}=_;if(Me)return void b.reject(Me);const st={auth:b.auth,requestUri:T,sessionId:$,tenantId:ve||void 0,postBody:re||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(Ze)(st))}catch(yt){b.reject(yt)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return va;case"linkViaPopup":case"linkViaRedirect":return yc;case"reauthViaPopup":case"reauthViaRedirect":return ki;default:ae(this.auth,"internal-error")}}resolve(_){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mr=new me(2e3,1e4);function ci(){return(ci=(0,s.Z)(function*(w,_,b){const T=mn(w);De(w,_,$s);const $=mi(T,b);return new pl(T,"signInViaPopup",_,$).executeNotNull()})).apply(this,arguments)}function Et(){return(Et=(0,s.Z)(function*(w,_,b){const T=(0,y.m9)(w);De(T.auth,_,$s);const $=mi(T.auth,b);return new pl(T.auth,"reauthViaPopup",_,$,T).executeNotNull()})).apply(this,arguments)}function Uo(){return(Uo=(0,s.Z)(function*(w,_,b){const T=(0,y.m9)(w);De(T.auth,_,$s);const $=mi(T.auth,b);return new pl(T.auth,"linkViaPopup",_,$,T).executeNotNull()})).apply(this,arguments)}let pl=(()=>{class w extends Ho{constructor(b,T,$,re,ve){super(b,T,re,ve),this.provider=$,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var b=this;return(0,s.Z)(function*(){const T=yield b.execute();return _e(T,b.auth,"internal-error"),T})()}onExecution(){var b=this;return(0,s.Z)(function*(){Te(1===b.filter.length,"Popup operations only handle one event");const T=ks();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],T),b.authWindow.associatedEvent=T,b.resolver._originValidation(b.auth).catch($=>{b.reject($)}),b.resolver._isIframeWebStorageSupported(b.auth,$=>{$||b.reject(he(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(he(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const b=()=>{var T,$;this.pollId=null!==($=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==$&&$.closed?window.setTimeout(()=>{this.pollId=null,this.reject(he(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(b,mr.get())};b()}}return w.currentPopupAction=null,w})();const jn=new Map;class ch extends Ho{constructor(_,b,T=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,T),this.eventId=null}execute(){var _=()=>super.execute,b=this;return(0,s.Z)(function*(){let T=jn.get(b.auth._key());if(!T){try{const re=(yield function Xs(w,_){return Pu.apply(this,arguments)}(b.resolver,b.auth))?yield _().call(b):null;T=()=>Promise.resolve(re)}catch($){T=()=>Promise.reject($)}jn.set(b.auth._key(),T)}return b.bypassAuthState||jn.set(b.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(_){var b=()=>super.onAuthEvent,T=this;return(0,s.Z)(function*(){if("signInViaRedirect"===_.type)return b().call(T,_);if("unknown"!==_.type){if(_.eventId){const $=yield T.auth._redirectUserForId(_.eventId);if($)return T.user=$,b().call(T,_);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Pu(){return(Pu=(0,s.Z)(function*(w,_){const b=Ea(_),T=ds(w);if(!(yield T._isAvailable()))return!1;const $="true"===(yield T._get(b));return yield T._remove(b),$})).apply(this,arguments)}function jo(w,_){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,s.Z)(function*(w,_){return ds(w)._set(Ea(_),"true")})).apply(this,arguments)}function Ps(w,_){jn.set(w._key(),_)}function ds(w){return si(w._redirectPersistence)}function Ea(w){return ye("pendingRedirect",w.config.apiKey,w.name)}function Br(){return(Br=(0,s.Z)(function*(w,_,b){const T=mn(w);De(w,_,$s),yield T._initializationPromise;const $=mi(T,b);return yield jo($,T),$._openRedirect(T,_,"signInViaRedirect")})).apply(this,arguments)}function gi(){return(gi=(0,s.Z)(function*(w,_,b){const T=(0,y.m9)(w);De(T.auth,_,$s),yield T.auth._initializationPromise;const $=mi(T.auth,b);yield jo($,T.auth);const re=yield fo(T);return $._openRedirect(T.auth,_,"reauthViaRedirect",re)})).apply(this,arguments)}function _i(){return(_i=(0,s.Z)(function*(w,_,b){const T=(0,y.m9)(w);De(T.auth,_,$s),yield T.auth._initializationPromise;const $=mi(T.auth,b);yield nn(!1,T,_.providerId),yield jo($,T.auth);const re=yield fo(T);return $._openRedirect(T.auth,_,"linkViaRedirect",re)})).apply(this,arguments)}function xr(){return(xr=(0,s.Z)(function*(w,_){return yield mn(w)._initializationPromise,ui(w,_,!1)})).apply(this,arguments)}function ui(w,_){return di.apply(this,arguments)}function di(){return(di=(0,s.Z)(function*(w,_,b=!1){const T=mn(w),$=mi(T,_),ve=yield new ch(T,$,b).execute();return ve&&!b&&(delete ve.user._redirectEventId,yield T._persistUserIfCurrent(ve.user),yield T._setRedirectUser(null,_)),ve})).apply(this,arguments)}function fo(w){return wa.apply(this,arguments)}function wa(){return(wa=(0,s.Z)(function*(w){const _=ks(`${w.uid}:::`);return w._redirectEventId=_,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),_})).apply(this,arguments)}class Sr{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let b=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(_,T)&&(b=!0,this.sendToConsumer(_,T),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Ir(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qn(w);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=_,b=!0)),b}sendToConsumer(_,b){var T;if(_.error&&!qn(_)){const $=(null===(T=_.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";b.onError(he(this.auth,$))}else b.onAuthEvent(_)}isEventForConsumer(_,b){const T=null===b.eventId||!!_.eventId&&_.eventId===b.eventId;return b.filter.includes(_.type)&&T}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kr(_))}saveEventToCache(_){this.cachedEventUids.add(Kr(_)),this.lastProcessedEventTime=Date.now()}}function Kr(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(_=>_).join("-")}function qn({type:w,error:_}){return"unknown"===w&&"auth/no-auth-event"===_?.code}function op(w){return po.apply(this,arguments)}function po(){return(po=(0,s.Z)(function*(w,_={}){return Qe(w,"GET","/v1/projects",_)})).apply(this,arguments)}const ap=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lp=/^https?/;function zo(){return(zo=(0,s.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:_}=yield op(w);for(const b of _)try{if(ml(b))return}catch{}ae(w,"unauthorized-domain")})).apply(this,arguments)}function ml(w){const _=pe(),{protocol:b,hostname:T}=new URL(_);if(w.startsWith("chrome-extension://")){const ve=new URL(w);return""===ve.hostname&&""===T?"chrome-extension:"===b&&w.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===b&&ve.hostname===T}if(!lp.test(b))return!1;if(ap.test(w))return T===w;const $=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(T)}const sn=new me(3e4,6e4);function gl(){const w=$n().___jsl;if(w?.H)for(const _ of Object.keys(w.H))if(w.H[_].r=w.H[_].r||[],w.H[_].L=w.H[_].L||[],w.H[_].r=[...w.H[_].L],w.CP)for(let b=0;b<w.CP.length;b++)w.CP[b]=null}let Js=null;function mo(w){return Js=Js||function xa(w){return new Promise((_,b)=>{var T,$,re;function ve(){gl(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{gl(),b(he(w,"network-request-failed"))},timeout:sn.get()})}if(null!==($=null===(T=$n().gapi)||void 0===T?void 0:T.iframes)&&void 0!==$&&$.Iframe)_(gapi.iframes.getContext());else{if(null===(re=$n().gapi)||void 0===re||!re.load){const Me=zr("iframefcb");return $n()[Me]=()=>{gapi.load?ve():b(he(w,"network-request-failed"))},Qi(`https://apis.google.com/js/api.js?onload=${Me}`).catch(Ze=>b(Ze))}ve()}}).catch(_=>{throw Js=null,_})}(w),Js}const dh=new me(5e3,15e3),Ou={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Py(w){const _=w.config;_e(_.authDomain,w,"auth-domain-config-required");const b=_.emulator?Ne(_,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,T={apiKey:_.apiKey,appName:w.name,v:I.SDK_VERSION},$=hs.get(w.config.apiHost);$&&(T.eid=$);const re=w._getFrameworks();return re.length&&(T.fw=re.join(",")),`${b}?${(0,y.xO)(T).slice(1)}`}function N(){return N=(0,s.Z)(function*(w){const _=yield mo(w),b=$n().gapi;return _e(b,w,"internal-error"),_.open({where:document.body,url:Py(w),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ou,dontclear:!0},T=>new Promise(function(){var $=(0,s.Z)(function*(re,ve){yield T.restyle({setHideOnLeave:!1});const Me=he(w,"network-request-failed"),Ze=$n().setTimeout(()=>{ve(Me)},dh.get());function st(){$n().clearTimeout(Ze),re(T)}T.ping(st).then(st,()=>{ve(Me)})});return function(re,ve){return $.apply(this,arguments)}}()))}),N.apply(this,arguments)}const J={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class at{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const tr=encodeURIComponent("fac");function Fn(w,_,b,T,$,re){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,s.Z)(function*(w,_,b,T,$,re){_e(w.config.authDomain,w,"auth-domain-config-required"),_e(w.config.apiKey,w,"invalid-api-key");const ve={apiKey:w.config.apiKey,appName:w.name,authType:b,redirectUrl:T,v:I.SDK_VERSION,eventId:$};if(_ instanceof $s){_.setDefaultLanguage(w.languageCode),ve.providerId=_.providerId||"",(0,y.xb)(_.getCustomParameters())||(ve.customParameters=JSON.stringify(_.getCustomParameters()));for(const[yt,Ct]of Object.entries(re||{}))ve[yt]=Ct}if(_ instanceof Wl){const yt=_.getScopes().filter(Ct=>""!==Ct);yt.length>0&&(ve.scopes=yt.join(","))}w.tenantId&&(ve.tid=w.tenantId);const Me=ve;for(const yt of Object.keys(Me))void 0===Me[yt]&&delete Me[yt];const Ze=yield w._getAppCheckToken(),st=Ze?`#${tr}=${encodeURIComponent(Ze)}`:"";return`${fs(w)}?${(0,y.xO)(Me).slice(1)}${st}`})).apply(this,arguments)}function fs({config:w}){return w.emulator?Ne(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}const go="webStorageSupport";class Fu extends class xc{constructor(_){this.factorId=_}_process(_,b,T){switch(b.type){case"enroll":return this._finalizeEnroll(_,b.credential,T);case"signin":return this._finalizeSignIn(_,b.credential);default:return $e("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Fu(_)}_finalizeEnroll(_,b,T){return function qr(w,_){return Qe(w,"POST","/v2/accounts/mfaEnrollment:finalize",ht(w,_))}(_,{idToken:b,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,b){return function fc(w,_){return Qe(w,"POST","/v2/accounts/mfaSignIn:finalize",ht(w,_))}(_,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let dg=(()=>{class w{constructor(){}static assertion(b){return Fu._fromCredential(b)}}return w.FACTOR_ID="phone",w})();var hh="@firebase/auth";class fh{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var b=this;return(0,s.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const b=this.auth.onIdTokenChanged(T=>{_(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,b),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const b=this.internalListeners.get(_);!b||(this.internalListeners.delete(_),b(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ia(){return window}function Lu(){return(Lu=(0,s.Z)(function*(w,_,b){var T;const{BuildInfo:$}=Ia();Te(_.sessionId,"AuthEvent did not contain a session ID");const re=yield Oy(_.sessionId),ve={};return xt()?ve.ibi=$.packageName:Zt()?ve.apn=$.packageName:ae(w,"operation-not-supported-in-this-environment"),$.displayName&&(ve.appDisplayName=$.displayName),ve.sessionId=re,Fn(w,b,_.type,void 0,null!==(T=_.eventId)&&void 0!==T?T:void 0,ve)})).apply(this,arguments)}function Dc(){return(Dc=(0,s.Z)(function*(w){const{BuildInfo:_}=Ia(),b={};xt()?b.iosBundleId=_.packageName:Zt()?b.androidPackageName=_.packageName:ae(w,"operation-not-supported-in-this-environment"),yield op(w,b)})).apply(this,arguments)}function Bu(){return(Bu=(0,s.Z)(function*(w,_,b){const{cordova:T}=Ia();let $=()=>{};try{yield new Promise((re,ve)=>{let Me=null;function Ze(){var Ct;re();const Kn=null===(Ct=T.plugins.browsertab)||void 0===Ct?void 0:Ct.close;"function"==typeof Kn&&Kn(),"function"==typeof b?.close&&b.close()}function st(){Me||(Me=window.setTimeout(()=>{ve(he(w,"redirect-cancelled-by-user"))},2e3))}function yt(){"visible"===document?.visibilityState&&st()}_.addPassiveListener(Ze),document.addEventListener("resume",st,!1),Zt()&&document.addEventListener("visibilitychange",yt,!1),$=()=>{_.removePassiveListener(Ze),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",yt,!1),Me&&window.clearTimeout(Me)}})}finally{$()}})).apply(this,arguments)}function Oy(w){return fp.apply(this,arguments)}function fp(){return(fp=(0,s.Z)(function*(w){const _=Fy(w),b=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(b)).map($=>$.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Fy(w){if(Te(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const _=new ArrayBuffer(w.length),b=new Uint8Array(_);for(let T=0;T<w.length;T++)b[T]=w.charCodeAt(T);return b}(0,y.Pz)("authIdTokenMaxAge"),function hg(w){(0,I._registerComponent)(new F.wA("auth",(_,{options:b})=>{const T=_.getProvider("app").getImmediate(),$=_.getProvider("heartbeat"),re=_.getProvider("app-check-internal"),{apiKey:ve,authDomain:Me}=T.options;_e(ve&&!ve.includes(":"),"invalid-api-key",{appName:T.name}),_e(!Me?.includes(":"),"argument-error",{appName:T.name});const Ze={apiKey:ve,authDomain:Me,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fe(w)},st=new iu(T,$,re,Ze);return function xn(w,_){const b=_?.persistence||[],T=(Array.isArray(b)?b:[b]).map(si);_?.errorMap&&w._updateErrorMap(_.errorMap),w._initializeWithPersistence(T,_?.popupRedirectResolver)}(st,b),st},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,b,T)=>{_.getProvider("auth-internal").initialize()})),(0,I._registerComponent)(new F.wA("auth-internal",_=>{const b=mn(_.getProvider("auth").getImmediate());return new fh(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,I.registerVersion)(hh,"0.23.1",function dp(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,I.registerVersion)(hh,"0.23.1","esm2017")}("Browser");class vl extends Sr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(b=>b(_)),super.onEvent(_)}initialized(){var _=this;return(0,s.Z)(function*(){yield _.initPromise})()}}function pp(w){return gh.apply(this,arguments)}function gh(){return(gh=(0,s.Z)(function*(w){const _=yield Go()._get(Vu(w));return _&&(yield Go()._remove(Vu(w))),_})).apply(this,arguments)}function mg(){const w=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<20;b++){const T=Math.floor(Math.random()*_.length);w.push(_.charAt(T))}return w.join("")}function Go(){return si(As)}function Vu(w){return ye("authEvent",w.config.apiKey,w.name)}function El(w){if(!w?.includes("?"))return{};const[_,...b]=w.split("?");return(0,y.zd)(b.join("?"))}function yh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:he("no-auth-event")}}function no(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function bh(w=(0,y.z$)()){return!("file:"!==no()&&"ionic:"!==no()&&"capacitor:"!==no()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cp(){try{const w=self.localStorage,_=ks();if(w)return w.setItem(_,"1"),w.removeItem(_),!function Ny(w=(0,y.z$)()){return function bp(){return(0,y.w1)()&&11===document?.documentMode}()||function Hu(w=(0,y.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,y.hl)()}catch{return Ep()&&(0,y.hl)()}return!1}function Ep(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function wp(){return(function yp(){return"http:"===no()||"https:"===no()}()||(0,y.ru)()||bh())&&!function vp(){return(0,y.b$)()||(0,y.UG)()}()&&Cp()&&!Ep()}function xp(){return bh()&&typeof document<"u"}function Ac(){return(Ac=(0,s.Z)(function*(){return!!xp()&&new Promise(w=>{const _=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),w(!0)})})})).apply(this,arguments)}const Ui={LOCAL:"local",NONE:"none",SESSION:"session"},kc=_e,Eh="persistence";function io(w){return yo.apply(this,arguments)}function yo(){return(yo=(0,s.Z)(function*(w){yield w._initializationPromise;const _=wh(),b=ye(Eh,w.config.apiKey,w.name);_&&_.setItem(b,w._getPersistence())})).apply(this,arguments)}function wh(){var w;try{return(null===(w=function Ch(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}const xh=_e;class ji{constructor(){this.browserResolver=si(class Hi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lo,this._completeRedirectFn=ui,this._overrideRedirectResult=Ps}_openPopup(_,b,T,$){var re=this;return(0,s.Z)(function*(){var ve;Te(null===(ve=re.eventManagers[_._key()])||void 0===ve?void 0:ve.manager,"_initialize() not called before _openPopup()");const Me=yield Fn(_,b,T,pe(),$);return function rt(w,_,b,T=500,$=600){const re=Math.max((window.screen.availHeight-$)/2,0).toString(),ve=Math.max((window.screen.availWidth-T)/2,0).toString();let Me="";const Ze=Object.assign(Object.assign({},J),{width:T.toString(),height:$.toString(),top:re,left:ve}),st=(0,y.z$)().toLowerCase();b&&(Me=ot(st)?"_blank":b),He(st)&&(_=_||"http://localhost",Ze.scrollbars="yes");const yt=Object.entries(Ze).reduce((Kn,[ps,$u])=>`${Kn}${ps}=${$u},`,"");if(function Rn(w=(0,y.z$)()){var _;return xt(w)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(st)&&"_self"!==Me)return function St(w,_){const b=document.createElement("a");b.href=w,b.target=_;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(T)}(_||"",Me),new at(null);const Ct=window.open(_||"",Me,yt);_e(Ct,w,"popup-blocked");try{Ct.focus()}catch{}return new at(Ct)}(_,Me,ks())})()}_openRedirect(_,b,T,$){var re=this;return(0,s.Z)(function*(){return yield re._originValidation(_),function Iu(w){$n().location.href=w}(yield Fn(_,b,T,pe(),$)),new Promise(()=>{})})()}_initialize(_){const b=_._key();if(this.eventManagers[b]){const{manager:$,promise:re}=this.eventManagers[b];return $?Promise.resolve($):(Te(re,"If manager is not set, promise should be"),re)}const T=this.initAndGetManager(_);return this.eventManagers[b]={promise:T},T.catch(()=>{delete this.eventManagers[b]}),T}initAndGetManager(_){var b=this;return(0,s.Z)(function*(){const T=yield function D(w){return N.apply(this,arguments)}(_),$=new Sr(_);return T.register("authEvent",re=>(_e(re?.authEvent,_,"invalid-auth-event"),{status:$.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[_._key()]={manager:$},b.iframes[_._key()]=T,$})()}_isIframeWebStorageSupported(_,b){this.iframes[_._key()].send(go,{type:go},$=>{var re;const ve=null===(re=$?.[0])||void 0===re?void 0:re[go];void 0!==ve&&b(!!ve),ae(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const b=_._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Ru(w){return zo.apply(this,arguments)}(_)),this.originValidationPromises[b]}get _shouldInitProactively(){return On()||ke()||xt()}}),this.cordovaResolver=si(class gp{constructor(){this._redirectPersistence=Lo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ui,this._overrideRedirectResult=Ps}_initialize(_){var b=this;return(0,s.Z)(function*(){const T=_._key();let $=b.eventManagers.get(T);return $||($=new vl(_),b.eventManagers.set(T,$),b.attachCallbackListeners(_,$)),$})()}_openPopup(_){ae(_,"operation-not-supported-in-this-environment")}_openRedirect(_,b,T,$){var re=this;return(0,s.Z)(function*(){!function gC(w){var _,b,T,$,re,ve,Me,Ze,st,yt;const Ct=Ia();_e("function"==typeof(null===(_=Ct?.universalLinks)||void 0===_?void 0:_.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),_e(typeof(null===(b=Ct?.BuildInfo)||void 0===b?void 0:b.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),_e("function"==typeof(null===(re=null===($=null===(T=Ct?.cordova)||void 0===T?void 0:T.plugins)||void 0===$?void 0:$.browsertab)||void 0===re?void 0:re.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_e("function"==typeof(null===(Ze=null===(Me=null===(ve=Ct?.cordova)||void 0===ve?void 0:ve.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===Ze?void 0:Ze.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_e("function"==typeof(null===(yt=null===(st=Ct?.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===yt?void 0:yt.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const ve=yield re._initialize(_);yield ve.initialized(),ve.resetRedirect(),function rp(){jn.clear()}(),yield re._originValidation(_);const Me=function bl(w,_,b=null){return{type:_,eventId:b,urlResponse:null,sessionId:mg(),postBody:null,tenantId:w.tenantId,error:he(w,"no-auth-event")}}(_,T,$);yield function mh(w,_){return Go()._set(Vu(w),_)}(_,Me);const Ze=yield function Tc(w,_,b){return Lu.apply(this,arguments)}(_,Me,b),st=yield function hp(w){const{cordova:_}=Ia();return new Promise(b=>{_.plugins.browsertab.isAvailable(T=>{let $=null;T?_.plugins.browsertab.openUrl(w):$=_.InAppBrowser.open(w,function At(w=(0,y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),b($)})})}(Ze);return function yl(w,_,b){return Bu.apply(this,arguments)}(_,ve,st)})()}_isIframeWebStorageSupported(_,b){throw new Error("Method not implemented.")}_originValidation(_){const b=_._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function ph(w){return Dc.apply(this,arguments)}(_)),this.originValidationPromises[b]}attachCallbackListeners(_,b){const{universalLinks:T,handleOpenURL:$,BuildInfo:re}=Ia(),ve=setTimeout((0,s.Z)(function*(){yield pp(_),b.onEvent(yh())}),500),Me=function(){var yt=(0,s.Z)(function*(Ct){clearTimeout(ve);const Kn=yield pp(_);let ps=null;Kn&&Ct?.url&&(ps=function Cl(w,_){var b,T;const $=function mp(w){const _=El(w),b=_.link?decodeURIComponent(_.link):void 0,T=El(b).link,$=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return El($).link||$||T||b||w}(_);if($.includes("/__/auth/callback")){const re=El($),ve=re.firebaseError?function gg(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(re.firebaseError)):null,Me=null===(T=null===(b=ve?.code)||void 0===b?void 0:b.split("auth/"))||void 0===T?void 0:T[1],Ze=Me?he(Me):null;return Ze?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:Ze,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:$,postBody:null}}return null}(Kn,Ct.url)),b.onEvent(ps||yh())});return function(Kn){return yt.apply(this,arguments)}}();typeof T<"u"&&"function"==typeof T.subscribe&&T.subscribe(null,Me);const Ze=$,st=`${re.packageName.toLowerCase()}://`;Ia().handleOpenURL=function(){var yt=(0,s.Z)(function*(Ct){if(Ct.toLowerCase().startsWith(st)&&Me({url:Ct}),"function"==typeof Ze)try{Ze(Ct)}catch(Kn){console.error(Kn)}});return function(Ct){return yt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Lo,this._completeRedirectFn=ui,this._overrideRedirectResult=Ps}_initialize(_){var b=this;return(0,s.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,b,T,$){var re=this;return(0,s.Z)(function*(){return yield re.selectUnderlyingResolver(),re.assertedUnderlyingResolver._openPopup(_,b,T,$)})()}_openRedirect(_,b,T,$){var re=this;return(0,s.Z)(function*(){return yield re.selectUnderlyingResolver(),re.assertedUnderlyingResolver._openRedirect(_,b,T,$)})()}_isIframeWebStorageSupported(_,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,b)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return xp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return xh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,s.Z)(function*(){if(_.underlyingResolver)return;const b=yield function Sp(){return Ac.apply(this,arguments)}();_.underlyingResolver=b?_.cordovaResolver:_.browserResolver})()}}function Sh(w){return w.unwrap()}function Uu(w){return Ih(w)}function Ih(w){const{_tokenResponse:_}=w instanceof y.ZR?w.customData:w;if(!_)return null;if(!(w instanceof y.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return _t.credentialFromResult(w);const b=_.providerId;if(!b||"password"===b)return null;let T;switch(b){case"google.com":T=du;break;case"facebook.com":T=wr;break;case"github.com":T=Zl;break;case"twitter.com":T=hu;break;default:const{oauthIdToken:$,oauthAccessToken:re,oauthTokenSecret:ve,pendingToken:Me,nonce:Ze}=_;return re||ve||$||Me?Me?b.startsWith("saml.")?li._create(b,Me):Gr._fromParams({providerId:b,signInMethod:b,pendingToken:Me,idToken:$,accessToken:re}):new $r(b).credential({idToken:$,accessToken:re,rawNonce:Ze}):null}return w instanceof y.ZR?T.credentialFromError(w):T.credentialFromResult(w)}function Vr(w,_){return _.catch(b=>{throw b instanceof y.ZR&&function Ta(w,_){var b;const T=null===(b=_.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===_?.code)_.resolver=new Ly(w,function oc(w,_){var b;const T=(0,y.m9)(w),$=_;return _e(_.customData.operationType,T,"argument-error"),_e(null===(b=$.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,T,"argument-error"),Ms._fromError(T,$)}(w,_));else if(T){const $=Ih(_),re=_;$&&(re.credential=$,re.tenantId=T.tenantId||void 0,re.email=T.email||void 0,re.phoneNumber=T.phoneNumber||void 0)}}(w,b),b}).then(b=>{const $=b.user;return{operationType:b.operationType,credential:Uu(b),additionalUserInfo:rc(b),user:Ei.getOrCreate($)}})}function ju(w,_){return zu.apply(this,arguments)}function zu(){return(zu=(0,s.Z)(function*(w,_){const b=yield _;return{verificationId:b.verificationId,confirm:T=>Vr(w,b.confirm(T))}})).apply(this,arguments)}class Ly{constructor(_,b){this.resolver=b,this.auth=function bg(w){return w.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return Vr(Sh(this.auth),this.resolver.resolveSignIn(_))}}class Ei{constructor(_){this._delegate=_,this.multiFactor=function ol(w){const _=(0,y.m9)(w);return Fo.has(_)||Fo.set(_,Oo._fromUser(_)),Fo.get(_)}(_)}static getOrCreate(_){return Ei.USER_MAP.has(_)||Ei.USER_MAP.set(_,new Ei(_)),Ei.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var b=this;return(0,s.Z)(function*(){return Vr(b.auth,pu(b._delegate,_))})()}linkWithPhoneNumber(_,b){var T=this;return(0,s.Z)(function*(){return ju(T.auth,function ug(w,_,b){return Vo.apply(this,arguments)}(T._delegate,_,b))})()}linkWithPopup(_){var b=this;return(0,s.Z)(function*(){return Vr(b.auth,function lh(w,_,b){return Uo.apply(this,arguments)}(b._delegate,_,ji))})()}linkWithRedirect(_){var b=this;return(0,s.Z)(function*(){return yield io(mn(b.auth)),function Cc(w,_,b){return function sp(w,_,b){return _i.apply(this,arguments)}(w,_,b)}(b._delegate,_,ji)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var b=this;return(0,s.Z)(function*(){return Vr(b.auth,ti(b._delegate,_))})()}reauthenticateWithPhoneNumber(_,b){return ju(this.auth,function ku(w,_,b){return hl.apply(this,arguments)}(this._delegate,_,b))}reauthenticateWithPopup(_){return Vr(this.auth,function ba(w,_,b){return Et.apply(this,arguments)}(this._delegate,_,ji))}reauthenticateWithRedirect(_){var b=this;return(0,s.Z)(function*(){return yield io(mn(b.auth)),function Zr(w,_,b){return function er(w,_,b){return gi.apply(this,arguments)}(w,_,b)}(b._delegate,_,ji)})()}sendEmailVerification(_){return function eh(w,_){return tc.apply(this,arguments)}(this._delegate,_)}unlink(_){var b=this;return(0,s.Z)(function*(){return yield function Yd(w,_){return os.apply(this,arguments)}(b._delegate,_),b})()}updateEmail(_){return function zf(w,_){return nl((0,y.m9)(w),_,null)}(this._delegate,_)}updatePassword(_){return function Zs(w,_){return nl((0,y.m9)(w),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function us(w,_){return mt.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function th(w,_){return tl.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,b){return function bu(w,_,b){return Po.apply(this,arguments)}(this._delegate,_,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ei.USER_MAP=new WeakMap;const vo=_e;let Cg=(()=>{class w{constructor(b,T){if(this.app=b,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$}=b.options;vo($,"invalid-api-key",{appName:b.name}),vo($,"invalid-api-key",{appName:b.name});const re=typeof window<"u"?ji:void 0;this._delegate=T.initialize({options:{persistence:Eg($,b.name),popupRedirectResolver:re}}),this._delegate._updateErrorMap(j),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ei.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,T){!function Bd(w,_,b){const T=mn(w);_e(T._canInitEmulator,T,"emulator-config-failed"),_e(/^https?:\/\//.test(_),T,"invalid-emulator-scheme");const $=!!b?.disableWarnings,re=Ai(_),{host:ve,port:Me}=function Er(w){const _=Ai(w),b=/(\/\/)?([^?#/]+)/.exec(w.substr(_.length));if(!b)return{host:"",port:null};const T=b[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(T);if($){const re=$[1];return{host:re,port:uo(T.substr(re.length+1))}}{const[re,ve]=T.split(":");return{host:re,port:uo(ve)}}}(_);T.config.emulator={url:`${re}//${ve}${null===Me?"":`:${Me}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ve,port:Me,protocol:re.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function oa(){function w(){const _=document.createElement("p"),b=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,b,T)}applyActionCode(b){return function Xl(w,_){return fr.apply(this,arguments)}(this._delegate,b)}checkActionCode(b){return _u(this._delegate,b)}confirmPasswordReset(b,T){return function gu(w,_,b){return Ya.apply(this,arguments)}(this._delegate,b,T)}createUserWithEmailAndPassword(b,T){var $=this;return(0,s.Z)(function*(){return Vr($._delegate,function yu(w,_,b){return Ja.apply(this,arguments)}($._delegate,b,T))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return function Jd(w,_){return ec.apply(this,arguments)}(this._delegate,b)}isSignInWithEmailLink(b){return function og(w,_){return"EMAIL_SIGNIN"===ql.parseLink(_)?.operation}(0,b)}getRedirectResult(){var b=this;return(0,s.Z)(function*(){vo(wp(),b._delegate,"operation-not-supported-in-this-environment");const T=yield function Pi(w,_){return xr.apply(this,arguments)}(b._delegate,ji);return T?Vr(b._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function _p(w,_){mn(w)._logFramework(_)}(this._delegate,b)}onAuthStateChanged(b,T,$){const{next:re,error:ve,complete:Me}=Th(b,T,$);return this._delegate.onAuthStateChanged(re,ve,Me)}onIdTokenChanged(b,T,$){const{next:re,error:ve,complete:Me}=Th(b,T,$);return this._delegate.onIdTokenChanged(re,ve,Me)}sendSignInLinkToEmail(b,T){return function da(w,_,b){return Jl.apply(this,arguments)}(this._delegate,b,T)}sendPasswordResetEmail(b,T){return function sg(w,_,b){return ua.apply(this,arguments)}(this._delegate,b,T||void 0)}setPersistence(b){var T=this;return(0,s.Z)(function*(){let $;switch(function yg(w,_){kc(Object.values(Ui).includes(_),w,"invalid-persistence-type"),(0,y.b$)()?kc(_!==Ui.SESSION,w,"unsupported-persistence-type"):(0,y.UG)()?kc(_===Ui.NONE,w,"unsupported-persistence-type"):Ep()?kc(_===Ui.NONE||_===Ui.LOCAL&&(0,y.hl)(),w,"unsupported-persistence-type"):kc(_===Ui.NONE||Cp(),w,"unsupported-persistence-type")}(T._delegate,b),b){case Ui.SESSION:$=Lo;break;case Ui.LOCAL:$=(yield si(hc)._isAvailable())?hc:As;break;case Ui.NONE:$=Cr;break;default:return ae("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence($)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return Vr(this._delegate,function qd(w){return Wd.apply(this,arguments)}(this._delegate))}signInWithCredential(b){return Vr(this._delegate,Or(this._delegate,b))}signInWithCustomToken(b){return Vr(this._delegate,function Fr(w,_){return as.apply(this,arguments)}(this._delegate,b))}signInWithEmailAndPassword(b,T){return Vr(this._delegate,function Xd(w,_,b){return Or((0,y.m9)(w),ai.credential(_,b))}(this._delegate,b,T))}signInWithEmailLink(b,T){return Vr(this._delegate,function yn(w,_,b){return Ws.apply(this,arguments)}(this._delegate,b,T))}signInWithPhoneNumber(b,T){return ju(this._delegate,function ip(w,_,b){return gc.apply(this,arguments)}(this._delegate,b,T))}signInWithPopup(b){var T=this;return(0,s.Z)(function*(){return vo(wp(),T._delegate,"operation-not-supported-in-this-environment"),Vr(T._delegate,function vc(w,_,b){return ci.apply(this,arguments)}(T._delegate,b,ji))})()}signInWithRedirect(b){var T=this;return(0,s.Z)(function*(){return vo(wp(),T._delegate,"operation-not-supported-in-this-environment"),yield io(T._delegate),function uh(w,_,b){return function Rs(w,_,b){return Br.apply(this,arguments)}(w,_,b)}(T._delegate,b,ji)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return function Xa(w,_){return ko.apply(this,arguments)}(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=Ui,w})();function Th(w,_,b){let T=w;"function"!=typeof w&&({next:T,error:_,complete:b}=w);const $=T;return{next:ve=>$(ve&&Ei.getOrCreate(ve)),error:_,complete:b}}function Eg(w,_){const b=function vg(w,_){const b=wh();if(!b)return[];const T=ye(Eh,w,_);switch(b.getItem(T)){case Ui.NONE:return[Cr];case Ui.LOCAL:return[hc,Lo];case Ui.SESSION:return[Lo];default:return[]}}(w,_);if(typeof self<"u"&&!b.includes(hc)&&b.push(hc),typeof window<"u")for(const T of[As,Lo])b.includes(T)||b.push(T);return b.includes(Cr)||b.push(Cr),b}class Dh{constructor(){this.providerId="phone",this._delegate=new _t(Sh(v.Z.auth()))}static credential(_,b){return _t.credential(_,b)}verifyPhoneNumber(_,b){return this._delegate.verifyPhoneNumber(_,b)}unwrap(){return this._delegate}}Dh.PHONE_SIGN_IN_METHOD=_t.PHONE_SIGN_IN_METHOD,Dh.PROVIDER_ID=_t.PROVIDER_ID;const wg=_e;class xg{constructor(_,b,T=v.Z.app()){var $;wg(null===($=T.options)||void 0===$?void 0:$.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new mc(_,b,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Gu(w){w.INTERNAL.registerComponent(new F.wA("auth-compat",_=>{const b=_.getProvider("app-compat").getImmediate(),T=_.getProvider("auth");return new Cg(b,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ai,FacebookAuthProvider:wr,GithubAuthProvider:Zl,GoogleAuthProvider:du,OAuthProvider:$r,SAMLAuthProvider:Do,PhoneAuthProvider:Dh,PhoneMultiFactorGenerator:dg,RecaptchaVerifier:xg,TwitterAuthProvider:hu,Auth:Cg,AuthCredential:zs,Error:y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.4.1")}(v.Z)},5861:(c,h,f)=>{"use strict";function s(y,I,M,k,F,z,Q){try{var R=y[z](Q),H=R.value}catch(U){return void M(U)}R.done?I(H):Promise.resolve(H).then(k,F)}function v(y){return function(){var I=this,M=arguments;return new Promise(function(k,F){var z=y.apply(I,M);function Q(H){s(z,k,F,Q,R,"next",H)}function R(H){s(z,k,F,Q,R,"throw",H)}Q(void 0)})}}f.d(h,{Z:()=>v})}},c=>{c(c.s=4390)}]);