(self.webpackChunkmvp_rorr=self.webpackChunkmvp_rorr||[]).push([[179],{2011:(c,d,f)=>{"use strict";f.d(d,{Dh:()=>j,GT:()=>P,cc:()=>ne,hO:()=>q,on:()=>R,pX:()=>M,xv:()=>Q});var s=f(4650),v=f(9260),_=f(4976);c=f.hmd(c);const I=["ngOnDestroy"],M=(B,ee,te,re={})=>new Proxy(B,{get:(ae,de)=>te.runOutsideAngular(()=>{var Re;if(B[de])return!(null===(Re=re?.spy)||void 0===Re)&&Re.get&&re.spy.get(de,B[de]),B[de];if(I.indexOf(de)>-1)return()=>{};const xe=ee.toPromise().then(Ie=>{const ye=Ie&&Ie[de];return"function"==typeof ye?ye.bind(Ie):ye&&ye.then?ye.then($e=>te.run(()=>$e)):te.run(()=>ye)});return new Proxy(()=>{},{get:(Ie,ye)=>xe[ye],apply:(Ie,ye,$e)=>xe.then(Te=>{var fe;const le=Te&&Te(...$e);return!(null===(fe=re?.spy)||void 0===fe)&&fe.apply&&re.spy.apply(de,$e,le),le})})})}),P=(B,ee)=>{ee.forEach(te=>{Object.getOwnPropertyNames(te.prototype||te).forEach(re=>{Object.defineProperty(B.prototype,re,Object.getOwnPropertyDescriptor(te.prototype||te,re))})})};class O{constructor(ee){return ee}}const j=new s.OlP("angularfire2.app.options"),Q=new s.OlP("angularfire2.app.name");function R(B,ee,te){const ae="object"==typeof te&&te||{};ae.name=ae.name||"string"==typeof te&&te||"[DEFAULT]";const Re=v.Z.apps.filter(xe=>xe&&xe.name===ae.name)[0]||ee.runOutsideAngular(()=>v.Z.initializeApp(B,ae));try{JSON.stringify(B)!==JSON.stringify(Re.options)&&H("error",`${Re.name} Firebase App already initialized with different options${c.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new O(Re)}const H=(B,...ee)=>{(0,s.X6Q)()&&typeof console<"u"&&console[B](...ee)},U={provide:O,useFactory:R,deps:[j,s.R0b,[new s.FiY,Q]]};let q=(()=>{class B{constructor(te){v.Z.registerVersion("angularfire",_.q4.full,"core"),v.Z.registerVersion("angularfire",_.q4.full,"app-compat"),v.Z.registerVersion("angular",s.q4F.full,te.toString())}static initializeApp(te,re){return{ngModule:B,providers:[{provide:j,useValue:te},{provide:Q,useValue:re}]}}}return B.\u0275fac=function(te){return new(te||B)(s.LFG(s.Lbi))},B.\u0275mod=s.oAB({type:B}),B.\u0275inj=s.cJS({providers:[U]}),B})();function ne(B,ee,te,re,ae){const[,de,Re]=globalThis.\u0275AngularfireInstanceCache.find(xe=>xe[0]===B)||[];if(de)return function z(B,ee){try{return B.toString()===ee.toString()}catch{return B===ee}}(ae,Re)||(V("error",`${ee} was already initialized on the ${te} Firebase App with different settings.${G?" You may need to reload as Firebase is not HMR aware.":""}`),V("warn",{is:ae,was:Re})),de;{const xe=re();return globalThis.\u0275AngularfireInstanceCache.push([B,xe,ae]),xe}}const G=!!c.hot,V=(B,...ee)=>{(0,s.X6Q)()&&typeof console<"u"&&console[B](...ee)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(c,d,f)=>{"use strict";f.d(d,{q4:()=>lr,iC:()=>yc,HU:()=>dl,vb:()=>Tu,JM:()=>Jf});var s=f(4650),v=f(259),_=f(5861),I=f(6881),M=f(2090),P=f(4859),O=f(1877);let Q,R;const q=new WeakMap,ne=new WeakMap,z=new WeakMap,G=new WeakMap,V=new WeakMap;let te={get(x,N,J){if(x instanceof IDBTransaction){if("done"===N)return ne.get(x);if("objectStoreNames"===N)return x.objectStoreNames||z.get(x);if("store"===N)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return Re(x[N])},set:(x,N,J)=>(x[N]=J,!0),has:(x,N)=>x instanceof IDBTransaction&&("done"===N||"store"===N)||N in x};function de(x){return"function"==typeof x?function ae(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function U(){return R||(R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...N){return x.apply(xe(this),N),Re(q.get(this))}:function(...N){return Re(x.apply(xe(this),N))}:function(N,...J){const ue=x.call(xe(this),N,...J);return z.set(ue,N.sort?N.sort():[N]),Re(ue)}}(x):(x instanceof IDBTransaction&&function ee(x){if(ne.has(x))return;const N=new Promise((J,ue)=>{const we=()=>{x.removeEventListener("complete",De),x.removeEventListener("error",ze),x.removeEventListener("abort",ze)},De=()=>{J(),we()},ze=()=>{ue(x.error||new DOMException("AbortError","AbortError")),we()};x.addEventListener("complete",De),x.addEventListener("error",ze),x.addEventListener("abort",ze)});ne.set(x,N)}(x),((x,N)=>N.some(J=>x instanceof J))(x,function H(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,te):x)}function Re(x){if(x instanceof IDBRequest)return function B(x){const N=new Promise((J,ue)=>{const we=()=>{x.removeEventListener("success",De),x.removeEventListener("error",ze)},De=()=>{J(Re(x.result)),we()},ze=()=>{ue(x.error),we()};x.addEventListener("success",De),x.addEventListener("error",ze)});return N.then(J=>{J instanceof IDBCursor&&q.set(J,x)}).catch(()=>{}),V.set(N,x),N}(x);if(G.has(x))return G.get(x);const N=de(x);return N!==x&&(G.set(x,N),V.set(N,x)),N}const xe=x=>V.get(x),$e=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],fe=new Map;function le(x,N){if(!(x instanceof IDBDatabase)||N in x||"string"!=typeof N)return;if(fe.get(N))return fe.get(N);const J=N.replace(/FromIndex$/,""),ue=N!==J,we=Te.includes(J);if(!(J in(ue?IDBIndex:IDBObjectStore).prototype)||!we&&!$e.includes(J))return;const De=function(){var ze=(0,_.Z)(function*(at,...it){const It=this.transaction(at,we?"readwrite":"readonly");let Dt=It.store;return ue&&(Dt=Dt.index(it.shift())),(yield Promise.all([Dt[J](...it),we&&It.done]))[0]});return function(it){return ze.apply(this,arguments)}}();return fe.set(N,De),De}!function re(x){te=x(te)}(x=>({...x,get:(N,J,ue)=>le(N,J)||x.get(N,J,ue),has:(N,J)=>!!le(N,J)||x.has(N,J)}));const X="@firebase/installations",pe="w:0.6.4",Ne="FIS_v2",zt=new M.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function jt(x){return x instanceof M.ZR&&x.code.includes("request-failed")}function Ut({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Jt(x){return{token:x.token,requestStatus:2,expiresIn:zr(x.expiresIn),creationTime:Date.now()}}function un(x,N){return lt.apply(this,arguments)}function lt(){return(lt=(0,_.Z)(function*(x,N){const ue=(yield N.json()).error;return zt.create("request-failed",{requestName:x,serverCode:ue.code,serverMessage:ue.message,serverStatus:ue.status})})).apply(this,arguments)}function on({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function On(x,{refreshToken:N}){const J=on(x);return J.append("Authorization",function jr(x){return`${Ne} ${x}`}(N)),J}function mr(x){return tr.apply(this,arguments)}function tr(){return(tr=(0,_.Z)(function*(x){const N=yield x();return N.status>=500&&N.status<600?x():N})).apply(this,arguments)}function zr(x){return Number(x.replace("s","000"))}function ft(x,N){return bn.apply(this,arguments)}function bn(){return(bn=(0,_.Z)(function*({appConfig:x,heartbeatServiceProvider:N},{fid:J}){const ue=Ut(x),we=on(x),De=N.getImmediate({optional:!0});if(De){const It=yield De.getHeartbeatsHeader();It&&we.append("x-firebase-client",It)}const at={method:"POST",headers:we,body:JSON.stringify({fid:J,authVersion:Ne,appId:x.appId,sdkVersion:pe})},it=yield mr(()=>fetch(ue,at));if(it.ok){const It=yield it.json();return{fid:It.fid||J,registrationStatus:2,refreshToken:It.refreshToken,authToken:Jt(It.authToken)}}throw yield un("Create Installation",it)})).apply(this,arguments)}function cr(x){return new Promise(N=>{setTimeout(N,x)})}const Ir=/^[cdef][\w-]{21}$/;function pn(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const J=function hn(x){return function jn(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Ir.test(J)?J:""}catch{return""}}function an(x){return`${x.appName}!${x.appId}`}const pt=new Map;function kt(x,N){const J=an(x);Si(J,N),function gr(x,N){const J=function Gr(){return!Lt&&"BroadcastChannel"in self&&(Lt=new BroadcastChannel("[Firebase] FID Change"),Lt.onmessage=x=>{Si(x.data.key,x.data.fid)}),Lt}();J&&J.postMessage({key:x,fid:N}),function Sn(){0===pt.size&&Lt&&(Lt.close(),Lt=null)}()}(J,N)}function Si(x,N){const J=pt.get(x);if(J)for(const ue of J)ue(N)}let Lt=null;const Dr="firebase-installations-store";let $r=null;function Qi(){return $r||($r=function Ie(x,N,{blocked:J,upgrade:ue,blocking:we,terminated:De}={}){const ze=indexedDB.open(x,N),at=Re(ze);return ue&&ze.addEventListener("upgradeneeded",it=>{ue(Re(ze.result),it.oldVersion,it.newVersion,Re(ze.transaction))}),J&&ze.addEventListener("blocked",()=>J()),at.then(it=>{De&&it.addEventListener("close",()=>De()),we&&it.addEventListener("versionchange",()=>we())}).catch(()=>{}),at}("firebase-installations-database",1,{upgrade:(x,N)=>{0===N&&x.createObjectStore(Dr)}})),$r}function Yn(x,N){return qr.apply(this,arguments)}function qr(){return(qr=(0,_.Z)(function*(x,N){const J=an(x),we=(yield Qi()).transaction(Dr,"readwrite"),De=we.objectStore(Dr),ze=yield De.get(J);return yield De.put(N,J),yield we.done,(!ze||ze.fid!==N.fid)&&kt(x,N.fid),N})).apply(this,arguments)}function Es(x){return rr.apply(this,arguments)}function rr(){return(rr=(0,_.Z)(function*(x){const N=an(x),ue=(yield Qi()).transaction(Dr,"readwrite");yield ue.objectStore(Dr).delete(N),yield ue.done})).apply(this,arguments)}function Ii(x,N){return gi.apply(this,arguments)}function gi(){return(gi=(0,_.Z)(function*(x,N){const J=an(x),we=(yield Qi()).transaction(Dr,"readwrite"),De=we.objectStore(Dr),ze=yield De.get(J),at=N(ze);return void 0===at?yield De.delete(J):yield De.put(at,J),yield we.done,at&&(!ze||ze.fid!==at.fid)&&kt(x,at.fid),at})).apply(this,arguments)}function _e(x){return ge.apply(this,arguments)}function ge(){return(ge=(0,_.Z)(function*(x){let N;const J=yield Ii(x.appConfig,ue=>{const we=Se(ue),De=Be(x,we);return N=De.registrationPromise,De.installationEntry});return""===J.fid?{installationEntry:yield N}:{installationEntry:J,registrationPromise:N}})).apply(this,arguments)}function Se(x){return Je(x||{fid:pn(),registrationStatus:0})}function Be(x,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(zt.create("app-offline"))};const J={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ue=function Pe(x,N){return ot.apply(this,arguments)}(x,J);return{installationEntry:J,registrationPromise:ue}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Vt(x)}:{installationEntry:N}}function ot(){return(ot=(0,_.Z)(function*(x,N){try{const J=yield ft(x,N);return Yn(x.appConfig,J)}catch(J){throw jt(J)&&409===J.customData.serverCode?yield Es(x.appConfig):yield Yn(x.appConfig,{fid:N.fid,registrationStatus:0}),J}})).apply(this,arguments)}function Vt(x){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,_.Z)(function*(x){let N=yield wn(x.appConfig);for(;1===N.registrationStatus;)yield cr(100),N=yield wn(x.appConfig);if(0===N.registrationStatus){const{installationEntry:J,registrationPromise:ue}=yield _e(x);return ue||J}return N})).apply(this,arguments)}function wn(x){return Ii(x,N=>{if(!N)throw zt.create("installation-not-found");return Je(N)})}function Je(x){return function Ct(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Mt(x,N){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,_.Z)(function*({appConfig:x,heartbeatServiceProvider:N},J){const ue=Wr(x,J),we=On(x,J),De=N.getImmediate({optional:!0});if(De){const It=yield De.getHeartbeatsHeader();It&&we.append("x-firebase-client",It)}const at={method:"POST",headers:we,body:JSON.stringify({installation:{sdkVersion:pe,appId:x.appId}})},it=yield mr(()=>fetch(ue,at));if(it.ok)return Jt(yield it.json());throw yield un("Generate Auth Token",it)})).apply(this,arguments)}function Wr(x,{fid:N}){return`${Ut(x)}/${N}/authTokens:generate`}function Pn(x){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,_.Z)(function*(x,N=!1){let J;const ue=yield Ii(x.appConfig,De=>{if(!Kt(De))throw zt.create("not-registered");const ze=De.authToken;if(!N&&fn(ze))return De;if(1===ze.requestStatus)return J=Fe(x,N),De;{if(!navigator.onLine)throw zt.create("app-offline");const at=ln(De);return J=Xe(x,at),at}});return J?yield J:ue.authToken})).apply(this,arguments)}function Fe(x,N){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,_.Z)(function*(x,N){let J=yield Ye(x.appConfig);for(;1===J.authToken.requestStatus;)yield cr(100),J=yield Ye(x.appConfig);const ue=J.authToken;return 0===ue.requestStatus?Pn(x,N):ue})).apply(this,arguments)}function Ye(x){return Ii(x,N=>{if(!Kt(N))throw zt.create("not-registered");return function Zr(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function Xe(x,N){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,_.Z)(function*(x,N){try{const J=yield Mt(x,N),ue=Object.assign(Object.assign({},N),{authToken:J});return yield Yn(x.appConfig,ue),J}catch(J){if(!jt(J)||401!==J.customData.serverCode&&404!==J.customData.serverCode){const ue=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield Yn(x.appConfig,ue)}else yield Es(x.appConfig);throw J}})).apply(this,arguments)}function Kt(x){return void 0!==x&&2===x.registrationStatus}function fn(x){return 2===x.requestStatus&&!function Gn(x){const N=Date.now();return N<x.creationTime||x.creationTime+x.expiresIn<N+36e5}(x)}function ln(x){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:N})}function Di(){return(Di=(0,_.Z)(function*(x){const N=x,{installationEntry:J,registrationPromise:ue}=yield _e(N);return ue?ue.catch(console.error):Pn(N).catch(console.error),J.fid})).apply(this,arguments)}function Rl(){return(Rl=(0,_.Z)(function*(x,N=!1){const J=x;return yield mn(J),(yield Pn(J,N)).token})).apply(this,arguments)}function mn(x){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,_.Z)(function*(x){const{registrationPromise:N}=yield _e(x);N&&(yield N)})).apply(this,arguments)}function Tr(x){return zt.create("missing-app-config-values",{valueName:x})}const yi="installations",ra=x=>{const N=x.getProvider("app").getImmediate(),J=function kh(x){if(!x||!x.options)throw Tr("App Configuration");if(!x.name)throw Tr("App Name");const N=["projectId","apiKey","appId"];for(const J of N)if(!x.options[J])throw Tr(J);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(N);return{app:N,appConfig:J,heartbeatServiceProvider:(0,I._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Vs=x=>{const N=x.getProvider("app").getImmediate(),J=(0,I._getProvider)(N,yi).getImmediate();return{getId:()=>function Li(x){return Di.apply(this,arguments)}(J),getToken:we=>function Ga(x){return Rl.apply(this,arguments)}(J,we)}};(function Ji(){(0,I._registerComponent)(new P.wA(yi,ra,"PUBLIC")),(0,I._registerComponent)(new P.wA("installations-internal",Vs,"PRIVATE"))})(),(0,I.registerVersion)(X,"0.6.4"),(0,I.registerVersion)(X,"0.6.4","esm2017");const ia="@firebase/remote-config",Nn=new M.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vi{constructor(N,J,ue,we){this.client=N,this.storage=J,this.storageCache=ue,this.logger=we}isCachedDataFresh(N,J){if(!J)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-J,we=ue<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${we}.`),we}fetch(N){var J=this;return(0,_.Z)(function*(){const[ue,we]=yield Promise.all([J.storage.getLastSuccessfulFetchTimestampMillis(),J.storage.getLastSuccessfulFetchResponse()]);if(we&&J.isCachedDataFresh(N.cacheMaxAgeMillis,ue))return we;N.eTag=we&&we.eTag;const De=yield J.client.fetch(N),ze=[J.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===De.status&&ze.push(J.storage.setLastSuccessfulFetchResponse(De)),yield Promise.all(ze),De})()}}function Hh(x=navigator){return x.languages&&x.languages[0]||x.language}class $a{constructor(N,J,ue,we,De,ze){this.firebaseInstallations=N,this.sdkVersion=J,this.namespace=ue,this.projectId=we,this.apiKey=De,this.appId=ze}fetch(N){var J=this;return(0,_.Z)(function*(){const[ue,we]=yield Promise.all([J.firebaseInstallations.getId(),J.firebaseInstallations.getToken()]),ze=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${J.projectId}/namespaces/${J.namespace}:fetch?key=${J.apiKey}`,at={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},it={sdk_version:J.sdkVersion,app_instance_id:ue,app_instance_id_token:we,app_id:J.appId,language_code:Hh()},It={method:"POST",headers:at,body:JSON.stringify(it)},Dt=fetch(ze,It),Gt=new Promise((Lr,Ks)=>{N.signal.addEventListener(()=>{const _c=new Error("The operation was aborted.");_c.name="AbortError",Ks(_c)})});let Xr;try{yield Promise.race([Dt,Gt]),Xr=yield Dt}catch(Lr){let Ks="fetch-client-network";throw"AbortError"===Lr?.name&&(Ks="fetch-timeout"),Nn.create(Ks,{originalErrorMessage:Lr?.message})}let kn=Xr.status;const xt=Xr.headers.get("ETag")||void 0;let cs,ho;if(200===Xr.status){let Lr;try{Lr=yield Xr.json()}catch(Ks){throw Nn.create("fetch-client-parse",{originalErrorMessage:Ks?.message})}cs=Lr.entries,ho=Lr.state}if("INSTANCE_STATE_UNSPECIFIED"===ho?kn=500:"NO_CHANGE"===ho?kn=304:("NO_TEMPLATE"===ho||"EMPTY_CONFIG"===ho)&&(cs={}),304!==kn&&200!==kn)throw Nn.create("fetch-status",{httpStatus:kn});return{status:kn,eTag:xt,config:cs}})()}}class Af{constructor(N,J){this.client=N,this.storage=J}fetch(N){var J=this;return(0,_.Z)(function*(){const ue=(yield J.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return J.attemptFetch(N,ue)})()}attemptFetch(N,{throttleEndTimeMillis:J,backoffCount:ue}){var we=this;return(0,_.Z)(function*(){yield function ru(x,N){return new Promise((J,ue)=>{const we=Math.max(N-Date.now(),0),De=setTimeout(J,we);x.addEventListener(()=>{clearTimeout(De),ue(Nn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,J);try{const De=yield we.client.fetch(N);return yield we.storage.deleteThrottleMetadata(),De}catch(De){if(!function Ll(x){if(!(x instanceof M.ZR&&x.customData))return!1;const N=Number(x.customData.httpStatus);return 429===N||500===N||503===N||504===N}(De))throw De;const ze={throttleEndTimeMillis:Date.now()+(0,M.$s)(ue),backoffCount:ue+1};return yield we.storage.setThrottleMetadata(ze),we.attemptFetch(N,ze)}})()}}class Mf{constructor(N,J,ue,we,De){this.app=N,this._client=J,this._storageCache=ue,this._storage=we,this._logger=De,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Or(x,N){const J=x.target.error||void 0;return Nn.create(N,{originalErrorMessage:J&&J?.message})}const si="app_namespace_store";class rw{constructor(N,J,ue,we=function Hl(){return new Promise((x,N)=>{try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=ue=>{N(Or(ue,"storage-open"))},J.onsuccess=ue=>{x(ue.target.result)},J.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(si,{keyPath:"compositeKey"})}}catch(J){N(Nn.create("storage-open",{originalErrorMessage:J?.message}))}})}()){this.appId=N,this.appName=J,this.namespace=ue,this.openDbPromise=we}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var J=this;return(0,_.Z)(function*(){const ue=yield J.openDbPromise;return new Promise((we,De)=>{const at=ue.transaction([si],"readonly").objectStore(si),it=J.createCompositeKey(N);try{const It=at.get(it);It.onerror=Dt=>{De(Or(Dt,"storage-get"))},It.onsuccess=Dt=>{const Gt=Dt.target.result;we(Gt?Gt.value:void 0)}}catch(It){De(Nn.create("storage-get",{originalErrorMessage:It?.message}))}})})()}set(N,J){var ue=this;return(0,_.Z)(function*(){const we=yield ue.openDbPromise;return new Promise((De,ze)=>{const it=we.transaction([si],"readwrite").objectStore(si),It=ue.createCompositeKey(N);try{const Dt=it.put({compositeKey:It,value:J});Dt.onerror=Gt=>{ze(Or(Gt,"storage-set"))},Dt.onsuccess=()=>{De()}}catch(Dt){ze(Nn.create("storage-set",{originalErrorMessage:Dt?.message}))}})})()}delete(N){var J=this;return(0,_.Z)(function*(){const ue=yield J.openDbPromise;return new Promise((we,De)=>{const at=ue.transaction([si],"readwrite").objectStore(si),it=J.createCompositeKey(N);try{const It=at.delete(it);It.onerror=Dt=>{De(Or(Dt,"storage-delete"))},It.onsuccess=()=>{we()}}catch(It){De(Nn.create("storage-delete",{originalErrorMessage:It?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class ir{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,_.Z)(function*(){const J=N.storage.getLastFetchStatus(),ue=N.storage.getLastSuccessfulFetchTimestampMillis(),we=N.storage.getActiveConfig(),De=yield J;De&&(N.lastFetchStatus=De);const ze=yield ue;ze&&(N.lastSuccessfulFetchTimestampMillis=ze);const at=yield we;at&&(N.activeConfig=at)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function vi(){return iu.apply(this,arguments)}function iu(){return(iu=(0,_.Z)(function*(){if(!(0,M.hl)())return!1;try{return yield(0,M.eu)()}catch{return!1}})).apply(this,arguments)}let sa,sr;!function Hs(){(0,I._registerComponent)(new P.wA("remote-config",function x(N,{instanceIdentifier:J}){const ue=N.getProvider("app").getImmediate(),we=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Nn.create("registration-window");if(!(0,M.hl)())throw Nn.create("indexed-db-unavailable");const{projectId:De,apiKey:ze,appId:at}=ue.options;if(!De)throw Nn.create("registration-project-id");if(!ze)throw Nn.create("registration-api-key");if(!at)throw Nn.create("registration-app-id");const it=new rw(at,ue.name,J=J||"firebase"),It=new ir(it),Dt=new O.Yd(ia);Dt.logLevel=O.in.ERROR;const Gt=new $a(we,I.SDK_VERSION,J,De,ze,at),Xr=new Af(Gt,it),kn=new Vi(Xr,it,It,Dt),xt=new Mf(ue,kn,It,it,Dt);return function Km(x){const N=(0,M.m9)(x);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(xt),xt},"PUBLIC").setMultipleInstances(!0)),(0,I.registerVersion)(ia,"0.4.4"),(0,I.registerVersion)(ia,"0.4.4","esm2017")}();const su=new WeakMap,Ti=new WeakMap,ao=new WeakMap,Kr=new WeakMap,Bt=new WeakMap;let qa={get(x,N,J){if(x instanceof IDBTransaction){if("done"===N)return Ti.get(x);if("objectStoreNames"===N)return x.objectStoreNames||ao.get(x);if("store"===N)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return ts(x[N])},set:(x,N,J)=>(x[N]=J,!0),has:(x,N)=>x instanceof IDBTransaction&&("done"===N||"store"===N)||N in x};function $h(x){return"function"==typeof x?function Gh(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function So(){return sr||(sr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...N){return x.apply(jl(this),N),ts(su.get(this))}:function(...N){return ts(x.apply(jl(this),N))}:function(N,...J){const ue=x.call(jl(this),N,...J);return ao.set(ue,N.sort?N.sort():[N]),ts(ue)}}(x):(x instanceof IDBTransaction&&function zh(x){if(Ti.has(x))return;const N=new Promise((J,ue)=>{const we=()=>{x.removeEventListener("complete",De),x.removeEventListener("error",ze),x.removeEventListener("abort",ze)},De=()=>{J(),we()},ze=()=>{ue(x.error||new DOMException("AbortError","AbortError")),we()};x.addEventListener("complete",De),x.addEventListener("error",ze),x.addEventListener("abort",ze)});Ti.set(x,N)}(x),((x,N)=>N.some(J=>x instanceof J))(x,function Ym(){return sa||(sa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,qa):x)}function ts(x){if(x instanceof IDBRequest)return function Uh(x){const N=new Promise((J,ue)=>{const we=()=>{x.removeEventListener("success",De),x.removeEventListener("error",ze)},De=()=>{J(ts(x.result)),we()},ze=()=>{ue(x.error),we()};x.addEventListener("success",De),x.addEventListener("error",ze)});return N.then(J=>{J instanceof IDBCursor&&su.set(J,x)}).catch(()=>{}),Bt.set(N,x),N}(x);if(Kr.has(x))return Kr.get(x);const N=$h(x);return N!==x&&(Kr.set(x,N),Bt.set(N,x)),N}const jl=x=>Bt.get(x);function qe(x,N,{blocked:J,upgrade:ue,blocking:we,terminated:De}={}){const ze=indexedDB.open(x,N),at=ts(ze);return ue&&ze.addEventListener("upgradeneeded",it=>{ue(ts(ze.result),it.oldVersion,it.newVersion,ts(ze.transaction))}),J&&ze.addEventListener("blocked",()=>J()),at.then(it=>{De&&it.addEventListener("close",()=>De()),we&&it.addEventListener("versionchange",()=>we())}).catch(()=>{}),at}function nn(x,{blocked:N}={}){const J=indexedDB.deleteDatabase(x);return N&&J.addEventListener("blocked",()=>N()),ts(J).then(()=>{})}const Gl=["get","getKey","getAll","getAllKeys","count"],ou=["put","add","delete","clear"],Qn=new Map;function $l(x,N){if(!(x instanceof IDBDatabase)||N in x||"string"!=typeof N)return;if(Qn.get(N))return Qn.get(N);const J=N.replace(/FromIndex$/,""),ue=N!==J,we=ou.includes(J);if(!(J in(ue?IDBIndex:IDBObjectStore).prototype)||!we&&!Gl.includes(J))return;const De=function(){var ze=(0,_.Z)(function*(at,...it){const It=this.transaction(at,we?"readwrite":"readonly");let Dt=It.store;return ue&&(Dt=Dt.index(it.shift())),(yield Promise.all([Dt[J](...it),we&&It.done]))[0]});return function(it){return ze.apply(this,arguments)}}();return Qn.set(N,De),De}!function jh(x){qa=x(qa)}(x=>({...x,get:(N,J,ue)=>$l(N,J)||x.get(N,J,ue),has:(N,J)=>!!$l(N,J)||x.has(N,J)}));const Io="/firebase-messaging-sw.js",xi="/firebase-cloud-messaging-push-scope",oa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lu="google.c.a.c_id",Xn="google.c.a.c_l",kf="google.c.a.ts",Rf="google.c.a.e";var Ai=(()=>{return(x=Ai||(Ai={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",Ai;var x})();function ns(x){const N=new Uint8Array(x);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Us(x){const J=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(J),we=new Uint8Array(ue.length);for(let De=0;De<ue.length;++De)we[De]=ue.charCodeAt(De);return we}const Mi="fcm_token_details_db",Do="fcm_token_object_Store";function Qm(x){return aa.apply(this,arguments)}function aa(){return aa=(0,_.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(De=>De.name).includes(Mi))return null;let N=null;return(yield qe(Mi,5,{upgrade:(ue=(0,_.Z)(function*(we,De,ze,at){var it;if(De<2||!we.objectStoreNames.contains(Do))return;const It=at.objectStore(Do),Dt=yield It.index("fcmSenderId").get(x);if(yield It.clear(),Dt)if(2===De){const Gt=Dt;if(!Gt.auth||!Gt.p256dh||!Gt.endpoint)return;N={token:Gt.fcmToken,createTime:null!==(it=Gt.createTime)&&void 0!==it?it:Date.now(),subscriptionOptions:{auth:Gt.auth,p256dh:Gt.p256dh,endpoint:Gt.endpoint,swScope:Gt.swScope,vapidKey:"string"==typeof Gt.vapidKey?Gt.vapidKey:ns(Gt.vapidKey)}}}else if(3===De){const Gt=Dt;N={token:Gt.fcmToken,createTime:Gt.createTime,subscriptionOptions:{auth:ns(Gt.auth),p256dh:ns(Gt.p256dh),endpoint:Gt.endpoint,swScope:Gt.swScope,vapidKey:ns(Gt.vapidKey)}}}else if(4===De){const Gt=Dt;N={token:Gt.fcmToken,createTime:Gt.createTime,subscriptionOptions:{auth:ns(Gt.auth),p256dh:ns(Gt.p256dh),endpoint:Gt.endpoint,swScope:Gt.swScope,vapidKey:ns(Gt.vapidKey)}}}}),function(De,ze,at,it){return ue.apply(this,arguments)})})).close(),yield nn(Mi),yield nn("fcm_vapid_details_db"),yield nn("undefined"),cu(N)?N:null;var ue}),aa.apply(this,arguments)}function cu(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:N}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const ai="firebase-messaging-store";let uu=null;function Za(){return uu||(uu=qe("firebase-messaging-database",1,{upgrade:(x,N)=>{0===N&&x.createObjectStore(ai)}})),uu}function Ka(x){return To.apply(this,arguments)}function To(){return(To=(0,_.Z)(function*(x){const N=Wl(x),ue=yield(yield Za()).transaction(ai).objectStore(ai).get(N);if(ue)return ue;{const we=yield Qm(x.appConfig.senderId);if(we)return yield hu(x,we),we}})).apply(this,arguments)}function hu(x,N){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,_.Z)(function*(x,N){const J=Wl(x),we=(yield Za()).transaction(ai,"readwrite");return yield we.objectStore(ai).put(N,J),yield we.done,N})).apply(this,arguments)}function Wh(x){return la.apply(this,arguments)}function la(){return(la=(0,_.Z)(function*(x){const N=Wl(x),ue=(yield Za()).transaction(ai,"readwrite");yield ue.objectStore(ai).delete(N),yield ue.done})).apply(this,arguments)}function Wl({appConfig:x}){return x.appId}const yn=new M.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zs(x,N){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,_.Z)(function*(x,N){const J=yield pu(x),ue=Qa(N),we={method:"POST",headers:J,body:JSON.stringify(ue)};let De;try{De=yield(yield fetch(Zl(x.appConfig),we)).json()}catch(ze){throw yn.create("token-subscribe-failed",{errorInfo:ze?.toString()})}if(De.error)throw yn.create("token-subscribe-failed",{errorInfo:De.error.message});if(!De.token)throw yn.create("token-subscribe-no-token");return De.token})).apply(this,arguments)}function du(x,N){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,_.Z)(function*(x,N){const J=yield pu(x),ue=Qa(N.subscriptionOptions),we={method:"PATCH",headers:J,body:JSON.stringify(ue)};let De;try{De=yield(yield fetch(`${Zl(x.appConfig)}/${N.token}`,we)).json()}catch(ze){throw yn.create("token-update-failed",{errorInfo:ze?.toString()})}if(De.error)throw yn.create("token-update-failed",{errorInfo:De.error.message});if(!De.token)throw yn.create("token-update-no-token");return De.token})).apply(this,arguments)}function fu(x,N){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,_.Z)(function*(x,N){const ue={method:"DELETE",headers:yield pu(x)};try{const De=yield(yield fetch(`${Zl(x.appConfig)}/${N}`,ue)).json();if(De.error)throw yn.create("token-unsubscribe-failed",{errorInfo:De.error.message})}catch(we){throw yn.create("token-unsubscribe-failed",{errorInfo:we?.toString()})}})).apply(this,arguments)}function Zl({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function pu(x){return xo.apply(this,arguments)}function xo(){return(xo=(0,_.Z)(function*({appConfig:x,installations:N}){const J=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${J}`})})).apply(this,arguments)}function Qa({p256dh:x,auth:N,endpoint:J,vapidKey:ue}){const we={web:{endpoint:J,auth:N,p256dh:x}};return ue!==oa&&(we.web.applicationPubKey=ue),we}const ca=6048e5;function Yh(x){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,_.Z)(function*(x){const N=yield mu(x.swRegistration,x.vapidKey),J={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:N.endpoint,auth:ns(N.getKey("auth")),p256dh:ns(N.getKey("p256dh"))},ue=yield Ka(x.firebaseDependencies);if(ue){if(Nf(ue.subscriptionOptions,J))return Date.now()>=ue.createTime+ca?Ja(x,{token:ue.token,createTime:Date.now(),subscriptionOptions:J}):ue.token;try{yield fu(x.firebaseDependencies,ue.token)}catch(we){console.warn(we)}return Ff(x.firebaseDependencies,J)}return Ff(x.firebaseDependencies,J)})).apply(this,arguments)}function Of(x){return js.apply(this,arguments)}function js(){return(js=(0,_.Z)(function*(x){const N=yield Ka(x.firebaseDependencies);N&&(yield fu(x.firebaseDependencies,N.token),yield Wh(x.firebaseDependencies));const J=yield x.swRegistration.pushManager.getSubscription();return!J||J.unsubscribe()})).apply(this,arguments)}function Ja(x,N){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,_.Z)(function*(x,N){try{const J=yield du(x.firebaseDependencies,N),ue=Object.assign(Object.assign({},N),{token:J,createTime:Date.now()});return yield hu(x.firebaseDependencies,ue),J}catch(J){throw yield Of(x),J}})).apply(this,arguments)}function Ff(x,N){return rs.apply(this,arguments)}function rs(){return(rs=(0,_.Z)(function*(x,N){const ue={token:yield zs(x,N),createTime:Date.now(),subscriptionOptions:N};return yield hu(x,ue),ue.token})).apply(this,arguments)}function mu(x,N){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,_.Z)(function*(x,N){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Us(N)})})).apply(this,arguments)}function Nf(x,N){return N.vapidKey===x.vapidKey&&N.endpoint===x.endpoint&&N.auth===x.auth&&N.p256dh===x.p256dh}function gu(x){const N={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Yl(x,N){if(!N.notification)return;x.notification={};const J=N.notification.title;J&&(x.notification.title=J);const ue=N.notification.body;ue&&(x.notification.body=ue);const we=N.notification.image;we&&(x.notification.image=we);const De=N.notification.icon;De&&(x.notification.icon=De)}(N,x),function Ql(x,N){!N.data||(x.data=N.data)}(N,x),function Xl(x,N){var J,ue,we,De,ze;if(!(N.fcmOptions||null!==(J=N.notification)&&void 0!==J&&J.click_action))return;x.fcmOptions={};const at=null!==(we=null===(ue=N.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==we?we:null===(De=N.notification)||void 0===De?void 0:De.click_action;at&&(x.fcmOptions.link=at);const it=null===(ze=N.fcmOptions)||void 0===ze?void 0:ze.analytics_label;it&&(x.fcmOptions.analyticsLabel=it)}(N,x),N}function Lf(x){return"object"==typeof x&&!!x&&lu in x}function ua(x,N){const J=[];for(let ue=0;ue<x.length;ue++)J.push(x.charAt(ue)),ue<N.length&&J.push(N.charAt(ue));return J.join("")}function yu(x){return yn.create("missing-app-config-values",{valueName:x})}ua("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ua("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class el{constructor(N,J,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const we=function Xh(x){if(!x||!x.options)throw yu("App Configuration Object");if(!x.name)throw yu("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:J}=x;for(const ue of N)if(!J[ue])throw yu(ue);return{appName:x.name,projectId:J.projectId,apiKey:J.apiKey,appId:J.appId,senderId:J.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:we,installations:J,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function Vf(x){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,_.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(Io,{scope:xi}),x.swRegistration.update().catch(()=>{})}catch(N){throw yn.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function tl(x,N){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,_.Z)(function*(x,N){if(!N&&!x.swRegistration&&(yield Vf(x)),N||!x.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw yn.create("invalid-sw-registration");x.swRegistration=N}})).apply(this,arguments)}function Ao(x,N){return Is.apply(this,arguments)}function Is(){return(Is=(0,_.Z)(function*(x,N){N?x.vapidKey=N:x.vapidKey||(x.vapidKey=oa)})).apply(this,arguments)}function nl(){return(nl=(0,_.Z)(function*(x,N){if(!navigator)throw yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yn.create("permission-blocked");return yield Ao(x,N?.vapidKey),yield tl(x,N?.serviceWorkerRegistration),Yh(x)})).apply(this,arguments)}function Hi(x,N,J){return _u.apply(this,arguments)}function _u(){return(_u=(0,_.Z)(function*(x,N,J){const ue=ha(N);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:J[lu],message_name:J[Xn],message_time:J[kf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ha(x){switch(x){case Ai.NOTIFICATION_CLICKED:return"notification_open";case Ai.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Mo(){return(Mo=(0,_.Z)(function*(x,N){const J=N.data;if(!J.isFirebaseMessaging)return;x.onMessageHandler&&J.messageType===Ai.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(gu(J)):x.onMessageHandler.next(gu(J)));const ue=J.data;Lf(ue)&&"1"===ue[Rf]&&(yield Hi(x,J.messageType,ue))})).apply(this,arguments)}const Po="@firebase/messaging",ko=x=>{const N=new el(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",J=>function vu(x,N){return Mo.apply(this,arguments)}(N,J)),N},ec=x=>{const N=x.getProvider("messaging").getImmediate();return{getToken:ue=>function Jl(x,N){return nl.apply(this,arguments)}(N,ue)}};function da(){return fa.apply(this,arguments)}function fa(){return(fa=(0,_.Z)(function*(){try{yield(0,M.eu)()}catch{return!1}return typeof window<"u"&&(0,M.hl)()&&(0,M.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bf(){(0,I._registerComponent)(new P.wA("messaging",ko,"PUBLIC")),(0,I._registerComponent)(new P.wA("messaging-internal",ec,"PRIVATE")),(0,I.registerVersion)(Po,"0.12.4"),(0,I.registerVersion)(Po,"0.12.4","esm2017")}();const Un="analytics",bu="firebase_id",nc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$s="https://www.googletagmanager.com/gtag/js",Jn=new O.Yd("@firebase/analytics"),Yr=new M.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function pa(x){if(!x.startsWith($s)){const N=Yr.create("invalid-gtag-resource",{gtagURL:x});return Jn.warn(N.message),""}return x}function qs(x){return Promise.all(x.map(N=>N.catch(J=>J)))}function ol(x,N){const J=function rc(x,N){let J;return window.trustedTypes&&(J=window.trustedTypes.createPolicy(x,N)),J}("firebase-js-sdk-policy",{createScriptURL:pa}),ue=document.createElement("script"),we=`${$s}?l=${x}&id=${N}`;ue.src=J?J?.createScriptURL(we):we,ue.async=!0,document.head.appendChild(ue)}function wu(x,N,J,ue,we,De){return ic.apply(this,arguments)}function ic(){return(ic=(0,_.Z)(function*(x,N,J,ue,we,De){const ze=ue[we];try{if(ze)yield N[ze];else{const it=(yield qs(J)).find(It=>It.measurementId===we);it&&(yield N[it.appId])}}catch(at){Jn.error(at)}x("config",we,De)})).apply(this,arguments)}function zf(x,N,J,ue,we){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,_.Z)(function*(x,N,J,ue,we){try{let De=[];if(we&&we.send_to){let ze=we.send_to;Array.isArray(ze)||(ze=[ze]);const at=yield qs(J);for(const it of ze){const It=at.find(Gt=>Gt.measurementId===it),Dt=It&&N[It.appId];if(!Dt){De=[];break}De.push(Dt)}}0===De.length&&(De=Object.values(N)),yield Promise.all(De),x("event",ue,we||{})}catch(De){Jn.error(De)}})).apply(this,arguments)}function $f(x){const N=window.document.getElementsByTagName("script");for(const J of Object.values(N))if(J.src&&J.src.includes($s)&&J.src.includes(x))return J;return null}const yr=new class sc{constructor(N={},J=1e3){this.throttleMetadata=N,this.intervalMillis=J}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,J){this.throttleMetadata[N]=J}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function oc(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Ui(x){return ed.apply(this,arguments)}function ed(){return(ed=(0,_.Z)(function*(x){var N;const{appId:J,apiKey:ue}=x,we={method:"GET",headers:oc(ue)},De=nc.replace("{app-id}",J),ze=yield fetch(De,we);if(200!==ze.status&&304!==ze.status){let at="";try{const it=yield ze.json();null!==(N=it.error)&&void 0!==N&&N.message&&(at=it.error.message)}catch{}throw Yr.create("config-fetch-failed",{httpStatus:ze.status,responseMessage:at})}return ze.json()})).apply(this,arguments)}function qf(x){return ur.apply(this,arguments)}function ur(){return(ur=(0,_.Z)(function*(x,N=yr,J){const{appId:ue,apiKey:we,measurementId:De}=x.options;if(!ue)throw Yr.create("no-app-id");if(!we){if(De)return{measurementId:De,appId:ue};throw Yr.create("no-api-key")}const ze=N.getThrottleMetadata(ue)||{backoffCount:0,throttleEndTimeMillis:Date.now()},at=new td;return setTimeout((0,_.Z)(function*(){at.abort()}),void 0!==J?J:6e4),is({appId:ue,apiKey:we,measurementId:De},ze,at,N)})).apply(this,arguments)}function is(x,N,J){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,_.Z)(function*(x,{throttleEndTimeMillis:N,backoffCount:J},ue,we=yr){var De;const{appId:ze,measurementId:at}=x;try{yield Cu(ue,N)}catch(it){if(at)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${it?.message}]`),{appId:ze,measurementId:at};throw it}try{const it=yield Ui(x);return we.deleteThrottleMetadata(ze),it}catch(it){const It=it;if(!ma(It)){if(we.deleteThrottleMetadata(ze),at)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${at} provided in the "measurementId" field in the local Firebase config. [${It?.message}]`),{appId:ze,measurementId:at};throw it}const Dt=503===Number(null===(De=It?.customData)||void 0===De?void 0:De.httpStatus)?(0,M.$s)(J,we.intervalMillis,30):(0,M.$s)(J,we.intervalMillis),Gt={throttleEndTimeMillis:Date.now()+Dt,backoffCount:J+1};return we.setThrottleMetadata(ze,Gt),Jn.debug(`Calling attemptFetch again in ${Dt} millis`),is(x,Gt,ue,we)}})).apply(this,arguments)}function Cu(x,N){return new Promise((J,ue)=>{const we=Math.max(N-Date.now(),0),De=setTimeout(J,we);x.addEventListener(()=>{clearTimeout(De),ue(Yr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function ma(x){if(!(x instanceof M.ZR&&x.customData))return!1;const N=Number(x.customData.httpStatus);return 429===N||500===N||503===N||504===N}class td{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let nd,Iu;function Wf(){return(Wf=(0,_.Z)(function*(x,N,J,ue,we){if(we&&we.global)x("event",J,ue);else{const De=yield N;x("event",J,Object.assign(Object.assign({},ue),{send_to:De}))}})).apply(this,arguments)}function cl(x){Iu=x}function uc(x){nd=x}function En(){return ss.apply(this,arguments)}function ss(){return(ss=(0,_.Z)(function*(){if(!(0,M.hl)())return Jn.warn(Yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,M.eu)()}catch(x){return Jn.warn(Yr.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function bt(){return(bt=(0,_.Z)(function*(x,N,J,ue,we,De,ze){var at;const it=qf(x);it.then(kn=>{J[kn.measurementId]=kn.appId,x.options.measurementId&&kn.measurementId!==x.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${kn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(kn=>Jn.error(kn)),N.push(it);const It=En().then(kn=>{if(kn)return ue.getId()}),[Dt,Gt]=yield Promise.all([it,It]);$f(De)||ol(De,Dt.measurementId),Iu&&(we("consent","default",Iu),cl(void 0)),we("js",new Date);const Xr=null!==(at=ze?.config)&&void 0!==at?at:{};return Xr.origin="firebase",Xr.update=!0,null!=Gt&&(Xr[bu]=Gt),we("config",Dt.measurementId,Xr),nd&&(we("set",nd),uc(void 0)),Dt.measurementId})).apply(this,arguments)}class hr{constructor(N){this.app=N}_delete(){return delete li[this.app.options.appId],Promise.resolve()}}let li={},ga=[];const Fr={};let No,ci,hc="dataLayer",dc=!1;function St(x,N,J){!function ya(){const x=[];if((0,M.ru)()&&x.push("This is a browser extension environment."),(0,M.zI)()||x.push("Cookies are not available."),x.length>0){const N=x.map((ue,we)=>`(${we+1}) ${ue}`).join(" "),J=Yr.create("invalid-analytics-context",{errorInfo:N});Jn.warn(J.message)}}();const ue=x.options.appId;if(!ue)throw Yr.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Yr.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=li[ue])throw Yr.create("already-exists",{id:ue});if(!dc){!function In(x){let N=[];Array.isArray(window[x])?N=window[x]:window[x]=N}(hc);const{wrappedGtag:De,gtagCore:ze}=function Gf(x,N,J,ue,we){let De=function(...ze){window[ue].push(arguments)};return window[we]&&"function"==typeof window[we]&&(De=window[we]),window[we]=function jf(x,N,J,ue){function De(){return(De=(0,_.Z)(function*(ze,...at){try{if("event"===ze){const[it,It]=at;yield zf(x,N,J,it,It)}else if("config"===ze){const[it,It]=at;yield wu(x,N,J,ue,it,It)}else if("consent"===ze){const[it]=at;x("consent","update",it)}else if("get"===ze){const[it,It,Dt]=at;x("get",it,It,Dt)}else if("set"===ze){const[it]=at;x("set",it)}else x(ze,...at)}catch(it){Jn.error(it)}})).apply(this,arguments)}return function we(ze){return De.apply(this,arguments)}}(De,x,N,J),{gtagCore:De,wrappedGtag:window[we]}}(li,ga,Fr,hc,"gtag");ci=De,No=ze,dc=!0}return li[ue]=function vt(x,N,J,ue,we,De,ze){return bt.apply(this,arguments)}(x,ga,Fr,N,No,hc,J),new hr(x)}function hl(){return fc.apply(this,arguments)}function fc(){return(fc=(0,_.Z)(function*(){if((0,M.ru)()||!(0,M.zI)()||!(0,M.hl)())return!1;try{return yield(0,M.eu)()}catch{return!1}})).apply(this,arguments)}const va="@firebase/analytics";!function Ms(){(0,I._registerComponent)(new P.wA(Un,(N,{options:J})=>St(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),J),"PUBLIC")),(0,I._registerComponent)(new P.wA("analytics-internal",function x(N){try{const J=N.getProvider(Un).getImmediate();return{logEvent:(ue,we,De)=>function xs(x,N,J,ue){x=(0,M.m9)(x),function tg(x,N,J,ue,we){return Wf.apply(this,arguments)}(ci,li[x.app.options.appId],N,J,ue).catch(we=>Jn.error(we))}(J,ue,we,De)}}catch(J){throw Yr.create("interop-component-reg-failed",{reason:J})}},"PRIVATE")),(0,I.registerVersion)(va,"0.10.0"),(0,I.registerVersion)(va,"0.10.0","esm2017")}();var ki=f(4408),Qr=f(7565);const pc=new class _r extends Qr.v{}(class zi extends ki.o{constructor(N,J){super(N,J),this.scheduler=N,this.work=J}schedule(N,J=0){return J>0?super.schedule(N,J):(this.delay=J,this.state=N,this.scheduler.flush(this),this)}execute(N,J){return J>0||this.closed?super.execute(N,J):this._execute(N,J)}requestAsyncId(N,J,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(N,J,ue):(N.flush(this),0)}});var dr=f(4986),Nr=f(8505),bi=f(9468),ar=f(5363);const lr=new s.GfV("7.5.0"),lo="__angularfire_symbol__analyticsIsSupportedValue",ba="__angularfire_symbol__analyticsIsSupported",mc="__angularfire_symbol__remoteConfigIsSupportedValue",os="__angularfire_symbol__remoteConfigIsSupported",ji="__angularfire_symbol__messagingIsSupportedValue",er="__angularfire_symbol__messagingIsSupported";function Jf(x,N,J){if(N){if(1===N.length)return N[0];const De=N.filter(ze=>ze.app===J);if(1===De.length)return De[0]}return J.container.getProvider(x).getImmediate({optional:!0})}globalThis[ba]||(globalThis[ba]=hl().then(x=>globalThis[lo]=x).catch(()=>globalThis[lo]=!1)),globalThis[er]||(globalThis[er]=da().then(x=>globalThis[ji]=x).catch(()=>globalThis[ji]=!1)),globalThis[os]||(globalThis[os]=vi().then(x=>globalThis[mc]=x).catch(()=>globalThis[mc]=!1));const Tu=(x,N)=>{const J=N?[N]:(0,v.C6)(),ue=[];return J.forEach(we=>{we.container.getProvider(x).instances.forEach(ze=>{ue.includes(ze)||ue.push(ze)})}),ue};function Bo(){}class gc{constructor(N,J=pc){this.zone=N,this.delegate=J}now(){return this.delegate.now()}schedule(N,J,ue){const we=this.zone;return this.delegate.schedule(function(ze){we.runGuarded(()=>{N.apply(this,[ze])})},J,ue)}}class sn{constructor(N){this.zone=N,this.task=null}call(N,J){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bo,{},Bo,Bo)),J.pipe((0,Nr.b)({next:ue,complete:ue,error:ue})).subscribe(N).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let dl=(()=>{class x{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new gc(Zone.current)),this.insideAngular=J.run(()=>new gc(Zone.current,dr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(J){return new(J||x)(s.LFG(s.R0b))},x.\u0275prov=s.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function wa(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function yc(x){return wa(),function xu(x){return function(J){return(J=J.lift(new sn(x.ngZone))).pipe((0,bi.R)(x.outsideAngular),(0,ar.Q)(x.insideAngular))}}(wa())(x)}},2090:(c,d,f)=>{"use strict";f.d(d,{$s:()=>Es,BH:()=>de,G6:()=>pe,L:()=>Q,LL:()=>Qe,Pz:()=>ae,Sg:()=>Re,UG:()=>ye,US:()=>P,ZB:()=>U,ZR:()=>dt,aH:()=>re,b$:()=>fe,eu:()=>Le,hl:()=>Ne,jU:()=>$e,m9:()=>gi,ne:()=>an,pd:()=>pn,r3:()=>tr,ru:()=>Te,tV:()=>R,uI:()=>Ie,vZ:()=>bn,w1:()=>X,xO:()=>Ir,xb:()=>jr,z$:()=>xe,zI:()=>nt,zd:()=>nr});const I=function(_e){const ge=[];let Se=0;for(let Be=0;Be<_e.length;Be++){let Pe=_e.charCodeAt(Be);Pe<128?ge[Se++]=Pe:Pe<2048?(ge[Se++]=Pe>>6|192,ge[Se++]=63&Pe|128):55296==(64512&Pe)&&Be+1<_e.length&&56320==(64512&_e.charCodeAt(Be+1))?(Pe=65536+((1023&Pe)<<10)+(1023&_e.charCodeAt(++Be)),ge[Se++]=Pe>>18|240,ge[Se++]=Pe>>12&63|128,ge[Se++]=Pe>>6&63|128,ge[Se++]=63&Pe|128):(ge[Se++]=Pe>>12|224,ge[Se++]=Pe>>6&63|128,ge[Se++]=63&Pe|128)}return ge},P={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(_e,ge){if(!Array.isArray(_e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Se=ge?this.byteToCharMapWebSafe_:this.byteToCharMap_,Be=[];for(let Pe=0;Pe<_e.length;Pe+=3){const ot=_e[Pe],Vt=Pe+1<_e.length,Zt=Vt?_e[Pe+1]:0,wn=Pe+2<_e.length,Je=wn?_e[Pe+2]:0;let Mn=(15&Zt)<<2|Je>>6,Wr=63&Je;wn||(Wr=64,Vt||(Mn=64)),Be.push(Se[ot>>2],Se[(3&ot)<<4|Zt>>4],Se[Mn],Se[Wr])}return Be.join("")},encodeString(_e,ge){return this.HAS_NATIVE_SUPPORT&&!ge?btoa(_e):this.encodeByteArray(I(_e),ge)},decodeString(_e,ge){return this.HAS_NATIVE_SUPPORT&&!ge?atob(_e):function(_e){const ge=[];let Se=0,Be=0;for(;Se<_e.length;){const Pe=_e[Se++];if(Pe<128)ge[Be++]=String.fromCharCode(Pe);else if(Pe>191&&Pe<224){const ot=_e[Se++];ge[Be++]=String.fromCharCode((31&Pe)<<6|63&ot)}else if(Pe>239&&Pe<365){const wn=((7&Pe)<<18|(63&_e[Se++])<<12|(63&_e[Se++])<<6|63&_e[Se++])-65536;ge[Be++]=String.fromCharCode(55296+(wn>>10)),ge[Be++]=String.fromCharCode(56320+(1023&wn))}else{const ot=_e[Se++],Vt=_e[Se++];ge[Be++]=String.fromCharCode((15&Pe)<<12|(63&ot)<<6|63&Vt)}}return ge.join("")}(this.decodeStringToByteArray(_e,ge))},decodeStringToByteArray(_e,ge){this.init_();const Se=ge?this.charToByteMapWebSafe_:this.charToByteMap_,Be=[];for(let Pe=0;Pe<_e.length;){const ot=Se[_e.charAt(Pe++)],Zt=Pe<_e.length?Se[_e.charAt(Pe)]:0;++Pe;const Je=Pe<_e.length?Se[_e.charAt(Pe)]:64;++Pe;const Mt=Pe<_e.length?Se[_e.charAt(Pe)]:64;if(++Pe,null==ot||null==Zt||null==Je||null==Mt)throw new O;Be.push(ot<<2|Zt>>4),64!==Je&&(Be.push(Zt<<4&240|Je>>2),64!==Mt&&Be.push(Je<<6&192|Mt))}return Be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _e=0;_e<this.ENCODED_VALS.length;_e++)this.byteToCharMap_[_e]=this.ENCODED_VALS.charAt(_e),this.charToByteMap_[this.byteToCharMap_[_e]]=_e,this.byteToCharMapWebSafe_[_e]=this.ENCODED_VALS_WEBSAFE.charAt(_e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_e]]=_e,_e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_e)]=_e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_e)]=_e)}}};class O extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q=function(_e){return function(_e){const ge=I(_e);return P.encodeByteArray(ge,!0)}(_e).replace(/\./g,"")},R=function(_e){try{return P.decodeString(_e,!0)}catch(ge){console.error("base64Decode failed: ",ge)}return null};function U(_e,ge){if(!(ge instanceof Object))return ge;switch(ge.constructor){case Date:return new Date(ge.getTime());case Object:void 0===_e&&(_e={});break;case Array:_e=[];break;default:return ge}for(const Se in ge)!ge.hasOwnProperty(Se)||!q(Se)||(_e[Se]=U(_e[Se],ge[Se]));return _e}function q(_e){return"__proto__"!==_e}const B=()=>{try{return function ne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const _e=process.env.__FIREBASE_DEFAULTS__;return _e?JSON.parse(_e):void 0})()||(()=>{if(typeof document>"u")return;let _e;try{_e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ge=_e&&R(_e[1]);return ge&&JSON.parse(ge)})()}catch(_e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${_e}`)}},re=()=>{var _e;return null===(_e=B())||void 0===_e?void 0:_e.config},ae=_e=>{var ge;return null===(ge=B())||void 0===ge?void 0:ge[`_${_e}`]};class de{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ge,Se)=>{this.resolve=ge,this.reject=Se})}wrapCallback(ge){return(Se,Be)=>{Se?this.reject(Se):this.resolve(Be),"function"==typeof ge&&(this.promise.catch(()=>{}),1===ge.length?ge(Se):ge(Se,Be))}}}function Re(_e,ge){if(_e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Be=ge||"demo-project",Pe=_e.iat||0,ot=_e.sub||_e.user_id;if(!ot)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Vt=Object.assign({iss:`https://securetoken.google.com/${Be}`,aud:Be,iat:Pe,exp:Pe+3600,auth_time:Pe,sub:ot,user_id:ot,firebase:{sign_in_provider:"custom",identities:{}}},_e);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(Vt)),""].join(".")}function xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function ye(){var _e;const ge=null===(_e=B())||void 0===_e?void 0:_e.forceEnvironment;if("node"===ge)return!0;if("browser"===ge)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $e(){return"object"==typeof self&&self.self===self}function Te(){const _e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _e&&void 0!==_e.id}function fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function X(){const _e=xe();return _e.indexOf("MSIE ")>=0||_e.indexOf("Trident/")>=0}function pe(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ne(){try{return"object"==typeof indexedDB}catch{return!1}}function Le(){return new Promise((_e,ge)=>{try{let Se=!0;const Be="validate-browser-context-for-indexeddb-analytics-module",Pe=self.indexedDB.open(Be);Pe.onsuccess=()=>{Pe.result.close(),Se||self.indexedDB.deleteDatabase(Be),_e(!0)},Pe.onupgradeneeded=()=>{Se=!1},Pe.onerror=()=>{var ot;ge((null===(ot=Pe.error)||void 0===ot?void 0:ot.message)||"")}}catch(Se){ge(Se)}})}function nt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class dt extends Error{constructor(ge,Se,Be){super(Se),this.code=ge,this.customData=Be,this.name="FirebaseError",Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(ge,Se,Be){this.service=ge,this.serviceName=Se,this.errors=Be}create(ge,...Se){const Be=Se[0]||{},Pe=`${this.service}/${ge}`,ot=this.errors[ge],Vt=ot?function zt(_e,ge){return _e.replace(jt,(Se,Be)=>{const Pe=ge[Be];return null!=Pe?String(Pe):`<${Be}?>`})}(ot,Be):"Error";return new dt(Pe,`${this.serviceName}: ${Vt} (${Pe}).`,Be)}}const jt=/\{\$([^}]+)}/g;function tr(_e,ge){return Object.prototype.hasOwnProperty.call(_e,ge)}function jr(_e){for(const ge in _e)if(Object.prototype.hasOwnProperty.call(_e,ge))return!1;return!0}function bn(_e,ge){if(_e===ge)return!0;const Se=Object.keys(_e),Be=Object.keys(ge);for(const Pe of Se){if(!Be.includes(Pe))return!1;const ot=_e[Pe],Vt=ge[Pe];if(cr(ot)&&cr(Vt)){if(!bn(ot,Vt))return!1}else if(ot!==Vt)return!1}for(const Pe of Be)if(!Se.includes(Pe))return!1;return!0}function cr(_e){return null!==_e&&"object"==typeof _e}function Ir(_e){const ge=[];for(const[Se,Be]of Object.entries(_e))Array.isArray(Be)?Be.forEach(Pe=>{ge.push(encodeURIComponent(Se)+"="+encodeURIComponent(Pe))}):ge.push(encodeURIComponent(Se)+"="+encodeURIComponent(Be));return ge.length?"&"+ge.join("&"):""}function nr(_e){const ge={};return _e.replace(/^\?/,"").split("&").forEach(Be=>{if(Be){const[Pe,ot]=Be.split("=");ge[decodeURIComponent(Pe)]=decodeURIComponent(ot)}}),ge}function pn(_e){const ge=_e.indexOf("?");if(!ge)return"";const Se=_e.indexOf("#",ge);return _e.substring(ge,Se>0?Se:void 0)}function an(_e,ge){const Se=new pt(_e,ge);return Se.subscribe.bind(Se)}class pt{constructor(ge,Se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(()=>{ge(this)}).catch(Be=>{this.error(Be)})}next(ge){this.forEachObserver(Se=>{Se.next(ge)})}error(ge){this.forEachObserver(Se=>{Se.error(ge)}),this.close(ge)}complete(){this.forEachObserver(ge=>{ge.complete()}),this.close()}subscribe(ge,Se,Be){let Pe;if(void 0===ge&&void 0===Se&&void 0===Be)throw new Error("Missing Observer.");Pe=function An(_e,ge){if("object"!=typeof _e||null===_e)return!1;for(const Se of ge)if(Se in _e&&"function"==typeof _e[Se])return!0;return!1}(ge,["next","error","complete"])?ge:{next:ge,error:Se,complete:Be},void 0===Pe.next&&(Pe.next=ws),void 0===Pe.error&&(Pe.error=ws),void 0===Pe.complete&&(Pe.complete=ws);const ot=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Pe.error(this.finalError):Pe.complete()}catch{}}),this.observers.push(Pe),ot}unsubscribeOne(ge){void 0===this.observers||void 0===this.observers[ge]||(delete this.observers[ge],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ge){if(!this.finalized)for(let Se=0;Se<this.observers.length;Se++)this.sendOne(Se,ge)}sendOne(ge,Se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ge])try{Se(this.observers[ge])}catch(Be){typeof console<"u"&&console.error&&console.error(Be)}})}close(ge){this.finalized||(this.finalized=!0,void 0!==ge&&(this.finalError=ge),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ws(){}function Es(_e,ge=1e3,Se=2){const Be=ge*Math.pow(Se,_e),Pe=Math.round(.5*Be*(Math.random()-.5)*2);return Math.min(144e5,Be+Pe)}function gi(_e){return _e&&_e._delegate?_e._delegate:_e}},6579:(c,d,f)=>{"use strict";var s=f(4650);let v=null;function _(){return v}const O=new s.OlP("DocumentToken");let j=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Q(){return(0,s.LFG)(H)}()},providedIn:"platform"}),n})();const R=new s.OlP("Location Initialized");let H=(()=>{class n extends j{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _().getBaseHref(this._doc)}onPopState(t){const r=_().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=_().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){U()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){U()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function q(){return new H((0,s.LFG)(O))}()},providedIn:"platform"}),n})();function U(){return!!window.history.pushState}function ne(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function G(n){return n&&"?"!==n[0]?"?"+n:n}let V=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(ee)},providedIn:"root"}),n})();const B=new s.OlP("appBaseHref");let ee=(()=>{class n extends V{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(O).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ne(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+G(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const h=this.prepareExternalUrl(i+G(a));this._platformLocation.pushState(t,r,h)}replaceState(t,r,i,a){const h=this.prepareExternalUrl(i+G(a));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(j),s.LFG(B,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),te=(()=>{class n extends V{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ne(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let h=this.prepareExternalUrl(i+G(a));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,i,a){let h=this.prepareExternalUrl(i+G(a));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(j),s.LFG(B,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),re=(()=>{class n{constructor(t){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=z(Re(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+G(r))}normalize(t){return n.stripTrailingSlash(function de(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Re(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+G(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+G(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=G,n.joinWithSlash=ne,n.stripTrailingSlash=z,n.\u0275fac=function(t){return new(t||n)(s.LFG(V))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ae(){return new re((0,s.LFG)(V))}()},providedIn:"root"}),n})();function Re(n){return n.replace(/\/index.html$/,"")}var $e=(()=>(($e=$e||{})[$e.Format=0]="Format",$e[$e.Standalone=1]="Standalone",$e))(),Te=(()=>((Te=Te||{})[Te.Narrow=0]="Narrow",Te[Te.Abbreviated=1]="Abbreviated",Te[Te.Wide=2]="Wide",Te[Te.Short=3]="Short",Te))(),fe=(()=>((fe=fe||{})[fe.Short=0]="Short",fe[fe.Medium=1]="Medium",fe[fe.Long=2]="Long",fe[fe.Full=3]="Full",fe))(),le=(()=>((le=le||{})[le.Decimal=0]="Decimal",le[le.Group=1]="Group",le[le.List=2]="List",le[le.PercentSign=3]="PercentSign",le[le.PlusSign=4]="PlusSign",le[le.MinusSign=5]="MinusSign",le[le.Exponential=6]="Exponential",le[le.SuperscriptingExponent=7]="SuperscriptingExponent",le[le.PerMille=8]="PerMille",le[le.Infinity=9]="Infinity",le[le.NaN=10]="NaN",le[le.TimeSeparator=11]="TimeSeparator",le[le.CurrencyDecimal=12]="CurrencyDecimal",le[le.CurrencyGroup=13]="CurrencyGroup",le))();function dt(n,e){return ft((0,s.cg1)(n)[s.wAp.DateFormat],e)}function Qe(n,e){return ft((0,s.cg1)(n)[s.wAp.TimeFormat],e)}function zt(n,e){return ft((0,s.cg1)(n)[s.wAp.DateTimeFormat],e)}function jt(n,e){const t=(0,s.cg1)(n),r=t[s.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===le.CurrencyDecimal)return t[s.wAp.NumberSymbols][le.Decimal];if(e===le.CurrencyGroup)return t[s.wAp.NumberSymbols][le.Group]}return r}function mr(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ft(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function bn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const nr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pn={},hn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var an=(()=>((an=an||{})[an.Short=0]="Short",an[an.ShortGMT=1]="ShortGMT",an[an.Long=2]="Long",an[an.Extended=3]="Extended",an))(),pt=(()=>((pt=pt||{})[pt.FullYear=0]="FullYear",pt[pt.Month=1]="Month",pt[pt.Date=2]="Date",pt[pt.Hours=3]="Hours",pt[pt.Minutes=4]="Minutes",pt[pt.Seconds=5]="Seconds",pt[pt.FractionalSeconds=6]="FractionalSeconds",pt[pt.Day=7]="Day",pt))(),kt=(()=>((kt=kt||{})[kt.DayPeriods=0]="DayPeriods",kt[kt.Days=1]="Days",kt[kt.Months=2]="Months",kt[kt.Eras=3]="Eras",kt))();function An(n,e,t,r){let i=function Pe(n){if(Vt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,h=1]=n.split("-").map(m=>+m);return ws(i,a-1,h)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(nr))return function ot(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const h=Number(n[4]||0)-t,m=Number(n[5]||0)-r,E=Number(n[6]||0),D=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,h,m,E,D),e}(r)}const e=new Date(n);if(!Vt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Si(t,e)||e;let m,h=[];for(;e;){if(m=hn.exec(e),!m){h.push(e);break}{h=h.concat(m.slice(1));const F=h.pop();if(!F)break;e=F}}let E=i.getTimezoneOffset();r&&(E=ge(r,E),i=function Be(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Se(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(ge(e,i)-i))}(i,r,!0));let D="";return h.forEach(F=>{const W=function _e(n){if(gi[n])return gi[n];let e;switch(n){case"G":case"GG":case"GGG":e=dn(kt.Eras,Te.Abbreviated);break;case"GGGG":e=dn(kt.Eras,Te.Wide);break;case"GGGGG":e=dn(kt.Eras,Te.Narrow);break;case"y":e=Sn(pt.FullYear,1,0,!1,!0);break;case"yy":e=Sn(pt.FullYear,2,0,!0,!0);break;case"yyy":e=Sn(pt.FullYear,3,0,!1,!0);break;case"yyyy":e=Sn(pt.FullYear,4,0,!1,!0);break;case"Y":e=Ii(1);break;case"YY":e=Ii(2,!0);break;case"YYY":e=Ii(3);break;case"YYYY":e=Ii(4);break;case"M":case"L":e=Sn(pt.Month,1,1);break;case"MM":case"LL":e=Sn(pt.Month,2,1);break;case"MMM":e=dn(kt.Months,Te.Abbreviated);break;case"MMMM":e=dn(kt.Months,Te.Wide);break;case"MMMMM":e=dn(kt.Months,Te.Narrow);break;case"LLL":e=dn(kt.Months,Te.Abbreviated,$e.Standalone);break;case"LLLL":e=dn(kt.Months,Te.Wide,$e.Standalone);break;case"LLLLL":e=dn(kt.Months,Te.Narrow,$e.Standalone);break;case"w":e=rr(1);break;case"ww":e=rr(2);break;case"W":e=rr(1,!0);break;case"d":e=Sn(pt.Date,1);break;case"dd":e=Sn(pt.Date,2);break;case"c":case"cc":e=Sn(pt.Day,1);break;case"ccc":e=dn(kt.Days,Te.Abbreviated,$e.Standalone);break;case"cccc":e=dn(kt.Days,Te.Wide,$e.Standalone);break;case"ccccc":e=dn(kt.Days,Te.Narrow,$e.Standalone);break;case"cccccc":e=dn(kt.Days,Te.Short,$e.Standalone);break;case"E":case"EE":case"EEE":e=dn(kt.Days,Te.Abbreviated);break;case"EEEE":e=dn(kt.Days,Te.Wide);break;case"EEEEE":e=dn(kt.Days,Te.Narrow);break;case"EEEEEE":e=dn(kt.Days,Te.Short);break;case"a":case"aa":case"aaa":e=dn(kt.DayPeriods,Te.Abbreviated);break;case"aaaa":e=dn(kt.DayPeriods,Te.Wide);break;case"aaaaa":e=dn(kt.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":e=dn(kt.DayPeriods,Te.Abbreviated,$e.Standalone,!0);break;case"bbbb":e=dn(kt.DayPeriods,Te.Wide,$e.Standalone,!0);break;case"bbbbb":e=dn(kt.DayPeriods,Te.Narrow,$e.Standalone,!0);break;case"B":case"BB":case"BBB":e=dn(kt.DayPeriods,Te.Abbreviated,$e.Format,!0);break;case"BBBB":e=dn(kt.DayPeriods,Te.Wide,$e.Format,!0);break;case"BBBBB":e=dn(kt.DayPeriods,Te.Narrow,$e.Format,!0);break;case"h":e=Sn(pt.Hours,1,-12);break;case"hh":e=Sn(pt.Hours,2,-12);break;case"H":e=Sn(pt.Hours,1);break;case"HH":e=Sn(pt.Hours,2);break;case"m":e=Sn(pt.Minutes,1);break;case"mm":e=Sn(pt.Minutes,2);break;case"s":e=Sn(pt.Seconds,1);break;case"ss":e=Sn(pt.Seconds,2);break;case"S":e=Sn(pt.FractionalSeconds,1);break;case"SS":e=Sn(pt.FractionalSeconds,2);break;case"SSS":e=Sn(pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=$r(an.Short);break;case"ZZZZZ":e=$r(an.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$r(an.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=$r(an.Long);break;default:return null}return gi[n]=e,e}(F);D+=W?W(i,t,E):"''"===F?"'":F.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),D}function ws(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Si(n,e){const t=function oe(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(pn[t]=pn[t]||{},pn[t][e])return pn[t][e];let r="";switch(e){case"shortDate":r=dt(n,fe.Short);break;case"mediumDate":r=dt(n,fe.Medium);break;case"longDate":r=dt(n,fe.Long);break;case"fullDate":r=dt(n,fe.Full);break;case"shortTime":r=Qe(n,fe.Short);break;case"mediumTime":r=Qe(n,fe.Medium);break;case"longTime":r=Qe(n,fe.Long);break;case"fullTime":r=Qe(n,fe.Full);break;case"short":const i=Si(n,"shortTime"),a=Si(n,"shortDate");r=gr(zt(n,fe.Short),[i,a]);break;case"medium":const h=Si(n,"mediumTime"),m=Si(n,"mediumDate");r=gr(zt(n,fe.Medium),[h,m]);break;case"long":const E=Si(n,"longTime"),D=Si(n,"longDate");r=gr(zt(n,fe.Long),[E,D]);break;case"full":const F=Si(n,"fullTime"),W=Si(n,"fullDate");r=gr(zt(n,fe.Full),[F,W])}return r&&(pn[t][e]=r),r}function gr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Lt(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let h=String(n);for(;h.length<e;)h="0"+h;return r&&(h=h.slice(h.length-e)),a+h}function Sn(n,e,t=0,r=!1,i=!1){return function(a,h){let m=function ta(n,e){switch(n){case pt.FullYear:return e.getFullYear();case pt.Month:return e.getMonth();case pt.Date:return e.getDate();case pt.Hours:return e.getHours();case pt.Minutes:return e.getMinutes();case pt.Seconds:return e.getSeconds();case pt.FractionalSeconds:return e.getMilliseconds();case pt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||m>-t)&&(m+=t),n===pt.Hours)0===m&&-12===t&&(m=12);else if(n===pt.FractionalSeconds)return function Gr(n,e){return Lt(n,3).substring(0,e)}(m,e);const E=jt(h,le.MinusSign);return Lt(m,e,E,r,i)}}function dn(n,e,t=$e.Format,r=!1){return function(i,a){return function Dr(n,e,t,r,i,a){switch(t){case kt.Months:return function Ne(n,e,t){const r=(0,s.cg1)(n),a=ft([r[s.wAp.MonthsFormat],r[s.wAp.MonthsStandalone]],e);return ft(a,t)}(e,i,r)[n.getMonth()];case kt.Days:return function pe(n,e,t){const r=(0,s.cg1)(n),a=ft([r[s.wAp.DaysFormat],r[s.wAp.DaysStandalone]],e);return ft(a,t)}(e,i,r)[n.getDay()];case kt.DayPeriods:const h=n.getHours(),m=n.getMinutes();if(a){const D=function tr(n){const e=(0,s.cg1)(n);return mr(e),(e[s.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?bn(r):[bn(r[0]),bn(r[1])])}(e),F=function zr(n,e,t){const r=(0,s.cg1)(n);mr(r);const a=ft([r[s.wAp.ExtraData][0],r[s.wAp.ExtraData][1]],e)||[];return ft(a,t)||[]}(e,i,r),W=D.findIndex(ce=>{if(Array.isArray(ce)){const[me,Ce]=ce,Me=h>=me.hours&&m>=me.minutes,Ue=h<Ce.hours||h===Ce.hours&&m<Ce.minutes;if(me.hours<Ce.hours){if(Me&&Ue)return!0}else if(Me||Ue)return!0}else if(ce.hours===h&&ce.minutes===m)return!0;return!1});if(-1!==W)return F[W]}return function be(n,e,t){const r=(0,s.cg1)(n),a=ft([r[s.wAp.DayPeriodsFormat],r[s.wAp.DayPeriodsStandalone]],e);return ft(a,t)}(e,i,r)[h<12?0:1];case kt.Eras:return function Le(n,e){return ft((0,s.cg1)(n)[s.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function $r(n){return function(e,t,r){const i=-1*r,a=jt(t,le.MinusSign),h=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case an.Short:return(i>=0?"+":"")+Lt(h,2,a)+Lt(Math.abs(i%60),2,a);case an.ShortGMT:return"GMT"+(i>=0?"+":"")+Lt(h,1,a);case an.Long:return"GMT"+(i>=0?"+":"")+Lt(h,2,a)+":"+Lt(Math.abs(i%60),2,a);case an.Extended:return 0===r?"Z":(i>=0?"+":"")+Lt(h,2,a)+":"+Lt(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function Es(n){return ws(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function rr(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,h=t.getDate();i=1+Math.floor((h+a)/7)}else{const a=Es(t),h=function qr(n){const e=ws(n,0,1).getDay();return ws(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),m=a.getTime()-h.getTime();i=1+Math.round(m/6048e5)}return Lt(i,n,jt(r,le.MinusSign))}}function Ii(n,e=!1){return function(t,r){return Lt(Es(t).getFullYear(),n,jt(r,le.MinusSign),e)}}const gi={};function ge(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Vt(n){return n instanceof Date&&!isNaN(n.valueOf())}let mn=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Yc{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,h)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Yc(i.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===a?void 0:a);else if(null!==a){const m=r.get(a);r.move(m,h),so(m,i)}});for(let i=0,a=r.length;i<a;i++){const m=r.get(i).context;m.index=i,m.count=a,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{so(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function so(n,e){n.context.$implicit=e.item}let Bn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new kh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Tr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Tr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class kh{constructor(){this.$implicit=null,this.ngIf=null}}function Tr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(e)}'.`)}class yi{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let oo=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ra=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new yi(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(oo,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();function Nn(n,e){return new s.vHH(2100,!1)}class Fh{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Xc{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Nh=new Xc,If=new Fh;let Jc=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,s.QGY)(t))return Nh;if((0,s.F4k)(t))return If;throw Nn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Km=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let eu=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,a){if(null==t||""===t||t!=t)return null;try{return An(t,r,a||this.locale,i??this.defaultTimezone??void 0)}catch(h){throw Nn()}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.soG,16),s.Y36(Km,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),_i=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Vl="browser";function Bl(n){return"server"===n}let Hs=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Ul((0,s.LFG)(O),window)}),n})();class Ul{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function vi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const h=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(h)return h}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Bi(this.window.history)||Bi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Bi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class gu extends class Nf extends class P{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function M(n){v||(v=n)}(new gu)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ql(){return Yl=Yl||document.querySelector("base"),Yl?Yl.getAttribute("href"):null}();return null==t?null:function Lf(n){Xl=Xl||document.createElement("a"),Xl.setAttribute("href",n);const e=Xl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Yl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Rl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Xl,Yl=null;const ua=new s.OlP("TRANSITION_ID"),yu=[{provide:s.ip1,useFactory:function Xh(n,e,t){return()=>{t.get(s.CZH).donePromise.then(()=>{const r=_(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[ua,O,s.zs3],multi:!0}];let Vf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ss=new s.OlP("EventManagerPlugins");let tl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const h=i[a];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ss),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Gs{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=_().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ao=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Is=(()=>{class n extends Ao{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const h=this._doc.createElement("style");h.textContent=a,i.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Jl),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Jl))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Jl(n){_().remove(n)}const nl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hi=/%COMP%/g;function ko(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ko(n,i,t):(i=i.replace(Hi,n),t.push(i))}return t}function ec(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let da=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new fa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case s.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Ro(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case s.ifc.ShadowDom:return new Hf(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ko(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(tl),s.LFG(Is),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class fa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(nl[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(il(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(il(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=nl[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=nl[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,r,i&s.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ec(r)):this.eventManager.addEventListener(e,t,ec(r))}}function il(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ro extends fa{constructor(e,t,r,i){super(e),this.component=r;const a=ko(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Po(n){return"_ngcontent-%COMP%".replace(Hi,n)}(i+"-"+r.id),this.hostAttr=function rl(n){return"_nghost-%COMP%".replace(Hi,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Hf extends fa{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=ko(i.id,i.styles,[]);for(let h=0;h<a.length;h++){const m=document.createElement("style");m.textContent=a[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let tc=(()=>{class n extends Gs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ts=["alt","control","meta","shift"],eg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Un={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bu=(()=>{class n extends Gs{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),h=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_().onAndCancel(t,a.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let h="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),h="code."),Ts.forEach(D=>{const F=r.indexOf(D);F>-1&&(r.splice(F,1),h+=D+".")}),h+=a,0!=r.length||0===a.length)return null;const E={};return E.domEventName=i,E.fullKey=h,E}static matchEventFullKeyCode(t,r){let i=eg[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ts.forEach(h=>{h!==i&&(0,Un[h])(t)&&(a+=h+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const rc=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Vl},{provide:s.g9A,useValue:function Oo(){gu.makeCurrent()},multi:!0},{provide:O,useFactory:function pa(){return(0,s.RDi)(document),document},deps:[]}]),ol=new s.OlP(""),In=[{provide:s.rWj,useClass:class el{addToWindow(e){s.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(r=>{const i=s.dqk.getAllAngularTestabilities();let a=i.length,h=!1;const m=function(E){h=h||E,a--,0==a&&r(h)};i.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?_().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],wu=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Yr(){return new s.qLn},deps:[]},{provide:Ss,useClass:tc,multi:!0,deps:[O,s.R0b,s.Lbi]},{provide:Ss,useClass:bu,multi:!0,deps:[O]},{provide:da,useClass:da,deps:[tl,Is,s.AFp]},{provide:s.FYo,useExisting:da},{provide:Ao,useExisting:Is},{provide:Is,useClass:Is,deps:[O]},{provide:tl,useClass:tl,deps:[Ss,s.R0b]},{provide:class zl{},useClass:Vf,deps:[]},[]];let ic=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:s.AFp,useValue:t.appId},{provide:ua,useExisting:s.AFp},yu]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ol,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...wu,...In],imports:[_i,s.hGG]}),n})(),$f=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Gf(){return new $f((0,s.LFG)(O))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Fo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):s.LFG(cl),r},providedIn:"root"}),n})(),cl=(()=>{class n extends Fo{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case s.q3G.NONE:return r;case s.q3G.HTML:return(0,s.qzn)(r,"HTML")?(0,s.z3N)(r):(0,s.EiD)(this._doc,String(r)).toString();case s.q3G.STYLE:return(0,s.qzn)(r,"Style")?(0,s.z3N)(r):r;case s.q3G.SCRIPT:if((0,s.qzn)(r,"Script"))return(0,s.z3N)(r);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(r,"URL")?(0,s.z3N)(r):(0,s.mCW)(String(r));case s.q3G.RESOURCE_URL:if((0,s.qzn)(r,"ResourceURL"))return(0,s.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,s.JVY)(t)}bypassSecurityTrustStyle(t){return(0,s.L6k)(t)}bypassSecurityTrustScript(t){return(0,s.eBb)(t)}bypassSecurityTrustUrl(t){return(0,s.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,s.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Iu(n){return new cl(n.get(O))}(s.LFG(s.zs3)),r},providedIn:"root"}),n})();var En=f(8996),ss=f(3269);function vt(...n){const e=(0,ss.yG)(n);return(0,En.D)(n,e)}var bt=f(7579);class hr extends bt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ga=(0,f(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Fr=f(9751);const{isArray:hc}=Array,{getPrototypeOf:ul,prototype:No,keys:ci}=Object;function dc(n){if(1===n.length){const e=n[0];if(hc(e))return{args:e,keys:null};if(function or(n){return n&&"object"==typeof n&&ul(n)===No}(e)){const t=ci(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ya=f(4671),St=f(4004);const{isArray:rd}=Array;function hl(n){return(0,St.U)(e=>function Lo(n,e){return rd(e)?n(...e):n(e)}(n,e))}function fc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var $n=f(5403),id=f(9672);function Ws(...n){const e=(0,ss.yG)(n),t=(0,ss.jO)(n),{args:r,keys:i}=dc(n);if(0===r.length)return(0,En.D)([],e);const a=new Fr.y(function Du(n,e,t=ya.y){return r=>{Vo(e,()=>{const{length:i}=n,a=new Array(i);let h=i,m=i;for(let E=0;E<i;E++)Vo(e,()=>{const D=(0,En.D)(n[E],e);let F=!1;D.subscribe((0,$n.x)(r,W=>{a[E]=W,F||(F=!0,m--),m||r.next(t(a.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,i?h=>fc(i,h):ya.y));return t?a.pipe(hl(t)):a}function Vo(n,e,t){n?(0,id.f)(t,n,e):e()}var _a=f(8189);function xs(...n){return function Kf(){return(0,_a.J)(1)}()((0,En.D)(n,(0,ss.yG)(n)))}var As=f(8421);function va(n){return new Fr.y(e=>{(0,As.Xf)(n()).subscribe(e)})}var sd=f(9635),Ms=f(576);function ki(n,e){const t=(0,Ms.m)(n)?n:()=>n,r=i=>i.error(t());return new Fr.y(e?i=>e.schedule(r,0,i):r)}var zi=f(515),Qr=f(727),_r=f(4482);function pc(){return(0,_r.e)((n,e)=>{let t=null;n._refCount++;const r=(0,$n.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Yf extends Fr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,_r.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,$n.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qr.w0.EMPTY)}return e}refCount(){return pc()(this)}}function dr(n,e){return(0,_r.e)((t,r)=>{let i=null,a=0,h=!1;const m=()=>h&&!i&&r.complete();t.subscribe((0,$n.x)(r,E=>{i?.unsubscribe();let D=0;const F=a++;(0,As.Xf)(n(E,F)).subscribe(i=(0,$n.x)(r,W=>r.next(e?e(E,W,F,D++):W),()=>{i=null,m()}))},()=>{h=!0,m()}))})}function Nr(n){return n<=0?()=>zi.E:(0,_r.e)((e,t)=>{let r=0;e.subscribe((0,$n.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function bi(...n){const e=(0,ss.yG)(n);return(0,_r.e)((t,r)=>{(e?xs(n,t,e):xs(n,t)).subscribe(r)})}function ar(n,e){return(0,_r.e)((t,r)=>{let i=0;t.subscribe((0,$n.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var lr=f(5577);function lo(n){return(0,_r.e)((e,t)=>{let r=!1;e.subscribe((0,$n.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ba(n=mc){return(0,_r.e)((e,t)=>{let r=!1;e.subscribe((0,$n.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function mc(){return new ga}function os(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ar((i,a)=>n(i,a,r)):ya.y,Nr(1),t?lo(e):ba(()=>new ga))}function ji(n,e){return(0,Ms.m)(e)?(0,lr.z)(n,e,1):(0,lr.z)(n,1)}var er=f(8505);function as(n){return(0,_r.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,$n.x)(t,void 0,void 0,h=>{a=(0,As.Xf)(n(h,as(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Qf(n,e,t,r,i){return(a,h)=>{let m=t,E=e,D=0;a.subscribe((0,$n.x)(h,F=>{const W=D++;E=m?n(E,F,W):(m=!0,F),r&&h.next(E)},i&&(()=>{m&&h.next(E),h.complete()})))}}function co(n,e){return(0,_r.e)(Qf(n,e,arguments.length>=2,!0))}function Xf(n){return n<=0?()=>zi.E:(0,_r.e)((e,t)=>{let r=[];e.subscribe((0,$n.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Jf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ar((i,a)=>n(i,a,r)):ya.y,Xf(1),t?lo(e):ba(()=>new ga))}function gc(n){return(0,_r.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const sn="primary",dl=Symbol("RouteTitle");class wa{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Zs(n){return new wa(n)}function uo(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const h=r[a],m=n[a];if(h.startsWith(":"))i[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ps(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!yc(n[i],e[i]))return!1;return!0}function yc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function xu(n){return Array.prototype.concat.apply([],n)}function ls(n){return n.length>0?n[n.length-1]:null}function x(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function N(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,En.D)(Promise.resolve(n)):vt(n)}const J=!1,we={exact:function it(n,e,t){if(!Lr(n.segments,e.segments)||!Xr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!it(n.children[r],e.children[r],t))return!1;return!0},subset:Dt},De={exact:function at(n,e){return Ps(n,e)},subset:function It(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>yc(n[t],e[t]))},ignored:()=>!0};function ze(n,e,t){return we[t.paths](n.root,e.root,t.matrixParams)&&De[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Dt(n,e,t){return Gt(n,e,e.segments,t)}function Gt(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Lr(i,t)||e.hasChildren()||!Xr(i,t,r))}if(n.segments.length===t.length){if(!Lr(n.segments,t)||!Xr(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Dt(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Lr(n.segments,i)&&Xr(n.segments,i,r)&&n.children[sn])&&Gt(n.children[sn],e,a,r)}}function Xr(n,e,t){return e.every((r,i)=>De[t](n[i].parameters,r.parameters))}class kn{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zs(this.queryParams)),this._queryParamMap}toString(){return rg.serialize(this)}}class xt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,x(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ep(this)}}class cs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Zs(this.parameters)),this._parameterMap}toString(){return ig(this)}}function Lr(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let _c=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new Au},providedIn:"root"}),n})();class Au{parse(e){const t=new Pu(e);return new kn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ea(e.root,!0)}`,r=function v_(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${fl(t)}=${fl(i)}`).join("&"):`${fl(t)}=${fl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ad(n){return encodeURI(n)}(e.fragment)}`:""}`}}const rg=new Au;function ep(n){return n.segments.map(e=>ig(e)).join("/")}function Ea(n,e){if(!n.hasChildren())return ep(n);if(e){const t=n.children[sn]?Ea(n.children[sn],!1):"",r=[];return x(n.children,(i,a)=>{a!==sn&&r.push(`${a}:${Ea(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ks(n,e){let t=[];return x(n.children,(r,i)=>{i===sn&&(t=t.concat(e(r,i)))}),x(n.children,(r,i)=>{i!==sn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===sn?[Ea(n.children[sn],!1)]:[`${i}:${Ea(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[sn]?`${ep(n)}/${t[0]}`:`${ep(n)}/(${t.join("//")})`}}function tp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fl(n){return tp(n).replace(/%3B/gi,";")}function vc(n){return tp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ld(n){return decodeURIComponent(n)}function np(n){return ld(n.replace(/\+/g,"%20"))}function ig(n){return`${vc(n.path)}${function Mu(n){return Object.keys(n).map(e=>`;${vc(e)}=${vc(n[e])}`).join("")}(n.parameters)}`}const sg=/^[^\/()?;=#]+/;function bc(n){const e=n.match(sg);return e?e[0]:""}const og=/^[^=?&#]+/,iw=/^[^&#]+/;class Pu{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[sn]=new xt(e,t)),r}parseSegment(){const e=bc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new s.vHH(4009,J);return this.capture(e),new cs(ld(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=bc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=bc(this.remaining);i&&(r=i,this.capture(r))}e[ld(t)]=ld(r)}parseQueryParam(e){const t=function Ca(n){const e=n.match(og);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function wc(n){const e=n.match(iw);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const i=np(t),a=np(r);if(e.hasOwnProperty(i)){let h=e[i];Array.isArray(h)||(h=[h],e[i]=h),h.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new s.vHH(4010,J);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=sn);const h=this.parseChildren();t[a]=1===Object.keys(h).length?h[sn]:new xt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new s.vHH(4011,J)}}function cd(n){return n.segments.length>0?new xt([],{[sn]:n}):n}function Ec(n){const e={};for(const r of Object.keys(n.children)){const a=Ec(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function rp(n){if(1===n.numberOfChildren&&n.children[sn]){const e=n.children[sn];return new xt(n.segments.concat(e.segments),e.children)}return n}(new xt(n.segments,e))}function pl(n){return n instanceof kn}function w_(n,e,t,r,i){if(0===t.length)return gl(e.root,e.root,e.root,r,i);const a=function hd(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new sp(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,h)=>{if("object"==typeof a&&null!=a){if(a.outlets){const m={};return x(a.outlets,(E,D)=>{m[D]="string"==typeof E?E.split("/"):E}),[...i,{outlets:m}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===h?(a.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,a]},[]);return new sp(t,e,r)}(t);return a.toRoot()?gl(e.root,e.root,new xt([],{}),r,i):function h(E){const D=function Ho(n,e,t,r){if(n.isAbsolute)return new yl(e.root,!0,0);if(-1===r)return new yl(t,t===e.root,0);return function Ru(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new s.vHH(4005,!1);i=r.segments.length}return new yl(r,!1,i-a)}(t,r+(Cc(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,E),F=D.processChildren?_l(D.segmentGroup,D.index,a.commands):op(D.segmentGroup,D.index,a.commands);return gl(e.root,D.segmentGroup,F,r,i)}(n.snapshot?._lastPathIndex)}function Cc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ml(n){return"object"==typeof n&&null!=n&&n.outlets}function gl(n,e,t,r,i){let h,a={};r&&x(r,(E,D)=>{a[D]=Array.isArray(E)?E.map(F=>`${F}`):`${E}`}),h=n===e?t:ud(n,e,t);const m=cd(Ec(h));return new kn(m,a,i)}function ud(n,e,t){const r={};return x(n.children,(i,a)=>{r[a]=i===e?t:ud(i,e,t)}),new xt(n.segments,r)}class sp{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Cc(r[0]))throw new s.vHH(4003,!1);const i=r.find(ml);if(i&&i!==ls(r))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function op(n,e,t){if(n||(n=new xt([],{})),0===n.segments.length&&n.hasChildren())return _l(n,e,t);const r=function dd(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const h=n.segments[i],m=t[r];if(ml(m))break;const E=`${m}`,D=r<t.length-1?t[r+1]:null;if(i>0&&void 0===E)break;if(E&&D&&"object"==typeof D&&void 0===D.outlets){if(!lp(E,D,h))return a;r+=2}else{if(!lp(E,{},h))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new xt(n.segments.slice(0,r.pathIndex),{});return a.children[sn]=new xt(n.segments.slice(r.pathIndex),n.children),_l(a,0,i)}return r.match&&0===i.length?new xt(n.segments,{}):r.match&&!n.hasChildren()?ap(n,e,t):r.match?_l(n,0,i):ap(n,e,t)}function _l(n,e,t){if(0===t.length)return new xt(n.segments,{});{const r=function lg(n){return ml(n[0])?n[0].outlets:{[sn]:n}}(t),i={};return x(r,(a,h)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[h]=op(n.children[h],e,a))}),x(n.children,(a,h)=>{void 0===r[h]&&(i[h]=a)}),new xt(n.segments,i)}}function ap(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(ml(a)){const E=cg(a.outlets);return new xt(r,E)}if(0===i&&Cc(t[0])){r.push(new cs(n.segments[e].path,fd(t[0]))),i++;continue}const h=ml(a)?a.outlets[sn]:`${a}`,m=i<t.length-1?t[i+1]:null;h&&m&&Cc(m)?(r.push(new cs(h,fd(m))),i+=2):(r.push(new cs(h,{})),i++)}return new xt(r,{})}function cg(n){const e={};return x(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ap(new xt([],{}),0,t))}),e}function fd(n){const e={};return x(n,(t,r)=>e[r]=`${t}`),e}function lp(n,e,t){return n==t.path&&Ps(e,t.parameters)}class Ys{constructor(e,t){this.id=e,this.url=t}}class pd extends Ys{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fo extends Ys{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qs extends Ys{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cp extends Ys{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class md extends Ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class up extends Ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hp extends Ys{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ou extends Ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E_ extends Ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dp{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fp{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pp{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gp{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sc{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gd{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ic{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=yd(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=yd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ug(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ug(e,this._root).map(t=>t.value)}}function yd(n,e){if(n===e.value)return e;for(const t of e.children){const r=yd(n,t);if(r)return r}return null}function ug(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ug(n,t);if(r.length)return r.unshift(e),r}return[]}class Xs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function po(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class hg extends Ic{constructor(e,t){super(e),this.snapshot=t,wd(this,e)}toString(){return this.snapshot.toString()}}function _d(n,e){const t=function vd(n,e){const h=new Fu([],{},{},"",{},sn,e,null,n.root,-1,{});return new Sa("",new Xs(h,[]))}(n,e),r=new hr([new cs("",{})]),i=new hr({}),a=new hr({}),h=new hr({}),m=new hr(""),E=new ui(r,i,h,m,a,sn,e,t.root);return E.snapshot=t.root,new hg(new Xs(E,[]),t)}class ui{constructor(e,t,r,i,a,h,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=h,this.component=m,this.title=this.data?.pipe((0,St.U)(D=>D[dl]))??vt(void 0),this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(e=>Zs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(e=>Zs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bd(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function dg(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Fu{constructor(e,t,r,i,a,h,m,E,D,F,W,ce){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=h,this.component=m,this.title=this.data?.[dl],this.routeConfig=E,this._urlSegment=D,this._lastPathIndex=F,this._correctedLastPathIndex=ce??F,this._resolve=W}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sa extends Ic{constructor(e,t){super(t),this.url=e,wd(this,t)}toString(){return Ri(this._root)}}function wd(n,e){e.value._routerState=n,e.children.forEach(t=>wd(n,t))}function Ri(n){const e=n.children.length>0?` { ${n.children.map(Ri).join(", ")} } `:"";return`${n.value}${e}`}function Nu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ps(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ps(e.params,t.params)||n.params.next(t.params),function od(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ps(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ps(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Lu(n,e){const t=Ps(n.params,e.params)&&function ho(n,e){return Lr(n,e)&&n.every((t,r)=>Ps(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Lu(n.parent,e.parent))}function vr(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function mo(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return vr(n,r,i);return vr(n,r)})}(n,e,t);return new Xs(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const h=a.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(m=>vr(n,m)),h}}const r=function fg(n){return new ui(new hr(n.url),new hr(n.params),new hr(n.queryParams),new hr(n.fragment),new hr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>vr(n,a));return new Xs(r,i)}}const Ed="ngNavigationCancelingError";function pg(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=pl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Cd(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Cd(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ed]=!0,r.cancellationCode=e,t&&(r.url=t),r}function mg(n){return gg(n)&&pl(n.url)}function gg(n){return n&&n[Ed]}class yg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Vu,this.attachRef=null}}let Vu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new yg,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const C=!1;let y=(()=>{class n{constructor(t,r,i,a,h){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=i||sn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,C);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,C);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,C);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new s.vHH(4013,C);this._activatedRoute=t;const i=this.location,h=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,E=new b(t,m,i.injector);if(r&&function T(n){return!!n.resolveComponentFactory}(r)){const D=r.resolveComponentFactory(h);this.activated=i.createComponent(D,i.length,E)}else this.activated=i.createComponent(h,{index:i.length,injector:E,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Vu),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class b{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ui?this.route:e===Vu?this.childContexts:this.parent.get(e,t)}}let $=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(t,r){1&t&&s._UZ(0,"router-outlet")},dependencies:[y],encapsulation:2}),n})();function ie(n,e){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Bu(n){const e=n.children&&n.children.map(Bu),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==sn&&(t.component=$),t}function ks(n){return n.outlet||sn}function Hu(n,e){const t=n.filter(r=>ks(r)===e);return t.push(...n.filter(r=>ks(r)!==e)),t}function Dc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class yp{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Nu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=po(t);e.children.forEach(a=>{const h=a.value.outlet;this.deactivateRoutes(a,i[h],r),delete i[h]}),x(i,(a,h)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const h=r.getContext(i.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=po(e);for(const h of Object.keys(a))this.deactivateRouteAndItsChildren(a[h],i);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=po(e);for(const h of Object.keys(a))this.deactivateRouteAndItsChildren(a[h],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=po(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Sc(a.value.snapshot))}),e.children.length&&this.forwardEvent(new mp(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Nu(i),i===a)if(i.component){const h=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const h=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),Nu(m.route.value),this.activateChildRoutes(e,null,h.children)}else{const m=Dc(i.snapshot),E=m?.get(s._Vd)??null;h.attachRef=null,h.route=i,h.resolver=E,h.injector=m,h.outlet&&h.outlet.activateWith(i,h.injector),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class _p{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Tc{constructor(e,t){this.component=e,this.route=t}}function xc(n,e,t){const r=n._root;return vl(r,e?e._root:null,t,[r.value])}function Ia(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,s.Z0I)(n)?e.get(n):n:r}function vl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=po(e);return n.children.forEach(h=>{(function br(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&a.routeConfig===h.routeConfig){const E=function fD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Lr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Lr(n.url,e.url)||!Ps(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lu(n,e)||!Ps(n.queryParams,e.queryParams);default:return!Lu(n,e)}}(h,a,a.routeConfig.runGuardsAndResolvers);E?i.canActivateChecks.push(new _p(r)):(a.data=h.data,a._resolvedData=h._resolvedData),vl(n,e,a.component?m?m.children:null:t,r,i),E&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new Tc(m.outlet.component,h))}else h&&bp(e,m,i),i.canActivateChecks.push(new _p(r)),vl(n,null,a.component?m?m.children:null:t,r,i)})(h,a[h.value.outlet],t,r.concat([h.value]),i),delete a[h.value.outlet]}),x(a,(h,m)=>bp(h,t.getContext(m),i)),i}function bp(n,e,t){const r=po(n),i=n.value;x(r,(a,h)=>{bp(a,i.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Tc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Uu(n){return"function"==typeof n}function zu(n){return n instanceof ga||"EmptyError"===n?.name}const Sd=Symbol("INITIAL_VALUE");function ju(){return dr(n=>Ws(n.map(e=>e.pipe(Nr(1),bi(Sd)))).pipe((0,St.U)(e=>{for(const t of e)if(!0!==t){if(t===Sd)return Sd;if(!1===t||t instanceof kn)return t}return!0}),ar(e=>e!==Sd),Nr(1)))}function D_(n){return(0,sd.z)((0,er.b)(e=>{if(pl(e))throw pg(0,e)}),(0,St.U)(e=>!0===e))}const bl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dw(n,e,t,r,i){const a=wp(n,e,t);return a.matched?function hw(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?vt(i.map(h=>{const m=Ia(h,n);return N(function _D(n){return n&&Uu(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(ju(),D_()):vt(!0)}(r=ie(e,r),e,t).pipe((0,St.U)(h=>!0===h?a:{...bl})):vt(a)}function wp(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...bl}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||uo)(t,n,e);if(!i)return{...bl};const a={};x(i.posParams,(m,E)=>{a[E]=m.path});const h=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:h,positionalParamSegments:i.posParams??{}}}function Gu(n,e,t,r,i="corrected"){if(t.length>0&&function vg(n,e,t){return t.some(r=>Ep(n,e,r)&&ks(r)!==sn)}(n,t,r)){const h=new xt(e,function T_(n,e,t,r){const i={};i[sn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&ks(a)!==sn){const h=new xt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,i[ks(a)]=h}return i}(n,e,r,new xt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function $u(n,e,t){return t.some(r=>Ep(n,e,r))}(n,t,r)){const h=new xt(n.segments,function wD(n,e,t,r,i,a){const h={};for(const m of r)if(Ep(n,t,m)&&!i[ks(m)]){const E=new xt([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===a?n.segments.length:e.length,h[ks(m)]=E}return{...i,...h}}(n,e,t,r,n.children,i));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const a=new xt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Ep(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function bg(n,e,t,r){return!!(ks(n)===r||r!==sn&&Ep(e,t,n))&&("**"===n.path||wp(e,n,t).matched)}function fw(n,e,t){return 0===e.length&&!n.children[t]}const wg=!1;class Cp{constructor(e){this.segmentGroup=e||null}}class qu{constructor(e){this.urlTree=e}}function Sp(n){return ki(new Cp(n))}function pw(n){return ki(new qu(n))}class SD{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Gu(this.urlTree.root,[],[],this.config).segmentGroup,t=new xt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,sn).pipe((0,St.U)(a=>this.createUrlTree(Ec(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(as(a=>{if(a instanceof qu)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Cp?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,sn).pipe((0,St.U)(i=>this.createUrlTree(Ec(i),e.queryParams,e.fragment))).pipe(as(i=>{throw i instanceof Cp?this.noMatchError(i):i}))}noMatchError(e){return new s.vHH(4002,wg)}createUrlTree(e,t,r){const i=cd(e);return new kn(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,St.U)(a=>new xt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,En.D)(i).pipe(ji(a=>{const h=r.children[a],m=Hu(t,a);return this.expandSegmentGroup(e,m,h,a).pipe((0,St.U)(E=>({segment:E,outlet:a})))}),co((a,h)=>(a[h.outlet]=h.segment,a),{}),Jf())}expandSegment(e,t,r,i,a,h){return(0,En.D)(r).pipe(ji(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,a,h).pipe(as(D=>{if(D instanceof Cp)return vt(null);throw D}))),os(m=>!!m),as((m,E)=>{if(zu(m))return fw(t,i,a)?vt(new xt([],{})):Sp(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,a,h,m){return bg(i,t,a,h)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,h):Sp(t):Sp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,h){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?pw(a):this.lineralizeSegments(r,a).pipe((0,lr.z)(h=>{const m=new xt(h,{});return this.expandSegment(e,m,t,h,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,h){const{matched:m,consumedSegments:E,remainingSegments:D,positionalParamSegments:F}=wp(t,i,a);if(!m)return Sp(t);const W=this.applyRedirectCommands(E,i.redirectTo,F);return i.redirectTo.startsWith("/")?pw(W):this.lineralizeSegments(i,W).pipe((0,lr.z)(ce=>this.expandSegment(e,t,r,ce.concat(D),h,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=ie(r,e),r.loadChildren?(r._loadedRoutes?vt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,St.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new xt(i,{})))):vt(new xt(i,{}))):dw(t,r,i,e).pipe(dr(({matched:h,consumedSegments:m,remainingSegments:E})=>h?this.getChildConfig(e=r._injector??e,r,i).pipe((0,lr.z)(F=>{const W=F.injector??e,ce=F.routes,{segmentGroup:me,slicedSegments:Ce}=Gu(t,m,E,ce),Me=new xt(me.segments,me.children);if(0===Ce.length&&Me.hasChildren())return this.expandChildren(W,ce,Me).pipe((0,St.U)(ht=>new xt(m,ht)));if(0===ce.length&&0===Ce.length)return vt(new xt(m,{}));const Ue=ks(r)===a;return this.expandSegment(W,Me,ce,Ce,Ue?sn:a,!0).pipe((0,St.U)(_t=>new xt(m.concat(_t.segments),_t.children)))})):Sp(t)))}getChildConfig(e,t,r){return t.children?vt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?vt({routes:t._loadedRoutes,injector:t._loadedInjector}):function I_(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?vt(!0):vt(i.map(h=>{const m=Ia(h,n);return N(function pD(n){return n&&Uu(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(ju(),D_())}(e,t,r).pipe((0,lr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,er.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function CD(n){return ki(Cd(wg,3))}())):vt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return vt(r);if(i.numberOfChildren>1||!i.children[sn])return ki(new s.vHH(4e3,wg));i=i.children[sn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new kn(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return x(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[a]=t[m]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let h={};return x(t.children,(m,E)=>{h[E]=this.createSegmentGroup(e,m,r,i)}),new xt(a,h)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new s.vHH(4001,wg);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class gw{}class Ip{constructor(e,t,r,i,a,h,m,E){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=m,this.urlSerializer=E}recognize(){const e=Gu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,sn).pipe((0,St.U)(t=>{if(null===t)return null;const r=new Fu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},sn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Xs(r,t),a=new Sa(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=bd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,En.D)(Object.keys(r.children)).pipe(ji(i=>{const a=r.children[i],h=Hu(t,i);return this.processSegmentGroup(e,h,a,i)}),co((i,a)=>i&&a?(i.push(...a),i):null),function Tu(n,e=!1){return(0,_r.e)((t,r)=>{let i=0;t.subscribe((0,$n.x)(r,a=>{const h=n(a,i++);(h||e)&&r.next(a),!h&&r.complete()}))})}(i=>null!==i),lo(null),Jf(),(0,St.U)(i=>{if(null===i)return null;const a=yw(i);return function DD(n){n.sort((e,t)=>e.value.outlet===sn?-1:t.value.outlet===sn?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,En.D)(t).pipe(ji(h=>this.processSegmentAgainstRoute(h._injector??e,h,r,i,a)),os(h=>!!h),as(h=>{if(zu(h))return fw(r,i,a)?vt([]):vt(null);throw h}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!bg(t,r,i,a))return vt(null);let h;if("**"===t.path){const m=i.length>0?ls(i).parameters:{},E=_w(r)+i.length;h=vt({snapshot:new Fu(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bw(t),ks(t),t.component??t._loadedComponent??null,t,A_(r),E,M_(t),E),consumedSegments:[],remainingSegments:[]})}else h=dw(r,t,i,e).pipe((0,St.U)(({matched:m,consumedSegments:E,remainingSegments:D,parameters:F})=>{if(!m)return null;const W=_w(r)+E.length;return{snapshot:new Fu(E,F,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bw(t),ks(t),t.component??t._loadedComponent??null,t,A_(r),W,M_(t),W),consumedSegments:E,remainingSegments:D}}));return h.pipe(dr(m=>{if(null===m)return vt(null);const{snapshot:E,consumedSegments:D,remainingSegments:F}=m;e=t._injector??e;const W=t._loadedInjector??e,ce=function Id(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:me,slicedSegments:Ce}=Gu(r,D,F,ce.filter(Ue=>void 0===Ue.redirectTo),this.relativeLinkResolution);if(0===Ce.length&&me.hasChildren())return this.processChildren(W,ce,me).pipe((0,St.U)(Ue=>null===Ue?null:[new Xs(E,Ue)]));if(0===ce.length&&0===Ce.length)return vt([new Xs(E,[])]);const Me=ks(t)===a;return this.processSegment(W,ce,me,Ce,Me?sn:a).pipe((0,St.U)(Ue=>null===Ue?null:[new Xs(E,Ue)]))}))}}function Dp(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function yw(n){const e=[],t=new Set;for(const r of n){if(!Dp(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=yw(r.children);e.push(new Xs(r.value,i))}return e.filter(r=>!t.has(r))}function A_(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _w(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function bw(n){return n.data||{}}function M_(n){return n.resolve||{}}function Ew(n){return"string"==typeof n.title||null===n.title}function O_(n){return dr(e=>{const t=n(e);return t?(0,En.D)(t).pipe((0,St.U)(()=>e)):vt(e)})}let Cw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===sn);return r}getResolvedTitleForRoute(t){return t.data[dl]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Sw)},providedIn:"root"}),n})(),Sw=(()=>{class n extends Cw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG($f))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xD{}class Dd extends class AD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Cg=new s.OlP("",{providedIn:"root",factory:()=>({})}),Dw=new s.OlP("ROUTES");let Tw=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return vt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=N(t.loadComponent()).pipe((0,er.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),gc(()=>{this.componentLoaders.delete(t)})),i=new Yf(r,()=>new bt.x).pipe(pc());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return vt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,St.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let E,D,F=!1;Array.isArray(m)?D=m:(E=m.create(t).injector,D=xu(E.get(Dw,[],s.XFs.Self|s.XFs.Optional)));return{routes:D.map(Bu),injector:E}}),gc(()=>{this.childrenLoaders.delete(r)})),h=new Yf(a,()=>new bt.x).pipe(pc());return this.childrenLoaders.set(r,h),h}loadModuleFactoryOrRoutes(t){return N(t()).pipe((0,lr.z)(r=>r instanceof s.YKP||Array.isArray(r)?vt(r):(0,En.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xw{}class Rk{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Ok(n){throw n}function Aw(n,e,t){return e.parse("/")}const MD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Pw(){const n=(0,s.f3M)(_c),e=(0,s.f3M)(Vu),t=(0,s.f3M)(re),r=(0,s.f3M)(s.zs3),i=(0,s.f3M)(s.Sil),a=(0,s.f3M)(Dw,{optional:!0})??[],h=(0,s.f3M)(Cg,{optional:!0})??{},m=(0,s.f3M)(Sw),E=(0,s.f3M)(Cw,{optional:!0}),D=(0,s.f3M)(xw,{optional:!0}),F=(0,s.f3M)(xD,{optional:!0}),W=new Ln(null,n,e,t,r,i,xu(a));return D&&(W.urlHandlingStrategy=D),F&&(W.routeReuseStrategy=F),W.titleStrategy=E??m,function PD(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,W),W}let Ln=(()=>{class n{constructor(t,r,i,a,h,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new bt.x,this.errorHandler=Ok,this.malformedUriErrorHandler=Aw,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>vt(void 0),this.urlHandlingStrategy=new Rk,this.routeReuseStrategy=new Dd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=h.get(Tw),this.configLoader.onLoadEndListener=ce=>this.triggerEvent(new fp(ce)),this.configLoader.onLoadStartListener=ce=>this.triggerEvent(new dp(ce)),this.ngModule=h.get(s.h0i),this.console=h.get(s.c2e);const W=h.get(s.R0b);this.isNgZoneEnabled=W instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function ue(){return new kn(new xt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_d(this.currentUrlTree,this.rootComponentType),this.transitions=new hr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ar(i=>0!==i.id),(0,St.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),dr(i=>{let a=!1,h=!1;return vt(i).pipe((0,er.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),dr(m=>{const E=this.browserUrlTree.toString(),D=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return F_(m.source)&&(this.browserUrlTree=m.extractedUrl),vt(m).pipe(dr(W=>{const ce=this.transitions.getValue();return r.next(new pd(W.id,this.serializeUrl(W.extractedUrl),W.source,W.restoredState)),ce!==this.transitions.getValue()?zi.E:Promise.resolve(W)}),function mw(n,e,t,r){return dr(i=>function x_(n,e,t,r,i){return new SD(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,St.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,er.b)(W=>{this.currentNavigation={...this.currentNavigation,finalUrl:W.urlAfterRedirects},i.urlAfterRedirects=W.urlAfterRedirects}),function ww(n,e,t,r,i,a){return(0,lr.z)(h=>function ID(n,e,t,r,i,a,h="emptyOnly",m="legacy"){return new Ip(n,e,t,r,i,h,m,a).recognize().pipe(dr(E=>null===E?function Mk(n){return new Fr.y(e=>e.error(n))}(new gw):vt(E)))}(n,e,t,h.urlAfterRedirects,r.serialize(h.urlAfterRedirects),r,i,a).pipe((0,St.U)(m=>({...h,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,er.b)(W=>{if(i.targetSnapshot=W.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!W.extras.skipLocationChange){const me=this.urlHandlingStrategy.merge(W.urlAfterRedirects,W.rawUrl);this.setBrowserUrl(me,W)}this.browserUrlTree=W.urlAfterRedirects}const ce=new md(W.id,this.serializeUrl(W.extractedUrl),this.serializeUrl(W.urlAfterRedirects),W.targetSnapshot);r.next(ce)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ce,extractedUrl:me,source:Ce,restoredState:Me,extras:Ue}=m,rt=new pd(ce,this.serializeUrl(me),Ce,Me);r.next(rt);const _t=_d(me,this.rootComponentType).snapshot;return vt(i={...m,targetSnapshot:_t,urlAfterRedirects:me,extras:{...Ue,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),zi.E}),(0,er.b)(m=>{const E=new up(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,St.U)(m=>i={...m,guards:xc(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function aw(n,e){return(0,lr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:h}}=t;return 0===h.length&&0===a.length?vt({...t,guardsResult:!0}):function lw(n,e,t,r){return(0,En.D)(n).pipe((0,lr.z)(i=>function bD(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?vt(a.map(m=>{const E=Dc(e)??i,D=Ia(m,E);return N(function yD(n){return n&&Uu(n.canDeactivate)}(D)?D.canDeactivate(n,e,t,r):E.runInContext(()=>D(n,e,t,r))).pipe(os())})).pipe(ju()):vt(!0)}(i.component,i.route,t,e,r)),os(i=>!0!==i,!0))}(h,r,i,n).pipe((0,lr.z)(m=>m&&function ow(n){return"boolean"==typeof n}(m)?function vD(n,e,t,r){return(0,En.D)(e).pipe(ji(i=>xs(function uw(n,e){return null!==n&&e&&e(new pp(n)),vt(!0)}(i.route.parent,r),function cw(n,e){return null!==n&&e&&e(new gp(n)),vt(!0)}(i.route,r),function Ak(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(h=>function vp(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>va(()=>vt(h.guards.map(E=>{const D=Dc(h.node)??t,F=Ia(E,D);return N(function gD(n){return n&&Uu(n.canActivateChild)}(F)?F.canActivateChild(r,n):D.runInContext(()=>F(r,n))).pipe(os())})).pipe(ju())));return vt(a).pipe(ju())}(n,i.path,t),function S_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return vt(!0);const i=r.map(a=>va(()=>{const h=Dc(e)??t,m=Ia(a,h);return N(function mD(n){return n&&Uu(n.canActivate)}(m)?m.canActivate(e,n):h.runInContext(()=>m(e,n))).pipe(os())}));return vt(i).pipe(ju())}(n,i.route,t))),os(i=>!0!==i,!0))}(r,a,n,e):vt(m)),(0,St.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,er.b)(m=>{if(i.guardsResult=m.guardsResult,pl(m.guardsResult))throw pg(0,m.guardsResult);const E=new hp(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),ar(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),O_(m=>{if(m.guards.canActivateChecks.length)return vt(m).pipe((0,er.b)(E=>{const D=new Ou(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}),dr(E=>{let D=!1;return vt(E).pipe(function P_(n,e){return(0,lr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return vt(t);let a=0;return(0,En.D)(i).pipe(ji(h=>function k_(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Ew(i)&&(a[dl]=i.title),function TD(n,e,t,r){const i=function R_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return vt({});const a={};return(0,En.D)(i).pipe((0,lr.z)(h=>function Tp(n,e,t,r){const i=Dc(e)??r,a=Ia(n,i);return N(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[h],e,t,r).pipe(os(),(0,er.b)(m=>{a[h]=m}))),Xf(1),function Bo(n){return(0,St.U)(()=>n)}(a),as(h=>zu(h)?zi.E:ki(h)))}(a,n,e,r).pipe((0,St.U)(h=>(n._resolvedData=h,n.data=bd(n,t).resolve,i&&Ew(i)&&(n.data[dl]=i.title),null)))}(h.route,r,n,e)),(0,er.b)(()=>a++),Xf(1),(0,lr.z)(h=>a===i.length?vt(t):zi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,er.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(E),this.cancelNavigationTransition(E,"",2))}}))}),(0,er.b)(E=>{const D=new E_(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}))}),O_(m=>{const E=D=>{const F=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&F.push(this.configLoader.loadComponent(D.routeConfig).pipe((0,er.b)(W=>{D.component=W}),(0,St.U)(()=>{})));for(const W of D.children)F.push(...E(W));return F};return Ws(E(m.targetSnapshot.root)).pipe(lo(),Nr(1))}),O_(()=>this.afterPreactivation()),(0,St.U)(m=>{const E=function C_(n,e,t){const r=vr(n,e._root,t?t._root:void 0);return new hg(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return i={...m,targetRouterState:E}}),(0,er.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,St.U)(r=>(new yp(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,er.b)({next(){a=!0},complete(){a=!0}}),gc(()=>{a||h||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),as(m=>{if(h=!0,gg(m)){mg(m)||(this.navigated=!0,this.restoreHistory(i,!0));const E=new Qs(i.id,this.serializeUrl(i.extractedUrl),m.message,m.cancellationCode);if(r.next(E),mg(m)){const D=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),F={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||F_(i.source)};this.scheduleNavigation(D,"imperative",null,F,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const E=new cp(i.id,this.serializeUrl(i.extractedUrl),m,i.targetSnapshot??void 0);r.next(E);try{i.resolve(this.errorHandler(m))}catch(D){i.reject(D)}}return zi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const m={...a};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(i.state=m)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Bu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:h,queryParamsHandling:m,preserveFragment:E}=r,D=i||this.routerState.root,F=E?this.currentUrlTree.fragment:h;let W=null;switch(m){case"merge":W={...this.currentUrlTree.queryParams,...a};break;case"preserve":W=this.currentUrlTree.queryParams;break;default:W=a||null}return null!==W&&(W=this.removeEmptyProps(W)),w_(D,this.currentUrlTree,t,W,F??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=pl(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function kD(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new s.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...MD}:!1===r?{...Mw}:r,pl(t))return ze(this.currentUrlTree,t,i);const a=this.parseUrl(t);return ze(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new fo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,h){if(this.disposed)return Promise.resolve(!1);let m,E,D;h?(m=h.resolve,E=h.reject,D=h.promise):D=new Promise((ce,me)=>{m=ce,E=me});const F=++this.navigationId;let W;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),W=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):W=0,this.setTransition({id:F,targetPageId:W,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:m,reject:E,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(ce=>Promise.reject(ce))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new Qs(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return Pw()},providedIn:"root"}),n})();function F_(n){return"imperative"!==n}class V_{}let FD=(()=>{class n{constructor(t,r,i,a,h){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(ar(t=>t instanceof fo),ji(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,s.MMx)(a.providers,t,`Route: ${a.path}`));const h=a._injector??t,m=a._loadedInjector??h;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(h,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(m,a.children??a._loadedRoutes))}return(0,En.D)(i).pipe((0,_a.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):vt(null);const a=i.pipe((0,lr.z)(h=>null===h?vt(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(h.injector??t,h.routes))));if(r.loadComponent&&!r._loadedComponent){const h=this.loader.loadComponent(r);return(0,En.D)([a,h]).pipe((0,_a.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ln),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(V_),s.LFG(Tw))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xt=new s.OlP("");let B_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gd&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new gd(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Td(n,e){return{\u0275kind:n,\u0275providers:e}}function Sg(n){return[{provide:Dw,multi:!0,useValue:n}]}function H_(){const n=(0,s.f3M)(s.zs3);return e=>{const t=n.get(s.z2F);if(e!==t.components[0])return;const r=n.get(Ln),i=n.get(Rw);1===n.get(U_)&&r.initialNavigation(),n.get(Ac,null,s.XFs.Optional)?.setUpPreloading(),n.get(Xt,null,s.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Rw=new s.OlP("",{factory:()=>new bt.x}),U_=new s.OlP("",{providedIn:"root",factory:()=>1});const Ac=new s.OlP("");function LD(n){return Td(0,[{provide:Ac,useExisting:FD},{provide:V_,useExisting:n}])}const VD=new s.OlP("ROUTER_FORROOT_GUARD"),Hk=[re,{provide:_c,useClass:Au},{provide:Ln,useFactory:Pw},Vu,{provide:ui,useFactory:function kw(n){return n.routerState.root},deps:[Ln]},Tw];function Uk(){return new s.PXZ("Router",Ln)}let Mp=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Hk,[],Sg(t),{provide:VD,useFactory:Ad,deps:[[Ln,new s.FiY,new s.tp0]]},{provide:Cg,useValue:r||{}},r?.useHash?{provide:V,useClass:te}:{provide:V,useClass:ee},{provide:Xt,useFactory:()=>{const n=(0,s.f3M)(Ln),e=(0,s.f3M)(Hs),t=(0,s.f3M)(Cg);return t.scrollOffset&&e.setOffset(t.scrollOffset),new B_(n,e,t)}},r?.preloadingStrategy?LD(r.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:Uk},r?.initialNavigation?HD(r):[],[{provide:z_,useFactory:H_},{provide:s.tb,multi:!0,useExisting:z_}]]}}static forChild(t){return{ngModule:n,providers:[Sg(t)]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(VD,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$]}),n})();function Ad(n){return"guarded"}function HD(n){return["disabled"===n.initialNavigation?Td(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const e=(0,s.f3M)(Ln);return()=>{e.setUpLocationChangeListener()}}},{provide:U_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Td(2,[{provide:U_,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:e=>{const t=e.get(R,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const h=e.get(Ln),m=e.get(Rw);(function i(a){e.get(Ln).events.pipe(ar(m=>m instanceof fo||m instanceof Qs||m instanceof cp),(0,St.U)(m=>m instanceof fo||m instanceof Qs&&(0===m.code||1===m.code)&&null),ar(m=>null!==m),Nr(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),h.afterPreactivation=()=>(a(!0),r||m.closed?vt(void 0):m),h.initialNavigation()}))}}]).\u0275providers:[]]}const z_=new s.OlP("");var Vw=f(4487),UD=f.n(Vw);function Bw(...n){const e=(0,ss.jO)(n),{args:t,keys:r}=dc(n),i=new Fr.y(a=>{const{length:h}=t;if(!h)return void a.complete();const m=new Array(h);let E=h,D=h;for(let F=0;F<h;F++){let W=!1;(0,As.Xf)(t[F]).subscribe((0,$n.x)(a,ce=>{W||(W=!0,D--),m[F]=ce},()=>E--,void 0,()=>{(!E||!W)&&(D||a.next(r?fc(r,m):m),a.complete())}))}});return e?i.pipe(hl(e)):i}let Hw=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Wu=(()=>{class n extends Hw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Da=new s.OlP("NgValueAccessor"),Uw={provide:Da,useExisting:(0,s.Gpc)(()=>Dg),multi:!0};let Dg=(()=>{class n extends Wu{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&s.NdJ("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},features:[s._Bn([Uw]),s.qOj]}),n})();const zw={provide:Da,useExisting:(0,s.Gpc)(()=>Zu),multi:!0},j_=new s.OlP("CompositionEventMode");let Zu=(()=>{class n extends Hw{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jw(){const n=_()?_().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(j_,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&s.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[s._Bn([zw]),s.qOj]}),n})();function Mc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function zD(n){return null!=n&&"number"==typeof n.length}const Br=new s.OlP("NgValidators"),El=new s.OlP("NgAsyncValidators"),Gw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zn{static min(e){return function go(n){return e=>{if(Mc(e.value)||Mc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function $_(n){return e=>{if(Mc(e.value)||Mc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return $w(e)}static requiredTrue(e){return function Tg(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Ta(n){return Mc(n.value)||Gw.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function xg(n){return e=>Mc(e.value)||!zD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return q_(e)}static pattern(e){return Ag(e)}static nullValidator(e){return null}static compose(e){return Pg(e)}static composeAsync(e){return Ww(e)}}function $w(n){return Mc(n.value)?{required:!0}:null}function q_(n){return e=>zD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Ag(n){if(!n)return W_;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Mc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function W_(n){return null}function Z_(n){return null!=n}function jD(n){return(0,s.QGY)(n)?(0,En.D)(n):n}function Pp(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function kp(n,e){return e.map(t=>t(n))}function Mg(n){return n.map(e=>function K_(n){return!n.validate}(e)?e:t=>e.validate(t))}function Pg(n){if(!n)return null;const e=n.filter(Z_);return 0==e.length?null:function(t){return Pp(kp(t,e))}}function qw(n){return null!=n?Pg(Mg(n)):null}function Ww(n){if(!n)return null;const e=n.filter(Z_);return 0==e.length?null:function(t){return Bw(kp(t,e).map(jD)).pipe((0,St.U)(Pp))}}function Y_(n){return null!=n?Ww(Mg(n)):null}function Zw(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Kw(n){return n._rawValidators}function Q_(n){return n._rawAsyncValidators}function Yw(n){return n?Array.isArray(n)?n:[n]:[]}function kg(n,e){return Array.isArray(n)?n.includes(e):n===e}function GD(n,e){const t=Yw(e);return Yw(n).forEach(i=>{kg(t,i)||t.push(i)}),t}function X_(n,e){return Yw(e).filter(t=>!kg(n,t))}class J_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Y_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class hs extends J_{get formDirective(){return null}get path(){return null}}class Uo extends J_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $D{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Rp=(()=>{class n extends $D{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Uo,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[s.qOj]}),n})(),Rg=(()=>{class n extends $D{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(hs,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[s.qOj]}),n})();const Op="VALID",Fg="INVALID",Sl="PENDING",xa="DISABLED";function Fp(n){return(Vp(n)?n.validators:n)||null}function Yu(n){return Array.isArray(n)?qw(n):n||null}function Np(n,e){return(Vp(e)?e.asyncValidators:n)||null}function Lp(n){return Array.isArray(n)?Y_(n):n||null}function Vp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function tv(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new s.vHH(1e3,"");if(!r[t])throw new s.vHH(1001,"")}function Ng(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new s.vHH(1002,"")})}class Md{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Yu(this._rawValidators),this._composedAsyncValidatorFn=Lp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Op}get invalid(){return this.status===Fg}get pending(){return this.status==Sl}get disabled(){return this.status===xa}get enabled(){return this.status!==xa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Yu(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Lp(e)}addValidators(e){this.setValidators(GD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(GD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(X_(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(X_(e,this._rawAsyncValidators))}hasValidator(e){return kg(this._rawValidators,e)}hasAsyncValidator(e){return kg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Sl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xa,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Op,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Op||this.status===Sl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xa:Op}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Sl,this._hasOwnPendingAsyncValidator=!0;const t=jD(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?xa:this.errors?Fg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sl)?Sl:this._anyControlsHaveStatus(Fg)?Fg:Op}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Pd extends Md{constructor(e,t,r){super(Fp(t),Np(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Ng(this,0,e),Object.keys(e).forEach(r=>{tv(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class QD extends Pd{}function Hp(n,e){ds(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function JD(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&iE(n,e)})}(n,e),function nv(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Kk(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&iE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function XD(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Up(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),jp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ds(n,e){const t=Kw(n);null!==e.validator?n.setValidators(Zw(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Q_(n);null!==e.asyncValidator?n.setAsyncValidators(Zw(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();zp(e._rawValidators,i),zp(e._rawAsyncValidators,i)}function jp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Kw(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(h=>h!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=Q_(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(h=>h!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return zp(e._rawValidators,r),zp(e._rawAsyncValidators,r),t}function iE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function rv(n,e){ds(n,e)}function Lg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function sE(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Vg(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Zu?t=a:function nT(n){return Object.getPrototypeOf(n.constructor)===Wu}(a)?r=a:i=a}),i||r||t||null}const Aa={provide:hs,useExisting:(0,s.Gpc)(()=>Bg)},Qu=(()=>Promise.resolve())();let Bg=(()=>{class n extends hs{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new Pd({},qw(t),Y_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Qu.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Hp(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Qu.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Qu.then(()=>{const r=this._findContainer(t.path),i=new Pd({});rv(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Qu.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Qu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,sE(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Br,10),s.Y36(El,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&s.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Aa]),s.qOj]}),n})();function aE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function rT(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Xu=class extends Md{constructor(e=null,t,r){super(Fp(t),Np(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=rT(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){rT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let kd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Ma=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Wp=new s.OlP("NgModelWithFormControlWarning"),pE={provide:Uo,useExisting:(0,s.Gpc)(()=>lv)};let lv=(()=>{class n extends Uo{constructor(t,r,i,a){super(),this._ngModelWarningConfig=a,this.update=new s.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=Vg(0,i)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&Up(r,this,!1),Hp(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}Lg(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Up(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(s.Y36(Br,10),s.Y36(El,10),s.Y36(Da,10),s.Y36(Wp,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[s._Bn([pE]),s.qOj,s.TTD]}),n})();const oT={provide:hs,useExisting:(0,s.Gpc)(()=>yo)};let yo=(()=>{class n extends hs{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Hp(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Up(t.control||null,t,!1),function oE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,sE(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Up(r||null,t),(n=>n instanceof Xu)(i)&&(Hp(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);rv(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function eT(n,e){return jp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ds(this.form,this),this._oldForm&&jp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Br,10),s.Y36(El,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&s.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([oT]),s.qOj,s.TTD]}),n})();const cT={provide:Uo,useExisting:(0,s.Gpc)(()=>Rd)};let Rd=(()=>{class n extends Uo{constructor(t,r,i,a,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Vg(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Lg(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Bp(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(s.Y36(hs,13),s.Y36(Br,10),s.Y36(El,10),s.Y36(Da,10),s.Y36(Wp,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([cT]),s.qOj,s.TTD]}),n})();let zo=(()=>{class n{constructor(){this._validator=W_}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):W_,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const Pa={provide:Br,useExisting:(0,s.Gpc)(()=>Jr),multi:!0};let Jr=(()=>{class n extends zo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=t=>$w}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&s.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([Pa]),s.qOj]}),n})();const Od={provide:Br,useExisting:(0,s.Gpc)(()=>ka),multi:!0};let ka=(()=>{class n extends zo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function Pc(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>q_(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&s.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[s._Bn([Od]),s.qOj]}),n})();const Fd={provide:Br,useExisting:(0,s.Gpc)(()=>Rc),multi:!0};let Rc=(()=>{class n extends zo{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>Ag(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&s.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[s._Bn([Fd]),s.qOj]}),n})(),eh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ma]}),n})(),dv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[eh]}),n})(),Nd=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wp,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[eh]}),n})();class fv extends Md{constructor(e,t,r){super(Fp(t),Np(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Ng(this,0,e),e.forEach((r,i)=>{tv(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function pv(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Jp=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return pv(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new Pd(i,a)}record(t,r=null){const i=this._reduceControls(t);return new QD(i,r)}control(t,r,i){let a={};return this.useNonNullable?(pv(r)?a=r:(a.validators=r,a.asyncValidators=i),new Xu(t,{...a,nonNullable:!0})):new Xu(t,r,i)}array(t,r,i){const a=t.map(h=>this._createControl(h));return new fv(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Xu||t instanceof Md?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:Nd}),n})();var EE=f(1520);function Gi(n){return null!=n&&"false"!=`${n}`}function Oc(n,e=0){return function CE(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function th(n){return Array.isArray(n)?n:[n]}function xr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ar(n){return n instanceof s.SBq?n.nativeElement:n}var $g=f(1144);const gv=["addListener","removeListener"],bT=["addEventListener","removeEventListener"],qg=["on","off"];function nh(n,e,t,r){if((0,Ms.m)(t)&&(r=t,t=void 0),r)return nh(n,e,t).pipe(hl(r));const[i,a]=function IE(n){return(0,Ms.m)(n.addEventListener)&&(0,Ms.m)(n.removeEventListener)}(n)?bT.map(h=>m=>n[h](e,m,t)):function SE(n){return(0,Ms.m)(n.addListener)&&(0,Ms.m)(n.removeListener)}(n)?gv.map(yv(n,e)):function _v(n){return(0,Ms.m)(n.on)&&(0,Ms.m)(n.off)}(n)?qg.map(yv(n,e)):[];if(!i&&(0,$g.z)(n))return(0,lr.z)(h=>nh(h,e,t))((0,As.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Fr.y(h=>{const m=(...E)=>h.next(1<E.length?E:E[0]);return i(m),()=>a(m)})}function yv(n,e){return t=>r=>n[t](e,r)}var vv=f(4408);const rh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=rh;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new Qr.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=rh;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=rh;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var DE=f(7565);const wv=new class TE extends DE.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class bv extends vv.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=rh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(rh.cancelAnimationFrame(t),e._scheduled=void 0)}});let Ev,xE=1;const em={};function Cv(n){return n in em&&(delete em[n],!0)}const AE={setImmediate(n){const e=xE++;return em[e]=!0,Ev||(Ev=Promise.resolve()),Ev.then(()=>Cv(e)&&n()),e},clearImmediate(n){Cv(n)}},{setImmediate:ME,clearImmediate:PE}=AE,tm={setImmediate(...n){const{delegate:e}=tm;return(e?.setImmediate||ME)(...n)},clearImmediate(n){const{delegate:e}=tm;return(e?.clearImmediate||PE)(n)},delegate:void 0};new class RE extends DE.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class kE extends vv.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=tm.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(tm.clearImmediate(t),e._scheduled=void 0)}});var Ld=f(4986),CT=f(3532);function Iv(n=0,e,t=Ld.P){let r=-1;return null!=e&&((0,CT.K)(e)?t=e:r=e),new Fr.y(i=>{let a=function ST(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let h=0;return t.schedule(function(){i.closed||(i.next(h++),0<=r?this.schedule(void 0,r):i.complete())},a)})}function FE(n,e=Ld.z){return function sR(n){return(0,_r.e)((e,t)=>{let r=!1,i=null,a=null,h=!1;const m=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const D=i;i=null,t.next(D)}h&&t.complete()},E=()=>{a=null,h&&t.complete()};e.subscribe((0,$n.x)(t,D=>{r=!0,i=D,a||(0,As.Xf)(n(D)).subscribe(a=(0,$n.x)(t,m,E))},()=>{h=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>Iv(n,e))}let Hr;try{Hr=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Hr=!1}let Vd,hi=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Pf(n){return n===Vl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Hr)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dv=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function NE(){if(Vd)return Vd;if("object"!=typeof document||!document)return Vd=new Set(Dv),Vd;let n=document.createElement("input");return Vd=new Set(Dv.filter(e=>(n.setAttribute("type",e),n.type===e))),Vd}let Bd,ih,Zg;function eo(n){return function LE(){if(null==Bd&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Bd=!0}))}finally{Bd=Bd||!1}return Bd}()?n:!!n.capture}function VE(){if(null==ih){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ih=!1,ih;if("scrollBehavior"in document.documentElement.style)ih=!0;else{const n=Element.prototype.scrollTo;ih=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ih}function Hd(n){if(function lR(){if(null==Zg){const n=typeof document<"u"?document.head:null;Zg=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Zg}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function nm(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function ei(n){return n.composedPath?n.composedPath()[0]:n.target}function Tv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const IT=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function Ra(){return(0,s.f3M)(O)}}),jo=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Fc=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new s.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function Go(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?jo.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(IT,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),xv=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new bt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Fr.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(FE(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):vt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(ar(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Ar(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>nh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.R0b),s.LFG(hi),s.LFG(O,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sh=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new bt.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(FE(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(hi),s.LFG(s.R0b),s.LFG(O,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ud=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Mv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[rm,Ud],rm,Ud]}),n})();class Pv{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class zd extends Pv{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class kv extends Pv{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class NT extends Pv{constructor(e){super(),this.element=e instanceof s.SBq?e.nativeElement:e}}class Yg{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof zd?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof kv?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof NT?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class LT extends Yg{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=h=>{const m=h.element,E=this._document.createComment("dom-portal");m.parentNode.insertBefore(E,m),this.outletElement.appendChild(m),this._attachedPortal=h,super.setDisposeFn(()=>{E.parentNode&&E.parentNode.replaceChild(m,E)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Qg=(()=>{class n extends Yg{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=a=>{const h=a.element,m=this._document.createComment("dom-portal");a.setAttachedHost(this),h.parentNode.insertBefore(m,h),this._getRootNode().appendChild(h),this._attachedPortal=a,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),h=r.createComponent(a,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=t,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(O))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),Rv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var im=f(6451),VT=f(5032);function di(n){return(0,_r.e)((e,t)=>{(0,As.Xf)(n).subscribe((0,$n.x)(t,()=>t.complete(),VT.Z)),!t.closed&&e.subscribe(t)})}const jE=VE();class GE{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=xr(-this._previousScrollPosition.left),e.style.top=xr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",h=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),jE&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),jE&&(r.scrollBehavior=a,i.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class $E{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ov{enable(){}disable(){}attach(){}}function Xg(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Fv(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class qE{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Xg(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let WE=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Ov,this.close=h=>new $E(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new GE(this._viewportRuler,this._document),this.reposition=h=>new qE(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(xv),s.LFG(sh),s.LFG(s.R0b),s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Jg{constructor(e){if(this.scrollStrategy=new Ov,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class oh{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let ah=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ER=(()=>{class n extends ah{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let h=a.length-1;h>-1;h--)if(a[h]._keydownEvents.observers.length>0){const m=a[h]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(i)):m.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nv=(()=>{class n extends ah{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=ei(a)},this._clickListener=a=>{const h=ei(a),m="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:h;this._pointerDownEventTarget=null;const E=this._attachedOverlays.slice();for(let D=E.length-1;D>-1;D--){const F=E[D];if(F._outsidePointerEvents.observers.length<1||!F.hasAttached())continue;if(F.overlayElement.contains(h)||F.overlayElement.contains(m))break;const W=F._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>W.next(a)):W.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O),s.LFG(hi),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YE=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Tv()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),Tv()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O),s.LFG(hi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class QE{constructor(e,t,r,i,a,h,m,E,D){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=h,this._document=m,this._location=E,this._outsideClickDispatcher=D,this._backdropElement=null,this._backdropClick=new bt.x,this._attachments=new bt.x,this._detachments=new bt.x,this._locationChanges=Qr.w0.EMPTY,this._backdropClickHandler=F=>this._backdropClick.next(F),this._backdropTransitionendHandler=F=>{this._disposeBackdrop(F.target)},this._keydownEvents=new bt.x,this._outsidePointerEvents=new bt.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Nr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=xr(this._config.width),e.height=xr(this._config.height),e.minWidth=xr(this._config.minWidth),e.minHeight=xr(this._config.minHeight),e.maxWidth=xr(this._config.maxWidth),e.maxHeight=xr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=th(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(di((0,im.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Lv="cdk-overlay-connected-position-bounding-box",CR=/([A-Za-z%]+)$/;class $t{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new bt.x,this._resizeSubscription=Qr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(Lv),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let h;for(let m of this._preferredPositions){let E=this._getOriginPoint(e,i,m),D=this._getOverlayPoint(E,t,m),F=this._getOverlayFit(D,t,r,m);if(F.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,E);this._canFitWithFlexibleDimensions(F,D,r)?a.push({position:m,origin:E,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(E,m)}):(!h||h.overlayFit.visibleArea<F.visibleArea)&&(h={overlayFit:F,overlayPoint:D,originPoint:E,position:m,overlayRect:t})}if(a.length){let m=null,E=-1;for(const D of a){const F=D.boundingBoxRect.width*D.boundingBoxRect.height*(D.position.weight||1);F>E&&(E=F,m=D)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(h.position,h.originPoint);this._applyPosition(h.position,h.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&lh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Lv),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const h=this._isRtl()?e.right:e.left,m=this._isRtl()?e.left:e.right;i="start"==r.originX?h:m}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=JE(t);let{x:h,y:m}=e,E=this._getOffset(i,"x"),D=this._getOffset(i,"y");E&&(h+=E),D&&(m+=D);let ce=0-m,me=m+a.height-r.height,Ce=this._subtractOverflows(a.width,0-h,h+a.width-r.width),Me=this._subtractOverflows(a.height,ce,me),Ue=Ce*Me;return{visibleArea:Ue,isCompletelyWithinViewport:a.width*a.height===Ue,fitsInViewportVertically:Me===a.height,fitsInViewportHorizontally:Ce==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,h=XE(this._overlayRef.getConfig().minHeight),m=XE(this._overlayRef.getConfig().minWidth),D=e.fitsInViewportHorizontally||null!=m&&m<=a;return(e.fitsInViewportVertically||null!=h&&h<=i)&&D}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=JE(t),a=this._viewportRect,h=Math.max(e.x+i.width-a.width,0),m=Math.max(e.y+i.height-a.height,0),E=Math.max(a.top-r.top-e.y,0),D=Math.max(a.left-r.left-e.x,0);let F=0,W=0;return F=i.width<=a.width?D||-h:e.x<this._viewportMargin?a.left-r.left-e.x:0,W=i.height<=a.height?E||-m:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:F,y:W},{x:e.x+F,y:e.y+W}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new oh(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,h,m,F,W,ce;if("top"===t.overlayY)h=e.y,a=r.height-h+this._viewportMargin;else if("bottom"===t.overlayY)m=r.height-e.y+2*this._viewportMargin,a=r.height-m+this._viewportMargin;else{const me=Math.min(r.bottom-e.y+r.top,e.y),Ce=this._lastBoundingBoxSize.height;a=2*me,h=e.y-me,a>Ce&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.y-Ce/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)ce=r.width-e.x+this._viewportMargin,F=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)W=e.x,F=r.right-e.x;else{const me=Math.min(r.right-e.x+r.left,e.x),Ce=this._lastBoundingBoxSize.width;F=2*me,W=e.x-me,F>Ce&&!this._isInitialRender&&!this._growAfterOpen&&(W=e.x-Ce/2)}return{top:h,left:W,bottom:m,right:ce,width:F,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;i.height=xr(r.height),i.top=xr(r.top),i.bottom=xr(r.bottom),i.width=xr(r.width),i.left=xr(r.left),i.right=xr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=xr(a)),h&&(i.maxWidth=xr(h))}this._lastBoundingBoxSize=r,lh(this._boundingBox.style,i)}_resetBoundingBoxStyles(){lh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){lh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(i){const F=this._viewportRuler.getViewportScrollPosition();lh(r,this._getExactOverlayY(t,e,F)),lh(r,this._getExactOverlayX(t,e,F))}else r.position="static";let m="",E=this._getOffset(t,"x"),D=this._getOffset(t,"y");E&&(m+=`translateX(${E}px) `),D&&(m+=`translateY(${D}px)`),r.transform=m.trim(),h.maxHeight&&(i?r.maxHeight=xr(h.maxHeight):a&&(r.maxHeight="")),h.maxWidth&&(i?r.maxWidth=xr(h.maxWidth):a&&(r.maxWidth="")),lh(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=xr(a.y),i}_getExactOverlayX(e,t,r){let h,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),h=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===h?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=xr(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Fv(e,r),isOriginOutsideView:Xg(e,r),isOverlayClipped:Fv(t,r),isOverlayOutsideView:Xg(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&th(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof s.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function lh(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function XE(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(CR);return t&&"px"!==t?null:parseFloat(e)}return n||null}function JE(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const ch="cdk-global-overlay-wrapper";class HT{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(ch),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:h,maxHeight:m}=r,E=!("100%"!==i&&"100vw"!==i||h&&"100%"!==h&&"100vw"!==h),D=!("100%"!==a&&"100vh"!==a||m&&"100%"!==m&&"100vh"!==m);e.position=this._cssPosition,e.marginLeft=E?"0":this._leftOffset,e.marginTop=D?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,E?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=D?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(ch),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let ey=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new HT}flexibleConnectedTo(t){return new $t(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(sh),s.LFG(O),s.LFG(hi),s.LFG(YE))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ty=0,Fn=(()=>{class n{constructor(t,r,i,a,h,m,E,D,F,W,ce){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=h,this._injector=m,this._ngZone=E,this._document=D,this._directionality=F,this._location=W,this._outsideClickDispatcher=ce}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),h=new Jg(t);return h.direction=h.direction||this._directionality.value,new QE(a,r,i,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+ty++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new LT(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(WE),s.LFG(YE),s.LFG(s._Vd),s.LFG(ey),s.LFG(ER),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(O),s.LFG(Fc),s.LFG(re),s.LFG(Nv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const nC={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Fn],useFactory:function tC(n){return()=>n.scrollStrategies.reposition()}};let sm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Fn,nC],imports:[[rm,Rv,Mv],Mv]}),n})();function dC(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function fC(n){return ar((e,t)=>n<=t)}function pC(n,e=ya.y){return n=n??Sx,(0,_r.e)((t,r)=>{let i,a=!0;t.subscribe((0,$n.x)(r,h=>{const m=e(h);(a||!n(i,m))&&(a=!1,i=m,r.next(h))}))})}function Sx(n,e){return n===e}function jd(n,e=Ld.z){return(0,_r.e)((t,r)=>{let i=null,a=null,h=null;const m=()=>{if(i){i.unsubscribe(),i=null;const D=a;a=null,r.next(D)}};function E(){const D=h+n,F=e.now();if(F<D)return i=this.schedule(void 0,D-F),void r.add(i);m()}t.subscribe((0,$n.x)(r,D=>{a=D,h=e.now(),i||(i=e.schedule(E,n),r.add(i))},()=>{m(),r.complete()},void 0,()=>{a=i=null}))})}let Hv=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mC=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Ar(t);return new Fr.y(i=>{const h=this._observeElement(r).subscribe(i);return()=>{h.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new bt.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Hv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gC=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Gi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Oc(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(jd(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(mC),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Uv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Hv]}),n})();function jv(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const _C="cdk-describedby-message",ly="cdk-describedby-host";let vC=0,Tx=(()=>{class n{constructor(t,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+vC++,this._document=t}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const a=uh(r,i);"string"!=typeof r?(bC(r),this._messageRegistry.set(a,{messageElement:r,referenceCount:0})):this._messageRegistry.has(a)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,a)||this._addMessageReference(t,a)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;const a=uh(r,i);if(this._isElementDescribedByMessage(t,a)&&this._removeMessageReference(t,a),"string"==typeof r){const h=this._messageRegistry.get(a);h&&0===h.referenceCount&&this._deleteMessageElement(a)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${ly}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(ly);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");bC(i),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(uh(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let a=0;a<r.length;a++)r[a].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){const r=jv(t,"aria-describedby").filter(i=>0!=i.indexOf(_C));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=this._messageRegistry.get(r);(function yC(n,e,t){const r=jv(n,e);r.some(i=>i.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(ly,this._id),i.referenceCount++}_removeMessageReference(t,r){const i=this._messageRegistry.get(r);i.referenceCount--,function Ix(n,e,t){const i=jv(n,e).filter(a=>a!=t.trim());i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(ly)}_isElementDescribedByMessage(t,r){const i=jv(t,"aria-describedby"),a=this._messageRegistry.get(r),h=a&&a.messageElement.id;return!!h&&-1!=i.indexOf(h)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),a=t.getAttribute("aria-label");return!(!i||a&&a.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O),s.LFG(hi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uh(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function bC(n){n.id||(n.id=`${_C}-${vC++}`)}let Gd=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Ax(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function xx(n){try{return n.frameElement}catch{return null}}(function Rx(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===$v(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),a=$v(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function qv(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function CC(n){return!function cy(n){return function Px(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Mx(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function uy(n){return function kx(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Gv(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(hi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gv(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function $v(n){if(!Gv(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Ox{constructor(e,t,r,i,a=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Nr(1)).subscribe(e)}}let MO=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Ox(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Gd),s.LFG(s.R0b),s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Wv(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Zv(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Nx=new s.OlP("cdk-input-modality-detector-options"),xC={ignoreKeys:[18,17,224,91,16]},hh=eo({passive:!0,capture:!0});let AC=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new hr(null),this._lastTouchMs=0,this._onKeydown=h=>{this._options?.ignoreKeys?.some(m=>m===h.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ei(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Wv(h)?"keyboard":"mouse"),this._mostRecentTarget=ei(h))},this._onTouchstart=h=>{Zv(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ei(h))},this._options={...xC,...a},this.modalityDetected=this._modality.pipe(fC(1)),this.modalityChanged=this.modalityDetected.pipe(pC()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,hh),i.addEventListener("mousedown",this._onMousedown,hh),i.addEventListener("touchstart",this._onTouchstart,hh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,hh),document.removeEventListener("mousedown",this._onMousedown,hh),document.removeEventListener("touchstart",this._onTouchstart,hh))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(hi),s.LFG(s.R0b),s.LFG(O),s.LFG(Nx,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MC=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function PC(){return null}}),Lx=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Kv=(()=>{class n{constructor(t,r,i,a){this._ngZone=r,this._defaultOptions=a,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let a,h;return 1===r.length&&"number"==typeof r[0]?h=r[0]:[a,h]=r,this.clear(),clearTimeout(this._previousTimeout),a||(a=i&&i.politeness?i.politeness:"polite"),null==h&&i&&(h=i.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(m=>this._currentResolve=m)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof h&&(this._previousTimeout=setTimeout(()=>this.clear(),h)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let a=0;a<r.length;a++)r[a].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(MC,8),s.LFG(s.R0b),s.LFG(O),s.LFG(Lx,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bx=new s.OlP("cdk-focus-monitor-default-options"),am=eo({passive:!0,capture:!0});let dy=(()=>{class n{constructor(t,r,i,a,h){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new bt.x,this._rootNodeFocusAndBlurListener=m=>{const E=ei(m),D="focus"===m.type?this._onFocus:this._onBlur;for(let F=E;F;F=F.parentElement)D.call(this,m,F)},this._document=a,this._detectionMode=h?.detectionMode||0}monitor(t,r=!1){const i=Ar(t);if(!this._platform.isBrowser||1!==i.nodeType)return vt(null);const a=Hd(i)||this._getDocument(),h=this._elementInfo.get(i);if(h)return r&&(h.checkChildren=!0),h.subject;const m={checkChildren:r,subject:new bt.x,rootNode:a};return this._elementInfo.set(i,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(t){const r=Ar(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=Ar(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([m,E])=>this._originChanged(m,r,E)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=ei(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,am),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,am)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(di(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,am),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,am),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.R0b),s.LFG(hi),s.LFG(AC),s.LFG(O,8),s.LFG(Bx,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dh="cdk-high-contrast-black-on-white",kC="cdk-high-contrast-white-on-black",Yv="cdk-high-contrast-active";let Hx=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Yv),t.remove(dh),t.remove(kC),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Yv),t.add(dh)):2===r&&(t.add(Yv),t.add(kC))}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(hi),s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kO=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Hx))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Uv]]}),n})();const Jv=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function zx(){return!0}});let fr=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Tv()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Hx),s.LFG(Jv,8),s.LFG(O))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[rm],rm]}),n})();function LO(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Gi(e)}}}function lm(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Gx(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Gi(e)}}}function $d(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new bt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let n0=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qx{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const r0={enterDuration:225,exitDuration:150},py=eo({passive:!0}),s0=["mousedown","touchstart"],NC=["mouseup","mouseleave","touchend","touchcancel"];class Xx{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Ar(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...r0,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const h=r.radius||function LC(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),m=e-i.left,E=t-i.top,D=a.enterDuration,F=document.createElement("div");F.classList.add("mat-ripple-element"),F.style.left=m-h+"px",F.style.top=E-h+"px",F.style.height=2*h+"px",F.style.width=2*h+"px",null!=r.color&&(F.style.backgroundColor=r.color),F.style.transitionDuration=`${D}ms`,this._containerElement.appendChild(F),function $O(n){window.getComputedStyle(n).getPropertyValue("opacity")}(F),F.style.transform="scale(1)";const W=new Qx(this,F,r);return W.state=0,this._activeRipples.add(W),r.persistent||(this._mostRecentTransientRipple=W),this._runTimeoutOutsideZone(()=>{const ce=W===this._mostRecentTransientRipple;W.state=1,!r.persistent&&(!ce||!this._isPointerDown)&&W.fadeOut()},D),W}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i={...r0,...e.config.animation};r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ar(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(s0))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(NC),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Wv(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Zv(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,py)})})}_removeTriggerEvents(){this._triggerElement&&(s0.forEach(e=>{this._triggerElement.removeEventListener(e,this,py)}),this._pointerUpEventsRegistered&&NC.forEach(e=>{this._triggerElement.removeEventListener(e,this,py)}))}}const qO=new s.OlP("mat-ripple-global-options");let Jx=(()=>{class n{constructor(t,r,i,a,h){this._elementRef=t,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new Xx(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(hi),s.Y36(qO,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&s.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),eA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[fr],fr]}),n})(),WO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[fr]]}),n})(),BC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[eA,_i,fr,WO]]}),n})();class l0{}const Dl="*";function fh(n,e){return{type:7,name:n,definitions:e,options:{}}}function Oa(n,e=null){return{type:4,styles:e,timings:n}}function um(n,e=null){return{type:3,steps:n,options:e}}function HC(n,e=null){return{type:2,steps:n,options:e}}function Mr(n){return{type:6,styles:n,offset:null}}function $o(n,e,t){return{type:0,name:n,styles:e,options:t}}function qo(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function c0(n=null){return{type:9,options:n}}function u0(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function h0(n){Promise.resolve().then(n)}class my{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){h0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class _o{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?h0(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==a&&this._onFinish()}),h.onDestroy(()=>{++r==a&&this._onDestroy()}),h.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((h,m)=>Math.max(h,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function f0(n,e){}class p0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const vo={dialogContainer:fh("dialogContainer",[$o("void, exit",Mr({opacity:0,transform:"scale(0.7)"})),$o("enter",Mr({transform:"none"})),qo("* => enter",um([Oa("150ms cubic-bezier(0, 0, 0.2, 1)",Mr({transform:"none",opacity:1})),u0("@*",c0(),{optional:!0})])),qo("* => void, * => exit",um([Oa("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Mr({opacity:0})),u0("@*",c0(),{optional:!0})]))])};let m0=(()=>{class n extends Yg{constructor(t,r,i,a,h,m,E,D){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=h,this._interactivityChecker=m,this._ngZone=E,this._focusMonitor=D,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=F=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(F)),this._ariaLabelledBy=h.ariaLabelledBy||null,this._document=a}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=nm())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=nm(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=nm();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(MO),s.Y36(s.sBO),s.Y36(O,8),s.Y36(p0),s.Y36(Gd),s.Y36(s.R0b),s.Y36(dy))},n.\u0275dir=s.lG2({type:n,viewQuery:function(t,r){if(1&t&&s.Gf(Qg,7),2&t){let i;s.iGM(i=s.CRH())&&(r._portalOutlet=i.first)}},features:[s.qOj]}),n})(),oA=(()=>{class n extends m0{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&s.WFA("@dialogContainer.start",function(a){return r._onAnimationStart(a)})("@dialogContainer.done",function(a){return r._onAnimationDone(a)}),2&t&&(s.Ikx("id",r._id),s.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),s.d8E("@dialogContainer",r._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&s.YNc(0,f0,0,0,"ng-template",0)},dependencies:[Qg],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[vo.dialogContainer]}}),n})(),aA=0;class Tl{constructor(e,t,r="mat-dialog-"+aA++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new bt.x,this._afterClosed=new bt.x,this._beforeClosed=new bt.x,this._state=0,t._id=r,t._animationStateChanged.pipe(ar(i=>"opened"===i.state),Nr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(ar(i=>"closed"===i.state),Nr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(ar(i=>27===i.keyCode&&!this.disableClose&&!dC(i))).subscribe(i=>{i.preventDefault(),g0(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():g0(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(ar(t=>"closing"===t.state),Nr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function g0(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const hm=new s.OlP("MatDialogData"),lA=new s.OlP("mat-dialog-default-options"),y0=new s.OlP("mat-dialog-scroll-strategy"),UC={provide:y0,deps:[Fn],useFactory:function uA(n){return()=>n.scrollStrategies.block()}};let hA=(()=>{class n{constructor(t,r,i,a,h,m,E,D,F,W){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=h,this._dialogRefConstructor=E,this._dialogContainerType=D,this._dialogDataToken=F,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new bt.x,this._afterOpenedAtThisLevel=new bt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=va(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(bi(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){r=function Nc(n,e){return{...e,...n}}(r,this._defaultOptions||new p0),r.id&&this.getDialogById(r.id);const i=this._createOverlay(r),a=this._attachDialogContainer(i,r),h=this._attachDialogContent(t,a,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.afterClosed().subscribe(()=>this._removeOpenDialog(h)),this.afterOpened.next(h),a._initializeWithAttachedContent(),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new Jg({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const a=s.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:p0,useValue:r}]}),h=new zd(this._dialogContainerType,r.viewContainerRef,a,r.componentFactoryResolver);return t.attach(h).instance}_attachDialogContent(t,r,i,a){const h=new this._dialogRefConstructor(i,r,a.id);if(t instanceof s.Rgc)r.attachTemplatePortal(new kv(t,null,{$implicit:a.data,dialogRef:h}));else{const m=this._createInjector(a,h,r),E=r.attachComponentPortal(new zd(t,a.viewContainerRef,m,a.componentFactoryResolver));h.componentInstance=E.instance}return h.updateSize(a.width,a.height).updatePosition(a.position),h}_createInjector(t,r,i){const a=t&&t.viewContainerRef&&t.viewContainerRef.injector,h=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!a||!a.get(Fc,null,s.XFs.Optional))&&h.push({provide:Fc,useValue:{value:t.direction,change:vt()}}),s.zs3.create({parent:a||this._injector,providers:h})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,a)=>{i?a.setAttribute("aria-hidden",i):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let a=r[i];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){s.$Z()},n.\u0275dir=s.lG2({type:n}),n})(),xl=(()=>{class n extends hA{constructor(t,r,i,a,h,m,E,D){super(t,r,a,m,E,h,Tl,oA,hm,D)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Fn),s.LFG(s.zs3),s.LFG(re,8),s.LFG(lA,8),s.LFG(y0),s.LFG(n,12),s.LFG(YE),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),zC=0,Fa=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+zC++}ngOnInit(){this._dialogRef||(this._dialogRef=function dA(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Tl,8),s.Y36(s.SBq),s.Y36(xl))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&s.Ikx("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),_0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),XO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})(),v0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[xl,UC],imports:[[sm,Rv,fr],fr]}),n})();var He=f(5861),wi=f(4976);function gy(){return(0,_r.e)((n,e)=>{let t,r=!1;n.subscribe((0,$n.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var yt,Na=f(2011),pA=(f(3042),f(3942)),Lc=f(6881),b0=f(4859),La=f(1877),Cn=f(2090),GC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bo={},yy=yy||{},Yt=GC||self;function ph(){}function dm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var _y="closure_uid_"+(1e9*Math.random()>>>0),mA=0;function gA(n,e,t){return n.call.apply(n.bind,arguments)}function JO(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function fs(n,e,t){return(fs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gA:JO).apply(null,arguments)}function pm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ei(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[i].apply(r,h)}}function Vc(){this.s=this.s,this.o=this.o}Vc.prototype.s=!1,Vc.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function $C(n){Object.prototype.hasOwnProperty.call(n,_y)&&n[_y]||(n[_y]=++mA)}(this)},Vc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _A=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function qC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function vA(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(dm(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let h=0;h<a;h++)n[i+h]=r[h]}else n.push(r)}}function ps(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ps.prototype.h=function(){this.defaultPrevented=!0};var eF=function(){if(!Yt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Yt.addEventListener("test",ph,e),Yt.removeEventListener("test",ph,e)}catch{}return n}();function vy(n){return/^[\s\xa0]*$/.test(n)}var mm=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function w0(n,e){return n<e?-1:n>e?1:0}function by(){var n=Yt.navigator;return n&&(n=n.userAgent)?n:""}function Wo(n){return-1!=by().indexOf(n)}function Al(n){return Al[" "](n),n}function E0(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Al[" "]=ph;var S0,n,C0=Wo("Opera"),Bc=Wo("Trident")||Wo("MSIE"),WC=Wo("Edge"),gm=WC||Bc,wy=Wo("Gecko")&&!(-1!=by().toLowerCase().indexOf("webkit")&&!Wo("Edge"))&&!(Wo("Trident")||Wo("MSIE"))&&!Wo("Edge"),Ey=-1!=by().toLowerCase().indexOf("webkit")&&!Wo("Edge");function bA(){var n=Yt.document;return n?n.documentMode:void 0}e:{var ZC="",KC=(n=by(),wy?/rv:([^\);]+)(\)|;)/.exec(n):WC?/Edge\/([\d\.]+)/.exec(n):Bc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ey?/WebKit\/(\S+)/.exec(n):C0?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(KC&&(ZC=KC?KC[1]:""),Bc){var Cy=bA();if(null!=Cy&&Cy>parseFloat(ZC)){S0=String(Cy);break e}}S0=ZC}var wA={},QC=Yt.document&&Bc&&(bA()||parseInt(S0,10))||void 0;function qd(n,e){if(ps.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(wy){e:{try{Al(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:XC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&qd.$.h.call(this)}}Ei(qd,ps);var XC={2:"touch",3:"pen",4:"mouse"};qd.prototype.h=function(){qd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ym="closure_listenable_"+(1e6*Math.random()|0),CA=0;function JC(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++CA,this.fa=this.ia=!1}function Wd(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function eS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function D0(n){const e={};for(const t in n)e[t]=n[t];return e}const Sy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tS(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Sy.length;a++)t=Sy[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Iy(n){this.src=n,this.g={},this.h=0}function nS(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=_A(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Wd(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function rS(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}Iy.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var h=rS(n,e,r,i);return-1<h?(e=n[h],t||(e.ia=!1)):((e=new JC(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var T0="closure_lm_"+(1e6*Math.random()|0),x0={};function iS(n,e,t,r,i){if(r&&r.once)return IA(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)iS(n,e[a],t,r,i);return null}return t=cS(t),n&&n[ym]?n.O(e,t,fm(r)?!!r.capture:!!r,i):SA(n,e,t,!1,r,i)}function SA(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var h=fm(i)?!!i.capture:!!i,m=aS(n);if(m||(n[T0]=m=new Iy(n)),(t=m.add(e,t,r,h,a)).proxy)return t;if(r=function tF(){const e=nF;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)eF||(i=h),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(oS(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function IA(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)IA(n,e[a],t,r,i);return null}return t=cS(t),n&&n[ym]?n.P(e,t,fm(r)?!!r.capture:!!r,i):SA(n,e,t,!0,r,i)}function DA(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)DA(n,e[a],t,r,i);else r=fm(r)?!!r.capture:!!r,t=cS(t),n&&n[ym]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=rS(a=n.g[e],t,r,i))&&(Wd(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=aS(n))&&(e=n.g[e.toString()],n=-1,e&&(n=rS(e,t,r,i)),(t=-1<n?e[n]:null)&&sS(t))}function sS(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ym])nS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(oS(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=aS(e))?(nS(t,n),0==t.h&&(t.src=null,e[T0]=null)):Wd(n)}}}function oS(n){return n in x0?x0[n]:x0[n]="on"+n}function nF(n,e){if(n.fa)n=!0;else{e=new qd(e,this);var t=n.listener,r=n.la||n.src;n.ia&&sS(n),n=t.call(r,e)}return n}function aS(n){return(n=n[T0])instanceof Iy?n:null}var lS="__closure_events_fn_"+(1e9*Math.random()>>>0);function cS(n){return"function"==typeof n?n:(n[lS]||(n[lS]=function(e){return n.handleEvent(e)}),n[lS])}function Oi(){Vc.call(this),this.i=new Iy(this),this.S=this,this.J=null}function $i(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ps(e,n);else if(e instanceof ps)e.target=e.target||n;else{var i=e;tS(e=new ps(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var h=e.g=t[a];i=o(h,r,!0,e)&&i}if(i=o(h=e.g=n,r,!0,e)&&i,i=o(h,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=o(h=e.g=t[a],r,!1,e)&&i}function o(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var h=e[a];if(h&&!h.fa&&h.capture==t){var m=h.listener,E=h.la||h.src;h.ia&&nS(n.i,h),i=!1!==m.call(E,r)&&i}}return i&&!r.defaultPrevented}Ei(Oi,Vc),Oi.prototype[ym]=!0,Oi.prototype.removeEventListener=function(n,e,t,r){DA(this,n,e,t,r)},Oi.prototype.N=function(){if(Oi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Wd(t[r]);delete n.g[e],n.h--}}this.J=null},Oi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Oi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var l=Yt.JSON.stringify;function u(){var n=he;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var L,g=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new w,n=>n.reset());class w{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function S(n){Yt.setTimeout(()=>{throw n},0)}function k(n,e){L||function Y(){var n=Yt.Promise.resolve(void 0);L=function(){n.then(Ee)}}(),se||(L(),se=!0),he.add(n,e)}var se=!1,he=new class p{constructor(){this.h=this.g=null}add(e,t){const r=g.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Ee(){for(var n;n=u();){try{n.h.call(n.g)}catch(t){S(t)}var e=g;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}se=!1}function ke(n,e){Oi.call(this),this.h=n||1,this.g=e||Yt,this.j=fs(this.qb,this),this.l=Date.now()}function Ge(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function tt(n,e,t){if("function"==typeof n)t&&(n=fs(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fs(n.handleEvent,n)}return 2147483647<Number(e)?-1:Yt.setTimeout(n,e||0)}function ct(n){n.g=tt(()=>{n.g=null,n.i&&(n.i=!1,ct(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ei(ke,Oi),(yt=ke.prototype).ga=!1,yt.T=null,yt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$i(this,"tick"),this.ga&&(Ge(this),this.start()))}},yt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yt.N=function(){ke.$.N.call(this),Ge(this),delete this.g};class Tt extends Vc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ct(this)}N(){super.N(),this.g&&(Yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rt(n){Vc.call(this),this.h=n,this.g={}}Ei(Rt,Vc);var We=[];function qt(n,e,t,r){Array.isArray(t)||(t&&(We[0]=t.toString()),t=We);for(var i=0;i<t.length;i++){var a=iS(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Dn(n){eS(n.g,function(e,t){this.g.hasOwnProperty(t)&&sS(e)},n),n.g={}}function Wn(){this.g=!0}function Hc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function P0(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var h=1;h<i.length;h++)i[h]=""}}}return l(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Rt.prototype.N=function(){Rt.$.N.call(this),Dn(this)},Rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wn.prototype.Ea=function(){this.g=!1},Wn.prototype.info=function(){};var Ml={},Dy=null;function Zd(){return Dy=Dy||new Oi}function Ty(n){ps.call(this,Ml.Ta,n)}function gh(n){const e=Zd();$i(e,new Ty(e))}function rF(n,e){ps.call(this,Ml.STAT_EVENT,n),this.stat=e}function to(n){const e=Zd();$i(e,new rF(e,n))}function iF(n,e){ps.call(this,Ml.Ua,n),this.size=e}function k0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Yt.setTimeout(function(){n()},e)}Ml.Ta="serverreachability",Ei(Ty,ps),Ml.STAT_EVENT="statevent",Ei(rF,ps),Ml.Ua="timingevent",Ei(iF,ps);var uS={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function TA(){}function aF(){}TA.prototype.h=null;var MA,R0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xA(){ps.call(this,"d")}function AA(){ps.call(this,"c")}function hS(){}function O0(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Rt(this),this.P=T3,this.V=new ke(n=gm?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new lF}function lF(){this.i=null,this.g="",this.h=!1}Ei(xA,ps),Ei(AA,ps),Ei(hS,TA),hS.prototype.g=function(){return new XMLHttpRequest},hS.prototype.i=function(){return{}},MA=new hS;var T3=45e3,PA={},dS={};function kA(n,e,t){n.L=1,n.v=gS(yh(e)),n.s=t,n.S=!0,cF(n,null)}function cF(n,e){n.G=Date.now(),F0(n),n.A=yh(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),vF(t.i,"t",r),n.C=0,t=n.l.I,n.h=new lF,n.g=jF(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Tt(fs(n.Pa,n,n.g),n.O)),qt(n.U,n.g,"readystatechange",n.nb),e=n.I?D0(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),gh(),function mh(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var h="",m=a.split("&"),E=0;E<m.length;E++){var D=m[E].split("=");if(1<D.length){var F=D[0];D=D[1];var W=F.split("_");h=2<=W.length&&"type"==W[1]?h+(F+"=")+D+"&":h+(F+"=redacted&")}}else h=null;else h=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.W,n.s)}function uF(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function hF(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=x3(n,t),i==dS){4==e&&(n.o=4,to(14),r=!1),Hc(n.j,n.m,null,"[Incomplete Response]");break}if(i==PA){n.o=4,to(15),Hc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Hc(n.j,n.m,i,null),RA(n,i)}uF(n)&&i!=dS&&i!=PA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,to(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),UA(e),e.L=!0,to(11))):(Hc(n.j,n.m,t,"[Invalid Chunked Response]"),_m(n),N0(n))}function x3(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?dS:(t=Number(e.substring(t,r)),isNaN(t)?PA:(r+=1)+t>e.length?dS:(e=e.substr(r,t),n.C=r+t,e))}function F0(n){n.Y=Date.now()+n.P,dF(n,n.P)}function dF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=k0(fs(n.lb,n),e)}function fS(n){n.B&&(Yt.clearTimeout(n.B),n.B=null)}function N0(n){0==n.l.H||n.J||BF(n.l,n)}function _m(n){fS(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Ge(n.V),Dn(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function RA(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||OA(t.h,n)))if(!n.K&&OA(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;ES(t),bS(t)}HA(t),to(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=k0(fs(t.ib,t),6e3));if(1>=EF(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else bm(t,11)}else if((n.K||t.g==n)&&ES(t),!vy(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let D=i[e];if(t.V=D[0],D=D[1],2==t.H)if("c"==D[0]){t.J=D[1],t.oa=D[2];const F=D[3];null!=F&&(t.qa=F,t.j.info("VER="+t.qa));const W=D[4];null!=W&&(t.Ga=W,t.j.info("SVER="+t.Ga));const ce=D[5];null!=ce&&"number"==typeof ce&&0<ce&&(t.K=r=1.5*ce,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const me=n.g;if(me){const Ce=me.g?me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ce){var a=r.h;a.g||-1==Ce.indexOf("spdy")&&-1==Ce.indexOf("quic")&&-1==Ce.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(FA(a,a.h),a.h=null))}if(r.F){const Me=me.g?me.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(r.Da=Me,Pr(r.G,r.F,Me))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var h=n;if((r=t).wa=zF(r,r.I?r.oa:null,r.Y),h.K){CF(r.h,h);var m=h,E=r.K;E&&m.setTimeout(E),m.B&&(fS(m),F0(m)),r.g=h}else LF(r);0<t.i.length&&wS(t)}else"stop"!=D[0]&&"close"!=D[0]||bm(t,7);else 3==t.H&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?bm(t,7):BA(t):"noop"!=D[0]&&t.l&&t.l.Aa(D),t.A=0)}gh()}catch{}}function fF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(dm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function M3(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(dm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function A3(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(dm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(yt=O0.prototype).setTimeout=function(n){this.P=n},yt.nb=function(n){n=n.target;const e=this.M;e&&3==_h(n)?e.l():this.Pa(n)},yt.Pa=function(n){try{if(n==this.g)e:{const F=_h(this.g);var e=this.g.Ia();if(this.g.da(),!(3>F)&&(3!=F||gm||this.g&&(this.h.h||this.g.ja()||PF(this.g)))){this.J||4!=F||7==e||gh(),fS(this);var t=this.g.da();this.aa=t;t:if(uF(this)){var r=PF(this.g);n="";var i=r.length,a=4==_h(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_m(this),N0(this);var h="";break t}this.h.i=new Yt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ja();if(this.i=200==t,function A0(n,e,t,r,i,a,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+h})}(this.j,this.u,this.A,this.m,this.W,F,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vy(m)){var D=m;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,to(12),_m(this),N0(this);break e}Hc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,RA(this,t)}this.S?(hF(this,F,h),gm&&this.i&&3==F&&(qt(this.U,this.V,"tick",this.mb),this.V.start())):(Hc(this.j,this.m,h,null),RA(this,h)),4==F&&_m(this),this.i&&!this.J&&(4==F?BF(this.l,this):(this.i=!1,F0(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,to(12)):(this.o=0,to(13)),_m(this),N0(this)}}}catch{}},yt.mb=function(){if(this.g){var n=_h(this.g),e=this.g.ja();this.C<e.length&&(fS(this),hF(this,n,e),this.i&&4!=n&&F0(this))}},yt.cancel=function(){this.J=!0,_m(this)},yt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function M0(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(gh(),to(17)),_m(this),this.o=2,N0(this)):dF(this,this.Y-n)};var pF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vm(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof vm){this.h=void 0!==e?e:n.h,pS(this,n.j),this.s=n.s,this.g=n.g,mS(this,n.m),this.l=n.l,e=n.i;var t=new B0;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),mF(this,t),this.o=n.o}else n&&(t=String(n).match(pF))?(this.h=!!e,pS(this,t[1]||"",!0),this.s=L0(t[2]||""),this.g=L0(t[3]||"",!0),mS(this,t[4]),this.l=L0(t[5]||"",!0),mF(this,t[6]||"",!0),this.o=L0(t[7]||"")):(this.h=!!e,this.i=new B0(null,this.h))}function yh(n){return new vm(n)}function pS(n,e,t){n.j=t?L0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function mS(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function mF(n,e,t){e instanceof B0?(n.i=e,function L3(n,e){e&&!n.j&&(Kd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(yF(this,r),vF(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=V0(e,F3)),n.i=new B0(e,n.h))}function Pr(n,e,t){n.i.set(e,t)}function gS(n){return Pr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function L0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function V0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,k3),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function k3(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}vm.prototype.toString=function(){var n=[],e=this.j;e&&n.push(V0(e,gF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(V0(e,gF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(V0(t,"/"==t.charAt(0)?O3:R3,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",V0(t,N3)),n.join("")};var gF=/[#\/\?@]/g,R3=/[#\?:]/g,O3=/[#\?]/g,F3=/[#\?@]/g,N3=/#/g;function B0(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Kd(n){n.g||(n.g=new Map,n.h=0,n.i&&function P3(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function yF(n,e){Kd(n),e=xy(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function _F(n,e){return Kd(n),e=xy(n,e),n.g.has(e)}function vF(n,e,t){yF(n,e),0<t.length&&(n.i=null,n.g.set(xy(n,e),qC(t)),n.h+=t.length)}function xy(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bF(n){this.l=n||B3,n=Yt.PerformanceNavigationTiming?0<(n=Yt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Yt.g&&Yt.g.Ka&&Yt.g.Ka()&&Yt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(yt=B0.prototype).add=function(n,e){Kd(this),this.i=null,n=xy(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},yt.forEach=function(n,e){Kd(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},yt.sa=function(){Kd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},yt.Z=function(n){Kd(this);let e=[];if("string"==typeof n)_F(this,n)&&(e=e.concat(this.g.get(xy(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},yt.set=function(n,e){return Kd(this),this.i=null,_F(this,n=xy(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},yt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},yt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),h=this.Z(r);for(r=0;r<h.length;r++){var i=a;""!==h[r]&&(i+="="+encodeURIComponent(String(h[r]))),n.push(i)}}return this.i=n.join("&")};var B3=10;function wF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function EF(n){return n.h?1:n.g?n.g.size:0}function OA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function FA(n,e){n.g?n.g.add(e):n.h=e}function CF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function SF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return qC(n.i)}function NA(){}function H3(){this.g=new NA}function U3(n,e,t){const r=t||"";try{fF(n,function(i,a){let h=i;fm(i)&&(h=l(i)),e.push(r+a+"="+encodeURIComponent(h))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yS(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function H0(n){this.l=n.fc||null,this.j=n.ob||!1}function _S(n,e){Oi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=LA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bF.prototype.cancel=function(){if(this.i=SF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},NA.prototype.stringify=function(n){return Yt.JSON.stringify(n,void 0)},NA.prototype.parse=function(n){return Yt.JSON.parse(n,void 0)},Ei(H0,TA),H0.prototype.g=function(){return new _S(this.l,this.j)},H0.prototype.i=function(n){return function(){return n}}({}),Ei(_S,Oi);var LA=0;function IF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function U0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,z0(n)}function z0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(yt=_S.prototype).open=function(n,e){if(this.readyState!=LA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,z0(this)},yt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Yt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},yt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,U0(this)),this.readyState=LA},yt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,z0(this)),this.g&&(this.readyState=3,z0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Yt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;IF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},yt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?U0(this):z0(this),3==this.readyState&&IF(this)}},yt.Za=function(n){this.g&&(this.response=this.responseText=n,U0(this))},yt.Ya=function(n){this.g&&(this.response=n,U0(this))},yt.ka=function(){this.g&&U0(this)},yt.setRequestHeader=function(n,e){this.v.append(n,e)},yt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},yt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(_S.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var j3=Yt.JSON.parse;function ti(n){Oi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=DF,this.L=this.M=!1}Ei(ti,Oi);var DF="",G3=/^https?$/i,$3=["POST","PUT"];function TF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,xF(n),vS(n)}function xF(n){n.F||(n.F=!0,$i(n,"complete"),$i(n,"error"))}function AF(n){if(n.h&&typeof yy<"u"&&(!n.C[1]||4!=_h(n)||2!=n.da()))if(n.v&&4==_h(n))tt(n.La,0,n);else if($i(n,"readystatechange"),4==_h(n)){n.h=!1;try{const m=n.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.I).match(pF)[1]||null;if(!i&&Yt.self&&Yt.self.location){var a=Yt.self.location.protocol;i=a.substr(0,a.length-1)}r=!G3.test(i?i.toLowerCase():"")}t=r}if(t)$i(n,"complete"),$i(n,"success");else{n.m=6;try{var h=2<_h(n)?n.g.statusText:""}catch{h=""}n.j=h+" ["+n.da()+"]",xF(n)}}finally{vS(n)}}}function vS(n,e){if(n.g){MF(n);const t=n.g,r=n.C[0]?ph:null;n.g=null,n.C=null,e||$i(n,"ready");try{t.onreadystatechange=r}catch{}}}function MF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Yt.clearTimeout(n.A),n.A=null)}function _h(n){return n.g?n.g.readyState:0}function PF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case DF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function kF(n){let e="";return eS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function VA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=kF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pr(n,e,t))}function j0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function RF(n){this.Ga=0,this.i=[],this.j=new Wn,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=j0("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=j0("baseRetryDelayMs",5e3,n),this.hb=j0("retryDelaySeedMs",1e4,n),this.eb=j0("forwardChannelMaxRetries",2,n),this.xa=j0("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new bF(n&&n.concurrentRequestLimit),this.Ja=new H3,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function BA(n){if(OF(n),3==n.H){var e=n.W++,t=yh(n.G);Pr(t,"SID",n.J),Pr(t,"RID",e),Pr(t,"TYPE","terminate"),G0(n,t),(e=new O0(n,n.j,e,void 0)).L=2,e.v=gS(yh(t)),t=!1,Yt.navigator&&Yt.navigator.sendBeacon&&(t=Yt.navigator.sendBeacon(e.v.toString(),"")),!t&&Yt.Image&&((new Image).src=e.v,t=!0),t||(e.g=jF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),F0(e)}UF(n)}function bS(n){n.g&&(UA(n),n.g.cancel(),n.g=null)}function OF(n){bS(n),n.u&&(Yt.clearTimeout(n.u),n.u=null),ES(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Yt.clearTimeout(n.m),n.m=null)}function wS(n){wF(n.h)||n.m||(n.m=!0,k(n.Na,n),n.C=0)}function FF(n,e){var t;t=e?e.m:n.W++;const r=yh(n.G);Pr(r,"SID",n.J),Pr(r,"RID",t),Pr(r,"AID",n.V),G0(n,r),n.o&&n.s&&VA(r,n.o,n.s),t=new O0(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=NF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),FA(n.h,t),kA(t,r,e)}function G0(n,e){n.ma&&eS(n.ma,function(t,r){Pr(e,r,t)}),n.l&&fF({},function(t,r){Pr(e,r,t)})}function NF(n,e,t){t=Math.min(n.i.length,t);var r=n.l?fs(n.l.Va,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const h=["count="+t];-1==a?0<t?(a=i[0].h,h.push("ofs="+a)):a=0:h.push("ofs="+a);let m=!0;for(let E=0;E<t;E++){let D=i[E].h;const F=i[E].g;if(D-=a,0>D)a=Math.max(0,i[E].h-100),m=!1;else try{U3(F,h,"req"+D+"_")}catch{r&&r(F)}}if(m){r=h.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function LF(n){n.g||n.u||(n.ba=1,k(n.Ma,n),n.A=0)}function HA(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=k0(fs(n.Ma,n),HF(n,n.A)),n.A++,0))}function UA(n){null!=n.B&&(Yt.clearTimeout(n.B),n.B=null)}function VF(n){n.g=new O0(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=yh(n.wa);Pr(e,"RID","rpc"),Pr(e,"SID",n.J),Pr(e,"CI",n.M?"0":"1"),Pr(e,"AID",n.V),Pr(e,"TYPE","xmlhttp"),G0(n,e),n.o&&n.s&&VA(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=gS(yh(e)),t.s=null,t.S=!0,cF(t,n)}function ES(n){null!=n.v&&(Yt.clearTimeout(n.v),n.v=null)}function BF(n,e){var t=null;if(n.g==e){ES(n),UA(n),n.g=null;var r=2}else{if(!OA(n.h,e))return;t=e.F,CF(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;$i(r=Zd(),new iF(r,t)),wS(n)}else LF(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function W3(n,e){return!(EF(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=k0(fs(n.Na,n,e),HF(n,n.C)),n.C++,0)))}(n,e)||2==r&&HA(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:bm(n,5);break;case 4:bm(n,10);break;case 3:bm(n,6);break;default:bm(n,2)}}function HF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function bm(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=fs(n.pb,n);t||(t=new vm("//www.google.com/images/cleardot.gif"),Yt.location&&"http"==Yt.location.protocol||pS(t,"https"),gS(t)),function z3(n,e){const t=new Wn;if(Yt.Image){const r=new Image;r.onload=pm(yS,t,r,"TestLoadImage: loaded",!0,e),r.onerror=pm(yS,t,r,"TestLoadImage: error",!1,e),r.onabort=pm(yS,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=pm(yS,t,r,"TestLoadImage: timeout",!1,e),Yt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else to(2);n.H=0,n.l&&n.l.za(e),UF(n),OF(n)}function UF(n){if(n.H=0,n.pa=[],n.l){const e=SF(n.h);(0!=e.length||0!=n.i.length)&&(vA(n.pa,e),vA(n.pa,n.i),n.h.i.length=0,qC(n.i),n.i.length=0),n.l.ya()}}function zF(n,e,t){var r=t instanceof vm?yh(t):new vm(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),mS(r,r.m);else{var i=Yt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new vm(null,void 0);r&&pS(a,r),e&&(a.g=e),i&&mS(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Pr(r,t,e),Pr(r,"VER",n.qa),G0(n,r),r}function jF(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ti(t&&n.Ha&&!n.va?new H0({ob:!0}):n.va)).Oa(n.I),e}function GF(){}function CS(){if(Bc&&!(10<=Number(QC)))throw Error("Environmental error: no available transport.")}function Zo(n,e){Oi.call(this),this.g=new RF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!vy(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vy(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ay(this)}function $F(n){xA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function qF(){AA.call(this),this.status=1}function Ay(n){this.g=n}function Pl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zA(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],h=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;h=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(h<<7&4294967295|h>>>25))+((h=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|h>>>20))+((h=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|h>>>10))+((h=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|h>>>25))+((h=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|h>>>20))+((h=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|h>>>10))+((h=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|h>>>25))+((h=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|h>>>20))+((h=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|h>>>10))+((h=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|h>>>25))+((h=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|h>>>20))+((h=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|h>>>15))+((h=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|h>>>10))+((h=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|h>>>27))+((h=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|h>>>23))+((h=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|h>>>18))+((h=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|h>>>12))+((h=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|h>>>27))+((h=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|h>>>23))+((h=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|h>>>18))+((h=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|h>>>12))+((h=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|h>>>27))+((h=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|h>>>23))+((h=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|h>>>18))+((h=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|h>>>12))+((h=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|h>>>27))+((h=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|h>>>23))+((h=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|h>>>18))+((h=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|h>>>12))+((h=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|h>>>28))+((h=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|h>>>21))+((h=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|h>>>16))+((h=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|h>>>28))+((h=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|h>>>21))+((h=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|h>>>16))+((h=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|h>>>28))+((h=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|h>>>21))+((h=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|h>>>16))+((h=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|h>>>9))+((h=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|h>>>28))+((h=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|h>>>21))+((h=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|h>>>16))+((h=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|h>>>9))+((h=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|h>>>26))+((h=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|h>>>22))+((h=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|h>>>17))+((h=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|h>>>11))+((h=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|h>>>26))+((h=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|h>>>22))+((h=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|h>>>17))+((h=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|h>>>11))+((h=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|h>>>26))+((h=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|h>>>22))+((h=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|h>>>17))+((h=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|h>>>11))+((a=(e=t+((h=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|h>>>26))+((h=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|h>>>22))^((i=a+((h=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|h>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(h<<21&4294967295|h>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function Zn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(yt=ti.prototype).Oa=function(n){this.M=n},yt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():MA.g(),this.C=function oF(n){return n.h||(n.h=n.i())}(this.u?this.u:MA),this.g.onreadystatechange=fs(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void TF(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Yt.FormData&&n instanceof Yt.FormData,!(0<=_A($3,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,h]of t)this.g.setRequestHeader(a,h);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{MF(this),0<this.B&&((this.L=function q3(n){return Bc&&function EA(){return E0(wA,9,function(){let n=0;const e=mm(String(S0)).split("."),t=mm("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var i=e[h]||"",a=t[h]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=w0(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||w0(0==i[2].length,0==a[2].length)||w0(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fs(this.ua,this)):this.A=tt(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){TF(this,a)}},yt.ua=function(){typeof yy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$i(this,"timeout"),this.abort(8))},yt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$i(this,"complete"),$i(this,"abort"),vS(this))},yt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vS(this,!0)),ti.$.N.call(this)},yt.La=function(){this.s||(this.G||this.v||this.l?AF(this):this.kb())},yt.kb=function(){AF(this)},yt.da=function(){try{return 2<_h(this)?this.g.status:-1}catch{return-1}},yt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},yt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),j3(e)}},yt.Ia=function(){return this.m},yt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(yt=RF.prototype).qa=8,yt.H=1,yt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new O0(this,this.j,n,void 0);let a=this.s;if(this.U&&(a?(a=D0(a),tS(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=NF(this,i,e),Pr(t=yh(this.G),"RID",n),Pr(t,"CVER",22),this.F&&Pr(t,"X-HTTP-Session-Id",this.F),G0(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(kF(a)))+"&"+e:this.o&&VA(t,this.o,a)),FA(this.h,i),this.bb&&Pr(t,"TYPE","init"),this.P?(Pr(t,"$req",e),Pr(t,"SID","null"),i.ba=!0,kA(i,t,null)):kA(i,t,e),this.H=2}}else 3==this.H&&(n?FF(this,n):0==this.i.length||wF(this.h)||FF(this))},yt.Ma=function(){if(this.u=null,VF(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=k0(fs(this.jb,this),n)}},yt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,to(10),bS(this),VF(this))},yt.ib=function(){null!=this.v&&(this.v=null,bS(this),HA(this),to(19))},yt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),to(2)):(this.j.info("Failed to ping google.com"),to(1))},(yt=GF.prototype).Ba=function(){},yt.Aa=function(){},yt.za=function(){},yt.ya=function(){},yt.Va=function(){},CS.prototype.g=function(n,e){return new Zo(n,e)},Ei(Zo,Oi),Zo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;to(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=zF(n,null,n.Y),wS(n)},Zo.prototype.close=function(){BA(this.g)},Zo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=l(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&wS(e)},Zo.prototype.N=function(){this.g.l=null,delete this.j,BA(this.g),delete this.g,Zo.$.N.call(this)},Ei($F,xA),Ei(qF,AA),Ei(Ay,GF),Ay.prototype.Ba=function(){$i(this.g,"a")},Ay.prototype.Aa=function(n){$i(this.g,new $F(n))},Ay.prototype.za=function(n){$i(this.g,new qF)},Ay.prototype.ya=function(){$i(this.g,"b")},Ei(Pl,function Z3(){this.blockSize=-1}),Pl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Pl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)zA(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){zA(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){zA(this,r),i=0;break}}this.h=i,this.i+=e},Pl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var K3={};function jA(n){return-128<=n&&128>n?E0(K3,n,function(e){return new Zn([0|e],0>e?-1:0)}):new Zn([0|n],0>n?-1:0)}function Uc(n){if(isNaN(n)||!isFinite(n))return My;if(0>n)return ms(Uc(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=GA;return new Zn(e,0)}var GA=4294967296,My=jA(0),$A=jA(1),ZF=jA(16777216);function vh(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Va(n){return-1==n.h}function ms(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Zn(t,~n.h).add($A)}function SS(n,e){return n.add(ms(e))}function IS(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function $0(n,e){this.g=n,this.h=e}function DS(n,e){if(vh(e))throw Error("division by zero");if(vh(n))return new $0(My,My);if(Va(n))return e=DS(ms(n),e),new $0(ms(e.g),ms(e.h));if(Va(e))return e=DS(n,ms(e)),new $0(ms(e.g),e.h);if(30<n.g.length){if(Va(n)||Va(e))throw Error("slowDivide_ only works with positive integers.");for(var t=$A,r=e;0>=r.X(n);)t=KF(t),r=KF(r);var i=Py(t,1),a=Py(r,1);for(r=Py(r,2),t=Py(t,2);!vh(r);){var h=a.add(r);0>=h.X(n)&&(i=i.add(t),a=h),r=Py(r,1),t=Py(t,1)}return e=SS(n,i.R(e)),new $0(i,e)}for(i=My;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),h=(a=Uc(t)).R(e);Va(h)||0<h.X(n);)h=(a=Uc(t-=r)).R(e);vh(a)&&(a=$A),i=i.add(a),n=SS(n,h)}return new $0(i,n)}function KF(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Zn(t,n.h)}function Py(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Zn(i,n.h)}(yt=Zn.prototype).ea=function(){if(Va(this))return-ms(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:GA+r)*e,e*=GA}return n},yt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(vh(this))return"0";if(Va(this))return"-"+ms(this).toString(n);for(var e=Uc(Math.pow(n,6)),t=this,r="";;){var i=DS(t,e).g,a=((0<(t=SS(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(vh(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},yt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},yt.X=function(n){return Va(n=SS(this,n))?-1:vh(n)?0:1},yt.abs=function(){return Va(this)?ms(this):this},yt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),h=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=h>>>16,t[i]=(h&=65535)<<16|(a&=65535)}return new Zn(t,-2147483648&t[t.length-1]?-1:0)},yt.R=function(n){if(vh(this)||vh(n))return My;if(Va(this))return Va(n)?ms(this).R(ms(n)):ms(ms(this).R(n));if(Va(n))return ms(this.R(ms(n)));if(0>this.X(ZF)&&0>n.X(ZF))return Uc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,h=65535&this.D(r),m=n.D(i)>>>16,E=65535&n.D(i);t[2*r+2*i]+=h*E,IS(t,2*r+2*i),t[2*r+2*i+1]+=a*E,IS(t,2*r+2*i+1),t[2*r+2*i+1]+=h*m,IS(t,2*r+2*i+1),t[2*r+2*i+2]+=a*m,IS(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Zn(t,0)},yt.gb=function(n){return DS(this,n).h},yt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Zn(t,this.h&n.h)},yt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Zn(t,this.h|n.h)},yt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Zn(t,this.h^n.h)},CS.prototype.createWebChannel=CS.prototype.g,Zo.prototype.send=Zo.prototype.u,Zo.prototype.open=Zo.prototype.m,Zo.prototype.close=Zo.prototype.close,uS.NO_ERROR=0,uS.TIMEOUT=8,uS.HTTP_ERROR=6,sF.COMPLETE="complete",aF.EventType=R0,R0.OPEN="a",R0.CLOSE="b",R0.ERROR="c",R0.MESSAGE="d",Oi.prototype.listen=Oi.prototype.O,ti.prototype.listenOnce=ti.prototype.P,ti.prototype.getLastError=ti.prototype.Sa,ti.prototype.getLastErrorCode=ti.prototype.Ia,ti.prototype.getStatus=ti.prototype.da,ti.prototype.getResponseJson=ti.prototype.Wa,ti.prototype.getResponseText=ti.prototype.ja,ti.prototype.send=ti.prototype.ha,ti.prototype.setWithCredentials=ti.prototype.Oa,Pl.prototype.digest=Pl.prototype.l,Pl.prototype.reset=Pl.prototype.reset,Pl.prototype.update=Pl.prototype.j,Zn.prototype.add=Zn.prototype.add,Zn.prototype.multiply=Zn.prototype.R,Zn.prototype.modulo=Zn.prototype.gb,Zn.prototype.compare=Zn.prototype.X,Zn.prototype.toNumber=Zn.prototype.ea,Zn.prototype.toString=Zn.prototype.toString,Zn.prototype.getBits=Zn.prototype.D,Zn.fromNumber=Uc,Zn.fromString=function WF(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ms(WF(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Uc(Math.pow(e,8)),r=My,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),h=parseInt(n.substring(i,i+a),e);8>a?(a=Uc(Math.pow(e,a)),r=r.R(a).add(Uc(h))):r=(r=r.R(t)).add(Uc(h))}return r};var Y3=bo.createWebChannelTransport=function(){return new CS},Q3=bo.getStatEventTarget=function(){return Zd()},qA=bo.ErrorCode=uS,X3=bo.EventType=sF,J3=bo.Event=Ml,YF=bo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},eU=bo.FetchXmlHttpFactory=H0,TS=bo.WebChannel=aF,tU=bo.XhrIo=ti,nU=bo.Md5=Pl,ky=bo.Integer=Zn;const QF="@firebase/firestore";class qi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qi.UNAUTHENTICATED=new qi(null),qi.GOOGLE_CREDENTIALS=new qi("google-credentials-uid"),qi.FIRST_PARTY=new qi("first-party-uid"),qi.MOCK_USER=new qi("mock-user");let Ry="9.21.0";const Yd=new La.Yd("@firebase/firestore");function WA(){return Yd.logLevel}function et(n,...e){if(Yd.logLevel<=La.in.DEBUG){const t=e.map(ZA);Yd.debug(`Firestore (${Ry}): ${n}`,...t)}}function fi(n,...e){if(Yd.logLevel<=La.in.ERROR){const t=e.map(ZA);Yd.error(`Firestore (${Ry}): ${n}`,...t)}}function Ba(n,...e){if(Yd.logLevel<=La.in.WARN){const t=e.map(ZA);Yd.warn(`Firestore (${Ry}): ${n}`,...t)}}function ZA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Et(n="Unexpected state"){const e=`FIRESTORE (${Ry}) INTERNAL ASSERTION FAILED: `+n;throw fi(e),new Error(e)}function Ot(n,e){n||Et()}function mt(n,e){return n}const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Cn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class XF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qi.UNAUTHENTICATED))}shutdown(){}}class oU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class aU{constructor(e){this.t=e,this.currentUser=qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=D=>this.i!==i?(i=this.i,t(D)):Promise.resolve();let h=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Fi,e.enqueueRetryable(()=>a(this.currentUser))};const m=()=>{const D=h;e.enqueueRetryable((0,He.Z)(function*(){yield D.promise,yield a(r.currentUser)}))},E=D=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>E(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?E(D):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Fi)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot("string"==typeof r.accessToken),new XF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ot(null===e||"string"==typeof e),new qi(e)}}class lU{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=qi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cU{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new lU(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uU{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const h=a.token!==this.T;return this.T=a.token,et("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ot("string"==typeof t.token),this.T=t.token,new JF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class eN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=hU(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function tn(n,e){return n<e?-1:n>e?1:0}function Oy(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function tN(n){return n+"\0"}class kr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ke(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ke(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ke(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kr.fromMillis(Date.now())}static fromDate(e){return kr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new kr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tn(this.nanoseconds,e.nanoseconds):tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new kr(0,0))}static max(){return new Nt(new kr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class q0{constructor(e,t,r){void 0===t?t=0:t>e.length&&Et(),void 0===r?r=e.length-t:r>e.length-t&&Et(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===q0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof q0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),h=t.get(i);if(a<h)return-1;if(a>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tn extends q0{construct(e,t,r){return new Tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(je.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Tn(t)}static emptyPath(){return new Tn([])}}const dU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ni extends q0{construct(e,t,r){return new ni(e,t,r)}static isValidIdentifier(e){return dU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ni(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ke(je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new Ke(je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[i+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Ke(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,i+=2}else"`"===m?(h=!h,i++):"."!==m||h?(r+=m,i++):(a(),i++)}if(a(),h)throw new Ke(je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ni(t)}static emptyPath(){return new ni([])}}class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Tn.fromString(e))}static fromName(e){return new ut(Tn.fromString(e).popFirst(5))}static empty(){return new ut(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Tn(e.slice()))}}class xS{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function KA(n){return n.fields.find(e=>2===e.kind)}function wm(n){return n.fields.filter(e=>2!==e.kind)}xS.UNKNOWN_ID=-1;class AS{constructor(e,t){this.fieldPath=e,this.kind=t}}class W0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new W0(0,Ko.min())}}function nN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(1e9===r?new kr(t+1,0):new kr(t,r));return new Ko(i,ut.empty(),e)}function rN(n){return new Ko(n.readTime,n.key,-1)}class Ko{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ko(Nt.min(),ut.empty(),-1)}static max(){return new Ko(Nt.max(),ut.empty(),-1)}}function YA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ut.comparator(n.documentKey,e.documentKey),0!==t?t:tn(n.largestBatchId,e.largestBatchId))}const iN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Qd(n){return QA.apply(this,arguments)}function QA(){return QA=(0,He.Z)(function*(n){if(n.code!==je.FAILED_PRECONDITION||n.message!==iN)throw n;et("LocalStore","Unexpectedly lost primary lease")}),QA.apply(this,arguments)}class Ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ve((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ve?t:Ve.resolve(t)}catch(t){return Ve.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ve.reject(t)}static resolve(e){return new Ve((t,r)=>{t(e)})}static reject(e){return new Ve((t,r)=>{r(e)})}static waitFor(e){return new Ve((t,r)=>{let i=0,a=0,h=!1;e.forEach(m=>{++i,m.next(()=>{++a,h&&a===i&&t()},E=>r(E))}),h=!0,a===i&&t()})}static or(e){let t=Ve.resolve(!1);for(const r of e)t=t.next(i=>i?Ve.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new Ve((r,i)=>{const a=e.length,h=new Array(a);let m=0;for(let E=0;E<a;E++){const D=E;t(e[D]).next(F=>{h[D]=F,++m,m===a&&r(h)},F=>i(F))}})}static doWhile(e,t){return new Ve((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class MS{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Fi,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Z0(e,t.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=XA(r.target.error);this.R.reject(new Z0(e,i))}}static open(e,t,r,i){try{return new MS(t,e.transaction(i,r))}catch(a){throw new Z0(t,a)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(et("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gU(t)}}class kl{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===kl.S((0,Cn.z$)())&&fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return et("SimpleDb","Removing database:",e),Em(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Cn.hl)())return!1;if(kl.C())return!0;const e=(0,Cn.z$)(),t=kl.S(e),r=0<t&&t<10,i=kl.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,He.Z)(function*(){return t.db||(et("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=h=>{r(h.target.result)},a.onblocked=()=>{i(new Z0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=h=>{const m=h.target.error;i("VersionError"===m.name?new Ke(je.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ke(je.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Z0(e,m))},a.onupgradeneeded=h=>{et("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.V.$(h.target.result,a.transaction,h.oldVersion,t.version).next(()=>{et("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,He.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{a.db=yield a.O(e);const E=MS.open(a.db,e,h?"readonly":"readwrite",r),D=i(E).next(F=>(E.P(),F)).catch(F=>(E.abort(F),Ve.reject(F))).toPromise();return D.catch(()=>{}),yield E.v,D}catch(E){const D=E,F="FirebaseError"!==D.name&&m<3;if(et("SimpleDb","Transaction failed with error:",D.message,"Retrying:",F),a.close(),!F)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class mU{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Em(this.L.delete())}}class Z0 extends Ke{constructor(e,t){super(je.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Xd(n){return"IndexedDbTransactionError"===n.name}class gU{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(et("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(et("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Em(r)}add(e){return et("SimpleDb","ADD",this.store.name,e,e),Em(this.store.add(e))}get(e){return Em(this.store.get(e)).next(t=>(void 0===t&&(t=null),et("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return et("SimpleDb","DELETE",this.store.name,e),Em(this.store.delete(e))}count(){return et("SimpleDb","COUNT",this.store.name),Em(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(h,m)=>{a.push(m)}).next(()=>a)}{const i=this.store.getAll(r.range);return new Ve((a,h)=>{i.onerror=m=>{h(m.target.error)},i.onsuccess=m=>{a(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ve((i,a)=>{r.onerror=h=>{a(h.target.error)},r.onsuccess=h=>{i(h.target.result)}})}J(e,t){et("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,h,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new Ve((r,i)=>{t.onerror=a=>{const h=XA(a.target.error);i(h)},t.onsuccess=a=>{const h=a.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}W(e,t){const r=[];return new Ve((i,a)=>{e.onerror=h=>{a(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void i();const E=new mU(m),D=t(m.primaryKey,m.value,E);if(D instanceof Ve){const F=D.catch(W=>(E.done(),Ve.reject(W)));r.push(F)}E.isDone?i():null===E.K?m.continue():m.continue(E.K)}}).next(()=>Ve.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Em(n){return new Ve((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=XA(r.target.error);t(i)}})}let oN=!1;function XA(n){const e=kl.S((0,Cn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oN||(oN=!0,setTimeout(()=>{throw r},0)),r}}return n}class yU{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;et("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,He.Z)(function*(){t.task=null;try{et("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Xd(r)?et("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Qd(r)}yield t.et(6e4)}))}}class _U{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,He.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return Ve.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(h=>{if(null!==h&&!r.has(h))return et("IndexBackiller",`Processing collection: ${h}`),this.it(e,h,i).next(m=>{i-=m,r.add(h)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const h=a.changes;return this.localStore.indexManager.updateIndexEntries(e,h).next(()=>this.rt(i,a)).next(m=>(et("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>h.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const h=rN(a);YA(h,r)>0&&(r=h)}),new Ko(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Yo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function K0(n){return null==n}function Y0(n){return 0===n&&1/n==-1/0}function aN(n){return"number"==typeof n&&Number.isInteger(n)&&!Y0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Os(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lN(e)),e=vU(n.get(t),e);return lN(e)}function vU(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function lN(n){return n+"\x01\x01"}function zc(n){const e=n.length;if(Ot(e>=2),2===e)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const h=n.indexOf("\x01",a);switch((h<0||h>t)&&Et(),n.charAt(h+1)){case"\x01":const m=n.substring(a,h);let E;0===i.length?E=m:(i+=m,E=i,i=""),r.push(E);break;case"\x10":i+=n.substring(a,h),i+="\0";break;case"\x11":i+=n.substring(a,h+1);break;default:Et()}a=h+2}return new Tn(r)}const cN=["userId","batchId"];function PS(n,e){return[n,Os(e)]}function uN(n,e,t){return[n,Os(e),t]}const bU={},wU=["prefixPath","collectionGroup","readTime","documentId"],EU=["prefixPath","collectionGroup","documentId"],CU=["collectionGroup","readTime","prefixPath","documentId"],SU=["canonicalId","targetId"],IU=["targetId","path"],DU=["path","targetId"],TU=["collectionId","parent"],xU=["indexId","uid"],AU=["uid","sequenceNumber"],MU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],PU=["indexId","uid","orderedDocumentKey"],kU=["userId","collectionPath","documentId"],RU=["userId","collectionPath","largestBatchId"],OU=["userId","collectionGroup","largestBatchId"],hN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],FU=[...hN,"documentOverlays"],dN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fN=dN,NU=[...fN,"indexConfiguration","indexState","indexEntries"];class JA extends sN{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Wi(n,e){const t=mt(n);return kl.M(t.at,e)}function pN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Jd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pr{constructor(e,t){this.comparator=e,this.root=t||gs.EMPTY}insert(e,t){return new pr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gs.BLACK,null,null))}remove(e){return new pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kS(this.root,e,this.comparator,!1)}getReverseIterator(){return new kS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kS(this.root,e,this.comparator,!0)}}class kS{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gs{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??gs.RED,this.left=i??gs.EMPTY,this.right=a??gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new gs(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return gs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1,gs.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(n,e,t,r,i){return this}insert(n,e,t){return new gs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wr{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gN(this.data.getIterator())}getIteratorFrom(e){return new gN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wr(this.comparator);return t.data=e,t}}class gN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fy(n){return n.hasNext()?n.getNext():void 0}class wo{constructor(e){this.fields=e,e.sort(ni.comparator)}static empty(){return new wo([])}unionWith(e){let t=new wr(ni.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new wo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oy(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class yN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ni{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new yN("Invalid base64 string: "+i):i}}(e);return new Ni(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Ni(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ni.EMPTY_BYTE_STRING=new Ni("");const VU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ef(n){if(Ot(!!n),"string"==typeof n){let e=0;const t=VU.exec(n);if(Ot(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ri(n.seconds),nanos:ri(n.nanos)}}function ri(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bh(n){return"string"==typeof n?Ni.fromBase64String(n):Ni.fromUint8Array(n)}function RS(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function OS(n){const e=n.mapValue.fields.__previous_value__;return RS(e)?OS(e):e}function Q0(n){const e=ef(n.mapValue.fields.__local_write_time__.timestampValue);return new kr(e.seconds,e.nanos)}class BU{constructor(e,t,r,i,a,h,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class tf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new tf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof tf&&e.projectId===this.projectId&&e.database===this.database}}const nf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},FS={nullValue:"NULL_VALUE"};function rf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?RS(n)?4:wN(n)?9007199254740991:10:Et()}function jc(n,e){if(n===e)return!0;const t=rf(n);if(t!==rf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Q0(n).isEqual(Q0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=ef(r.timestampValue),h=ef(i.timestampValue);return a.seconds===h.seconds&&a.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,bh(n.bytesValue).isEqual(bh(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ri(r.geoPointValue.latitude)===ri(i.geoPointValue.latitude)&&ri(r.geoPointValue.longitude)===ri(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ri(r.integerValue)===ri(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=ri(r.doubleValue),h=ri(i.doubleValue);return a===h?Y0(a)===Y0(h):isNaN(a)&&isNaN(h)}return!1}(n,e);case 9:return Oy(n.arrayValue.values||[],e.arrayValue.values||[],jc);case 10:return function(r,i){const a=r.mapValue.fields||{},h=i.mapValue.fields||{};if(pN(a)!==pN(h))return!1;for(const m in a)if(a.hasOwnProperty(m)&&(void 0===h[m]||!jc(a[m],h[m])))return!1;return!0}(n,e);default:return Et()}var i}function X0(n,e){return void 0!==(n.values||[]).find(t=>jc(t,e))}function sf(n,e){if(n===e)return 0;const t=rf(n),r=rf(e);if(t!==r)return tn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return tn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const h=ri(i.integerValue||i.doubleValue),m=ri(a.integerValue||a.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return _N(n.timestampValue,e.timestampValue);case 4:return _N(Q0(n),Q0(e));case 5:return tn(n.stringValue,e.stringValue);case 6:return function(i,a){const h=bh(i),m=bh(a);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const h=i.split("/"),m=a.split("/");for(let E=0;E<h.length&&E<m.length;E++){const D=tn(h[E],m[E]);if(0!==D)return D}return tn(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const h=tn(ri(i.latitude),ri(a.latitude));return 0!==h?h:tn(ri(i.longitude),ri(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const h=i.values||[],m=a.values||[];for(let E=0;E<h.length&&E<m.length;++E){const D=sf(h[E],m[E]);if(D)return D}return tn(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===nf.mapValue&&a===nf.mapValue)return 0;if(i===nf.mapValue)return 1;if(a===nf.mapValue)return-1;const h=i.fields||{},m=Object.keys(h),E=a.fields||{},D=Object.keys(E);m.sort(),D.sort();for(let F=0;F<m.length&&F<D.length;++F){const W=tn(m[F],D[F]);if(0!==W)return W;const ce=sf(h[m[F]],E[D[F]]);if(0!==ce)return ce}return tn(m.length,D.length)}(n.mapValue,e.mapValue);default:throw Et()}}function _N(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return tn(n,e);const t=ef(n),r=ef(e),i=tn(t.seconds,r.seconds);return 0!==i?i:tn(t.nanos,r.nanos)}function Ny(n){return e1(n)}function e1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ef(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bh(n.bytesValue).toBase64():"referenceValue"in n?ut.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const h of r.values||[])a?a=!1:i+=",",i+=e1(h);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",h=!0;for(const m of i)h?h=!1:a+=",",a+=`${m}:${e1(r.fields[m])}`;return a+"}"}(n.mapValue):Et();var e}function Cm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function t1(n){return!!n&&"integerValue"in n}function J0(n){return!!n&&"arrayValue"in n}function vN(n){return!!n&&"nullValue"in n}function bN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function LS(n){return!!n&&"mapValue"in n}function eb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Jd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=eb(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=eb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function HU(n){return"nullValue"in n?FS:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Cm(tf.empty(),ut.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Et()}function UU(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Cm(tf.empty(),ut.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?nf:Et()}function EN(n,e){const t=sf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function CN(n,e){const t=sf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ys{constructor(e){this.value=e}static empty(){return new ys({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!LS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eb(t)}setAll(e){let t=ni.emptyPath(),r={},i=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,i),r={},i=[],t=m.popLast()}h?r[m.lastSegment()]=eb(h):i.push(m.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());LS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];LS(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Jd(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ys(eb(this.value))}}function SN(n){const e=[];return Jd(n.fields,(t,r)=>{const i=new ni([t]);if(LS(r)){const a=SN(r.mapValue).fields;if(0===a.length)e.push(i);else for(const h of a)e.push(i.child(h))}else e.push(i)}),new wo(e)}class Er{constructor(e,t,r,i,a,h,m){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Er(e,0,Nt.min(),Nt.min(),Nt.min(),ys.empty(),0)}static newFoundDocument(e,t,r,i){return new Er(e,1,t,Nt.min(),r,i,0)}static newNoDocument(e,t){return new Er(e,2,t,Nt.min(),Nt.min(),ys.empty(),0)}static newUnknownDocument(e,t){return new Er(e,3,t,Nt.min(),Nt.min(),ys.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ys.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class af{constructor(e,t){this.position=e,this.inclusive=t}}function IN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],h=n.position[i];if(r=a.field.isKeyField()?ut.comparator(ut.fromName(h.referenceValue),t.key):sf(h,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function DN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!jc(n.position[t],e.position[t]))return!1;return!0}class Ly{constructor(e,t="asc"){this.field=e,this.dir=t}}function zU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class TN{}class _n extends TN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new jU(e,t,r):"array-contains"===t?new qU(e,r):"in"===t?new RN(e,r):"not-in"===t?new WU(e,r):"array-contains-any"===t?new ZU(e,r):new _n(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new GU(e,r):new $U(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(sf(t,this.value)):null!==t&&rf(this.value)===rf(t)&&this.matchesComparison(sf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Kn extends TN{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Kn(e,t)}matches(e){return Vy(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Vy(n){return"and"===n.op}function n1(n){return"or"===n.op}function r1(n){return xN(n)&&Vy(n)}function xN(n){for(const e of n.filters)if(e instanceof Kn)return!1;return!0}function s1(n){if(n instanceof _n)return n.field.canonicalString()+n.op.toString()+Ny(n.value);if(r1(n))return n.filters.map(e=>s1(e)).join(",");{const e=n.filters.map(t=>s1(t)).join(",");return`${n.op}(${e})`}}function AN(n,e){return n instanceof _n?(t=n,(r=e)instanceof _n&&t.op===r.op&&t.field.isEqual(r.field)&&jc(t.value,r.value)):n instanceof Kn?function(t,r){return r instanceof Kn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,h)=>i&&AN(a,r.filters[h]),!0)}(n,e):void Et();var t,r}function MN(n,e){const t=n.filters.concat(e);return Kn.create(t,n.op)}function PN(n){return n instanceof _n?`${(e=n).field.canonicalString()} ${e.op} ${Ny(e.value)}`:n instanceof Kn?function(e){return e.op.toString()+" {"+e.getFilters().map(PN).join(" ,")+"}"}(n):"Filter";var e}class jU extends _n{constructor(e,t,r){super(e,t,r),this.key=ut.fromName(r.referenceValue)}matches(e){const t=ut.comparator(e.key,this.key);return this.matchesComparison(t)}}class GU extends _n{constructor(e,t){super(e,"in",t),this.keys=kN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $U extends _n{constructor(e,t){super(e,"not-in",t),this.keys=kN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ut.fromName(r.referenceValue))}class qU extends _n{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return J0(t)&&X0(t.arrayValue,this.value)}}class RN extends _n{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&X0(this.value.arrayValue,t)}}class WU extends _n{constructor(e,t){super(e,"not-in",t)}matches(e){if(X0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!X0(this.value.arrayValue,t)}}class ZU extends _n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!J0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>X0(this.value.arrayValue,r))}}class KU{constructor(e,t=null,r=[],i=[],a=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=h,this.endAt=m,this.ft=null}}function o1(n,e=null,t=[],r=[],i=null,a=null,h=null){return new KU(n,e,t,r,i,a,h)}function Sm(n){const e=mt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>s1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),K0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ny(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ny(r)).join(",")),e.ft=t}return e.ft}function tb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!AN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DN(n.startAt,e.startAt)&&DN(n.endAt,e.endAt)}function VS(n){return ut.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function BS(n,e){return n.filters.filter(t=>t instanceof _n&&t.field.isEqual(e))}function ON(n,e,t){let r=FS,i=!0;for(const a of BS(n,e)){let h=FS,m=!0;switch(a.op){case"<":case"<=":h=HU(a.value);break;case"==":case"in":case">=":h=a.value;break;case">":h=a.value,m=!1;break;case"!=":case"not-in":h=FS}EN({value:r,inclusive:i},{value:h,inclusive:m})<0&&(r=h,i=m)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const h=t.position[a];EN({value:r,inclusive:i},{value:h,inclusive:t.inclusive})<0&&(r=h,i=t.inclusive);break}return{value:r,inclusive:i}}function FN(n,e,t){let r=nf,i=!0;for(const a of BS(n,e)){let h=nf,m=!0;switch(a.op){case">=":case">":h=UU(a.value),m=!1;break;case"==":case"in":case"<=":h=a.value;break;case"<":h=a.value,m=!1;break;case"!=":case"not-in":h=nf}CN({value:r,inclusive:i},{value:h,inclusive:m})>0&&(r=h,i=m)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const h=t.position[a];CN({value:r,inclusive:i},{value:h,inclusive:t.inclusive})>0&&(r=h,i=t.inclusive);break}return{value:r,inclusive:i}}class wh{constructor(e,t=null,r=[],i=[],a=null,h="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=h,this.startAt=m,this.endAt=E,this.dt=null,this._t=null}}function NN(n,e,t,r,i,a,h,m){return new wh(n,e,t,r,i,a,h,m)}function By(n){return new wh(n)}function LN(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function a1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function HS(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function l1(n){return null!==n.collectionGroup}function Im(n){const e=mt(n);if(null===e.dt){e.dt=[];const t=HS(e),r=a1(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Ly(t)),e.dt.push(new Ly(ni.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ly(ni.keyField(),a))}}}return e.dt}function no(n){const e=mt(n);if(!e._t)if("F"===e.limitType)e._t=o1(e.path,e.collectionGroup,Im(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Im(e))t.push(new Ly(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new af(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new af(e.startAt.position,e.startAt.inclusive):null;e._t=o1(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function c1(n,e){e.getFirstInequalityField(),HS(n);const t=n.filters.concat([e]);return new wh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function US(n,e,t){return new wh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nb(n,e){return tb(no(n),no(e))&&n.limitType===e.limitType}function VN(n){return`${Sm(no(n))}|lt:${n.limitType}`}function u1(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>PN(r)).join(", ")}]`),K0(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ny(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ny(r)).join(",")),`Target(${t})`}(no(n))}; limitType=${n.limitType})`}function rb(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ut.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Im(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,h){const m=IN(i,a,h);return i.inclusive?m<=0:m<0}(t.startAt,Im(t),r)||t.endAt&&!function(i,a,h){const m=IN(i,a,h);return i.inclusive?m>=0:m>0}(t.endAt,Im(t),r)));var t,r}function BN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HN(n){return(e,t)=>{let r=!1;for(const i of Im(n)){const a=YU(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function YU(n,e,t){const r=n.field.isKeyField()?ut.comparator(e.key,t.key):function(i,a,h){const m=a.data.field(i),E=h.data.field(i);return null!==m&&null!==E?sf(m,E):Et()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Et()}}class Eh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jd(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return mN(this.inner)}size(){return this.innerSize}}const QU=new pr(ut.comparator);function Eo(){return QU}const UN=new pr(ut.comparator);function ib(...n){let e=UN;for(const t of n)e=e.insert(t.key,t);return e}function zN(n){let e=UN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Gc(){return sb()}function jN(){return sb()}function sb(){return new Eh(n=>n.toString(),(n,e)=>n.isEqual(e))}const XU=new pr(ut.comparator),JU=new wr(ut.comparator);function cn(...n){let e=JU;for(const t of n)e=e.add(t);return e}const ez=new wr(tn);function h1(){return ez}function GN(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Y0(e)?"-0":e}}function $N(n){return{integerValue:""+n}}function qN(n,e){return aN(e)?$N(e):GN(n,e)}class zS{constructor(){this._=void 0}}function tz(n,e,t){return n instanceof Hy?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&RS(i)&&(i=OS(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Dm?ZN(n,e):n instanceof Tm?KN(n,e):function(r,i){const a=WN(r,i),h=YN(a)+YN(r.wt);return t1(a)&&t1(r.wt)?$N(h):GN(r.serializer,h)}(n,e)}function nz(n,e,t){return n instanceof Dm?ZN(n,e):n instanceof Tm?KN(n,e):t}function WN(n,e){return n instanceof Uy?t1(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Hy extends zS{}class Dm extends zS{constructor(e){super(),this.elements=e}}function ZN(n,e){const t=QN(e);for(const r of n.elements)t.some(i=>jc(i,r))||t.push(r);return{arrayValue:{values:t}}}class Tm extends zS{constructor(e){super(),this.elements=e}}function KN(n,e){let t=QN(e);for(const r of n.elements)t=t.filter(i=>!jc(i,r));return{arrayValue:{values:t}}}class Uy extends zS{constructor(e,t){super(),this.serializer=e,this.wt=t}}function YN(n){return ri(n.integerValue||n.doubleValue)}function QN(n){return J0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ab{constructor(e,t){this.field=e,this.transform=t}}class iz{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jS(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class GS{}function XN(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new jy(n.key,Rr.none()):new zy(n.key,n.data,Rr.none());{const t=n.data,r=ys.empty();let i=new wr(ni.comparator);for(let a of e.fields)if(!i.has(a)){let h=t.field(a);null===h&&a.length>1&&(a=a.popLast(),h=t.field(a)),null===h?r.delete(a):r.set(a,h),i=i.add(a)}return new Ch(n.key,r,new wo(i.toArray()),Rr.none())}}function sz(n,e,t){n instanceof zy?function(r,i,a){const h=r.value.clone(),m=tL(r.fieldTransforms,i,a.transformResults);h.setAll(m),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ch?function(r,i,a){if(!jS(r.precondition,i))return void i.convertToUnknownDocument(a.version);const h=tL(r.fieldTransforms,i,a.transformResults),m=i.data;m.setAll(eL(r)),m.setAll(h),i.convertToFoundDocument(a.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function lb(n,e,t,r){return n instanceof zy?function(i,a,h,m){if(!jS(i.precondition,a))return h;const E=i.value.clone(),D=nL(i.fieldTransforms,m,a);return E.setAll(D),a.convertToFoundDocument(a.version,E).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ch?function(i,a,h,m){if(!jS(i.precondition,a))return h;const E=nL(i.fieldTransforms,m,a),D=a.data;return D.setAll(eL(i)),D.setAll(E),a.convertToFoundDocument(a.version,D).setHasLocalMutations(),null===h?null:h.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(F=>F.field))}(n,e,t,r):(h=t,jS(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):h);var a,h}function oz(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=WN(r.transform,i||null);null!=a&&(null===t&&(t=ys.empty()),t.set(r.field,a))}return t||null}function JN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Oy(t,r,(i,a)=>function rz(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Dm&&r instanceof Dm||t instanceof Tm&&r instanceof Tm?Oy(t.elements,r.elements,jc):t instanceof Uy&&r instanceof Uy?jc(t.wt,r.wt):t instanceof Hy&&r instanceof Hy);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class zy extends GS{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ch extends GS{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function eL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function tL(n,e,t){const r=new Map;Ot(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],h=a.transform,m=e.data.field(a.field);r.set(a.field,nz(h,m,t[i]))}return r}function nL(n,e,t){const r=new Map;for(const i of n){const a=i.transform,h=t.data.field(i.field);r.set(i.field,tz(a,h,e))}return r}class jy extends GS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d1 extends GS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class f1{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&sz(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=lb(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=lb(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=jN();return this.mutations.forEach(i=>{const a=e.get(i.key),h=a.overlayedDocument;let m=this.applyToLocalView(h,a.mutatedFields);m=t.has(i.key)?null:m;const E=XN(h,m);null!==E&&r.set(i.key,E),h.isValidDocument()||h.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cn())}isEqual(e){return this.batchId===e.batchId&&Oy(this.mutations,e.mutations,(t,r)=>JN(t,r))&&Oy(this.baseMutations,e.baseMutations,(t,r)=>JN(t,r))}}class p1{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ot(e.mutations.length===r.length);let i=XU;const a=e.mutations;for(let h=0;h<a.length;h++)i=i.insert(a[h].key,r[h].version);return new p1(e,t,r,i)}}class m1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lz{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ci,xn;function rL(n){switch(n){default:return Et();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0}}function iL(n){if(void 0===n)return fi("GRPC error has no .code"),je.UNKNOWN;switch(n){case Ci.OK:return je.OK;case Ci.CANCELLED:return je.CANCELLED;case Ci.UNKNOWN:return je.UNKNOWN;case Ci.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case Ci.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case Ci.INTERNAL:return je.INTERNAL;case Ci.UNAVAILABLE:return je.UNAVAILABLE;case Ci.UNAUTHENTICATED:return je.UNAUTHENTICATED;case Ci.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case Ci.NOT_FOUND:return je.NOT_FOUND;case Ci.ALREADY_EXISTS:return je.ALREADY_EXISTS;case Ci.PERMISSION_DENIED:return je.PERMISSION_DENIED;case Ci.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case Ci.ABORTED:return je.ABORTED;case Ci.OUT_OF_RANGE:return je.OUT_OF_RANGE;case Ci.UNIMPLEMENTED:return je.UNIMPLEMENTED;case Ci.DATA_LOSS:return je.DATA_LOSS;default:return Et()}}(xn=Ci||(Ci={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";class g1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return $S}static getOrCreateInstance(){return null===$S&&($S=new g1),$S}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let $S=null;function sL(){return new TextEncoder}const cz=new ky([4294967295,4294967295],0);function oL(n){const e=sL().encode(n),t=new nU;return t.update(e),new Uint8Array(t.digest())}function aL(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ky([t,r],0),new ky([i,a],0)]}class y1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new cb(`Invalid padding: ${t}`);if(r<0)throw new cb(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new cb(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new cb(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=ky.fromNumber(this.yt)}Tt(e,t,r){let i=e.add(t.multiply(ky.fromNumber(r)));return 1===i.compare(cz)&&(i=new ky([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=oL(e),[r,i]=aL(t);for(let a=0;a<this.hashCount;a++){const h=this.Tt(r,i,a);if(!this.Et(h))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),h=new y1(a,i,t);return r.forEach(m=>h.insert(m)),h}insert(e){if(0===this.yt)return;const t=oL(e),[r,i]=aL(t);for(let a=0;a<this.hashCount;a++){const h=this.Tt(r,i,a);this.Rt(h)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class cb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ub{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,hb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ub(Nt.min(),i,new pr(tn),Eo(),cn())}}class hb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new hb(r,t,cn(),cn(),cn())}}class qS{constructor(e,t,r,i){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=i}}class lL{constructor(e,t){this.targetId=e,this.bt=t}}class cL{constructor(e,t,r=Ni.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class uL{constructor(){this.Vt=0,this.St=dL(),this.Dt=Ni.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=cn(),t=cn(),r=cn();return this.St.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Et()}}),new hb(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=dL()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class uz{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Eo(),this.jt=hL(),this.zt=new pr(tn)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:Et()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,i)=>{this.Zt(i)&&t(i)})}ee(e){var t;const r=e.targetId,i=e.bt.count,a=this.ne(r);if(a){const h=a.target;if(VS(h))if(0===i){const m=new ut(h.path);this.Jt(r,m,Er.newNoDocument(m,Nt.min()))}else Ot(1===i);else{const m=this.se(r);if(m!==i){const E=this.ie(e,m);0!==E&&(this.te(r),this.zt=this.zt.insert(r,2===E?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=g1.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(D,F,W){var ce,me,Ce,Me,Ue,rt;const _t={localCacheCount:F,existenceFilterCount:W.count},ht=W.unchangedNames;return ht&&(_t.bloomFilter={applied:0===D,hashCount:null!==(ce=ht?.hashCount)&&void 0!==ce?ce:0,bitmapLength:null!==(Me=null===(Ce=null===(me=ht?.bits)||void 0===me?void 0:me.bitmap)||void 0===Ce?void 0:Ce.length)&&void 0!==Me?Me:0,padding:null!==(rt=null===(Ue=ht?.bits)||void 0===Ue?void 0:Ue.padding)&&void 0!==rt?rt:0}),_t}(E,m,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:h=0},hashCount:m=0}=r;let E,D;try{E=bh(a).toUint8Array()}catch(F){if(F instanceof yN)return Ba("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw F}try{D=new y1(E,h,m)}catch(F){return Ba(F instanceof cb?"BloomFilter error: ":"Applying bloom filter failed: ",F),1}return 0===D.yt?1:i!==t-this.re(e.targetId,D)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const h=this.Kt.oe(),m=`projects/${h.projectId}/databases/${h.database}/documents/${a.path.canonicalString()}`;t.At(m)||(this.Jt(e,a,null),i++)}),i}ue(e){const t=new Map;this.Gt.forEach((a,h)=>{const m=this.ne(h);if(m){if(a.current&&VS(m.target)){const E=new ut(m.target.path);null!==this.Qt.get(E)||this.ce(h,E)||this.Jt(h,E,Er.newNoDocument(E,e))}a.kt&&(t.set(h,a.Ot()),a.$t())}});let r=cn();this.jt.forEach((a,h)=>{let m=!0;h.forEachWhile(E=>{const D=this.ne(E);return!D||"TargetPurposeLimboResolution"===D.purpose||(m=!1,!1)}),m&&(r=r.add(a))}),this.Qt.forEach((a,h)=>h.setReadTime(e));const i=new ub(e,t,this.zt,this.Qt,r);return this.Qt=Eo(),this.jt=hL(),this.zt=new pr(tn),i}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,t)?i.Ft(t,1):i.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new uL,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new wr(tn),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||et("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new uL),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function hL(){return new pr(ut.comparator)}function dL(){return new pr(ut.comparator)}const hz={asc:"ASCENDING",desc:"DESCENDING"},dz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fz={and:"AND",or:"OR"};class pz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _1(n,e){return n.useProto3Json||K0(e)?e:{value:e}}function Gy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mz(n,e){return Gy(n,e.toTimestamp())}function pi(n){return Ot(!!n),Nt.fromTimestamp(function(e){const t=ef(e);return new kr(t.seconds,t.nanos)}(n))}function v1(n,e){return(t=n,new Tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function pL(n){const e=Tn.fromString(n);return Ot(CL(e)),e}function db(n,e){return v1(n.databaseId,e.path)}function $c(n,e){const t=pL(e);if(t.get(1)!==n.databaseId.projectId)throw new Ke(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ke(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ut(gL(t))}function b1(n,e){return v1(n.databaseId,e)}function mL(n){const e=pL(n);return 4===e.length?Tn.emptyPath():gL(e)}function fb(n){return new Tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gL(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function yL(n,e,t){return{name:db(n,e),fields:t.value.mapValue.fields}}function _L(n,e,t){const r=$c(n,e.name),i=pi(e.updateTime),a=e.createTime?pi(e.createTime):Nt.min(),h=new ys({mapValue:{fields:e.fields}}),m=Er.newFoundDocument(r,i,a,h);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function pb(n,e){let t;if(e instanceof zy)t={update:yL(n,e.key,e.value)};else if(e instanceof jy)t={delete:db(n,e.key)};else if(e instanceof Ch)t={update:yL(n,e.key,e.data),updateMask:Cz(e.fieldMask)};else{if(!(e instanceof d1))return Et();t={verify:db(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const h=a.transform;if(h instanceof Hy)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Dm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Tm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Uy)return{fieldPath:a.field.canonicalString(),increment:h.wt};throw Et()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:mz(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Et()),t;var i}function w1(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Rr.updateTime(pi(i.updateTime)):void 0!==i.exists?Rr.exists(i.exists):Rr.none():Rr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,h){let m=null;"setToServerValue"in h?(Ot("REQUEST_TIME"===h.setToServerValue),m=new Hy):"appendMissingElements"in h?m=new Dm(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new Tm(h.removeAllFromArray.values||[]):"increment"in h?m=new Uy(a,h.increment):Et();const E=ni.fromServerFormat(h.fieldPath);return new ab(E,m)}(n,i)):[];var i;if(e.update){const i=$c(n,e.update.name),a=new ys({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new wo((e.updateMask.fieldPaths||[]).map(D=>ni.fromServerFormat(D)));return new Ch(i,a,h,t,r)}return new zy(i,a,t,r)}if(e.delete){const i=$c(n,e.delete);return new jy(i,t)}if(e.verify){const i=$c(n,e.verify);return new d1(i,t)}return Et()}function vL(n,e){return{documents:[b1(n,e.path)]}}function E1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=b1(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=b1(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(E){if(0!==E.length)return EL(Kn.create(E,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(E){if(0!==E.length)return E.map(D=>{return{field:lf((F=D).field),direction:bz(F.dir)};var F})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const h=_1(n,e.limit);var m,E;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function bL(n){let e=mL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ot(1===r);const F=t.from[0];F.allDescendants?i=F.collectionId:e=e.child(F.collectionId)}let a=[];t.where&&(a=function(F){const W=wL(F);return W instanceof Kn&&r1(W)?W.getFilters():[W]}(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(F=>{return new Ly($y((W=F).field),function(ce){switch(ce){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction));var W}));let m=null;t.limit&&(m=function(F){let W;return W="object"==typeof F?F.value:F,K0(W)?null:W}(t.limit));let E=null;var F;t.startAt&&(E=new af((F=t.startAt).values||[],!!F.before));let D=null;return t.endAt&&(D=function(F){return new af(F.values||[],!F.before)}(t.endAt)),NN(e,i,h,a,m,"F",E,D)}function wL(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=$y(e.unaryFilter.field);return _n.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=$y(e.unaryFilter.field);return _n.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$y(e.unaryFilter.field);return _n.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=$y(e.unaryFilter.field);return _n.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(n):void 0!==n.fieldFilter?_n.create($y((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Kn.create(e.compositeFilter.filters.map(t=>wL(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Et()}}(e.compositeFilter.op))}(n):Et();var e}function bz(n){return hz[n]}function wz(n){return dz[n]}function Ez(n){return fz[n]}function lf(n){return{fieldPath:n.canonicalString()}}function $y(n){return ni.fromServerFormat(n.fieldPath)}function EL(n){return n instanceof _n?function(e){if("=="===e.op){if(bN(e.value))return{unaryFilter:{field:lf(e.field),op:"IS_NAN"}};if(vN(e.value))return{unaryFilter:{field:lf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bN(e.value))return{unaryFilter:{field:lf(e.field),op:"IS_NOT_NAN"}};if(vN(e.value))return{unaryFilter:{field:lf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lf(e.field),op:wz(e.op),value:e.value}}}(n):n instanceof Kn?function(e){const t=e.getFilters().map(r=>EL(r));return 1===t.length?t[0]:{compositeFilter:{op:Ez(e.op),filters:t}}}(n):Et()}function Cz(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function CL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Sh{constructor(e,t,r,i,a=Nt.min(),h=Nt.min(),m=Ni.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=E}withSequenceNumber(e){return new Sh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class SL{constructor(e){this.le=e}}function IL(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:WS(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:db(i=n.le,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Gy(i,a.version.toTimestamp()),createTime:Gy(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:xm(e.version)};else{if(!e.isUnknownDocument())return Et();r.unknownDocument={path:t.path.toArray(),version:xm(e.version)}}var i,a;return r}function WS(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function xm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Am(n){const e=new kr(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function Mm(n,e){const t=(e.baseMutations||[]).map(a=>w1(n.le,a));for(let a=0;a<e.mutations.length-1;++a){const h=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(h.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>w1(n.le,a)),i=kr.fromMillis(e.localWriteTimeMs);return new f1(e.batchId,i,t,r)}function mb(n){const e=Am(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Am(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var i;return void 0!==n.query.documents?(Ot(1===(i=n.query).documents.length),r=no(By(mL(i.documents[0])))):r=no(bL(n.query)),new Sh(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ni.fromBase64String(n.resumeToken))}function DL(n,e){const t=xm(e.snapshotVersion),r=xm(e.lastLimboFreeSnapshotVersion);let i;i=VS(e.target)?vL(n.le,e.target):E1(n.le,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sm(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function C1(n){const e=bL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?US(e,e.limit,"L"):e}function S1(n,e){return new m1(e.largestBatchId,w1(n.le,e.overlayMutation))}function TL(n,e){const t=e.path.lastSegment();return[n,Os(e.path.popLast()),t]}function xL(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:xm(r.readTime),documentKey:Os(r.documentKey.path),largestBatchId:r.largestBatchId}}class Iz{getBundleMetadata(e,t){return AL(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Am(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return AL(e).put({bundleId:(r=t).id,createTime:xm(pi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return ML(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:C1(i.bundledQuery),readTime:Am(i.readTime)};var i})}saveNamedQuery(e,t){return ML(e).put({name:(r=t).name,readTime:xm(pi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function AL(n){return Wi(n,"bundles")}function ML(n){return Wi(n,"namedQueries")}class ZS{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new ZS(e,t.uid||"")}getOverlay(e,t){return gb(e).get(TL(this.userId,t)).next(r=>r?S1(this.serializer,r):null)}getOverlays(e,t){const r=Gc();return Ve.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,h)=>{const m=new m1(t,h);i.push(this.de(e,m))}),Ve.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(h=>i.add(Os(h.getCollectionPath())));const a=[];return i.forEach(h=>{const m=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);a.push(gb(e).J("collectionPathOverlayIndex",m))}),Ve.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Gc(),a=Os(t),h=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return gb(e).j("collectionPathOverlayIndex",h).next(m=>{for(const E of m){const D=S1(this.serializer,E);i.set(D.getKey(),D)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Gc();let h;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gb(e).X({index:"collectionGroupOverlayIndex",range:m},(E,D,F)=>{const W=S1(this.serializer,D);a.size()<i||W.largestBatchId===h?(a.set(W.getKey(),W),h=W.largestBatchId):F.done()}).next(()=>a)}de(e,t){return gb(e).put(function(r,i,a){const[h,m,E]=TL(i,a.mutation.key);return{userId:i,collectionPath:m,documentId:E,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:pb(r.le,a.mutation)}}(this.serializer,this.userId,t))}}function gb(n){return Wi(n,"documentOverlays")}class Pm{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(ri(e.integerValue));else if("doubleValue"in e){const r=ri(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),Y0(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(bh(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?wN(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):Et()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),ut.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function Dz(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function PL(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=Dz(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Pm.be=new Pm;class Tz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Se(r.value),r=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.xe(r.value),r=t.next();this.Ne()}ke(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Se(r);else if(r<2048)this.Se(960|r>>>6),this.Se(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Se(480|r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r);else{const i=t.codePointAt(0);this.Se(240|i>>>18),this.Se(128|63&i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i)}}this.De()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.xe(r);else if(r<2048)this.xe(960|r>>>6),this.xe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.xe(480|r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r);else{const i=t.codePointAt(0);this.xe(240|i>>>18),this.xe(128|63&i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i)}}this.Ne()}Oe(e){const t=this.$e(e),r=PL(t);this.Fe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Be(e){const t=this.$e(e),r=PL(t);this.Fe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class xz{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class Az{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class yb{constructor(){this.Qe=new Tz,this.je=new xz(this.Qe),this.ze=new Az(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class km{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new km(this.indexId,this.documentKey,this.arrayValue,r)}}function cf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=kL(n.arrayValue,e.arrayValue),0!==t?t:(t=kL(n.directionalValue,e.directionalValue),0!==t?t:ut.comparator(n.documentKey,e.documentKey)))}function kL(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Mz{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xe=r:this.Ye.push(r)}}Ze(e){Ot(e.collectionGroup===this.collectionId);const t=KA(e);if(void 0!==t&&!this.tn(t))return!1;const r=wm(e);let i=0,a=0;for(;i<r.length&&this.tn(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Xe){const h=r[i];if(!this.en(this.Xe,h)||!this.nn(this.Je[a++],h))return!1;++i}for(;i<r.length;++i){const h=r[i];if(a>=this.Je.length||!this.nn(this.Je[a++],h))return!1}return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function RL(n){var e,t;if(Ot(n instanceof _n||n instanceof Kn),n instanceof _n){if(n instanceof RN){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>_n.create(n.field,"==",a)))||[];return Kn.create(i,"or")}return n}const r=n.filters.map(i=>RL(i));return Kn.create(r,n.op)}function Pz(n){if(0===n.getFilters().length)return[];const e=T1(RL(n));return Ot(OL(e)),I1(e)||D1(e)?[e]:e.getFilters()}function I1(n){return n instanceof _n}function D1(n){return n instanceof Kn&&r1(n)}function OL(n){return I1(n)||D1(n)||function(e){if(e instanceof Kn&&n1(e)){for(const t of e.getFilters())if(!I1(t)&&!D1(t))return!1;return!0}return!1}(n)}function T1(n){if(Ot(n instanceof _n||n instanceof Kn),n instanceof _n)return n;if(1===n.filters.length)return T1(n.filters[0]);const e=n.filters.map(r=>T1(r));let t=Kn.create(e,n.op);return t=KS(t),OL(t)?t:(Ot(t instanceof Kn),Ot(Vy(t)),Ot(t.filters.length>1),t.filters.reduce((r,i)=>x1(r,i)))}function x1(n,e){let t;return Ot(n instanceof _n||n instanceof Kn),Ot(e instanceof _n||e instanceof Kn),t=n instanceof _n?e instanceof _n?Kn.create([n,e],"and"):FL(n,e):e instanceof _n?FL(e,n):function(r,i){if(Ot(r.filters.length>0&&i.filters.length>0),Vy(r)&&Vy(i))return MN(r,i.getFilters());const a=n1(r)?r:i,h=n1(r)?i:r,m=a.filters.map(E=>x1(E,h));return Kn.create(m,"or")}(n,e),KS(t)}function FL(n,e){if(Vy(e))return MN(e,n.getFilters());{const t=e.filters.map(r=>x1(n,r));return Kn.create(t,"or")}}function KS(n){if(Ot(n instanceof _n||n instanceof Kn),n instanceof _n)return n;const e=n.getFilters();if(1===e.length)return KS(e[0]);if(xN(n))return n;const t=e.map(i=>KS(i)),r=[];return t.forEach(i=>{i instanceof _n?r.push(i):i instanceof Kn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Kn.create(r,n.op)}class kz{constructor(){this.sn=new A1}addToCollectionParentIndex(e,t){return this.sn.add(t),Ve.resolve()}getCollectionParents(e,t){return Ve.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Ve.resolve()}deleteFieldIndex(e,t){return Ve.resolve()}getDocumentsMatchingTarget(e,t){return Ve.resolve(null)}getIndexType(e,t){return Ve.resolve(0)}getFieldIndexes(e,t){return Ve.resolve([])}getNextCollectionGroupToUpdate(e){return Ve.resolve(null)}getMinOffset(e,t){return Ve.resolve(Ko.min())}getMinOffsetFromCollectionGroup(e,t){return Ve.resolve(Ko.min())}updateCollectionGroup(e,t,r){return Ve.resolve()}updateIndexEntries(e,t){return Ve.resolve()}}class A1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new wr(Tn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wr(Tn.comparator)).toArray()}}const YS=new Uint8Array(0);class Rz{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new A1,this.on=new Eh(r=>Sm(r),(r,i)=>tb(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const a={collectionId:r,parent:Os(i)};return NL(e).put(a)}return Ve.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[tN(t),""],!1,!0);return NL(e).j(i).next(a=>{for(const h of a){if(h.collectionId!==t)break;r.push(zc(h.parent))}return r})}addFieldIndex(e,t){const r=QS(e),i={indexId:(h=t).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var h;delete i.indexId;const a=r.add(i);if(t.indexState){const h=vb(e);return a.next(m=>{h.put(xL(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=QS(e),i=vb(e),a=_b(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=_b(e);let i=!0;const a=new Map;return Ve.forEach(this.un(t),h=>this.cn(e,h).next(m=>{i&&(i=!!m),a.set(h,m)})).next(()=>{if(i){let h=cn();const m=[];return Ve.forEach(a,(E,D)=>{var F;et("IndexedDbIndexManager",`Using index ${F=E,`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(ht=>`${ht.fieldPath}:${ht.kind}`).join(",")}`} to execute ${Sm(t)}`);const W=function(ht,At){const en=KA(At);if(void 0===en)return null;for(const rn of BS(ht,en.fieldPath))switch(rn.op){case"array-contains-any":return rn.value.arrayValue.values||[];case"array-contains":return[rn.value]}return null}(D,E),ce=function(ht,At){const en=new Map;for(const rn of wm(At))for(const Vn of BS(ht,rn.fieldPath))switch(Vn.op){case"==":case"in":en.set(rn.fieldPath.canonicalString(),Vn.value);break;case"not-in":case"!=":return en.set(rn.fieldPath.canonicalString(),Vn.value),Array.from(en.values())}return null}(D,E),me=function(ht,At){const en=[];let rn=!0;for(const Vn of wm(At)){const Ki=0===Vn.kind?ON(ht,Vn.fieldPath,ht.startAt):FN(ht,Vn.fieldPath,ht.startAt);en.push(Ki.value),rn&&(rn=Ki.inclusive)}return new af(en,rn)}(D,E),Ce=function(ht,At){const en=[];let rn=!0;for(const Vn of wm(At)){const Ki=0===Vn.kind?FN(ht,Vn.fieldPath,ht.endAt):ON(ht,Vn.fieldPath,ht.endAt);en.push(Ki.value),rn&&(rn=Ki.inclusive)}return new af(en,rn)}(D,E),Me=this.an(E,D,me),Ue=this.an(E,D,Ce),rt=this.hn(E,D,ce),_t=this.ln(E.indexId,W,Me,me.inclusive,Ue,Ce.inclusive,rt);return Ve.forEach(_t,ht=>r.H(ht,t.limit).next(At=>{At.forEach(en=>{const rn=ut.fromSegments(en.documentKey);h.has(rn)||(h=h.add(rn),m.push(rn))})}))}).next(()=>m)}return Ve.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:Pz(Kn.create(e.filters,"and")).map(r=>o1(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,r,i,a,h,m){const E=(null!=t?t.length:1)*Math.max(r.length,a.length),D=E/(null!=t?t.length:1),F=[];for(let W=0;W<E;++W){const ce=t?this.fn(t[W/D]):YS,me=this.dn(e,ce,r[W%D],i),Ce=this._n(e,ce,a[W%D],h),Me=m.map(Ue=>this.dn(e,ce,Ue,!0));F.push(...this.createRange(me,Ce,Me))}return F}dn(e,t,r,i){const a=new km(e,ut.empty(),t,r);return i?a:a.He()}_n(e,t,r,i){const a=new km(e,ut.empty(),t,r);return i?a.He():a}cn(e,t){const r=new Mz(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let h=null;for(const m of a)r.Ze(m)&&(!h||m.fields.length>h.fields.length)&&(h=m);return h})}getIndexType(e,t){let r=2;const i=this.un(t);return Ve.forEach(i,a=>this.cn(e,a).next(h=>{h?0!==r&&h.fields.length<function(m){let E=new wr(ni.comparator),D=!1;for(const F of m.filters)for(const W of F.getFlattenedFilters())W.field.isKeyField()||("array-contains"===W.op||"array-contains-any"===W.op?D=!0:E=E.add(W.field));for(const F of m.orderBy)F.field.isKeyField()||(E=E.add(F.field));return E.size+(D?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}wn(e,t){const r=new yb;for(const i of wm(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const h=r.We(i.kind);Pm.be._e(a,h)}return r.Ge()}fn(e){const t=new yb;return Pm.be._e(e,t.We(0)),t.Ge()}mn(e,t){const r=new yb;return Pm.be._e(Cm(this.databaseId,t),r.We(function(i){const a=wm(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Ge()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new yb);let a=0;for(const h of wm(e)){const m=r[a++];for(const E of i)if(this.gn(t,h.fieldPath)&&J0(m))i=this.yn(i,h,m);else{const D=E.We(h.kind);Pm.be._e(m,D)}}return this.pn(i)}an(e,t,r){return this.hn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ge();return t}yn(e,t,r){const i=[...e],a=[];for(const h of r.arrayValue.values||[])for(const m of i){const E=new yb;E.seed(m.Ge()),Pm.be._e(h,E.We(t.kind)),a.push(E)}return a}gn(e,t){return!!e.filters.find(r=>r instanceof _n&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=QS(e),i=vb(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const h=[];return Ve.forEach(a,m=>i.get([m.indexId,this.uid]).next(E=>{h.push(function(D,F){const W=F?new W0(F.sequenceNumber,new Ko(Am(F.readTime),new ut(zc(F.documentKey)),F.largestBatchId)):W0.empty(),ce=D.fields.map(([me,Ce])=>new AS(ni.fromServerFormat(me),Ce));return new xS(D.indexId,D.collectionGroup,ce,W)}(m,E))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:tn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=QS(e),a=vb(e);return this.In(e).next(h=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Ve.forEach(m,E=>a.put(xL(E.indexId,this.user,h,r)))))}updateIndexEntries(e,t){const r=new Map;return Ve.forEach(t,(i,a)=>{const h=r.get(i.collectionGroup);return(h?Ve.resolve(h):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),Ve.forEach(m,E=>this.Tn(e,i,E).next(D=>{const F=this.En(a,E);return D.isEqual(F)?Ve.resolve():this.An(e,a,E,D,F)}))))})}Rn(e,t,r,i){return _b(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return _b(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}Tn(e,t,r){const i=_b(e);let a=new wr(cf);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(h,m)=>{a=a.add(new km(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>a)}En(e,t){let r=new wr(cf);const i=this.wn(t,e);if(null==i)return r;const a=KA(t);if(null!=a){const h=e.data.field(a.fieldPath);if(J0(h))for(const m of h.arrayValue.values||[])r=r.add(new km(t.indexId,e.key,this.fn(m),i))}else r=r.add(new km(t.indexId,e.key,YS,i));return r}An(e,t,r,i,a){et("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(m,E,D,F,W){const ce=m.getIterator(),me=E.getIterator();let Ce=Fy(ce),Me=Fy(me);for(;Ce||Me;){let Ue=!1,rt=!1;if(Ce&&Me){const _t=D(Ce,Me);_t<0?rt=!0:_t>0&&(Ue=!0)}else null!=Ce?rt=!0:Ue=!0;Ue?(F(Me),Me=Fy(me)):rt?(W(Ce),Ce=Fy(ce)):(Ce=Fy(ce),Me=Fy(me))}}(i,a,cf,m=>{h.push(this.Rn(e,t,r,m))},m=>{h.push(this.vn(e,t,r,m))}),Ve.waitFor(h)}In(e){let t=1;return vb(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,m)=>cf(h,m)).filter((h,m,E)=>!m||0!==cf(h,E[m-1]));const i=[];i.push(e);for(const h of r){const m=cf(h,e),E=cf(h,t);if(0===m)i[0]=e.He();else if(m>0&&E<0)i.push(h),i.push(h.He());else if(E>0)break}i.push(t);const a=[];for(let h=0;h<i.length;h+=2){if(this.Pn(i[h],i[h+1]))return[];a.push(IDBKeyRange.bound([i[h].indexId,this.uid,i[h].arrayValue,i[h].directionalValue,YS,[]],[i[h+1].indexId,this.uid,i[h+1].arrayValue,i[h+1].directionalValue,YS,[]]))}return a}Pn(e,t){return cf(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(LL)}getMinOffset(e,t){return Ve.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||Et())).next(LL)}}function NL(n){return Wi(n,"collectionParents")}function _b(n){return Wi(n,"indexEntries")}function QS(n){return Wi(n,"indexConfiguration")}function vb(n){return Wi(n,"indexState")}function LL(n){Ot(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;YA(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ko(e.readTime,e.documentKey,t)}const VL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Fs(e,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function BL(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],h=IDBKeyRange.only(t.batchId);let m=0;const E=r.X({range:h},(F,W,ce)=>(m++,ce.delete()));a.push(E.next(()=>{Ot(1===m)}));const D=[];for(const F of t.mutations){const W=uN(e,F.key.path,t.batchId);a.push(i.delete(W)),D.push(F.key)}return Ve.waitFor(a).next(()=>D)}function XS(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Et();e=n.noDocument}return JSON.stringify(e).length}Fs.DEFAULT_COLLECTION_PERCENTILE=10,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fs.DEFAULT=new Fs(41943040,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fs.DISABLED=new Fs(-1,0,0);class JS{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.bn={}}static fe(e,t,r,i){Ot(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new JS(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uf(e).X({index:"userMutationsIndex",range:r},(i,a,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=qy(e),h=uf(e);return h.add({}).next(m=>{Ot("number"==typeof m);const E=new f1(m,t,r,i),D=function(ce,me,Ce){const Me=Ce.baseMutations.map(rt=>pb(ce.le,rt)),Ue=Ce.mutations.map(rt=>pb(ce.le,rt));return{userId:me,batchId:Ce.batchId,localWriteTimeMs:Ce.localWriteTime.toMillis(),baseMutations:Me,mutations:Ue}}(this.serializer,this.userId,E),F=[];let W=new wr((ce,me)=>tn(ce.canonicalString(),me.canonicalString()));for(const ce of i){const me=uN(this.userId,ce.key.path,m);W=W.add(ce.key.path.popLast()),F.push(h.put(D)),F.push(a.put(me,bU))}return W.forEach(ce=>{F.push(this.indexManager.addToCollectionParentIndex(e,ce))}),e.addOnCommittedListener(()=>{this.bn[m]=E.keys()}),Ve.waitFor(F).next(()=>E)})}lookupMutationBatch(e,t){return uf(e).get(t).next(r=>r?(Ot(r.userId===this.userId),Mm(this.serializer,r)):null)}Vn(e,t){return this.bn[t]?Ve.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return uf(e).X({index:"userMutationsIndex",range:i},(h,m,E)=>{m.userId===this.userId&&(Ot(m.batchId>=r),a=Mm(this.serializer,m)),E.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return uf(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,h)=>{r=a.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uf(e).j("userMutationsIndex",t).next(r=>r.map(i=>Mm(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=PS(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return qy(e).X({range:i},(h,m,E)=>{const[D,F,W]=h,ce=zc(F);if(D===this.userId&&t.path.isEqual(ce))return uf(e).get(W).next(me=>{if(!me)throw Et();Ot(me.userId===this.userId),a.push(Mm(this.serializer,me))});E.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wr(tn);const i=[];return t.forEach(a=>{const h=PS(this.userId,a.path),m=IDBKeyRange.lowerBound(h),E=qy(e).X({range:m},(D,F,W)=>{const[ce,me,Ce]=D,Me=zc(me);ce===this.userId&&a.path.isEqual(Me)?r=r.add(Ce):W.done()});i.push(E)}),Ve.waitFor(i).next(()=>this.Sn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=PS(this.userId,r),h=IDBKeyRange.lowerBound(a);let m=new wr(tn);return qy(e).X({range:h},(E,D,F)=>{const[W,ce,me]=E,Ce=zc(ce);W===this.userId&&r.isPrefixOf(Ce)?Ce.length===i&&(m=m.add(me)):F.done()}).next(()=>this.Sn(e,m))}Sn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(uf(e).get(a).next(h=>{if(null===h)throw Et();Ot(h.userId===this.userId),r.push(Mm(this.serializer,h))}))}),Ve.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return BL(e.at,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),Ve.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ve.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return qy(e).X({range:r},(a,h,m)=>{if(a[0]===this.userId){const E=zc(a[1]);i.push(E)}else m.done()}).next(()=>{Ot(0===i.length)})})}containsKey(e,t){return HL(e,this.userId,t)}Cn(e){return UL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function HL(n,e,t){const r=PS(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let h=!1;return qy(n).X({range:a,Y:!0},(m,E,D)=>{const[F,W,ce]=m;F===e&&W===i&&(h=!0),D.done()}).next(()=>h)}function uf(n){return Wi(n,"mutations")}function qy(n){return Wi(n,"documentMutations")}function UL(n){return Wi(n,"mutationQueues")}class Rm{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Rm(0)}static kn(){return new Rm(-1)}}class Oz{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const r=new Rm(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>Nt.fromTimestamp(new kr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Mn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(r=>(r.targetCount+=1,this.Fn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Wy(e).delete(t.targetId)).next(()=>this.Mn(e)).next(r=>(Ot(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Wy(e).X((h,m)=>{const E=mb(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(i++,a.push(this.removeTargetData(e,E)))}).next(()=>Ve.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Wy(e).X((r,i)=>{const a=mb(i);t(a)})}Mn(e){return zL(e).get("targetGlobalKey").next(t=>(Ot(null!==t),t))}On(e,t){return zL(e).put("targetGlobalKey",t)}$n(e,t){return Wy(e).put(DL(this.serializer,t))}Fn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Sm(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Wy(e).X({range:i,index:"queryTargetsIndex"},(h,m,E)=>{const D=mb(m);tb(t,D.target)&&(a=D,E.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=hf(e);return t.forEach(h=>{const m=Os(h.path);i.push(a.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,h))}),Ve.waitFor(i)}removeMatchingKeys(e,t,r){const i=hf(e);return Ve.forEach(t,a=>{const h=Os(a.path);return Ve.waitFor([i.delete([r,h]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=hf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=hf(e);let a=cn();return i.X({range:r,Y:!0},(h,m,E)=>{const D=zc(h[1]),F=new ut(D);a=a.add(F)}).next(()=>a)}containsKey(e,t){const r=Os(t.path),i=IDBKeyRange.bound([r],[tN(r)],!1,!0);let a=0;return hf(e).X({index:"documentTargetsIndex",Y:!0,range:i},([h,m],E,D)=>{0!==h&&(a++,D.done())}).next(()=>a>0)}he(e,t){return Wy(e).get(t).next(r=>r?mb(r):null)}}function Wy(n){return Wi(n,"targets")}function zL(n){return Wi(n,"targetGlobal")}function hf(n){return Wi(n,"targetDocuments")}function jL([n,e],[t,r]){const i=tn(n,t);return 0===i?tn(e,r):i}class Fz{constructor(e){this.Bn=e,this.buffer=new wr(jL),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();jL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class GL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;et("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,He.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Xd(r)?et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Qd(r)}yield t.Gn(3e5)}))}}class Nz{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ve.resolve(Yo.ct);const r=new Fz(t);return this.Qn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.Qn.zn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Qn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(VL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VL):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let r,i,a,h,m,E,D;const F=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(W=>(W>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${W}`),i=this.params.maximumSequenceNumbersToCollect):i=W,h=Date.now(),this.nthSequenceNumber(e,i))).next(W=>(r=W,m=Date.now(),this.removeTargets(e,r,t))).next(W=>(a=W,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(W=>(D=Date.now(),WA()<=La.in.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-F}ms\n\tDetermined least recently used ${i} in `+(m-h)+`ms\n\tRemoved ${a} targets in `+(E-m)+`ms\n\tRemoved ${W} documents in `+(D-E)+`ms\nTotal Duration: ${D-F}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:W})))}}class Lz{constructor(e,t){this.db=e,this.garbageCollector=function $L(n,e){return new Nz(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Hn(e){let t=0;return this.zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(r,i)=>t(i))}addReference(e,t,r){return eI(e,r)}removeReference(e,t,r){return eI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return eI(e,t)}Yn(e,t){return function(r,i){let a=!1;return UL(r).Z(h=>HL(r,h,i).next(m=>(m&&(a=!0),Ve.resolve(!m)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Jn(e,(h,m)=>{if(m<=t){const E=this.Yn(e,h).next(D=>{if(!D)return a++,r.getEntry(e,h).next(()=>(r.removeEntry(h,Nt.min()),hf(e).delete([0,Os(h.path)])))});i.push(E)}}).next(()=>Ve.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return eI(e,t)}Jn(e,t){const r=hf(e);let i,a=Yo.ct;return r.X({index:"documentTargetsIndex"},([h,m],{path:E,sequenceNumber:D})=>{0===h?(a!==Yo.ct&&t(new ut(zc(i)),a),a=D,i=E):a=Yo.ct}).next(()=>{a!==Yo.ct&&t(new ut(zc(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function eI(n,e){return hf(n).put((r=n.currentSequenceNumber,{targetId:0,path:Os(e.path),sequenceNumber:r}));var r}class qL{constructor(){this.changes=new Eh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ve.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Om(e).put(r)}removeEntry(e,t,r){return Om(e).delete(function(i,a){const h=i.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],WS(a),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Xn(e,r)))}getEntry(e,t){let r=Er.newInvalidDocument(t);return Om(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(bb(t))},(i,a)=>{r=this.Zn(t,a)}).next(()=>r)}ts(e,t){let r={size:0,document:Er.newInvalidDocument(t)};return Om(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(bb(t))},(i,a)=>{r={document:this.Zn(t,a),size:XS(a)}}).next(()=>r)}getEntries(e,t){let r=Eo();return this.es(e,t,(i,a)=>{const h=this.Zn(i,a);r=r.insert(i,h)}).next(()=>r)}ns(e,t){let r=Eo(),i=new pr(ut.comparator);return this.es(e,t,(a,h)=>{const m=this.Zn(a,h);r=r.insert(a,m),i=i.insert(a,XS(h))}).next(()=>({documents:r,ss:i}))}es(e,t,r){if(t.isEmpty())return Ve.resolve();let i=new wr(YL);t.forEach(E=>i=i.add(E));const a=IDBKeyRange.bound(bb(i.first()),bb(i.last())),h=i.getIterator();let m=h.getNext();return Om(e).X({index:"documentKeyIndex",range:a},(E,D,F)=>{const W=ut.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;m&&YL(m,W)<0;)r(m,null),m=h.getNext();m&&m.isEqual(W)&&(r(m,D),m=h.hasNext()?h.getNext():null),m?F.G(bb(m)):F.done()}).next(()=>{for(;m;)r(m,null),m=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,h=[a.popLast().toArray(),a.lastSegment(),WS(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Om(e).j(IDBKeyRange.bound(h,m,!0)).next(E=>{let D=Eo();for(const F of E){const W=this.Zn(ut.fromSegments(F.prefixPath.concat(F.collectionGroup,F.documentId)),F);W.isFoundDocument()&&(rb(t,W)||i.has(W.key))&&(D=D.insert(W.key,W))}return D})}getAllFromCollectionGroup(e,t,r,i){let a=Eo();const h=KL(t,r),m=KL(t,Ko.max());return Om(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,m,!0)},(E,D,F)=>{const W=this.Zn(ut.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);a=a.insert(W.key,W),a.size===i&&F.done()}).next(()=>a)}newChangeBuffer(e){return new Bz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ZL(e).get("remoteDocumentGlobalKey").next(t=>(Ot(!!t),t))}Xn(e,t){return ZL(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const r=function Sz(n,e){let t;if(e.document)t=_L(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ut.fromSegments(e.noDocument.path),i=Am(e.noDocument.readTime);t=Er.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Et();{const r=ut.fromSegments(e.unknownDocument.path),i=Am(e.unknownDocument.version);t=Er.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new kr(r[0],r[1]);return Nt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return Er.newInvalidDocument(e)}}function WL(n){return new Vz(n)}class Bz extends qL{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new Eh(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new wr((a,h)=>tn(a.canonicalString(),h.canonicalString()));return this.changes.forEach((a,h)=>{const m=this.os.get(a);if(t.push(this.rs.removeEntry(e,a,m.readTime)),h.isValidDocument()){const E=IL(this.rs.serializer,h);i=i.add(a.path.popLast()),r+=XS(E)-m.size,t.push(this.rs.addEntry(e,a,E))}else if(r-=m.size,this.trackRemovals){const E=IL(this.rs.serializer,h.convertToNoDocument(Nt.min()));t.push(this.rs.addEntry(e,a,E))}}),i.forEach(a=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.rs.updateMetadata(e,r)),Ve.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(r=>(this.os.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:r,ss:i})=>(i.forEach((a,h)=>{this.os.set(a,{size:h,readTime:r.get(a).readTime})}),r))}}function ZL(n){return Wi(n,"remoteDocumentGlobal")}function Om(n){return Wi(n,"remoteDocumentsV14")}function bb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function KL(n,e){const t=e.documentKey.path.toArray();return[n,WS(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function YL(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=tn(t[a],r[a]),i)return i;return i=tn(t.length,r.length),i||(i=tn(t[t.length-2],r[r.length-2]),i||tn(t[t.length-1],r[r.length-1]))}class Hz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class QL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&lb(r.mutation,i,wo.empty(),kr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,cn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=cn()){const i=Gc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let h=ib();return a.forEach((m,E)=>{h=h.insert(m,E.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const r=Gc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,cn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,r,i){let a=Eo();const h=sb(),m=sb();return t.forEach((E,D)=>{const F=r.get(D.key);i.has(D.key)&&(void 0===F||F.mutation instanceof Ch)?a=a.insert(D.key,D):void 0!==F?(h.set(D.key,F.mutation.getFieldMask()),lb(F.mutation,D,F.mutation.getFieldMask(),kr.now())):h.set(D.key,wo.empty())}),this.recalculateAndSaveOverlays(e,a).next(E=>(E.forEach((D,F)=>h.set(D,F)),t.forEach((D,F)=>{var W;return m.set(D,new Hz(F,null!==(W=h.get(D))&&void 0!==W?W:null))}),m))}recalculateAndSaveOverlays(e,t){const r=sb();let i=new pr((h,m)=>h-m),a=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(E=>{const D=t.get(E);if(null===D)return;let F=r.get(E)||wo.empty();F=m.applyToLocalView(D,F),r.set(E,F);const W=(i.get(m.batchId)||cn()).add(E);i=i.insert(m.batchId,W)})}).next(()=>{const h=[],m=i.getReverseIterator();for(;m.hasNext();){const E=m.getNext(),D=E.key,F=E.value,W=jN();F.forEach(ce=>{if(!a.has(ce)){const me=XN(t.get(ce),r.get(ce));null!==me&&W.set(ce,me),a=a.add(ce)}}),h.push(this.documentOverlayCache.saveOverlays(e,D,W))}return Ve.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ut.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):l1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const h=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Ve.resolve(Gc());let m=-1,E=a;return h.next(D=>Ve.forEach(D,(F,W)=>(m<W.largestBatchId&&(m=W.largestBatchId),a.get(F)?Ve.resolve():this.remoteDocumentCache.getEntry(e,F).next(ce=>{E=E.insert(F,ce)}))).next(()=>this.populateOverlays(e,D,a)).next(()=>this.computeViews(e,E,D,cn())).next(F=>({batchId:m,changes:zN(F)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ut(t)).next(r=>{let i=ib();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=ib();return this.indexManager.getCollectionParents(e,i).next(h=>Ve.forEach(h,m=>{const E=(D=t,F=m.child(i),new wh(F,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,F;return this.getDocumentsMatchingCollectionQuery(e,E,r).next(D=>{D.forEach((F,W)=>{a=a.insert(F,W)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((m,E)=>{const D=E.getKey();null===a.get(D)&&(a=a.insert(D,Er.newInvalidDocument(D)))});let h=ib();return a.forEach((m,E)=>{const D=i.get(m);void 0!==D&&lb(D.mutation,E,wo.empty(),kr.now()),rb(t,E)&&(h=h.insert(m,E))}),h})}}class Uz{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return Ve.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:pi(r.createTime)}),Ve.resolve()}getNamedQuery(e,t){return Ve.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:C1(r.bundledQuery),readTime:pi(r.readTime)}),Ve.resolve();var r}}class zz{constructor(){this.overlays=new pr(ut.comparator),this.hs=new Map}getOverlay(e,t){return Ve.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Gc();return Ve.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.de(e,t,a)}),Ve.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hs.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.hs.delete(r)),Ve.resolve()}getOverlaysForCollection(e,t,r){const i=Gc(),a=t.length+1,h=new ut(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const E=m.getNext().value,D=E.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===a&&E.largestBatchId>r&&i.set(E.getKey(),E)}return Ve.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new pr((D,F)=>D-F);const h=this.overlays.getIterator();for(;h.hasNext();){const D=h.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let F=a.get(D.largestBatchId);null===F&&(F=Gc(),a=a.insert(D.largestBatchId,F)),F.set(D.getKey(),D)}}const m=Gc(),E=a.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((D,F)=>m.set(D,F)),!(m.size()>=i)););return Ve.resolve(m)}de(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const h=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new m1(t,r));let a=this.hs.get(t);void 0===a&&(a=cn(),this.hs.set(t,a)),this.hs.set(t,a.add(r.key))}}class M1{constructor(){this.ls=new wr(Zi.fs),this.ds=new wr(Zi._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new Zi(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new Zi(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new ut(new Tn([])),r=new Zi(t,e),i=new Zi(t,e+1),a=[];return this.ds.forEachInRange([r,i],h=>{this.gs(h),a.push(h.key)}),a}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new ut(new Tn([])),r=new Zi(t,e),i=new Zi(t,e+1);let a=cn();return this.ds.forEachInRange([r,i],h=>{a=a.add(h.key)}),a}containsKey(e){const t=new Zi(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Zi{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return ut.comparator(e.key,t.key)||tn(e.Es,t.Es)}static _s(e,t){return tn(e.Es,t.Es)||ut.comparator(e.key,t.key)}}class jz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new wr(Zi.fs)}checkEmpty(e){return Ve.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.As;this.As++;const h=new f1(a,t,r,i);this.mutationQueue.push(h);for(const m of i)this.Rs=this.Rs.add(new Zi(m.key,a)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ve.resolve(h)}lookupMutationBatch(e,t){return Ve.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ps(t+1),a=i<0?0:i;return Ve.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return Ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zi(t,0),i=new Zi(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],h=>{const m=this.vs(h.Es);a.push(m)}),Ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wr(tn);return t.forEach(i=>{const a=new Zi(i,0),h=new Zi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,h],m=>{r=r.add(m.Es)})}),Ve.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;ut.isDocumentKey(a)||(a=a.child(""));const h=new Zi(new ut(a),0);let m=new wr(tn);return this.Rs.forEachWhile(E=>{const D=E.key.path;return!!r.isPrefixOf(D)&&(D.length===i&&(m=m.add(E.Es)),!0)},h),Ve.resolve(this.bs(m))}bs(e){const t=[];return e.forEach(r=>{const i=this.vs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ot(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Ve.forEach(t.mutations,i=>{const a=new Zi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new Zi(t,0),i=this.Rs.firstAfterOrEqual(r);return Ve.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Ve.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Gz{constructor(e){this.Ss=e,this.docs=new pr(ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,h=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ve.resolve(r?r.document.mutableCopy():Er.newInvalidDocument(t))}getEntries(e,t){let r=Eo();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Er.newInvalidDocument(i))}),Ve.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Eo();const h=t.path,m=new ut(h.child("")),E=this.docs.getIteratorFrom(m);for(;E.hasNext();){const{key:D,value:{document:F}}=E.getNext();if(!h.isPrefixOf(D.path))break;D.path.length>h.length+1||YA(rN(F),r)<=0||(i.has(F.key)||rb(t,F))&&(a=a.insert(F.key,F.mutableCopy()))}return Ve.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Et()}Ds(e,t){return Ve.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $z(this)}getSize(e){return Ve.resolve(this.size)}}class $z extends qL{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),Ve.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class qz{constructor(e){this.persistence=e,this.Cs=new Eh(t=>Sm(t),tb),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new M1,this.targetCount=0,this.ks=Rm.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,i)=>t(i)),Ve.resolve()}getLastRemoteSnapshotVersion(e){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ve.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),Ve.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Rm(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,Ve.resolve()}updateTargetData(e,t){return this.$n(t),Ve.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Cs.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Cs.delete(h),a.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),Ve.waitFor(a).next(()=>i)}getTargetCount(e){return Ve.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return Ve.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),Ve.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(h=>{a.push(i.markPotentiallyOrphaned(e,h))}),Ve.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),Ve.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return Ve.resolve(r)}containsKey(e,t){return Ve.resolve(this.Ns.containsKey(t))}}class P1{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Yo(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new qz(this),this.indexManager=new kz,this.remoteDocumentCache=new Gz(r=>this.referenceDelegate.Bs(r)),this.serializer=new SL(t),this.Ls=new Uz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new jz(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){et("MemoryPersistence","Starting transaction:",e);const i=new Wz(this.Os.next());return this.referenceDelegate.qs(),r(i).next(a=>this.referenceDelegate.Us(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ks(e,t){return Ve.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class Wz extends sN{constructor(e){super(),this.currentSequenceNumber=e}}class tI{constructor(e){this.persistence=e,this.Gs=new M1,this.Qs=null}static js(e){return new tI(e)}get zs(){if(this.Qs)return this.Qs;throw Et()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),Ve.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),Ve.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),Ve.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.zs.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.zs,r=>{const i=ut.fromPath(r);return this.Ws(e,i).next(a=>{a||t.removeEntry(i,Nt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return Ve.or([()=>Ve.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class Zz{constructor(e){this.serializer=e}$(e,t,r,i){const a=new MS("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cN,{unique:!0}),m.createObjectStore("documentMutations"),XL(e),function(m){m.createObjectStore("remoteDocuments")}(e));let h=Ve.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),XL(e)),h=h.next(()=>function(m){const E=m.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",D)}(a))),r<4&&i>=4&&(0!==r&&(h=h.next(()=>function(m,E){return E.store("mutations").j().next(D=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cN,{unique:!0});const F=E.store("mutations"),W=D.map(ce=>F.put(ce));return Ve.waitFor(W)})}(e,a))),h=h.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(h=h.next(()=>this.Js(a))),r<6&&i>=6&&(h=h.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(a)))),r<7&&i>=7&&(h=h.next(()=>this.Xs(a))),r<8&&i>=8&&(h=h.next(()=>this.Zs(e,a))),r<9&&i>=9&&(h=h.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(h=h.next(()=>this.ti(a))),r<11&&i>=11&&(h=h.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(h=h.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:kU});E.createIndex("collectionPathOverlayIndex",RU,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",OU,{unique:!1})}(e)})),r<13&&i>=13&&(h=h.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:wU});E.createIndex("documentKeyIndex",EU),E.createIndex("collectionGroupIndex",CU)}(e)).next(()=>this.ei(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(h=h.next(()=>this.ni(e,a))),r<15&&i>=15&&(h=h.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:xU}).createIndex("sequenceNumberIndex",AU,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:MU}).createIndex("documentKeyIndex",PU,{unique:!1})}(e))),h}Ys(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=XS(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Js(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>Ve.forEach(i,a=>{const h=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",h).next(m=>Ve.forEach(m,E=>{Ot(E.userId===a.userId);const D=Mm(this.serializer,E);return BL(e,a.userId,D).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((h,m)=>{const E=new Tn(h),D=[0,Os(E)];a.push(t.get(D).next(F=>F?Ve.resolve():t.put({targetId:0,path:Os(E),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Ve.waitFor(a))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:TU});const r=t.store("collectionParents"),i=new A1,a=h=>{if(i.add(h)){const m=h.lastSegment(),E=h.popLast();return r.put({collectionId:m,parent:Os(E)})}};return t.store("remoteDocuments").X({Y:!0},(h,m)=>{const E=new Tn(h);return a(E.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([h,m,E],D)=>{const F=zc(m);return a(F.popLast())}))}ti(e){const t=e.store("targets");return t.X((r,i)=>{const a=mb(i),h=DL(this.serializer,a);return t.put(h)})}ei(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,h)=>{const m=t.store("remoteDocumentsV14"),E=(D=h,D.document?new ut(Tn.fromString(D.document.name).popFirst(5)):D.noDocument?ut.fromSegments(D.noDocument.path):D.unknownDocument?ut.fromSegments(D.unknownDocument.path):Et()).path.toArray();var D;const F={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};i.push(m.put(F))}).next(()=>Ve.waitFor(i))}ni(e,t){const r=t.store("mutations"),i=WL(this.serializer),a=new P1(tI.js,this.serializer.le);return r.j().next(h=>{const m=new Map;return h.forEach(E=>{var D;let F=null!==(D=m.get(E.userId))&&void 0!==D?D:cn();Mm(this.serializer,E).keys().forEach(W=>F=F.add(W)),m.set(E.userId,F)}),Ve.forEach(m,(E,D)=>{const F=new qi(D),W=ZS.fe(this.serializer,F),ce=a.getIndexManager(F),me=JS.fe(F,this.serializer,ce,a.referenceDelegate);return new QL(i,me,W,ce).recalculateAndSaveOverlaysForDocumentKeys(new JA(t,Yo.ct),E).next()})})}}function XL(n){n.createObjectStore("targetDocuments",{keyPath:IU}).createIndex("documentTargetsIndex",DU,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",SU,{unique:!0}),n.createObjectStore("targetGlobal")}const k1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class R1{constructor(e,t,r,i,a,h,m,E,D,F,W=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=a,this.window=h,this.document=m,this.ii=D,this.ri=F,this.oi=W,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=ce=>Promise.resolve(),!R1.D())throw new Ke(je.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lz(this,i),this.fi=t+"main",this.serializer=new SL(E),this.di=new kl(this.fi,this.oi,new Zz(this.serializer)),this.Fs=new Oz(this.referenceDelegate,this.serializer),this.remoteDocumentCache=WL(this.serializer),this.Ls=new Iz,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===F&&fi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ke(je.FAILED_PRECONDITION,k1);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Yo(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var r=(0,He.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,He.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,He.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(Xd(e))return et("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return wb(e).get("owner").next(t=>Ve.resolve(this.Ri(t)))}vi(e){return rI(e).delete(this.clientId)}Pi(){var e=this;return(0,He.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Wi(r,"clientMetadata");return i.j().next(a=>{const h=e.Vi(a,18e5),m=a.filter(E=>-1===h.indexOf(E));return Ve.forEach(m,E=>i.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Si(r.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?Ve.resolve(!0):wb(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ke(je.FAILED_PRECONDITION,k1);return!1}}return!(!this.networkEnabled||!this.inForeground)||rI(e).j().next(r=>void 0===this.Vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const h=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&et("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,He.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new JA(t,Yo.ct);return e.Ei(r).next(()=>e.vi(r))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(r=>this.bi(r.updateTimeMs,t)&&!this.Di(r.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>rI(e).j().next(t=>this.Vi(t,18e5).map(r=>r.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return JS.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Rz(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return ZS.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,r){et("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(h=this.oi)?NU:14===h?fN:13===h?dN:12===h?FU:11===h?hN:void Et();var h;let m;return this.di.runTransaction(e,i,a,E=>(m=new JA(E,this.Os?this.Os.next():Yo.ct),"readwrite-primary"===t?this.Ii(m).next(D=>!!D||this.Ti(m)).next(D=>{if(!D)throw fi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Ke(je.FAILED_PRECONDITION,iN);return r(m)}).next(D=>this.Ai(m).next(()=>D)):this.Oi(m).next(()=>r(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}Oi(e){return wb(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ke(je.FAILED_PRECONDITION,k1)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wb(e).put("owner",t)}static D(){return kl.D()}Ei(e){const t=wb(e);return t.get("owner").next(r=>this.Ri(r)?(et("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ve.resolve())}bi(e,t){const r=Date.now();return!(e<r-t||e>r&&(fi(`Detected an update time that is in the future: ${e} > ${r}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,Cn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return et("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return fi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){fi("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wb(n){return Wi(n,"owner")}function rI(n){return Wi(n,"clientMetadata")}function O1(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class F1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=i}static Bi(e,t){let r=cn(),i=cn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new F1(e,t.fromCache,r,i)}}class JL{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ui(e,t).next(a=>a||this.Ki(e,t,i,r)).next(a=>a||this.Gi(e,t))}Ui(e,t){if(LN(t))return Ve.resolve(null);let r=no(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=US(t,null,"F"),r=no(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const h=cn(...a);return this.qi.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,r).next(E=>{const D=this.Qi(t,m);return this.ji(t,D,h,E.readTime)?this.Ui(e,US(t,null,"F")):this.zi(e,D,t,E)}))})))}Ki(e,t,r,i){return LN(t)||i.isEqual(Nt.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(a=>{const h=this.Qi(t,a);return this.ji(t,h,r,i)?this.Gi(e,t):(WA()<=La.in.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),u1(t)),this.zi(e,h,t,nN(i,-1)))})}Qi(e,t){let r=new wr(HN(e));return t.forEach((i,a)=>{rb(e,a)&&(r=r.add(a))}),r}ji(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Gi(e,t){return WA()<=La.in.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",u1(t)),this.qi.getDocumentsMatchingQuery(e,t,Ko.min())}zi(e,t,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(h=>{a=a.insert(h.key,h)}),a))}}class Kz{constructor(e,t,r,i){this.persistence=e,this.Wi=t,this.serializer=i,this.Hi=new pr(tn),this.Ji=new Eh(a=>Sm(a),tb),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QL(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function e2(n,e,t,r){return new Kz(n,e,t,r)}function t2(n,e){return N1.apply(this,arguments)}function N1(){return N1=(0,He.Z)(function*(n,e){const t=mt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const h=[],m=[];let E=cn();for(const D of i){h.push(D.batchId);for(const F of D.mutations)E=E.add(F.key)}for(const D of a){m.push(D.batchId);for(const F of D.mutations)E=E.add(F.key)}return t.localDocuments.getDocuments(r,E).next(D=>({tr:D,removedBatchIds:h,addedBatchIds:m}))})})}),N1.apply(this,arguments)}function Yz(n,e){const t=mt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Xi.newChangeBuffer({trackRemovals:!0});return function(h,m,E,D){const F=E.batch,W=F.keys();let ce=Ve.resolve();return W.forEach(me=>{ce=ce.next(()=>D.getEntry(m,me)).next(Ce=>{const Me=E.docVersions.get(me);Ot(null!==Me),Ce.version.compareTo(Me)<0&&(F.applyToRemoteDocument(Ce,E),Ce.isValidDocument()&&(Ce.setReadTime(E.commitVersion),D.addEntry(Ce)))})}),ce.next(()=>h.mutationQueue.removeMutationBatch(m,F))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let m=cn();for(let E=0;E<h.mutationResults.length;++E)h.mutationResults[E].transformResults.length>0&&(m=m.add(h.batch.mutations[E].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function n2(n){const e=mt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function Qz(n,e){const t=mt(n),r=e.snapshotVersion;let i=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const h=t.Xi.newChangeBuffer({trackRemovals:!0});i=t.Hi;const m=[];e.targetChanges.forEach((F,W)=>{const ce=i.get(W);if(!ce)return;m.push(t.Fs.removeMatchingKeys(a,F.removedDocuments,W).next(()=>t.Fs.addMatchingKeys(a,F.addedDocuments,W)));let me=ce.withSequenceNumber(a.currentSequenceNumber);var Ce,Me,Ue;null!==e.targetMismatches.get(W)?me=me.withResumeToken(Ni.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):F.resumeToken.approximateByteSize()>0&&(me=me.withResumeToken(F.resumeToken,r)),i=i.insert(W,me),Me=me,Ue=F,(0===(Ce=ce).resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-Ce.snapshotVersion.toMicroseconds()>=3e8||Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0)&&m.push(t.Fs.updateTargetData(a,me))});let E=Eo(),D=cn();if(e.documentUpdates.forEach(F=>{e.resolvedLimboDocuments.has(F)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(a,F))}),m.push(r2(a,h,e.documentUpdates).next(F=>{E=F.er,D=F.nr})),!r.isEqual(Nt.min())){const F=t.Fs.getLastRemoteSnapshotVersion(a).next(W=>t.Fs.setTargetsMetadata(a,a.currentSequenceNumber,r));m.push(F)}return Ve.waitFor(m).next(()=>h.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,E,D)).next(()=>E)}).then(a=>(t.Hi=i,a))}function r2(n,e,t){let r=cn(),i=cn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let h=Eo();return t.forEach((m,E)=>{const D=a.get(m);E.isFoundDocument()!==D.isFoundDocument()&&(i=i.add(m)),E.isNoDocument()&&E.version.isEqual(Nt.min())?(e.removeEntry(m,E.readTime),h=h.insert(m,E)):!D.isValidDocument()||E.version.compareTo(D.version)>0||0===E.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(E),h=h.insert(m,E)):et("LocalStore","Ignoring outdated watch update for ",m,". Current version:",D.version," Watch version:",E.version)}),{er:h,nr:i}})}function Xz(n,e){const t=mt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Zy(n,e){const t=mt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Fs.getTargetData(r,e).next(a=>a?(i=a,Ve.resolve(i)):t.Fs.allocateTargetId(r).next(h=>(i=new Sh(e,h,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Hi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}function Ky(n,e,t){return L1.apply(this,arguments)}function L1(){return L1=(0,He.Z)(function*(n,e,t){const r=mt(n),i=r.Hi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,h=>r.persistence.referenceDelegate.removeTarget(h,i)))}catch(h){if(!Xd(h))throw h;et("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}),L1.apply(this,arguments)}function iI(n,e,t){const r=mt(n);let i=Nt.min(),a=cn();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,E,D){const F=mt(m),W=F.Ji.get(D);return void 0!==W?Ve.resolve(F.Hi.get(W)):F.Fs.getTargetData(E,D)}(r,h,no(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(h,m.targetId).next(E=>{a=E})}).next(()=>r.Wi.getDocumentsMatchingQuery(h,e,t?i:Nt.min(),t?a:cn())).next(m=>(a2(r,BN(e),m),{documents:m,sr:a})))}function s2(n,e){const t=mt(n),r=mt(t.Fs),i=t.Hi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.he(a,e).next(h=>h?h.target:null))}function o2(n,e){const t=mt(n),r=t.Yi.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Xi.getAllFromCollectionGroup(i,e,nN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(a2(t,e,i),i))}function a2(n,e,t){let r=n.Yi.get(e)||Nt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Yi.set(e,r)}function V1(){return V1=(0,He.Z)(function*(n,e,t,r){const i=mt(n);let a=cn(),h=Eo();for(const D of t){const F=e.ir(D.metadata.name);D.document&&(a=a.add(F));const W=e.rr(D);W.setReadTime(e.ur(D.metadata.readTime)),h=h.insert(F,W)}const m=i.Xi.newChangeBuffer({trackRemovals:!0}),E=yield Zy(i,(D=r,no(By(Tn.fromString(`__bundle__/docs/${D}`)))));var D;return i.persistence.runTransaction("Apply bundle documents","readwrite",D=>r2(D,m,h).next(F=>(m.apply(D),F)).next(F=>i.Fs.removeMatchingKeysForTargetId(D,E.targetId).next(()=>i.Fs.addMatchingKeys(D,a,E.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(D,F.er,F.nr)).next(()=>F.er)))}),V1.apply(this,arguments)}function ej(n,e){return B1.apply(this,arguments)}function B1(){return B1=(0,He.Z)(function*(n,e,t=cn()){const r=yield Zy(n,no(C1(e.bundledQuery))),i=mt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const h=pi(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return i.Ls.saveNamedQuery(a,e);const m=r.withResumeToken(Ni.EMPTY_BYTE_STRING,h);return i.Hi=i.Hi.insert(m.targetId,m),i.Fs.updateTargetData(a,m).next(()=>i.Fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Fs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ls.saveNamedQuery(a,e))})}),B1.apply(this,arguments)}function l2(n,e){return`firestore_clients_${n}_${e}`}function c2(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function H1(n,e){return`firestore_targets_${n}_${e}`}class sI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static cr(e,t,r){const i=JSON.parse(r);let a,h="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return h&&i.error&&(h="string"==typeof i.error.message&&"string"==typeof i.error.code,h&&(a=new Ke(i.error.code,i.error.message))),h?new sI(e,t,i.state,a):(fi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Eb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static cr(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Ke(r.error.code,r.error.message))),a?new Eb(e,r.state,i):(fi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class oI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=h1();for(let h=0;i&&h<r.activeTargetIds.length;++h)i=aN(r.activeTargetIds[h]),a=a.add(r.activeTargetIds[h]);return i?new oI(e,a):(fi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class U1{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new U1(t.clientId,t.onlineState):(fi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class z1{constructor(){this.activeTargetIds=h1()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j1{constructor(e,t,r,i,a){this.window=e,this.si=t,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new pr(tn),this.started=!1,this.gr=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.yr=l2(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new z1),this.Ir=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,He.Z)(function*(){const t=yield e.syncEngine.Mi();for(const i of t){if(i===e.dr)continue;const a=e.getItem(l2(e.persistenceKey,i));if(a){const h=oI.cr(i,a);h&&(e.mr=e.mr.insert(h.clientId,h))}}e.vr();const r=e.storage.getItem(e.Ar);if(r){const i=e.Pr(r);i&&e.br(i)}for(const i of e.gr)e.wr(i);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,r){this.Sr(e,t,r),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(H1(this.persistenceKey,e));if(r){const i=Eb.cr(e,r);i&&(t=i.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(H1(this.persistenceKey,e))}updateQueryState(e,t,r){this.Nr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Dr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return et("SharedClientState","READ",e,t),t}setItem(e,t){et("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){et("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(et("SharedClientState","EVENT",r.key,r.newValue),r.key===this.yr)return void fi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,He.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ir.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.$r(i,null)}{const i=t.Fr(r.key,r.newValue);if(i)return t.$r(i.clientId,i)}}else if(t.Tr.test(r.key)){if(null!==r.newValue){const i=t.Br(r.key,r.newValue);if(i)return t.Lr(i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.qr(r.key,r.newValue);if(i)return t.Ur(i)}}else if(r.key===t.Ar){if(null!==r.newValue){const i=t.Pr(r.newValue);if(i)return t.br(i)}}else if(r.key===t.pr){const i=function(a){let h=Yo.ct;if(null!=a)try{const m=JSON.parse(a);Ot("number"==typeof m),h=m}catch(m){fi("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);i!==Yo.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Kr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Gr(a)))}}else t.gr.push(r)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,r){const i=new sI(this.currentUser,e,t,r),a=c2(this.persistenceKey,this.currentUser,e);this.setItem(a,i.ar())}Dr(e){const t=c2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,r){const i=H1(this.persistenceKey,e),a=new Eb(e,t,r);this.setItem(i,a.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const r=this.Or(e);return oI.cr(r,t)}Br(e,t){const r=this.Tr.exec(e),i=Number(r[1]);return sI.cr(new qi(void 0!==r[2]?r[2]:null),i,t)}qr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return Eb.cr(i,t)}Pr(e){return U1.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,He.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);et("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),a=this.Vr(r),h=[],m=[];return a.forEach(E=>{i.has(E)||h.push(E)}),i.forEach(E=>{a.has(E)||m.push(E)}),this.syncEngine.zr(h,m).then(()=>{this.mr=r})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=h1();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class u2{constructor(){this.Wr=new z1,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new z1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tj{Jr(e){}shutdown(){}}class h2{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let aI=null;function G1(){return null===aI?aI=268435456+Math.round(2147483648*Math.random()):aI++,"0x"+aI.toString(16)}const nj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rj{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Ns="WebChannelConnection";class ij extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,i,a){const h=G1(),m=this.Io(e,t);et("RestConnection",`Sending RPC '${e}' ${h}:`,m,r);const E={};return this.To(E,i,a),this.Eo(e,m,E,r).then(D=>(et("RestConnection",`Received RPC '${e}' ${h}: `,D),D),D=>{throw Ba("RestConnection",`RPC '${e}' ${h} failed with error: `,D,"url: ",m,"request:",r),D})}Ao(e,t,r,i,a,h){return this.po(e,t,r,i,a)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ry,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Io(e,t){return`${this.wo}/v1/${t}:${nj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,i){const a=G1();return new Promise((h,m)=>{const E=new tU;E.setWithCredentials(!0),E.listenOnce(X3.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case qA.NO_ERROR:const F=E.getResponseJson();et(Ns,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(F)),h(F);break;case qA.TIMEOUT:et(Ns,`RPC '${e}' ${a} timed out`),m(new Ke(je.DEADLINE_EXCEEDED,"Request time out"));break;case qA.HTTP_ERROR:const W=E.getStatus();if(et(Ns,`RPC '${e}' ${a} failed with status:`,W,"response text:",E.getResponseText()),W>0){let ce=E.getResponseJson();Array.isArray(ce)&&(ce=ce[0]);const me=ce?.error;if(me&&me.status&&me.message){const Ce=function(Me){const Ue=Me.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(Ue)>=0?Ue:je.UNKNOWN}(me.status);m(new Ke(Ce,me.message))}else m(new Ke(je.UNKNOWN,"Server responded with status "+E.getStatus()))}else m(new Ke(je.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{et(Ns,`RPC '${e}' ${a} completed.`)}});const D=JSON.stringify(i);et(Ns,`RPC '${e}' ${a} sending request:`,i),E.send(t,"POST",D,r,15)})}Ro(e,t,r){const i=G1(),a=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Y3(),m=Q3(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(E.xmlHttpFactory=new eU({})),this.To(E.initMessageHeaders,t,r),E.encodeInitMessageHeaders=!0;const D=a.join("");et(Ns,`Creating RPC '${e}' stream ${i}: ${D}`,E);const F=h.createWebChannel(D,E);let W=!1,ce=!1;const me=new rj({io:Me=>{ce?et(Ns,`Not sending because RPC '${e}' stream ${i} is closed:`,Me):(W||(et(Ns,`Opening RPC '${e}' stream ${i} transport.`),F.open(),W=!0),et(Ns,`RPC '${e}' stream ${i} sending:`,Me),F.send(Me))},ro:()=>F.close()}),Ce=(Me,Ue,rt)=>{Me.listen(Ue,_t=>{try{rt(_t)}catch(ht){setTimeout(()=>{throw ht},0)}})};return Ce(F,TS.EventType.OPEN,()=>{ce||et(Ns,`RPC '${e}' stream ${i} transport opened.`)}),Ce(F,TS.EventType.CLOSE,()=>{ce||(ce=!0,et(Ns,`RPC '${e}' stream ${i} transport closed`),me.fo())}),Ce(F,TS.EventType.ERROR,Me=>{ce||(ce=!0,Ba(Ns,`RPC '${e}' stream ${i} transport errored:`,Me),me.fo(new Ke(je.UNAVAILABLE,"The operation could not be completed")))}),Ce(F,TS.EventType.MESSAGE,Me=>{var Ue;if(!ce){const rt=Me.data[0];Ot(!!rt);const _t=rt,ht=_t.error||(null===(Ue=_t[0])||void 0===Ue?void 0:Ue.error);if(ht){et(Ns,`RPC '${e}' stream ${i} received error:`,ht);const At=ht.status;let en=function(Vn){const Ki=Ci[Vn];if(void 0!==Ki)return iL(Ki)}(At),rn=ht.message;void 0===en&&(en=je.INTERNAL,rn="Unknown error status: "+At+" with message "+ht.message),ce=!0,me.fo(new Ke(en,rn)),F.close()}else et(Ns,`RPC '${e}' stream ${i} received:`,rt),me._o(rt)}}),Ce(m,J3.STAT_EVENT,Me=>{Me.stat===YF.PROXY?et(Ns,`RPC '${e}' stream ${i} detected buffering proxy`):Me.stat===YF.NOPROXY&&et(Ns,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{me.lo()},0),me}}function d2(){return typeof window<"u"?window:null}function lI(){return typeof document<"u"?document:null}function Cb(n){return new pz(n,!0)}class $1{constructor(e,t,r=1e3,i=1.5,a=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class f2{constructor(e,t,r,i,a,h,m,E){this.si=e,this.Mo=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new $1(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,He.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,He.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return(0,He.Z)(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===je.RESOURCE_EXHAUSTED?(fi(t.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===je.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===t&&this.Xo(r,i)},r=>{e(()=>{const i=new Ke(je.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,He.Z)(function*(){e.state=0,e.start()}))}Zo(e){return et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sj extends f2{constructor(e,t,r,i,a,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,h),this.serializer=a}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function yz(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:Et(),i=e.targetChange.targetIds||[],a=function(E,D){return E.useProto3Json?(Ot(void 0===D||"string"==typeof D),Ni.fromBase64String(D||"")):(Ot(void 0===D||D instanceof Uint8Array),Ni.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(E){const D=void 0===E.code?je.UNKNOWN:iL(E.code);return new Ke(D,E.message||"")}(h);t=new cL(r,i,a,m||null)}else if("documentChange"in e){const r=e.documentChange,i=$c(n,r.document.name),a=pi(r.document.updateTime),h=r.document.createTime?pi(r.document.createTime):Nt.min(),m=new ys({mapValue:{fields:r.document.fields}}),E=Er.newFoundDocument(i,a,h,m);t=new qS(r.targetIds||[],r.removedTargetIds||[],E.key,E)}else if("documentDelete"in e){const r=e.documentDelete,i=$c(n,r.document),a=r.readTime?pi(r.readTime):Nt.min(),h=Er.newNoDocument(i,a);t=new qS([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,i=$c(n,r.document);t=new qS([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Et();{const r=e.filter,{count:i=0,unchangedNames:a}=r,h=new lz(i,a);t=new lL(r.targetId,h)}}var E;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Nt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Nt.min():a.readTime?pi(a.readTime):Nt.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=fb(this.serializer),t.addTarget=function(i,a){let h;const m=a.target;if(h=VS(m)?{documents:vL(i,m)}:{query:E1(i,m)},h.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){h.resumeToken=fL(i,a.resumeToken);const E=_1(i,a.expectedCount);null!==E&&(h.expectedCount=E)}else if(a.snapshotVersion.compareTo(Nt.min())>0){h.readTime=Gy(i,a.snapshotVersion.toTimestamp());const E=_1(i,a.expectedCount);null!==E&&(h.expectedCount=E)}return h}(this.serializer,e);const r=function vz(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=fb(this.serializer),t.removeTarget=e,this.zo(t)}}class oj extends f2{constructor(e,t,r,i,a,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,h),this.serializer=a,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function _z(n,e){return n&&n.length>0?(Ot(void 0!==e),n.map(t=>function(r,i){let a=pi(r.updateTime?r.updateTime:i);return a.isEqual(Nt.min())&&(a=pi(i)),new iz(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=pi(e.commitTime);return this.listener.uu(r,t)}return Ot(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=fb(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>pb(this.serializer,r))};this.zo(t)}}class aj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new Ke(je.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.po(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ke(je.UNKNOWN,i.toString())})}Ao(e,t,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,h])=>this.connection.Ao(e,t,r,a,h,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ke(je.UNKNOWN,a.toString())})}terminate(){this.hu=!0}}class cj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(fi(t),this.wu=!1):et("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class uj{constructor(e,t,r,i,a){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr(m=>{r.enqueueAndForget((0,He.Z)(function*(){var E;df(h)&&(et("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,He.Z)(function*(D){const F=mt(D);F.Au.add(4),yield Yy(F),F.Pu.set("Unknown"),F.Au.delete(4),yield Sb(F)}),function(D){return E.apply(this,arguments)})(h))}))}),this.Pu=new cj(r,i)}}function Sb(n){return W1.apply(this,arguments)}function W1(){return W1=(0,He.Z)(function*(n){if(df(n))for(const e of n.Ru)yield e(!0)}),W1.apply(this,arguments)}function Yy(n){return Z1.apply(this,arguments)}function Z1(){return Z1=(0,He.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Z1.apply(this,arguments)}function cI(n,e){const t=mt(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),Q1(t)?Y1(t):Xy(t).Uo()&&K1(t,e))}function Ib(n,e){const t=mt(n),r=Xy(t);t.Eu.delete(e),r.Uo()&&p2(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():df(t)&&t.Pu.set("Unknown"))}function K1(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xy(n).nu(e)}function p2(n,e){n.bu.Lt(e),Xy(n).su(e)}function Y1(n){n.bu=new uz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),Xy(n).start(),n.Pu.mu()}function Q1(n){return df(n)&&!Xy(n).qo()&&n.Eu.size>0}function df(n){return 0===mt(n).Au.size}function m2(n){n.bu=void 0}function hj(n){return X1.apply(this,arguments)}function X1(){return X1=(0,He.Z)(function*(n){n.Eu.forEach((e,t)=>{K1(n,e)})}),X1.apply(this,arguments)}function dj(n,e){return J1.apply(this,arguments)}function J1(){return J1=(0,He.Z)(function*(n,e){m2(n),Q1(n)?(n.Pu.pu(e),Y1(n)):n.Pu.set("Unknown")}),J1.apply(this,arguments)}function fj(n,e,t){return eM.apply(this,arguments)}function eM(){return eM=(0,He.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof cL&&2===e.state&&e.cause)try{yield(r=(0,He.Z)(function*(i,a){const h=a.cause;for(const m of a.targetIds)i.Eu.has(m)&&(yield i.remoteSyncer.rejectListen(m,h),i.Eu.delete(m),i.bu.removeTarget(m))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield uI(n,r)}else if(e instanceof qS?n.bu.Wt(e):e instanceof lL?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(Nt.min()))try{const r=yield n2(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const h=i.bu.ue(a);return h.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const D=i.Eu.get(E);D&&i.Eu.set(E,D.withResumeToken(m.resumeToken,a))}}),h.targetMismatches.forEach((m,E)=>{const D=i.Eu.get(m);if(!D)return;i.Eu.set(m,D.withResumeToken(Ni.EMPTY_BYTE_STRING,D.snapshotVersion)),p2(i,m);const F=new Sh(D.target,m,E,D.sequenceNumber);K1(i,F)}),i.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){et("RemoteStore","Failed to raise snapshot:",r),yield uI(n,r)}var r}),eM.apply(this,arguments)}function uI(n,e,t){return tM.apply(this,arguments)}function tM(){return tM=(0,He.Z)(function*(n,e,t){if(!Xd(e))throw e;n.Au.add(1),yield Yy(n),n.Pu.set("Offline"),t||(t=()=>n2(n.localStore)),n.asyncQueue.enqueueRetryable((0,He.Z)(function*(){et("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield Sb(n)}))}),tM.apply(this,arguments)}function g2(n,e){return e().catch(t=>uI(n,t,e))}function Qy(n){return nM.apply(this,arguments)}function nM(){return nM=(0,He.Z)(function*(n){const e=mt(n),t=ff(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;pj(e);)try{const i=yield Xz(e.localStore,r);if(null===i){0===e.Tu.length&&t.Qo();break}r=i.batchId,mj(e,i)}catch(i){yield uI(e,i)}y2(e)&&_2(e)}),nM.apply(this,arguments)}function pj(n){return df(n)&&n.Tu.length<10}function mj(n,e){n.Tu.push(e);const t=ff(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function y2(n){return df(n)&&!ff(n).qo()&&n.Tu.length>0}function _2(n){ff(n).start()}function gj(n){return rM.apply(this,arguments)}function rM(){return rM=(0,He.Z)(function*(n){ff(n).au()}),rM.apply(this,arguments)}function yj(n){return iM.apply(this,arguments)}function iM(){return iM=(0,He.Z)(function*(n){const e=ff(n);for(const t of n.Tu)e.ou(t.mutations)}),iM.apply(this,arguments)}function _j(n,e,t){return sM.apply(this,arguments)}function sM(){return sM=(0,He.Z)(function*(n,e,t){const r=n.Tu.shift(),i=p1.from(r,e,t);yield g2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Qy(n)}),sM.apply(this,arguments)}function vj(n,e){return oM.apply(this,arguments)}function oM(){return oM=(0,He.Z)(function*(n,e){var t;e&&ff(n).ru&&(yield(t=(0,He.Z)(function*(r,i){if(rL(a=i.code)&&a!==je.ABORTED){const h=r.Tu.shift();ff(r).Go(),yield g2(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,i)),yield Qy(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),y2(n)&&_2(n)}),oM.apply(this,arguments)}function v2(n,e){return aM.apply(this,arguments)}function aM(){return aM=(0,He.Z)(function*(n,e){const t=mt(n);t.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const r=df(t);t.Au.add(3),yield Yy(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield Sb(t)}),aM.apply(this,arguments)}function lM(n,e){return cM.apply(this,arguments)}function cM(){return cM=(0,He.Z)(function*(n,e){const t=mt(n);e?(t.Au.delete(2),yield Sb(t)):e||(t.Au.add(2),yield Yy(t),t.Pu.set("Unknown"))}),cM.apply(this,arguments)}function Xy(n){return n.Vu||(n.Vu=function(e,t,r){const i=mt(e);return i.lu(),new sj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:hj.bind(null,n),co:dj.bind(null,n),eu:fj.bind(null,n)}),n.Ru.push(function(){var e=(0,He.Z)(function*(t){t?(n.Vu.Go(),Q1(n)?Y1(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),m2(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function ff(n){return n.Su||(n.Su=function(e,t,r){const i=mt(e);return i.lu(),new oj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:gj.bind(null,n),co:vj.bind(null,n),cu:yj.bind(null,n),uu:_j.bind(null,n)}),n.Ru.push(function(){var e=(0,He.Z)(function*(t){t?(n.Su.Go(),yield Qy(n)):(yield n.Su.stop(),n.Tu.length>0&&(et("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class uM{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,i,a){const h=Date.now()+r,m=new uM(e,t,h,i,a);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ke(je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jy(n,e){if(fi("AsyncQueue",`${e}: ${n}`),Xd(n))return new Ke(je.UNAVAILABLE,`${e}: ${n}`);throw n}class e_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ut.comparator(t.key,r.key):(t,r)=>ut.comparator(t.key,r.key),this.keyedMap=ib(),this.sortedSet=new pr(this.comparator)}static emptySet(e){return new e_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof e_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new e_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class b2{constructor(){this.Du=new pr(ut.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):Et():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class t_{constructor(e,t,r,i,a,h,m,E,D){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=E,this.hasCachedResults=D}static fromInitialDocuments(e,t,r,i,a){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new t_(e,t,e_.emptySet(t),h,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class bj{constructor(){this.xu=void 0,this.listeners=[]}}class wj{constructor(){this.queries=new Eh(e=>VN(e),nb),this.onlineState="Unknown",this.Nu=new Set}}function hM(n,e){return dM.apply(this,arguments)}function dM(){return dM=(0,He.Z)(function*(n,e){const t=mt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new bj),i)try{a.xu=yield t.onListen(r)}catch(h){const m=Jy(h,`Initialization of query '${u1(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,a),a.listeners.push(e),e.ku(t.onlineState),a.xu&&e.Mu(a.xu)&&mM(t)}),dM.apply(this,arguments)}function fM(n,e){return pM.apply(this,arguments)}function pM(){return pM=(0,He.Z)(function*(n,e){const t=mt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const h=a.listeners.indexOf(e);h>=0&&(a.listeners.splice(h,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),pM.apply(this,arguments)}function Ej(n,e){const t=mt(n);let r=!1;for(const i of e){const h=t.queries.get(i.query);if(h){for(const m of h.listeners)m.Mu(i)&&(r=!0);h.xu=i}}r&&mM(t)}function Cj(n,e,t){const r=mt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function mM(n){n.Nu.forEach(e=>{e.next()})}class gM{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new t_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=t_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class Sj{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class w2{constructor(e){this.serializer=e}ir(e){return $c(this.serializer,e)}rr(e){return e.metadata.exists?_L(this.serializer,e.document,!1):Er.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return pi(e)}}class Ij{constructor(e,t,r){this.Qu=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=E2(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const r=Tn.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,r=new w2(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.ir(i.metadata.name);for(const h of i.metadata.queries){const m=(t.get(h)||cn()).add(a);t.set(h,m)}}return t}complete(){var e=this;return(0,He.Z)(function*(){const t=yield function Jz(n,e,t,r){return V1.apply(this,arguments)}(e.localStore,new w2(e.serializer),e.documents,e.Qu.id),r=e.zu(e.documents);for(const i of e.queries)yield ej(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function E2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class C2{constructor(e){this.key=e}}class S2{constructor(e){this.key=e}}class I2{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=cn(),this.mutatedKeys=cn(),this.Zu=HN(e),this.tc=new e_(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new b2,i=t?t.tc:this.tc;let a=t?t.mutatedKeys:this.mutatedKeys,h=i,m=!1;const E="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,D="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((F,W)=>{const ce=i.get(F),me=rb(this.query,W)?W:null,Ce=!!ce&&this.mutatedKeys.has(ce.key),Me=!!me&&(me.hasLocalMutations||this.mutatedKeys.has(me.key)&&me.hasCommittedMutations);let Ue=!1;ce&&me?ce.data.isEqual(me.data)?Ce!==Me&&(r.track({type:3,doc:me}),Ue=!0):this.ic(ce,me)||(r.track({type:2,doc:me}),Ue=!0,(E&&this.Zu(me,E)>0||D&&this.Zu(me,D)<0)&&(m=!0)):!ce&&me?(r.track({type:0,doc:me}),Ue=!0):ce&&!me&&(r.track({type:1,doc:ce}),Ue=!0,(E||D)&&(m=!0)),Ue&&(me?(h=h.add(me),a=Me?a.add(F):a.delete(F)):(h=h.delete(F),a=a.delete(F)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const F="F"===this.query.limitType?h.last():h.first();h=h.delete(F.key),a=a.delete(F.key),r.track({type:1,doc:F})}return{tc:h,sc:r,ji:m,mutatedKeys:a}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const a=e.sc.Cu();a.sort((D,F)=>function(W,ce){const me=Ce=>{switch(Ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return me(W)-me(ce)}(D.type,F.type)||this.Zu(D.doc,F.doc)),this.rc(r);const h=t?this.oc():[],m=0===this.Xu.size&&this.current?1:0,E=m!==this.Yu;return this.Yu=m,0!==a.length||E?{snapshot:new t_(this.query,e.tc,i,a,e.mutatedKeys,0===m,E,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:h}:{uc:h}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new b2,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=cn(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new S2(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new C2(r))}),t}ac(e){this.Ju=e.sr,this.Xu=cn();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return t_.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class Dj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Tj{constructor(e){this.key=e,this.lc=!1}}class xj{constructor(e,t,r,i,a,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=h,this.fc={},this.dc=new Eh(m=>VN(m),nb),this._c=new Map,this.wc=new Set,this.mc=new pr(ut.comparator),this.gc=new Map,this.yc=new M1,this.Ic={},this.Tc=new Map,this.Ec=Rm.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function Aj(n,e){return yM.apply(this,arguments)}function yM(){return yM=(0,He.Z)(function*(n,e){const t=HM(n);let r,i;const a=t.dc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.hc();else{const h=yield Zy(t.localStore,no(e)),m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,i=yield _M(t,e,r,"current"===m,h.resumeToken),t.isPrimaryClient&&cI(t.remoteStore,h)}return i}),yM.apply(this,arguments)}function _M(n,e,t,r,i){return vM.apply(this,arguments)}function vM(){return vM=(0,He.Z)(function*(n,e,t,r,i){n.Rc=(W,ce,me)=>{return(Ce=(0,He.Z)(function*(Me,Ue,rt,_t){let ht=Ue.view.nc(rt);ht.ji&&(ht=yield iI(Me.localStore,Ue.query,!1).then(({documents:rn})=>Ue.view.nc(rn,ht)));const At=_t&&_t.targetChanges.get(Ue.targetId),en=Ue.view.applyChanges(ht,Me.isPrimaryClient,At);return AM(Me,Ue.targetId,en.uc),en.snapshot}),function(Me,Ue,rt,_t){return Ce.apply(this,arguments)})(n,W,ce,me);var Ce};const a=yield iI(n.localStore,e,!0),h=new I2(e,a.sr),m=h.nc(a.documents),E=hb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),D=h.applyChanges(m,n.isPrimaryClient,E);AM(n,t,D.uc);const F=new Dj(e,t,h);return n.dc.set(e,F),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),D.snapshot}),vM.apply(this,arguments)}function Mj(n,e){return bM.apply(this,arguments)}function bM(){return bM=(0,He.Z)(function*(n,e){const t=mt(n),r=t.dc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!nb(a,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ky(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ib(t.remoteStore,r.targetId),n_(t,r.targetId)}).catch(Qd))):(n_(t,r.targetId),yield Ky(t.localStore,r.targetId,!0))}),bM.apply(this,arguments)}function wM(){return wM=(0,He.Z)(function*(n,e,t){const r=UM(n);try{const i=yield function(a,h){const m=mt(a),E=kr.now(),D=h.reduce((ce,me)=>ce.add(me.key),cn());let F,W;return m.persistence.runTransaction("Locally write mutations","readwrite",ce=>{let me=Eo(),Ce=cn();return m.Xi.getEntries(ce,D).next(Me=>{me=Me,me.forEach((Ue,rt)=>{rt.isValidDocument()||(Ce=Ce.add(Ue))})}).next(()=>m.localDocuments.getOverlayedDocuments(ce,me)).next(Me=>{F=Me;const Ue=[];for(const rt of h){const _t=oz(rt,F.get(rt.key).overlayedDocument);null!=_t&&Ue.push(new Ch(rt.key,_t,SN(_t.value.mapValue),Rr.exists(!0)))}return m.mutationQueue.addMutationBatch(ce,E,Ue,h)}).next(Me=>{W=Me;const Ue=Me.applyToLocalDocumentSet(F,Ce);return m.documentOverlayCache.saveOverlays(ce,Me.batchId,Ue)})}).then(()=>({batchId:W.batchId,changes:zN(F)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,h,m){let E=a.Ic[a.currentUser.toKey()];E||(E=new pr(tn)),E=E.insert(h,m),a.Ic[a.currentUser.toKey()]=E}(r,i.batchId,t),yield Ih(r,i.changes),yield Qy(r.remoteStore)}catch(i){const a=Jy(i,"Failed to persist write");t.reject(a)}}),wM.apply(this,arguments)}function D2(n,e){return EM.apply(this,arguments)}function EM(){return EM=(0,He.Z)(function*(n,e){const t=mt(n);try{const r=yield Qz(t.localStore,e);e.targetChanges.forEach((i,a)=>{const h=t.gc.get(a);h&&(Ot(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?h.lc=!0:i.modifiedDocuments.size>0?Ot(h.lc):i.removedDocuments.size>0&&(Ot(h.lc),h.lc=!1))}),yield Ih(t,r,e)}catch(r){yield Qd(r)}}),EM.apply(this,arguments)}function T2(n,e,t){const r=mt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.dc.forEach((a,h)=>{const m=h.view.ku(e);m.snapshot&&i.push(m.snapshot)}),function(a,h){const m=mt(a);m.onlineState=h;let E=!1;m.queries.forEach((D,F)=>{for(const W of F.listeners)W.ku(h)&&(E=!0)}),E&&mM(m)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kj(n,e,t){return CM.apply(this,arguments)}function CM(){return CM=(0,He.Z)(function*(n,e,t){const r=mt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.gc.get(e),a=i&&i.key;if(a){let h=new pr(ut.comparator);h=h.insert(a,Er.newNoDocument(a,Nt.min()));const m=cn().add(a),E=new ub(Nt.min(),new Map,new pr(tn),h,m);yield D2(r,E),r.mc=r.mc.remove(a),r.gc.delete(e),MM(r)}else yield Ky(r.localStore,e,!1).then(()=>n_(r,e,t)).catch(Qd)}),CM.apply(this,arguments)}function Rj(n,e){return SM.apply(this,arguments)}function SM(){return SM=(0,He.Z)(function*(n,e){const t=mt(n),r=e.batch.batchId;try{const i=yield Yz(t.localStore,e);xM(t,r,null),TM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ih(t,i)}catch(i){yield Qd(i)}}),SM.apply(this,arguments)}function Oj(n,e,t){return IM.apply(this,arguments)}function IM(){return IM=(0,He.Z)(function*(n,e,t){const r=mt(n);try{const i=yield function(a,h){const m=mt(a);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let D;return m.mutationQueue.lookupMutationBatch(E,h).next(F=>(Ot(null!==F),D=F.keys(),m.mutationQueue.removeMutationBatch(E,F))).next(()=>m.mutationQueue.performConsistencyCheck(E)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(E,D,h)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,D)).next(()=>m.localDocuments.getDocuments(E,D))})}(r.localStore,e);xM(r,e,t),TM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ih(r,i)}catch(i){yield Qd(i)}}),IM.apply(this,arguments)}function DM(){return DM=(0,He.Z)(function*(n,e){const t=mt(n);df(t.remoteStore)||et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const h=mt(a);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Tc.get(r)||[];i.push(e),t.Tc.set(r,i)}catch(r){const i=Jy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),DM.apply(this,arguments)}function TM(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function xM(n,e,t){const r=mt(n);let i=r.Ic[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function n_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||x2(n,r)})}function x2(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(Ib(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),MM(n))}function AM(n,e,t){for(const r of t)r instanceof C2?(n.yc.addReference(r.key,e),Nj(n,r)):r instanceof S2?(et("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||x2(n,r.key)):Et()}function Nj(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||(et("SyncEngine","New document in limbo: "+t),n.wc.add(r),MM(n))}function MM(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new ut(Tn.fromString(e)),r=n.Ec.next();n.gc.set(r,new Tj(t)),n.mc=n.mc.insert(t,r),cI(n.remoteStore,new Sh(no(By(t.path)),r,"TargetPurposeLimboResolution",Yo.ct))}}function Ih(n,e,t){return PM.apply(this,arguments)}function PM(){return PM=(0,He.Z)(function*(n,e,t){const r=mt(n),i=[],a=[],h=[];var m;r.dc.isEmpty()||(r.dc.forEach((m,E)=>{h.push(r.Rc(E,e,t).then(D=>{if((D||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,D?.fromCache?"not-current":"current"),D){i.push(D);const F=F1.Bi(E.targetId,D);a.push(F)}}))}),yield Promise.all(h),r.fc.eu(i),yield(m=(0,He.Z)(function*(E,D){const F=mt(E);try{yield F.persistence.runTransaction("notifyLocalViewChanges","readwrite",W=>Ve.forEach(D,ce=>Ve.forEach(ce.$i,me=>F.persistence.referenceDelegate.addReference(W,ce.targetId,me)).next(()=>Ve.forEach(ce.Fi,me=>F.persistence.referenceDelegate.removeReference(W,ce.targetId,me)))))}catch(W){if(!Xd(W))throw W;et("LocalStore","Failed to update sequence numbers: "+W)}for(const W of D){const ce=W.targetId;if(!W.fromCache){const me=F.Hi.get(ce),Me=me.withLastLimboFreeSnapshotVersion(me.snapshotVersion);F.Hi=F.Hi.insert(ce,Me)}}}),function(E,D){return m.apply(this,arguments)})(r.localStore,a))}),PM.apply(this,arguments)}function Lj(n,e){return kM.apply(this,arguments)}function kM(){return kM=(0,He.Z)(function*(n,e){const t=mt(n);if(!t.currentUser.isEqual(e)){et("SyncEngine","User change. New user:",e.toKey());const r=yield t2(t.localStore,e);t.currentUser=e,(i=t).Tc.forEach(h=>{h.forEach(m=>{m.reject(new Ke(je.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ih(t,r.tr)}var i}),kM.apply(this,arguments)}function Vj(n,e){const t=mt(n),r=t.gc.get(e);if(r&&r.lc)return cn().add(r.key);{let i=cn();const a=t._c.get(e);if(!a)return i;for(const h of a){const m=t.dc.get(h);i=i.unionWith(m.view.ec)}return i}}function Bj(n,e){return RM.apply(this,arguments)}function RM(){return RM=(0,He.Z)(function*(n,e){const t=mt(n),r=yield iI(t.localStore,e.query,!0),i=e.view.ac(r);return t.isPrimaryClient&&AM(t,e.targetId,i.uc),i}),RM.apply(this,arguments)}function Hj(n,e){return OM.apply(this,arguments)}function OM(){return OM=(0,He.Z)(function*(n,e){const t=mt(n);return o2(t.localStore,e).then(r=>Ih(t,r))}),OM.apply(this,arguments)}function Uj(n,e,t,r){return FM.apply(this,arguments)}function FM(){return FM=(0,He.Z)(function*(n,e,t,r){const i=mt(n),a=yield function(h,m){const E=mt(h),D=mt(E.mutationQueue);return E.persistence.runTransaction("Lookup mutation documents","readonly",F=>D.Vn(F,m).next(W=>W?E.localDocuments.getDocuments(F,W):Ve.resolve(null)))}(i.localStore,e);var m;null!==a?("pending"===t?yield Qy(i.remoteStore):"acknowledged"===t||"rejected"===t?(xM(i,e,r||null),TM(i,e),m=e,mt(mt(i.localStore).mutationQueue).Dn(m)):Et(),yield Ih(i,a)):et("SyncEngine","Cannot apply mutation batch with id: "+e)}),FM.apply(this,arguments)}function NM(){return NM=(0,He.Z)(function*(n,e){const t=mt(n);if(HM(t),UM(t),!0===e&&!0!==t.Ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield A2(t,r.toArray());t.Ac=!0,yield lM(t.remoteStore,!0);for(const a of i)cI(t.remoteStore,a)}else if(!1===e&&!1!==t.Ac){const r=[];let i=Promise.resolve();t._c.forEach((a,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):i=i.then(()=>(n_(t,h),Ky(t.localStore,h,!0))),Ib(t.remoteStore,h)}),yield i,yield A2(t,r),function(a){const h=mt(a);h.gc.forEach((m,E)=>{Ib(h.remoteStore,E)}),h.yc.Is(),h.gc=new Map,h.mc=new pr(ut.comparator)}(t),t.Ac=!1,yield lM(t.remoteStore,!1)}}),NM.apply(this,arguments)}function A2(n,e,t){return LM.apply(this,arguments)}function LM(){return LM=(0,He.Z)(function*(n,e,t){const r=mt(n),i=[],a=[];for(const h of e){let m;const E=r._c.get(h);if(E&&0!==E.length){m=yield Zy(r.localStore,no(E[0]));for(const D of E){const F=r.dc.get(D),W=yield Bj(r,F);W.snapshot&&a.push(W.snapshot)}}else{const D=yield s2(r.localStore,h);m=yield Zy(r.localStore,D),yield _M(r,M2(D),h,!1,m.resumeToken)}i.push(m)}return r.fc.eu(a),i}),LM.apply(this,arguments)}function M2(n){return NN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function jj(n){const e=mt(n);return mt(mt(e.localStore).persistence).Mi()}function Gj(n,e,t,r){return VM.apply(this,arguments)}function VM(){return VM=(0,He.Z)(function*(n,e,t,r){const i=mt(n);if(i.Ac)return void et("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const h=yield o2(i.localStore,BN(a[0])),m=ub.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ni.EMPTY_BYTE_STRING);yield Ih(i,h,m);break}case"rejected":yield Ky(i.localStore,e,!0),n_(i,e,r);break;default:Et()}}),VM.apply(this,arguments)}function $j(n,e,t){return BM.apply(this,arguments)}function BM(){return BM=(0,He.Z)(function*(n,e,t){const r=HM(n);if(r.Ac){for(const i of e){if(r._c.has(i)){et("SyncEngine","Adding an already active target "+i);continue}const a=yield s2(r.localStore,i),h=yield Zy(r.localStore,a);yield _M(r,M2(a),h.targetId,!1,h.resumeToken),cI(r.remoteStore,h)}for(const i of t)r._c.has(i)&&(yield Ky(r.localStore,i,!1).then(()=>{Ib(r.remoteStore,i),n_(r,i)}).catch(Qd))}}),BM.apply(this,arguments)}function HM(n){const e=mt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=D2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kj.bind(null,e),e.fc.eu=Ej.bind(null,e.eventManager),e.fc.vc=Cj.bind(null,e.eventManager),e}function UM(n){const e=mt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oj.bind(null,e),e}class Db{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,He.Z)(function*(){t.serializer=Cb(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return e2(this.persistence,new JL,e.initialUser,this.serializer)}createPersistence(e){return new P1(tI.js,this.serializer)}createSharedClientState(e){return new u2}terminate(){var e=this;return(0,He.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zM extends Db{constructor(e,t,r){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,He.Z)(function*(){yield t().call(r,e),yield r.bc.initialize(r,e),yield UM(r.bc.syncEngine),yield Qy(r.bc.remoteStore),yield r.persistence.pi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return e2(this.persistence,new JL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new GL(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new _U(t,this.persistence);return new yU(e.asyncQueue,r)}createPersistence(e){const t=O1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Fs.withCacheSize(this.cacheSizeBytes):Fs.DEFAULT;return new R1(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,d2(),lI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new u2}}class P2 extends zM{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,He.Z)(function*(){yield t().call(r,e);const i=r.bc.syncEngine;r.sharedClientState instanceof j1&&(r.sharedClientState.syncEngine={Qr:Uj.bind(null,i),jr:Gj.bind(null,i),zr:$j.bind(null,i),Mi:jj.bind(null,i),Gr:Hj.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.pi(function(){var a=(0,He.Z)(function*(h){yield function zj(n,e){return NM.apply(this,arguments)}(r.bc.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start():h||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(h&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():h||r.indexBackfillerScheduler.stop())});return function(h){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=d2();if(!j1.D(t))throw new Ke(je.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=O1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new j1(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class r_{initialize(e,t){var r=this;return(0,He.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>T2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Lj.bind(null,r.syncEngine),yield lM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new wj}createDatastore(e){const t=Cb(e.databaseInfo.databaseId),r=new ij(e.databaseInfo);return new aj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=m=>T2(this.syncEngine,m,0),h=h2.D()?new h2:new tj,new uj(t,r,i,a,h);var t,r,i,a,h}createSyncEngine(e,t){return function(r,i,a,h,m,E,D){const F=new xj(r,i,a,h,m,E);return D&&(F.Ac=!0),F}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,He.Z)(function*(t){const r=mt(t);et("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield Yy(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function k2(n,e=10240){let t=0;return{read:()=>(0,He.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,He.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class hI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Zj{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new Fi,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(r=>{r&&r.Gu()?this.metadata.resolve(r.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Ku)}`))},r=>this.metadata.reject(r))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,He.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,He.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,He.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const r=e.Cc.decode(t),i=Number(r);isNaN(i)&&e.kc(`length string (${r}) is not valid number`);const a=yield e.Mc(i);return new Sj(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,He.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Mc(e){var t=this;return(0,He.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const r=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,He.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Kj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,He.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ke(je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,He.Z)(function*(a,h){const m=mt(a),E=fb(m.serializer)+"/documents",D={documents:h.map(me=>db(m.serializer,me))},F=yield m.Ao("BatchGetDocuments",E,D,h.length),W=new Map;F.forEach(me=>{const Ce=function gz(n,e){return"found"in e?function(t,r){Ot(!!r.found);const i=$c(t,r.found.name),a=pi(r.found.updateTime),h=r.found.createTime?pi(r.found.createTime):Nt.min(),m=new ys({mapValue:{fields:r.found.fields}});return Er.newFoundDocument(i,a,h,m)}(n,e):"missing"in e?function(t,r){Ot(!!r.missing),Ot(!!r.readTime);const i=$c(t,r.missing),a=pi(r.readTime);return Er.newNoDocument(i,a)}(n,e):Et()}(m.serializer,me);W.set(Ce.key.toString(),Ce)});const ce=[];return h.forEach(me=>{const Ce=W.get(me.toString());Ot(!!Ce),ce.push(Ce)}),ce}),function(a,h){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new jy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,He.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=ut.fromPath(i);e.mutations.push(new d1(a,e.precondition(a)))}),yield(r=(0,He.Z)(function*(i,a){const h=mt(i),m=fb(h.serializer)+"/documents",E={writes:a.map(D=>pb(h.serializer,D))};yield h.po("Commit",m,E)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Et();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ke(je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nt.min())?Rr.exists(!1):Rr.updateTime(t):Rr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new Ke(je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rr.updateTime(t)}return Rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Yj{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Fc=r.maxAttempts,this.Lo=new $1(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,He.Z)(function*(){const t=new Kj(e.datastore),r=e.Lc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.qc(a)}))}).catch(i=>{e.qc(i)})}))}Lc(e){try{const t=this.updateFunction(e);return!K0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!rL(t)}return!1}}class Qj{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qi.UNAUTHENTICATED,this.clientId=eN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,He.Z)(function*(m){et("FirestoreClient","Received user=",m.uid),yield a.authCredentialListener(m),a.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(et("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,He.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ke(je.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,He.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Jy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function dI(n,e){return jM.apply(this,arguments)}function jM(){return jM=(0,He.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,He.Z)(function*(a){r.isEqual(a)||(yield t2(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),jM.apply(this,arguments)}function GM(n,e){return $M.apply(this,arguments)}function $M(){return $M=(0,He.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield qM(n);et("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>v2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>v2(e.remoteStore,a)),n._onlineComponents=e}),$M.apply(this,arguments)}function R2(n){return"FirebaseError"===n.name?n.code===je.FAILED_PRECONDITION||n.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function qM(n){return WM.apply(this,arguments)}function WM(){return WM=(0,He.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!R2(t))throw t;Ba("Error using user provided cache. Falling back to memory cache: "+t),yield dI(n,new Db)}}else et("FirestoreClient","Using default OfflineComponentProvider"),yield dI(n,new Db);return n._offlineComponents}),WM.apply(this,arguments)}function fI(n){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,He.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),yield GM(n,n._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),yield GM(n,new r_))),n._onlineComponents}),ZM.apply(this,arguments)}function O2(n){return qM(n).then(e=>e.persistence)}function pI(n){return qM(n).then(e=>e.localStore)}function F2(n){return fI(n).then(e=>e.remoteStore)}function KM(n){return fI(n).then(e=>e.syncEngine)}function i_(n){return YM.apply(this,arguments)}function YM(){return YM=(0,He.Z)(function*(n){const e=yield fI(n),t=e.eventManager;return t.onListen=Aj.bind(null,e.syncEngine),t.onUnlisten=Mj.bind(null,e.syncEngine),t}),YM.apply(this,arguments)}function L2(n,e,t={}){const r=new Fi;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function(i,a,h,m,E){const D=new hI({next:W=>{a.enqueueAndForget(()=>fM(i,F));const ce=W.docs.has(h);!ce&&W.fromCache?E.reject(new Ke(je.UNAVAILABLE,"Failed to get document because the client is offline.")):ce&&W.fromCache&&m&&"server"===m.source?E.reject(new Ke(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(W)},error:W=>E.reject(W)}),F=new gM(By(h.path),D,{includeMetadataChanges:!0,Uu:!0});return hM(i,F)}(yield i_(n),n.asyncQueue,e,t,r)})),r.promise}function V2(n,e,t={}){const r=new Fi;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function(i,a,h,m,E){const D=new hI({next:W=>{a.enqueueAndForget(()=>fM(i,F)),W.fromCache&&"server"===m.source?E.reject(new Ke(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(W)},error:W=>E.reject(W)}),F=new gM(h,D,{includeMetadataChanges:!0,Uu:!0});return hM(i,F)}(yield i_(n),n.asyncQueue,e,t,r)})),r.promise}const B2=new Map;function QM(n,e,t){if(!t)throw new Ke(je.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function H2(n,e,t,r){if(!0===e&&!0===r)throw new Ke(je.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function U2(n){if(!ut.isDocumentKey(n))throw new Ke(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function z2(n){if(ut.isDocumentKey(n))throw new Ke(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Et()}function vn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ke(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mI(n);throw new Ke(je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function j2(n,e){if(e<=0)throw new Ke(je.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class G2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ke(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ke(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ke(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ke(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new sU;switch(t.type){case"firstParty":return new cU(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ke(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=B2.get(e);t&&(et("ComponentProvider","Removing Datastore"),B2.delete(e),t.terminate())}(this),Promise.resolve()}}class Cr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cr(this.firestore,e,this._key)}}class _s{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class qc extends _s{constructor(e,t,r){super(e,t,By(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cr(this.firestore,null,new ut(e))}withConverter(e){return new qc(this.firestore,e,this._path)}}function q2(n,e,...t){if(n=(0,Cn.m9)(n),QM("collection","path",e),n instanceof Tb){const r=Tn.fromString(e,...t);return z2(r),new qc(n,null,r)}{if(!(n instanceof Cr||n instanceof qc))throw new Ke(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return z2(r),new qc(n.firestore,null,r)}}function gI(n,e,...t){if(n=(0,Cn.m9)(n),1===arguments.length&&(e=eN.A()),QM("doc","path",e),n instanceof Tb){const r=Tn.fromString(e,...t);return U2(r),new Cr(n,null,new ut(r))}{if(!(n instanceof Cr||n instanceof qc))throw new Ke(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return U2(r),new Cr(n.firestore,n instanceof qc?n.converter:null,new ut(r))}}function W2(n,e){return n=(0,Cn.m9)(n),e=(0,Cn.m9)(e),(n instanceof Cr||n instanceof qc)&&(e instanceof Cr||e instanceof qc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function XM(n,e){return n=(0,Cn.m9)(n),e=(0,Cn.m9)(e),n instanceof _s&&e instanceof _s&&n.firestore===e.firestore&&nb(n._query,e._query)&&n.converter===e.converter}class a6{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new $1(this,"async_queue_retry"),this.Yc=()=>{const t=lI();t&&et("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=lI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=lI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Fi;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,He.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Xd(t))throw t;et("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,fi("INTERNAL UNHANDLED ERROR: ",function(a){let h=a.message||"";return a.stack&&(h=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),h}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=uM.createAndSchedule(this,e,t,r,a=>this.ea(a));return this.jc.push(i),i}Xc(){this.zc&&Et()}verifyOperationInProgress(){}na(){var e=this;return(0,He.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function JM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class l6{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Sr extends Tb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new a6,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Z2(this),this._firestoreClient.terminate()}}function mi(n){return n._firestoreClient||Z2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Z2(n){var e,t,r;const i=n._freezeSettings(),a=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new BU(n._databaseId,m,n._persistenceKey,(D=i).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,D.useFetchStreams));var m,D;n._firestoreClient=new Qj(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function K2(n,e,t){const r=new Fi;return n.asyncQueue.enqueue((0,He.Z)(function*(){try{yield dI(n,t),yield GM(n,e),r.resolve()}catch(i){const a=i;if(!R2(a))throw a;Ba("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function Y2(n){if(n._initialized||n._terminated)throw new Ke(je.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wc(Ni.fromBase64String(e))}catch(t){throw new Ke(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wc(Ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ke(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fm{constructor(e){this._methodName=e}}class yI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ke(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ke(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tn(this._lat,e._lat)||tn(this._long,e._long)}}const v6=/^__.*__$/;class b6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ch(e,this.data,this.fieldMask,t,this.fieldTransforms):new zy(e,this.data,t,this.fieldTransforms)}}class Q2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ch(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function X2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class _I{constructor(e,t,r,i,a,h){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=h||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new _I(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return wI(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(X2(this.ua)&&v6.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class w6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Cb(e)}ga(e,t,r,i=!1){return new _I({ua:e,methodName:t,ma:r,path:ni.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nm(n){const e=n._freezeSettings(),t=Cb(n._databaseId);return new w6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function vI(n,e,t,r,i,a={}){const h=n.ga(a.merge||a.mergeFields?2:0,e,t,i);rP("Data must be an object, but it was:",h,r);const m=tV(r,h);let E,D;if(a.merge)E=new wo(h.fieldMask),D=h.fieldTransforms;else if(a.mergeFields){const F=[];for(const W of a.mergeFields){const ce=Mb(e,W,t);if(!h.contains(ce))throw new Ke(je.INVALID_ARGUMENT,`Field '${ce}' is specified in your field mask but missing from your input data.`);rV(F,ce)||F.push(ce)}E=new wo(F),D=h.fieldTransforms.filter(W=>E.covers(W.field))}else E=null,D=h.fieldTransforms;return new b6(new ys(m),E,D)}class Ab extends Fm{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ab}}function J2(n,e,t){return new _I({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class eP extends Fm{_toFieldTransform(e){return new ab(e.path,new Hy)}isEqual(e){return e instanceof eP}}class E6 extends Fm{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=J2(this,e,!0),r=this.ya.map(a=>Lm(a,t)),i=new Dm(r);return new ab(e.path,i)}isEqual(e){return this===e}}class C6 extends Fm{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=J2(this,e,!0),r=this.ya.map(a=>Lm(a,t)),i=new Tm(r);return new ab(e.path,i)}isEqual(e){return this===e}}class S6 extends Fm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new Uy(e.serializer,qN(e.serializer,this.pa));return new ab(e.path,t)}isEqual(e){return this===e}}function tP(n,e,t,r){const i=n.ga(1,e,t);rP("Data must be an object, but it was:",i,r);const a=[],h=ys.empty();Jd(r,(E,D)=>{const F=bI(e,E,t);D=(0,Cn.m9)(D);const W=i.fa(F);if(D instanceof Ab)a.push(F);else{const ce=Lm(D,W);null!=ce&&(a.push(F),h.set(F,ce))}});const m=new wo(a);return new Q2(h,m,i.fieldTransforms)}function nP(n,e,t,r,i,a){const h=n.ga(1,e,t),m=[Mb(e,r,t)],E=[i];if(a.length%2!=0)throw new Ke(je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ce=0;ce<a.length;ce+=2)m.push(Mb(e,a[ce])),E.push(a[ce+1]);const D=[],F=ys.empty();for(let ce=m.length-1;ce>=0;--ce)if(!rV(D,m[ce])){const me=m[ce];let Ce=E[ce];Ce=(0,Cn.m9)(Ce);const Me=h.fa(me);if(Ce instanceof Ab)D.push(me);else{const Ue=Lm(Ce,Me);null!=Ue&&(D.push(me),F.set(me,Ue))}}const W=new wo(D);return new Q2(F,W,h.fieldTransforms)}function eV(n,e,t,r=!1){return Lm(t,n.ga(r?4:3,e))}function Lm(n,e){if(nV(n=(0,Cn.m9)(n)))return rP("Unsupported field value:",e,n),tV(n,e);if(n instanceof Fm)return function(t,r){if(!X2(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const h of t){let m=Lm(h,r.da(a));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Cn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qN(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=kr.fromDate(t);return{timestampValue:Gy(r.serializer,i)}}if(t instanceof kr){const i=new kr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Gy(r.serializer,i)}}if(t instanceof yI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wc)return{bytesValue:fL(r.serializer,t._byteString)};if(t instanceof Cr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:v1(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${mI(t)}`)}(n,e)}function tV(n,e){const t={};return mN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jd(n,(r,i)=>{const a=Lm(i,e.aa(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function nV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof kr||n instanceof yI||n instanceof Wc||n instanceof Cr||n instanceof Fm)}function rP(n,e,t){if(!nV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=mI(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Mb(n,e,t){if((e=(0,Cn.m9)(e))instanceof Dh)return e._internalPath;if("string"==typeof e)return bI(n,e);throw wI("Field path arguments must be of type string or ",n,!1,void 0,t)}const I6=new RegExp("[~\\*/\\[\\]]");function bI(n,e,t){if(e.search(I6)>=0)throw wI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dh(...e.split("."))._internalPath}catch{throw wI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wI(n,e,t,r,i){const a=r&&!r.isEmpty(),h=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(a||h)&&(E+=" (found",a&&(E+=` in field ${r}`),h&&(E+=` in document ${i}`),E+=")"),new Ke(je.INVALID_ARGUMENT,m+n+E)}function rV(n,e){return n.some(t=>t.isEqual(e))}class Pb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Cr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new D6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(EI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class D6 extends Pb{data(){return super.data()}}function EI(n,e){return"string"==typeof e?bI(n,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function iV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ke(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iP{}class kb extends iP{}function pf(n,e,...t){let r=[];e instanceof iP&&r.push(e),r=r.concat(t),function(i){const a=i.filter(m=>m instanceof s_).length,h=i.filter(m=>m instanceof Rb).length;if(a>1||a>0&&h>0)throw new Ke(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Rb extends kb{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Rb(e,t,r)}_apply(e){const t=this._parse(e);return lV(e._query,t),new _s(e.firestore,e.converter,c1(e._query,t))}_parse(e){const t=Nm(e.firestore);return function(i,a,h,m,E,D,F){let W;if(E.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Ke(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){aV(F,D);const ce=[];for(const me of F)ce.push(oV(m,i,me));W={arrayValue:{values:ce}}}else W=oV(m,i,F)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||aV(F,D),W=eV(h,"where",F,"in"===D||"not-in"===D);return _n.create(E,D,W)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class s_ extends iP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new s_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Kn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const h=i.getFlattenedFilters();for(const m of h)lV(a,m),a=c1(a,m)}(e._query,t),new _s(e.firestore,e.converter,c1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class sP extends kb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sP(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Ke(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ke(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Ly(i,a);return function(m,E){if(null===a1(m)){const D=HS(m);null!==D&&cV(0,D,E.field)}}(r,h),h}(e._query,this._field,this._direction);return new _s(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new wh(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class CI extends kb{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new CI(e,t,r)}_apply(e){return new _s(e.firestore,e.converter,US(e._query,this._limit,this._limitType))}}class SI extends kb{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new SI(e,t,r)}_apply(e){const t=sV(e,this.type,this._docOrFields,this._inclusive);return new _s(e.firestore,e.converter,(i=t,new wh((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class II extends kb{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new II(e,t,r)}_apply(e){const t=sV(e,this.type,this._docOrFields,this._inclusive);return new _s(e.firestore,e.converter,(i=t,new wh((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function sV(n,e,t,r){if(t[0]=(0,Cn.m9)(t[0]),t[0]instanceof Pb)return function(i,a,h,m,E){if(!m)throw new Ke(je.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const D=[];for(const F of Im(i))if(F.field.isKeyField())D.push(Cm(a,m.key));else{const W=m.data.field(F.field);if(RS(W))throw new Ke(je.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+F.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===W){const ce=F.field.canonicalString();throw new Ke(je.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ce}' (used as the orderBy) does not exist.`)}D.push(W)}return new af(D,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Nm(n.firestore);return function(a,h,m,E,D,F){const W=a.explicitOrderBy;if(D.length>W.length)throw new Ke(je.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ce=[];for(let me=0;me<D.length;me++){const Ce=D[me];if(W[me].field.isKeyField()){if("string"!=typeof Ce)throw new Ke(je.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof Ce}`);if(!l1(a)&&-1!==Ce.indexOf("/"))throw new Ke(je.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${Ce}' contains a slash.`);const Me=a.path.child(Tn.fromString(Ce));if(!ut.isDocumentKey(Me))throw new Ke(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Me}' is not because it contains an odd number of segments.`);const Ue=new ut(Me);ce.push(Cm(h,Ue))}else{const Me=eV(m,E,Ce);ce.push(Me)}}return new af(ce,F)}(n._query,n.firestore._databaseId,i,e,t,r)}}function oV(n,e,t){if("string"==typeof(t=(0,Cn.m9)(t))){if(""===t)throw new Ke(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l1(e)&&-1!==t.indexOf("/"))throw new Ke(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tn.fromString(t));if(!ut.isDocumentKey(r))throw new Ke(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cm(n,new ut(r))}if(t instanceof Cr)return Cm(n,t._key);throw new Ke(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mI(t)}.`)}function aV(n,e){if(!Array.isArray(n)||0===n.length)throw new Ke(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lV(n,e){if(e.isInequality()){const r=HS(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ke(je.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=a1(n);null!==a&&cV(0,i,a)}const t=function(r,i){for(const a of r)for(const h of a.getFlattenedFilters())if(i.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ke(je.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function cV(n,e,t){if(!t.isEqual(e))throw new Ke(je.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class oP{convertValue(e,t="none"){switch(rf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Et()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Jd(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new yI(ri(e.latitude),ri(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=OS(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Q0(e));default:return null}}convertTimestamp(e){const t=ef(e);return new kr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tn.fromString(e);Ot(CL(r));const i=new tf(r.get(1),r.get(3)),a=new ut(r.popFirst(5));return i.isEqual(t)||fi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function DI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class F6 extends oP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cr(this.firestore,null,t)}}class Vm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Th extends Pb{constructor(e,t,r,i,a,h){super(e,t,r,i,h),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ob(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(EI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ob extends Th{data(e={}){return super.data(e)}}class mf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Vm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ob(this._firestore,this._userDataWriter,r.key,r,new Vm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ke(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Ob(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Vm(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>i||3!==h.type).map(h=>{const m=new Ob(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Vm(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,D=-1;return 0!==h.type&&(E=a.indexOf(h.doc.key),a=a.delete(h.doc.key)),1!==h.type&&(a=a.add(h.doc),D=a.indexOf(h.doc.key)),{type:L6(h.type),doc:m,oldIndex:E,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function L6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}function hV(n,e){return n instanceof Th&&e instanceof Th?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof mf&&e instanceof mf&&n._firestore===e._firestore&&XM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class gf extends oP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cr(this.firestore,null,t)}}function dV(n,e,t){n=vn(n,Cr);const r=vn(n.firestore,Sr),i=DI(n.converter,e,t);return o_(r,[vI(Nm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Rr.none())])}function fV(n,e,t,...r){n=vn(n,Cr);const i=vn(n.firestore,Sr),a=Nm(i);let h;return h="string"==typeof(e=(0,Cn.m9)(e))||e instanceof Dh?nP(a,"updateDoc",n._key,e,t,r):tP(a,"updateDoc",n._key,e),o_(i,[h.toMutation(n._key,Rr.exists(!0))])}function pV(n,...e){var t,r,i;n=(0,Cn.m9)(n);let a={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||JM(e[h])||(a=e[h],h++);const m={includeMetadataChanges:a.includeMetadataChanges};if(JM(e[h])){const W=e[h];e[h]=null===(t=W.next)||void 0===t?void 0:t.bind(W),e[h+1]=null===(r=W.error)||void 0===r?void 0:r.bind(W),e[h+2]=null===(i=W.complete)||void 0===i?void 0:i.bind(W)}let E,D,F;if(n instanceof Cr)D=vn(n.firestore,Sr),F=By(n._key.path),E={next:W=>{e[h]&&e[h](aP(D,n,W))},error:e[h+1],complete:e[h+2]};else{const W=vn(n,_s);D=vn(W.firestore,Sr),F=W._query;const ce=new gf(D);E={next:me=>{e[h]&&e[h](new mf(D,ce,W,me))},error:e[h+1],complete:e[h+2]},iV(n._query)}return function(W,ce,me,Ce){const Me=new hI(Ce),Ue=new gM(ce,Me,me);return W.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return hM(yield i_(W),Ue)})),()=>{Me.Sc(),W.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return fM(yield i_(W),Ue)}))}}(mi(D),F,m,E)}function o_(n,e){return function(t,r){const i=new Fi;return t.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function Pj(n,e,t){return wM.apply(this,arguments)}(yield KM(t),r,i)})),i.promise}(mi(n),e)}function aP(n,e,t){const r=t.docs.get(e._key),i=new gf(n);return new Th(n,i,e._key,r,new Vm(t.hasPendingWrites,t.fromCache),e.converter)}const tG={maxAttempts:5};class mV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nm(e)}set(e,t,r){this._verifyNotCommitted();const i=yf(e,this._firestore),a=DI(i.converter,t,r),h=vI(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(h.toMutation(i._key,Rr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=yf(e,this._firestore);let h;return h="string"==typeof(t=(0,Cn.m9)(t))||t instanceof Dh?nP(this._dataReader,"WriteBatch.update",a._key,t,r,i):tP(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(h.toMutation(a._key,Rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=yf(e,this._firestore);return this._mutations=this._mutations.concat(new jy(t._key,Rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ke(je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yf(n,e){if((n=(0,Cn.m9)(n)).firestore!==e)throw new Ke(je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class nG extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Nm(e)}get(e){const t=yf(e,this._firestore),r=new F6(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Et();const a=i[0];if(a.isFoundDocument())return new Pb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Pb(this._firestore,r,t._key,null,t.converter);throw Et()})}set(e,t,r){const i=yf(e,this._firestore),a=DI(i.converter,t,r),h=vI(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,h),this}update(e,t,r,...i){const a=yf(e,this._firestore);let h;return h="string"==typeof(t=(0,Cn.m9)(t))||t instanceof Dh?nP(this._dataReader,"Transaction.update",a._key,t,r,i):tP(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,h),this}delete(e){const t=yf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=yf(e,this._firestore),r=new gf(this._firestore);return super.get(e).then(i=>new Th(this._firestore,r,t._key,i._document,new Vm(!1,!1),t.converter))}}function lP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function yV(){if(typeof Uint8Array>"u")throw new Ke("unimplemented","Uint8Arrays are not available in this environment.")}function _V(){if(!function LU(){return typeof atob<"u"}())throw new Ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ry=Lc.SDK_VERSION,(0,Lc._registerComponent)(new b0.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),h=new Sr(new aU(t.getProvider("auth-internal")),new uU(t.getProvider("app-check-internal")),function(m,E){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ke(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tf(m.options.projectId,E)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),h._setSettings(i),h},"PUBLIC").setMultipleInstances(!0)),(0,Lc.registerVersion)(QF,"3.11.0",n),(0,Lc.registerVersion)(QF,"3.11.0","esm2017")}();class Fb{constructor(e){this._delegate=e}static fromBase64String(e){return _V(),new Fb(Wc.fromBase64String(e))}static fromUint8Array(e){return yV(),new Fb(Wc.fromUint8Array(e))}toBase64(){return _V(),this._delegate.toBase64()}toUint8Array(){return yV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cP(n){return function hG(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class dG{enableIndexedDbPersistence(e,t){return function u6(n,e){Y2(n=vn(n,Sr));const t=mi(n);if(t._uninitializedComponentsProvider)throw new Ke(je.FAILED_PRECONDITION,"SDK cache is already specified.");Ba("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new r_;return K2(t,i,new zM(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function h6(n){Y2(n=vn(n,Sr));const e=mi(n);if(e._uninitializedComponentsProvider)throw new Ke(je.FAILED_PRECONDITION,"SDK cache is already specified.");Ba("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new r_;return K2(e,r,new P2(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function d6(n){if(n._initialized&&!n._terminated)throw new Ke(je.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,He.Z)(function*(){try{yield(t=(0,He.Z)(function*(r){if(!kl.D())return Promise.resolve();const i=r+"main";yield kl.delete(i)}),function(r){return t.apply(this,arguments)})(O1(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class vV{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof tf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ba("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function $2(n,e,t,r={}){var i;const a=(n=vn(n,Tb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Ba("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=qi.MOCK_USER;else{h=(0,Cn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ke(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new qi(E)}n._authCredentials=new oU(new XF(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function p6(n){return function Xj(n){return n.asyncQueue.enqueue((0,He.Z)(function*(){const e=yield O2(n),t=yield F2(n);return e.setNetworkEnabled(!0),function(r){const i=mt(r);return i.Au.delete(0),Sb(i)}(t)}))}(mi(n=vn(n,Sr)))}(this._delegate)}disableNetwork(){return function m6(n){return function Jj(n){return n.asyncQueue.enqueue((0,He.Z)(function*(){const e=yield O2(n),t=yield F2(n);return e.setNetworkEnabled(!1),(r=(0,He.Z)(function*(i){const a=mt(i);a.Au.add(0),yield Yy(a),a.Pu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(mi(n=vn(n,Sr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,H2("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function f6(n){return function(e){const t=new Fi;return e.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return function Fj(n,e){return DM.apply(this,arguments)}(yield KM(e),t)})),t.promise}(mi(n=vn(n,Sr)))}(this._delegate)}onSnapshotsInSync(e){return function q6(n,e){return function n6(n,e){const t=new hI(e);return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return r=yield i_(n),i=t,mt(r).Nu.add(i),void i.next();var r,i})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return r=yield i_(n),i=t,void mt(r).Nu.delete(i);var r,i}))}}(mi(n=vn(n,Sr)),JM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new a_(this,q2(this._delegate,e))}catch(t){throw ro(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ha(this,gI(this._delegate,e))}catch(t){throw ro(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new io(this,function o6(n,e){if(n=vn(n,Tb),QM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ke(je.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _s(n,null,(t=e,new wh(Tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ro(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function rG(n,e,t){n=vn(n,Sr);const r=Object.assign(Object.assign({},tG),t);return function(i){if(i.maxAttempts<1)throw new Ke(je.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,h){const m=new Fi;return i.asyncQueue.enqueueAndForget((0,He.Z)(function*(){const E=yield function N2(n){return fI(n).then(e=>e.datastore)}(i);new Yj(i.asyncQueue,E,h,a,m).run()})),m.promise}(mi(n),i=>e(new nG(n,i)),r)}(this._delegate,t=>e(new bV(this,t)))}batch(){return mi(this._delegate),new wV(new mV(this._delegate,e=>o_(this._delegate,e)))}loadBundle(e){return function g6(n,e){const t=mi(n=vn(n,Sr)),r=new l6;return function r6(n,e,t,r){const i=function(a,h){let m;return m="string"==typeof a?sL().encode(a):a,E=function(E,D){if(E instanceof Uint8Array)return k2(E,D);if(E instanceof ArrayBuffer)return k2(new Uint8Array(E),D);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new Zj(E,h);var E}(t,Cb(e));n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){!function qj(n,e,t){const r=mt(n);var i;(i=(0,He.Z)(function*(a,h,m){try{const E=yield h.getMetadata();if(yield function(ce,me){const Ce=mt(ce),Me=pi(me.createTime);return Ce.persistence.runTransaction("hasNewerBundle","readonly",Ue=>Ce.Ls.getBundleMetadata(Ue,me.id)).then(Ue=>!!Ue&&Ue.createTime.compareTo(Me)>=0)}(a.localStore,E))return yield h.close(),m._completeWith({taskState:"Success",documentsLoaded:(ce=E).totalDocuments,bytesLoaded:ce.totalBytes,totalDocuments:ce.totalDocuments,totalBytes:ce.totalBytes}),Promise.resolve(new Set);m._updateProgress(E2(E));const D=new Ij(E,a.localStore,h.serializer);let F=yield h.Pc();for(;F;){const ce=yield D.ju(F);ce&&m._updateProgress(ce),F=yield h.Pc()}const W=yield D.complete();return yield Ih(a,W.Hu,void 0),yield function(ce,me){const Ce=mt(ce);return Ce.persistence.runTransaction("Save bundle","readwrite",Me=>Ce.Ls.saveBundleMetadata(Me,me))}(a.localStore,E),m._completeWith(W.progress),Promise.resolve(W.Wu)}catch(E){return Ba("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var ce}),function(a,h,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield KM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function y6(n,e){return function i6(n,e){return n.asyncQueue.enqueue((0,He.Z)(function*(){return function(t,r){const i=mt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ls.getNamedQuery(a,r))}(yield pI(n),e)}))}(mi(n=vn(n,Sr)),e).then(t=>t?new _s(n,null,t.query):null)}(this._delegate,e).then(t=>t?new io(this,t):null)}}class TI extends oP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fb(new Wc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ha.forKey(t,this.firestore,null)}}class bV{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new TI(e)}get(e){const t=Hm(e);return this._delegate.get(t).then(r=>new Nb(this._firestore,new Th(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Hm(e);return r?(lP("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Hm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Hm(e);return this._delegate.delete(t),this}}class wV{constructor(e){this._delegate=e}set(e,t,r){const i=Hm(e);return r?(lP("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Hm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Hm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Bm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ob(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Bm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Bm(e,new TI(e),t),i.set(t,a)),a}}Bm.INSTANCES=new WeakMap;class Ha{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new TI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ha(t,new Cr(t._delegate,r,new ut(e)))}static forKey(e,t,r){return new Ha(t,new Cr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new a_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new a_(this.firestore,q2(this._delegate,e))}catch(t){throw ro(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Cn.m9)(e))instanceof Cr&&W2(this._delegate,e)}set(e,t){t=lP("DocumentReference.set",t);try{return t?dV(this._delegate,e,t):dV(this._delegate,e)}catch(r){throw ro(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?fV(this._delegate,e):fV(this._delegate,e,t,...r)}catch(i){throw ro(i,"updateDoc()","DocumentReference.update()")}}delete(){return function G6(n){return o_(vn(n.firestore,Sr),[new jy(n._key,Rr.none())])}(this._delegate)}onSnapshot(...e){const t=EV(e),r=CV(e,i=>new Nb(this.firestore,new Th(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return pV(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function B6(n){n=vn(n,Cr);const e=vn(n.firestore,Sr),t=mi(e),r=new gf(e);return function e6(n,e){const t=new Fi;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return(r=(0,He.Z)(function*(i,a,h){try{const m=yield function(E,D){const F=mt(E);return F.persistence.runTransaction("read document","readonly",W=>F.localDocuments.getDocument(W,D))}(i,a);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Ke(je.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=Jy(m,`Failed to get document '${a} from cache`);h.reject(E)}}),function(i,a,h){return r.apply(this,arguments)})(yield pI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Th(e,r,n._key,i,new Vm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function H6(n){n=vn(n,Cr);const e=vn(n.firestore,Sr);return L2(mi(e),n._key,{source:"server"}).then(t=>aP(e,n,t))}(this._delegate):function V6(n){n=vn(n,Cr);const e=vn(n.firestore,Sr);return L2(mi(e),n._key).then(t=>aP(e,n,t))}(this._delegate),t.then(r=>new Nb(this.firestore,new Th(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ha(this.firestore,this._delegate.withConverter(e?Bm.getInstance(this.firestore,e):null))}}function ro(n,e,t){return n.message=n.message.replace(e,t),n}function EV(n){for(const e of n)if("object"==typeof e&&!cP(e))return e;return{}}function CV(n,e){var t,r;let i;return i=cP(n[0])?n[0]:cP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Nb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ha(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return hV(this._delegate,e._delegate)}}class Lb extends Nb{data(e){const t=this._delegate.data(e);return function iU(n,e){n||Et()}(void 0!==t),t}}class io{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new TI(e)}where(e,t,r){try{return new io(this.firestore,pf(this._delegate,function T6(n,e,t){const r=e,i=EI("where",n);return Rb._create(i,r,t)}(e,t,r)))}catch(i){throw ro(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new io(this.firestore,pf(this._delegate,function x6(n,e="asc"){const t=e,r=EI("orderBy",n);return sP._create(r,t)}(e,t)))}catch(r){throw ro(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new io(this.firestore,pf(this._delegate,function A6(n){return j2("limit",n),CI._create("limit",n,"F")}(e)))}catch(t){throw ro(t,"limit()","Query.limit()")}}limitToLast(e){try{return new io(this.firestore,pf(this._delegate,function M6(n){return j2("limitToLast",n),CI._create("limitToLast",n,"L")}(e)))}catch(t){throw ro(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new io(this.firestore,pf(this._delegate,function P6(...n){return SI._create("startAt",n,!0)}(...e)))}catch(t){throw ro(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new io(this.firestore,pf(this._delegate,function k6(...n){return SI._create("startAfter",n,!1)}(...e)))}catch(t){throw ro(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new io(this.firestore,pf(this._delegate,function R6(...n){return II._create("endBefore",n,!1)}(...e)))}catch(t){throw ro(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new io(this.firestore,pf(this._delegate,function O6(...n){return II._create("endAt",n,!0)}(...e)))}catch(t){throw ro(t,"endAt()","Query.endAt()")}}isEqual(e){return XM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function z6(n){n=vn(n,_s);const e=vn(n.firestore,Sr),t=mi(e),r=new gf(e);return function t6(n,e){const t=new Fi;return n.asyncQueue.enqueueAndForget((0,He.Z)(function*(){return(r=(0,He.Z)(function*(i,a,h){try{const m=yield iI(i,a,!0),E=new I2(a,m.sr),D=E.nc(m.documents),F=E.applyChanges(D,!1);h.resolve(F.snapshot)}catch(m){const E=Jy(m,`Failed to execute query '${a} against cache`);h.reject(E)}}),function(i,a,h){return r.apply(this,arguments)})(yield pI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new mf(e,r,n,i))}(this._delegate):"server"===e?.source?function j6(n){n=vn(n,_s);const e=vn(n.firestore,Sr),t=mi(e),r=new gf(e);return V2(t,n._query,{source:"server"}).then(i=>new mf(e,r,n,i))}(this._delegate):function U6(n){n=vn(n,_s);const e=vn(n.firestore,Sr),t=mi(e),r=new gf(e);return iV(n._query),V2(t,n._query).then(i=>new mf(e,r,n,i))}(this._delegate),t.then(r=>new uP(this.firestore,new mf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=EV(e),r=CV(e,i=>new uP(this.firestore,new mf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return pV(this._delegate,t,r)}withConverter(e){return new io(this.firestore,this._delegate.withConverter(e?Bm.getInstance(this.firestore,e):null))}}class pG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Lb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class uP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new io(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Lb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new pG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Lb(this._firestore,r))})}isEqual(e){return hV(this._delegate,e._delegate)}}class a_ extends io{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ha(this.firestore,e):null}doc(e){try{return new Ha(this.firestore,void 0===e?gI(this._delegate):gI(this._delegate,e))}catch(t){throw ro(t,"doc()","CollectionReference.doc()")}}add(e){return function $6(n,e){const t=vn(n.firestore,Sr),r=gI(n),i=DI(n.converter,e);return o_(t,[vI(Nm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Rr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ha(this.firestore,t))}isEqual(e){return W2(this._delegate,e._delegate)}withConverter(e){return new a_(this.firestore,this._delegate.withConverter(e?Bm.getInstance(this.firestore,e):null))}}function Hm(n){return vn(n,Cr)}class hP{constructor(...e){this._delegate=new Dh(...e)}static documentId(){return new hP(ni.keyField().canonicalString())}isEqual(e){return(e=(0,Cn.m9)(e))instanceof Dh&&this._delegate._internalPath.isEqual(e._internalPath)}}class Um{constructor(e){this._delegate=e}static serverTimestamp(){const e=function sG(){return new eP("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Um(e)}static delete(){const e=function iG(){return new Ab("deleteField")}();return e._methodName="FieldValue.delete",new Um(e)}static arrayUnion(...e){const t=function oG(...n){return new E6("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Um(t)}static arrayRemove(...e){const t=function aG(...n){return new C6("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Um(t)}static increment(e){const t=function lG(n){return new S6("increment",n)}(e);return t._methodName="FieldValue.increment",new Um(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const mG={Firestore:vV,GeoPoint:yI,Timestamp:kr,Blob:Fb,Transaction:bV,WriteBatch:wV,DocumentReference:Ha,DocumentSnapshot:Nb,Query:io,QueryDocumentSnapshot:Lb,QuerySnapshot:uP,CollectionReference:a_,FieldPath:hP,FieldValue:Um,setLogLevel:function fG(n){!function rU(n){Yd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function yG(n){(function gG(n,e){n.INTERNAL.registerComponent(new b0.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},mG)))})(n,(e,t)=>new vV(e,t,new dG)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(pA.Z);var xI=f(5363),_G=f(6063);class vG extends bt.x{constructor(e=1/0,t=1/0,r=_G.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:h}=this;t||(r.push(e),!i&&r.push(a.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let h=0;h<a.length&&!e.closed;h+=r?1:2)e.next(a[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const h=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=h;E+=2)m=E;m&&r.splice(0,m+1)}}}var SV=f(3099);function IV(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,SV.B)({connector:()=>new vG(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function DV(n,e){return(0,Ms.m)(e)?dr(()=>n,e):dr(()=>n)}var dP=f(9468);f(259);const pP=new Map,xV={activated:!1,tokenObservers:[]},SG={initialized:!1,enabled:!1};function ii(n){return pP.get(n)||Object.assign({},xV)}function MI(){return SG}class MG{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,He.Z)(function*(){t.stop();try{t.pending=new Cn.BH,yield function PG(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Cn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vs=new Cn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gP(n){if(!ii(n).activated)throw vs.create("use-before-activation",{appName:n.name})}function RI(n,e){return _P.apply(this,arguments)}function _P(){return _P=(0,He.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const W=yield i.getHeartbeatsHeader();W&&(r["X-Firebase-Client"]=W)}const a={method:"POST",body:JSON.stringify(e),headers:r};let h,m;try{h=yield fetch(n,a)}catch(W){throw vs.create("fetch-network-error",{originalErrorMessage:W?.message})}if(200!==h.status)throw vs.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(W){throw vs.create("fetch-parse-error",{originalErrorMessage:W?.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw vs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(E[1]),F=Date.now();return{token:m.token,expireTimeMillis:F+D,issuedAtTimeMillis:F}}),_P.apply(this,arguments)}function MV(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Vb="firebase-app-check-store";let OI=null;function kV(){return OI||(OI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(vs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Vb,{keyPath:"compositeKey"})}}catch(t){e(vs.create("storage-open",{originalErrorMessage:t?.message}))}}),OI)}function vP(){return vP=(0,He.Z)(function*(n,e){const r=(yield kV()).transaction(Vb,"readwrite"),a=r.objectStore(Vb).put({compositeKey:n,value:e});return new Promise((h,m)=>{a.onsuccess=E=>{h()},r.onerror=E=>{var D;m(vs.create("storage-set",{originalErrorMessage:null===(D=E.target.error)||void 0===D?void 0:D.message}))}})}),vP.apply(this,arguments)}const Bb=new La.Yd("@firebase/app-check");function EP(n,e){return(0,Cn.hl)()?function VG(n,e){return function RV(n,e){return vP.apply(this,arguments)}(function FV(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Bb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function SP(){return MI().enabled}function IP(){return DP.apply(this,arguments)}function DP(){return DP=(0,He.Z)(function*(){const n=MI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),DP.apply(this,arguments)}const GG={error:"UNKNOWN_ERROR"};function $G(n){return Cn.US.encodeString(JSON.stringify(n),!1)}function FI(n){return TP.apply(this,arguments)}function TP(){return TP=(0,He.Z)(function*(n,e=!1){const t=n.app;gP(t);const r=ii(t);let a,i=r.token;if(i&&!l_(i)&&(r.token=void 0,i=void 0),!i){const E=yield r.cachedTokenPromise;E&&(l_(E)?i=E:yield EP(t,void 0))}if(!e&&i&&l_(i))return{token:i.token};let m,h=!1;if(SP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=RI(MV(t,yield IP()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),h=!0);const E=yield r.exchangeTokenPromise;return yield EP(t,E),r.token=E,{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),h=!0),i=yield ii(t).exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Bb.warn(E.message):Bb.error(E),a=E}return i?a?m=l_(i)?{token:i.token,internalError:a}:VV(a):(m={token:i.token},r.token=i,yield EP(t,i)):m=VV(a),h&&LV(t,m),m}),TP.apply(this,arguments)}function MP(n,e){const t=ii(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function NV(n){const{app:e}=n,t=ii(e);let r=t.tokenRefresher;r||(r=function WG(n){const{app:e}=n;return new MG((0,He.Z)(function*(){let r;if(r=ii(e).token?yield FI(n,!0):yield FI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ii(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function LV(n,e){const t=ii(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function l_(n){return n.expireTimeMillis-Date.now()>0}function VV(n){return{token:$G(GG),error:n}}class ZG{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ii(this.app);for(const t of e)MP(this.app,t.next);return Promise.resolve()}}const qV="app-check-internal";!function c4(){(0,Lc._registerComponent)(new b0.wA("app-check",n=>function KG(n,e){return new ZG(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(qV).initialize()})),(0,Lc._registerComponent)(new b0.wA(qV,n=>function YG(n){return{getToken:e=>FI(n,e),addTokenListener:e=>function AP(n,e,t,r){const{app:i}=n,a=ii(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&l_(a.token)){const m=a.token;Promise.resolve().then(()=>{t({token:m.token}),NV(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>NV(n))}(n,"INTERNAL",e),removeTokenListener:e=>MP(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Lc.registerVersion)("@firebase/app-check","0.7.0")}();class OP{constructor(){return(0,wi.vb)("app-check")}}typeof window<"u"&&window;var ZV=f(9260);const KV=new s.OlP("angularfire2.auth.use-emulator"),YV=new s.OlP("angularfire2.auth.settings"),QV=new s.OlP("angularfire2.auth.tenant-id"),XV=new s.OlP("angularfire2.auth.langugage-code"),JV=new s.OlP("angularfire2.auth.use-device-language"),eB=new s.OlP("angularfire.auth.persistence"),tB=(n,e,t,r,i,a,h,m)=>(0,Na.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=i,a&&E.useDeviceLanguage(),h)for(const[D,F]of Object.entries(h))E.settings[D]=F;return m&&E.setPersistence(m),E},[t,r,i,a,h,m]);let NP=(()=>{class n{constructor(t,r,i,a,h,m,E,D,F,W,ce,me){const Ce=new bt.x,Me=vt(void 0).pipe((0,xI.Q)(h.outsideAngular),dr(()=>a.runOutsideAngular(()=>Promise.resolve().then(f.bind(f,3042)))),(0,St.U)(()=>(0,Na.on)(t,a,r)),(0,St.U)(Ue=>tB(Ue,a,m,D,F,W,E,ce)),IV({bufferSize:1,refCount:!1}));if(Bl(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=vt(null);else{Me.pipe(os()).subscribe();const rt=Me.pipe(dr(At=>At.getRedirectResult().then(en=>en,()=>null)),wi.iC,IV({bufferSize:1,refCount:!1})),_t=Me.pipe(dr(At=>new Fr.y(en=>({unsubscribe:a.runOutsideAngular(()=>At.onAuthStateChanged(rn=>en.next(rn),rn=>en.error(rn),()=>en.complete()))})))),ht=Me.pipe(dr(At=>new Fr.y(en=>({unsubscribe:a.runOutsideAngular(()=>At.onIdTokenChanged(rn=>en.next(rn),rn=>en.error(rn),()=>en.complete()))}))));this.authState=rt.pipe(DV(_t),(0,dP.R)(h.outsideAngular),(0,xI.Q)(h.insideAngular)),this.user=rt.pipe(DV(ht),(0,dP.R)(h.outsideAngular),(0,xI.Q)(h.insideAngular)),this.idToken=this.user.pipe(dr(At=>At?(0,En.D)(At.getIdToken()):vt(null))),this.idTokenResult=this.user.pipe(dr(At=>At?(0,En.D)(At.getIdTokenResult()):vt(null))),this.credential=(0,im.T)(rt,Ce,this.authState.pipe(ar(At=>!At))).pipe((0,St.U)(At=>At?.user?At:null),(0,dP.R)(h.outsideAngular),(0,xI.Q)(h.insideAngular))}return(0,Na.pX)(this,Me,a,{spy:{apply:(Ue,rt,_t)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&_t.then(ht=>Ce.next(ht))}}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Na.Dh),s.LFG(Na.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(wi.HU),s.LFG(KV,8),s.LFG(YV,8),s.LFG(QV,8),s.LFG(XV,8),s.LFG(JV,8),s.LFG(eB,8),s.LFG(OP,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),m4=(()=>{class n{constructor(){ZV.Z.registerVersion("angularfire",wi.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[NP]}),n})();function nB(n,e){return function g4(n,e=Ld.z){return new Fr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function LP(n,e){return nB(n,e).pipe((0,St.U)(t=>({payload:t,type:"query"})))}function LI(n,e){return LP(n,e).pipe(bi(void 0),gy(),(0,St.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const E=i.find(F=>F.doc.ref.isEqual(h.ref)),D=t?.payload.docs.find(F=>F.ref.isEqual(h.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(h.metadata)||!E&&D&&JSON.stringify(D.metadata)===JSON.stringify(h.metadata)||a.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),a}))}function rB(n,e,t){return LI(n,t).pipe(co((r,i)=>function _4(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function v4(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return VP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return VP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return VP(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),pC(),(0,St.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function VP(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function iB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class sB{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=LI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,St.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(bi(void 0),gy(),ar(([r,i])=>i.length>0||!r),(0,St.U)(([r,i])=>i),wi.iC)}auditTrail(e){return this.stateChanges(e).pipe(co((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=iB(e);return rB(this.query,t,this.afs.schedulers.outsideAngular).pipe(wi.iC)}valueChanges(e={}){return LP(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),wi.iC)}get(e){return(0,En.D)(this.query.get(e)).pipe(wi.iC)}add(e){return this.ref.add(e)}doc(e){return new oB(this.ref.doc(e),this.afs)}}class oB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=cB(r,t);return new sB(i,a,this.afs)}snapshotChanges(){return function y4(n,e){return nB(n,e).pipe(bi(void 0),gy(),(0,St.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,St.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,En.D)(this.ref.get(e)).pipe(wi.iC)}}class b4{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?LI(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ar(t=>t.length>0),wi.iC):LI(this.query,this.afs.schedulers.outsideAngular).pipe(wi.iC)}auditTrail(e){return this.stateChanges(e).pipe(co((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=iB(e);return rB(this.query,t,this.afs.schedulers.outsideAngular).pipe(wi.iC)}valueChanges(e={}){return LP(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),wi.iC)}get(e){return(0,En.D)(this.query.get(e)).pipe(wi.iC)}}const aB=new s.OlP("angularfire2.enableFirestorePersistence"),lB=new s.OlP("angularfire2.firestore.persistenceSettings"),w4=new s.OlP("angularfire2.firestore.settings"),E4=new s.OlP("angularfire2.firestore.use-emulator");function cB(n,e=(t=>t)){return{query:e(n),ref:n}}let Hb=(()=>{class n{constructor(t,r,i,a,h,m,E,D,F,W,ce,me,Ce,Me,Ue,rt,_t){this.schedulers=E;const ht=(0,Na.on)(t,m,r),At=F;W&&tB(ht,m,ce,Ce,Me,Ue,me,rt),[this.firestore,this.persistenceEnabled$]=(0,Na.cc)(`${ht.name}.firestore`,"AngularFirestore",ht.name,()=>{const en=m.runOutsideAngular(()=>ht.firestore());if(a&&en.settings(a),At&&en.useEmulator(...At),i&&!Bl(h)){const rn=()=>{try{return(0,En.D)(en.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(Vn){return typeof console<"u"&&console.warn(Vn),vt(!1)}};return[en,m.runOutsideAngular(rn)]}return[en,vt(!1)]},[a,At,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:h}=cB(i,r),m=this.schedulers.ngZone.run(()=>a);return new sB(m,h,this)}collectionGroup(t,r){const i=r||(h=>h),a=this.firestore.collectionGroup(t);return new b4(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new oB(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Na.Dh),s.LFG(Na.xv,8),s.LFG(aB,8),s.LFG(w4,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(wi.HU),s.LFG(lB,8),s.LFG(E4,8),s.LFG(NP,8),s.LFG(KV,8),s.LFG(YV,8),s.LFG(QV,8),s.LFG(XV,8),s.LFG(JV,8),s.LFG(eB,8),s.LFG(OP,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),C4=(()=>{class n{constructor(){ZV.Z.registerVersion("angularfire",wi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:aB,useValue:!0},{provide:lB,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Hb]}),n})();var S4=f(930);let Ub=(()=>{class n{constructor(t){this.db=t}createTicket(t,r,i,a,h){var m=this;return(0,He.Z)(function*(){if(!t||!r||!i)throw new Error("Required fields are missing");const E=m.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").doc(i).collection("tickets").doc();yield E.set({...a,id:E.ref.id,position:h})})()}createDefaultTickets(t,r,i){var a=this;return(0,He.Z)(function*(){const m=["TBD","TBD","TBD"].map((E,D)=>a.createTicket(t,r,i,{title:E,description:"",boardId:t,monthId:r,sprintId:i},D));yield Promise.all(m)})()}getTickets(t,r,i){return this.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").doc(i).collection("tickets").valueChanges({idField:"id"})}getTicketsPromise(t,r,i){var a=this;return(0,He.Z)(function*(){return(yield a.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").doc(i).collection("tickets").ref.get()).docs.map(m=>({...m.data(),id:m.id}))})()}updateTicket(t,r){var i=this;return(0,He.Z)(function*(){if(!r.boardId||!r.monthId||!r.sprintId)throw new Error("Required fields are missing");yield i.db.collection("boards").doc(r.boardId).collection("months").doc(r.monthId).collection("sprints").doc(r.sprintId).collection("tickets").doc(t).update({...r,boardId:r.boardId,monthId:r.monthId,sprintId:r.sprintId})})()}deleteTicket(t,r,i,a){return this.db.collection("boards").doc(r).collection("months").doc(i).collection("sprints").doc(a).collection("tickets").doc(t).delete()}getNewTicketPosition(t,r,i){var a=this;return(0,He.Z)(function*(){const h=a.getTickets(t,r,i),E=(yield function I4(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const a=new S4.Hp({next:h=>{r(h),a.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new ga)}});n.subscribe(a)})}(h)).map(F=>F.position);return(E.length?Math.max(...E):0)+1})()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Hb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VI=(()=>{class n{constructor(t,r){this.db=t,this.ticketService=r}createSprintsForMonth(t,r){var i=this;return(0,He.Z)(function*(){const h=["Sprint 1","Sprint 2"].map(function(){var m=(0,He.Z)(function*(E){const D=yield i.createSprint(t,r,{boardId:t,monthId:r,name:E});if(D.id)return i.ticketService.createDefaultTickets(t,r,D.id);throw new Error("Failed to create a sprint")});return function(E){return m.apply(this,arguments)}}());yield Promise.all(h)})()}createSprint(t,r,i){var a=this;return(0,He.Z)(function*(){return{id:(yield a.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").add({...i,isCollapsed:!1})).id,...i}})()}getSprints(t,r){return this.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").valueChanges({idField:"id"})}updateSprint(t,r,i,a){return this.db.collection("boards").doc(r).collection("months").doc(i).collection("sprints").doc(t).update(a)}deleteSprint(t,r,i){return this.db.collection("boards").doc(r).collection("months").doc(i).collection("sprints").doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Hb),s.LFG(Ub))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uB=(()=>{class n{constructor(t,r){this.db=t,this.sprintService=r}createDefaultMonths(t){var r=this;return(0,He.Z)(function*(){const i=[{boardId:t,name:"January"},{boardId:t,name:"February"},{boardId:t,name:"March"}],a=i.map(m=>r.db.collection("boards").doc(t).collection("months").add(m));return(yield Promise.all(a)).map((m,E)=>({id:m.id,...i[E]}))})()}createMonth(t,r){var i=this;return(0,He.Z)(function*(){const h=yield i.db.collection("boards").doc(t).collection("months").add(r);yield i.sprintService.createSprintsForMonth(t,h.id)})()}getMonths(t){return this.db.collection("boards").doc(t).collection("months").valueChanges({idField:"id"})}updateMonth(t,r,i){return this.db.collection("boards").doc(r).collection("months").doc(t).update(i)}deleteMonth(t,r){return this.db.collection("boards").doc(r).collection("months").doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Hb),s.LFG(VI))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hB=(()=>{class n{constructor(t,r,i){this.db=t,this.monthService=r,this.sprintService=i}createNewBoard(t,r){var i=this;return(0,He.Z)(function*(){const a={name:t,code:r},h=yield i.db.collection("boards").add(a),m=yield i.monthService.createDefaultMonths(h.id);for(const E of m)yield i.sprintService.createSprintsForMonth(h.id,E.id);return h.id})()}getBoard(t){return this.db.collection("boards").doc(t).valueChanges().pipe((0,St.U)(r=>{if(!r)throw new Error("Board not found");return{id:t,...r}}))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Hb),s.LFG(uB),s.LFG(VI))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D4=["connectionContainer"],T4=["inputContainer"],x4=["label"];function A4(n,e){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function M4(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.updateOutlineGap())}),s.Hsn(1,1),s.qZA()}if(2&n){const t=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function P4(n,e){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const t=s.oxw(2);s.xp6(3),s.Oqu(t._control.placeholder)}}function k4(n,e){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function R4(n,e){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function O4(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.updateOutlineGap())}),s.YNc(2,P4,4,1,"ng-container",12),s.YNc(3,k4,1,0,"ng-content",12),s.YNc(4,R4,2,0,"span",22),s.qZA()}if(2&n){const t=s.oxw();s.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),s.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),s.uIk("for",t._control.id)("aria-owns",t._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function F4(n,e){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function N4(n,e){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function L4(n,e){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const t=s.oxw();s.Q6J("@transitionMessages",t._subscriptAnimationState)}}function V4(n,e){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.Q6J("id",t._hintLabelId),s.xp6(1),s.Oqu(t.hintLabel)}}function B4(n,e){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,V4,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const t=s.oxw();s.Q6J("@transitionMessages",t._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",t.hintLabel)}}const H4=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],U4=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let z4=0;const dB=new s.OlP("MatError");let j4=(()=>{class n{constructor(t,r){this.id="mat-error-"+z4++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,r){2&t&&s.uIk("id",r.id)},inputs:{id:"id"},features:[s._Bn([{provide:dB,useExisting:n}])]}),n})();const G4={transitionMessages:fh("transitionMessages",[$o("enter",Mr({opacity:1,transform:"translateY(0%)"})),qo("void => enter",[Mr({opacity:0,transform:"translateY(-5px)"}),Oa("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let BP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n}),n})(),$4=0;const fB=new s.OlP("MatHint");let pB=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+$4++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,r){2&t&&(s.uIk("id",r.id)("align",null),s.ekj("mat-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},features:[s._Bn([{provide:fB,useExisting:n}])]}),n})(),zb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),q4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const mB=new s.OlP("MatPrefix");let gB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matPrefix",""]],features:[s._Bn([{provide:mB,useExisting:n}])]}),n})();const W4=new s.OlP("MatSuffix");let yB=0;const K4=lm(class{constructor(n){this._elementRef=n}},"primary"),Y4=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),vB=new s.OlP("MatFormField");let BI=(()=>{class n extends K4{constructor(t,r,i,a,h,m,E){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=h,this._ngZone=m,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new bt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+yB++,this._labelId="mat-form-field-label-"+yB++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==E,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Gi(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(bi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(di(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(di(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,im.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(bi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(bi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(di(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,nh(this._label.nativeElement,"transitionend").pipe(Nr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const F=r.querySelectorAll(`${i}, ${a}`);for(let W=0;W<F.length;W++)F[W].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let h=0,m=0;const E=r.querySelectorAll(i),D=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const F=r.getBoundingClientRect();if(0===F.width&&0===F.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const W=this._getStartEnd(F),ce=t.children,me=this._getStartEnd(ce[0].getBoundingClientRect());let Ce=0;for(let Me=0;Me<ce.length;Me++)Ce+=ce[Me].offsetWidth;h=Math.abs(me-W)-5,m=Ce>0?.75*Ce+10:0}for(let F=0;F<E.length;F++)E[F].style.width=`${h}px`;for(let F=0;F<D.length;F++)D[F].style.width=`${m}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Fc,8),s.Y36(Y4,8),s.Y36(hi),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(s.Suo(i,BP,5),s.Suo(i,BP,7),s.Suo(i,zb,5),s.Suo(i,zb,7),s.Suo(i,q4,5),s.Suo(i,dB,5),s.Suo(i,fB,5),s.Suo(i,mB,5),s.Suo(i,W4,5)),2&t){let a;s.iGM(a=s.CRH())&&(r._controlNonStatic=a.first),s.iGM(a=s.CRH())&&(r._controlStatic=a.first),s.iGM(a=s.CRH())&&(r._labelChildNonStatic=a.first),s.iGM(a=s.CRH())&&(r._labelChildStatic=a.first),s.iGM(a=s.CRH())&&(r._placeholderChild=a.first),s.iGM(a=s.CRH())&&(r._errorChildren=a),s.iGM(a=s.CRH())&&(r._hintChildren=a),s.iGM(a=s.CRH())&&(r._prefixChildren=a),s.iGM(a=s.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(s.Gf(D4,7),s.Gf(T4,5),s.Gf(x4,5)),2&t){let i;s.iGM(i=s.CRH())&&(r._connectionContainerRef=i.first),s.iGM(i=s.CRH())&&(r._inputContainerRef=i.first),s.iGM(i=s.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&s.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:vB,useExisting:n}]),s.qOj],ngContentSelectors:U4,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(s.F$t(H4),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),s.YNc(3,A4,9,0,"ng-container",3),s.YNc(4,M4,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,O4,5,16,"label",8),s.qZA()(),s.YNc(10,F4,2,0,"div",9),s.qZA(),s.YNc(11,N4,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,L4,2,1,"div",12),s.YNc(14,B4,5,2,"div",13),s.qZA()()),2&t&&(s.xp6(3),s.Q6J("ngIf","outline"==r.appearance),s.xp6(1),s.Q6J("ngIf",r._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",r._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",r._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=r.appearance),s.xp6(1),s.Q6J("ngSwitch",r._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[Bn,gC,oo,ra],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[G4.transitionMessages]},changeDetection:0}),n})(),c_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[_i,fr,Uv],fr]}),n})();const bB=eo({passive:!0});let Q4=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return zi.E;const r=Ar(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new bt.x,h="cdk-text-field-autofilled",m=E=>{"cdk-text-field-autofill-start"!==E.animationName||r.classList.contains(h)?"cdk-text-field-autofill-end"===E.animationName&&r.classList.contains(h)&&(r.classList.remove(h),this._ngZone.run(()=>a.next({target:E.target,isAutofilled:!1}))):(r.classList.add(h),this._ngZone.run(()=>a.next({target:E.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",m,bB),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",m,bB)}}),a}stopMonitoring(t){const r=Ar(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(hi),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const X4=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),J4=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let e5=0;const t5=$d(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let jb=(()=>{class n extends t5{constructor(t,r,i,a,h,m,E,D,F,W){super(m,a,h,i),this._elementRef=t,this._platform=r,this._autofillMonitor=D,this._formField=W,this._uid="mat-input-"+e5++,this.focused=!1,this.stateChanges=new bt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ce=>NE().has(Ce)),this._iOSKeyupListener=Ce=>{const Me=Ce.target;!Me.value&&0===Me.selectionStart&&0===Me.selectionEnd&&(Me.setSelectionRange(1,1),Me.setSelectionRange(0,0))};const ce=this._elementRef.nativeElement,me=ce.nodeName.toLowerCase();this._inputValueAccessor=E||ce,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&F.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===me,this._isTextarea="textarea"===me,this._isInFormField=!!W,this._isNativeSelect&&(this.controlType=ce.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Gi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(zn.required)??!1}set required(t){this._required=Gi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&NE().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Gi(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){J4.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(hi),s.Y36(Uo,10),s.Y36(Bg,8),s.Y36(yo,8),s.Y36(n0),s.Y36(X4,10),s.Y36(Q4),s.Y36(s.R0b),s.Y36(vB,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&s.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(s.Ikx("disabled",r.disabled)("required",r.required),s.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),s.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:BP,useExisting:n}]),s.qOj,s.TTD]}),n})(),HP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[n0],imports:[[wB,c_,fr],wB,c_]}),n})();const n5=function(n){return{"cancel-button":n}},r5=["*"];let u_=(()=>{class n{constructor(){this.width=277,this.height=44,this.disabled=!1,this.buttonType=""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-custom-button"]],inputs:{width:"width",height:"height",disabled:"disabled",buttonType:"buttonType"},ngContentSelectors:r5,decls:2,vars:10,consts:[[1,"custom-button",3,"ngClass","disabled"]],template:function(t,r){1&t&&(s.F$t(),s.TgZ(0,"button",0),s.Hsn(1),s.qZA()),2&t&&(s.Udp("width",r.width,"px")("height",r.height,"px"),s.ekj("disabled",r.disabled),s.Q6J("ngClass",s.VKq(8,n5,"cancel-button"===r.buttonType))("disabled",r.disabled))},dependencies:[mn],styles:[".custom-button[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Inter,Raleway,sans-serif;font-size:18px;background:#ecf3fc;border:1px solid #4388dd;box-shadow:0 4px 180px #00000040;border-radius:6px;cursor:pointer;transition:all .3s ease}.custom-button[_ngcontent-%COMP%]:hover{background:#4388dd;border-color:#4388dd;color:#fff;box-shadow:0 6px 180px #00000059;transform:translateY(-2px)}.custom-button[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 4px 180px #00000040}.custom-button.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.custom-button.cancel-button[_ngcontent-%COMP%]{background:#f44336;border:1px solid #f44336;color:#fff}.custom-button.cancel-button[_ngcontent-%COMP%]:hover{background:#d32f2f;border:1px solid #d32f2f;color:#fff;box-shadow:0 6px 180px #00000059;transform:translateY(-2px)}@media (max-width: 767px){.custom-button[_ngcontent-%COMP%]{font-size:16px}}"]}),n})();const s5=["inputElem"];function o5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"mat-form-field",14)(1,"input",15,16),s.NdJ("input",function(i){const h=s.CHM(t).index,m=s.oxw();return s.KtG(m.onInput(i,h))})("keyup",function(i){const h=s.CHM(t).index,m=s.oxw();return s.KtG(m.onKeyUp(i,h))}),s.qZA()()}if(2&n){const t=e.index;s.xp6(1),s.MGl("formControlName","roadmapCode",t,"")}}function a5(n,e){1&n&&(s.TgZ(0,"div",17),s._uU(1," Only digits are accepted. "),s.qZA())}let l5=(()=>{class n{constructor(t,r,i,a){this.formBuilder=t,this.dialogRef=r,this.boardService=i,this.router=a,this.controlsArray=[],this.invalidInput=!1,this.subscriptions=new Qr.w0}ngOnInit(){this.roadmapCodeForm=this.formBuilder.group({boardName:["",zn.required],roadmapCode0:["",[zn.required,zn.pattern("\\d")]],roadmapCode1:["",[zn.required,zn.pattern("\\d")]],roadmapCode2:["",[zn.required,zn.pattern("\\d")]],roadmapCode3:["",[zn.required,zn.pattern("\\d")]],roadmapCode4:["",[zn.required,zn.pattern("\\d")]],roadmapCode5:["",[zn.required,zn.pattern("\\d")]]}),this.controlsArray=Object.values(this.roadmapCodeForm.controls).filter(t=>t!==this.roadmapCodeForm.controls.boardName)}ngOnDestroy(){this.subscriptions.unsubscribe()}onInput(t,r){const i=t.target,a=i.value;a.length>1&&(i.value=a.slice(0,1)),/\d/.test(a)?(this.invalidInput=!1,r<this.controlsArray.length-1&&this.controlsArray[r+1].enable()):""===a?this.invalidInput=!1:(i.value="",this.invalidInput=!0)}onKeyUp(t,r){if(1!==t.key.length||isNaN(Number(t.key))){if("Backspace"===t.key||"Delete"===t.key){this.invalidInput=!1;const i=r-1;i>=0&&this.inputElements.toArray()[i].nativeElement.focus()}}else{const i=r+1;i<this.inputElements.length&&setTimeout(()=>{this.inputElements.toArray()[i].nativeElement.focus()},50)}}onSubmit(){if(this.roadmapCodeForm.valid){const t=this.roadmapCodeForm.controls.boardName.value,r=this.controlsArray.map(a=>a.value).join(""),i=(0,EE.sha256)(r);this.boardService.createNewBoard(t,i).then(a=>{this.dialogRef.close(a)}).catch(a=>{console.error("Error creating new board:",a)})}}onCancel(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Jp),s.Y36(Tl),s.Y36(hB),s.Y36(Ln))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-roadmap-popup"]],viewQuery:function(t,r){if(1&t&&s.Gf(s5,5),2&t){let i;s.iGM(i=s.CRH())&&(r.inputElements=i)}},decls:21,vars:4,consts:[[1,"popup-container"],[1,"setup-title"],[1,"content-container"],[1,"title"],[1,"description"],[1,"pin-code-form",3,"formGroup"],[1,"board-name-input"],["matInput","","formControlName","boardName","required",""],[1,"pin-inputs"],["class","pin-input",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],[1,"popup-actions"],[3,"disabled","click"],["buttonType","cancel-button",3,"click"],[1,"pin-input"],["matInput","","type","password","maxlength","1","pattern","\\d","required","",3,"formControlName","input","keyup"],["inputElem",""],[1,"error-message"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2,"Setup a Pin Code"),s.qZA(),s.TgZ(3,"div",2)(4,"h2",3),s._uU(5,"To obtain editor rights"),s.qZA(),s.TgZ(6,"p",4),s._uU(7,"Please enter the 6 digit code pin that will ensure your admin rights:"),s.qZA(),s.TgZ(8,"form",5)(9,"mat-form-field",6)(10,"mat-label"),s._uU(11,"Board Name"),s.qZA(),s._UZ(12,"input",7),s.qZA(),s.TgZ(13,"div",8),s.YNc(14,o5,3,1,"mat-form-field",9),s.qZA()(),s.YNc(15,a5,2,0,"div",10),s.qZA(),s.TgZ(16,"div",11)(17,"app-custom-button",12),s.NdJ("click",function(){return r.onSubmit()}),s._uU(18,"Validate"),s.qZA(),s.TgZ(19,"app-custom-button",13),s.NdJ("click",function(){return r.onCancel()}),s._uU(20,"Cancel"),s.qZA()()()),2&t&&(s.xp6(8),s.Q6J("formGroup",r.roadmapCodeForm),s.xp6(6),s.Q6J("ngForOf",r.controlsArray),s.xp6(1),s.Q6J("ngIf",r.invalidInput),s.xp6(2),s.Q6J("disabled",!r.roadmapCodeForm.valid))},dependencies:[gn,Bn,kd,Zu,Rp,Rg,Jr,ka,Rc,yo,Rd,BI,zb,jb,u_],styles:[".popup-container[_ngcontent-%COMP%]{box-sizing:border-box;background:#323232;border:1px solid #323232;box-shadow:0 4px 20px #0009;border-radius:5px;padding:20px;height:100%;width:100%}.setup-title[_ngcontent-%COMP%]{width:100%;height:50px;font-size:clamp(16px,1.5vw,18px);line-height:24px;color:#fff}.content-container[_ngcontent-%COMP%]{background:#e8f0fb;border-radius:5px;padding:20px;position:relative}.title[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:700;font-size:20px;line-height:150%;color:#000;margin-bottom:20px}.description[_ngcontent-%COMP%]{width:250px;height:39px;font-family:Roboto;font-style:normal;font-weight:400;font-size:clamp(14px,1.2vw,16px);line-height:19px;color:#000}.board-name-input[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.pin-inputs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.pin-input[_ngcontent-%COMP%]{width:42px}.pin-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:55px;margin:3px;padding:0;background:#ecf3fc;border:1px solid #000000;border-radius:10px;display:flex;justify-content:center;align-items:center}@media (max-width: 480px){.popup-container[_ngcontent-%COMP%]{padding:10px}.setup-title[_ngcontent-%COMP%]{font-size:14px;height:40px}.title[_ngcontent-%COMP%]{font-size:clamp(16px,1.5vw,18px);margin-bottom:10px}.description[_ngcontent-%COMP%]{width:100%;font-size:14px;line-height:17px}.pin-input[_ngcontent-%COMP%]{width:35px}.pin-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:40px}input[type=password][_ngcontent-%COMP%]{font-size:46px}input[type=password][_ngcontent-%COMP%]::-webkit-text-security{font-size:50px}}input[type=password][_ngcontent-%COMP%]{text-align:center;font-size:62px}input[type=password][_ngcontent-%COMP%]::-webkit-text-security{font-size:66px}.popup-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;padding:20px}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;text-align:center;margin-top:8px}"]}),n})();function c5(n,e){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const t=s.oxw(),r=s.MAs(1);s.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),s.uIk("r",t._getCircleRadius())}}function u5(n,e){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const t=s.oxw(),r=s.MAs(1);s.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),s.uIk("r",t._getCircleRadius())}}const d5=lm(class{constructor(n){this._elementRef=n}},"primary"),f5=new s.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function p5(){return{diameter:100}}});class xh extends d5{constructor(e,t,r,i,a,h,m,E){super(e),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=Qr.w0.EMPTY,this.mode="determinate";const D=xh._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),D.has(r.head)||D.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!a&&!a._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),a&&(a.diameter&&(this.diameter=a.diameter),a.strokeWidth&&(this.strokeWidth=a.strokeWidth)),t.isBrowser&&t.SAFARI&&m&&h&&E&&(this._resizeSubscription=m.change(150).subscribe(()=>{"indeterminate"===this.mode&&E.run(()=>h.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=Oc(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=Oc(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Oc(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=Hd(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){const t=50*(e.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=xh._diameters;let i=r.get(e);if(!i||!i.has(t)){const a=this._document.createElement("style");a.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),a.textContent=this._getAnimationText(),e.appendChild(a),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}xh._diameters=new WeakMap,xh.\u0275fac=function(e){return new(e||xh)(s.Y36(s.SBq),s.Y36(hi),s.Y36(O,8),s.Y36(s.QbO,8),s.Y36(f5),s.Y36(s.sBO),s.Y36(sh),s.Y36(s.R0b))},xh.\u0275cmp=s.Xpm({type:xh,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(s.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),s.Udp("width",t.diameter,"px")("height",t.diameter,"px"),s.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[s.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(s.O4$(),s.TgZ(0,"svg",0,1),s.YNc(2,c5,1,11,"circle",2),s.YNc(3,u5,1,9,"circle",3),s.qZA()),2&e&&(s.Udp("width",t.diameter,"px")("height",t.diameter,"px"),s.Q6J("ngSwitch","indeterminate"===t.mode),s.uIk("viewBox",t._getViewBox()),s.xp6(2),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1))},dependencies:[oo,ra],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let EB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[fr,_i],fr]}),n})(),zP=(()=>{class n{constructor(){this.diameter=50,this.strokeWidth=5}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-circle-loader"]],inputs:{diameter:"diameter",strokeWidth:"strokeWidth"},decls:2,vars:2,consts:[[1,"loader-container"],["mode","indeterminate","color","accent",1,"circle-loader",3,"diameter","strokeWidth"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"mat-progress-spinner",1),s.qZA()),2&t&&(s.xp6(1),s.Q6J("diameter",r.diameter)("strokeWidth",r.strokeWidth))},dependencies:[xh],styles:[".loader-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.circle-loader[_ngcontent-%COMP%]{transform-origin:center;animation:rotation 2s linear infinite}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();const g5=["lottieContainer"];function y5(n,e){1&n&&s._UZ(0,"app-circle-loader",3)}function _5(n,e){1&n&&s._UZ(0,"div",4,5)}function v5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",6)(1,"div",7),s._uU(2," Welcome to ROR, the easiest roadmap builder to really"),s._UZ(3,"br"),s._uU(4," Get Sh!t Done "),s.qZA(),s.TgZ(5,"app-custom-button",8),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.openPopup())}),s._uU(6,"Create a roadmap"),s.qZA()()}2&n&&(s.xp6(5),s.Q6J("width",277)("height",44))}let b5=(()=>{class n{constructor(t,r){this.dialog=t,this.router=r,this.loading=!1,this.creatingBoard=!1}openPopup(){this.dialog.open(l5,{width:"390px",height:"542px",panelClass:"custom-popup"}).afterClosed().subscribe(r=>{this.creatingBoard=!0,r&&setTimeout(()=>{this.startAnimation(r)},0)})}startAnimation(t){if(this.lottieContainer)try{this.animation=UD().loadAnimation({container:this.lottieContainer.nativeElement,path:"assets/animations/animation-building-page.json",renderer:"svg",loop:!0,autoplay:!0}),this.animation.addEventListener("DOMLoaded",()=>{setTimeout(()=>{this.router.navigate(["/board",t])},5e3)})}catch(r){console.error("Error loading the animation: ",r)}}ngOnDestroy(){this.animation&&this.animation.destroy()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(xl),s.Y36(Ln))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-landing"]],viewQuery:function(t,r){if(1&t&&s.Gf(g5,5),2&t){let i;s.iGM(i=s.CRH())&&(r.lottieContainer=i.first)}},decls:3,vars:3,consts:[["class","loading",4,"ngIf"],["class","animation-build",4,"ngIf"],["class","landing-page",4,"ngIf"],[1,"loading"],[1,"animation-build"],["lottieContainer",""],[1,"landing-page"],[1,"landing-page__welcome"],[1,"landing-page__button",3,"width","height","click"]],template:function(t,r){1&t&&(s.YNc(0,y5,1,0,"app-circle-loader",0),s.YNc(1,_5,2,0,"div",1),s.YNc(2,v5,7,2,"div",2)),2&t&&(s.Q6J("ngIf",r.loading),s.xp6(1),s.Q6J("ngIf",r.creatingBoard),s.xp6(1),s.Q6J("ngIf",!r.creatingBoard&&!r.loading))},dependencies:[Bn,zP,u_],styles:[".landing-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;min-height:100%}.landing-page__welcome[_ngcontent-%COMP%]{max-width:730px;font-family:Inter,sans-serif;font-style:normal;font-weight:600;font-size:40px;line-height:44px;color:#373f41}.landing-page__button[_ngcontent-%COMP%]{margin-top:4.18rem}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.animation-build[_ngcontent-%COMP%]{width:100%;height:100%}.popup[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:#323232;border:1px solid #323232;box-shadow:0 4px 20px #0009;border-radius:5px}@media screen and (max-width: 767px){.landing-page__welcome[_ngcontent-%COMP%]{font-size:28px;line-height:32px}.landing-page__button[_ngcontent-%COMP%]{margin-top:2rem}}@media screen and (max-width: 480px){.landing-page__welcome[_ngcontent-%COMP%]{font-size:24px;line-height:28px}.popup[_ngcontent-%COMP%]{width:90%;height:auto}}"]}),n})();function Gb(n,e){localStorage.setItem(`lastViewedMonthIndex_${n}`,e.toString())}const E5=["mat-button",""],C5=["*"],I5=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],D5=lm(LO(Gx(class{constructor(n){this._elementRef=n}})));let _f=(()=>{class n extends D5{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of I5)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(dy),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&s.Gf(Jx,5),2&t){let i;s.iGM(i=s.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(s.uIk("disabled",r.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:E5,ngContentSelectors:C5,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&t&&(s.xp6(2),s.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),s.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[Jx],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),h_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[eA,fr],fr]}),n})();class T5{}class vf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(h):this.headers.set(a,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof vf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new vf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof vf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let h=this.headers.get(t);if(!h)return;h=h.filter(m=>-1===a.indexOf(m)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class x5{encodeKey(e){return CB(e)}encodeValue(e){return CB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const M5=/%(\d[a-f0-9])/gi,P5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function CB(n){return encodeURIComponent(n).replace(M5,(e,t)=>P5[t]??e)}function HI(n){return`${n}`}class bf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new x5,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function A5(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[h,m]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],E=t.get(h)||[];E.push(m),t.set(h,E)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(HI):[HI(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new bf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(HI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(HI(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class k5{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function SB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function IB(n){return typeof Blob<"u"&&n instanceof Blob}function DB(n){return typeof FormData<"u"&&n instanceof FormData}class $b{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function R5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new vf),this.context||(this.context=new k5),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+h}}else this.params=new bf,this.urlWithParams=t}serializeBody(){return null===this.body?null:SB(this.body)||IB(this.body)||DB(this.body)||function O5(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof bf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||DB(this.body)?null:IB(this.body)?this.body.type||null:SB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,D=e.params||this.params;const F=e.context??this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((W,ce)=>W.set(ce,e.setHeaders[ce]),E)),e.setParams&&(D=Object.keys(e.setParams).reduce((W,ce)=>W.set(ce,e.setParams[ce]),D)),new $b(t,r,a,{params:D,headers:E,context:F,reportProgress:m,responseType:i,withCredentials:h})}}var bs=(()=>((bs=bs||{})[bs.Sent=0]="Sent",bs[bs.UploadProgress=1]="UploadProgress",bs[bs.ResponseHeader=2]="ResponseHeader",bs[bs.DownloadProgress=3]="DownloadProgress",bs[bs.Response=4]="Response",bs[bs.User=5]="User",bs))();class jP extends class F5{constructor(e,t=200,r="OK"){this.headers=e.headers||new vf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=bs.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new jP({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function GP(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let xB=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof $b)a=t;else{let E,D;E=i.headers instanceof vf?i.headers:new vf(i.headers),i.params&&(D=i.params instanceof bf?i.params:new bf({fromObject:i.params})),a=new $b(t,r,void 0!==i.body?i.body:null,{headers:E,context:i.context,params:D,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const h=vt(a).pipe(ji(E=>this.handler.handle(E)));if(t instanceof $b||"events"===i.observe)return h;const m=h.pipe(ar(E=>E instanceof jP));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return m.pipe((0,St.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return m.pipe((0,St.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return m.pipe((0,St.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));default:return m.pipe((0,St.U)(E=>E.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new bf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,GP(i,r))}post(t,r,i={}){return this.request("POST",t,GP(i,r))}put(t,r,i={}){return this.request("PUT",t,GP(i,r))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(T5))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const L5=["*"];let UI;function qb(n){return function V5(){if(void 0===UI&&(UI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(UI=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return UI}()?.createHTML(n)||n}function AB(n){return Error(`Unable to find icon with the name "${n}"`)}function MB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function PB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class zm{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let zI=(()=>{class n{constructor(t,r,i,a){this._httpClient=t,this._sanitizer=r,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,a){return this._addSvgIconConfig(t,r,new zm(i,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,a){const h=this._sanitizer.sanitize(s.q3G.HTML,i);if(!h)throw PB(i);const m=qb(h);return this._addSvgIconConfig(t,r,new zm("",m,a))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new zm(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const a=this._sanitizer.sanitize(s.q3G.HTML,r);if(!a)throw PB(r);const h=qb(a);return this._addSvgIconSetConfig(t,new zm("",h,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,t);if(!r)throw MB(t);const i=this._cachedIconsByUrl.get(r);return i?vt(jI(i)):this._loadSvgIconFromConfig(new zm(t,null)).pipe((0,er.b)(a=>this._cachedIconsByUrl.set(r,a)),(0,St.U)(a=>jI(a)))}getNamedSvgIcon(t,r=""){const i=kB(r,t);let a=this._svgIconConfigs.get(i);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(r,t),a)return this._svgIconConfigs.set(i,a),this._getSvgFromConfig(a);const h=this._iconSetConfigs.get(r);return h?this._getSvgFromIconSetConfigs(t,h):ki(AB(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?vt(jI(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,St.U)(r=>jI(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?vt(i):Bw(r.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(as(m=>{const D=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,h.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(D)),vt(null)})))).pipe((0,St.U)(()=>{const h=this._extractIconWithNameFromAnySet(t,r);if(!h)throw AB(t);return h}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const a=r[i];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const h=this._svgElementFromConfig(a),m=this._extractSvgIconFromSet(h,t,a.options);if(m)return m}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,er.b)(r=>t.svgText=r),(0,St.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?vt(null):this._fetchIcon(t).pipe((0,er.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const a=t.querySelector(`[id="${r}"]`);if(!a)return null;const h=a.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,i);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),i);const m=this._svgElementFromString(qb("<svg></svg>"));return m.appendChild(h),this._setSvgAttributes(m,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(qb("<svg></svg>")),i=t.attributes;for(let a=0;a<i.length;a++){const{name:h,value:m}=i[a];"id"!==h&&r.setAttribute(h,m)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[a].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,a=i?.withCredentials??!1;if(!this._httpClient)throw function B5(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,r);if(!h)throw MB(r);const m=this._inProgressUrlFetches.get(h);if(m)return m;const E=this._httpClient.get(h,{responseType:"text",withCredentials:a}).pipe((0,St.U)(D=>qb(D)),gc(()=>this._inProgressUrlFetches.delete(h)),(0,SV.B)());return this._inProgressUrlFetches.set(h,E),E}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(kB(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const a=this._resolvers[i](r,t);if(a)return U5(a)?new zm(a.url,null,a.options):new zm(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(xB,8),s.LFG(Fo),s.LFG(O,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jI(n){return n.cloneNode(!0)}function kB(n,e){return n+":"+e}function U5(n){return!(!n.url||!n.options)}const z5=lm(class{constructor(n){this._elementRef=n}}),j5=new s.OlP("mat-icon-location",{providedIn:"root",factory:function G5(){const n=(0,s.f3M)(O),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),RB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$5=RB.map(n=>`[${n}]`).join(", "),q5=/^url\(['"]?#(.*?)['"]?\)$/;let d_=(()=>{class n extends z5{constructor(t,r,i,a,h){super(t),this._iconRegistry=r,this._location=a,this._errorHandler=h,this._inline=!1,this._currentIconFetch=Qr.w0.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Gi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,a)=>{i.forEach(h=>{a.setAttribute(h.name,`url('${t}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll($5),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<r.length;a++)RB.forEach(h=>{const m=r[a],E=m.getAttribute(h),D=E?E.match(q5):null;if(D){let F=i.get(m);F||(F=[],i.set(m,F)),F.push({name:h,value:D[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Nr(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(zI),s.$8M("aria-hidden"),s.Y36(j5),s.Y36(s.qLn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(s.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),s.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:L5,decls:1,vars:0,template:function(t,r){1&t&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Wb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[fr],fr]}),n})();function $P(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];i?n.setProperty(r,i,t?.has(r)?"important":""):n.removeProperty(r)}return n}function f_(n,e){const t=e?"":"none";$P(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function OB(n,e,t){$P(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function GI(n,e){return e&&"none"!=e?n+" "+e:n}function FB(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function qP(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}function WP(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function ZP(n,e,t){const{top:r,bottom:i,left:a,right:h}=n;return t>=r&&t<=i&&e>=a&&e<=h}function Zb(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function NB(n,e,t,r){const{top:i,right:a,bottom:h,left:m,width:E,height:D}=n,F=E*e,W=D*e;return r>i-W&&r<h+W&&t>m-F&&t<a+F}class LB{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:WP(t)})})}handleScroll(e){const t=ei(e),r=this.positions.get(t);if(!r)return null;const i=r.scrollPosition;let a,h;if(t===this._document){const D=this.getViewportScrollPosition();a=D.top,h=D.left}else a=t.scrollTop,h=t.scrollLeft;const m=i.top-a,E=i.left-h;return this.positions.forEach((D,F)=>{D.clientRect&&t!==F&&t.contains(F)&&Zb(D.clientRect,m,E)}),i.top=a,i.left=h,{top:m,left:E}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function VB(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return"canvas"===r?UB(n,e):("input"===r||"select"===r||"textarea"===r)&&HB(n,e),BB("canvas",n,e,UB),BB("input, textarea, select",n,e,HB),e}function BB(n,e,t,r){const i=e.querySelectorAll(n);if(i.length){const a=t.querySelectorAll(n);for(let h=0;h<i.length;h++)r(i[h],a[h])}}let K5=0;function HB(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${K5++}`)}function UB(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}const zB=eo({passive:!0}),$I=eo({passive:!1}),KP=new Set(["position"]);class Q5{constructor(e,t,r,i,a,h){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=a,this._dragDropRegistry=h,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new bt.x,this._pointerMoveSubscription=Qr.w0.EMPTY,this._pointerUpSubscription=Qr.w0.EMPTY,this._scrollSubscription=Qr.w0.EMPTY,this._resizeSubscription=Qr.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new bt.x,this.started=new bt.x,this.released=new bt.x,this.ended=new bt.x,this.entered=new bt.x,this.exited=new bt.x,this.dropped=new bt.x,this.moved=this._moveEvents,this._pointerDown=m=>{if(this.beforeStarted.next(),this._handles.length){const E=this._getTargetHandle(m);E&&!this._disabledHandles.has(E)&&!this.disabled&&this._initializeDragSequence(E,m)}else this.disabled||this._initializeDragSequence(this._rootElement,m)},this._pointerMove=m=>{const E=this._getPointerPositionOnPage(m);if(!this._hasStartedDragging){if(Math.abs(E.x-this._pickupPositionOnPage.x)+Math.abs(E.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const me=Date.now()>=this._dragStartTime+this._getDragStartDelay(m),Ce=this._dropContainer;if(!me)return void this._endDragSequence(m);(!Ce||!Ce.isDragging()&&!Ce.isReceiving())&&(m.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(m)))}return}m.preventDefault();const D=this._getConstrainedPointerPosition(E);if(this._hasMoved=!0,this._lastKnownPointerPosition=E,this._updatePointerDirectionDelta(D),this._dropContainer)this._updateActiveDropContainer(D,E);else{const F=this._activeTransform;F.x=D.x-this._pickupPositionOnPage.x+this._passiveTransform.x,F.y=D.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(F.x,F.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:D,event:m,distance:this._getDragDistance(D),delta:this._pointerDirectionDelta})})},this._pointerUp=m=>{this._endDragSequence(m)},this._nativeDragStart=m=>{if(this._handles.length){const E=this._getTargetHandle(m);E&&!this._disabledHandles.has(E)&&!this.disabled&&m.preventDefault()}else this.disabled||m.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new LB(r),h.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=Gi(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>f_(r,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>Ar(r)),this._handles.forEach(r=>f_(r,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=Ar(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,$I),t.addEventListener("touchstart",this._pointerDown,zB),t.addEventListener("dragstart",this._nativeDragStart,$I)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Ar(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),f_(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),f_(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Kb(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const r=this._rootElement,i=r.parentNode,a=this._placeholder=this._createPlaceholderElement(),h=this._anchor=this._anchor||this._document.createComment(""),m=this._getShadowRoot();i.insertBefore(h,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),OB(r,!1,KP),this._document.body.appendChild(i.replaceChild(a,r)),this._getPreviewInsertionPoint(i,m).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const r=this.isDragging(),i=Kb(t),a=!i&&0!==t.button,h=this._rootElement,m=ei(t),E=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),D=i?Zv(t):Wv(t);if(m&&m.draggable&&"mousedown"===t.type&&t.preventDefault(),r||a||E||D)return;if(this._handles.length){const ce=h.style;this._rootElementTapHighlight=ce.webkitTapHighlightColor||"",ce.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ce=>this._updateOnScroll(ce)),this._boundaryElement&&(this._boundaryRect=WP(this._boundaryElement));const F=this._previewTemplate;this._pickupPositionInElement=F&&F.template&&!F.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const W=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:W.x,y:W.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){OB(this._rootElement,!0,KP),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),a=this._getDragDistance(i),h=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:a,dropPoint:i}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:h,distance:a,dropPoint:i}),t.drop(this,r,this._initialIndex,this._initialContainer,h,a,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let a=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,e,t,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,r=e?e.template:null;let i;if(r&&e){const a=e.matchSize?this._rootElement.getBoundingClientRect():null,h=e.viewContainer.createEmbeddedView(r,e.context);h.detectChanges(),i=GB(h,this._document),this._previewRef=h,e.matchSize?$B(i,a):i.style.transform=qI(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const a=this._rootElement;i=VB(a),$B(i,a.getBoundingClientRect()),this._initialTransform&&(i.style.transform=this._initialTransform)}return $P(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},KP),f_(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(a=>i.classList.add(a)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function Z5(n){const e=getComputedStyle(n),t=qP(e,"transition-property"),r=t.find(m=>"transform"===m||"all"===m);if(!r)return 0;const i=t.indexOf(r),a=qP(e,"transition-duration"),h=qP(e,"transition-delay");return FB(a[i])+FB(h[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=h=>{(!h||ei(h)===this._preview&&"transform"===h.propertyName)&&(this._preview?.removeEventListener("transitionend",i),r(),clearTimeout(a))},a=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=GB(this._placeholderRef,this._document)):r=VB(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t){const r=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,a=i?i.getBoundingClientRect():r,h=Kb(t)?t.targetTouches[0]:t,m=this._getViewportScrollPosition();return{x:a.left-r.left+(h.pageX-a.left-m.left),y:a.top-r.top+(h.pageY-a.top-m.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),r=Kb(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,a=r.pageY-t.top;if(this._ownerSVGElement){const h=this._ownerSVGElement.getScreenCTM();if(h){const m=this._ownerSVGElement.createSVGPoint();return m.x=i,m.y=a,m.matrixTransform(h.inverse())}}return{x:i,y:a}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:a,y:h}=this._pickupPositionInElement,m=this._boundaryRect,{width:E,height:D}=this._getPreviewRect(),F=m.top+h,W=m.bottom-(D-h);r=jB(r,m.left+a,m.right-(E-a)),i=jB(i,F,W)}return{x:r,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:r}=e,i=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,h=Math.abs(t-a.x),m=Math.abs(r-a.y);return h>this._config.pointerDirectionChangeThreshold&&(i.x=t>a.x?1:-1,a.x=t),m>this._config.pointerDirectionChangeThreshold&&(i.y=r>a.y?1:-1,a.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,f_(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,$I),e.removeEventListener("touchstart",this._pointerDown,zB),e.removeEventListener("dragstart",this._nativeDragStart,$I)}_applyRootElementTransform(e,t){const r=qI(e,t),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=GI(r,this._initialTransform)}_applyPreviewTransform(e,t){const r=this._previewTemplate?.template?void 0:this._initialTransform,i=qI(e,t);this._preview.style.transform=GI(i,r)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const a=r.left-i.left,h=i.right-r.right,m=r.top-i.top,E=i.bottom-r.bottom;r.width>i.width?(a>0&&(e+=a),h>0&&(e-=h)):e=0,r.height>i.height?(m>0&&(t+=m),E>0&&(t-=E)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:Kb(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const r=ei(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&Zb(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Hd(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const r=this._previewContainer||"global";if("parent"===r)return e;if("global"===r){const i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Ar(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function qI(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function jB(n,e,t){return Math.max(e,Math.min(t,n))}function Kb(n){return"t"===n.type[0]}function GB(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function $B(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=qI(e.left,e.top)}function qB(n,e,t){const r=Yb(e,n.length-1),i=Yb(t,n.length-1);if(r===i)return;const a=n[r],h=i<r?-1:1;for(let m=r;m!==i;m+=h)n[m]=n[m+h];n[i]=a}function Yb(n,e){return Math.max(0,Math.min(e,n))}class J5{constructor(e,t,r,i,a){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new bt.x,this.entered=new bt.x,this.exited=new bt.x,this.dropped=new bt.x,this.sorted=new bt.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Qr.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new bt.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function W5(n=0,e=Ld.z){return n<0&&(n=0),Iv(n,n,e)}(0,wv).pipe(di(this._stopScrollTimers)).subscribe(()=>{const h=this._scrollNode,m=this.autoScrollStep;1===this._verticalScrollDirection?h.scrollBy(0,-m):2===this._verticalScrollDirection&&h.scrollBy(0,m),1===this._horizontalScrollDirection?h.scrollBy(-m,0):2===this._horizontalScrollDirection&&h.scrollBy(m,0)})},this.element=Ar(e),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new LB(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){let a;this._draggingStarted(),null==i?(a=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===a&&(a=this._getItemIndexFromPointerPosition(e,t,r))):a=i;const h=this._activeDraggables,m=h.indexOf(e),E=e.getPlaceholderElement();let D=h[a];if(D===e&&(D=h[a+1]),!D&&(null==a||-1===a||a<h.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(D=h[0]),m>-1&&h.splice(m,1),D&&!this._dragDropRegistry.isDragging(D)){const F=D.getRootElement();F.parentElement.insertBefore(E,F),h.splice(a,0,e)}else Ar(this.element).appendChild(E),h.push(e);E.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,a,h,m){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:a,distance:h,dropPoint:m})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>-1===e.indexOf(i))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=Ar(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._clientRect||!NB(this._clientRect,.05,t,r))return;const a=this._itemPositions,h=this._getItemIndexFromPointerPosition(e,t,r,i);if(-1===h&&a.length>0)return;const m="horizontal"===this._orientation,E=a.findIndex(Ue=>Ue.drag===e),D=a[h],W=D.clientRect,ce=E>h?1:-1,me=this._getItemOffsetPx(a[E].clientRect,W,ce),Ce=this._getSiblingOffsetPx(E,a,ce),Me=a.slice();qB(a,E,h),this.sorted.next({previousIndex:E,currentIndex:h,container:this,item:e}),a.forEach((Ue,rt)=>{if(Me[rt]===Ue)return;const _t=Ue.drag===e,ht=_t?me:Ce,At=_t?e.getPlaceholderElement():Ue.drag.getRootElement();Ue.offset+=ht,m?(At.style.transform=GI(`translate3d(${Math.round(Ue.offset)}px, 0, 0)`,Ue.initialTransform),Zb(Ue.clientRect,0,ht)):(At.style.transform=GI(`translate3d(0, ${Math.round(Ue.offset)}px, 0)`,Ue.initialTransform),Zb(Ue.clientRect,ht,0))}),this._previousSwap.overlaps=ZP(W,t,r),this._previousSwap.drag=D.drag,this._previousSwap.delta=m?i.x:i.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=0,a=0;if(this._parentPositions.positions.forEach((h,m)=>{m===this._document||!h.clientRect||r||NB(h.clientRect,.05,e,t)&&([i,a]=function e$(n,e,t,r){const i=KB(e,r),a=YB(e,t);let h=0,m=0;if(i){const E=n.scrollTop;1===i?E>0&&(h=1):n.scrollHeight-E>n.clientHeight&&(h=2)}if(a){const E=n.scrollLeft;1===a?E>0&&(m=1):n.scrollWidth-E>n.clientWidth&&(m=2)}return[h,m]}(m,h.clientRect,e,t),(i||a)&&(r=m))}),!i&&!a){const{width:h,height:m}=this._viewportRuler.getViewportSize(),E={width:h,height:m,top:0,right:h,bottom:m,left:0};i=KB(E,t),a=YB(E,e),r=window}r&&(i!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=a,this._scrollNode=r,(i||a)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=Ar(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=Ar(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:WP(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const e=Ar(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const r=t.getRootElement();if(r){const i=this._itemPositions.find(a=>a.drag===t)?.initialTransform;r.style.transform=i||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,r){const i="horizontal"===this._orientation,a=t[e].clientRect,h=t[e+-1*r];let m=a[i?"width":"height"]*r;if(h){const E=i?"left":"top",D=i?"right":"bottom";-1===r?m-=h.clientRect[E]-a[D]:m+=a[E]-h.clientRect[D]}return m}_getItemOffsetPx(e,t,r){const i="horizontal"===this._orientation;let a=i?t.left-e.left:t.top-e.top;return-1===r&&(a+=i?t.width-e.width:t.height-e.height),a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const h=r[r.length-1].clientRect;return i?e>=h.right:t>=h.bottom}{const h=r[0].clientRect;return i?e<=h.left:t<=h.top}}_getItemIndexFromPointerPosition(e,t,r,i){const a="horizontal"===this._orientation,h=this._itemPositions.findIndex(({drag:m,clientRect:E})=>{if(m===e)return!1;if(i){const D=a?i.x:i.y;if(m===this._previousSwap.drag&&this._previousSwap.overlaps&&D===this._previousSwap.delta)return!1}return a?t>=Math.floor(E.left)&&t<Math.floor(E.right):r>=Math.floor(E.top)&&r<Math.floor(E.bottom)});return-1!==h&&this.sortPredicate(h,e,this)?h:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&ZP(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._clientRect||!ZP(this._clientRect,t,r)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,r);if(!i)return!1;const a=Ar(this.element);return i===a||a.contains(i)}_startReceiving(e,t){const r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:r})=>{Zb(r,t.top,t.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=Hd(Ar(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function KB(n,e){const{top:t,bottom:r,height:i}=n,a=.05*i;return e>=t-a&&e<=t+a?1:e>=r-a&&e<=r+a?2:0}function YB(n,e){const{left:t,right:r,width:i}=n,a=.05*i;return e>=t-a&&e<=t+a?1:e>=r-a&&e<=r+a?2:0}const WI=eo({passive:!1,capture:!0});let t$=(()=>{class n{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new bt.x,this.pointerUp=new bt.x,this.scroll=new bt.x,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,WI)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,WI)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:WI}),i||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:WI}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,h)=>{this._document.addEventListener(h,a.handler,a.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new Fr.y(i=>this._ngZone.runOutsideAngular(()=>{const h=m=>{this._activeDragInstances.length&&i.next(m)};return t.addEventListener("scroll",h,!0),()=>{t.removeEventListener("scroll",h,!0)}}))),(0,im.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.R0b),s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n$={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let YP=(()=>{class n{constructor(t,r,i,a){this._document=t,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=a}createDrag(t,r=n$){return new Q5(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new J5(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O),s.LFG(s.R0b),s.LFG(sh),s.LFG(t$))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QB=new s.OlP("CDK_DRAG_PARENT"),QP=new s.OlP("CdkDropListGroup");let r$=(()=>{class n{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Gi(t)}ngOnDestroy(){this._items.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[s._Bn([{provide:QP,useExisting:n}])]}),n})();const XB=new s.OlP("CDK_DRAG_CONFIG");let i$=0;const JB=new s.OlP("CdkDropList");let s$=(()=>{class n{constructor(t,r,i,a,h,m,E){this.element=t,this._changeDetectorRef=i,this._scrollDispatcher=a,this._dir=h,this._group=m,this._destroyed=new bt.x,this.connectedTo=[],this.id="cdk-drop-list-"+i$++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.sorted=new s.vpe,this._unsortedItems=new Set,this._dropListRef=r.createDropList(t),this._dropListRef.data=this,E&&this._assignDefaults(E),this._dropListRef.enterPredicate=(D,F)=>this.enterPredicate(D.data,F.data),this._dropListRef.sortPredicate=(D,F,W)=>this.sortPredicate(D,F.data,W.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),m&&m._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Gi(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,r)=>t._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(bi(this._dir.value),di(this._destroyed)).subscribe(r=>t.withDirection(r)),t.beforeStarted.subscribe(()=>{const r=th(this.connectedTo).map(i=>"string"==typeof i?n._dropLists.find(h=>h.id===i):i);if(this._group&&this._group._items.forEach(i=>{-1===r.indexOf(i)&&r.push(i)}),!this._scrollableParentsResolved){const i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(a=>a.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=Gi(this.sortingDisabled),t.autoScrollDisabled=Gi(this.autoScrollDisabled),t.autoScrollStep=Oc(this.autoScrollStep,2),t.connectedTo(r.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:r,draggingDisabled:i,sortingDisabled:a,listAutoScrollDisabled:h,listOrientation:m}=t;this.disabled=i??!1,this.sortingDisabled=a??!1,this.autoScrollDisabled=h??!1,this.orientation=m||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return n._dropLists=[],n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(YP),s.Y36(s.sBO),s.Y36(xv),s.Y36(Fc,8),s.Y36(QP,12),s.Y36(XB,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,r){2&t&&(s.uIk("id",r.id),s.ekj("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[s._Bn([{provide:QP,useValue:void 0},{provide:JB,useExisting:n}])]}),n})();const eH=new s.OlP("CdkDragHandle"),o$=new s.OlP("CdkDragPlaceholder"),a$=new s.OlP("CdkDragPreview");let c$=(()=>{class n{constructor(t,r,i,a,h,m,E,D,F,W,ce){this.element=t,this.dropContainer=r,this._ngZone=a,this._viewContainerRef=h,this._dir=E,this._changeDetectorRef=F,this._selfHandle=W,this._parentDrag=ce,this._destroyed=new bt.x,this.started=new s.vpe,this.released=new s.vpe,this.ended=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.dropped=new s.vpe,this.moved=new Fr.y(me=>{const Ce=this._dragRef.moved.pipe((0,St.U)(Me=>({source:this,pointerPosition:Me.pointerPosition,event:Me.event,delta:Me.delta,distance:Me.distance}))).subscribe(me);return()=>{Ce.unsubscribe()}}),this._dragRef=D.createDrag(t,{dragStartThreshold:m&&null!=m.dragStartThreshold?m.dragStartThreshold:5,pointerDirectionChangeThreshold:m&&null!=m.pointerDirectionChangeThreshold?m.pointerDirectionChangeThreshold:5,zIndex:m?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),m&&this._assignDefaults(m),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Gi(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Nr(1),di(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let r=t;this.rootElementSelector&&(r=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):Ar(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const r=this._dir,i=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,h=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:Oc(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(h).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(Nr(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){t.withParent(n._dragInstances.find(i=>i.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(t){const{lockAxis:r,dragStartDelay:i,constrainPosition:a,previewClass:h,boundaryElement:m,draggingDisabled:E,rootElementSelector:D,previewContainer:F}=t;this.disabled=E??!1,this.dragStartDelay=i||0,r&&(this.lockAxis=r),a&&(this.constrainPosition=a),h&&(this.previewClass=h),m&&(this.boundaryElement=m),D&&(this.rootElementSelector=D),F&&(this.previewContainer=F)}_setupHandlesListener(){this._handles.changes.pipe(bi(this._handles),(0,er.b)(t=>{const r=t.filter(i=>i._parentDrag===this).map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),dr(t=>(0,im.T)(...t.map(r=>r._stateChanges.pipe(bi(r))))),di(this._destroyed)).subscribe(t=>{const r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(JB,12),s.Y36(O),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(XB,8),s.Y36(Fc,8),s.Y36(YP),s.Y36(s.sBO),s.Y36(eH,10),s.Y36(QB,12))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,i){if(1&t&&(s.Suo(i,a$,5),s.Suo(i,o$,5),s.Suo(i,eH,5)),2&t){let a;s.iGM(a=s.CRH())&&(r._previewTemplate=a.first),s.iGM(a=s.CRH())&&(r._placeholderTemplate=a.first),s.iGM(a=s.CRH())&&(r._handles=a)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){2&t&&s.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[s._Bn([{provide:QB,useExisting:n}]),s.TTD]}),n})(),Qb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[YP],imports:[Ud]}),n})();var jm=(()=>(function(n){n.Todo="todo",n.InProgress="in_progress",n.Done="done"}(jm||(jm={})),jm))(),Qo=(()=>(function(n){n.Low="low",n.Medium="medium",n.High="high"}(Qo||(Qo={})),Qo))();const tH=new Set;let p_,u$=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):d$}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function h$(n){if(!tH.has(n))try{p_||(p_=document.createElement("style"),p_.setAttribute("type","text/css"),document.head.appendChild(p_)),p_.sheet&&(p_.sheet.insertRule(`@media ${n} {body{ }}`,0),tH.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(hi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function d$(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let XP=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new bt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return nH(th(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=Ws(nH(th(t)).map(h=>this._registerQuery(h).observable));return a=xs(a.pipe(Nr(1)),a.pipe(fC(1),jd(0))),a.pipe((0,St.U)(h=>{const m={matches:!1,breakpoints:{}};return h.forEach(({matches:E,query:D})=>{m.matches=m.matches||E,m.breakpoints[D]=E}),m}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new Fr.y(h=>{const m=E=>this._zone.run(()=>h.next(E));return r.addListener(m),()=>{r.removeListener(m)}}).pipe(bi(r),(0,St.U)(({matches:h})=>({query:t,matches:h})),di(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(u$),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nH(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function f$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",2)(1,"button",3),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.action())}),s._uU(2),s.qZA()()}if(2&n){const t=s.oxw();s.xp6(2),s.Oqu(t.data.action)}}function p$(n,e){}const iH=new s.OlP("MatSnackBarData");class ZI{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const m$=Math.pow(2,31)-1;class JP{constructor(e,t){this._overlayRef=t,this._afterDismissed=new bt.x,this._afterOpened=new bt.x,this._onAction=new bt.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,m$))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let g$=(()=>{class n{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(JP),s.Y36(iH))},n.\u0275cmp=s.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"span",0),s._uU(1),s.qZA(),s.YNc(2,f$,3,1,"div",1)),2&t&&(s.xp6(1),s.Oqu(r.data.message),s.xp6(1),s.Q6J("ngIf",r.hasAction))},dependencies:[_f,Bn],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const y$={snackBarState:fh("state",[$o("void, hidden",Mr({transform:"scale(0.8)",opacity:0})),$o("visible",Mr({transform:"scale(1)",opacity:1})),qo("* => visible",Oa("150ms cubic-bezier(0, 0, 0.2, 1)")),qo("* => void, * => hidden",Oa("75ms cubic-bezier(0.4, 0.0, 1, 1)",Mr({opacity:0})))])};let _$=(()=>{class n extends Yg{constructor(t,r,i,a,h){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=i,this._platform=a,this.snackBarConfig=h,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new bt.x,this._onExit=new bt.x,this._onEnter=new bt.x,this._animationState="void",this.attachDomPortal=m=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(m)),this._live="assertive"!==h.politeness||h.announcementMessage?"off"===h.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:r,toState:i}=t;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Nr(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>t.classList.add(i)):t.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(hi),s.Y36(ZI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,r){if(1&t&&s.Gf(Qg,7),2&t){let i;s.iGM(i=s.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,r){1&t&&s.WFA("@state.done",function(a){return r.onAnimationEnd(a)}),2&t&&s.d8E("@state",r._animationState)},features:[s.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,p$,0,0,"ng-template",1),s.qZA(),s._UZ(2,"div")),2&t&&(s.xp6(2),s.uIk("aria-live",r._live)("role",r._role))},dependencies:[Qg],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[y$.snackBarState]}}),n})(),sH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[sm,Rv,_i,h_,fr],fr]}),n})();const oH=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function v$(){return new ZI}});let b$=(()=>{class n{constructor(t,r,i,a,h,m){this._overlay=t,this._live=r,this._injector=i,this._breakpointObserver=a,this._parentSnackBar=h,this._defaultConfig=m,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){const a={...this._defaultConfig,...i};return a.data={message:t,action:r},a.announcementMessage===t&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const a=s.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:ZI,useValue:r}]}),h=new zd(this.snackBarContainerComponent,r.viewContainerRef,a),m=t.attach(h);return m.instance.snackBarConfig=r,m.instance}_attach(t,r){const i={...new ZI,...this._defaultConfig,...r},a=this._createOverlay(i),h=this._attachSnackBarContainer(a,i),m=new JP(h,a);if(t instanceof s.Rgc){const E=new kv(t,null,{$implicit:i.data,snackBarRef:m});m.instance=h.attachTemplatePortal(E)}else{const E=this._createInjector(i,m),D=new zd(t,void 0,E),F=h.attachComponentPortal(D);m.instance=F.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(di(a.detachments())).subscribe(E=>{a.overlayElement.classList.toggle(this.handsetCssClass,E.matches)}),i.announcementMessage&&h._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(m,i),this._openedSnackBarRef=m,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new Jg;r.direction=t.direction;let i=this._overlay.position().global();const a="rtl"===t.direction,h="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!a||"end"===t.horizontalPosition&&a,m=!h&&"center"!==t.horizontalPosition;return h?i.left("0"):m?i.right("0"):i.centerHorizontally(),"top"===t.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){return s.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:JP,useValue:r},{provide:iH,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Fn),s.LFG(Kv),s.LFG(s.zs3),s.LFG(XP),s.LFG(n,12),s.LFG(oH))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),w$=(()=>{class n extends b${constructor(t,r,i,a,h,m){super(t,r,i,a,h,m),this.simpleSnackBarComponent=g$,this.snackBarContainerComponent=_$,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Fn),s.LFG(Kv),s.LFG(s.zs3),s.LFG(XP),s.LFG(n,12),s.LFG(oH))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:sH}),n})(),KI=(()=>{class n{constructor(t){this.snackBar=t}showSuccess(t,r=3e3){this.snackBar.open(t,"Close",{duration:r,panelClass:["snackbar-success"]})}showError(t,r=3e3){this.snackBar.open(t,"Close",{duration:r,panelClass:["snackbar-error"]})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(w$))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E$=(()=>{class n{constructor(t,r,i,a,h){this.dialogRef=t,this.data=r,this.fb=i,this.snackbarService=a,this.ticketService=h,this.ticketForm=this.fb.group({title:["",zn.required],description:["",zn.maxLength(280)],priority:[Qo.Low],link:[""]})}ngOnInit(){}getTicketsSafe(){var t=this;return(0,He.Z)(function*(){return(yield t.ticketService.getTicketsPromise(t.data.boardId,t.data.monthId,t.data.sprintId))||[]})()}onSubmit(){var t=this;return(0,He.Z)(function*(){if(t.data.boardId&&t.data.sprintId&&t.data.monthId){if(t.ticketForm.valid){const r=t.ticketForm.value,i={title:r.title,boardId:t.data.boardId,monthId:t.data.monthId,sprintId:t.data.sprintId,description:r.description,status:jm.Todo,priority:r.priority?Qo.High:Qo.Low,createdAt:new Date,updatedAt:new Date,link:r.link,assignee:""},a=yield t.getTicketsSafe(),h=yield t.ticketService.getNewTicketPosition(t.data.boardId,t.data.monthId,t.data.sprintId);for(const[m,E]of a.entries())m>=h&&(console.log("for const",E),E.position=m+1,yield t.ticketService.updateTicket(E.id,E));i.position=h;try{yield t.ticketService.createTicket(t.data.boardId,t.data.monthId,t.data.sprintId,i,h),t.dialogRef.close(),t.snackbarService.showSuccess("Ticket created successfully")}catch(m){console.error(m),t.snackbarService.showError("An error occurred while creating the ticket")}}}else t.snackbarService.showError("Required data is missing")})()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Tl),s.Y36(hm),s.Y36(Jp),s.Y36(KI),s.Y36(Ub))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-ticket-creation-dialog"]],decls:35,vars:5,consts:[[1,"dialog-container"],["mat-dialog-title",""],["mat-icon-button","",1,"close-button",3,"click"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","title","placeholder","Issue title","cdkFocusInitial",""],["matInput","","formControlName","description","placeholder","Add description...","maxlength","280",2,"min-height","149px","resize","none"],["align","end"],[1,"toggle-priority"],[1,"switch"],["type","checkbox","formControlName","priority"],[1,"slider","round"],["matInput","","formControlName","link","placeholder","Paste a link"],["matPrefix",""],[1,"save-button"],["type","submit",3,"width","height","disabled"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"h1",1),s._uU(2,"Create a new ticket"),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return r.dialogRef.close()}),s.TgZ(4,"mat-icon"),s._uU(5,"close"),s.qZA()(),s.TgZ(6,"mat-dialog-content")(7,"form",3),s.NdJ("ngSubmit",function(){return r.onSubmit()}),s.TgZ(8,"mat-form-field",4)(9,"mat-label"),s._uU(10,"Issue title"),s.qZA(),s._UZ(11,"input",5),s.qZA(),s.TgZ(12,"mat-form-field",4)(13,"mat-label"),s._uU(14,"Add description..."),s.qZA(),s._UZ(15,"textarea",6),s.TgZ(16,"mat-hint",7),s._uU(17),s.qZA()(),s.TgZ(18,"div",8)(19,"label",9),s._UZ(20,"input",10)(21,"span",11),s.qZA(),s.TgZ(22,"span"),s._uU(23,"This item is a "),s.TgZ(24,"strong"),s._uU(25,"must have"),s.qZA()()(),s.TgZ(26,"mat-form-field",4)(27,"mat-label"),s._uU(28,"Paste a link"),s.qZA(),s._UZ(29,"input",12),s.TgZ(30,"mat-icon",13),s._uU(31,"link"),s.qZA()(),s.TgZ(32,"div",14)(33,"app-custom-button",15),s._uU(34," Save "),s.qZA()()()()()),2&t&&(s.xp6(7),s.Q6J("formGroup",r.ticketForm),s.xp6(10),s.hij("",r.ticketForm.controls.description.value.length,"/280"),s.xp6(16),s.Q6J("width",277)("height",44)("disabled",!r.ticketForm.valid))},dependencies:[kd,Zu,Dg,Rp,Rg,ka,yo,Rd,_f,d_,Fa,_0,BI,pB,zb,gB,jb,u_],styles:['[_nghost-%COMP%]{font-family:Inter;position:relative;display:flex;flex-direction:column}.dialog-container[_ngcontent-%COMP%]{position:relative}.close-button[_ngcontent-%COMP%]{position:absolute;top:-16px;right:-16px;z-index:10}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;border-radius:50%;transition:background-color .3s ease}mat-form-field[_ngcontent-%COMP%]{width:100%}.toggle-priority[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:16px;margin-bottom:16px;gap:8px}.toggle-priority[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:500;font-size:17.3264px;line-height:25px;color:#323232}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:36px;height:14px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:12px;width:12px;left:1px;bottom:1px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ff4581e6}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.slider.round[_ngcontent-%COMP%]{border-radius:14px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.save-button[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:center}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{font-family:Inter;font-weight:500}.form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.select-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}h1[_ngcontent-%COMP%]{text-align:center}']}),n})();const C$=fh("collapseExpand",[$o("expanded",Mr({height:"*",opacity:1,padding:"*"})),$o("collapsed",Mr({height:"0px",opacity:0,padding:"0px"})),qo("expanded <=> collapsed",[Oa("300ms")])]);let aH=(()=>{class n{constructor(t,r){this.dialogRef=t,this.data=r}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Tl),s.Y36(hm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-confirmation-dialog"]],decls:10,vars:0,consts:[[1,"dialog-container"],["mat-dialog-title","",1,"dialog-title"],[1,"dialog-content"],[1,"dialog-actions"],["mat-raised-button","",1,"yes-button",3,"click"],["mat-raised-button","",1,"no-button",3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"h2",1),s._uU(2,"Delete Confirmation"),s.qZA(),s.TgZ(3,"mat-dialog-content",2),s._uU(4,"Are you sure you want to delete this ticket?"),s.qZA(),s.TgZ(5,"mat-dialog-actions",3)(6,"button",4),s.NdJ("click",function(){return r.dialogRef.close(!0)}),s._uU(7,"Yes"),s.qZA(),s.TgZ(8,"button",5),s.NdJ("click",function(){return r.dialogRef.close(!1)}),s._uU(9,"No"),s.qZA()()())},dependencies:[_f,Fa,_0,XO],styles:['[_nghost-%COMP%]{width:100%;height:100%}.dialog-container[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.dialog-title[_ngcontent-%COMP%]{text-align:center;padding:1em 0;font-size:1.5em;transition:color .3s ease}.dialog-content[_ngcontent-%COMP%]{padding:1em 0;text-align:center;color:#4388dd;transition:color .3s ease}.dialog-actions[_ngcontent-%COMP%]{justify-content:space-around;padding:1em 0}.yes-button[_ngcontent-%COMP%]{background-color:#4388dd;color:#fff;font-weight:700;transition:background-color .3s ease}.yes-button[_ngcontent-%COMP%]:hover{background-color:#3076a6}.no-button[_ngcontent-%COMP%]{background-color:#ff4581;color:#fff;font-weight:700;transition:background-color .3s ease}.no-button[_ngcontent-%COMP%]:hover{background-color:#ff2157}.is-visible[_ngcontent-%COMP%]   .dialog-container[_ngcontent-%COMP%]{transform:translateY(0);transition:transform .3s ease-in-out}']}),n})();function S$(n,e){1&n&&s._UZ(0,"app-circle-loader",3)}function I$(n,e){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Issue title is required "),s.qZA())}function D$(n,e){1&n&&(s.TgZ(0,"span"),s._uU(1,"This item is a "),s.TgZ(2,"strong"),s._uU(3,"must have"),s.qZA()())}function T$(n,e){1&n&&(s.TgZ(0,"span"),s._uU(1,"This item is a "),s.TgZ(2,"strong"),s._uU(3,"must have"),s.qZA()())}function x$(n,e){1&n&&(s.TgZ(0,"mat-error"),s._uU(1," Invalid URL "),s.qZA())}function A$(n,e){if(1&n&&(s.ynx(0),s.TgZ(1,"div",5)(2,"mat-form-field",6),s._UZ(3,"input",20),s.TgZ(4,"mat-icon",21),s._uU(5,"link"),s.qZA(),s.YNc(6,x$,2,0,"mat-error",2),s.qZA()(),s.BQk()),2&n){const t=s.oxw(2);s.xp6(6),s.Q6J("ngIf",t.ticketForm.controls.link.hasError("url")&&t.ticketForm.controls.link.touched)}}function M$(n,e){if(1&n&&(s.TgZ(0,"div",22)(1,"mat-icon",21),s._uU(2,"link"),s.qZA(),s.TgZ(3,"mat-label")(4,"a",23),s._uU(5,"Link to additional information"),s.qZA()()()),2&n){const t=s.oxw(2);s.xp6(4),s.Q6J("href",t.ticketForm.controls.link.value,s.LSH)}}function P$(n,e){if(1&n&&(s.TgZ(0,"app-custom-button",24),s._uU(1," Save "),s.qZA()),2&n){const t=s.oxw(2);s.Q6J("width",277)("height",44)("disabled",t.ticketForm.invalid||t.loading||!t.isEditorMode)}}function k$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2);return s.KtG(i.onDelete())}),s.TgZ(1,"mat-icon"),s._uU(2,"delete"),s.qZA()()}}function R$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"mat-dialog-content")(1,"form",4),s.NdJ("ngSubmit",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.onSubmit())}),s.TgZ(2,"div",5)(3,"mat-form-field",6),s._UZ(4,"input",7),s.YNc(5,I$,2,0,"mat-error",2),s.qZA()(),s.TgZ(6,"div",5)(7,"mat-form-field",6),s._UZ(8,"textarea",8),s.TgZ(9,"mat-hint",9),s._uU(10),s.qZA()()(),s.TgZ(11,"div",5)(12,"div",10)(13,"label",11),s._UZ(14,"input",12)(15,"span",13),s.qZA(),s.YNc(16,D$,4,0,"span",14),s.YNc(17,T$,4,0,"ng-template",null,15,s.W1O),s.qZA()(),s.YNc(19,A$,7,1,"ng-container",14),s.YNc(20,M$,6,1,"ng-template",null,16,s.W1O),s.TgZ(22,"div",17),s.YNc(23,P$,2,3,"app-custom-button",18),s.qZA()(),s.YNc(24,k$,3,0,"button",19),s.qZA()}if(2&n){const t=s.MAs(18),r=s.MAs(21),i=s.oxw();s.xp6(1),s.Q6J("formGroup",i.ticketForm),s.xp6(3),s.Q6J("readonly",!i.isEditorMode),s.xp6(1),s.Q6J("ngIf",i.ticketForm.controls.title.hasError("required")&&i.ticketForm.controls.title.touched),s.xp6(3),s.Q6J("readonly",!i.isEditorMode),s.xp6(2),s.hij("",(null==i.ticketForm.controls.description.value?null:i.ticketForm.controls.description.value.length)||0,"/280"),s.xp6(6),s.Q6J("ngIf",i.ticketForm.controls.priority.value)("ngIfElse",t),s.xp6(3),s.Q6J("ngIf",i.isEditorMode)("ngIfElse",r),s.xp6(4),s.Q6J("ngIf",i.isEditorMode),s.xp6(1),s.Q6J("ngIf",i.isEditorMode)}}let O$=(()=>{class n{constructor(t,r,i,a,h,m){this.dialogRef=t,this.data=r,this.fb=i,this.snackbarService=a,this.ticketService=h,this.dialog=m,this.loading=!1,this.ticketStatuses=Object.values(jm),this.isEditorMode=this.data.isEditorMode,this.ticketForm=this.fb.group({boardId:[{value:"",disabled:!this.isEditorMode},zn.required],monthId:[{value:"",disabled:!this.isEditorMode},zn.required],sprintId:[{value:"",disabled:!this.isEditorMode},zn.required],title:[{value:"",disabled:!this.isEditorMode},zn.required],description:[{value:"",disabled:!this.isEditorMode},zn.maxLength(280)],priority:[{value:Qo.Low,disabled:!this.isEditorMode}],link:[{value:"",disabled:!this.isEditorMode},zn.pattern("https?://.+")],status:[{value:jm.Todo,disabled:!this.isEditorMode}]})}ngOnInit(){this.initializeForm()}initializeForm(){const t=this.data?.ticket||{};this.ticketForm.patchValue({boardId:t.boardId,monthId:t.monthId,sprintId:t.sprintId,title:t.title||"",description:t.description||"",priority:t.priority===Qo.High,link:t.link||"",status:t.status||jm.Todo})}onSubmit(){var t=this;return(0,He.Z)(function*(){if(t.ticketForm.valid&&t.isEditorMode){t.loading=!0;try{const r=t.prepareTicketData();yield t.ticketService.updateTicket(t.data.ticket.id,r),t.snackbarService.showSuccess("Ticket updated successfully"),t.dialogRef.close()}catch(r){console.error(r),t.snackbarService.showError("An error occurred while updating the ticket")}finally{t.loading=!1}}})()}prepareTicketData(){const t=this.ticketForm.value;return{boardId:t.boardId,monthId:t.monthId,sprintId:t.sprintId,title:t.title,description:t.description,status:t.status,priority:t.priority?Qo.High:Qo.Low,updatedAt:new Date,link:t.link}}formatStatus(t){return t.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}onDelete(){var t=this;return(0,He.Z)(function*(){console.log(t.data.ticket.id,t.data.ticket.boardId,t.data.ticket.monthId,t.data.ticket.sprintId),t.dialog.open(aH,{width:"330px",height:"210px",panelClass:"confirmation-popup"}).afterClosed().subscribe(function(){var i=(0,He.Z)(function*(a){if(a)try{yield t.ticketService.deleteTicket(t.data.ticket.id,t.data.ticket.boardId,t.data.ticket.monthId,t.data.ticket.sprintId),t.snackbarService.showSuccess("Ticket deleted successfully"),t.dialogRef.close()}catch(h){console.error(h),t.snackbarService.showError("An error occurred while deleting the ticket")}});return function(a){return i.apply(this,arguments)}}())})()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Tl),s.Y36(hm),s.Y36(Jp),s.Y36(KI),s.Y36(Ub),s.Y36(xl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-ticket-edit-dialog"]],decls:3,vars:2,consts:[[1,"dialog-container"],["class","loading",4,"ngIf"],[4,"ngIf"],[1,"loading"],[3,"formGroup","ngSubmit"],[1,"form-group"],["appearance","outline"],["matInput","","formControlName","title","placeholder","Issue title","cdkFocusInitial","",3,"readonly"],["matInput","","formControlName","description","placeholder","Add description...","maxlength","280",2,"min-height","149px","resize","none",3,"readonly"],["align","end"],[1,"toggle-priority"],[1,"switch"],["type","checkbox","formControlName","priority"],[1,"slider","round"],[4,"ngIf","ngIfElse"],["notImportant",""],["linkView",""],[1,"save-button"],["type","submit",3,"width","height","disabled",4,"ngIf"],["mat-icon-button","","class","delete-button",3,"click",4,"ngIf"],["matInput","","formControlName","link","placeholder","Paste a link"],["matPrefix",""],[1,"form-group","link-readonly"],["target","_blank",3,"href"],["type","submit",3,"width","height","disabled"],["mat-icon-button","",1,"delete-button",3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,S$,1,0,"app-circle-loader",1),s.YNc(2,R$,25,11,"mat-dialog-content",2),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngIf",r.loading),s.xp6(1),s.Q6J("ngIf",!r.loading))},dependencies:[Bn,kd,Zu,Dg,Rp,Rg,ka,yo,Rd,_f,d_,_0,j4,BI,pB,zb,gB,jb,zP,u_],styles:['[_nghost-%COMP%]{font-family:Inter;position:relative;display:flex;flex-direction:column;animation:fadeIn ease 1s;-webkit-animation:fadeIn ease 1s;-moz-animation:fadeIn ease 1s;-o-animation:fadeIn ease 1s;-ms-animation:fadeIn ease 1s;width:100%;height:100%}mat-dialog-content[_ngcontent-%COMP%]{width:100%;height:100%;margin:0}form[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.dialog-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;box-sizing:border-box;padding:12px;box-shadow:0 5px 15px #0000001a}.close-button[_ngcontent-%COMP%]{position:absolute;top:-16px;right:-16px;z-index:10}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;border-radius:50%;transition:background-color .3s ease}.form-group[_ngcontent-%COMP%]:nth-child(2){padding-bottom:15px;border-bottom:3px solid rgba(0,0,0,.1)}.form-group[_ngcontent-%COMP%]:nth-child(4){width:448px;border-bottom:3px solid rgba(0,0,0,.1)}mat-form-field[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{width:100%;position:relative;animation:slideInLeft ease .5s;-webkit-animation:slideInLeft ease .5s;-moz-animation:slideInLeft ease .5s;-o-animation:slideInLeft ease .5s;-ms-animation:slideInLeft ease .5s}@keyframes slideInLeft{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}.toggle-priority[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:16px;margin-bottom:16px;gap:8px}.toggle-priority[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:500;font-size:17.3264px;line-height:25px;color:#323232}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:36px;height:14px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:12px;width:12px;left:1px;bottom:1px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ff4581e6}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.slider.round[_ngcontent-%COMP%]{border-radius:14px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.save-button[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:center}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{font-family:Inter;font-weight:500}.form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.select-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}h1[_ngcontent-%COMP%]{text-align:center}.separator-border[_ngcontent-%COMP%]{border-bottom:3px solid rgba(0,0,0,.1)}.link-readonly[_ngcontent-%COMP%]{height:50px;display:flex;justify-content:flex-start;align-items:center}.link-readonly[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:25px;padding-top:3px;margin-left:.7rem;margin-right:.6rem}.delete-button[_ngcontent-%COMP%]{position:absolute;left:1rem;bottom:20px}']}),n})();function F$(n,e){1&n&&s._UZ(0,"div",5)}function N$(n,e){1&n&&s._UZ(0,"div",6)}function L$(n,e){1&n&&(s.TgZ(0,"div",7)(1,"button",8)(2,"mat-icon"),s._uU(3,"edit"),s.qZA()()())}const V$=function(n){return{"tbd-ticket":n}};let B$=(()=>{class n{constructor(t,r,i){this.dialog=t,this.snackBarService=r,this.ticketService=i,this.isEditorMode=!1}ngOnInit(){}getPriorityClass(t){switch(t){case Qo.Low:return"low-priority";case Qo.Medium:return"medium-priority";case Qo.High:return"high-priority";default:return""}}openEditDialog(){this.dialog.open(O$,{width:"520px",height:"542px",panelClass:"custom-popup",data:{ticket:this.ticket,isEditorMode:this.isEditorMode}}).afterClosed().subscribe(r=>{r&&this.isEditorMode&&(this.ticket=r)})}confirmDelete(t){t.stopPropagation(),this.dialog.open(aH,{width:"300px"}).afterClosed().subscribe(i=>{i&&this.deleteTicket()})}deleteTicket(){var t=this;return(0,He.Z)(function*(){if(t.ticket.id&&t.boardId&&t.monthId&&t.sprintId)try{yield t.ticketService.deleteTicket(t.ticket.id,t.boardId,t.monthId,t.sprintId),t.snackBarService.showSuccess("Ticket deleted successfully!")}catch(r){t.snackBarService.showError("Error while deleting ticket"),console.error(r)}else console.error("Missing required properties")})()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(xl),s.Y36(KI),s.Y36(Ub))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-ticket"]],inputs:{ticket:"ticket",isEditorMode:"isEditorMode",boardId:"boardId",monthId:"monthId",sprintId:"sprintId"},decls:6,vars:8,consts:[[1,"ticket",3,"ngClass","click"],["class","priority-line",4,"ngIf"],[3,"ngClass"],["class","priority-indicator",4,"ngIf"],["class","ticket-buttons",4,"ngIf"],[1,"priority-line"],[1,"priority-indicator"],[1,"ticket-buttons"],["mat-icon-button","",1,"edit-button"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.NdJ("click",function(){return r.openEditDialog()}),s.YNc(1,F$,1,0,"div",1),s.TgZ(2,"h4",2),s._uU(3),s.qZA(),s.YNc(4,N$,1,0,"div",3),s.YNc(5,L$,4,0,"div",4),s.qZA()),2&t&&(s.Q6J("ngClass",r.getPriorityClass(r.ticket.priority)),s.xp6(1),s.Q6J("ngIf",r.ticket.priority),s.xp6(1),s.Q6J("ngClass",s.VKq(6,V$,r.ticket.title.includes("TBD"))),s.xp6(1),s.Oqu(r.ticket.title),s.xp6(1),s.Q6J("ngIf",r.ticket.priority),s.xp6(1),s.Q6J("ngIf",r.isEditorMode))},dependencies:[mn,Bn,_f,d_],styles:[".ticket[_ngcontent-%COMP%]{position:relative;background-color:#f5f5f5;border-radius:3px;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;padding:8px 12px;margin:4px 7px;transition:.3s;display:flex;flex-direction:row;justify-content:space-between}.tbd-ticket[_ngcontent-%COMP%]{color:#ccc!important}.ticket[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.ticket[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Helvetica;font-style:normal;font-size:clamp(11px,1.2vw,14px);line-height:18px;margin:0;color:#000}.ticket[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(11px,1.2vw,14px);color:#333;margin-bottom:10px}.priority-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:2px;height:100%}.low-priority[_ngcontent-%COMP%]   .priority-line[_ngcontent-%COMP%]{border-left:3px dashed rgb(255,69,129)}.medium-priority[_ngcontent-%COMP%]   .priority-line[_ngcontent-%COMP%], .high-priority[_ngcontent-%COMP%]   .priority-line[_ngcontent-%COMP%]{border-left:3px solid rgb(255,69,129)}.edit-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:0}.edit-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}"]}),n})();function H$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"h3",4),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.startRenaming())}),s._uU(1),s.qZA()}if(2&n){const t=s.oxw();s.xp6(1),s.Oqu(t.sprint.name)}}function U$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"input",9),s.NdJ("blur",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.saveSprintName())}),s.qZA()}if(2&n){const t=s.oxw();s.Q6J("formControl",t.sprintNameControl)}}function z$(n,e){if(1&n&&(s.ynx(0),s._UZ(1,"app-ticket",10),s.BQk()),2&n){const t=e.$implicit,r=s.oxw();s.xp6(1),s.Q6J("ticket",t)("cdkDragDisabled",!r.isEditorMode)("cdkDragData",t)("isEditorMode",r.isEditorMode)("sprintId",r.sprint.id)("boardId",r.boardId)("monthId",r.monthId)}}function j$(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",11)(1,"button",12),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.openTicketCreationDialog())}),s.TgZ(2,"mat-icon"),s._uU(3,"add"),s.qZA()()()}}const G$=function(n,e){return{tickets:n,monthId:e}};let $$=(()=>{class n{constructor(t,r,i){this.dialog=t,this.sprintService=r,this.ticketService=i,this.isEditorMode=!1,this.isRenamingSprint=!1,this.sprintNameControl=new Xu(""),this.isSprintCollapsed=!1,this.tickets=[],this.subscriptions=new Qr.w0}ngOnInit(){this.sprint.boardId&&this.sprint.id&&this.monthId&&(this.fetchTickets(),this.isSprintCollapsed=this.sprint.isCollapsed||!1),this.sprint.name&&this.sprintNameControl.setValue(this.sprint.name)}ngOnDestroy(){this.subscriptions.unsubscribe()}fetchTickets(){const t=this.ticketService.getTickets(this.sprint.boardId,this.monthId,this.sprint.id).subscribe(r=>{this.tickets=r.sort((i,a)=>(i.position??0)-(a.position??0))});this.subscriptions.add(t)}startRenaming(){this.isEditorMode&&(this.isRenamingSprint=!0)}saveSprintName(){if(this.isEditorMode&&this.sprint.id&&this.sprint.boardId&&this.monthId){const t=this.sprintNameControl.value;t&&t!==this.sprint.name&&this.sprintService.updateSprint(this.sprint.id,this.sprint.boardId,this.monthId,{name:t}).then(()=>{this.sprint.name=t}).catch(r=>{console.error("Error updating sprint name:",r)}),this.isRenamingSprint=!1}}toggleSprintCollapse(){this.isSprintCollapsed=!this.isSprintCollapsed,this.sprint.id&&this.sprint.boardId&&this.monthId&&this.sprintService.updateSprint(this.sprint.id,this.sprint.boardId,this.monthId,{isCollapsed:this.isSprintCollapsed}).catch(t=>{console.error("Error updating sprint collapse state:",t)})}openTicketCreationDialog(){this.isEditorMode&&this.sprint.boardId&&this.sprint.id&&this.monthId&&this.dialog.open(E$,{width:"400px",data:{boardId:this.sprint.boardId,sprintId:this.sprint.id,monthId:this.monthId}})}drop(t){var r=this;return(0,He.Z)(function*(){if(r.isEditorMode)if(t.previousContainer===t.container)qB(t.container.data.tickets,t.previousIndex,t.currentIndex),r.monthId&&r.updateTicketOrder(t.container.data.tickets,r.sprint.id,r.monthId);else if(function X5(n,e,t,r){const i=Yb(t,n.length-1),a=Yb(r,e.length);n.length&&e.splice(a,0,n.splice(i,1)[0])}(t.previousContainer.data.tickets,t.container.data.tickets,t.previousIndex,t.currentIndex),r.monthId&&t.previousContainer.data.monthId&&t.container.data.monthId){yield r.ticketService.deleteTicket(t.item.data.id,r.boardId,t.previousContainer.data.monthId,t.previousContainer.id);const i={...t.item.data,position:t.currentIndex};yield r.ticketService.createTicket(r.boardId,t.container.data.monthId,t.container.id,i,t.currentIndex),r.updateTicketOrder(t.previousContainer.data.tickets,t.previousContainer.id,t.previousContainer.data.monthId),r.updateTicketOrder(t.container.data.tickets,r.sprint.id,r.monthId)}})()}updateTicketOrder(t,r,i){var a=this;return(0,He.Z)(function*(){t.forEach(function(){var h=(0,He.Z)(function*(m,E){const D={...m,position:E};yield a.ticketService.updateTicket(D.id,{...D,boardId:a.boardId,sprintId:r,monthId:i})});return function(m,E){return h.apply(this,arguments)}}())})()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(xl),s.Y36(VI),s.Y36(Ub))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-sprint"]],inputs:{boardId:"boardId",sprint:"sprint",monthId:"monthId",isEditorMode:"isEditorMode"},decls:12,vars:11,consts:[["cdkDropList","",1,"sprint",3,"id","cdkDropListData","cdkDropListDropped"],[1,"sprint-header"],[3,"click",4,"ngIf"],["matInput","",3,"formControl","blur",4,"ngIf"],[3,"click"],[1,"tickets"],[1,"tickets__paragraph"],[4,"ngFor","ngForOf"],["class","create-ticket-button-container",4,"ngIf"],["matInput","",3,"formControl","blur"],["cdkDrag","",3,"ticket","cdkDragDisabled","cdkDragData","isEditorMode","sprintId","boardId","monthId"],[1,"create-ticket-button-container"],["mat-icon-button","",1,"create-ticket-button",3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.NdJ("cdkDropListDropped",function(a){return r.drop(a)}),s.TgZ(1,"div",1),s.YNc(2,H$,2,1,"h3",2),s.YNc(3,U$,1,1,"input",3),s.TgZ(4,"button",4),s.NdJ("click",function(){return r.toggleSprintCollapse()}),s.TgZ(5,"mat-icon"),s._uU(6),s.qZA()()(),s.TgZ(7,"div",5)(8,"p",6),s._uU(9,"User facing changes:"),s.qZA(),s.YNc(10,z$,2,7,"ng-container",7),s.qZA(),s.YNc(11,j$,4,0,"div",8),s.qZA()),2&t&&(s.Q6J("id",r.sprint.id||"defaultId")("cdkDropListData",s.WLB(8,G$,r.tickets,r.monthId)),s.xp6(2),s.Q6J("ngIf",!r.isRenamingSprint),s.xp6(1),s.Q6J("ngIf",r.isRenamingSprint),s.xp6(3),s.Oqu(r.isSprintCollapsed?"keyboard_arrow_down":"keyboard_arrow_up"),s.xp6(1),s.Q6J("@collapseExpand",r.isSprintCollapsed?"collapsed":"expanded"),s.xp6(3),s.Q6J("ngForOf",r.tickets),s.xp6(1),s.Q6J("ngIf",r.isEditorMode&&!r.isSprintCollapsed))},dependencies:[gn,Bn,Zu,Rp,lv,_f,d_,jb,s$,c$,B$],styles:["app-ticket[_ngcontent-%COMP%]{width:100%;transition:transform .12s cubic-bezier(0,0,.2,1)}.sprint[_ngcontent-%COMP%]{max-height:400px;min-height:190px}.sprint-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-direction:row-reverse;padding:10px 12px;background:#ffffff;border-radius:8px;box-shadow:0 2px 6px #00000024,0 1px 2px #00000014,0 0 1px #0000000f,0 0 #0000000a}.sprint-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:60%;text-align:center}.sprint-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .sprint-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex:none;order:1;flex-grow:0;font-family:Roboto;font-style:normal;font-weight:500;font-size:clamp(14px,1.2vw,16px);line-height:clamp(14px,1.2vw,16px);text-align:center;letter-spacing:.02em;color:#005aa0;margin:0}.sprint-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center}.sprint-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;color:#005aa0;transition:transform .3s ease}.sprint-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{transform:scale(1.1)}.sprint[_ngcontent-%COMP%]   .collapsed[_ngcontent-%COMP%]{display:none;transition:opacity .3s ease-in-out}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]{margin-top:6px;border:1px solid #ccc;width:100%;min-height:100px;max-height:370px;display:flex;flex-direction:column;justify-content:flex-start;padding:12px 0;border-radius:4px;background:#ffffff;box-shadow:0 4px 17px #0000001a;overflow-y:auto;scroll-behavior:smooth}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:10px;-webkit-transition:background .2s ease-in-out;transition:background .2s ease-in-out}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.sprint[_ngcontent-%COMP%]   .tickets__paragraph[_ngcontent-%COMP%]{margin:0 0 10px .5rem;font-family:Inter;font-style:normal;font-weight:600;font-size:clamp(11px,1.2vw,14px);line-height:18px;color:#3a4650;flex:none;order:0;flex-grow:0}.sprint[_ngcontent-%COMP%]   .create-ticket-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;bottom:10px}.sprint[_ngcontent-%COMP%]   .create-ticket-button[_ngcontent-%COMP%]{width:13px;height:13px;background:#ff4581;border:1px solid #fffdfd;border-radius:50%;display:flex;justify-content:center;align-items:center;padding:10px}.sprint[_ngcontent-%COMP%]   .create-ticket-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:13px;color:#fffdfd}  .mat-input-element{border:none;font-family:Roboto;font-style:normal;font-weight:500;font-size:clamp(14px,1.2vw,16px);line-height:clamp(14px,1.2vw,16px);color:#005aa0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .12s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{position:relative;z-index:100;box-sizing:border-box}.cdk-drag-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{pointer-events:none}.cdk-drag-handle[_ngcontent-%COMP%]{-webkit-user-drag:none;touch-action:none}"],data:{animation:[C$]}}),n})();function q$(n,e){if(1&n&&s._UZ(0,"app-sprint",3),2&n){const t=e.$implicit,r=s.oxw();s.Q6J("sprint",t)("boardId",r.boardId)("monthId",r.month.id)("isEditorMode",r.isEditorMode)}}let W$=(()=>{class n{constructor(t){this.sprintService=t,this.isEditorMode=!1,this.sprints=[],this.subscriptions=new Qr.w0}ngOnInit(){this.fetchSprints()}ngOnDestroy(){this.subscriptions.unsubscribe()}fetchSprints(){const t=this.sprintService.getSprints(this.boardId,this.month.id).subscribe(r=>{this.sprints=r.filter(i=>null!=i&&null!=i.name).sort((i,a)=>i.name.localeCompare(a.name))});this.subscriptions.add(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(VI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-month"]],inputs:{month:"month",boardId:"boardId",isEditorMode:"isEditorMode"},decls:5,vars:2,consts:[[1,"month"],[1,"sprints"],[3,"sprint","boardId","monthId","isEditorMode",4,"ngFor","ngForOf"],[3,"sprint","boardId","monthId","isEditorMode"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"h2"),s._uU(2),s.qZA(),s.TgZ(3,"div",1),s.YNc(4,q$,1,4,"app-sprint",2),s.qZA()()),2&t&&(s.xp6(2),s.Oqu(r.month.name),s.xp6(2),s.Q6J("ngForOf",r.sprints))},dependencies:[gn,$$],styles:["h2[_ngcontent-%COMP%]{font-family:Assistant;font-style:normal;font-weight:600;font-size:clamp(16px,1.5vw,18px);line-height:24px;text-align:center;color:#000;border:1px solid #4388dd;border-radius:6px;box-shadow:0 4px 180px #00000040}.sprints[_ngcontent-%COMP%]{display:grid;gap:.75rem;grid-template-columns:repeat(auto-fill,minmax(calc(50% - .375rem),1fr))}"]}),n})();function Z$(n,e){if(1&n&&(s.ynx(0),s._UZ(1,"app-month",7),s.BQk()),2&n){const t=e.$implicit,r=s.oxw(2);s.xp6(1),s.Q6J("month",t)("boardId",r.boardId)("isEditorMode",r.isEditorMode)}}function K$(n,e){if(1&n&&(s.ynx(0),s.TgZ(1,"div",5),s.YNc(2,Z$,2,3,"ng-container",6),s.qZA(),s.BQk()),2&n){const t=s.oxw();s.xp6(2),s.Q6J("ngForOf",t.visibleMonths())}}function Y$(n,e){if(1&n&&(s.ynx(0),s._UZ(1,"app-month",7),s.BQk()),2&n){const t=e.$implicit,r=s.oxw(2);s.xp6(1),s.Q6J("month",t)("boardId",r.boardId)("isEditorMode",r.isEditorMode)}}function Q$(n,e){if(1&n&&(s.TgZ(0,"div",8),s.YNc(1,Y$,2,3,"ng-container",6),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.visibleMonths())}}let lH=(()=>{class n{constructor(){this.months=[],this.boardId="",this.isEditorMode=!1,this.visibleMonthsChange=new s.vpe,this.currentIndex=0}ngOnInit(){}ngOnDestroy(){Gb(this.boardId,this.currentIndex)}ngOnChanges(t){if(t.months){const r=function w5(n){const e=localStorage.getItem(`lastViewedMonthIndex_${n}`);return null!==e?parseInt(e,10):null}(this.boardId);this.currentIndex=null!==r&&r<=this.months.length-3?r:Math.max(0,this.months.length-3),this.emitVisibleMonths()}}visibleMonths(){return this.months.slice(this.currentIndex,this.currentIndex+3)}hasPrevious(){return this.currentIndex>0}hasNext(){return this.currentIndex<this.months.length-3}previous(){this.hasPrevious()&&(this.currentIndex--,Gb(this.boardId,this.currentIndex),this.emitVisibleMonths())}next(){this.hasNext()&&(this.currentIndex++,Gb(this.boardId,this.currentIndex),this.emitVisibleMonths())}showLastCreatedMonth(){this.currentIndex=Math.max(0,this.months.length-3),Gb(this.boardId,this.currentIndex),this.emitVisibleMonths()}emitVisibleMonths(){this.visibleMonthsChange.emit({start:this.currentIndex,end:this.currentIndex+2})}scrollToMonth(t){t>=1&&t<=this.months.length-2?this.currentIndex=t-1:t<1?this.currentIndex=0:t>this.months.length-2&&(this.currentIndex=Math.max(0,this.months.length-3)),Gb(this.boardId,this.currentIndex),this.emitVisibleMonths()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-carousel"]],inputs:{months:"months",boardId:"boardId",isEditorMode:"isEditorMode"},outputs:{visibleMonthsChange:"visibleMonthsChange"},features:[s.TTD],decls:10,vars:6,consts:[[1,"carousel"],["mat-icon-button","",1,"nav-button","nav-button-left",3,"click"],[4,"ngIf","ngIfElse"],["readMode",""],["mat-icon-button","",1,"nav-button","nav-button-right",3,"click"],["cdkDropListGroup","",1,"carousel-content"],[4,"ngFor","ngForOf"],[3,"month","boardId","isEditorMode"],[1,"carousel-content"]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0)(1,"button",1),s.NdJ("click",function(){return r.previous()}),s.TgZ(2,"mat-icon"),s._uU(3,"navigate_before"),s.qZA()(),s.YNc(4,K$,3,1,"ng-container",2),s.YNc(5,Q$,2,1,"ng-template",null,3,s.W1O),s.TgZ(7,"button",4),s.NdJ("click",function(){return r.next()}),s.TgZ(8,"mat-icon"),s._uU(9,"navigate_next"),s.qZA()()()),2&t){const i=s.MAs(6);s.xp6(1),s.ekj("hidden",!r.hasPrevious()),s.xp6(3),s.Q6J("ngIf",r.isEditorMode)("ngIfElse",i),s.xp6(3),s.ekj("hidden",!r.hasNext())}},dependencies:[gn,Bn,_f,d_,r$,W$],styles:["[_nghost-%COMP%]{width:100%}.carousel[_ngcontent-%COMP%]{height:450px;display:flex;margin:auto}.carousel[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{border:none;background-color:transparent;cursor:pointer;color:#0000008a}.carousel[_ngcontent-%COMP%]   .nav-button.hidden[_ngcontent-%COMP%]{visibility:hidden}.carousel[_ngcontent-%COMP%]   .nav-button-left[_ngcontent-%COMP%]{margin-right:.15rem;margin-top:-6.5px}.carousel[_ngcontent-%COMP%]   .nav-button-right[_ngcontent-%COMP%]{margin-left:1rem;margin-top:-8px}.carousel[_ngcontent-%COMP%]   .carousel-content[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem}"]}),n})();const ek=["January","February","March","April","May","June","July","August","September","October","November","December"];let X$=(()=>{class n{constructor(t,r){this.formBuilder=t,this.dialogRef=r,this.accessCodeForm=this.formBuilder.group({accessCode:["",[zn.required,zn.minLength(6),zn.maxLength(6)]]})}onNoClick(){this.dialogRef.close()}submitForm(){if(this.accessCodeForm.valid){const t=this.accessCodeForm.get("accessCode")?.value;this.dialogRef.close(t)}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Jp),s.Y36(Tl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-access-popup"]],decls:16,vars:2,consts:[[1,"popup-container"],[1,"setup-title"],[1,"content-container"],[1,"title"],[1,"description"],[1,"access-code-form",3,"formGroup","ngSubmit"],[1,"access-code-input"],["matInput","","formControlName","accessCode","type","password","required",""],[1,"popup-actions"],["mat-button","",3,"disabled","click"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2,"Enter Access Code"),s.qZA(),s.TgZ(3,"div",2)(4,"h2",3),s._uU(5,"To obtain editor rights"),s.qZA(),s.TgZ(6,"p",4),s._uU(7,"Please enter the 6 digit access code:"),s.qZA(),s.TgZ(8,"form",5),s.NdJ("ngSubmit",function(){return r.submitForm()}),s.TgZ(9,"mat-form-field",6),s._UZ(10,"input",7),s.qZA()()(),s.TgZ(11,"div",8)(12,"app-custom-button",9),s.NdJ("click",function(){return r.submitForm()}),s._uU(13,"Submit"),s.qZA(),s.TgZ(14,"app-custom-button",10),s.NdJ("click",function(){return r.onNoClick()}),s._uU(15,"Cancel"),s.qZA()()()),2&t&&(s.xp6(8),s.Q6J("formGroup",r.accessCodeForm),s.xp6(4),s.Q6J("disabled",r.accessCodeForm.invalid))},dependencies:[kd,Zu,Rp,Rg,Jr,yo,Rd,BI,jb,u_],styles:[".popup-container[_ngcontent-%COMP%]{box-sizing:border-box;background:#323232;border:1px solid #323232;box-shadow:0 4px 20px #0009;border-radius:5px;padding:20px;height:100%;width:100%}.setup-title[_ngcontent-%COMP%]{width:100%;height:50px;font-size:clamp(16px,1.5vw,18px);line-height:24px;color:#fff}.content-container[_ngcontent-%COMP%]{background:#e8f0fb;border-radius:5px;padding:20px;position:relative}.title[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:700;font-size:20px;line-height:150%;color:#000;margin-bottom:20px}.description[_ngcontent-%COMP%]{height:39px;font-family:Roboto;font-style:normal;font-weight:400;font-size:clamp(14px,1.2vw,16px);line-height:19px;color:#000}.access-code-input[_ngcontent-%COMP%]{width:100%}input[type=password][_ngcontent-%COMP%]{text-align:center;font-size:62px}input[type=password][_ngcontent-%COMP%]::-webkit-text-security{font-size:66px}.popup-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;padding:20px}.error-message[_ngcontent-%COMP%]{color:red;font-size:clamp(11px,1.2vw,14px);text-align:center;margin-top:8px}@media (max-width: 480px){.popup-container[_ngcontent-%COMP%]{padding:10px}.setup-title[_ngcontent-%COMP%]{font-size:clamp(11px,1.2vw,14px);height:40px}.title[_ngcontent-%COMP%]{font-size:clamp(16px,1.5vw,18px);margin-bottom:10px}.description[_ngcontent-%COMP%]{width:100%;font-size:clamp(11px,1.2vw,14px);line-height:17px}input[type=password][_ngcontent-%COMP%]{font-size:46px}input[type=password][_ngcontent-%COMP%]::-webkit-text-security{font-size:50px}}"]}),n})();const J$=["tooltip"],cH="tooltip-panel",uH=eo({passive:!0}),hH=new s.OlP("mat-tooltip-scroll-strategy"),rq={provide:hH,deps:[Fn],useFactory:function nq(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},iq=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function sq(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let oq=(()=>{class n{constructor(t,r,i,a,h,m,E,D,F,W,ce,me){this._overlay=t,this._elementRef=r,this._scrollDispatcher=i,this._viewContainerRef=a,this._ngZone=h,this._platform=m,this._ariaDescriber=E,this._focusMonitor=D,this._dir=W,this._defaultOptions=ce,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new bt.x,this._scrollStrategy=F,this._document=me,ce&&(ce.position&&(this.position=ce.position),ce.touchGestures&&(this.touchGestures=ce.touchGestures)),W.change.pipe(di(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Gi(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Oc(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Oc(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(di(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{t.removeEventListener(r,i,uH)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const r=this._createOverlay();this._detach(),this._portal=this._portal||new zd(this._tooltipComponent,this._viewContainerRef);const i=this._tooltipInstance=r.attach(this._portal).instance;i._triggerElement=this._elementRef.nativeElement,i._mouseLeaveHideDelay=this._hideDelay,i.afterHidden().pipe(di(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),i.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return r.positionChanges.pipe(di(this._destroyed)).subscribe(i=>{this._updateCurrentPositionClass(i.connectionPair),this._tooltipInstance&&i.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${cH}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(di(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(di(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(di(this._destroyed)).subscribe(i=>{this._isTooltipVisible()&&27===i.keyCode&&!dC(i)&&(i.preventDefault(),i.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const r=t.getConfig().positionStrategy,i=this._getOrigin(),a=this._getOverlayPosition();r.withPositions([this._addOffset({...i.main,...a.main}),this._addOffset({...i.fallback,...a.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r||"below"==r?i={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={originX:"start",originY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={originX:"end",originY:"center"});const{x:a,y:h}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:a,originY:h}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let i;"above"==r?i={overlayX:"center",overlayY:"bottom"}:"below"==r?i={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&t||"right"==r&&!t?i={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(i={overlayX:"start",overlayY:"center"});const{x:a,y:h}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:a,overlayY:h}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Nr(1),di(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:r}}_updateCurrentPositionClass(t){const{overlayY:r,originX:i,originY:a}=t;let h;if(h="center"===r?this._dir&&"rtl"===this._dir.value?"end"===i?"left":"right":"start"===i?"left":"right":"bottom"===r&&"top"===a?"above":"below",h!==this._currentPosition){const m=this._overlayRef;if(m){const E=`${this._cssClassPrefix}-${cH}-`;m.removePanelClass(E+this._currentPosition),m.addPanelClass(E+h)}this._currentPosition=h}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",r=>{const i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",r],["touchcancel",r])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,uH)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const r=this._elementRef.nativeElement,i=r.style;("on"===t||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),("on"===t||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),aq=(()=>{class n extends oq{constructor(t,r,i,a,h,m,E,D,F,W,ce,me){super(t,r,i,a,h,m,E,D,F,W,ce,me),this._tooltipComponent=cq}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Fn),s.Y36(s.SBq),s.Y36(xv),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(hi),s.Y36(Tx),s.Y36(dy),s.Y36(hH),s.Y36(Fc,8),s.Y36(iq,8),s.Y36(O))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),lq=(()=>{class n{constructor(t,r){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new bt.x,this._animationsDisabled="NoopAnimations"===r}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const r=this._tooltip.nativeElement,i=this._showAnimation,a=this._hideAnimation;if(r.classList.remove(t?a:i),r.classList.add(t?i:a),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const h=getComputedStyle(r);("0s"===h.getPropertyValue("animation-duration")||"none"===h.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.sBO),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n}),n})(),cq=(()=>{class n extends lq{constructor(t,r,i){super(t,i),this._breakpointObserver=r,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.sBO),s.Y36(XP),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,r){if(1&t&&s.Gf(J$,7),2&t){let i;s.iGM(i=s.CRH())&&(r._tooltip=i.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,r){1&t&&s.NdJ("mouseleave",function(a){return r._handleMouseLeave(a)}),2&t&&s.Udp("zoom",r.isVisible()?1:null)},features:[s.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(t,r){if(1&t&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(a){return r._handleAnimationEnd(a)}),s.ALo(2,"async"),s._uU(3),s.qZA()),2&t){let i;s.ekj("mat-tooltip-handset",null==(i=s.lcZ(2,4,r._isHandset))?null:i.matches),s.Q6J("ngClass",r.tooltipClass),s.xp6(3),s.Oqu(r.message)}},dependencies:[mn,Jc],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),dH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[rq],imports:[[kO,_i,sm,fr],fr,Ud]}),n})();function uq(n,e){1&n&&s._UZ(0,"app-circle-loader",3)}function hq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2);return s.KtG(i.openAccessPopup())}),s._uU(1," Request edit "),s.qZA()}}function dq(n,e){}function fq(n,e){1&n&&(s.ynx(0),s.YNc(1,dq,0,0,"ng-template",23),s.BQk())}function pq(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",24),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(2);return s.KtG(i.addMonth())}),s.TgZ(1,"mat-icon"),s._uU(2,"add"),s.qZA()()}if(2&n){const t=s.oxw(2);s.Q6J("disabled",t.isAddMonthDisabled||t.loading||!t.isEditorMode)}}function mq(n,e){if(1&n){const t=s.EpF();s.ynx(0),s.TgZ(1,"div",25,26),s.NdJ("click",function(){const a=s.CHM(t).index,h=s.oxw(2);return s.KtG(h.selectMonth(a))}),s._UZ(3,"div",27)(4,"div",28),s.qZA(),s.BQk()}if(2&n){const t=e.$implicit;s.xp6(1),s.Q6J("matTooltip",t.name)}}function gq(n,e){1&n&&(s.TgZ(0,"div",29),s._UZ(1,"input",30),s.TgZ(2,"button",31)(3,"span"),s._uU(4,"Subscribe"),s.qZA()()())}function yq(n,e){1&n&&(s.TgZ(0,"div",32)(1,"app-custom-button",33)(2,"span"),s._uU(3,"Publish \u{1f680}"),s.qZA()()()),2&n&&(s.xp6(1),s.Q6J("width",200)("height",50)("disabled",!1))}function _q(n,e){if(1&n&&(s.TgZ(0,"div",4)(1,"div",5)(2,"h1",6),s._uU(3," User facing Roadmap of Release "),s._UZ(4,"div",7),s.qZA(),s.YNc(5,hq,2,0,"button",8),s.TgZ(6,"div",9)(7,"div",10)(8,"div",11),s._UZ(9,"div",12),s.TgZ(10,"span",13),s._uU(11,"Must be delivered during sprint"),s.qZA()(),s.TgZ(12,"div",14),s._UZ(13,"div",12),s.TgZ(14,"span",13),s._uU(15,"Nice to be delivered during sprint"),s.qZA()()()()(),s.TgZ(16,"div",15)(17,"app-carousel",16),s.YNc(18,fq,2,0,"ng-container",17),s.qZA(),s.YNc(19,pq,3,1,"button",18),s.qZA(),s.TgZ(20,"div",19),s.YNc(21,mq,5,1,"ng-container",17),s.qZA(),s.YNc(22,gq,5,0,"div",20),s.YNc(23,yq,4,3,"div",21),s.qZA()),2&n){const t=s.oxw();s.xp6(5),s.Q6J("ngIf",!t.isEditorMode&&t.userHasEditorRights),s.xp6(12),s.Q6J("months",t.months)("boardId",t.boardId)("isEditorMode",t.isEditorMode),s.xp6(1),s.Q6J("ngForOf",t.months),s.xp6(1),s.Q6J("ngIf",t.isEditorMode&&!t.isAddMonthDisabled),s.xp6(2),s.Q6J("ngForOf",t.months),s.xp6(1),s.Q6J("ngIf",!t.isEditorMode),s.xp6(1),s.Q6J("ngIf",t.isEditorMode)}}let fH=(()=>{class n{constructor(t,r,i,a,h){this.boardService=t,this.route=r,this.monthService=i,this.dialog=a,this.snackbarService=h,this.board={},this.boardName="",this.boardId="",this.months=[],this.isEditorMode=!1,this.userHasEditorRights=!0,this.loading=!0,this.currentMonth=(new Date).getMonth(),this.isAddMonthDisabled=!1,this.subscriptions=new Qr.w0}ngOnInit(){this.boardId=this.route.snapshot.paramMap.get("boardId")||"",this.boardId&&(this.fetchBoardData(),this.getBoard())}getBoard(){this.boardService.getBoard(this.boardId).subscribe(t=>{this.board=t})}ngOnDestroy(){this.subscriptions.unsubscribe()}fetchBoardData(){this.loading=!0;const t=this.boardService.getBoard(this.boardId).subscribe(i=>{this.boardName=i.name||"",this.loading=!1},i=>{console.error(i),this.loading=!1}),r=this.monthService.getMonths(this.boardId).subscribe(i=>{this.months=i.sort((a,h)=>ek.indexOf(a.name)-ek.indexOf(h.name)),this.loading=!1,this.isAddMonthDisabled=this.months.length>=12},i=>{console.error(i),this.loading=!1});this.subscriptions.add(t),this.subscriptions.add(r)}toggleEditorView(){this.isEditorMode?this.isEditorMode=!1:this.openAccessPopup()}openAccessPopup(){this.userHasEditorRights?this.dialog.open(X$,{width:"390px",height:"542px",panelClass:"custom-popup"}).afterClosed().subscribe(r=>{r&&((0,EE.sha256)(r)===this.board.code?(this.isEditorMode=!0,this.snackbarService.showSuccess("Access granted. You are now in editor mode.")):this.snackbarService.showError("Invalid code. Please try again."))}):this.snackbarService.showError("You do not have editor rights for this board.")}addMonth(){this.isAddMonthDisabled||this.monthService.createMonth(this.boardId,{boardId:this.boardId,name:ek[this.months.length]}).then(()=>{this.fetchBoardData(),this.carouselComponent.showLastCreatedMonth()}).catch(i=>{console.error(i)})}selectMonth(t){this.carouselComponent&&this.carouselComponent.scrollToMonth(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(hB),s.Y36(ui),s.Y36(uB),s.Y36(xl),s.Y36(KI))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-board"]],viewQuery:function(t,r){if(1&t&&s.Gf(lH,5),2&t){let i;s.iGM(i=s.CRH())&&(r.carouselComponent=i.first)}},decls:3,vars:2,consts:[[1,"board"],["class","loading",4,"ngIf"],["class","container",4,"ngIf"],[1,"loading"],[1,"container"],[1,"content-header"],[1,"title"],[1,"title-line"],["mat-icon-button","","class","editor-view-button",3,"click",4,"ngIf"],[1,"container-lines"],[1,"lines"],[1,"line-1"],[1,"line"],[1,"line-text"],[1,"line-2"],[1,"content-body"],[3,"months","boardId","isEditorMode"],[4,"ngFor","ngForOf"],["mat-icon-button","","class","add-button",3,"disabled","click",4,"ngIf"],[1,"timeline-container"],["class","newsletter-container",4,"ngIf"],["class","publish-button-container",4,"ngIf"],["mat-icon-button","",1,"editor-view-button",3,"click"],["carouselItem",""],["mat-icon-button","",1,"add-button",3,"disabled","click"],[1,"month-point-container",3,"matTooltip","click"],["monthPoint",""],[1,"month-point"],[1,"shadow-circle"],[1,"newsletter-container"],["type","email","placeholder","Enter your email to be alerted about changes",1,"newsletter-input"],["type","submit",1,"newsletter-button"],[1,"publish-button-container"],["buttonType","submit",3,"width","height","disabled"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,uq,1,0,"app-circle-loader",1),s.YNc(2,_q,24,9,"div",2),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngIf",r.loading),s.xp6(1),s.Q6J("ngIf",!r.loading))},dependencies:[gn,Bn,zP,_f,d_,u_,lH,aq],styles:['.board[_ngcontent-%COMP%]{min-height:100vh;background-color:#2f80ed1a}.loading[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{padding:1.5rem 2.5rem}.content-header[_ngcontent-%COMP%]{display:flex;text-align:center;margin-top:58px;color:#373f41}.content-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:600;font-size:clamp(32px,2.15vw,40px);line-height:44px;color:#373f41}.content-body[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:50px}.add-button[_ngcontent-%COMP%]{position:relative;top:-8px;right:62px}.add-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4388dd}.title-line[_ngcontent-%COMP%]{width:539.02px;height:5px;margin-top:10px;background:linear-gradient(270deg,#ff4581 -.22%,#4388dd 99.78%)}.editor-view-button[_ngcontent-%COMP%]{width:101px;height:35px;background:#ecf3fc;border:1px solid #ff4581;box-shadow:0 4px 180px #00000040;border-radius:6px;font-family:Inter,sans-serif;font-style:normal;font-weight:600;font-size:clamp(11px,1.2vw,14px);line-height:44px;display:flex;align-items:center;justify-content:center;color:#ff4581;text-transform:none;margin-left:20px}.container-lines[_ngcontent-%COMP%]{display:flex;width:50%;justify-content:flex-end}.lines[_ngcontent-%COMP%]{margin-left:1rem;opacity:.5}.lines[_ngcontent-%COMP%]   .line-1[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .line-2[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.lines[_ngcontent-%COMP%]   .line-1[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .line-2[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:2px;height:18px;opacity:.5}.lines[_ngcontent-%COMP%]   .line-1[_ngcontent-%COMP%]   .line-text[_ngcontent-%COMP%], .lines[_ngcontent-%COMP%]   .line-2[_ngcontent-%COMP%]   .line-text[_ngcontent-%COMP%]{margin-left:10px}.lines[_ngcontent-%COMP%]   .line-1[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{border-left:3px solid #ff4581}.lines[_ngcontent-%COMP%]   .line-2[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{border-left:3px dashed #ff4581}.month-point-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;cursor:pointer}.month-point[_ngcontent-%COMP%]{height:16px;width:16px;border-radius:50%;background-color:#ff4581;z-index:1;transition:background-color .3s}.shadow-circle[_ngcontent-%COMP%]{position:absolute;height:32px;width:32px;border-radius:50%;background-color:#ff45811a;z-index:0}.publish-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.timeline-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:space-between;margin-top:4rem;height:50px;width:100%}.timeline-container[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:8px;background:rgba(47,128,237,.1);z-index:0}.newsletter-container[_ngcontent-%COMP%]{text-align:center;display:flex;justify-content:center;align-items:center;width:-moz-fit-content;width:fit-content;padding:.25rem .5rem;background:#ecf3fc;border:1px solid #4388dd;box-shadow:0 4px 180px #00000040;border-radius:6px;margin:auto;margin-top:2rem}.newsletter-input[_ngcontent-%COMP%]{padding:8px;font-family:Inter;font-style:normal;font-weight:200;font-size:17px;line-height:21px;width:370px;color:#415162;box-sizing:border-box;border:none;background:none}.newsletter-button[_ngcontent-%COMP%]{margin-left:.5rem;box-sizing:border-box;background:#4388dd!important;border:1px solid #d2e1f5;border-radius:3px;width:102px;height:29px;font-family:Inter;font-style:normal;font-weight:500;font-size:17px;line-height:21px;color:#fff;transition:all .3s ease-in-out}.newsletter-button[_ngcontent-%COMP%]:hover{background-color:#3673ac!important;cursor:pointer;transform:scale(1.05)}.newsletter-button[_ngcontent-%COMP%]:active{transform:scale(.95)}']}),n})();const vq=[{path:"",component:b5},{path:"board/:boardId",component:fH},{path:"board/:boardId/editor",component:fH}];let bq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mp.forRoot(vq),Mp]}),n})(),wq=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"hexagon-container"],[1,"hexagon"],[1,"hexagon-2"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"div",1)(2,"div",2),s.qZA())},styles:[".hexagon-container[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:50%;overflow:hidden;z-index:-99}.hexagon[_ngcontent-%COMP%]{position:absolute;width:232.72px;height:201.58px;left:-16.12px;bottom:0;transform:matrix(0,1,1,0,0,0);clip-path:polygon(25% 0%,75% 0%,100% 50%,75% 100%,25% 100%,0% 50%);background:linear-gradient(49.11deg,rgba(67,136,221,.09) 12.62%,rgba(67,136,221,.084) 16.08%,rgba(67,136,221,.063) 29.29%,rgba(67,136,221,.045) 42.43%,rgba(67,136,221,.021) 55.37%,rgba(67,136,221,0) 67.87%)}.hexagon-2[_ngcontent-%COMP%]{position:absolute;width:232.72px;height:201.57px;left:-48px;bottom:0;transform:matrix(0,1,1,0,0,0);clip-path:polygon(25% 0%,75% 0%,100% 50%,75% 100%,25% 100%,0% 50%);background:linear-gradient(49.11deg,rgba(67,136,221,.09) 12.62%,rgba(67,136,221,.075) 16.07%,rgba(67,136,221,.045) 29.29%,rgba(67,136,221,.0405) 42.43%,rgba(67,136,221,.021) 55.37%,rgba(67,136,221,0) 67.87%)}"]}),n})(),Eq=(()=>{class n{constructor(){this.title="MVP Ror"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&s._UZ(0,"router-outlet")(1,"app-footer")},dependencies:[y,wq]}),n})();const pH_firebaseConfig={apiKey:"AIzaSyCoFK8wf2T_Cjmq1HGd78wMkq1r1e6LumY",authDomain:"rorr-1124e.firebaseapp.com",projectId:"rorr-1124e",storageBucket:"rorr-1124e.appspot.com",messagingSenderId:"1023753832713",appId:"1:1023753832713:web:b5f7e7d0960d2477126bd8",measurementId:"G-0Q1J784GZB"};function mH(n){return new s.vHH(3e3,!1)}function r8(){return typeof window<"u"&&typeof window.document<"u"}function tk(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function wf(n){switch(n.length){case 0:return new my;case 1:return n[0];default:return new _o(n)}}function gH(n,e,t,r,i=new Map,a=new Map){const h=[],m=[];let E=-1,D=null;if(r.forEach(F=>{const W=F.get("offset"),ce=W==E,me=ce&&D||new Map;F.forEach((Ce,Me)=>{let Ue=Me,rt=Ce;if("offset"!==Me)switch(Ue=e.normalizePropertyName(Ue,h),rt){case"!":rt=i.get(Me);break;case Dl:rt=a.get(Me);break;default:rt=e.normalizeStyleValue(Me,Ue,rt,h)}me.set(Ue,rt)}),ce||m.push(me),D=me,E=W}),h.length)throw function $q(n){return new s.vHH(3502,!1)}();return m}function nk(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&rk(t,"start",n)));break;case"done":n.onDone(()=>r(t&&rk(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&rk(t,"destroy",n)))}}function rk(n,e,t){const a=ik(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),h=n._data;return null!=h&&(a._data=h),a}function ik(n,e,t,r,i="",a=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!h}}function Xo(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function yH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let sk=(n,e)=>!1,_H=(n,e,t)=>[],vH=null;function ok(n){const e=n.parentNode||n.host;return e===vH?null:e}(tk()||typeof Element<"u")&&(r8()?(vH=(()=>document.documentElement)(),sk=(n,e)=>{for(;e;){if(e===n)return!0;e=ok(e)}return!1}):sk=(n,e)=>n.contains(e),_H=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Gm=null,bH=!1;const wH=sk,EH=_H;let CH=(()=>{class n{validateStyleProperty(t){return function o8(n){Gm||(Gm=function a8(){return typeof document<"u"?document.body:null}()||{},bH=!!Gm.style&&"WebkitAppearance"in Gm.style);let e=!0;return Gm.style&&!function s8(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Gm.style,!e&&bH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Gm.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return wH(t,r)}getParentElement(t){return ok(t)}query(t,r,i){return EH(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,h,m=[],E){return new my(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ak=(()=>{class n{}return n.NOOP=new CH,n})();const lk="ng-enter",YI="ng-leave",QI="ng-trigger",XI=".ng-trigger",IH="ng-animating",ck=".ng-animating";function Ah(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:uk(parseFloat(e[1]),e[2])}function uk(n,e){return"s"===e?1e3*n:n}function JI(n,e,t){return n.hasOwnProperty("duration")?n:function u8(n,e,t){let i,a=0,h="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(mH()),{duration:0,delay:0,easing:""};i=uk(parseFloat(m[1]),m[2]);const E=m[3];null!=E&&(a=uk(parseFloat(E),m[4]));const D=m[5];D&&(h=D)}else i=n;if(!t){let m=!1,E=e.length;i<0&&(e.push(function Cq(){return new s.vHH(3100,!1)}()),m=!0),a<0&&(e.push(function Sq(){return new s.vHH(3101,!1)}()),m=!0),m&&e.splice(E,0,mH())}return{duration:i,delay:a,easing:h}}(n,e,t)}function Xb(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function DH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ef(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function xH(n,e,t){return t?e+":"+t+";":""}function AH(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=xH(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=xH(0,p8(t),n.style[t]));n.setAttribute("style",e)}function Zc(n,e,t){n.style&&(e.forEach((r,i)=>{const a=dk(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),tk()&&AH(n))}function $m(n,e){n.style&&(e.forEach((t,r)=>{const i=dk(r);n.style[i]=""}),tk()&&AH(n))}function Jb(n){return Array.isArray(n)?1==n.length?n[0]:HC(n):n}const hk=new RegExp("{{\\s*(.+?)\\s*}}","g");function MH(n){let e=[];if("string"==typeof n){let t;for(;t=hk.exec(n);)e.push(t[1]);hk.lastIndex=0}return e}function ew(n,e,t){const r=n.toString(),i=r.replace(hk,(a,h)=>{let m=e[h];return null==m&&(t.push(function Dq(n){return new s.vHH(3003,!1)}()),m=""),m.toString()});return i==r?n:i}function eD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const f8=/-+([a-z0-9])/g;function dk(n){return n.replace(f8,(...e)=>e[1].toUpperCase())}function p8(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Jo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Tq(n){return new s.vHH(3004,!1)}()}}function PH(n,e){return window.getComputedStyle(n)[e]}function b8(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function w8(n,e,t){if(":"==n[0]){const E=function E8(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Uq(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof E)return void e.push(E);n=E}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Hq(n){return new s.vHH(3015,!1)}()),e;const i=r[1],a=r[2],h=r[3];e.push(kH(i,h));"<"==a[0]&&!("*"==i&&"*"==h)&&e.push(kH(h,i))}(r,t,e)):t.push(n),t}const iD=new Set(["true","1"]),sD=new Set(["false","0"]);function kH(n,e){const t=iD.has(n)||sD.has(n),r=iD.has(e)||sD.has(e);return(i,a)=>{let h="*"==n||n==i,m="*"==e||e==a;return!h&&t&&"boolean"==typeof i&&(h=i?iD.has(n):sD.has(n)),!m&&r&&"boolean"==typeof a&&(m=a?iD.has(e):sD.has(e)),h&&m}}const C8=new RegExp("s*:selfs*,?","g");function fk(n,e,t,r){return new S8(n).build(e,t,r)}class S8{constructor(e){this._driver=e}build(e,t,r){const i=new T8(t);return this._resetContextStyleTimingState(i),Jo(this,Jb(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push(function Aq(){return new s.vHH(3006,!1)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const E=m,D=E.name;D.toString().split(/\s*,\s*/).forEach(F=>{E.name=F,a.push(this.visitState(E,t))}),E.name=D}else if(1==m.type){const E=this.visitTransition(m,t);r+=E.queryCount,i+=E.depCount,h.push(E)}else t.errors.push(function Mq(){return new s.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:h,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,h=i||{};r.styles.forEach(m=>{m instanceof Map&&m.forEach(E=>{MH(E).forEach(D=>{h.hasOwnProperty(D)||a.add(D)})})}),a.size&&(eD(a.values()),t.errors.push(function Pq(n,e){return new s.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Jo(this,Jb(e.animation),t);return{type:1,matchers:b8(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:qm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Jo(this,r,t)),options:qm(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(h=>{t.currentTime=r;const m=Jo(this,h,t);return i=Math.max(i,t.currentTime),m});return t.currentTime=i,{type:3,steps:a,options:qm(e.options)}}visitAnimate(e,t){const r=function A8(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return pk(JI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=pk(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=JI(t,e);return pk(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Mr({});if(5==a.type)i=this.visitKeyframes(a,t);else{let h=e.styles,m=!1;if(!h){m=!0;const D={};r.easing&&(D.easing=r.easing),h=Mr(D)}t.currentTime+=r.duration+r.delay;const E=this.visitStyle(h,t);E.isEmptyStep=m,i=E}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let m of i)"string"==typeof m?m===Dl?r.push(m):t.errors.push(new s.vHH(3002,!1)):r.push(DH(m));let a=!1,h=null;return r.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(h=m.get("easing"),m.delete("easing")),!a))for(let E of m.values())if(E.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:h,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&h.forEach((m,E)=>{const D=t.collectedStyles.get(t.currentQuerySelector),F=D.get(E);let W=!0;F&&(a!=i&&a>=F.startTime&&i<=F.endTime&&(t.errors.push(function Rq(n,e,t,r,i){return new s.vHH(3010,!1)}()),W=!1),a=F.startTime),W&&D.set(E,{startTime:a,endTime:i}),t.options&&function d8(n,e,t){const r=e.params||{},i=MH(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function Iq(n){return new s.vHH(3001,!1)}())})}(m,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Oq(){return new s.vHH(3011,!1)}()),r;let a=0;const h=[];let m=!1,E=!1,D=0;const F=e.steps.map(rt=>{const _t=this._makeStyleAst(rt,t);let ht=null!=_t.offset?_t.offset:function x8(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(_t.styles),At=0;return null!=ht&&(a++,At=_t.offset=ht),E=E||At<0||At>1,m=m||At<D,D=At,h.push(At),_t});E&&t.errors.push(function Fq(){return new s.vHH(3012,!1)}()),m&&t.errors.push(function Nq(){return new s.vHH(3200,!1)}());const W=e.steps.length;let ce=0;a>0&&a<W?t.errors.push(function Lq(){return new s.vHH(3202,!1)}()):0==a&&(ce=1/(W-1));const me=W-1,Ce=t.currentTime,Me=t.currentAnimateTimings,Ue=Me.duration;return F.forEach((rt,_t)=>{const ht=ce>0?_t==me?1:ce*_t:h[_t],At=ht*Ue;t.currentTime=Ce+Me.delay+At,Me.duration=At,this._validateStyleAst(rt,t),rt.offset=ht,r.styles.push(rt)}),r}visitReference(e,t){return{type:8,animation:Jo(this,Jb(e.animation),t),options:qm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:qm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:qm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,h]=function I8(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(C8,"")),n=n.replace(/@\*/g,XI).replace(/@\w+/g,t=>XI+"-"+t.slice(1)).replace(/:animating/g,ck),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Xo(t.collectedStyles,t.currentQuerySelector,new Map);const m=Jo(this,Jb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:h,animation:m,originalSelector:e.selector,options:qm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Vq(){return new s.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:JI(e.timings,t.errors,!0);return{type:12,animation:Jo(this,Jb(e.animation),t),timings:r,options:null}}}class T8{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qm(n){return n?(n=Xb(n)).params&&(n.params=function D8(n){return n?Xb(n):null}(n.params)):n={},n}function pk(n,e,t){return{duration:n,delay:e,easing:t}}function mk(n,e,t,r,i,a,h=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:h,subTimeline:m}}class oD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const k8=new RegExp(":enter","g"),O8=new RegExp(":leave","g");function gk(n,e,t,r,i,a=new Map,h=new Map,m,E,D=[]){return(new F8).buildKeyframes(n,e,t,r,i,a,h,m,E,D)}class F8{buildKeyframes(e,t,r,i,a,h,m,E,D,F=[]){D=D||new oD;const W=new yk(e,t,D,i,a,F,[]);W.options=E;const ce=E.delay?Ah(E.delay):0;W.currentTimeline.delayNextStep(ce),W.currentTimeline.setStyles([h],null,W.errors,E),Jo(this,r,W);const me=W.timelines.filter(Ce=>Ce.containsAnimation());if(me.length&&m.size){let Ce;for(let Me=me.length-1;Me>=0;Me--){const Ue=me[Me];if(Ue.element===t){Ce=Ue;break}}Ce&&!Ce.allowOnlyTimelineStyles()&&Ce.setStyles([m],null,W.errors,E)}return me.length?me.map(Ce=>Ce.buildKeyframes()):[mk(t,[],[],[],0,ce,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,i,i.options);a!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const h="number"==typeof a?a:Ah(ew(a,i?.params??{},t.errors));r.delayNextStep(h)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const h=null!=r.duration?Ah(r.duration):null,m=null!=r.delay?Ah(r.delay):null;return 0!==h&&e.forEach(E=>{const D=t.appendInstructionToTimeline(E,h,m);a=Math.max(a,D.duration+D.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Jo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=aD);const h=Ah(a.delay);i.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>Jo(this,h,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Ah(e.options.delay):0;e.steps.forEach(h=>{const m=t.createSubContext(e.options);a&&m.delayNextStep(a),Jo(this,h,m),i=Math.max(i,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return JI(t.params?ew(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(E=>{m.forwardTime((E.offset||0)*a),m.setStyles(E.styles,E.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Ah(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=aD);let h=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=m.length;let E=null;m.forEach((D,F)=>{t.currentQueryIndex=F;const W=t.createSubContext(e.options,D);a&&W.delayNextStep(a),D===t.element&&(E=W.currentTimeline),Jo(this,e.animation,W),W.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,W.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),E&&(t.currentTimeline.mergeTimelineCollectedStyles(E),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,h=Math.abs(a.duration),m=h*(t.currentQueryTotal-1);let E=h*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":E=m-E;break;case"full":E=r.currentStaggerTime}const F=t.currentTimeline;E&&F.delayNextStep(E);const W=F.currentTime;Jo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-W+(i.startTime-r.currentTimeline.startTime)}}const aD={};class yk{constructor(e,t,r,i,a,h,m,E){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=h,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=aD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new lD(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ah(r.duration)),null!=r.delay&&(i.delay=Ah(r.delay));const a=r.params;if(a){let h=i.params;h||(h=this.options.params={}),Object.keys(a).forEach(m=>{(!t||!h.hasOwnProperty(m))&&(h[m]=ew(a[m],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new yk(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=aD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new N8(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,h){let m=[];if(i&&m.push(this.element),e.length>0){e=(e=e.replace(k8,"."+this._enterClassName)).replace(O8,"."+this._leaveClassName);let D=this._driver.query(this.element,e,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),m.push(...D)}return!a&&0==m.length&&h.push(function Bq(n){return new s.vHH(3014,!1)}()),m}}class lD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new lD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Dl),this._currentKeyframe.set(t,Dl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},h=function L8(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,Dl)}else Ef(i,t)}),t}(e,this._globalTimelineStyles);for(let[m,E]of h){const D=ew(E,a,r);this._pendingStyles.set(m,D),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??Dl),this._updateStyle(m,D)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((m,E)=>{const D=Ef(m,new Map,this._backFill);D.forEach((F,W)=>{"!"===F?e.add(W):F===Dl&&t.add(W)}),r||D.set("offset",E/this.duration),i.push(D)});const a=e.size?eD(e.values()):[],h=t.size?eD(t.values()):[];if(r){const m=i[0],E=new Map(m);m.set("offset",0),E.set("offset",1),i=[m,E]}return mk(this.element,i,a,h,this.duration,this.startTime,this.easing,!1)}}class N8 extends lD{constructor(e,t,r,i,a,h,m=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=m,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],h=r+t,m=t/h,E=Ef(e[0]);E.set("offset",0),a.push(E);const D=Ef(e[0]);D.set("offset",FH(m)),a.push(D);const F=e.length-1;for(let W=1;W<=F;W++){let ce=Ef(e[W]);const me=ce.get("offset");ce.set("offset",FH((t+me*r)/h)),a.push(ce)}r=h,t=0,i="",e=a}return mk(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function FH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class _k{}const V8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class B8 extends _k{normalizePropertyName(e,t){return dk(e)}normalizeStyleValue(e,t,r,i){let a="";const h=r.toString().trim();if(V8.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&i.push(function xq(n,e){return new s.vHH(3005,!1)}())}return h+a}}function NH(n,e,t,r,i,a,h,m,E,D,F,W,ce){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:h,timelines:m,queriedElements:E,preStyleProps:D,postStyleProps:F,totalTime:W,errors:ce}}const vk={};class LH{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function H8(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,h,m,E,D,F){const W=[],ce=this.ast.options&&this.ast.options.params||vk,Ce=this.buildStyles(r,m&&m.params||vk,W),Me=E&&E.params||vk,Ue=this.buildStyles(i,Me,W),rt=new Set,_t=new Map,ht=new Map,At="void"===i,en={params:U8(Me,ce),delay:this.ast.options?.delay},rn=F?[]:gk(e,t,this.ast.animation,a,h,Ce,Ue,en,D,W);let Vn=0;if(rn.forEach(Mh=>{Vn=Math.max(Mh.duration+Mh.delay,Vn)}),W.length)return NH(t,this._triggerName,r,i,At,Ce,Ue,[],[],_t,ht,Vn,W);rn.forEach(Mh=>{const Ph=Mh.element,t3=Xo(_t,Ph,new Set);Mh.preStyleProps.forEach(Wm=>t3.add(Wm));const nw=Xo(ht,Ph,new Set);Mh.postStyleProps.forEach(Wm=>nw.add(Wm)),Ph!==t&&rt.add(Ph)});const Ki=eD(rt.values());return NH(t,this._triggerName,r,i,At,Ce,Ue,rn,Ki,_t,ht,Vn)}}function U8(n,e){const t=Xb(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class z8{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Xb(this.defaultParams);return Object.keys(e).forEach(a=>{const h=e[a];null!==h&&(i[a]=h)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((h,m)=>{h&&(h=ew(h,i,t));const E=this.normalizer.normalizePropertyName(m,t);h=this.normalizer.normalizeStyleValue(m,E,h,t),r.set(E,h)})}),r}}class G8{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new z8(i.style,i.options&&i.options.params||{},r))}),VH(this.states,"true","1"),VH(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new LH(e,i,this.states))}),this.fallbackTransition=function $8(n,e,t){return new LH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(h=>h.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function VH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const q8=new oD;class W8{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=fk(this._driver,t,r,[]);if(r.length)throw function qq(n){return new s.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=gH(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let h;const m=new Map;if(a?(h=gk(this._driver,t,a,lk,YI,new Map,new Map,r,q8,i),h.forEach(F=>{const W=Xo(m,F.element,new Map);F.postStyleProps.forEach(ce=>W.set(ce,null))})):(i.push(function Wq(){return new s.vHH(3300,!1)}()),h=[]),i.length)throw function Zq(n){return new s.vHH(3504,!1)}();m.forEach((F,W)=>{F.forEach((ce,me)=>{F.set(me,this._driver.computeStyle(W,me,Dl))})});const D=wf(h.map(F=>{const W=m.get(F.element);return this._buildPlayer(F,new Map,W)}));return this._playersById.set(e,D),D.onDestroy(()=>this.destroy(e)),this.players.push(D),D}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Kq(n){return new s.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=ik(t,"","","");return nk(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const BH="ng-animate-queued",bk="ng-animate-disabled",X8=[],HH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},J8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ua="__ng_removed";class wk{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function r9(n){return n??null}(r?e.value:e),r){const a=Xb(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const tw="void",Ek=new wk(tw);class e9{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,za(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Yq(n,e){return new s.vHH(3302,!1)}();if(null==r||0==r.length)throw function Qq(n){return new s.vHH(3303,!1)}();if(!function i9(n){return"start"==n||"done"==n}(r))throw function Xq(n,e){return new s.vHH(3400,!1)}();const a=Xo(this._elementListeners,e,[]),h={name:t,phase:r,callback:i};a.push(h);const m=Xo(this._engine.statesByElement,e,new Map);return m.has(t)||(za(e,QI),za(e,QI+"-"+t),m.set(t,Ek)),()=>{this._engine.afterFlush(()=>{const E=a.indexOf(h);E>=0&&a.splice(E,1),this._triggers.has(t)||m.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Jq(n){return new s.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),h=new Ck(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(za(e,QI),za(e,QI+"-"+t),this._engine.statesByElement.set(e,m=new Map));let E=m.get(t);const D=new wk(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&E&&D.absorbOptions(E.options),m.set(t,D),E||(E=Ek),D.value!==tw&&E.value===D.value){if(!function a9(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(E.params,D.params)){const Me=[],Ue=a.matchStyles(E.value,E.params,Me),rt=a.matchStyles(D.value,D.params,Me);Me.length?this._engine.reportError(Me):this._engine.afterFlush(()=>{$m(e,Ue),Zc(e,rt)})}return}const ce=Xo(this._engine.playersByElement,e,[]);ce.forEach(Me=>{Me.namespaceId==this.id&&Me.triggerName==t&&Me.queued&&Me.destroy()});let me=a.matchTransition(E.value,D.value,e,D.params),Ce=!1;if(!me){if(!i)return;me=a.fallbackTransition,Ce=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:me,fromState:E,toState:D,player:h,isFallbackTransition:Ce}),Ce||(za(e,BH),h.onStart(()=>{m_(e,BH)})),h.onDone(()=>{let Me=this.players.indexOf(h);Me>=0&&this.players.splice(Me,1);const Ue=this._engine.playersByElement.get(e);if(Ue){let rt=Ue.indexOf(h);rt>=0&&Ue.splice(rt,1)}}),this.players.push(h),ce.push(h),h}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,XI,!0);r.forEach(i=>{if(i[Ua])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(h=>h.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),h=new Map;if(a){const m=[];if(a.forEach((E,D)=>{if(h.set(D,E.value),this._triggers.has(D)){const F=this.trigger(e,D,tw,i);F&&m.push(F)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,h),r&&wf(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const h=a.name;if(i.has(h))return;i.add(h);const E=this._triggers.get(h).fallbackTransition,D=r.get(h)||Ek,F=new wk(tw),W=new Ck(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:E,fromState:D,toState:F,player:W,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ua];(!a||a===HH)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){za(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,h=this._elementListeners.get(a);h&&h.forEach(m=>{if(m.name==r.triggerName){const E=ik(a,r.triggerName,r.fromState.value,r.toState.value);E._data=e,nk(r.player,m.phase,E,m.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,h=i.transition.ast.depCount;return 0==a||0==h?a-h:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class t9{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new e9(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let h=!1,m=this.driver.getParentElement(t);for(;m;){const E=i.get(m);if(E){const D=r.indexOf(E);r.splice(D+1,0,e),h=!0;break}m=this.driver.getParentElement(m)}h||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(cD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!cD(t))return;const a=t[Ua];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),za(e,bk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),m_(e,bk))}removeNode(e,t,r,i){if(cD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Ua]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return cD(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,XI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ck,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return wf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ua];if(t&&t.setForRemoval){if(e[Ua]=HH,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(bk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)za(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?wf(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function e8(n){return new s.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new oD,i=[],a=new Map,h=[],m=new Map,E=new Map,D=new Map,F=new Set;this.disabledNodes.forEach(Pt=>{F.add(Pt);const Wt=this.driver.query(Pt,".ng-animate-queued",!0);for(let Qt=0;Qt<Wt.length;Qt++)F.add(Wt[Qt])});const W=this.bodyNode,ce=Array.from(this.statesByElement.keys()),me=jH(ce,this.collectedEnterElements),Ce=new Map;let Me=0;me.forEach((Pt,Wt)=>{const Qt=lk+Me++;Ce.set(Wt,Qt),Pt.forEach(Rn=>za(Rn,Qt))});const Ue=[],rt=new Set,_t=new Set;for(let Pt=0;Pt<this.collectedLeaveElements.length;Pt++){const Wt=this.collectedLeaveElements[Pt],Qt=Wt[Ua];Qt&&Qt.setForRemoval&&(Ue.push(Wt),rt.add(Wt),Qt.hasAnimation?this.driver.query(Wt,".ng-star-inserted",!0).forEach(Rn=>rt.add(Rn)):_t.add(Wt))}const ht=new Map,At=jH(ce,Array.from(rt));At.forEach((Pt,Wt)=>{const Qt=YI+Me++;ht.set(Wt,Qt),Pt.forEach(Rn=>za(Rn,Qt))}),e.push(()=>{me.forEach((Pt,Wt)=>{const Qt=Ce.get(Wt);Pt.forEach(Rn=>m_(Rn,Qt))}),At.forEach((Pt,Wt)=>{const Qt=ht.get(Wt);Pt.forEach(Rn=>m_(Rn,Qt))}),Ue.forEach(Pt=>{this.processLeaveNode(Pt)})});const en=[],rn=[];for(let Pt=this._namespaceList.length-1;Pt>=0;Pt--)this._namespaceList[Pt].drainQueuedTransitions(t).forEach(Qt=>{const Rn=Qt.player,Yi=Qt.element;if(en.push(Rn),this.collectedEnterElements.length){const Ls=Yi[Ua];if(Ls&&Ls.setForMove){if(Ls.previousTriggersValues&&Ls.previousTriggersValues.has(Qt.triggerName)){const Zm=Ls.previousTriggersValues.get(Qt.triggerName),ja=this.statesByElement.get(Qt.element);if(ja&&ja.has(Qt.triggerName)){const dD=ja.get(Qt.triggerName);dD.value=Zm,ja.set(Qt.triggerName,dD)}}return void Rn.destroy()}}const Kc=!W||!this.driver.containsElement(W,Yi),ea=ht.get(Yi),Cf=Ce.get(Yi),Ur=this._buildInstruction(Qt,r,Cf,ea,Kc);if(Ur.errors&&Ur.errors.length)return void rn.push(Ur);if(Kc)return Rn.onStart(()=>$m(Yi,Ur.fromStyles)),Rn.onDestroy(()=>Zc(Yi,Ur.toStyles)),void i.push(Rn);if(Qt.isFallbackTransition)return Rn.onStart(()=>$m(Yi,Ur.fromStyles)),Rn.onDestroy(()=>Zc(Yi,Ur.toStyles)),void i.push(Rn);const s3=[];Ur.timelines.forEach(Ls=>{Ls.stretchStartingKeyframe=!0,this.disabledNodes.has(Ls.element)||s3.push(Ls)}),Ur.timelines=s3,r.append(Yi,Ur.timelines),h.push({instruction:Ur,player:Rn,element:Yi}),Ur.queriedElements.forEach(Ls=>Xo(m,Ls,[]).push(Rn)),Ur.preStyleProps.forEach((Ls,Zm)=>{if(Ls.size){let ja=E.get(Zm);ja||E.set(Zm,ja=new Set),Ls.forEach((dD,Tk)=>ja.add(Tk))}}),Ur.postStyleProps.forEach((Ls,Zm)=>{let ja=D.get(Zm);ja||D.set(Zm,ja=new Set),Ls.forEach((dD,Tk)=>ja.add(Tk))})});if(rn.length){const Pt=[];rn.forEach(Wt=>{Pt.push(function t8(n,e){return new s.vHH(3505,!1)}())}),en.forEach(Wt=>Wt.destroy()),this.reportError(Pt)}const Vn=new Map,Ki=new Map;h.forEach(Pt=>{const Wt=Pt.element;r.has(Wt)&&(Ki.set(Wt,Wt),this._beforeAnimationBuild(Pt.player.namespaceId,Pt.instruction,Vn))}),i.forEach(Pt=>{const Wt=Pt.element;this._getPreviousPlayers(Wt,!1,Pt.namespaceId,Pt.triggerName,null).forEach(Rn=>{Xo(Vn,Wt,[]).push(Rn),Rn.destroy()})});const Mh=Ue.filter(Pt=>$H(Pt,E,D)),Ph=new Map;zH(Ph,this.driver,_t,D,Dl).forEach(Pt=>{$H(Pt,E,D)&&Mh.push(Pt)});const nw=new Map;me.forEach((Pt,Wt)=>{zH(nw,this.driver,new Set(Pt),E,"!")}),Mh.forEach(Pt=>{const Wt=Ph.get(Pt),Qt=nw.get(Pt);Ph.set(Pt,new Map([...Array.from(Wt?.entries()??[]),...Array.from(Qt?.entries()??[])]))});const Wm=[],n3=[],r3={};h.forEach(Pt=>{const{element:Wt,player:Qt,instruction:Rn}=Pt;if(r.has(Wt)){if(F.has(Wt))return Qt.onDestroy(()=>Zc(Wt,Rn.toStyles)),Qt.disabled=!0,Qt.overrideTotalTime(Rn.totalTime),void i.push(Qt);let Yi=r3;if(Ki.size>1){let ea=Wt;const Cf=[];for(;ea=ea.parentNode;){const Ur=Ki.get(ea);if(Ur){Yi=Ur;break}Cf.push(ea)}Cf.forEach(Ur=>Ki.set(Ur,Yi))}const Kc=this._buildAnimation(Qt.namespaceId,Rn,Vn,a,nw,Ph);if(Qt.setRealPlayer(Kc),Yi===r3)Wm.push(Qt);else{const ea=this.playersByElement.get(Yi);ea&&ea.length&&(Qt.parentPlayer=wf(ea)),i.push(Qt)}}else $m(Wt,Rn.fromStyles),Qt.onDestroy(()=>Zc(Wt,Rn.toStyles)),n3.push(Qt),F.has(Wt)&&i.push(Qt)}),n3.forEach(Pt=>{const Wt=a.get(Pt.element);if(Wt&&Wt.length){const Qt=wf(Wt);Pt.setRealPlayer(Qt)}}),i.forEach(Pt=>{Pt.parentPlayer?Pt.syncPlayerEvents(Pt.parentPlayer):Pt.destroy()});for(let Pt=0;Pt<Ue.length;Pt++){const Wt=Ue[Pt],Qt=Wt[Ua];if(m_(Wt,YI),Qt&&Qt.hasAnimation)continue;let Rn=[];if(m.size){let Kc=m.get(Wt);Kc&&Kc.length&&Rn.push(...Kc);let ea=this.driver.query(Wt,ck,!0);for(let Cf=0;Cf<ea.length;Cf++){let Ur=m.get(ea[Cf]);Ur&&Ur.length&&Rn.push(...Ur)}}const Yi=Rn.filter(Kc=>!Kc.destroyed);Yi.length?s9(this,Wt,Yi):this.processLeaveNode(Wt)}return Ue.length=0,Wm.forEach(Pt=>{this.players.push(Pt),Pt.onDone(()=>{Pt.destroy();const Wt=this.players.indexOf(Pt);this.players.splice(Wt,1)}),Pt.play()}),Wm}elementContainsData(e,t){let r=!1;const i=t[Ua];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let h=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(h=m)}else{const m=this.playersByElement.get(e);if(m){const E=!a||a==tw;m.forEach(D=>{D.queued||!E&&D.triggerName!=i||h.push(D)})}}return(r||i)&&(h=h.filter(m=>!(r&&r!=m.namespaceId||i&&i!=m.triggerName))),h}_beforeAnimationBuild(e,t,r){const a=t.element,h=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const E of t.timelines){const D=E.element,F=D!==a,W=Xo(r,D,[]);this._getPreviousPlayers(D,F,h,m,t.toState).forEach(me=>{const Ce=me.getRealPlayer();Ce.beforeDestroy&&Ce.beforeDestroy(),me.destroy(),W.push(me)})}$m(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,h){const m=t.triggerName,E=t.element,D=[],F=new Set,W=new Set,ce=t.timelines.map(Ce=>{const Me=Ce.element;F.add(Me);const Ue=Me[Ua];if(Ue&&Ue.removedBeforeQueried)return new my(Ce.duration,Ce.delay);const rt=Me!==E,_t=function o9(n){const e=[];return GH(n,e),e}((r.get(Me)||X8).map(Vn=>Vn.getRealPlayer())).filter(Vn=>!!Vn.element&&Vn.element===Me),ht=a.get(Me),At=h.get(Me),en=gH(0,this._normalizer,0,Ce.keyframes,ht,At),rn=this._buildPlayer(Ce,en,_t);if(Ce.subTimeline&&i&&W.add(Me),rt){const Vn=new Ck(e,m,Me);Vn.setRealPlayer(rn),D.push(Vn)}return rn});D.forEach(Ce=>{Xo(this.playersByQueriedElement,Ce.element,[]).push(Ce),Ce.onDone(()=>function n9(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Ce.element,Ce))}),F.forEach(Ce=>za(Ce,IH));const me=wf(ce);return me.onDestroy(()=>{F.forEach(Ce=>m_(Ce,IH)),Zc(E,t.toStyles)}),W.forEach(Ce=>{Xo(i,Ce,[]).push(me)}),me}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new my(e.duration,e.delay)}}class Ck{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new my,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>nk(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Xo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function cD(n){return n&&1===n.nodeType}function UH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function zH(n,e,t,r,i){const a=[];t.forEach(E=>a.push(UH(E)));const h=[];r.forEach((E,D)=>{const F=new Map;E.forEach(W=>{const ce=e.computeStyle(D,W,i);F.set(W,ce),(!ce||0==ce.length)&&(D[Ua]=J8,h.push(D))}),n.set(D,F)});let m=0;return t.forEach(E=>UH(E,a[m++])),h}function jH(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const i=new Set(e),a=new Map;function h(m){if(!m)return 1;let E=a.get(m);if(E)return E;const D=m.parentNode;return E=t.has(D)?D:i.has(D)?1:h(D),a.set(m,E),E}return e.forEach(m=>{const E=h(m);1!==E&&t.get(E).push(m)}),t}function za(n,e){n.classList?.add(e)}function m_(n,e){n.classList?.remove(e)}function s9(n,e,t){wf(t).onDone(()=>n.processLeaveNode(e))}function GH(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof _o?GH(r.players,e):e.push(r)}}function $H(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class uD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new t9(e,t,r),this._timelineEngine=new W8(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const h=e+"-"+i;let m=this._triggerCache[h];if(!m){const E=[],F=fk(this._driver,a,E,[]);if(E.length)throw function Gq(n,e){return new s.vHH(3404,!1)}();m=function j8(n,e,t){return new G8(n,e,t)}(i,F,this._normalizer),this._triggerCache[h]=m}this._transitionEngine.registerTrigger(t,i,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,h]=yH(r);this._timelineEngine.command(a,t,h,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[h,m]=yH(r);return this._timelineEngine.listen(h,t,m,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let c9=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Zc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zc(this._element,this._initialStyles),this._endStyles&&(Zc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&($m(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($m(this._element,this._endStyles),this._endStyles=null),Zc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Sk(n){let e=null;return n.forEach((t,r)=>{(function u9(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class qH{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:PH(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class h9{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return wH(e,t)}getParentElement(e){return ok(e)}query(e,t,r){return EH(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,h=[]){const E={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(E.easing=a);const D=new Map,F=h.filter(me=>me instanceof qH);(function m8(n,e){return 0===n||0===e})(r,i)&&F.forEach(me=>{me.currentSnapshot.forEach((Ce,Me)=>D.set(Me,Ce))});let W=function h8(n){return n.length?n[0]instanceof Map?n:n.map(e=>DH(e)):[]}(t).map(me=>Ef(me));W=function g8(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,h)=>{r.has(h)||i.push(h),r.set(h,a)}),i.length)for(let a=1;a<e.length;a++){let h=e[a];i.forEach(m=>h.set(m,PH(n,m)))}}return e}(e,W,D);const ce=function l9(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Sk(e[0]),e.length>1&&(r=Sk(e[e.length-1]))):e instanceof Map&&(t=Sk(e)),t||r?new c9(n,t,r):null}(e,W);return new qH(e,W,E,ce)}}let d9=(()=>{class n extends l0{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?HC(t):t;return WH(this._renderer,null,r,"register",[i]),new f9(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(O))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class f9 extends class ZO{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new p9(this._id,e,t||{},this._renderer)}}class p9{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return WH(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function WH(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const ZH="@.disabled";let m9=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,h)=>{const m=h?.parentNode(a);m&&h.removeChild(m,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let F=this._rendererCache.get(a);return F||(F=new KH("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,F)),F}const h=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const E=F=>{Array.isArray(F)?F.forEach(E):this.engine.registerTrigger(h,m,t,F.name,F)};return r.data.animation.forEach(E),new g9(this,m,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[h,m]=a;h(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(uD),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class KH{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==ZH?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class g9 extends KH{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ZH?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function y9(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),h="";return"@"!=a.charAt(0)&&([a,h]=function _9(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,h,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let v9=(()=>{class n extends uD{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(O),s.LFG(ak),s.LFG(_k),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const YH=[{provide:l0,useClass:d9},{provide:_k,useFactory:function b9(){return new B8}},{provide:uD,useClass:v9},{provide:s.FYo,useFactory:function w9(n,e,t){return new m9(n,e,t)},deps:[da,uD,s.R0b]}],Ik=[{provide:ak,useFactory:()=>new h9},{provide:s.QbO,useValue:"BrowserAnimations"},...YH],QH=[{provide:ak,useClass:CH},{provide:s.QbO,useValue:"NoopAnimations"},...YH];let XH=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?QH:Ik}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Ik,imports:[ic]}),n})(),Dk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[fr],fr]}),n})();const D9={provide:new s.OlP("mat-select-scroll-strategy"),deps:[Fn],useFactory:function I9(n){return()=>n.scrollStrategies.reposition()}};let T9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[D9],imports:[[_i,sm,BC,fr],Ud,c_,BC,fr]}),n})(),e3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[_i,dv,Nd,Mp,Dk,h_,Wb,v0,c_,HP,EB,Qb,h_,Wb,Qb,T9,dH,_i,dv,Nd,Mp,Dk,h_,Wb,v0,c_,HP,Qb,h_,Wb,Qb]}),n})(),x9=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[x9],imports:[_i]}),n})(),M9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[eu],imports:[_i,e3,dH]}),n})(),P9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[Eq]}),n.\u0275inj=s.cJS({providers:[{provide:V,useClass:te}],imports:[ic,_i,Mp,bq,Na.hO.initializeApp(pH_firebaseConfig),m4,C4,XH,e3,A9,M9,EB,v0,Nd,c_,HP,h_,Wb,Dk,Qb,sH,Nd,XH]}),n})();(0,s.G48)(),rc().bootstrapModule(P9).catch(n=>console.error(n))},1520:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(c){return"[object Array]"===Object.prototype.toString.call(c)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(c){return"object"==typeof c&&c.buffer&&c.buffer.constructor===ArrayBuffer});var createOutputMethod=function(c,d){return function(f){return new Sha256(d,!0).update(f)[c]()}},createMethod=function(c){var d=createOutputMethod("hex",c);NODE_JS&&(d=nodeWrap(d,c)),d.create=function(){return new Sha256(c)},d.update=function(v){return d.create().update(v)};for(var f=0;f<OUTPUT_TYPES.length;++f){var s=OUTPUT_TYPES[f];d[s]=createOutputMethod(s,c)}return d},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(c){if("string"==typeof c)return crypto.createHash(algorithm).update(c,"utf8").digest("hex");if(null==c)throw new Error(ERROR);return c.constructor===ArrayBuffer&&(c=new Uint8Array(c)),Array.isArray(c)||ArrayBuffer.isView(c)||c.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(c)).digest("hex"):method(c)};return nodeMethod},createHmacOutputMethod=function(c,d){return function(f,s){return new HmacSha256(f,d,!0).update(s)[c]()}},createHmacMethod=function(c){var d=createHmacOutputMethod("hex",c);d.create=function(v){return new HmacSha256(v,c)},d.update=function(v,_){return d.create(v).update(_)};for(var f=0;f<OUTPUT_TYPES.length;++f){var s=OUTPUT_TYPES[f];d[s]=createHmacOutputMethod(s,c)}return d};function Sha256(c,d){d?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=c}function HmacSha256(c,d,f){var s,v=typeof c;if("string"===v){var P,_=[],I=c.length,M=0;for(s=0;s<I;++s)(P=c.charCodeAt(s))<128?_[M++]=P:P<2048?(_[M++]=192|P>>6,_[M++]=128|63&P):P<55296||P>=57344?(_[M++]=224|P>>12,_[M++]=128|P>>6&63,_[M++]=128|63&P):(P=65536+((1023&P)<<10|1023&c.charCodeAt(++s)),_[M++]=240|P>>18,_[M++]=128|P>>12&63,_[M++]=128|P>>6&63,_[M++]=128|63&P);c=_}else{if("object"!==v)throw new Error(ERROR);if(null===c)throw new Error(ERROR);if(ARRAY_BUFFER&&c.constructor===ArrayBuffer)c=new Uint8Array(c);else if(!(Array.isArray(c)||ARRAY_BUFFER&&ArrayBuffer.isView(c)))throw new Error(ERROR)}c.length>64&&(c=new Sha256(d,!0).update(c).array());var O=[],j=[];for(s=0;s<64;++s){var Q=c[s]||0;O[s]=92^Q,j[s]=54^Q}Sha256.call(this,d,f),this.update(j),this.oKeyPad=O,this.inner=!0,this.sharedMemory=f}Sha256.prototype.update=function(c){if(!this.finalized){var d,f=typeof c;if("string"!==f){if("object"!==f)throw new Error(ERROR);if(null===c)throw new Error(ERROR);if(ARRAY_BUFFER&&c.constructor===ArrayBuffer)c=new Uint8Array(c);else if(!(Array.isArray(c)||ARRAY_BUFFER&&ArrayBuffer.isView(c)))throw new Error(ERROR);d=!0}for(var s,_,v=0,I=c.length,M=this.blocks;v<I;){if(this.hashed&&(this.hashed=!1,M[0]=this.block,M[16]=M[1]=M[2]=M[3]=M[4]=M[5]=M[6]=M[7]=M[8]=M[9]=M[10]=M[11]=M[12]=M[13]=M[14]=M[15]=0),d)for(_=this.start;v<I&&_<64;++v)M[_>>2]|=c[v]<<SHIFT[3&_++];else for(_=this.start;v<I&&_<64;++v)(s=c.charCodeAt(v))<128?M[_>>2]|=s<<SHIFT[3&_++]:s<2048?(M[_>>2]|=(192|s>>6)<<SHIFT[3&_++],M[_>>2]|=(128|63&s)<<SHIFT[3&_++]):s<55296||s>=57344?(M[_>>2]|=(224|s>>12)<<SHIFT[3&_++],M[_>>2]|=(128|s>>6&63)<<SHIFT[3&_++],M[_>>2]|=(128|63&s)<<SHIFT[3&_++]):(s=65536+((1023&s)<<10|1023&c.charCodeAt(++v)),M[_>>2]|=(240|s>>18)<<SHIFT[3&_++],M[_>>2]|=(128|s>>12&63)<<SHIFT[3&_++],M[_>>2]|=(128|s>>6&63)<<SHIFT[3&_++],M[_>>2]|=(128|63&s)<<SHIFT[3&_++]);this.lastByteIndex=_,this.bytes+=_-this.start,_>=64?(this.block=M[16],this.start=_-64,this.hash(),this.hashed=!0):this.start=_}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var c=this.blocks,d=this.lastByteIndex;c[16]=this.block,c[d>>2]|=EXTRA[3&d],this.block=c[16],d>=56&&(this.hashed||this.hash(),c[0]=this.block,c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),c[14]=this.hBytes<<3|this.bytes>>>29,c[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var O,H,ne,z,G,V,c=this.h0,d=this.h1,f=this.h2,s=this.h3,v=this.h4,_=this.h5,I=this.h6,M=this.h7,P=this.blocks;for(O=16;O<64;++O)P[O]=P[O-16]+(((H=P[O-15])>>>7|H<<25)^(H>>>18|H<<14)^H>>>3)+P[O-7]+(((H=P[O-2])>>>17|H<<15)^(H>>>19|H<<13)^H>>>10)<<0;for(V=d&f,O=0;O<64;O+=4)this.first?(this.is224?(ne=300032,M=(H=P[0]-1413257819)-150054599<<0,s=H+24177077<<0):(ne=704751109,M=(H=P[0]-210244248)-1521486534<<0,s=H+143694565<<0),this.first=!1):(M=s+(H=M+((v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&_^~v&I)+K[O]+P[O])<<0,s=H+(((c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10))+((ne=c&d)^c&f^V))<<0),I=f+(H=I+((M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(M&v^~M&_)+K[O+1]+P[O+1])<<0,f=H+(((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+((z=s&c)^s&d^ne))<<0,_=d+(H=_+((I>>>6|I<<26)^(I>>>11|I<<21)^(I>>>25|I<<7))+(I&M^~I&v)+K[O+2]+P[O+2])<<0,d=H+(((f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10))+((G=f&s)^f&c^z))<<0,v=c+(H=v+((_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7))+(_&I^~_&M)+K[O+3]+P[O+3])<<0,c=H+(((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+((V=d&f)^d&s^G))<<0;this.h0=this.h0+c<<0,this.h1=this.h1+d<<0,this.h2=this.h2+f<<0,this.h3=this.h3+s<<0,this.h4=this.h4+v<<0,this.h5=this.h5+_<<0,this.h6=this.h6+I<<0,this.h7=this.h7+M<<0},Sha256.prototype.hex=function(){this.finalize();var c=this.h0,d=this.h1,f=this.h2,s=this.h3,v=this.h4,_=this.h5,I=this.h6,M=this.h7,P=HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[15&c]+HEX_CHARS[d>>28&15]+HEX_CHARS[d>>24&15]+HEX_CHARS[d>>20&15]+HEX_CHARS[d>>16&15]+HEX_CHARS[d>>12&15]+HEX_CHARS[d>>8&15]+HEX_CHARS[d>>4&15]+HEX_CHARS[15&d]+HEX_CHARS[f>>28&15]+HEX_CHARS[f>>24&15]+HEX_CHARS[f>>20&15]+HEX_CHARS[f>>16&15]+HEX_CHARS[f>>12&15]+HEX_CHARS[f>>8&15]+HEX_CHARS[f>>4&15]+HEX_CHARS[15&f]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[v>>28&15]+HEX_CHARS[v>>24&15]+HEX_CHARS[v>>20&15]+HEX_CHARS[v>>16&15]+HEX_CHARS[v>>12&15]+HEX_CHARS[v>>8&15]+HEX_CHARS[v>>4&15]+HEX_CHARS[15&v]+HEX_CHARS[_>>28&15]+HEX_CHARS[_>>24&15]+HEX_CHARS[_>>20&15]+HEX_CHARS[_>>16&15]+HEX_CHARS[_>>12&15]+HEX_CHARS[_>>8&15]+HEX_CHARS[_>>4&15]+HEX_CHARS[15&_]+HEX_CHARS[I>>28&15]+HEX_CHARS[I>>24&15]+HEX_CHARS[I>>20&15]+HEX_CHARS[I>>16&15]+HEX_CHARS[I>>12&15]+HEX_CHARS[I>>8&15]+HEX_CHARS[I>>4&15]+HEX_CHARS[15&I];return this.is224||(P+=HEX_CHARS[M>>28&15]+HEX_CHARS[M>>24&15]+HEX_CHARS[M>>20&15]+HEX_CHARS[M>>16&15]+HEX_CHARS[M>>12&15]+HEX_CHARS[M>>8&15]+HEX_CHARS[M>>4&15]+HEX_CHARS[15&M]),P},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var c=this.h0,d=this.h1,f=this.h2,s=this.h3,v=this.h4,_=this.h5,I=this.h6,M=this.h7,P=[c>>24&255,c>>16&255,c>>8&255,255&c,d>>24&255,d>>16&255,d>>8&255,255&d,f>>24&255,f>>16&255,f>>8&255,255&f,s>>24&255,s>>16&255,s>>8&255,255&s,v>>24&255,v>>16&255,v>>8&255,255&v,_>>24&255,_>>16&255,_>>8&255,255&_,I>>24&255,I>>16&255,I>>8&255,255&I];return this.is224||P.push(M>>24&255,M>>16&255,M>>8&255,255&M),P},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var c=new ArrayBuffer(this.is224?28:32),d=new DataView(c);return d.setUint32(0,this.h0),d.setUint32(4,this.h1),d.setUint32(8,this.h2),d.setUint32(12,this.h3),d.setUint32(16,this.h4),d.setUint32(20,this.h5),d.setUint32(24,this.h6),this.is224||d.setUint32(28,this.h7),c},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var c=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(c),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},4487:function(module,exports,__webpack_require__){var d;typeof navigator<"u"&&(d=function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(d){_useWebWorker=!!d},getWebWorker=function(){return _useWebWorker},setLocationHref=function(d){locationHref=d},getLocationHref=function(){return locationHref};function createTag(c){return document.createElement(c)}function extendPrototype(c,d){var f,v,s=c.length;for(f=0;f<s;f+=1)for(var _ in v=c[f].prototype)Object.prototype.hasOwnProperty.call(v,_)&&(d.prototype[_]=v[_])}function getDescriptor(c,d){return Object.getOwnPropertyDescriptor(c,d)}function createProxyFunction(c){function d(){}return d.prototype=c,d}var audioControllerFactory=function(){function c(d){this.audios=[],this.audioFactory=d,this._volume=1,this._isMuted=!1}return c.prototype={addAudio:function(f){this.audios.push(f)},pause:function(){var f,s=this.audios.length;for(f=0;f<s;f+=1)this.audios[f].pause()},resume:function(){var f,s=this.audios.length;for(f=0;f<s;f+=1)this.audios[f].resume()},setRate:function(f){var s,v=this.audios.length;for(s=0;s<v;s+=1)this.audios[s].setRate(f)},createAudio:function(f){return this.audioFactory?this.audioFactory(f):window.Howl?new window.Howl({src:[f]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(f){this.audioFactory=f},setVolume:function(f){this._volume=f,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var f,s=this.audios.length;for(f=0;f<s;f+=1)this.audios[f].volume(this._volume*(this._isMuted?0:1))}},function(){return new c}}(),createTypedArray=function(){function c(f,s){var I,v=0,_=[];switch(f){case"int16":case"uint8c":I=1;break;default:I=1.1}for(v=0;v<s;v+=1)_.push(I);return _}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function d(f,s){return"float32"===f?new Float32Array(s):"int16"===f?new Int16Array(s):"uint8c"===f?new Uint8ClampedArray(s):c(f,s)}:c}();function createSizedArray(c){return Array.apply(null,{length:c})}function _typeof$6(c){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var d,c=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],f=c.length;for(d=0;d<f;d+=1)BMMath[c[d]]=Math[c[d]]}(),BMMath.random=Math.random,BMMath.abs=function(c){if("object"===_typeof$6(c)&&c.length){var s,f=createSizedArray(c.length),v=c.length;for(s=0;s<v;s+=1)f[s]=Math.abs(c[s]);return f}return Math.abs(c)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(c){_shouldRoundValues=!!c}function bmRnd(c){return _shouldRoundValues?Math.round(c):c}function styleDiv(c){c.style.position="absolute",c.style.top=0,c.style.left=0,c.style.display="block",c.style.transformOrigin="0 0",c.style.webkitTransformOrigin="0 0",c.style.backfaceVisibility="visible",c.style.webkitBackfaceVisibility="visible",c.style.transformStyle="preserve-3d",c.style.webkitTransformStyle="preserve-3d",c.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(c,d,f,s){this.type=c,this.currentTime=d,this.totalTime=f,this.direction=s<0?-1:1}function BMCompleteEvent(c,d){this.type=c,this.direction=d<0?-1:1}function BMCompleteLoopEvent(c,d,f,s){this.type=c,this.currentLoop=f,this.totalLoops=d,this.direction=s<0?-1:1}function BMSegmentStartEvent(c,d,f){this.type=c,this.firstFrame=d,this.totalFrames=f}function BMDestroyEvent(c,d){this.type=c,this.target=d}function BMRenderFrameErrorEvent(c,d){this.type="renderFrameError",this.nativeError=c,this.currentTime=d}function BMConfigErrorEvent(c){this.type="configError",this.nativeError=c}function BMAnimationConfigErrorEvent(c,d){this.type=c,this.nativeError=d}var createElementID=(c=0,function(){return idPrefix$1+"__lottie_element_"+(c+=1)}),c;function HSVtoRGB(c,d,f){var s,v,_,I,M,P,O,j;switch(P=f*(1-d),O=f*(1-(M=6*c-(I=Math.floor(6*c)))*d),j=f*(1-(1-M)*d),I%6){case 0:s=f,v=j,_=P;break;case 1:s=O,v=f,_=P;break;case 2:s=P,v=f,_=j;break;case 3:s=P,v=O,_=f;break;case 4:s=j,v=P,_=f;break;case 5:s=f,v=P,_=O}return[s,v,_]}function RGBtoHSV(c,d,f){var I,s=Math.max(c,d,f),v=Math.min(c,d,f),_=s-v,M=0===s?0:_/s,P=s/255;switch(s){case v:I=0;break;case c:I=d-f+_*(d<f?6:0),I/=6*_;break;case d:I=f-c+2*_,I/=6*_;break;case f:I=c-d+4*_,I/=6*_}return[I,M,P]}function addSaturationToRGB(c,d){var f=RGBtoHSV(255*c[0],255*c[1],255*c[2]);return f[1]+=d,f[1]>1?f[1]=1:f[1]<=0&&(f[1]=0),HSVtoRGB(f[0],f[1],f[2])}function addBrightnessToRGB(c,d){var f=RGBtoHSV(255*c[0],255*c[1],255*c[2]);return f[2]+=d,f[2]>1?f[2]=1:f[2]<0&&(f[2]=0),HSVtoRGB(f[0],f[1],f[2])}function addHueToRGB(c,d){var f=RGBtoHSV(255*c[0],255*c[1],255*c[2]);return f[0]+=d/360,f[0]>1?f[0]-=1:f[0]<0&&(f[0]+=1),HSVtoRGB(f[0],f[1],f[2])}var rgbToHex=function(){var d,f,c=[];for(d=0;d<256;d+=1)f=d.toString(16),c[d]=1===f.length?"0"+f:f;return function(s,v,_){return s<0&&(s=0),v<0&&(v=0),_<0&&(_=0),"#"+c[s]+c[v]+c[_]}}(),setSubframeEnabled=function(d){subframeEnabled=!!d},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(d){expressionsPlugin=d},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(d){expressionsInterfaces=d},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(d){defaultCurveSegments=d},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(d){idPrefix$1=d},getIdPrefix=function(){return idPrefix$1};function createNS(c){return document.createElementNS(svgNS,c)}function _typeof$5(c){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var dataManager=function(){var f,s,c=1,d=[],v={onmessage:function(){},postMessage:function(H){f({data:H})}},_={postMessage:function(H){v.onmessage({data:H})}};function M(){s||((s=function I(R){if(window.Worker&&window.Blob&&getWebWorker()){var H=new Blob(["var _workerSelf = self; self.onmessage = ",R.toString()],{type:"text/javascript"}),U=URL.createObjectURL(H);return new Worker(U)}return f=R,v}(function(H){if(_.dataManager||(_.dataManager=function U(){function ne(Te,fe){var le,X,be,pe,Ne,Le,oe=Te.length;for(X=0;X<oe;X+=1)if("ks"in(le=Te[X])&&!le.completed){if(le.completed=!0,le.hasMask){var nt=le.masksProperties;for(pe=nt.length,be=0;be<pe;be+=1)if(nt[be].pt.k.i)ee(nt[be].pt.k);else for(Le=nt[be].pt.k.length,Ne=0;Ne<Le;Ne+=1)nt[be].pt.k[Ne].s&&ee(nt[be].pt.k[Ne].s[0]),nt[be].pt.k[Ne].e&&ee(nt[be].pt.k[Ne].e[0])}0===le.ty?(le.layers=V(le.refId,fe),ne(le.layers,fe)):4===le.ty&&B(le.shapes)}}function V(Te,fe){var le=function G(Te,fe){for(var le=0,X=fe.length;le<X;){if(fe[le].id===Te)return fe[le];le+=1}return null}(Te,fe);return le?le.layers.__used?JSON.parse(JSON.stringify(le.layers)):(le.layers.__used=!0,le.layers):null}function B(Te){var fe,X,oe;for(fe=Te.length-1;fe>=0;fe-=1)if("sh"===Te[fe].ty)if(Te[fe].ks.k.i)ee(Te[fe].ks.k);else for(oe=Te[fe].ks.k.length,X=0;X<oe;X+=1)Te[fe].ks.k[X].s&&ee(Te[fe].ks.k[X].s[0]),Te[fe].ks.k[X].e&&ee(Te[fe].ks.k[X].e[0]);else"gr"===Te[fe].ty&&B(Te[fe].it)}function ee(Te){var fe,le=Te.i.length;for(fe=0;fe<le;fe+=1)Te.i[fe][0]+=Te.v[fe][0],Te.i[fe][1]+=Te.v[fe][1],Te.o[fe][0]+=Te.v[fe][0],Te.o[fe][1]+=Te.v[fe][1]}function te(Te,fe){var le=fe?fe.split("."):[100,100,100];return Te[0]>le[0]||!(le[0]>Te[0])&&(Te[1]>le[1]||!(le[1]>Te[1])&&(Te[2]>le[2]||!(le[2]>Te[2])&&null))}var Te,re=function(){var Te=[4,4,14];function fe(X){X.t.d={k:[{s:X.t.d,t:0}]}}function le(X){var oe,be=X.length;for(oe=0;oe<be;oe+=1)5===X[oe].ty&&fe(X[oe])}return function(X){if(te(Te,X.v)&&(le(X.layers),X.assets)){var oe,be=X.assets.length;for(oe=0;oe<be;oe+=1)X.assets[oe].layers&&le(X.assets[oe].layers)}}}(),ae=(Te=[4,7,99],function(fe){if(fe.chars&&!te(Te,fe.v)){var le,X=fe.chars.length;for(le=0;le<X;le+=1){var oe=fe.chars[le];oe.data&&oe.data.shapes&&(B(oe.data.shapes),oe.data.ip=0,oe.data.op=99999,oe.data.st=0,oe.data.sr=1,oe.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},fe.chars[le].t||(oe.data.shapes.push({ty:"no"}),oe.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),de=function(){var Te=[5,7,15];function fe(X){var oe=X.t.p;"number"==typeof oe.a&&(oe.a={a:0,k:oe.a}),"number"==typeof oe.p&&(oe.p={a:0,k:oe.p}),"number"==typeof oe.r&&(oe.r={a:0,k:oe.r})}function le(X){var oe,be=X.length;for(oe=0;oe<be;oe+=1)5===X[oe].ty&&fe(X[oe])}return function(X){if(te(Te,X.v)&&(le(X.layers),X.assets)){var oe,be=X.assets.length;for(oe=0;oe<be;oe+=1)X.assets[oe].layers&&le(X.assets[oe].layers)}}}(),Re=function(){var Te=[4,1,9];function fe(X){var oe,pe,Ne,be=X.length;for(oe=0;oe<be;oe+=1)if("gr"===X[oe].ty)fe(X[oe].it);else if("fl"===X[oe].ty||"st"===X[oe].ty)if(X[oe].c.k&&X[oe].c.k[0].i)for(Ne=X[oe].c.k.length,pe=0;pe<Ne;pe+=1)X[oe].c.k[pe].s&&(X[oe].c.k[pe].s[0]/=255,X[oe].c.k[pe].s[1]/=255,X[oe].c.k[pe].s[2]/=255,X[oe].c.k[pe].s[3]/=255),X[oe].c.k[pe].e&&(X[oe].c.k[pe].e[0]/=255,X[oe].c.k[pe].e[1]/=255,X[oe].c.k[pe].e[2]/=255,X[oe].c.k[pe].e[3]/=255);else X[oe].c.k[0]/=255,X[oe].c.k[1]/=255,X[oe].c.k[2]/=255,X[oe].c.k[3]/=255}function le(X){var oe,be=X.length;for(oe=0;oe<be;oe+=1)4===X[oe].ty&&fe(X[oe].shapes)}return function(X){if(te(Te,X.v)&&(le(X.layers),X.assets)){var oe,be=X.assets.length;for(oe=0;oe<be;oe+=1)X.assets[oe].layers&&le(X.assets[oe].layers)}}}(),xe=function(){var Te=[4,4,18];function fe(X){var oe,pe,Ne;for(oe=X.length-1;oe>=0;oe-=1)if("sh"===X[oe].ty)if(X[oe].ks.k.i)X[oe].ks.k.c=X[oe].closed;else for(Ne=X[oe].ks.k.length,pe=0;pe<Ne;pe+=1)X[oe].ks.k[pe].s&&(X[oe].ks.k[pe].s[0].c=X[oe].closed),X[oe].ks.k[pe].e&&(X[oe].ks.k[pe].e[0].c=X[oe].closed);else"gr"===X[oe].ty&&fe(X[oe].it)}function le(X){var oe,be,Ne,Le,nt,Ht,pe=X.length;for(be=0;be<pe;be+=1){if((oe=X[be]).hasMask){var dt=oe.masksProperties;for(Le=dt.length,Ne=0;Ne<Le;Ne+=1)if(dt[Ne].pt.k.i)dt[Ne].pt.k.c=dt[Ne].cl;else for(Ht=dt[Ne].pt.k.length,nt=0;nt<Ht;nt+=1)dt[Ne].pt.k[nt].s&&(dt[Ne].pt.k[nt].s[0].c=dt[Ne].cl),dt[Ne].pt.k[nt].e&&(dt[Ne].pt.k[nt].e[0].c=dt[Ne].cl)}4===oe.ty&&fe(oe.shapes)}}return function(X){if(te(Te,X.v)&&(le(X.layers),X.assets)){var oe,be=X.assets.length;for(oe=0;oe<be;oe+=1)X.assets[oe].layers&&le(X.assets[oe].layers)}}}(),$e={completeData:function Ie(Te){Te.__complete||(Re(Te),re(Te),ae(Te),de(Te),xe(Te),ne(Te.layers,Te.assets),function z(Te,fe){if(Te){var le=0,X=Te.length;for(le=0;le<X;le+=1)1===Te[le].t&&(Te[le].data.layers=V(Te[le].data.refId,fe),ne(Te[le].data.layers,fe))}}(Te.chars,Te.assets),Te.__complete=!0)}};return $e.checkColors=Re,$e.checkChars=ae,$e.checkPathProperties=de,$e.checkShapes=xe,$e.completeLayers=ne,$e}()),_.assetLoader||(_.assetLoader=function(){function ne(G){var V=G.getResponseHeader("content-type");return V&&"json"===G.responseType&&-1!==V.indexOf("json")||G.response&&"object"===_typeof$5(G.response)?G.response:G.response&&"string"==typeof G.response?JSON.parse(G.response):G.responseText?JSON.parse(G.responseText):null}return{load:function z(G,V,B,ee){var te,re=new XMLHttpRequest;try{re.responseType="json"}catch{}re.onreadystatechange=function(){if(4===re.readyState)if(200===re.status)te=ne(re),B(te);else try{te=ne(re),B(te)}catch(ae){ee&&ee(ae)}};try{re.open(["G","E","T"].join(""),G,!0)}catch{re.open(["G","E","T"].join(""),V+"/"+G,!0)}re.send()}}}()),"loadAnimation"===H.data.type)_.assetLoader.load(H.data.path,H.data.fullPath,function(ne){_.dataManager.completeData(ne),_.postMessage({id:H.data.id,payload:ne,status:"success"})},function(){_.postMessage({id:H.data.id,status:"error"})});else if("complete"===H.data.type){var q=H.data.animation;_.dataManager.completeData(q),_.postMessage({id:H.data.id,payload:q,status:"success"})}else"loadData"===H.data.type&&_.assetLoader.load(H.data.path,H.data.fullPath,function(ne){_.postMessage({id:H.data.id,payload:ne,status:"success"})},function(){_.postMessage({id:H.data.id,status:"error"})})})).onmessage=function(R){var H=R.data,U=H.id,q=d[U];d[U]=null,"success"===H.status?q.onComplete(H.payload):q.onError&&q.onError()})}function P(R,H){var U="processId_"+(c+=1);return d[U]={onComplete:R,onError:H},U}return{loadAnimation:function O(R,H,U){M();var q=P(H,U);s.postMessage({type:"loadAnimation",path:R,fullPath:window.location.origin+window.location.pathname,id:q})},loadData:function j(R,H,U){M();var q=P(H,U);s.postMessage({type:"loadData",path:R,fullPath:window.location.origin+window.location.pathname,id:q})},completeAnimation:function Q(R,H,U){M();var q=P(H,U);s.postMessage({type:"complete",animation:R,id:q})}}}(),ImagePreloader=function(){var c=function(){var z=createTag("canvas");z.width=1,z.height=1;var G=z.getContext("2d");return G.fillStyle="rgba(0,0,0,0)",G.fillRect(0,0,1,1),z}();function d(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function f(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(z,G,V){var B="";if(z.e)B=z.p;else if(G){var ee=z.p;-1!==ee.indexOf("images/")&&(ee=ee.split("/")[1]),B=G+ee}else B=V,B+=z.u?z.u:"",B+=z.p;return B}function v(z){var G=0,V=setInterval(function(){(z.getBBox().width||G>500)&&(this._imageLoaded(),clearInterval(V)),G+=1}.bind(this),50)}function M(z){var G={assetData:z},V=s(z,this.assetsPath,this.path);return dataManager.loadData(V,function(B){G.img=B,this._footageLoaded()}.bind(this),function(){G.img={},this._footageLoaded()}.bind(this)),G}function ne(){this._imageLoaded=d.bind(this),this._footageLoaded=f.bind(this),this.testImageLoaded=v.bind(this),this.createFootageData=M.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return ne.prototype={loadAssets:function P(z,G){this.imagesLoadedCb=G;var V,B=z.length;for(V=0;V<B;V+=1)z[V].layers||(z[V].t&&"seq"!==z[V].t?3===z[V].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(z[V]))):(this.totalImages+=1,this.images.push(this._createImageData(z[V]))))},setAssetsPath:function j(z){this.assetsPath=z||""},setPath:function O(z){this.path=z||""},loadedImages:function H(){return this.totalImages===this.loadedAssets},loadedFootages:function U(){return this.totalFootages===this.loadedFootagesCount},destroy:function R(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function Q(z){for(var G=0,V=this.images.length;G<V;){if(this.images[G].assetData===z)return this.images[G].img;G+=1}return null},createImgData:function I(z){var G=s(z,this.assetsPath,this.path),V=createTag("img");V.crossOrigin="anonymous",V.addEventListener("load",this._imageLoaded,!1),V.addEventListener("error",function(){B.img=c,this._imageLoaded()}.bind(this),!1),V.src=G;var B={img:V,assetData:z};return B},createImageData:function _(z){var G=s(z,this.assetsPath,this.path),V=createNS("image");isSafari?this.testImageLoaded(V):V.addEventListener("load",this._imageLoaded,!1),V.addEventListener("error",function(){B.img=c,this._imageLoaded()}.bind(this),!1),V.setAttributeNS("http://www.w3.org/1999/xlink","href",G),this._elementHelper.append?this._elementHelper.append(V):this._elementHelper.appendChild(V);var B={img:V,assetData:z};return B},imageLoaded:d,footageLoaded:f,setCacheType:function q(z,G){"svg"===z?(this._elementHelper=G,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},ne}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(d,f){if(this._cbs[d])for(var s=this._cbs[d],v=0;v<s.length;v+=1)s[v](f)},addEventListener:function(d,f){return this._cbs[d]||(this._cbs[d]=[]),this._cbs[d].push(f),function(){this.removeEventListener(d,f)}.bind(this)},removeEventListener:function(d,f){if(f){if(this._cbs[d]){for(var s=0,v=this._cbs[d].length;s<v;)this._cbs[d][s]===f&&(this._cbs[d].splice(s,1),s-=1,v-=1),s+=1;this._cbs[d].length||(this._cbs[d]=null)}}else this._cbs[d]=null}};var markerParser=function(){function c(d){for(var v,f=d.split("\r\n"),s={},_=0,I=0;I<f.length;I+=1)2===(v=f[I].split(":")).length&&(s[v[0]]=v[1].trim(),_+=1);if(0===_)throw new Error;return s}return function(d){for(var f=[],s=0;s<d.length;s+=1){var v=d[s],_={time:v.tm,duration:v.dr};try{_.payload=JSON.parse(d[s].cm)}catch{try{_.payload=c(d[s].cm)}catch{_.payload={name:d[s].cm}}}f.push(_)}return f}}(),ProjectInterface=function(){function c(d){this.compositions.push(d)}return function(){function d(f){for(var s=0,v=this.compositions.length;s<v;){if(this.compositions[s].data&&this.compositions[s].data.nm===f)return this.compositions[s].prepareFrame&&this.compositions[s].data.xt&&this.compositions[s].prepareFrame(this.currentFrame),this.compositions[s].compInterface;s+=1}return null}return d.compositions=[],d.currentFrame=0,d.registerComposition=c,d}}(),renderers={},registerRenderer=function(d,f){renderers[d]=f};function getRenderer(c){return renderers[c]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var c in renderers)if(renderers[c])return c;return""}function _typeof$4(c){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(c){(c.wrapper||c.container)&&(this.wrapper=c.wrapper||c.container);var d="svg";c.animType?d=c.animType:c.renderer&&(d=c.renderer);var f=getRenderer(d);this.renderer=new f(this,c.rendererSettings),this.imagePreloader.setCacheType(d,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=d,this.loop=""===c.loop||null==c.loop||!0===c.loop||!1!==c.loop&&parseInt(c.loop,10),this.autoplay=!("autoplay"in c)||c.autoplay,this.name=c.name?c.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(c,"autoloadSegments")||c.autoloadSegments,this.assetsPath=c.assetsPath,this.initialSegment=c.initialSegment,c.audioFactory&&this.audioController.setAudioFactory(c.audioFactory),c.animationData?this.setupAnimation(c.animationData):c.path&&(this.path=-1!==c.path.lastIndexOf("\\")?c.path.substr(0,c.path.lastIndexOf("\\")+1):c.path.substr(0,c.path.lastIndexOf("/")+1),this.fileName=c.path.substr(c.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(c.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(c){dataManager.completeAnimation(c,this.configAnimation)},AnimationItem.prototype.setData=function(c,d){d&&"object"!==_typeof$4(d)&&(d=JSON.parse(d));var f={wrapper:c,animationData:d},s=c.attributes;f.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",f.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var v=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";"false"===v?f.loop=!1:"true"===v?f.loop=!0:""!==v&&(f.loop=parseInt(v,10));var _=s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:!s.getNamedItem("bm-autoplay")||s.getNamedItem("bm-autoplay").value;f.autoplay="false"!==_,f.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"","false"===(s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"")&&(f.prerender=!1),f.path?this.setParams(f):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(c){c.op>this.animationData.op&&(this.animationData.op=c.op,this.totalFrames=Math.floor(c.op-this.animationData.ip));var f,_,d=this.animationData.layers,s=d.length,v=c.layers,I=v.length;for(_=0;_<I;_+=1)for(f=0;f<s;){if(d[f].id===v[_].id){d[f]=v[_];break}f+=1}if((c.chars||c.fonts)&&(this.renderer.globalData.fontManager.addChars(c.chars),this.renderer.globalData.fontManager.addFonts(c.fonts,this.renderer.globalData.defs)),c.assets)for(s=c.assets.length,f=0;f<s;f+=1)this.animationData.assets.push(c.assets[f]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(c){this.animationData=c;var d=getExpressionsPlugin();d&&d.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var c=this.animationData.segments;if(!c||0===c.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var d=c.shift();this.timeCompleted=d.time*this.frameRate;var f=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(f,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(c){if(this.renderer)try{this.animationData=c,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(c),c.assets||(c.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(c.assets),this.markers=markerParser(c.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(d){this.triggerConfigError(d)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var c=getExpressionsPlugin();c&&c.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(c,d){this.renderer.updateContainerSize("number"==typeof c?c:void 0,"number"==typeof d?d:void 0)},AnimationItem.prototype.setSubframe=function(c){this.isSubframeEnabled=!!c},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(c){this.triggerRenderFrameError(c)}},AnimationItem.prototype.play=function(c){c&&this.name!==c||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_pause"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(c){c&&this.name!==c||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_play"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(c){c&&this.name!==c||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(c){c&&this.name!==c||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(c){for(var d,f=0;f<this.markers.length;f+=1)if((d=this.markers[f]).payload&&d.payload.name===c)return d;return null},AnimationItem.prototype.goToAndStop=function(c,d,f){if(!f||this.name===f){var s=Number(c);if(isNaN(s)){var v=this.getMarkerData(c);v&&this.goToAndStop(v.time,!0)}else this.setCurrentRawFrameValue(d?c:c*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(c,d,f){if(!f||this.name===f){var s=Number(c);if(isNaN(s)){var v=this.getMarkerData(c);v&&(v.duration?this.playSegments([v.time,v.time+v.duration],!0):this.goToAndStop(v.time,!0))}else this.goToAndStop(s,d,f);this.play()}},AnimationItem.prototype.advanceTime=function(c){if(!0!==this.isPaused&&!1!==this.isLoaded){var d=this.currentRawFrame+c*this.frameModifier,f=!1;d>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?d>=this.totalFrames?(this.playCount+=1,this.checkSegments(d%this.totalFrames)||(this.setCurrentRawFrameValue(d%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(d):this.checkSegments(d>this.totalFrames?d%this.totalFrames:0)||(f=!0,d=this.totalFrames-1):d<0?this.checkSegments(d%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(f=!0,d=0):(this.setCurrentRawFrameValue(this.totalFrames+d%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(d),f&&(this.setCurrentRawFrameValue(d),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(c,d){this.playCount=0,c[1]<c[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=c[0]-c[1],this.timeCompleted=this.totalFrames,this.firstFrame=c[1],this.setCurrentRawFrameValue(this.totalFrames-.001-d)):c[1]>c[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=c[1]-c[0],this.timeCompleted=this.totalFrames,this.firstFrame=c[0],this.setCurrentRawFrameValue(.001+d)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(c,d){var f=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<c?f=c:this.currentRawFrame+this.firstFrame>d&&(f=d-c)),this.firstFrame=c,this.totalFrames=d-c,this.timeCompleted=this.totalFrames,-1!==f&&this.goToAndStop(f,!0)},AnimationItem.prototype.playSegments=function(c,d){if(d&&(this.segments.length=0),"object"===_typeof$4(c[0])){var f,s=c.length;for(f=0;f<s;f+=1)this.segments.push(c[f])}else this.segments.push(c);this.segments.length&&d&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(c){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),c&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(c){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),c),!0)},AnimationItem.prototype.destroy=function(c){c&&this.name!==c||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(c){this.currentRawFrame=c,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(c){this.playSpeed=c,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(c){this.playDirection=c<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(c){this.loop=c},AnimationItem.prototype.setVolume=function(c,d){d&&this.name!==d||this.audioController.setVolume(c)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(c){c&&this.name!==c||this.audioController.mute()},AnimationItem.prototype.unmute=function(c){c&&this.name!==c||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(c){var d="";if(c.e)d=c.p;else if(this.assetsPath){var f=c.p;-1!==f.indexOf("images/")&&(f=f.split("/")[1]),d=this.assetsPath+f}else d=this.path,d+=c.u?c.u:"",d+=c.p;return d},AnimationItem.prototype.getAssetData=function(c){for(var d=0,f=this.assets.length;d<f;){if(c===this.assets[d].id)return this.assets[d];d+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(c){return c?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(c,d,f){try{this.renderer.getElementByPath(c).updateDocumentData(d,f)}catch{}},AnimationItem.prototype.trigger=function(c){if(this._cbs&&this._cbs[c])switch(c){case"enterFrame":this.triggerEvent(c,new BMEnterFrameEvent(c,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(c,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(c,new BMCompleteLoopEvent(c,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(c,new BMCompleteEvent(c,this.frameMult));break;case"segmentStart":this.triggerEvent(c,new BMSegmentStartEvent(c,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(c,new BMDestroyEvent(c,this));break;default:this.triggerEvent(c)}"enterFrame"===c&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(c,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===c&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(c,this.loop,this.playCount,this.frameMult)),"complete"===c&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(c,this.frameMult)),"segmentStart"===c&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(c,this.firstFrame,this.totalFrames)),"destroy"===c&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(c,this))},AnimationItem.prototype.triggerRenderFrameError=function(c){var d=new BMRenderFrameErrorEvent(c,this.currentFrame);this.triggerEvent("error",d),this.onError&&this.onError.call(this,d)},AnimationItem.prototype.triggerConfigError=function(c){var d=new BMConfigErrorEvent(c,this.currentFrame);this.triggerEvent("error",d),this.onError&&this.onError.call(this,d)};var animationManager=function(){var c={},d=[],f=0,s=0,v=0,_=!0,I=!1;function M(fe){for(var le=0,X=fe.target;le<s;)d[le].animation===X&&(d.splice(le,1),le-=1,s-=1,X.isPaused||Q()),le+=1}function P(fe,le){if(!fe)return null;for(var X=0;X<s;){if(d[X].elem===fe&&null!==d[X].elem)return d[X].animation;X+=1}var oe=new AnimationItem;return R(oe,fe),oe.setData(fe,le),oe}function j(){v+=1,Re()}function Q(){v-=1}function R(fe,le){fe.addEventListener("destroy",M),fe.addEventListener("_active",j),fe.addEventListener("_idle",Q),d.push({elem:le,animation:fe}),s+=1}function z(fe){var X,le=fe-f;for(X=0;X<s;X+=1)d[X].animation.advanceTime(le);f=fe,v&&!I?window.requestAnimationFrame(z):_=!0}function G(fe){f=fe,window.requestAnimationFrame(z)}function Re(){!I&&v&&_&&(window.requestAnimationFrame(G),_=!1)}return c.registerAnimation=P,c.loadAnimation=function H(fe){var le=new AnimationItem;return R(le,null),le.setParams(fe),le},c.setSpeed=function U(fe,le){var X;for(X=0;X<s;X+=1)d[X].animation.setSpeed(fe,le)},c.setDirection=function q(fe,le){var X;for(X=0;X<s;X+=1)d[X].animation.setDirection(fe,le)},c.play=function ne(fe){var le;for(le=0;le<s;le+=1)d[le].animation.play(fe)},c.pause=function V(fe){var le;for(le=0;le<s;le+=1)d[le].animation.pause(fe)},c.stop=function ee(fe){var le;for(le=0;le<s;le+=1)d[le].animation.stop(fe)},c.togglePause=function te(fe){var le;for(le=0;le<s;le+=1)d[le].animation.togglePause(fe)},c.searchAnimations=function ae(fe,le,X){var be,oe=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),pe=oe.length;for(be=0;be<pe;be+=1)X&&oe[be].setAttribute("data-bm-type",X),P(oe[be],fe);if(le&&0===pe){X||(X="svg");var Ne=document.getElementsByTagName("body")[0];Ne.innerText="";var Le=createTag("div");Le.style.width="100%",Le.style.height="100%",Le.setAttribute("data-bm-type",X),Ne.appendChild(Le),P(Le,fe)}},c.resize=function de(){var fe;for(fe=0;fe<s;fe+=1)d[fe].animation.resize()},c.goToAndStop=function B(fe,le,X){var oe;for(oe=0;oe<s;oe+=1)d[oe].animation.goToAndStop(fe,le,X)},c.destroy=function re(fe){var le;for(le=s-1;le>=0;le-=1)d[le].animation.destroy(fe)},c.freeze=function xe(){I=!0},c.unfreeze=function Ie(){I=!1,Re()},c.setVolume=function ye(fe,le){var X;for(X=0;X<s;X+=1)d[X].animation.setVolume(fe,le)},c.mute=function $e(fe){var le;for(le=0;le<s;le+=1)d[le].animation.mute(fe)},c.unmute=function Te(fe){var le;for(le=0;le<s;le+=1)d[le].animation.unmute(fe)},c.getRegisteredAnimations=function O(){var fe,le=d.length,X=[];for(fe=0;fe<le;fe+=1)X.push(d[fe].animation);return X},c}(),BezierFactory=function(){var c={getBezierEasing:function f(G,V,B,ee,te){var re=te||("bez_"+G+"_"+V+"_"+B+"_"+ee).replace(/\./g,"p");if(d[re])return d[re];var ae=new z([G,V,B,ee]);return d[re]=ae,ae}},d={},P=.1,O="function"==typeof Float32Array;function j(G,V){return 1-3*V+3*G}function Q(G,V){return 3*V-6*G}function R(G){return 3*G}function H(G,V,B){return((j(V,B)*G+Q(V,B))*G+R(V))*G}function U(G,V,B){return 3*j(V,B)*G*G+2*Q(V,B)*G+R(V)}function z(G){this._p=G,this._mSampleValues=O?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return z.prototype={get:function(V){var B=this._p[0],ee=this._p[1],te=this._p[2],re=this._p[3];return this._precomputed||this._precompute(),B===ee&&te===re?V:0===V?0:1===V?1:H(this._getTForX(V),ee,re)},_precompute:function(){var V=this._p[0],B=this._p[1],ee=this._p[2],te=this._p[3];this._precomputed=!0,(V!==B||ee!==te)&&this._calcSampleValues()},_calcSampleValues:function(){for(var V=this._p[0],B=this._p[2],ee=0;ee<11;++ee)this._mSampleValues[ee]=H(ee*P,V,B)},_getTForX:function(V){for(var B=this._p[0],ee=this._p[2],te=this._mSampleValues,re=0,ae=1;10!==ae&&te[ae]<=V;++ae)re+=P;var xe=re+(V-te[--ae])/(te[ae+1]-te[ae])*P,Ie=U(xe,B,ee);return Ie>=.001?function ne(G,V,B,ee){for(var te=0;te<4;++te){var re=U(V,B,ee);if(0===re)return V;V-=(H(V,B,ee)-G)/re}return V}(V,xe,B,ee):0===Ie?xe:function q(G,V,B,ee,te){var re,ae,de=0;do{(re=H(ae=V+(B-V)/2,ee,te)-G)>0?B=ae:V=ae}while(Math.abs(re)>1e-7&&++de<10);return ae}(V,re,re+P,B,ee)}},c}(),pooling={double:function c(d){return d.concat(createSizedArray(d.length))}},poolFactory=function(c,d,f){var s=0,v=c,_=createSizedArray(v);return{newElement:function M(){return s?_[s-=1]:d()},release:function P(O){s===v&&(_=pooling.double(_),v*=2),f&&f(O),_[s]=O,s+=1}}},bezierLengthPool=poolFactory(8,function c(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function c(){return{lengths:[],totalLength:0}},function d(f){var s,v=f.lengths.length;for(s=0;s<v;s+=1)bezierLengthPool.release(f.lengths[s]);f.lengths.length=0});function bezFunction(){var c=Math;function d(R,H,U,q,ne,z){var G=R*q+H*ne+U*z-ne*q-z*R-U*H;return G>-.001&&G<.001}var s=function(R,H,U,q){var z,G,V,B,ee,re,ne=getDefaultCurveSegments(),te=0,ae=[],de=[],Re=bezierLengthPool.newElement();for(V=U.length,z=0;z<ne;z+=1){for(ee=z/(ne-1),re=0,G=0;G<V;G+=1)B=bmPow(1-ee,3)*R[G]+3*bmPow(1-ee,2)*ee*U[G]+3*(1-ee)*bmPow(ee,2)*q[G]+bmPow(ee,3)*H[G],ae[G]=B,null!==de[G]&&(re+=bmPow(ae[G]-de[G],2)),de[G]=ae[G];re&&(te+=re=bmSqrt(re)),Re.percents[z]=ee,Re.lengths[z]=te}return Re.addedLength=te,Re};function _(R){this.segmentLength=0,this.points=new Array(R)}function I(R,H){this.partialLength=R,this.point=H}var R,M=(R={},function(H,U,q,ne){var z=(H[0]+"_"+H[1]+"_"+U[0]+"_"+U[1]+"_"+q[0]+"_"+q[1]+"_"+ne[0]+"_"+ne[1]).replace(/\./g,"p");if(!R[z]){var V,B,ee,te,re,de,Re,G=getDefaultCurveSegments(),ae=0,xe=null;2===H.length&&(H[0]!==U[0]||H[1]!==U[1])&&d(H[0],H[1],U[0],U[1],H[0]+q[0],H[1]+q[1])&&d(H[0],H[1],U[0],U[1],U[0]+ne[0],U[1]+ne[1])&&(G=2);var Ie=new _(G);for(ee=q.length,V=0;V<G;V+=1){for(Re=createSizedArray(ee),re=V/(G-1),de=0,B=0;B<ee;B+=1)te=bmPow(1-re,3)*H[B]+3*bmPow(1-re,2)*re*(H[B]+q[B])+3*(1-re)*bmPow(re,2)*(U[B]+ne[B])+bmPow(re,3)*U[B],Re[B]=te,null!==xe&&(de+=bmPow(Re[B]-xe[B],2));ae+=de=bmSqrt(de),Ie.points[V]=new I(de,Re),xe=Re}Ie.segmentLength=ae,R[z]=Ie}return R[z]});function P(R,H){var U=H.percents,q=H.lengths,ne=U.length,z=bmFloor((ne-1)*R),G=R*H.addedLength,V=0;if(z===ne-1||0===z||G===q[z])return U[z];for(var B=q[z]>G?-1:1,ee=!0;ee;)if(q[z]<=G&&q[z+1]>G?(V=(G-q[z])/(q[z+1]-q[z]),ee=!1):z+=B,z<0||z>=ne-1){if(z===ne-1)return U[z];ee=!1}return U[z]+(U[z+1]-U[z])*V}var j=createTypedArray("float32",8);return{getSegmentsLength:function v(R){var G,H=segmentsLengthPool.newElement(),U=R.c,q=R.v,ne=R.o,z=R.i,V=R._length,B=H.lengths,ee=0;for(G=0;G<V-1;G+=1)B[G]=s(q[G],q[G+1],ne[G],z[G+1]),ee+=B[G].addedLength;return U&&V&&(B[G]=s(q[G],q[0],ne[G],z[0]),ee+=B[G].addedLength),H.totalLength=ee,H},getNewSegment:function Q(R,H,U,q,ne,z,G){ne<0?ne=0:ne>1&&(ne=1);var ee,V=P(ne,G),B=P(z=z>1?1:z,G),te=R.length,re=1-V,ae=1-B,de=re*re*re,Re=V*re*re*3,xe=V*V*re*3,Ie=V*V*V,ye=re*re*ae,$e=V*re*ae+re*V*ae+re*re*B,Te=V*V*ae+re*V*B+V*re*B,fe=V*V*B,le=re*ae*ae,X=V*ae*ae+re*B*ae+re*ae*B,oe=V*B*ae+re*B*B+V*ae*B,be=V*B*B,pe=ae*ae*ae,Ne=B*ae*ae+ae*B*ae+ae*ae*B,Le=B*B*ae+ae*B*B+B*ae*B,nt=B*B*B;for(ee=0;ee<te;ee+=1)j[4*ee]=c.round(1e3*(de*R[ee]+Re*U[ee]+xe*q[ee]+Ie*H[ee]))/1e3,j[4*ee+1]=c.round(1e3*(ye*R[ee]+$e*U[ee]+Te*q[ee]+fe*H[ee]))/1e3,j[4*ee+2]=c.round(1e3*(le*R[ee]+X*U[ee]+oe*q[ee]+be*H[ee]))/1e3,j[4*ee+3]=c.round(1e3*(pe*R[ee]+Ne*U[ee]+Le*q[ee]+nt*H[ee]))/1e3;return j},getPointInSegment:function O(R,H,U,q,ne,z){var G=P(ne,z),V=1-G;return[c.round(1e3*(V*V*V*R[0]+(G*V*V+V*G*V+V*V*G)*U[0]+(G*G*V+V*G*G+G*V*G)*q[0]+G*G*G*H[0]))/1e3,c.round(1e3*(V*V*V*R[1]+(G*V*V+V*G*V+V*V*G)*U[1]+(G*G*V+V*G*G+G*V*G)*q[1]+G*G*G*H[1]))/1e3]},buildBezierData:M,pointOnLine2D:d,pointOnLine3D:function f(R,H,U,q,ne,z,G,V,B){if(0===U&&0===z&&0===B)return d(R,H,q,ne,G,V);var ae,ee=c.sqrt(c.pow(q-R,2)+c.pow(ne-H,2)+c.pow(z-U,2)),te=c.sqrt(c.pow(G-R,2)+c.pow(V-H,2)+c.pow(B-U,2)),re=c.sqrt(c.pow(G-q,2)+c.pow(V-ne,2)+c.pow(B-z,2));return(ae=ee>te?ee>re?ee-te-re:re-te-ee:re>te?re-te-ee:te-ee-re)>-1e-4&&ae<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(c,d){var s,f=this.offsetTime;"multidimensional"===this.propType&&(s=createTypedArray("float32",this.pv.length));for(var P,O,j,v=d.lastIndex,_=v,I=this.keyframes.length-1,M=!0;M;){if(P=this.keyframes[_],O=this.keyframes[_+1],_===I-1&&c>=O.t-f){P.h&&(P=O),v=0;break}if(O.t-f>c){v=_;break}_<I-1?_+=1:(v=0,M=!1)}j=this.keyframesMetadata[_]||{};var Q,R,H,U,q,ne,V,z=O.t-f,G=P.t-f;if(P.to){j.bezierData||(j.bezierData=bez.buildBezierData(P.s,O.s||P.e,P.to,P.ti));var B=j.bezierData;if(c>=z||c<G){var ee=c>=z?B.points.length-1:0;for(R=B.points[ee].point.length,Q=0;Q<R;Q+=1)s[Q]=B.points[ee].point[Q]}else{j.__fnct?ne=j.__fnct:(ne=BezierFactory.getBezierEasing(P.o.x,P.o.y,P.i.x,P.i.y,P.n).get,j.__fnct=ne),H=ne((c-G)/(z-G));var re,te=B.segmentLength*H,ae=d.lastFrame<c&&d._lastKeyframeIndex===_?d._lastAddedLength:0;for(q=d.lastFrame<c&&d._lastKeyframeIndex===_?d._lastPoint:0,M=!0,U=B.points.length;M;){if(ae+=B.points[q].partialLength,0===te||0===H||q===B.points.length-1){for(R=B.points[q].point.length,Q=0;Q<R;Q+=1)s[Q]=B.points[q].point[Q];break}if(te>=ae&&te<ae+B.points[q+1].partialLength){for(re=(te-ae)/B.points[q+1].partialLength,R=B.points[q].point.length,Q=0;Q<R;Q+=1)s[Q]=B.points[q].point[Q]+(B.points[q+1].point[Q]-B.points[q].point[Q])*re;break}q<U-1?q+=1:M=!1}d._lastPoint=q,d._lastAddedLength=ae-B.points[q].partialLength,d._lastKeyframeIndex=_}}else{var ye;if(I=P.s.length,V=O.s||P.e,this.sh&&1!==P.h)c>=z?(s[0]=V[0],s[1]=V[1],s[2]=V[2]):c<=G?(s[0]=P.s[0],s[1]=P.s[1],s[2]=P.s[2]):quaternionToEuler(s,slerp(createQuaternion(P.s),createQuaternion(V),(c-G)/(z-G)));else for(_=0;_<I;_+=1)1!==P.h&&(c>=z?H=1:c<G?H=0:(P.o.x.constructor===Array?(j.__fnct||(j.__fnct=[]),j.__fnct[_]?ne=j.__fnct[_]:(ne=BezierFactory.getBezierEasing(void 0===P.o.x[_]?P.o.x[0]:P.o.x[_],void 0===P.o.y[_]?P.o.y[0]:P.o.y[_],void 0===P.i.x[_]?P.i.x[0]:P.i.x[_],void 0===P.i.y[_]?P.i.y[0]:P.i.y[_]).get,j.__fnct[_]=ne)):j.__fnct?ne=j.__fnct:(ne=BezierFactory.getBezierEasing(P.o.x,P.o.y,P.i.x,P.i.y).get,P.keyframeMetadata=ne),H=ne((c-G)/(z-G)))),V=O.s||P.e,ye=1===P.h?P.s[_]:P.s[_]+(V[_]-P.s[_])*H,"multidimensional"===this.propType?s[_]=ye:s=ye}return d.lastIndex=v,s}function slerp(c,d,f){var R,H,U,q,ne,s=[],v=c[0],_=c[1],I=c[2],M=c[3],P=d[0],O=d[1],j=d[2],Q=d[3];return(H=v*P+_*O+I*j+M*Q)<0&&(H=-H,P=-P,O=-O,j=-j,Q=-Q),1-H>1e-6?(R=Math.acos(H),U=Math.sin(R),q=Math.sin((1-f)*R)/U,ne=Math.sin(f*R)/U):(q=1-f,ne=f),s[0]=q*v+ne*P,s[1]=q*_+ne*O,s[2]=q*I+ne*j,s[3]=q*M+ne*Q,s}function quaternionToEuler(c,d){var f=d[0],s=d[1],v=d[2],_=d[3],I=Math.atan2(2*s*_-2*f*v,1-2*s*s-2*v*v),M=Math.asin(2*f*s+2*v*_),P=Math.atan2(2*f*_-2*s*v,1-2*f*f-2*v*v);c[0]=I/degToRads,c[1]=M/degToRads,c[2]=P/degToRads}function createQuaternion(c){var d=c[0]*degToRads,f=c[1]*degToRads,s=c[2]*degToRads,v=Math.cos(d/2),_=Math.cos(f/2),I=Math.cos(s/2),M=Math.sin(d/2),P=Math.sin(f/2),O=Math.sin(s/2);return[M*P*I+v*_*O,M*_*I+v*P*O,v*P*I-M*_*O,v*_*I-M*P*O]}function getValueAtCurrentTime(){var c=this.comp.renderedFrame-this.offsetTime,d=this.keyframes[0].t-this.offsetTime,f=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(c===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=f&&c>=f||this._caching.lastFrame<d&&c<d))){this._caching.lastFrame>=c&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var s=this.interpolateValue(c,this._caching);this.pv=s}return this._caching.lastFrame=c,this.pv}function setVValue(c){var d;if("unidimensional"===this.propType)mathAbs(this.v-(d=c*this.mult))>1e-5&&(this.v=d,this._mdf=!0);else for(var f=0,s=this.v.length;f<s;)mathAbs(this.v[f]-(d=c[f]*this.mult))>1e-5&&(this.v[f]=d,this._mdf=!0),f+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var c,d=this.effectsSequence.length,f=this.kf?this.pv:this.data.k;for(c=0;c<d;c+=1)f=this.effectsSequence[c](f);this.setVValue(f),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(c){this.effectsSequence.push(c),this.container.addDynamicProperty(this)}function ValueProperty(c,d,f,s){this.propType="unidimensional",this.mult=f||1,this.data=d,this.v=f?d.k*f:d.k,this.pv=d.k,this._mdf=!1,this.elem=c,this.container=s,this.comp=c.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(c,d,f,s){this.propType="multidimensional",this.mult=f||1,this.data=d,this._mdf=!1,this.elem=c,this.container=s,this.comp=c.comp,this.k=!1,this.kf=!1,this.frameId=-1;var v,_=d.k.length;for(this.v=createTypedArray("float32",_),this.pv=createTypedArray("float32",_),this.vel=createTypedArray("float32",_),v=0;v<_;v+=1)this.v[v]=d.k[v]*this.mult,this.pv[v]=d.k[v];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(c,d,f,s){this.propType="unidimensional",this.keyframes=d.k,this.keyframesMetadata=[],this.offsetTime=c.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=d,this.mult=f||1,this.elem=c,this.container=s,this.comp=c.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(c,d,f,s){this.propType="multidimensional";var v,I,M,P,O,_=d.k.length;for(v=0;v<_-1;v+=1)d.k[v].to&&d.k[v].s&&d.k[v+1]&&d.k[v+1].s&&(M=d.k[v+1].s,P=d.k[v].to,O=d.k[v].ti,(2===(I=d.k[v].s).length&&!(I[0]===M[0]&&I[1]===M[1])&&bez.pointOnLine2D(I[0],I[1],M[0],M[1],I[0]+P[0],I[1]+P[1])&&bez.pointOnLine2D(I[0],I[1],M[0],M[1],M[0]+O[0],M[1]+O[1])||3===I.length&&!(I[0]===M[0]&&I[1]===M[1]&&I[2]===M[2])&&bez.pointOnLine3D(I[0],I[1],I[2],M[0],M[1],M[2],I[0]+P[0],I[1]+P[1],I[2]+P[2])&&bez.pointOnLine3D(I[0],I[1],I[2],M[0],M[1],M[2],M[0]+O[0],M[1]+O[1],M[2]+O[2]))&&(d.k[v].to=null,d.k[v].ti=null),I[0]===M[0]&&I[1]===M[1]&&0===P[0]&&0===P[1]&&0===O[0]&&0===O[1]&&(2===I.length||I[2]===M[2]&&0===P[2]&&0===O[2])&&(d.k[v].to=null,d.k[v].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=d,this.keyframes=d.k,this.keyframesMetadata=[],this.offsetTime=c.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=f||1,this.elem=c,this.container=s,this.comp=c.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var j=d.k[0].s.length;for(this.v=createTypedArray("float32",j),this.pv=createTypedArray("float32",j),v=0;v<j;v+=1)this.v[v]=initFrame,this.pv[v]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",j)},this.addEffect=addEffect}var PropertyFactory={getProp:function c(f,s,v,_,I){var M;if(s.sid&&(s=f.globalData.slotManager.getProp(s)),s.k.length)if("number"==typeof s.k[0])M=new MultiDimensionalProperty(f,s,_,I);else switch(v){case 0:M=new KeyframedValueProperty(f,s,_,I);break;case 1:M=new KeyframedMultidimensionalProperty(f,s,_,I)}else M=new ValueProperty(f,s,_,I);return M.effectsSequence.length&&I.addDynamicProperty(M),M}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(d){-1===this.dynamicProperties.indexOf(d)&&(this.dynamicProperties.push(d),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var d,f=this.dynamicProperties.length;for(d=0;d<f;d+=1)this.dynamicProperties[d].getValue(),this.dynamicProperties[d]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(d){this.container=d,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function c(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(c,d){this.c=c,this.setLength(d);for(var f=0;f<d;)this.v[f]=pointPool.newElement(),this.o[f]=pointPool.newElement(),this.i[f]=pointPool.newElement(),f+=1},ShapePath.prototype.setLength=function(c){for(;this._maxLength<c;)this.doubleArrayLength();this._length=c},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(c,d,f,s,v){var _;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),f){case"v":_=this.v;break;case"i":_=this.i;break;case"o":_=this.o;break;default:_=[]}(!_[s]||_[s]&&!v)&&(_[s]=pointPool.newElement()),_[s][0]=c,_[s][1]=d},ShapePath.prototype.setTripleAt=function(c,d,f,s,v,_,I,M){this.setXYAt(c,d,"v",I,M),this.setXYAt(f,s,"o",I,M),this.setXYAt(v,_,"i",I,M)},ShapePath.prototype.reverse=function(){var c=new ShapePath;c.setPathData(this.c,this._length);var d=this.v,f=this.o,s=this.i,v=0;this.c&&(c.setTripleAt(d[0][0],d[0][1],s[0][0],s[0][1],f[0][0],f[0][1],0,!1),v=1);var M,_=this._length-1,I=this._length;for(M=v;M<I;M+=1)c.setTripleAt(d[_][0],d[_][1],s[_][0],s[_][1],f[_][0],f[_][1],M,!1),_-=1;return c},ShapePath.prototype.length=function(){return this._length};var shapePool=(s=poolFactory(4,function c(){return new ShapePath},function d(v){var I,_=v._length;for(I=0;I<_;I+=1)pointPool.release(v.v[I]),pointPool.release(v.i[I]),pointPool.release(v.o[I]),v.v[I]=null,v.i[I]=null,v.o[I]=null;v._length=0,v.c=!1}),s.clone=function f(v){var I,_=s.newElement(),M=void 0===v._length?v.v.length:v._length;for(_.setLength(M),_.c=v.c,I=0;I<M;I+=1)_.setTripleAt(v.v[I][0],v.v[I][1],v.o[I][0],v.o[I][1],v.i[I][0],v.i[I][1],I);return _},s),s;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(c){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=c,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var c;for(c=0;c<this._length;c+=1)shapePool.release(this.shapes[c]);this._length=0};var shapeCollectionPool=function(){var c={newShapeCollection:function v(){return d?s[d-=1]:new ShapeCollection},release:function _(I){var M,P=I._length;for(M=0;M<P;M+=1)shapePool.release(I.shapes[M]);I._length=0,d===f&&(s=pooling.double(s),f*=2),s[d]=I,d+=1}},d=0,f=4,s=createSizedArray(f);return c}(),ShapePropertyFactory=function(){var c=-999999;function d(z,G,V){var ee,te,re,ae,de,Re,xe,Ie,B=V.lastIndex,$e=this.keyframes;if(z<$e[0].t-this.offsetTime)ee=$e[0].s[0],re=!0,B=0;else if(z>=$e[$e.length-1].t-this.offsetTime)ee=$e[$e.length-1].s?$e[$e.length-1].s[0]:$e[$e.length-2].e[0],re=!0;else{for(var X,oe,be,Te=B,fe=$e.length-1,le=!0;le&&(X=$e[Te],!((oe=$e[Te+1]).t-this.offsetTime>z));)Te<fe-1?Te+=1:le=!1;if(be=this.keyframesMetadata[Te]||{},B=Te,!(re=1===X.h)){if(z>=oe.t-this.offsetTime)Ie=1;else if(z<X.t-this.offsetTime)Ie=0;else{var pe;be.__fnct?pe=be.__fnct:(pe=BezierFactory.getBezierEasing(X.o.x,X.o.y,X.i.x,X.i.y).get,be.__fnct=pe),Ie=pe((z-(X.t-this.offsetTime))/(oe.t-this.offsetTime-(X.t-this.offsetTime)))}te=oe.s?oe.s[0]:X.e[0]}ee=X.s[0]}for(Re=G._length,xe=ee.i[0].length,V.lastIndex=B,ae=0;ae<Re;ae+=1)for(de=0;de<xe;de+=1)G.i[ae][de]=re?ee.i[ae][de]:ee.i[ae][de]+(te.i[ae][de]-ee.i[ae][de])*Ie,G.o[ae][de]=re?ee.o[ae][de]:ee.o[ae][de]+(te.o[ae][de]-ee.o[ae][de])*Ie,G.v[ae][de]=re?ee.v[ae][de]:ee.v[ae][de]+(te.v[ae][de]-ee.v[ae][de])*Ie}function f(){var z=this.comp.renderedFrame-this.offsetTime,G=this.keyframes[0].t-this.offsetTime,V=this.keyframes[this.keyframes.length-1].t-this.offsetTime,B=this._caching.lastFrame;return B!==c&&(B<G&&z<G||B>V&&z>V)||(this._caching.lastIndex=B<z?this._caching.lastIndex:0,this.interpolateShape(z,this.pv,this._caching)),this._caching.lastFrame=z,this.pv}function s(){this.paths=this.localShapeCollection}function _(z){(function v(z,G){if(z._length!==G._length||z.c!==G.c)return!1;var V,B=z._length;for(V=0;V<B;V+=1)if(z.v[V][0]!==G.v[V][0]||z.v[V][1]!==G.v[V][1]||z.o[V][0]!==G.o[V][0]||z.o[V][1]!==G.o[V][1]||z.i[V][0]!==G.i[V][0]||z.i[V][1]!==G.i[V][1])return!1;return!0})(this.v,z)||(this.v=shapePool.clone(z),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function I(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length)return void(this._mdf=!1);if(this.lock)return void this.setVValue(this.pv);var z;this.lock=!0,this._mdf=!1,z=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var G,V=this.effectsSequence.length;for(G=0;G<V;G+=1)z=this.effectsSequence[G](z);this.setVValue(z),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function M(z,G,V){this.propType="shape",this.comp=z.comp,this.container=z,this.elem=z,this.data=G,this.k=!1,this.kf=!1,this._mdf=!1,this.v=shapePool.clone(3===V?G.pt.k:G.ks.k),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s,this.effectsSequence=[]}function P(z){this.effectsSequence.push(z),this.container.addDynamicProperty(this)}function O(z,G,V){this.propType="shape",this.comp=z.comp,this.elem=z,this.container=z,this.offsetTime=z.data.st,this.keyframes=3===V?G.pt.k:G.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var B=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,B),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=c,this.reset=s,this._caching={lastFrame:c,lastIndex:0},this.effectsSequence=[f.bind(this)]}M.prototype.interpolateShape=d,M.prototype.getValue=I,M.prototype.setVValue=_,M.prototype.addEffect=P,O.prototype.getValue=I,O.prototype.interpolateShape=d,O.prototype.setVValue=_,O.prototype.addEffect=P;var j=function(){var z=roundCorner;function G(V,B){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=B.d,this.elem=V,this.comp=V.comp,this.frameId=-1,this.initDynamicPropertyContainer(V),this.p=PropertyFactory.getProp(V,B.p,1,0,this),this.s=PropertyFactory.getProp(V,B.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return G.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var B=this.p.v[0],ee=this.p.v[1],te=this.s.v[0]/2,re=this.s.v[1]/2,ae=3!==this.d,de=this.v;de.v[0][0]=B,de.v[0][1]=ee-re,de.v[1][0]=ae?B+te:B-te,de.v[1][1]=ee,de.v[2][0]=B,de.v[2][1]=ee+re,de.v[3][0]=ae?B-te:B+te,de.v[3][1]=ee,de.i[0][0]=ae?B-te*z:B+te*z,de.i[0][1]=ee-re,de.i[1][0]=ae?B+te:B-te,de.i[1][1]=ee-re*z,de.i[2][0]=ae?B+te*z:B-te*z,de.i[2][1]=ee+re,de.i[3][0]=ae?B-te:B+te,de.i[3][1]=ee+re*z,de.o[0][0]=ae?B+te*z:B-te*z,de.o[0][1]=ee-re,de.o[1][0]=ae?B+te:B-te,de.o[1][1]=ee+re*z,de.o[2][0]=ae?B-te*z:B+te*z,de.o[2][1]=ee+re,de.o[3][0]=ae?B-te:B+te,de.o[3][1]=ee-re*z}},extendPrototype([DynamicPropertyContainer],G),G}(),Q=function(){function z(G,V){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=G,this.comp=G.comp,this.data=V,this.frameId=-1,this.d=V.d,this.initDynamicPropertyContainer(G),1===V.sy?(this.ir=PropertyFactory.getProp(G,V.ir,0,0,this),this.is=PropertyFactory.getProp(G,V.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(G,V.pt,0,0,this),this.p=PropertyFactory.getProp(G,V.p,1,0,this),this.r=PropertyFactory.getProp(G,V.r,0,degToRads,this),this.or=PropertyFactory.getProp(G,V.or,0,0,this),this.os=PropertyFactory.getProp(G,V.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return z.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Ie,ye,$e,Te,V=2*Math.floor(this.pt.v),B=2*Math.PI/V,ee=!0,te=this.or.v,re=this.ir.v,ae=this.os.v,de=this.is.v,Re=2*Math.PI*te/(2*V),xe=2*Math.PI*re/(2*V),fe=-Math.PI/2;fe+=this.r.v;var le=3===this.data.d?-1:1;for(this.v._length=0,Ie=0;Ie<V;Ie+=1){$e=ee?ae:de,Te=ee?Re:xe;var X=(ye=ee?te:re)*Math.cos(fe),oe=ye*Math.sin(fe),be=0===X&&0===oe?0:oe/Math.sqrt(X*X+oe*oe),pe=0===X&&0===oe?0:-X/Math.sqrt(X*X+oe*oe);this.v.setTripleAt(X+=+this.p.v[0],oe+=+this.p.v[1],X-be*Te*$e*le,oe-pe*Te*$e*le,X+be*Te*$e*le,oe+pe*Te*$e*le,Ie,!0),ee=!ee,fe+=B*le}},convertPolygonToPath:function(){var ae,V=Math.floor(this.pt.v),B=2*Math.PI/V,ee=this.or.v,te=this.os.v,re=2*Math.PI*ee/(4*V),de=.5*-Math.PI,Re=3===this.data.d?-1:1;for(de+=this.r.v,this.v._length=0,ae=0;ae<V;ae+=1){var xe=ee*Math.cos(de),Ie=ee*Math.sin(de),ye=0===xe&&0===Ie?0:Ie/Math.sqrt(xe*xe+Ie*Ie),$e=0===xe&&0===Ie?0:-xe/Math.sqrt(xe*xe+Ie*Ie);this.v.setTripleAt(xe+=+this.p.v[0],Ie+=+this.p.v[1],xe-ye*re*te*Re,Ie-$e*re*te*Re,xe+ye*re*te*Re,Ie+$e*re*te*Re,ae,!0),de+=B*Re}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],z),z}(),R=function(){function z(G,V){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=G,this.comp=G.comp,this.frameId=-1,this.d=V.d,this.initDynamicPropertyContainer(G),this.p=PropertyFactory.getProp(G,V.p,1,0,this),this.s=PropertyFactory.getProp(G,V.s,1,0,this),this.r=PropertyFactory.getProp(G,V.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return z.prototype={convertRectToPath:function(){var V=this.p.v[0],B=this.p.v[1],ee=this.s.v[0]/2,te=this.s.v[1]/2,re=bmMin(ee,te,this.r.v),ae=re*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(V+ee,B-te+re,V+ee,B-te+re,V+ee,B-te+ae,0,!0),this.v.setTripleAt(V+ee,B+te-re,V+ee,B+te-ae,V+ee,B+te-re,1,!0),0!==re?(this.v.setTripleAt(V+ee-re,B+te,V+ee-re,B+te,V+ee-ae,B+te,2,!0),this.v.setTripleAt(V-ee+re,B+te,V-ee+ae,B+te,V-ee+re,B+te,3,!0),this.v.setTripleAt(V-ee,B+te-re,V-ee,B+te-re,V-ee,B+te-ae,4,!0),this.v.setTripleAt(V-ee,B-te+re,V-ee,B-te+ae,V-ee,B-te+re,5,!0),this.v.setTripleAt(V-ee+re,B-te,V-ee+re,B-te,V-ee+ae,B-te,6,!0),this.v.setTripleAt(V+ee-re,B-te,V+ee-ae,B-te,V+ee-re,B-te,7,!0)):(this.v.setTripleAt(V-ee,B+te,V-ee+ae,B+te,V-ee,B+te,2),this.v.setTripleAt(V-ee,B-te,V-ee,B-te+ae,V-ee,B-te,3))):(this.v.setTripleAt(V+ee,B-te+re,V+ee,B-te+ae,V+ee,B-te+re,0,!0),0!==re?(this.v.setTripleAt(V+ee-re,B-te,V+ee-re,B-te,V+ee-ae,B-te,1,!0),this.v.setTripleAt(V-ee+re,B-te,V-ee+ae,B-te,V-ee+re,B-te,2,!0),this.v.setTripleAt(V-ee,B-te+re,V-ee,B-te+re,V-ee,B-te+ae,3,!0),this.v.setTripleAt(V-ee,B+te-re,V-ee,B+te-ae,V-ee,B+te-re,4,!0),this.v.setTripleAt(V-ee+re,B+te,V-ee+re,B+te,V-ee+ae,B+te,5,!0),this.v.setTripleAt(V+ee-re,B+te,V+ee-ae,B+te,V+ee-re,B+te,6,!0),this.v.setTripleAt(V+ee,B+te-re,V+ee,B+te-re,V+ee,B+te-ae,7,!0)):(this.v.setTripleAt(V-ee,B-te,V-ee+ae,B-te,V-ee,B-te,1,!0),this.v.setTripleAt(V-ee,B+te,V-ee,B+te-ae,V-ee,B+te,2,!0),this.v.setTripleAt(V+ee,B+te,V+ee-ae,B+te,V+ee,B+te,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:s},extendPrototype([DynamicPropertyContainer],z),z}();return{getShapeProp:function H(z,G,V){var B;return 3===V||4===V?B=(3===V?G.pt:G.ks).k.length?new O(z,G,V):new M(z,G,V):5===V?B=new R(z,G):6===V?B=new j(z,G):7===V&&(B=new Q(z,G)),B.k&&z.addDynamicProperty(B),B},getConstructorFunction:function U(){return M},getKeyframedConstructorFunction:function q(){return O}}}(),Matrix=function(){var c=Math.cos,d=Math.sin,f=Math.tan,s=Math.round;function v(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function _(le){if(0===le)return this;var X=c(le),oe=d(le);return this._t(X,-oe,0,0,oe,X,0,0,0,0,1,0,0,0,0,1)}function I(le){if(0===le)return this;var X=c(le),oe=d(le);return this._t(1,0,0,0,0,X,-oe,0,0,oe,X,0,0,0,0,1)}function M(le){if(0===le)return this;var X=c(le),oe=d(le);return this._t(X,0,oe,0,0,1,0,0,-oe,0,X,0,0,0,0,1)}function P(le){if(0===le)return this;var X=c(le),oe=d(le);return this._t(X,-oe,0,0,oe,X,0,0,0,0,1,0,0,0,0,1)}function O(le,X){return this._t(1,X,le,1,0,0)}function j(le,X){return this.shear(f(le),f(X))}function Q(le,X){var oe=c(X),be=d(X);return this._t(oe,be,0,0,-be,oe,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,f(le),1,0,0,0,0,1,0,0,0,0,1)._t(oe,-be,0,0,be,oe,0,0,0,0,1,0,0,0,0,1)}function R(le,X,oe){return!oe&&0!==oe&&(oe=1),1===le&&1===X&&1===oe?this:this._t(le,0,0,0,0,X,0,0,0,0,oe,0,0,0,0,1)}function H(le,X,oe,be,pe,Ne,Le,nt,Ht,dt,Qe,zt,jt,Ut,Jt,un){return this.props[0]=le,this.props[1]=X,this.props[2]=oe,this.props[3]=be,this.props[4]=pe,this.props[5]=Ne,this.props[6]=Le,this.props[7]=nt,this.props[8]=Ht,this.props[9]=dt,this.props[10]=Qe,this.props[11]=zt,this.props[12]=jt,this.props[13]=Ut,this.props[14]=Jt,this.props[15]=un,this}function U(le,X,oe){return oe=oe||0,0!==le||0!==X||0!==oe?this._t(1,0,0,0,0,1,0,0,0,0,1,0,le,X,oe,1):this}function q(le,X,oe,be,pe,Ne,Le,nt,Ht,dt,Qe,zt,jt,Ut,Jt,un){var lt=this.props;if(1===le&&0===X&&0===oe&&0===be&&0===pe&&1===Ne&&0===Le&&0===nt&&0===Ht&&0===dt&&1===Qe&&0===zt)return lt[12]=lt[12]*le+lt[15]*jt,lt[13]=lt[13]*Ne+lt[15]*Ut,lt[14]=lt[14]*Qe+lt[15]*Jt,lt[15]*=un,this._identityCalculated=!1,this;var on=lt[0],On=lt[1],mr=lt[2],tr=lt[3],zr=lt[4],jr=lt[5],ft=lt[6],bn=lt[7],cr=lt[8],jn=lt[9],Ir=lt[10],nr=lt[11],pn=lt[12],hn=lt[13],an=lt[14],pt=lt[15];return lt[0]=on*le+On*pe+mr*Ht+tr*jt,lt[1]=on*X+On*Ne+mr*dt+tr*Ut,lt[2]=on*oe+On*Le+mr*Qe+tr*Jt,lt[3]=on*be+On*nt+mr*zt+tr*un,lt[4]=zr*le+jr*pe+ft*Ht+bn*jt,lt[5]=zr*X+jr*Ne+ft*dt+bn*Ut,lt[6]=zr*oe+jr*Le+ft*Qe+bn*Jt,lt[7]=zr*be+jr*nt+ft*zt+bn*un,lt[8]=cr*le+jn*pe+Ir*Ht+nr*jt,lt[9]=cr*X+jn*Ne+Ir*dt+nr*Ut,lt[10]=cr*oe+jn*Le+Ir*Qe+nr*Jt,lt[11]=cr*be+jn*nt+Ir*zt+nr*un,lt[12]=pn*le+hn*pe+an*Ht+pt*jt,lt[13]=pn*X+hn*Ne+an*dt+pt*Ut,lt[14]=pn*oe+hn*Le+an*Qe+pt*Jt,lt[15]=pn*be+hn*nt+an*zt+pt*un,this._identityCalculated=!1,this}function ne(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function z(le){for(var X=0;X<16;){if(le.props[X]!==this.props[X])return!1;X+=1}return!0}function G(le){var X;for(X=0;X<16;X+=1)le.props[X]=this.props[X];return le}function V(le){var X;for(X=0;X<16;X+=1)this.props[X]=le[X]}function B(le,X,oe){return{x:le*this.props[0]+X*this.props[4]+oe*this.props[8]+this.props[12],y:le*this.props[1]+X*this.props[5]+oe*this.props[9]+this.props[13],z:le*this.props[2]+X*this.props[6]+oe*this.props[10]+this.props[14]}}function ee(le,X,oe){return le*this.props[0]+X*this.props[4]+oe*this.props[8]+this.props[12]}function te(le,X,oe){return le*this.props[1]+X*this.props[5]+oe*this.props[9]+this.props[13]}function re(le,X,oe){return le*this.props[2]+X*this.props[6]+oe*this.props[10]+this.props[14]}function ae(){var le=this.props[0]*this.props[5]-this.props[1]*this.props[4],X=this.props[5]/le,oe=-this.props[1]/le,be=-this.props[4]/le,pe=this.props[0]/le,Ne=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/le,Le=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/le,nt=new Matrix;return nt.props[0]=X,nt.props[1]=oe,nt.props[4]=be,nt.props[5]=pe,nt.props[12]=Ne,nt.props[13]=Le,nt}function de(le){return this.getInverseMatrix().applyToPointArray(le[0],le[1],le[2]||0)}function Re(le){var X,oe=le.length,be=[];for(X=0;X<oe;X+=1)be[X]=de(le[X]);return be}function xe(le,X,oe){var be=createTypedArray("float32",6);if(this.isIdentity())be[0]=le[0],be[1]=le[1],be[2]=X[0],be[3]=X[1],be[4]=oe[0],be[5]=oe[1];else{var pe=this.props[0],Ne=this.props[1],Le=this.props[4],nt=this.props[5],Ht=this.props[12],dt=this.props[13];be[0]=le[0]*pe+le[1]*Le+Ht,be[1]=le[0]*Ne+le[1]*nt+dt,be[2]=X[0]*pe+X[1]*Le+Ht,be[3]=X[0]*Ne+X[1]*nt+dt,be[4]=oe[0]*pe+oe[1]*Le+Ht,be[5]=oe[0]*Ne+oe[1]*nt+dt}return be}function Ie(le,X,oe){return this.isIdentity()?[le,X,oe]:[le*this.props[0]+X*this.props[4]+oe*this.props[8]+this.props[12],le*this.props[1]+X*this.props[5]+oe*this.props[9]+this.props[13],le*this.props[2]+X*this.props[6]+oe*this.props[10]+this.props[14]]}function ye(le,X){if(this.isIdentity())return le+","+X;var oe=this.props;return Math.round(100*(le*oe[0]+X*oe[4]+oe[12]))/100+","+Math.round(100*(le*oe[1]+X*oe[5]+oe[13]))/100}function $e(){for(var le=0,X=this.props,oe="matrix3d(";le<16;)oe+=s(1e4*X[le])/1e4,oe+=15===le?")":",",le+=1;return oe}function Te(le){return le<1e-6&&le>0||le>-1e-6&&le<0?s(1e4*le)/1e4:le}function fe(){var le=this.props;return"matrix("+Te(le[0])+","+Te(le[1])+","+Te(le[4])+","+Te(le[5])+","+Te(le[12])+","+Te(le[13])+")"}return function(){this.reset=v,this.rotate=_,this.rotateX=I,this.rotateY=M,this.rotateZ=P,this.skew=j,this.skewFromAxis=Q,this.shear=O,this.scale=R,this.setTransform=H,this.translate=U,this.transform=q,this.applyToPoint=B,this.applyToX=ee,this.applyToY=te,this.applyToZ=re,this.applyToPointArray=Ie,this.applyToTriplePoints=xe,this.applyToPointStringified=ye,this.toCSS=$e,this.to2dCSS=fe,this.clone=G,this.cloneFromProps=V,this.equals=z,this.inversePoints=Re,this.inversePoint=de,this.getInverseMatrix=ae,this._t=this.transform,this.isIdentity=ne,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(c){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(c){setLocationHref(c)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(c){setSubframeEnabled(c)}function setPrefix(c){setIdPrefix(c)}function loadAnimation(c){return!0===standalone&&(c.animationData=JSON.parse(animationData)),animationManager.loadAnimation(c)}function setQuality(c){if("string"==typeof c)switch(c){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(c)&&c>1&&setDefaultCurveSegments(c);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return typeof navigator<"u"}function installPlugin(c,d){"expressions"===c&&setExpressionsPlugin(d)}function getFactory(c){switch(c){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(c){for(var d=queryString.split("&"),f=0;f<d.length;f+=1){var s=d[f].split("=");if(decodeURIComponent(s[0])==c)return decodeURIComponent(s[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.11.0";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)}catch(c){}var ShapeModifiers=function(){var c={},d={};return c.registerModifier=function f(v,_){d[v]||(d[v]=_)},c.getModifier=function s(v,_,I){return new d[v](_,I)},c}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(c){if(!this.closed){c.sh.container.addDynamicProperty(c.sh);var d={shape:c.sh,data:c,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(d),this.addShapeToModifier(d),this._isAnimated&&c.setAsAnimated()}},ShapeModifier.prototype.init=function(c,d){this.shapes=[],this.elem=c,this.initDynamicPropertyContainer(c),this.initModifierProperties(c,d),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(c,d){this.s=PropertyFactory.getProp(c,d.s,0,.01,this),this.e=PropertyFactory.getProp(c,d.e,0,.01,this),this.o=PropertyFactory.getProp(c,d.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=d.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(c){c.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(c,d,f,s,v){var _=[];d<=1?_.push({s:c,e:d}):c>=1?_.push({s:c-1,e:d-1}):(_.push({s:c,e:1}),_.push({s:0,e:d-1}));var M,O,I=[],P=_.length;for(M=0;M<P;M+=1)(O=_[M]).e*v<s||O.s*v>s+f||I.push([O.s*v<=s?0:(O.s*v-s)/f,O.e*v>=s+f?1:(O.e*v-s)/f]);return I.length||I.push([0,0]),I},TrimModifier.prototype.releasePathsData=function(c){var d,f=c.length;for(d=0;d<f;d+=1)segmentsLengthPool.release(c[d]);return c.length=0,c},TrimModifier.prototype.processShapes=function(c){var d,f;if(this._mdf||c){var s=this.o.v%360/360;if(s<0&&(s+=1),(d=this.s.v>1?1+s:this.s.v<0?0+s:this.s.v+s)>(f=this.e.v>1?1+s:this.e.v<0?0+s:this.e.v+s)){var v=d;d=f,f=v}d=1e-4*Math.round(1e4*d),f=1e-4*Math.round(1e4*f),this.sValue=d,this.eValue=f}else d=this.sValue,f=this.eValue;var _,I,P,O,j,Q,R,M=this.shapes.length,H=0;if(f===d)for(I=0;I<M;I+=1)this.shapes[I].localShapeCollection.releaseShapes(),this.shapes[I].shape._mdf=!0,this.shapes[I].shape.paths=this.shapes[I].localShapeCollection,this._mdf&&(this.shapes[I].pathsData.length=0);else if(1===f&&0===d||0===f&&1===d){if(this._mdf)for(I=0;I<M;I+=1)this.shapes[I].pathsData.length=0,this.shapes[I].shape._mdf=!0}else{var q,ne,U=[];for(I=0;I<M;I+=1)if((q=this.shapes[I]).shape._mdf||this._mdf||c||2===this.m){if(O=(_=q.shape.paths)._length,R=0,!q.shape._mdf&&q.pathsData.length)R=q.totalShapeLength;else{for(j=this.releasePathsData(q.pathsData),P=0;P<O;P+=1)Q=bez.getSegmentsLength(_.shapes[P]),j.push(Q),R+=Q.totalLength;q.totalShapeLength=R,q.pathsData=j}H+=R,q.shape._mdf=!0}else q.shape.paths=q.localShapeCollection;var B,z=d,G=f,V=0;for(I=M-1;I>=0;I-=1)if((q=this.shapes[I]).shape._mdf){for((ne=q.localShapeCollection).releaseShapes(),2===this.m&&M>1?(B=this.calculateShapeEdges(d,f,q.totalShapeLength,V,H),V+=q.totalShapeLength):B=[[z,G]],O=B.length,P=0;P<O;P+=1){z=B[P][0],G=B[P][1],U.length=0,G<=1?U.push({s:q.totalShapeLength*z,e:q.totalShapeLength*G}):z>=1?U.push({s:q.totalShapeLength*(z-1),e:q.totalShapeLength*(G-1)}):(U.push({s:q.totalShapeLength*z,e:q.totalShapeLength}),U.push({s:0,e:q.totalShapeLength*(G-1)}));var ee=this.addShapes(q,U[0]);if(U[0].s!==U[0].e){if(U.length>1)if(q.shape.paths.shapes[q.shape.paths._length-1].c){var re=ee.pop();this.addPaths(ee,ne),ee=this.addShapes(q,U[1],re)}else this.addPaths(ee,ne),ee=this.addShapes(q,U[1]);this.addPaths(ee,ne)}}q.shape.paths=ne}}},TrimModifier.prototype.addPaths=function(c,d){var f,s=c.length;for(f=0;f<s;f+=1)d.addShape(c[f])},TrimModifier.prototype.addSegment=function(c,d,f,s,v,_,I){v.setXYAt(d[0],d[1],"o",_),v.setXYAt(f[0],f[1],"i",_+1),I&&v.setXYAt(c[0],c[1],"v",_),v.setXYAt(s[0],s[1],"v",_+1)},TrimModifier.prototype.addSegmentFromArray=function(c,d,f,s){d.setXYAt(c[1],c[5],"o",f),d.setXYAt(c[2],c[6],"i",f+1),s&&d.setXYAt(c[0],c[4],"v",f),d.setXYAt(c[3],c[7],"v",f+1)},TrimModifier.prototype.addShapes=function(c,d,f){var _,M,P,j,Q,R,H,q,s=c.pathsData,v=c.shape.paths.shapes,I=c.shape.paths._length,O=0,U=[],ne=!0;for(f?(Q=f._length,q=f._length):(f=shapePool.newElement(),Q=0,q=0),U.push(f),_=0;_<I;_+=1){for(R=s[_].lengths,f.c=v[_].c,P=v[_].c?R.length:R.length+1,M=1;M<P;M+=1)if(O+(j=R[M-1]).addedLength<d.s)O+=j.addedLength,f.c=!1;else{if(O>d.e){f.c=!1;break}d.s<=O&&d.e>=O+j.addedLength?(this.addSegment(v[_].v[M-1],v[_].o[M-1],v[_].i[M],v[_].v[M],f,Q,ne),ne=!1):(H=bez.getNewSegment(v[_].v[M-1],v[_].v[M],v[_].o[M-1],v[_].i[M],(d.s-O)/j.addedLength,(d.e-O)/j.addedLength,R[M-1]),this.addSegmentFromArray(H,f,Q,ne),ne=!1,f.c=!1),O+=j.addedLength,Q+=1}if(v[_].c&&R.length){if(j=R[M-1],O<=d.e){var z=R[M-1].addedLength;d.s<=O&&d.e>=O+z?(this.addSegment(v[_].v[M-1],v[_].o[M-1],v[_].i[0],v[_].v[0],f,Q,ne),ne=!1):(H=bez.getNewSegment(v[_].v[M-1],v[_].v[0],v[_].o[M-1],v[_].i[0],(d.s-O)/z,(d.e-O)/z,R[M-1]),this.addSegmentFromArray(H,f,Q,ne),ne=!1,f.c=!1)}else f.c=!1;O+=j.addedLength,Q+=1}if(f._length&&(f.setXYAt(f.v[q][0],f.v[q][1],"i",q),f.setXYAt(f.v[f._length-1][0],f.v[f._length-1][1],"o",f._length-1)),O>d.e)break;_<I-1&&(f=shapePool.newElement(),ne=!0,U.push(f),Q=0)}return U},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(c,d){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(c,d.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(c,d){var f=d/100,s=[0,0],v=c._length,_=0;for(_=0;_<v;_+=1)s[0]+=c.v[_][0],s[1]+=c.v[_][1];s[0]/=v,s[1]/=v;var I=shapePool.newElement();for(I.c=c.c,_=0;_<v;_+=1)I.setTripleAt(c.v[_][0]+(s[0]-c.v[_][0])*f,c.v[_][1]+(s[1]-c.v[_][1])*f,c.o[_][0]+(s[0]-c.o[_][0])*-f,c.o[_][1]+(s[1]-c.o[_][1])*-f,c.i[_][0]+(s[0]-c.i[_][0])*-f,c.i[_][1]+(s[1]-c.i[_][1])*-f,_);return I},PuckerAndBloatModifier.prototype.processShapes=function(c){var d,f,v,_,M,P,s=this.shapes.length,I=this.amount.v;if(0!==I)for(f=0;f<s;f+=1){if(P=(M=this.shapes[f]).localShapeCollection,M.shape._mdf||this._mdf||c)for(P.releaseShapes(),M.shape._mdf=!0,d=M.shape.paths.shapes,_=M.shape.paths._length,v=0;v<_;v+=1)P.addShape(this.processPath(d[v],I));M.shape.paths=M.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var c=[0,0];function I(P,O,j){if(this.elem=P,this.frameId=-1,this.propType="transform",this.data=O,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(j||P),O.p&&O.p.s?(this.px=PropertyFactory.getProp(P,O.p.x,0,0,this),this.py=PropertyFactory.getProp(P,O.p.y,0,0,this),O.p.z&&(this.pz=PropertyFactory.getProp(P,O.p.z,0,0,this))):this.p=PropertyFactory.getProp(P,O.p||{k:[0,0,0]},1,0,this),O.rx){if(this.rx=PropertyFactory.getProp(P,O.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(P,O.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(P,O.rz,0,degToRads,this),O.or.k[0].ti){var Q,R=O.or.k.length;for(Q=0;Q<R;Q+=1)O.or.k[Q].to=null,O.or.k[Q].ti=null}this.or=PropertyFactory.getProp(P,O.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(P,O.r||{k:0},0,degToRads,this);O.sk&&(this.sk=PropertyFactory.getProp(P,O.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(P,O.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(P,O.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(P,O.s||{k:[100,100,100]},1,.01,this),this.o=O.o?PropertyFactory.getProp(P,O.o,0,.01,P):{_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return I.prototype={applyToMatrix:function d(P){var O=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||O,this.a&&P.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&P.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&P.skewFromAxis(-this.sk.v,this.sa.v),this.r?P.rotate(-this.r.v):P.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?P.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):P.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function f(P){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||P){var O;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var j,Q;if(O=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(j=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/O,0),Q=this.p.getValueAtTime(this.p.keyframes[0].t/O,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(j=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/O,0),Q=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/O,0)):(j=this.p.pv,Q=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/O,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){j=[],Q=[];var R=this.px,H=this.py;R._caching.lastFrame+R.offsetTime<=R.keyframes[0].t?(j[0]=R.getValueAtTime((R.keyframes[0].t+.01)/O,0),j[1]=H.getValueAtTime((H.keyframes[0].t+.01)/O,0),Q[0]=R.getValueAtTime(R.keyframes[0].t/O,0),Q[1]=H.getValueAtTime(H.keyframes[0].t/O,0)):R._caching.lastFrame+R.offsetTime>=R.keyframes[R.keyframes.length-1].t?(j[0]=R.getValueAtTime(R.keyframes[R.keyframes.length-1].t/O,0),j[1]=H.getValueAtTime(H.keyframes[H.keyframes.length-1].t/O,0),Q[0]=R.getValueAtTime((R.keyframes[R.keyframes.length-1].t-.01)/O,0),Q[1]=H.getValueAtTime((H.keyframes[H.keyframes.length-1].t-.01)/O,0)):(j=[R.pv,H.pv],Q[0]=R.getValueAtTime((R._caching.lastFrame+R.offsetTime-.01)/O,R.offsetTime),Q[1]=H.getValueAtTime((H._caching.lastFrame+H.offsetTime-.01)/O,H.offsetTime))}else j=Q=c;this.v.rotate(-Math.atan2(j[1]-Q[1],j[0]-Q[0]))}this.data.p&&this.data.p.s?this.v.translate(this.px.v,this.py.v,this.data.p.z?-this.pz.v:0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function s(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function v(){}},extendPrototype([DynamicPropertyContainer],I),I.prototype.addDynamicProperty=function _(P){this._addDynamicProperty(P),this.elem.addDynamicProperty(P),this._isDirty=!0},I.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function M(P,O,j){return new I(P,O,j)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(c,d){return 1e5*Math.abs(c-d)<=Math.min(Math.abs(c),Math.abs(d))}function floatZero(c){return Math.abs(c)<=1e-5}function lerp(c,d,f){return c*(1-f)+d*f}function lerpPoint(c,d,f){return[lerp(c[0],d[0],f),lerp(c[1],d[1],f)]}function quadRoots(c,d,f){if(0===c)return[];var s=d*d-4*c*f;if(s<0)return[];var v=-d/(2*c);if(0===s)return[v];var _=Math.sqrt(s)/(2*c);return[v-_,v+_]}function polynomialCoefficients(c,d,f,s){return[3*d-c-3*f+s,3*c-6*d+3*f,-3*c+3*d,c]}function singlePoint(c){return new PolynomialBezier(c,c,c,c,!1)}function PolynomialBezier(c,d,f,s,v){v&&pointEqual(c,d)&&(d=lerpPoint(c,s,1/3)),v&&pointEqual(f,s)&&(f=lerpPoint(c,s,2/3));var _=polynomialCoefficients(c[0],d[0],f[0],s[0]),I=polynomialCoefficients(c[1],d[1],f[1],s[1]);this.a=[_[0],I[0]],this.b=[_[1],I[1]],this.c=[_[2],I[2]],this.d=[_[3],I[3]],this.points=[c,d,f,s]}function extrema(c,d){var f=c.points[0][d],s=c.points[c.points.length-1][d];if(f>s){var v=s;s=f,f=v}for(var _=quadRoots(3*c.a[d],2*c.b[d],c.c[d]),I=0;I<_.length;I+=1)if(_[I]>0&&_[I]<1){var M=c.point(_[I])[d];M<f?f=M:M>s&&(s=M)}return{min:f,max:s}}function intersectData(c,d,f){var s=c.boundingBox();return{cx:s.cx,cy:s.cy,width:s.width,height:s.height,bez:c,t:(d+f)/2,t1:d,t2:f}}function splitData(c){var d=c.bez.split(.5);return[intersectData(d[0],c.t1,c.t),intersectData(d[1],c.t,c.t2)]}function boxIntersect(c,d){return 2*Math.abs(c.cx-d.cx)<c.width+d.width&&2*Math.abs(c.cy-d.cy)<c.height+d.height}function intersectsImpl(c,d,f,s,v,_){if(boxIntersect(c,d)){if(f>=_||c.width<=s&&c.height<=s&&d.width<=s&&d.height<=s)return void v.push([c.t,d.t]);var I=splitData(c),M=splitData(d);intersectsImpl(I[0],M[0],f+1,s,v,_),intersectsImpl(I[0],M[1],f+1,s,v,_),intersectsImpl(I[1],M[0],f+1,s,v,_),intersectsImpl(I[1],M[1],f+1,s,v,_)}}function crossProduct(c,d){return[c[1]*d[2]-c[2]*d[1],c[2]*d[0]-c[0]*d[2],c[0]*d[1]-c[1]*d[0]]}function lineIntersection(c,d,f,s){var I=[f[0],f[1],1],M=[s[0],s[1],1],P=crossProduct(crossProduct([c[0],c[1],1],[d[0],d[1],1]),crossProduct(I,M));return floatZero(P[2])?null:[P[0]/P[2],P[1]/P[2]]}function polarOffset(c,d,f){return[c[0]+Math.cos(d)*f,c[1]-Math.sin(d)*f]}function pointDistance(c,d){return Math.hypot(c[0]-d[0],c[1]-d[1])}function pointEqual(c,d){return floatEqual(c[0],d[0])&&floatEqual(c[1],d[1])}function ZigZagModifier(){}function setPoint(c,d,f,s,v,_,I){var M=f-Math.PI/2,P=f+Math.PI/2,O=d[0]+Math.cos(f)*s*v,j=d[1]-Math.sin(f)*s*v;c.setTripleAt(O,j,O+Math.cos(M)*_,j-Math.sin(M)*_,O+Math.cos(P)*I,j-Math.sin(P)*I,c.length())}function getPerpendicularVector(c,d){var f=[d[0]-c[0],d[1]-c[1]],s=.5*-Math.PI;return[Math.cos(s)*f[0]-Math.sin(s)*f[1],Math.sin(s)*f[0]+Math.cos(s)*f[1]]}function getProjectingAngle(c,d){var f=0===d?c.length()-1:d-1,s=(d+1)%c.length(),I=getPerpendicularVector(c.v[f],c.v[s]);return Math.atan2(0,1)-Math.atan2(I[1],I[0])}function zigZagCorner(c,d,f,s,v,_,I){var M=getProjectingAngle(d,f),P=d.v[f%d._length],O=d.v[0===f?d._length-1:f-1],j=d.v[(f+1)%d._length],Q=2===_?Math.sqrt(Math.pow(P[0]-O[0],2)+Math.pow(P[1]-O[1],2)):0,R=2===_?Math.sqrt(Math.pow(P[0]-j[0],2)+Math.pow(P[1]-j[1],2)):0;setPoint(c,d.v[f%d._length],M,I,s,R/(2*(v+1)),Q/(2*(v+1)),_)}function zigZagSegment(c,d,f,s,v,_){for(var I=0;I<s;I+=1){var M=(I+1)/(s+1),P=2===v?Math.sqrt(Math.pow(d.points[3][0]-d.points[0][0],2)+Math.pow(d.points[3][1]-d.points[0][1],2)):0,O=d.normalAngle(M);setPoint(c,d.point(M),O,_,f,P/(2*(s+1)),P/(2*(s+1)),v),_=-_}return _}function linearOffset(c,d,f){var s=Math.atan2(d[0]-c[0],d[1]-c[1]);return[polarOffset(c,s,f),polarOffset(d,s,f)]}function offsetSegment(c,d){var f,s,v,_,I,M,P;f=(P=linearOffset(c.points[0],c.points[1],d))[0],s=P[1],v=(P=linearOffset(c.points[1],c.points[2],d))[0],_=P[1],I=(P=linearOffset(c.points[2],c.points[3],d))[0],M=P[1];var O=lineIntersection(f,s,v,_);null===O&&(O=s);var j=lineIntersection(I,M,v,_);return null===j&&(j=I),new PolynomialBezier(f,O,j,M)}function joinLines(c,d,f,s,v){var _=d.points[3],I=f.points[0];if(3===s||pointEqual(_,I))return _;if(2===s){var M=-d.tangentAngle(1),P=-f.tangentAngle(0)+Math.PI,O=lineIntersection(_,polarOffset(_,M+Math.PI/2,100),I,polarOffset(I,M+Math.PI/2,100)),j=O?pointDistance(O,_):pointDistance(_,I)/2,Q=polarOffset(_,M,2*j*roundCorner);return c.setXYAt(Q[0],Q[1],"o",c.length()-1),Q=polarOffset(I,P,2*j*roundCorner),c.setTripleAt(I[0],I[1],I[0],I[1],Q[0],Q[1],c.length()),I}var U=lineIntersection(pointEqual(_,d.points[2])?d.points[0]:d.points[2],_,I,pointEqual(I,f.points[1])?f.points[3]:f.points[1]);return U&&pointDistance(U,_)<v?(c.setTripleAt(U[0],U[1],U[0],U[1],U[0],U[1],c.length()),U):_}function getIntersection(c,d){var f=c.intersections(d);return f.length&&floatEqual(f[0][0],1)&&f.shift(),f.length?f[0]:null}function pruneSegmentIntersection(c,d){var f=c.slice(),s=d.slice(),v=getIntersection(c[c.length-1],d[0]);return v&&(f[c.length-1]=c[c.length-1].split(v[0])[0],s[0]=d[0].split(v[1])[1]),c.length>1&&d.length>1&&(v=getIntersection(c[0],d[d.length-1]))?[[c[0].split(v[0])[0]],[d[d.length-1].split(v[1])[1]]]:[f,s]}function pruneIntersections(c){for(var d,f=1;f<c.length;f+=1)d=pruneSegmentIntersection(c[f-1],c[f]),c[f-1]=d[0],c[f]=d[1];return c.length>1&&(d=pruneSegmentIntersection(c[c.length-1],c[0]),c[c.length-1]=d[0],c[0]=d[1]),c}function offsetSegmentSplit(c,d){var s,v,_,I,f=c.inflectionPoints();return 0===f.length?[offsetSegment(c,d)]:1===f.length||floatEqual(f[1],1)?(v=(_=c.split(f[0]))[1],[offsetSegment(s=_[0],d),offsetSegment(v,d)]):(s=(_=c.split(f[0]))[0],I=(_=_[1].split((f[1]-f[0])/(1-f[0])))[0],v=_[1],[offsetSegment(s,d),offsetSegment(I,d),offsetSegment(v,d)])}function OffsetPathModifier(){}function getFontProperties(c){for(var _,d=c.fStyle?c.fStyle.split(" "):[],f="normal",s="normal",v=d.length,I=0;I<v;I+=1)switch(_=d[I].toLowerCase(),_){case"italic":s="italic";break;case"bold":f="700";break;case"black":f="900";break;case"medium":f="500";break;case"regular":case"normal":f="400";break;case"light":case"thin":f="200"}return{style:s,weight:c.fWeight||f}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(c,d){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(c,d.c,0,null,this),this.o=PropertyFactory.getProp(c,d.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(c,d.tr,this),this.so=PropertyFactory.getProp(c,d.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(c,d.tr.eo,0,.01,this),this.data=d,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(c,d,f,s,v,_){var I=_?-1:1,M=s.s.v[0]+(1-s.s.v[0])*(1-v),P=s.s.v[1]+(1-s.s.v[1])*(1-v);c.translate(s.p.v[0]*I*v,s.p.v[1]*I*v,s.p.v[2]),d.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),d.rotate(-s.r.v*I*v),d.translate(s.a.v[0],s.a.v[1],s.a.v[2]),f.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),f.scale(_?1/M:M,_?1/P:P),f.translate(s.a.v[0],s.a.v[1],s.a.v[2])},RepeaterModifier.prototype.init=function(c,d,f,s){for(this.elem=c,this.arr=d,this.pos=f,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(c),this.initModifierProperties(c,d[f]);f>0;)this._elements.unshift(d[f-=1]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(c){var d,f=c.length;for(d=0;d<f;d+=1)c[d]._processed=!1,"gr"===c[d].ty&&this.resetElements(c[d].it)},RepeaterModifier.prototype.cloneElements=function(c){var d=JSON.parse(JSON.stringify(c));return this.resetElements(d),d},RepeaterModifier.prototype.changeGroupRender=function(c,d){var f,s=c.length;for(f=0;f<s;f+=1)c[f]._render=d,"gr"===c[f].ty&&this.changeGroupRender(c[f].it,d)},RepeaterModifier.prototype.processShapes=function(c){var d,f,s,v,_,I=!1;if(this._mdf||c){var O,M=Math.ceil(this.c.v);if(this._groups.length<M){for(;this._groups.length<M;){var P={it:this.cloneElements(this._elements),ty:"gr"};P.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,P),this._groups.splice(0,0,P),this._currentCopies+=1}this.elem.reloadShapes(),I=!0}for(_=0,s=0;s<=this._groups.length-1;s+=1){if(this._groups[s]._render=O=_<M,this.changeGroupRender(this._groups[s].it,O),!O){var j=this.elemsData[s].it,Q=j[j.length-1];0!==Q.transform.op.v?(Q.transform.op._mdf=!0,Q.transform.op.v=0):Q.transform.op._mdf=!1}_+=1}this._currentCopies=M;var R=this.o.v,H=R%1,U=R>0?Math.floor(R):Math.ceil(R),q=this.pMatrix.props,ne=this.rMatrix.props,z=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var V,B,G=0;if(R>0){for(;G<U;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),G+=1;H&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,H,!1),G+=H)}else if(R<0){for(;G>U;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),G-=1;H&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-H,!0),G-=H)}for(s=1===this.data.m?0:this._currentCopies-1,v=1===this.data.m?1:-1,_=this._currentCopies;_;){if(B=(f=(d=this.elemsData[s].it)[d.length-1].transform.mProps.v.props).length,d[d.length-1].transform.mProps._mdf=!0,d[d.length-1].transform.op._mdf=!0,d[d.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+s/(this._currentCopies-1)*(this.eo.v-this.so.v),0!==G){for((0!==s&&1===v||s!==this._currentCopies-1&&-1===v)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5],ne[6],ne[7],ne[8],ne[9],ne[10],ne[11],ne[12],ne[13],ne[14],ne[15]),this.matrix.transform(z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],z[8],z[9],z[10],z[11],z[12],z[13],z[14],z[15]),this.matrix.transform(q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],q[8],q[9],q[10],q[11],q[12],q[13],q[14],q[15]),V=0;V<B;V+=1)f[V]=this.matrix.props[V];this.matrix.reset()}else for(this.matrix.reset(),V=0;V<B;V+=1)f[V]=this.matrix.props[V];G+=1,_-=1,s+=v}}else for(_=this._currentCopies,s=0,v=1;_;)f=(d=this.elemsData[s].it)[d.length-1].transform.mProps.v.props,d[d.length-1].transform.mProps._mdf=!1,d[d.length-1].transform.op._mdf=!1,_-=1,s+=v;return I},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(c,d){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(c,d.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(c,d){var f=shapePool.newElement();f.c=c.c;var s,_,I,M,P,O,j,R,H,U,q,ne,z,v=c._length,Q=0;for(s=0;s<v;s+=1)I=c.i[s],(_=c.v[s])[0]===(M=c.o[s])[0]&&_[1]===M[1]&&_[0]===I[0]&&_[1]===I[1]?0!==s&&s!==v-1||c.c?(P=0===s?c.v[v-1]:c.v[s-1],j=(O=Math.sqrt(Math.pow(_[0]-P[0],2)+Math.pow(_[1]-P[1],2)))?Math.min(O/2,d)/O:0,f.setTripleAt(R=ne=_[0]+(P[0]-_[0])*j,H=z=_[1]-(_[1]-P[1])*j,R-(R-_[0])*roundCorner,H-(H-_[1])*roundCorner,ne,z,Q),Q+=1,P=s===v-1?c.v[0]:c.v[s+1],j=(O=Math.sqrt(Math.pow(_[0]-P[0],2)+Math.pow(_[1]-P[1],2)))?Math.min(O/2,d)/O:0,f.setTripleAt(R=U=_[0]+(P[0]-_[0])*j,H=q=_[1]+(P[1]-_[1])*j,U,q,ne=R-(R-_[0])*roundCorner,z=H-(H-_[1])*roundCorner,Q),Q+=1):(f.setTripleAt(_[0],_[1],M[0],M[1],I[0],I[1],Q),Q+=1):(f.setTripleAt(c.v[s][0],c.v[s][1],c.o[s][0],c.o[s][1],c.i[s][0],c.i[s][1],Q),Q+=1);return f},RoundCornersModifier.prototype.processShapes=function(c){var d,f,v,_,M,P,s=this.shapes.length,I=this.rd.v;if(0!==I)for(f=0;f<s;f+=1){if(P=(M=this.shapes[f]).localShapeCollection,M.shape._mdf||this._mdf||c)for(P.releaseShapes(),M.shape._mdf=!0,d=M.shape.paths.shapes,_=M.shape.paths._length,v=0;v<_;v+=1)P.addShape(this.processPath(d[v],I));M.shape.paths=M.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(c){return[((this.a[0]*c+this.b[0])*c+this.c[0])*c+this.d[0],((this.a[1]*c+this.b[1])*c+this.c[1])*c+this.d[1]]},PolynomialBezier.prototype.derivative=function(c){return[(3*c*this.a[0]+2*this.b[0])*c+this.c[0],(3*c*this.a[1]+2*this.b[1])*c+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(c){var d=this.derivative(c);return Math.atan2(d[1],d[0])},PolynomialBezier.prototype.normalAngle=function(c){var d=this.derivative(c);return Math.atan2(d[0],d[1])},PolynomialBezier.prototype.inflectionPoints=function(){var c=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(c))return[];var d=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/c,f=d*d-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/c;if(f<0)return[];var s=Math.sqrt(f);return floatZero(s)?s>0&&s<1?[d]:[]:[d-s,d+s].filter(function(v){return v>0&&v<1})},PolynomialBezier.prototype.split=function(c){if(c<=0)return[singlePoint(this.points[0]),this];if(c>=1)return[this,singlePoint(this.points[this.points.length-1])];var d=lerpPoint(this.points[0],this.points[1],c),f=lerpPoint(this.points[1],this.points[2],c),s=lerpPoint(this.points[2],this.points[3],c),v=lerpPoint(d,f,c),_=lerpPoint(f,s,c),I=lerpPoint(v,_,c);return[new PolynomialBezier(this.points[0],d,v,I,!0),new PolynomialBezier(I,_,s,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var c=this.bounds();return{left:c.x.min,right:c.x.max,top:c.y.min,bottom:c.y.max,width:c.x.max-c.x.min,height:c.y.max-c.y.min,cx:(c.x.max+c.x.min)/2,cy:(c.y.max+c.y.min)/2}},PolynomialBezier.prototype.intersections=function(c,d,f){void 0===d&&(d=2),void 0===f&&(f=7);var s=[];return intersectsImpl(intersectData(this,0,1),intersectData(c,0,1),0,d,s,f),s},PolynomialBezier.shapeSegment=function(c,d){var f=(d+1)%c.length();return new PolynomialBezier(c.v[d],c.o[d],c.i[f],c.v[f],!0)},PolynomialBezier.shapeSegmentInverted=function(c,d){var f=(d+1)%c.length();return new PolynomialBezier(c.v[f],c.i[f],c.o[d],c.v[d],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(c,d){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(c,d.s,0,null,this),this.frequency=PropertyFactory.getProp(c,d.r,0,null,this),this.pointsType=PropertyFactory.getProp(c,d.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(c,d,f,s){var v=c._length,_=shapePool.newElement();if(_.c=c.c,c.c||(v-=1),0===v)return _;var I=-1,M=PolynomialBezier.shapeSegment(c,0);zigZagCorner(_,c,0,d,f,s,I);for(var P=0;P<v;P+=1)I=zigZagSegment(_,M,d,f,s,-I),M=P!==v-1||c.c?PolynomialBezier.shapeSegment(c,(P+1)%v):null,zigZagCorner(_,c,P+1,d,f,s,I);return _},ZigZagModifier.prototype.processShapes=function(c){var d,f,v,_,O,j,s=this.shapes.length,I=this.amplitude.v,M=Math.max(0,Math.round(this.frequency.v)),P=this.pointsType.v;if(0!==I)for(f=0;f<s;f+=1){if(j=(O=this.shapes[f]).localShapeCollection,O.shape._mdf||this._mdf||c)for(j.releaseShapes(),O.shape._mdf=!0,d=O.shape.paths.shapes,_=O.shape.paths._length,v=0;v<_;v+=1)j.addShape(this.processPath(d[v],I,M,P));O.shape.paths=O.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(c,d){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(c,d.a,0,null,this),this.miterLimit=PropertyFactory.getProp(c,d.ml,0,null,this),this.lineJoin=d.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(c,d,f,s){var v=shapePool.newElement();v.c=c.c;var _=c.length();c.c||(_-=1);var I,M,P,O=[];for(I=0;I<_;I+=1)P=PolynomialBezier.shapeSegment(c,I),O.push(offsetSegmentSplit(P,d));if(!c.c)for(I=_-1;I>=0;I-=1)P=PolynomialBezier.shapeSegmentInverted(c,I),O.push(offsetSegmentSplit(P,d));O=pruneIntersections(O);var j=null,Q=null;for(I=0;I<O.length;I+=1){var R=O[I];for(Q&&(j=joinLines(v,Q,R[0],f,s)),Q=R[R.length-1],M=0;M<R.length;M+=1)P=R[M],j&&pointEqual(P.points[0],j)?v.setXYAt(P.points[1][0],P.points[1][1],"o",v.length()-1):v.setTripleAt(P.points[0][0],P.points[0][1],P.points[1][0],P.points[1][1],P.points[0][0],P.points[0][1],v.length()),v.setTripleAt(P.points[3][0],P.points[3][1],P.points[3][0],P.points[3][1],P.points[2][0],P.points[2][1],v.length()),j=P.points[3]}return O.length&&joinLines(v,Q,O[0][0],f,s),v},OffsetPathModifier.prototype.processShapes=function(c){var d,f,v,_,O,j,s=this.shapes.length,I=this.amount.v,M=this.miterLimit.v,P=this.lineJoin;if(0!==I)for(f=0;f<s;f+=1){if(j=(O=this.shapes[f]).localShapeCollection,O.shape._mdf||this._mdf||c)for(j.releaseShapes(),O.shape._mdf=!0,d=O.shape.paths.shapes,_=O.shape.paths._length,v=0;v<_;v+=1)j.addShape(this.processPath(d[v],I,P,M));O.shape.paths=O.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var d={w:0,size:0,shapes:[],data:{shapes:[]}},f=[];f=f.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var s=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],v=[65039,8205];function I(B,ee){var te=createTag("span");te.setAttribute("aria-hidden",!0),te.style.fontFamily=ee;var re=createTag("span");re.innerText="giItT1WQy@!-/#",te.style.position="absolute",te.style.left="-10000px",te.style.top="-10000px",te.style.fontSize="300px",te.style.fontVariant="normal",te.style.fontStyle="normal",te.style.fontWeight="normal",te.style.letterSpacing="0",te.appendChild(re),document.body.appendChild(te);var ae=re.offsetWidth;return re.style.fontFamily=function _(B){var te,ee=B.split(","),re=ee.length,ae=[];for(te=0;te<re;te+=1)"sans-serif"!==ee[te]&&"monospace"!==ee[te]&&ae.push(ee[te]);return ae.join(",")}(B)+", "+ee,{node:re,w:ae,parent:te}}function P(B,ee){var re,te=document.body&&ee?"svg":"canvas",ae=getFontProperties(B);if("svg"===te){var de=createNS("text");de.style.fontSize="100px",de.setAttribute("font-family",B.fFamily),de.setAttribute("font-style",ae.style),de.setAttribute("font-weight",ae.weight),de.textContent="1",B.fClass?(de.style.fontFamily="inherit",de.setAttribute("class",B.fClass)):de.style.fontFamily=B.fFamily,ee.appendChild(de),re=de}else{var Re=new OffscreenCanvas(500,500).getContext("2d");Re.font=ae.style+" "+ae.weight+" 100px "+B.fFamily,re=Re}return{measureText:function xe(Ie){return"svg"===te?(re.textContent=Ie,re.getComputedTextLength()):re.measureText(Ie).width}}}var G=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return G.isModifier=function U(B,ee){var te=B.toString(16)+ee.toString(16);return-1!==s.indexOf(te)},G.isZeroWidthJoiner=function q(B,ee){return ee?B===v[0]&&ee===v[1]:B===v[1]},G.isCombinedCharacter=function ne(B){return-1!==f.indexOf(B)},G.prototype={addChars:function j(B){if(B){this.chars||(this.chars=[]);var ee,re,de,te=B.length,ae=this.chars.length;for(ee=0;ee<te;ee+=1){for(re=0,de=!1;re<ae;)this.chars[re].style===B[ee].style&&this.chars[re].fFamily===B[ee].fFamily&&this.chars[re].ch===B[ee].ch&&(de=!0),re+=1;de||(this.chars.push(B[ee]),ae+=1)}}},addFonts:function O(B,ee){if(B){if(this.chars)return this.isLoaded=!0,void(this.fonts=B.list);if(!document.body)return this.isLoaded=!0,B.list.forEach(function(fe){fe.helper=P(fe),fe.cache={}}),void(this.fonts=B.list);var re,te=B.list,ae=te.length,de=ae;for(re=0;re<ae;re+=1){var xe,Ie,Re=!0;if(te[re].loaded=!1,te[re].monoCase=I(te[re].fFamily,"monospace"),te[re].sansCase=I(te[re].fFamily,"sans-serif"),te[re].fPath){if("p"===te[re].fOrigin||3===te[re].origin){if((xe=document.querySelectorAll('style[f-forigin="p"][f-family="'+te[re].fFamily+'"], style[f-origin="3"][f-family="'+te[re].fFamily+'"]')).length>0&&(Re=!1),Re){var ye=createTag("style");ye.setAttribute("f-forigin",te[re].fOrigin),ye.setAttribute("f-origin",te[re].origin),ye.setAttribute("f-family",te[re].fFamily),ye.type="text/css",ye.innerText="@font-face {font-family: "+te[re].fFamily+"; font-style: normal; src: url('"+te[re].fPath+"');}",ee.appendChild(ye)}}else if("g"===te[re].fOrigin||1===te[re].origin){for(xe=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Ie=0;Ie<xe.length;Ie+=1)-1!==xe[Ie].href.indexOf(te[re].fPath)&&(Re=!1);if(Re){var $e=createTag("link");$e.setAttribute("f-forigin",te[re].fOrigin),$e.setAttribute("f-origin",te[re].origin),$e.type="text/css",$e.rel="stylesheet",$e.href=te[re].fPath,document.body.appendChild($e)}}else if("t"===te[re].fOrigin||2===te[re].origin){for(xe=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Ie=0;Ie<xe.length;Ie+=1)te[re].fPath===xe[Ie].src&&(Re=!1);if(Re){var Te=createTag("link");Te.setAttribute("f-forigin",te[re].fOrigin),Te.setAttribute("f-origin",te[re].origin),Te.setAttribute("rel","stylesheet"),Te.setAttribute("href",te[re].fPath),ee.appendChild(Te)}}}else te[re].loaded=!0,de-=1;te[re].helper=P(te[re],ee),te[re].cache={},this.fonts.push(te[re])}0===de?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function Q(B,ee,te){for(var re=0,ae=this.chars.length;re<ae;){if(this.chars[re].ch===B&&this.chars[re].style===ee&&this.chars[re].fFamily===te)return this.chars[re];re+=1}return("string"==typeof B&&13!==B.charCodeAt(0)||!B)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",B,ee,te)),d},getFontByName:function H(B){for(var ee=0,te=this.fonts.length;ee<te;){if(this.fonts[ee].fName===B)return this.fonts[ee];ee+=1}return this.fonts[0]},measureText:function R(B,ee,te){var re=this.getFontByName(ee),ae=B.charCodeAt(0);if(!re.cache[ae+1]){var de=re.helper;if(" "===B){var Re=de.measureText("|"+B+"|"),xe=de.measureText("||");re.cache[ae+1]=(Re-xe)/100}else re.cache[ae+1]=de.measureText(B)/100}return re.cache[ae+1]*te},checkLoadedFonts:function M(){var B,ee=this.fonts.length,ae=ee;for(B=0;B<ee;B+=1)this.fonts[B].loaded?ae-=1:"n"===this.fonts[B].fOrigin||0===this.fonts[B].origin?this.fonts[B].loaded=!0:((this.fonts[B].monoCase.node.offsetWidth!==this.fonts[B].monoCase.w||this.fonts[B].sansCase.node.offsetWidth!==this.fonts[B].sansCase.w)&&(ae-=1,this.fonts[B].loaded=!0),this.fonts[B].loaded&&(this.fonts[B].sansCase.parent.parentNode.removeChild(this.fonts[B].sansCase.parent),this.fonts[B].monoCase.parent.parentNode.removeChild(this.fonts[B].monoCase.parent)));0!==ae&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function z(){this.isLoaded=!0}},G}();function SlotManager(c){this.animationData=c}function slotFactory(c){return new SlotManager(c)}function RenderableElement(){}SlotManager.prototype.getProp=function(c){return this.animationData.slots&&this.animationData.slots[c.sid]?Object.assign(c,this.animationData.slots[c.sid].p):c},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(d){-1===this.renderableComponents.indexOf(d)&&this.renderableComponents.push(d)},removeRenderableComponent:function(d){-1!==this.renderableComponents.indexOf(d)&&this.renderableComponents.splice(this.renderableComponents.indexOf(d),1)},prepareRenderableFrame:function(d){this.checkLayerLimits(d)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(d){this.data.ip-this.data.st<=d&&this.data.op-this.data.st>d?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var d,f=this.renderableComponents.length;for(d=0;d<f;d+=1)this.renderableComponents[d].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var c={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(d){return c[d]||""}}();function SliderEffect(c,d,f){this.p=PropertyFactory.getProp(d,c.v,0,0,f)}function AngleEffect(c,d,f){this.p=PropertyFactory.getProp(d,c.v,0,0,f)}function ColorEffect(c,d,f){this.p=PropertyFactory.getProp(d,c.v,1,0,f)}function PointEffect(c,d,f){this.p=PropertyFactory.getProp(d,c.v,1,0,f)}function LayerIndexEffect(c,d,f){this.p=PropertyFactory.getProp(d,c.v,0,0,f)}function MaskIndexEffect(c,d,f){this.p=PropertyFactory.getProp(d,c.v,0,0,f)}function CheckboxEffect(c,d,f){this.p=PropertyFactory.getProp(d,c.v,0,0,f)}function NoValueEffect(){this.p={}}function EffectsManager(c,d){var f=c.ef||[];this.effectElements=[];var s,_,v=f.length;for(s=0;s<v;s+=1)_=new GroupEffect(f[s],d),this.effectElements.push(_)}function GroupEffect(c,d){this.init(c,d)}function BaseElement(){}function FrameElement(){}function FootageElement(c,d,f){this.initFrame(),this.initRenderable(),this.assetData=d.getAssetData(c.refId),this.footageData=d.imageLoader.getAsset(this.assetData),this.initBaseData(c,d,f)}function AudioElement(c,d,f){this.initFrame(),this.initRenderable(),this.assetData=d.getAssetData(c.refId),this.initBaseData(c,d,f),this._isPlaying=!1,this._canPlay=!1;var s=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(s),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=c.tm?PropertyFactory.getProp(this,c.tm,0,d.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,c.au&&c.au.lv?c.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}function TransformElement(){}function MaskElement(c,d,f){this.data=c,this.element=d,this.globalData=f,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var v,s=this.globalData.defs,_=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(_),this.solidPath="";var I,j,Q,H,U,q,ne,M=this.masksProperties,P=0,O=[],R=createElementID(),z="clipPath",G="clip-path";for(v=0;v<_;v+=1)if(("a"!==M[v].mode&&"n"!==M[v].mode||M[v].inv||100!==M[v].o.k||M[v].o.x)&&(z="mask",G="mask"),"s"!==M[v].mode&&"i"!==M[v].mode||0!==P?H=null:((H=createNS("rect")).setAttribute("fill","#ffffff"),H.setAttribute("width",this.element.comp.data.w||0),H.setAttribute("height",this.element.comp.data.h||0),O.push(H)),I=createNS("path"),"n"===M[v].mode)this.viewData[v]={op:PropertyFactory.getProp(this.element,M[v].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,M[v],3),elem:I,lastPath:""},s.appendChild(I);else{var V;if(P+=1,I.setAttribute("fill","s"===M[v].mode?"#000000":"#ffffff"),I.setAttribute("clip-rule","nonzero"),0!==M[v].x.k?(z="mask",G="mask",ne=PropertyFactory.getProp(this.element,M[v].x,0,null,this.element),V=createElementID(),(U=createNS("filter")).setAttribute("id",V),(q=createNS("feMorphology")).setAttribute("operator","erode"),q.setAttribute("in","SourceGraphic"),q.setAttribute("radius","0"),U.appendChild(q),s.appendChild(U),I.setAttribute("stroke","s"===M[v].mode?"#000000":"#ffffff")):(q=null,ne=null),this.storedData[v]={elem:I,x:ne,expan:q,lastPath:"",lastOperator:"",filterId:V,lastRadius:0},"i"===M[v].mode){Q=O.length;var B=createNS("g");for(j=0;j<Q;j+=1)B.appendChild(O[j]);var ee=createNS("mask");ee.setAttribute("mask-type","alpha"),ee.setAttribute("id",R+"_"+P),ee.appendChild(I),s.appendChild(ee),B.setAttribute("mask","url("+getLocationHref()+"#"+R+"_"+P+")"),O.length=0,O.push(B)}else O.push(I);M[v].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[v]={elem:I,lastPath:"",op:PropertyFactory.getProp(this.element,M[v].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,M[v],3),invRect:H},this.viewData[v].prop.k||this.drawPath(M[v],this.viewData[v].prop.v,this.viewData[v])}for(this.maskElement=createNS(z),_=O.length,v=0;v<_;v+=1)this.maskElement.appendChild(O[v]);P>0&&(this.maskElement.setAttribute("id",R),this.element.maskedElement.setAttribute(G,"url("+getLocationHref()+"#"+R+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(c,d){this.data=c,this.effectElements=[],this.initDynamicPropertyContainer(d);var f,v,s=this.data.ef.length,_=this.data.ef;for(f=0;f<s;f+=1){switch(v=null,_[f].ty){case 0:v=new SliderEffect(_[f],d,this);break;case 1:v=new AngleEffect(_[f],d,this);break;case 2:v=new ColorEffect(_[f],d,this);break;case 3:v=new PointEffect(_[f],d,this);break;case 4:case 7:v=new CheckboxEffect(_[f],d,this);break;case 10:v=new LayerIndexEffect(_[f],d,this);break;case 11:v=new MaskIndexEffect(_[f],d,this);break;case 5:v=new EffectsManager(_[f],d,this);break;default:v=new NoValueEffect(_[f],d,this)}v&&this.effectElements.push(v)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var d=0,f=this.data.masksProperties.length;d<f;){if("n"!==this.data.masksProperties[d].mode&&!1!==this.data.masksProperties[d].cl)return!0;d+=1}return!1},initExpressions:function(){var d=getExpressionInterfaces();if(d){var f=d("layer"),s=d("effects"),v=d("shape"),_=d("text"),I=d("comp");this.layerInterface=f(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var M=s.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(M),0===this.data.ty||this.data.xt?this.compInterface=I(this):4===this.data.ty?(this.layerInterface.shapeInterface=v(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=_(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var d=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=d},initBaseData:function(d,f,s){this.globalData=f,this.comp=s,this.data=d,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(d,f){var s,v=this.dynamicProperties.length;for(s=0;s<v;s+=1)(f||this._isParent&&"transform"===this.dynamicProperties[s].propType)&&(this.dynamicProperties[s].getValue(),this.dynamicProperties[s]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(d){-1===this.dynamicProperties.indexOf(d)&&this.dynamicProperties.push(d)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var c=getExpressionInterfaces();if(c){var d=c("footage");this.layerInterface=d(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(c){this.prepareRenderableFrame(c,!0),this.prepareProperties(c,!0),this._currentTime=this.tm._placeholder?c/this.data.sr:this.tm.v,this._volume=this.lv.v[0];var f=this._volume*this._volumeMultiplier;this._previousVolume!==f&&(this._previousVolume=f,this.audio.volume(f))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(c){this.audio.rate(c)},AudioElement.prototype.volume=function(c){this._volumeMultiplier=c,this._previousVolume=c*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(c){var d,s,f=this.layers.length;for(this.completeLayers=!0,d=f-1;d>=0;d-=1)this.elements[d]||(s=this.layers[d]).ip-s.st<=c-this.layers[d].st&&s.op-s.st>c-this.layers[d].st&&this.buildItem(d),this.completeLayers=!!this.elements[d]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(c){switch(c.ty){case 2:return this.createImage(c);case 0:return this.createComp(c);case 1:return this.createSolid(c);case 3:default:return this.createNull(c);case 4:return this.createShape(c);case 5:return this.createText(c);case 6:return this.createAudio(c);case 13:return this.createCamera(c);case 15:return this.createFootage(c)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(c){return new AudioElement(c,this.globalData,this)},BaseRenderer.prototype.createFootage=function(c){return new FootageElement(c,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var c,d=this.layers.length;for(c=0;c<d;c+=1)this.buildItem(c);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(c){this.completeLayers=!1;var d,s,f=c.length,v=this.layers.length;for(d=0;d<f;d+=1)for(s=0;s<v;){if(this.layers[s].id===c[d].id){this.layers[s]=c[d];break}s+=1}},BaseRenderer.prototype.setProjectInterface=function(c){this.globalData.projectInterface=c},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(c,d,f){for(var s=this.elements,v=this.layers,_=0,I=v.length;_<I;)v[_].ind==d&&(s[_]&&!0!==s[_]?(f.push(s[_]),s[_].setAsParent(),void 0!==v[_].parent?this.buildElementParenting(c,v[_].parent,f):c.setHierarchy(f)):(this.buildItem(_),this.addPendingElement(c))),_+=1},BaseRenderer.prototype.addPendingElement=function(c){this.pendingElements.push(c)},BaseRenderer.prototype.searchExtraCompositions=function(c){var d,f=c.length;for(d=0;d<f;d+=1)if(c[d].xt){var s=this.createComp(c[d]);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},BaseRenderer.prototype.getElementById=function(c){var d,f=this.elements.length;for(d=0;d<f;d+=1)if(this.elements[d].data.ind===c)return this.elements[d];return null},BaseRenderer.prototype.getElementByPath=function(c){var f,d=c.shift();if("number"==typeof d)f=this.elements[d];else{var s,v=this.elements.length;for(s=0;s<v;s+=1)if(this.elements[s].data.nm===d){f=this.elements[s];break}}return 0===c.length?f:f.getElementByPath(c)},BaseRenderer.prototype.setupGlobalData=function(c,d){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(c),this.globalData.fontManager.addChars(c.chars),this.globalData.fontManager.addFonts(c.fonts,d),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=c.fr,this.globalData.nm=c.nm,this.globalData.compSize={w:c.w,h:c.h}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0)},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var d,f=this.finalTransform.mat,s=0,v=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;s<v;){if(this.hierarchy[s].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}s+=1}if(this.finalTransform._matMdf)for(f.cloneFromProps(d=this.finalTransform.mProp.v.props),s=0;s<v;s+=1)f.transform((d=this.hierarchy[s].finalTransform.mProp.v.props)[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15])}},globalToLocal:function(d){var f=[];f.push(this.finalTransform);for(var s=!0,v=this.comp;s;)v.finalTransform?(v.data.hasMask&&f.splice(0,0,v.finalTransform),v=v.comp):s=!1;var _,M,I=f.length;for(_=0;_<I;_+=1)M=f[_].mat.applyToPointArray(0,0,0),d=[d[0]-M[0],d[1]-M[1],0];return d},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(c){return this.viewData[c].prop},MaskElement.prototype.renderFrame=function(c){var f,d=this.element.finalTransform.mat,s=this.masksProperties.length;for(f=0;f<s;f+=1)if((this.viewData[f].prop._mdf||c)&&this.drawPath(this.masksProperties[f],this.viewData[f].prop.v,this.viewData[f]),(this.viewData[f].op._mdf||c)&&this.viewData[f].elem.setAttribute("fill-opacity",this.viewData[f].op.v),"n"!==this.masksProperties[f].mode&&(this.viewData[f].invRect&&(this.element.finalTransform.mProp._mdf||c)&&this.viewData[f].invRect.setAttribute("transform",d.getInverseMatrix().to2dCSS()),this.storedData[f].x&&(this.storedData[f].x._mdf||c))){var v=this.storedData[f].expan;this.storedData[f].x.v<0?("erode"!==this.storedData[f].lastOperator&&(this.storedData[f].lastOperator="erode",this.storedData[f].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[f].filterId+")")),v.setAttribute("radius",-this.storedData[f].x.v)):("dilate"!==this.storedData[f].lastOperator&&(this.storedData[f].lastOperator="dilate",this.storedData[f].elem.setAttribute("filter",null)),this.storedData[f].elem.setAttribute("stroke-width",2*this.storedData[f].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var c="M0,0 ";return c+=" h"+this.globalData.compSize.w,c+=" v"+this.globalData.compSize.h,(c+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(c,d,f){var v,_,s=" M"+d.v[0][0]+","+d.v[0][1];for(_=d._length,v=1;v<_;v+=1)s+=" C"+d.o[v-1][0]+","+d.o[v-1][1]+" "+d.i[v][0]+","+d.i[v][1]+" "+d.v[v][0]+","+d.v[v][1];if(d.c&&_>1&&(s+=" C"+d.o[v-1][0]+","+d.o[v-1][1]+" "+d.i[0][0]+","+d.i[0][1]+" "+d.v[0][0]+","+d.v[0][1]),f.lastPath!==s){var I="";f.elem&&(d.c&&(I=c.inv?this.solidPath+s:s),f.elem.setAttribute("d",I)),f.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var c={createFilter:function d(s,v){var _=createNS("filter");return _.setAttribute("id",s),!0!==v&&(_.setAttribute("filterUnits","objectBoundingBox"),_.setAttribute("x","0%"),_.setAttribute("y","0%"),_.setAttribute("width","100%"),_.setAttribute("height","100%")),_},createAlphaToLuminanceFilter:function f(){var s=createNS("feColorMatrix");return s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),s}};return c}(),featureSupport=function(){var c={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(c.maskType=!1),/firefox/i.test(navigator.userAgent)&&(c.svgLumaHidden=!1),c}(),registeredEffects={},idPrefix="filter_result_";function SVGEffects(c){var d,M,f="SourceGraphic",s=c.data.ef?c.data.ef.length:0,v=createElementID(),_=filtersFactory.createFilter(v,!0),I=0;for(this.filters=[],d=0;d<s;d+=1){M=null;var P=c.data.ef[d].ty;registeredEffects[P]&&(M=new(0,registeredEffects[P].effect)(_,c.effectsManager.effectElements[d],c,idPrefix+I,f),f=idPrefix+I,registeredEffects[P].countsAsEffect&&(I+=1)),M&&this.filters.push(M)}I&&(c.globalData.defs.appendChild(_),c.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+v+")")),this.filters.length&&c.addRenderableComponent(this)}function registerEffect(c,d,f){registeredEffects[c]={effect:d,countsAsEffect:f}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(c,d,f){this.assetData=d.getAssetData(c.refId),this.assetData&&this.assetData.sid&&(this.assetData=d.slotManager.getProp(this.assetData)),this.initElement(c,d,f),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(c,d){this.elem=c,this.pos=d}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(c){var d,f=this.filters.length;for(d=0;d<f;d+=1)this.filters[d].renderFrame(c)},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var d=null;if(this.data.td){this.matteMasks={};var f=createNS("g");f.setAttribute("id",this.layerId),f.appendChild(this.layerElement),d=f,this.globalData.defs.appendChild(f)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),d=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var s=createNS("clipPath"),v=createNS("path");v.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var _=createElementID();if(s.setAttribute("id",_),s.appendChild(v),this.globalData.defs.appendChild(s),this.checkMasks()){var I=createNS("g");I.setAttribute("clip-path","url("+getLocationHref()+"#"+_+")"),I.appendChild(this.layerElement),this.transformedElement=I,d?d.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+_+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},getMatte:function(d){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[d]){var s,v,_,I,f=this.layerId+"_"+d;if(1===d||3===d){var M=createNS("mask");M.setAttribute("id",f),M.setAttribute("mask-type",3===d?"luminance":"alpha"),(_=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),M.appendChild(_),this.globalData.defs.appendChild(M),!featureSupport.maskType&&1===d&&(M.setAttribute("mask-type","luminance"),s=createElementID(),v=filtersFactory.createFilter(s),this.globalData.defs.appendChild(v),v.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(I=createNS("g")).appendChild(_),M.appendChild(I),I.setAttribute("filter","url("+getLocationHref()+"#"+s+")"))}else if(2===d){var P=createNS("mask");P.setAttribute("id",f),P.setAttribute("mask-type","alpha");var O=createNS("g");P.appendChild(O),s=createElementID(),v=filtersFactory.createFilter(s);var j=createNS("feComponentTransfer");j.setAttribute("in","SourceGraphic"),v.appendChild(j);var Q=createNS("feFuncA");Q.setAttribute("type","table"),Q.setAttribute("tableValues","1.0 0.0"),j.appendChild(Q),this.globalData.defs.appendChild(v);var R=createNS("rect");R.setAttribute("width",this.comp.data.w),R.setAttribute("height",this.comp.data.h),R.setAttribute("x","0"),R.setAttribute("y","0"),R.setAttribute("fill","#ffffff"),R.setAttribute("opacity","0"),O.setAttribute("filter","url("+getLocationHref()+"#"+s+")"),O.appendChild(R),(_=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),O.appendChild(_),featureSupport.maskType||(P.setAttribute("mask-type","luminance"),v.appendChild(filtersFactory.createAlphaToLuminanceFilter()),I=createNS("g"),O.appendChild(R),I.appendChild(this.layerElement),O.appendChild(I)),this.globalData.defs.appendChild(P)}this.matteMasks[d]=f}return this.matteMasks[d]},setMatte:function(d){!this.matteElement||this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+d+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(d){this.hierarchy=d},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(f,s,v){this.initFrame(),this.initBaseData(f,s,v),this.initTransform(f,s,v),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(f){this._mdf=!1,this.prepareRenderableFrame(f),this.prepareProperties(f,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var c=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",c),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(d){var f,s=this.shapeModifiers.length;for(f=0;f<s;f+=1)this.shapeModifiers[f].addShape(d)},isShapeInAnimatedModifiers:function(d){for(var s=this.shapeModifiers.length;0<s;)if(this.shapeModifiers[0].isAnimatedWithShape(d))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var d,f=this.shapes.length;for(d=0;d<f;d+=1)this.shapes[d].sh.reset();for(d=(f=this.shapeModifiers.length)-1;d>=0&&!this.shapeModifiers[d].processShapes(this._isFirstFrame);d-=1);}},searchProcessedElement:function(d){for(var f=this.processedElements,s=0,v=f.length;s<v;){if(f[s].elem===d)return f[s].pos;s+=1}return 0},addProcessedElement:function(d,f){for(var s=this.processedElements,v=s.length;v;)if(s[v-=1].elem===d)return void(s[v].pos=f);s.push(new ProcessedElement(d,f))},prepareFrame:function(d){this.prepareRenderableFrame(d),this.prepareProperties(d,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(c,d,f){this.caches=[],this.styles=[],this.transformers=c,this.lStr="",this.sh=f,this.lvl=d,this._isAnimated=!!f.k;for(var s=0,v=c.length;s<v;){if(c[s].mProps.dynamicProperties.length){this._isAnimated=!0;break}s+=1}}function SVGStyleData(c,d){this.data=c,this.type=c.ty,this.d="",this.lvl=d,this._mdf=!1,this.closed=!0===c.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(c,d,f,s){this.elem=c,this.frameId=-1,this.dataProps=createSizedArray(d.length),this.renderer=f,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",d.length?d.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(s);var v,I,_=d.length||0;for(v=0;v<_;v+=1)I=PropertyFactory.getProp(c,d[v].v,0,0,this),this.k=I.k||this.k,this.dataProps[v]={n:d[v].n,p:I};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(c,d,f){this.initDynamicPropertyContainer(c),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(c,d.o,0,.01,this),this.w=PropertyFactory.getProp(c,d.w,0,null,this),this.d=new DashProperty(c,d.d||{},"svg",this),this.c=PropertyFactory.getProp(c,d.c,1,255,this),this.style=f,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(c,d,f){this.initDynamicPropertyContainer(c),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(c,d.o,0,.01,this),this.c=PropertyFactory.getProp(c,d.c,1,255,this),this.style=f}function SVGNoStyleData(c,d,f){this.initDynamicPropertyContainer(c),this.getValue=this.iterateDynamicProperties,this.style=f}function GradientProperty(c,d,f){this.data=d,this.c=createTypedArray("uint8c",4*d.p);var s=d.k.k[0].s?d.k.k[0].s.length-4*d.p:d.k.k.length-4*d.p;this.o=createTypedArray("float32",s),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=s,this.initDynamicPropertyContainer(f),this.prop=PropertyFactory.getProp(c,d.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(c,d,f){this.initDynamicPropertyContainer(c),this.getValue=this.iterateDynamicProperties,this.initGradientData(c,d,f)}function SVGGradientStrokeStyleData(c,d,f){this.initDynamicPropertyContainer(c),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(c,d.w,0,null,this),this.d=new DashProperty(c,d.d||{},"svg",this),this.initGradientData(c,d,f),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(c,d,f){this.transform={mProps:c,op:d,container:f},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(c){if((this.elem.globalData.frameId!==this.frameId||c)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||c,this._mdf)){var d=0,f=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),d=0;d<f;d+=1)"o"!==this.dataProps[d].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[d].p.v:this.dashArray[d]=this.dataProps[d].p.v:this.dashoffset[0]=this.dataProps[d].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(c,d){for(var f=0,s=this.o.length/2;f<s;){if(Math.abs(c[4*f]-c[4*d+2*f])>.01)return!1;f+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var c=0,d=this.data.k.k.length;c<d;){if(!this.comparePoints(this.data.k.k[c].s,this.data.p))return!1;c+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(c){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||c){var d,s,v,f=4*this.data.p;for(d=0;d<f;d+=1)s=d%4==0?100:255,v=Math.round(this.prop.v[d]*s),this.c[d]!==v&&(this.c[d]=v,this._cmdf=!c);if(this.o.length)for(f=this.prop.v.length,d=4*this.data.p;d<f;d+=1)s=d%2==0?100:1,v=d%2==0?Math.round(100*this.prop.v[d]):this.prop.v[d],this.o[d-4*this.data.p]!==v&&(this.o[d-4*this.data.p]=v,this._omdf=!c);this._mdf=!c}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(c,d,f){this.o=PropertyFactory.getProp(c,d.o,0,.01,this),this.s=PropertyFactory.getProp(c,d.s,1,null,this),this.e=PropertyFactory.getProp(c,d.e,1,null,this),this.h=PropertyFactory.getProp(c,d.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(c,d.a||{k:0},0,degToRads,this),this.g=new GradientProperty(c,d.g,this),this.style=f,this.stops=[],this.setGradientData(f.pElem,d),this.setGradientOpacity(d,f),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(c,d){var f=createElementID(),s=createNS(1===d.t?"linearGradient":"radialGradient");s.setAttribute("id",f),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse");var _,I,M,v=[];for(M=4*d.g.p,I=0;I<M;I+=4)_=createNS("stop"),s.appendChild(_),v.push(_);c.setAttribute("gf"===d.ty?"fill":"stroke","url("+getLocationHref()+"#"+f+")"),this.gf=s,this.cst=v},SVGGradientFillStyleData.prototype.setGradientOpacity=function(c,d){if(this.g._hasOpacity&&!this.g._collapsable){var f,s,v,_=createNS("mask"),I=createNS("path");_.appendChild(I);var M=createElementID(),P=createElementID();_.setAttribute("id",P);var O=createNS(1===c.t?"linearGradient":"radialGradient");O.setAttribute("id",M),O.setAttribute("spreadMethod","pad"),O.setAttribute("gradientUnits","userSpaceOnUse"),v=c.g.k.k[0].s?c.g.k.k[0].s.length:c.g.k.k.length;var j=this.stops;for(s=4*c.g.p;s<v;s+=2)(f=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),O.appendChild(f),j.push(f);I.setAttribute("gf"===c.ty?"fill":"stroke","url("+getLocationHref()+"#"+M+")"),"gs"===c.ty&&(I.setAttribute("stroke-linecap",lineCapEnum[c.lc||2]),I.setAttribute("stroke-linejoin",lineJoinEnum[c.lj||2]),1===c.lj&&I.setAttribute("stroke-miterlimit",c.ml)),this.of=O,this.ms=_,this.ost=j,this.maskId=P,d.msElem=I}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(d,f,s,v){if(0===f)return"";var P,_=d.o,I=d.i,M=d.v,O=" M"+v.applyToPointStringified(M[0][0],M[0][1]);for(P=1;P<f;P+=1)O+=" C"+v.applyToPointStringified(_[P-1][0],_[P-1][1])+" "+v.applyToPointStringified(I[P][0],I[P][1])+" "+v.applyToPointStringified(M[P][0],M[P][1]);return s&&f&&(O+=" C"+v.applyToPointStringified(_[P-1][0],_[P-1][1])+" "+v.applyToPointStringified(I[0][0],I[0][1])+" "+v.applyToPointStringified(M[0][0],M[0][1]),O+="z"),O},SVGElementsRenderer=function(){var c=new Matrix,d=new Matrix;function v(Q,R,H){(H||R.transform.op._mdf)&&R.transform.container.setAttribute("opacity",R.transform.op.v),(H||R.transform.mProps._mdf)&&R.transform.container.setAttribute("transform",R.transform.mProps.v.to2dCSS())}function _(){}function I(Q,R,H){var U,q,ne,z,G,V,te,re,ae,de,Re,B=R.styles.length,ee=R.lvl;for(V=0;V<B;V+=1){if(z=R.sh._mdf||H,R.styles[V].lvl<ee){for(re=d.reset(),de=ee-R.styles[V].lvl,Re=R.transformers.length-1;!z&&de>0;)z=R.transformers[Re].mProps._mdf||z,de-=1,Re-=1;if(z)for(de=ee-R.styles[V].lvl,Re=R.transformers.length-1;de>0;)re.transform((ae=R.transformers[Re].mProps.v.props)[0],ae[1],ae[2],ae[3],ae[4],ae[5],ae[6],ae[7],ae[8],ae[9],ae[10],ae[11],ae[12],ae[13],ae[14],ae[15]),de-=1,Re-=1}else re=c;if(q=(te=R.sh.paths)._length,z){for(ne="",U=0;U<q;U+=1)(G=te.shapes[U])&&G._length&&(ne+=buildShapeString(G,G._length,G.c,re));R.caches[V]=ne}else ne=R.caches[V];R.styles[V].d+=!0===Q.hd?"":ne,R.styles[V]._mdf=z||R.styles[V]._mdf}}function M(Q,R,H){var U=R.style;(R.c._mdf||H)&&U.pElem.setAttribute("fill","rgb("+bmFloor(R.c.v[0])+","+bmFloor(R.c.v[1])+","+bmFloor(R.c.v[2])+")"),(R.o._mdf||H)&&U.pElem.setAttribute("fill-opacity",R.o.v)}function P(Q,R,H){O(Q,R,H),j(0,R,H)}function O(Q,R,H){var ee,te,re,ae,xe,U=R.gf,q=R.g._hasOpacity,ne=R.s.v,z=R.e.v;if((R.o._mdf||H)&&R.style.pElem.setAttribute("gf"===Q.ty?"fill-opacity":"stroke-opacity",R.o.v),R.s._mdf||H){var V=1===Q.t?"x1":"cx",B="x1"===V?"y1":"cy";U.setAttribute(V,ne[0]),U.setAttribute(B,ne[1]),q&&!R.g._collapsable&&(R.of.setAttribute(V,ne[0]),R.of.setAttribute(B,ne[1]))}if(R.g._cmdf||H){var de=R.g.c;for(re=(ee=R.cst).length,te=0;te<re;te+=1)(ae=ee[te]).setAttribute("offset",de[4*te]+"%"),ae.setAttribute("stop-color","rgb("+de[4*te+1]+","+de[4*te+2]+","+de[4*te+3]+")")}if(q&&(R.g._omdf||H)){var Re=R.g.o;for(re=(ee=R.g._collapsable?R.cst:R.ost).length,te=0;te<re;te+=1)ae=ee[te],R.g._collapsable||ae.setAttribute("offset",Re[2*te]+"%"),ae.setAttribute("stop-opacity",Re[2*te+1])}if(1===Q.t)(R.e._mdf||H)&&(U.setAttribute("x2",z[0]),U.setAttribute("y2",z[1]),q&&!R.g._collapsable&&(R.of.setAttribute("x2",z[0]),R.of.setAttribute("y2",z[1])));else if((R.s._mdf||R.e._mdf||H)&&(xe=Math.sqrt(Math.pow(ne[0]-z[0],2)+Math.pow(ne[1]-z[1],2)),U.setAttribute("r",xe),q&&!R.g._collapsable&&R.of.setAttribute("r",xe)),R.e._mdf||R.h._mdf||R.a._mdf||H){xe||(xe=Math.sqrt(Math.pow(ne[0]-z[0],2)+Math.pow(ne[1]-z[1],2)));var Ie=Math.atan2(z[1]-ne[1],z[0]-ne[0]),ye=R.h.v;ye>=1?ye=.99:ye<=-1&&(ye=-.99);var $e=xe*ye,Te=Math.cos(Ie+R.a.v)*$e+ne[0],fe=Math.sin(Ie+R.a.v)*$e+ne[1];U.setAttribute("fx",Te),U.setAttribute("fy",fe),q&&!R.g._collapsable&&(R.of.setAttribute("fx",Te),R.of.setAttribute("fy",fe))}}function j(Q,R,H){var U=R.style,q=R.d;q&&(q._mdf||H)&&q.dashStr&&(U.pElem.setAttribute("stroke-dasharray",q.dashStr),U.pElem.setAttribute("stroke-dashoffset",q.dashoffset[0])),R.c&&(R.c._mdf||H)&&U.pElem.setAttribute("stroke","rgb("+bmFloor(R.c.v[0])+","+bmFloor(R.c.v[1])+","+bmFloor(R.c.v[2])+")"),(R.o._mdf||H)&&U.pElem.setAttribute("stroke-opacity",R.o.v),(R.w._mdf||H)&&(U.pElem.setAttribute("stroke-width",R.w.v),U.msElem&&U.msElem.setAttribute("stroke-width",R.w.v))}return{createRenderFunction:function s(Q){switch(Q.ty){case"fl":return M;case"gf":return O;case"gs":return P;case"st":return j;case"sh":case"el":case"rc":case"sr":return I;case"tr":return v;case"no":return _;default:return null}}}}();function SVGShapeElement(c,d,f){this.shapes=[],this.shapesData=c.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(c,d,f),this.prevViewData=[]}function LetterProps(c,d,f,s,v,_){this.o=c,this.sw=d,this.sc=f,this.fc=s,this.m=v,this.p=_,this._mdf={o:!0,sw:!!d,sc:!!f,fc:!!s,m:!0,p:!0}}function TextProperty(c,d){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,d.d&&d.d.sid&&(d.d=c.globalData.slotManager.getProp(d.d)),this.data=d,this.elem=c,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var c,f,s,_,d=this.shapes.length,v=this.stylesList.length,I=[],M=!1;for(s=0;s<v;s+=1){for(_=this.stylesList[s],M=!1,I.length=0,c=0;c<d;c+=1)-1!==(f=this.shapes[c]).styles.indexOf(_)&&(I.push(f),M=f._isAnimated||M);I.length>1&&M&&this.setShapesAsAnimated(I)}},SVGShapeElement.prototype.setShapesAsAnimated=function(c){var d,f=c.length;for(d=0;d<f;d+=1)c[d].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(c,d){var f,s=new SVGStyleData(c,d),v=s.pElem;return"st"===c.ty?f=new SVGStrokeStyleData(this,c,s):"fl"===c.ty?f=new SVGFillStyleData(this,c,s):"gf"===c.ty||"gs"===c.ty?(f=new("gf"===c.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,c,s),this.globalData.defs.appendChild(f.gf),f.maskId&&(this.globalData.defs.appendChild(f.ms),this.globalData.defs.appendChild(f.of),v.setAttribute("mask","url("+getLocationHref()+"#"+f.maskId+")"))):"no"===c.ty&&(f=new SVGNoStyleData(this,c,s)),("st"===c.ty||"gs"===c.ty)&&(v.setAttribute("stroke-linecap",lineCapEnum[c.lc||2]),v.setAttribute("stroke-linejoin",lineJoinEnum[c.lj||2]),v.setAttribute("fill-opacity","0"),1===c.lj&&v.setAttribute("stroke-miterlimit",c.ml)),2===c.r&&v.setAttribute("fill-rule","evenodd"),c.ln&&v.setAttribute("id",c.ln),c.cl&&v.setAttribute("class",c.cl),c.bm&&(v.style["mix-blend-mode"]=getBlendMode(c.bm)),this.stylesList.push(s),this.addToAnimatedContents(c,f),f},SVGShapeElement.prototype.createGroupElement=function(c){var d=new ShapeGroupData;return c.ln&&d.gr.setAttribute("id",c.ln),c.cl&&d.gr.setAttribute("class",c.cl),c.bm&&(d.gr.style["mix-blend-mode"]=getBlendMode(c.bm)),d},SVGShapeElement.prototype.createTransformElement=function(c,d){var f=TransformPropertyFactory.getTransformProperty(this,c,this),s=new SVGTransformData(f,f.o,d);return this.addToAnimatedContents(c,s),s},SVGShapeElement.prototype.createShapeElement=function(c,d,f){var s=4;"rc"===c.ty?s=5:"el"===c.ty?s=6:"sr"===c.ty&&(s=7);var _=new SVGShapeData(d,f,ShapePropertyFactory.getShapeProp(this,c,s,this));return this.shapes.push(_),this.addShapeToModifiers(_),this.addToAnimatedContents(c,_),_},SVGShapeElement.prototype.addToAnimatedContents=function(c,d){for(var f=0,s=this.animatedContents.length;f<s;){if(this.animatedContents[f].element===d)return;f+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(c),element:d,data:c})},SVGShapeElement.prototype.setElementStyles=function(c){var f,d=c.styles,s=this.stylesList.length;for(f=0;f<s;f+=1)this.stylesList[f].closed||d.push(this.stylesList[f])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var c,d=this.itemsData.length;for(c=0;c<d;c+=1)this.prevViewData[c]=this.itemsData[c];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),d=this.dynamicProperties.length,c=0;c<d;c+=1)this.dynamicProperties[c].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(c,d,f,s,v,_,I){var P,j,Q,q,ne,M=[].concat(_),O=c.length-1,R=[],H=[];for(P=O;P>=0;P-=1){if((ne=this.searchProcessedElement(c[P]))?d[P]=f[ne-1]:c[P]._render=I,"fl"===c[P].ty||"st"===c[P].ty||"gf"===c[P].ty||"gs"===c[P].ty||"no"===c[P].ty)ne?d[P].style.closed=!1:d[P]=this.createStyleElement(c[P],v),c[P]._render&&d[P].style.pElem.parentNode!==s&&s.appendChild(d[P].style.pElem),R.push(d[P].style);else if("gr"===c[P].ty){if(ne)for(Q=d[P].it.length,j=0;j<Q;j+=1)d[P].prevViewData[j]=d[P].it[j];else d[P]=this.createGroupElement(c[P]);this.searchShapes(c[P].it,d[P].it,d[P].prevViewData,d[P].gr,v+1,M,I),c[P]._render&&d[P].gr.parentNode!==s&&s.appendChild(d[P].gr)}else"tr"===c[P].ty?(ne||(d[P]=this.createTransformElement(c[P],s)),M.push(d[P].transform)):"sh"===c[P].ty||"rc"===c[P].ty||"el"===c[P].ty||"sr"===c[P].ty?(ne||(d[P]=this.createShapeElement(c[P],M,v)),this.setElementStyles(d[P])):"tm"===c[P].ty||"rd"===c[P].ty||"ms"===c[P].ty||"pb"===c[P].ty||"zz"===c[P].ty||"op"===c[P].ty?(ne?(q=d[P]).closed=!1:((q=ShapeModifiers.getModifier(c[P].ty)).init(this,c[P]),d[P]=q,this.shapeModifiers.push(q)),H.push(q)):"rp"===c[P].ty&&(ne?(q=d[P]).closed=!0:(q=ShapeModifiers.getModifier(c[P].ty),d[P]=q,q.init(this,c,P,d),this.shapeModifiers.push(q),I=!1),H.push(q));this.addProcessedElement(c[P],P+1)}for(O=R.length,P=0;P<O;P+=1)R[P].closed=!0;for(O=H.length,P=0;P<O;P+=1)H[P].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var c,d=this.stylesList.length;for(c=0;c<d;c+=1)this.stylesList[c].reset();for(this.renderShape(),c=0;c<d;c+=1)(this.stylesList[c]._mdf||this._isFirstFrame)&&(this.stylesList[c].msElem&&(this.stylesList[c].msElem.setAttribute("d",this.stylesList[c].d),this.stylesList[c].d="M0 0"+this.stylesList[c].d),this.stylesList[c].pElem.setAttribute("d",this.stylesList[c].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var c,f,d=this.animatedContents.length;for(c=0;c<d;c+=1)f=this.animatedContents[c],(this._isFirstFrame||f.element._isAnimated)&&!0!==f.data&&f.fn(f.data,f.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(c,d,f,s,v,_){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var I=!1;return this.o!==c&&(this.o=c,this._mdf.o=!0,I=!0),this.sw!==d&&(this.sw=d,this._mdf.sw=!0,I=!0),this.sc!==f&&(this.sc=f,this._mdf.sc=!0,I=!0),this.fc!==s&&(this.fc=s,this._mdf.fc=!0,I=!0),this.m!==v&&(this.m=v,this._mdf.m=!0,I=!0),_.length&&(this.p[0]!==_[0]||this.p[1]!==_[1]||this.p[4]!==_[4]||this.p[5]!==_[5]||this.p[12]!==_[12]||this.p[13]!==_[13])&&(this.p=_,this._mdf.p=!0,I=!0),I},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(c,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f]);return c},TextProperty.prototype.setCurrentData=function(c){c.__complete||this.completeTextData(c),this.currentData=c,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(c){this.effectsSequence.push(c),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(c){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||c){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var d=this.currentData,f=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData);this.lock=!0,this._mdf=!1;var s,v=this.effectsSequence.length,_=c||this.data.d.k[this.keysIndex].s;for(s=0;s<v;s+=1)_=this.effectsSequence[s](f!==this.keysIndex?_:this.currentData,_.t);d!==_&&this.setCurrentData(_),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var c=this.data.d.k,d=this.elem.comp.renderedFrame,f=0,s=c.length;f<=s-1&&!(f===s-1||c[f+1].t>d);)f+=1;return this.keysIndex!==f&&(this.keysIndex=f),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(c){for(var v,_,d=[],f=0,s=c.length,I=!1;f<s;)v=c.charCodeAt(f),FontManager.isCombinedCharacter(v)?d[d.length-1]+=c.charAt(f):v>=55296&&v<=56319?(_=c.charCodeAt(f+1))>=56320&&_<=57343?(I||FontManager.isModifier(v,_)?(d[d.length-1]+=c.substr(f,2),I=!1):d.push(c.substr(f,2)),f+=1):d.push(c.charAt(f)):v>56319?(_=c.charCodeAt(f+1),FontManager.isZeroWidthJoiner(v,_)?(I=!0,d[d.length-1]+=c.substr(f,2),f+=1):d.push(c.charAt(f))):FontManager.isZeroWidthJoiner(v)?(d[d.length-1]+=c.charAt(f),I=!0):d.push(c.charAt(f)),f+=1;return d},TextProperty.prototype.completeTextData=function(c){c.__complete=!0;var v,_,I,P,ne,z,V,d=this.elem.globalData.fontManager,f=this.data,s=[],M=0,O=f.m.g,j=0,Q=0,R=0,H=[],U=0,q=0,G=d.getFontByName(c.f),B=0,ee=getFontProperties(G);c.fWeight=ee.weight,c.fStyle=ee.style,c.finalSize=c.s,c.finalText=this.buildFinalText(c.t),_=c.finalText.length,c.finalLineHeight=c.lh;var re,te=c.tr/1e3*c.finalSize;if(c.sz)for(var xe,Ie,ae=!0,de=c.sz[0],Re=c.sz[1];ae;){xe=0,U=0,_=(Ie=this.buildFinalText(c.t)).length,te=c.tr/1e3*c.finalSize;var ye=-1;for(v=0;v<_;v+=1)re=Ie[v].charCodeAt(0),I=!1," "===Ie[v]?ye=v:(13===re||3===re)&&(U=0,I=!0,xe+=c.finalLineHeight||1.2*c.finalSize),d.chars?(V=d.getCharData(Ie[v],G.fStyle,G.fFamily),B=I?0:V.w*c.finalSize/100):B=d.measureText(Ie[v],c.f,c.finalSize),U+B>de&&" "!==Ie[v]?(-1===ye?_+=1:v=ye,xe+=c.finalLineHeight||1.2*c.finalSize,Ie.splice(v,ye===v?1:0,"\r"),ye=-1,U=0):(U+=B,U+=te);xe+=G.ascent*c.finalSize/100,this.canResize&&c.finalSize>this.minimumFontSize&&Re<xe?(c.finalSize-=1,c.finalLineHeight=c.finalSize*c.lh/c.s):(c.finalText=Ie,_=c.finalText.length,ae=!1)}U=-te,B=0;var Te,$e=0;for(v=0;v<_;v+=1)if(I=!1,13===(re=(Te=c.finalText[v]).charCodeAt(0))||3===re?($e=0,H.push(U),q=U>q?U:q,U=-2*te,P="",I=!0,R+=1):P=Te,d.chars?(V=d.getCharData(Te,G.fStyle,d.getFontByName(c.f).fFamily),B=I?0:V.w*c.finalSize/100):B=d.measureText(P,c.f,c.finalSize)," "===Te?$e+=B+te:(U+=B+te+$e,$e=0),s.push({l:B,an:B,add:j,n:I,anIndexes:[],val:P,line:R,animatorJustifyOffset:0}),2==O){if(j+=B,""===P||" "===P||v===_-1){for((""===P||" "===P)&&(j-=B);Q<=v;)s[Q].an=j,s[Q].ind=M,s[Q].extra=B,Q+=1;M+=1,j=0}}else if(3==O){if(j+=B,""===P||v===_-1){for(""===P&&(j-=B);Q<=v;)s[Q].an=j,s[Q].ind=M,s[Q].extra=B,Q+=1;j=0,M+=1}}else s[M].ind=M,s[M].extra=0,M+=1;if(c.l=s,q=U>q?U:q,H.push(U),c.sz)c.boxWidth=c.sz[0],c.justifyOffset=0;else switch(c.boxWidth=q,c.j){case 1:c.justifyOffset=-c.boxWidth;break;case 2:c.justifyOffset=-c.boxWidth/2;break;default:c.justifyOffset=0}c.lineWidths=H;var le,X,fe=f.a;z=fe.length;var oe,be,pe=[];for(ne=0;ne<z;ne+=1){for((le=fe[ne]).a.sc&&(c.strokeColorAnim=!0),le.a.sw&&(c.strokeWidthAnim=!0),(le.a.fc||le.a.fh||le.a.fs||le.a.fb)&&(c.fillColorAnim=!0),be=0,oe=le.s.b,v=0;v<_;v+=1)(X=s[v]).anIndexes[ne]=be,(1==oe&&""!==X.val||2==oe&&""!==X.val&&" "!==X.val||3==oe&&(X.n||" "==X.val||v==_-1)||4==oe&&(X.n||v==_-1))&&(1===le.s.rn&&pe.push(be),be+=1);f.a[ne].s.totalChars=be;var Le,Ne=-1;if(1===le.s.rn)for(v=0;v<_;v+=1)Ne!=(X=s[v]).anIndexes[ne]&&(Ne=X.anIndexes[ne],Le=pe.splice(Math.floor(Math.random()*pe.length),1)[0]),X.anIndexes[ne]=Le}c.yOffset=c.finalLineHeight||1.2*c.finalSize,c.ls=c.ls||0,c.ascent=G.ascent*c.finalSize/100},TextProperty.prototype.updateDocumentData=function(c,d){var f=this.copyData({},this.data.d.k[d=void 0===d?this.keysIndex:d].s);f=this.copyData(f,c),this.data.d.k[d].s=f,this.recalculate(d),this.setCurrentData(f),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(c){var d=this.data.d.k[c].s;d.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(d)},TextProperty.prototype.canResizeFont=function(c){this.canResize=c,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(c){this.minimumFontSize=Math.floor(c)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var c=Math.max,d=Math.min,f=Math.floor;function s(_,I){this._currentTextLength=-1,this.k=!1,this.data=I,this.elem=_,this.comp=_.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(_),this.s=PropertyFactory.getProp(_,I.s||{k:0},0,0,this),this.e="e"in I?PropertyFactory.getProp(_,I.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(_,I.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(_,I.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(_,I.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(_,I.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(_,I.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return s.prototype={getMult:function(I){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var M=0,P=0,O=1,j=1;this.ne.v>0?M=this.ne.v/100:P=-this.ne.v/100,this.xe.v>0?O=1-this.xe.v/100:j=1+this.xe.v/100;var Q=BezierFactory.getBezierEasing(M,P,O,j).get,R=0,H=this.finalS,U=this.finalE,q=this.data.sh;if(2===q)R=Q(R=U===H?I>=U?1:0:c(0,d(.5/(U-H)+(I-H)/(U-H),1)));else if(3===q)R=Q(R=U===H?I>=U?0:1:1-c(0,d(.5/(U-H)+(I-H)/(U-H),1)));else if(4===q)U===H?R=0:(R=c(0,d(.5/(U-H)+(I-H)/(U-H),1)))<.5?R*=2:R=1-2*(R-.5),R=Q(R);else if(5===q){if(U===H)R=0;else{var ne=U-H,z=-ne/2+(I=d(c(0,I+.5-H),U-H)),G=ne/2;R=Math.sqrt(1-z*z/(G*G))}R=Q(R)}else 6===q?(U===H?R=0:(I=d(c(0,I+.5-H),U-H),R=(1+Math.cos(Math.PI+2*Math.PI*I/(U-H)))/2),R=Q(R)):(I>=f(H)&&(R=c(0,d(I-H<0?d(U,1)-(H-I):U-I,1))),R=Q(R));if(100!==this.sm.v){var V=.01*this.sm.v;0===V&&(V=1e-8);var B=.5-.5*V;R<B?R=0:(R=(R-B)/V)>1&&(R=1)}return R*this.a.v},getValue:function(I){this.iterateDynamicProperties(),this._mdf=I||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,I&&2===this.data.r&&(this.e.v=this._currentTextLength);var M=2===this.data.r?1:100/this.data.totalChars,P=this.o.v/M,O=this.s.v/M+P,j=this.e.v/M+P;if(O>j){var Q=O;O=j,j=Q}this.finalS=O,this.finalE=j}},extendPrototype([DynamicPropertyContainer],s),{getTextSelectorProp:function v(_,I,M){return new s(_,I,M)}}}();function TextAnimatorDataProperty(c,d,f){var s={propType:!1},v=PropertyFactory.getProp,_=d.a;this.a={r:_.r?v(c,_.r,0,degToRads,f):s,rx:_.rx?v(c,_.rx,0,degToRads,f):s,ry:_.ry?v(c,_.ry,0,degToRads,f):s,sk:_.sk?v(c,_.sk,0,degToRads,f):s,sa:_.sa?v(c,_.sa,0,degToRads,f):s,s:_.s?v(c,_.s,1,.01,f):s,a:_.a?v(c,_.a,1,0,f):s,o:_.o?v(c,_.o,0,.01,f):s,p:_.p?v(c,_.p,1,0,f):s,sw:_.sw?v(c,_.sw,0,0,f):s,sc:_.sc?v(c,_.sc,1,0,f):s,fc:_.fc?v(c,_.fc,1,0,f):s,fh:_.fh?v(c,_.fh,0,0,f):s,fs:_.fs?v(c,_.fs,0,.01,f):s,fb:_.fb?v(c,_.fb,0,.01,f):s,t:_.t?v(c,_.t,0,0,f):s},this.s=TextSelectorProp.getTextSelectorProp(c,d.s,f),this.s.t=d.s.t}function TextAnimatorProperty(c,d,f){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=c,this._renderType=d,this._elem=f,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(f)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var c,d=this._textData.a.length,s=PropertyFactory.getProp;for(c=0;c<d;c+=1)this._animatorsData[c]=new TextAnimatorDataProperty(this._elem,this._textData.a[c],this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:s(this._elem,this._textData.p.a,0,0,this),f:s(this._elem,this._textData.p.f,0,0,this),l:s(this._elem,this._textData.p.l,0,0,this),r:s(this._elem,this._textData.p.r,0,0,this),p:s(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=s(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(c,d){if(this.lettersChangedFlag=d,this._mdf||this._isFirstFrame||d||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var P,O,j,Q,H,U,q,ne,z,G,V,B,ee,te,re,ae,de,xe,f=this._moreOptions.alignment.v,s=this._animatorsData,v=this._textData,_=this.mHelper,I=this._renderType,M=this.renderedLetters.length,R=c.l;if(this._hasMaskedPath){if(xe=this._pathData.m,!this._pathData.n||this._pathData._mdf){var ye,Ie=xe.v;for(this._pathData.r.v&&(Ie=Ie.reverse()),H={tLength:0,segments:[]},Q=Ie._length-1,ae=0,j=0;j<Q;j+=1)ye=bez.buildBezierData(Ie.v[j],Ie.v[j+1],[Ie.o[j][0]-Ie.v[j][0],Ie.o[j][1]-Ie.v[j][1]],[Ie.i[j+1][0]-Ie.v[j+1][0],Ie.i[j+1][1]-Ie.v[j+1][1]]),H.tLength+=ye.segmentLength,H.segments.push(ye),ae+=ye.segmentLength;j=Q,xe.v.c&&(ye=bez.buildBezierData(Ie.v[j],Ie.v[0],[Ie.o[j][0]-Ie.v[j][0],Ie.o[j][1]-Ie.v[j][1]],[Ie.i[0][0]-Ie.v[0][0],Ie.i[0][1]-Ie.v[0][1]]),H.tLength+=ye.segmentLength,H.segments.push(ye),ae+=ye.segmentLength),this._pathData.pi=H}if(V=0,G=1,ne=0,z=!0,te=(H=this._pathData.pi).segments,(U=this._pathData.f.v)<0&&xe.v.c)for(H.tLength<Math.abs(U)&&(U=-Math.abs(U)%H.tLength),G=(ee=te[V=te.length-1].points).length-1;U<0;)U+=ee[G].partialLength,(G-=1)<0&&(G=(ee=te[V-=1].points).length-1);B=(ee=te[V].points)[G-1],re=(q=ee[G]).partialLength}Q=R.length,P=0,O=0;var fe,X,oe,be,$e=1.2*c.finalSize*.714,Te=!0;oe=s.length;var pe,Le,nt,Ht,Ut,Jt,un,lt,on,On,mr,tr,ft,Ne=-1,dt=U,Qe=V,zt=G,jt=-1,zr="",jr=this.defaultPropsArray;if(2===c.j||1===c.j){var bn=0,cr=0,jn=2===c.j?-.5:-1,Ir=0,nr=!0;for(j=0;j<Q;j+=1)if(R[j].n){for(bn&&(bn+=cr);Ir<j;)R[Ir].animatorJustifyOffset=bn,Ir+=1;bn=0,nr=!0}else{for(X=0;X<oe;X+=1)(fe=s[X].a).t.propType&&(nr&&2===c.j&&(cr+=fe.t.v*jn),bn+=(pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars)).length?fe.t.v*pe[0]*jn:fe.t.v*pe*jn);nr=!1}for(bn&&(bn+=cr);Ir<j;)R[Ir].animatorJustifyOffset=bn,Ir+=1}for(j=0;j<Q;j+=1){if(_.reset(),Ut=1,R[j].n)P=0,O+=c.yOffset,O+=Te?1:0,U=dt,Te=!1,this._hasMaskedPath&&(B=(ee=te[V=Qe].points)[(G=zt)-1],re=(q=ee[G]).partialLength,ne=0),zr="",tr="",On="",ft="",jr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(jt!==R[j].line){switch(c.j){case 1:U+=ae-c.lineWidths[R[j].line];break;case 2:U+=(ae-c.lineWidths[R[j].line])/2}jt=R[j].line}Ne!==R[j].ind&&(R[Ne]&&(U+=R[Ne].extra),U+=R[j].an/2,Ne=R[j].ind),U+=f[0]*R[j].an*.005;var pn=0;for(X=0;X<oe;X+=1)(fe=s[X].a).p.propType&&(pn+=(pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars)).length?fe.p.v[0]*pe[0]:fe.p.v[0]*pe),fe.a.propType&&(pn+=(pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars)).length?fe.a.v[0]*pe[0]:fe.a.v[0]*pe);for(z=!0,this._pathData.a.v&&(U=.5*R[0].an+(ae-this._pathData.f.v-.5*R[0].an-.5*R[R.length-1].an)*Ne/(Q-1),U+=this._pathData.f.v);z;)ne+re>=U+pn||!ee?(nt=B.point[0]+(q.point[0]-B.point[0])*(de=(U+pn-ne)/q.partialLength),Ht=B.point[1]+(q.point[1]-B.point[1])*de,_.translate(-f[0]*R[j].an*.005,-f[1]*$e*.01),z=!1):ee&&(ne+=q.partialLength,(G+=1)>=ee.length&&(G=0,te[V+=1]?ee=te[V].points:xe.v.c?(G=0,ee=te[V=0].points):(ne-=q.partialLength,ee=null)),ee&&(B=q,re=(q=ee[G]).partialLength));_.translate(-(Le=R[j].an/2-R[j].add),0,0)}else _.translate(-(Le=R[j].an/2-R[j].add),0,0),_.translate(-f[0]*R[j].an*.005,-f[1]*$e*.01,0);for(X=0;X<oe;X+=1)(fe=s[X].a).t.propType&&(pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars),(0!==P||0!==c.j)&&(this._hasMaskedPath?U+=pe.length?fe.t.v*pe[0]:fe.t.v*pe:P+=pe.length?fe.t.v*pe[0]:fe.t.v*pe));for(c.strokeWidthAnim&&(un=c.sw||0),c.strokeColorAnim&&(Jt=c.sc?[c.sc[0],c.sc[1],c.sc[2]]:[0,0,0]),c.fillColorAnim&&c.fc&&(lt=[c.fc[0],c.fc[1],c.fc[2]]),X=0;X<oe;X+=1)(fe=s[X].a).a.propType&&((pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars)).length?_.translate(-fe.a.v[0]*pe[0],-fe.a.v[1]*pe[1],fe.a.v[2]*pe[2]):_.translate(-fe.a.v[0]*pe,-fe.a.v[1]*pe,fe.a.v[2]*pe));for(X=0;X<oe;X+=1)(fe=s[X].a).s.propType&&((pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars)).length?_.scale(1+(fe.s.v[0]-1)*pe[0],1+(fe.s.v[1]-1)*pe[1],1):_.scale(1+(fe.s.v[0]-1)*pe,1+(fe.s.v[1]-1)*pe,1));for(X=0;X<oe;X+=1){if(fe=s[X].a,pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars),fe.sk.propType&&(pe.length?_.skewFromAxis(-fe.sk.v*pe[0],fe.sa.v*pe[1]):_.skewFromAxis(-fe.sk.v*pe,fe.sa.v*pe)),fe.r.propType&&_.rotateZ(pe.length?-fe.r.v*pe[2]:-fe.r.v*pe),fe.ry.propType&&_.rotateY(pe.length?fe.ry.v*pe[1]:fe.ry.v*pe),fe.rx.propType&&_.rotateX(pe.length?fe.rx.v*pe[0]:fe.rx.v*pe),fe.o.propType&&(Ut+=pe.length?(fe.o.v*pe[0]-Ut)*pe[0]:(fe.o.v*pe-Ut)*pe),c.strokeWidthAnim&&fe.sw.propType&&(un+=pe.length?fe.sw.v*pe[0]:fe.sw.v*pe),c.strokeColorAnim&&fe.sc.propType)for(on=0;on<3;on+=1)Jt[on]+=pe.length?(fe.sc.v[on]-Jt[on])*pe[0]:(fe.sc.v[on]-Jt[on])*pe;if(c.fillColorAnim&&c.fc){if(fe.fc.propType)for(on=0;on<3;on+=1)lt[on]+=pe.length?(fe.fc.v[on]-lt[on])*pe[0]:(fe.fc.v[on]-lt[on])*pe;fe.fh.propType&&(lt=addHueToRGB(lt,pe.length?fe.fh.v*pe[0]:fe.fh.v*pe)),fe.fs.propType&&(lt=addSaturationToRGB(lt,pe.length?fe.fs.v*pe[0]:fe.fs.v*pe)),fe.fb.propType&&(lt=addBrightnessToRGB(lt,pe.length?fe.fb.v*pe[0]:fe.fb.v*pe))}}for(X=0;X<oe;X+=1)(fe=s[X].a).p.propType&&(pe=s[X].s.getMult(R[j].anIndexes[X],v.a[X].s.totalChars),this._hasMaskedPath?pe.length?_.translate(0,fe.p.v[1]*pe[0],-fe.p.v[2]*pe[1]):_.translate(0,fe.p.v[1]*pe,-fe.p.v[2]*pe):pe.length?_.translate(fe.p.v[0]*pe[0],fe.p.v[1]*pe[1],-fe.p.v[2]*pe[2]):_.translate(fe.p.v[0]*pe,fe.p.v[1]*pe,-fe.p.v[2]*pe));if(c.strokeWidthAnim&&(On=un<0?0:un),c.strokeColorAnim&&(mr="rgb("+Math.round(255*Jt[0])+","+Math.round(255*Jt[1])+","+Math.round(255*Jt[2])+")"),c.fillColorAnim&&c.fc&&(tr="rgb("+Math.round(255*lt[0])+","+Math.round(255*lt[1])+","+Math.round(255*lt[2])+")"),this._hasMaskedPath){if(_.translate(0,-c.ls),_.translate(0,f[1]*$e*.01+O,0),this._pathData.p.v){var hn=180*Math.atan((q.point[1]-B.point[1])/(q.point[0]-B.point[0]))/Math.PI;q.point[0]<B.point[0]&&(hn+=180),_.rotate(-hn*Math.PI/180)}_.translate(nt,Ht,0),U-=f[0]*R[j].an*.005,R[j+1]&&Ne!==R[j+1].ind&&(U+=R[j].an/2,U+=.001*c.tr*c.finalSize)}else{switch(_.translate(P,O,0),c.ps&&_.translate(c.ps[0],c.ps[1]+c.ascent,0),c.j){case 1:_.translate(R[j].animatorJustifyOffset+c.justifyOffset+(c.boxWidth-c.lineWidths[R[j].line]),0,0);break;case 2:_.translate(R[j].animatorJustifyOffset+c.justifyOffset+(c.boxWidth-c.lineWidths[R[j].line])/2,0,0)}_.translate(0,-c.ls),_.translate(Le,0,0),_.translate(f[0]*R[j].an*.005,f[1]*$e*.01,0),P+=R[j].l+.001*c.tr*c.finalSize}"html"===I?zr=_.toCSS():"svg"===I?zr=_.to2dCSS():jr=[_.props[0],_.props[1],_.props[2],_.props[3],_.props[4],_.props[5],_.props[6],_.props[7],_.props[8],_.props[9],_.props[10],_.props[11],_.props[12],_.props[13],_.props[14],_.props[15]],ft=Ut}M<=j?(be=new LetterProps(ft,On,mr,tr,zr,jr),this.renderedLetters.push(be),M+=1,this.lettersChangedFlag=!0):this.lettersChangedFlag=(be=this.renderedLetters[j]).update(ft,On,mr,tr,zr,jr)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(c,d,f){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(c,d,f),this.textProperty=new TextProperty(this,c.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(c.t,this.renderType,this),this.initTransform(c,d,f),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(c){this._mdf=!1,this.prepareRenderableFrame(c),this.prepareProperties(c,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(c,d){var f,v,s=d.length,_="";for(f=0;f<s;f+=1)"sh"===d[f].ty&&(_+=buildShapeString(v=d[f].ks.k,v.i.length,!0,c));return _},ITextElement.prototype.updateDocumentData=function(c,d){this.textProperty.updateDocumentData(c,d)},ITextElement.prototype.canResizeFont=function(c){this.textProperty.canResizeFont(c)},ITextElement.prototype.setMinimumFontSize=function(c){this.textProperty.setMinimumFontSize(c)},ITextElement.prototype.applyTextPropertiesToMatrix=function(c,d,f,s,v){switch(c.ps&&d.translate(c.ps[0],c.ps[1]+c.ascent,0),d.translate(0,-c.ls,0),c.j){case 1:d.translate(c.justifyOffset+(c.boxWidth-c.lineWidths[f]),0,0);break;case 2:d.translate(c.justifyOffset+(c.boxWidth-c.lineWidths[f])/2,0,0)}d.translate(s,v,0)},ITextElement.prototype.buildColor=function(c){return"rgb("+Math.round(255*c[0])+","+Math.round(255*c[1])+","+Math.round(255*c[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(c,d,f){this.textSpans=[],this.renderType="svg",this.initElement(c,d,f)}function ISolidElement(c,d,f){this.initElement(c,d,f)}function NullElement(c,d,f){this.initFrame(),this.initBaseData(c,d,f),this.initFrame(),this.initTransform(c,d,f),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(c,d,f){this.layers=c.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(c,d,f),this.tm=c.tm?PropertyFactory.getProp(this,c.tm,0,d.frameRate,this):{_placeholder:!0}}function SVGRenderer(c,d){this.animationItem=c,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var f="";if(d&&d.title){var s=createNS("title"),v=createElementID();s.setAttribute("id",v),s.textContent=d.title,this.svgElement.appendChild(s),f+=v}if(d&&d.description){var _=createNS("desc"),I=createElementID();_.setAttribute("id",I),_.textContent=d.description,this.svgElement.appendChild(_),f+=" "+I}f&&this.svgElement.setAttribute("aria-labelledby",f);var M=createNS("defs");this.svgElement.appendChild(M);var P=createNS("g");this.svgElement.appendChild(P),this.layerElement=P,this.renderConfig={preserveAspectRatio:d&&d.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:d&&d.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:d&&d.contentVisibility||"visible",progressiveLoad:d&&d.progressiveLoad||!1,hideOnTransparent:!(d&&!1===d.hideOnTransparent),viewBoxOnly:d&&d.viewBoxOnly||!1,viewBoxSize:d&&d.viewBoxSize||!1,className:d&&d.className||"",id:d&&d.id||"",focusable:d&&d.focusable,filterSize:{width:d&&d.filterSize&&d.filterSize.width||"100%",height:d&&d.filterSize&&d.filterSize.height||"100%",x:d&&d.filterSize&&d.filterSize.x||"0%",y:d&&d.filterSize&&d.filterSize.y||"0%"},width:d&&d.width,height:d&&d.height,runExpressions:!d||void 0===d.runExpressions||d.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:M,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CVContextData(){var c;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),c=0;c<15;c+=1)this.saved[c]=createTypedArray("float32",16);this._length=15}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(c){for(var d=0,f=c.length,s=[],v="";d<f;)c[d]===String.fromCharCode(13)||c[d]===String.fromCharCode(3)?(s.push(v),v=""):v+=c[d],d+=1;return s.push(v),s},SVGTextLottieElement.prototype.buildShapeData=function(c,d){if(c.shapes&&c.shapes.length){var f=c.shapes[0];if(f.it){var s=f.it[f.it.length-1];s.s&&(s.s.k[0]=d,s.s.k[1]=d)}}return c},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var c,d,f=this.textProperty.currentData;this.renderedLetters=createSizedArray(f?f.l.length:0),this.layerElement.setAttribute("fill",f.fc?this.buildColor(f.fc):"rgba(0,0,0,0)"),f.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(f.sc)),this.layerElement.setAttribute("stroke-width",f.sw)),this.layerElement.setAttribute("font-size",f.finalSize);var s=this.globalData.fontManager.getFontByName(f.f);if(s.fClass)this.layerElement.setAttribute("class",s.fClass);else{this.layerElement.setAttribute("font-family",s.fFamily);var v=f.fWeight;this.layerElement.setAttribute("font-style",f.fStyle),this.layerElement.setAttribute("font-weight",v)}this.layerElement.setAttribute("aria-label",f.t);var I=f.l||[],M=!!this.globalData.fontManager.chars;d=I.length;var P,O=this.mHelper,Q=this.data.singleShape,R=0,H=0,U=!0,q=.001*f.tr*f.finalSize;if(!Q||M||f.sz){var B,V=this.textSpans.length;for(c=0;c<d;c+=1){if(this.textSpans[c]||(this.textSpans[c]={span:null,childSpan:null,glyph:null}),!M||!Q||0===c){if(P=V>c?this.textSpans[c].span:createNS(M?"g":"text"),V<=c){if(P.setAttribute("stroke-linecap","butt"),P.setAttribute("stroke-linejoin","round"),P.setAttribute("stroke-miterlimit","4"),this.textSpans[c].span=P,M){var ee=createNS("g");P.appendChild(ee),this.textSpans[c].childSpan=ee}this.textSpans[c].span=P,this.layerElement.appendChild(P)}P.style.display="inherit"}if(O.reset(),Q&&(I[c].n&&(R=-q,H+=f.yOffset,H+=U?1:0,U=!1),this.applyTextPropertiesToMatrix(f,O,I[c].line,R,H),R+=I[c].l||0,R+=q),M){var te;if(1===(B=this.globalData.fontManager.getCharData(f.finalText[c],s.fStyle,this.globalData.fontManager.getFontByName(f.f).fFamily)).t)te=new SVGCompElement(B.data,this.globalData,this);else{var re=emptyShapeData;B.data&&B.data.shapes&&(re=this.buildShapeData(B.data,f.finalSize)),te=new SVGShapeElement(re,this.globalData,this)}if(this.textSpans[c].glyph){var ae=this.textSpans[c].glyph;this.textSpans[c].childSpan.removeChild(ae.layerElement),ae.destroy()}this.textSpans[c].glyph=te,te._debug=!0,te.prepareFrame(0),te.renderFrame(),this.textSpans[c].childSpan.appendChild(te.layerElement),1===B.t&&this.textSpans[c].childSpan.setAttribute("transform","scale("+f.finalSize/100+","+f.finalSize/100+")")}else Q&&P.setAttribute("transform","translate("+O.props[12]+","+O.props[13]+")"),P.textContent=I[c].val,P.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Q&&P&&P.setAttribute("d","")}else{var ne=this.textContainer,z="start";switch(f.j){case 1:z="end";break;case 2:z="middle";break;default:z="start"}ne.setAttribute("text-anchor",z),ne.setAttribute("letter-spacing",q);var G=this.buildTextContents(f.finalText);for(d=G.length,H=f.ps?f.ps[1]+f.ascent:0,c=0;c<d;c+=1)(P=this.textSpans[c].span||createNS("tspan")).textContent=G[c],P.setAttribute("x",0),P.setAttribute("y",H),P.style.display="inherit",ne.appendChild(P),this.textSpans[c]||(this.textSpans[c]={span:null,glyph:null}),this.textSpans[c].span=P,H+=f.finalLineHeight;this.layerElement.appendChild(ne)}for(;c<this.textSpans.length;)this.textSpans[c].span.style.display="none",c+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var c=this.layerElement.getBBox();this.bbox={top:c.y,left:c.x,width:c.width,height:c.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var c,f,d=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,c=0;c<d;c+=1)(f=this.textSpans[c].glyph)&&(f.prepareFrame(this.comp.renderedFrame-this.data.st),f._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var c,d,v,_,I,f=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(d=s.length,c=0;c<d;c+=1)s[c].n||(v=f[c],_=this.textSpans[c].span,(I=this.textSpans[c].glyph)&&I.renderFrame(),v._mdf.m&&_.setAttribute("transform",v.m),v._mdf.o&&_.setAttribute("opacity",v.o),v._mdf.sw&&_.setAttribute("stroke-width",v.sw),v._mdf.sc&&_.setAttribute("stroke",v.sc),v._mdf.fc&&_.setAttribute("fill",v.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var c=createNS("rect");c.setAttribute("width",this.data.sw),c.setAttribute("height",this.data.sh),c.setAttribute("fill",this.data.sc),this.layerElement.appendChild(c)},NullElement.prototype.prepareFrame=function(c){this.prepareProperties(c,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(c){return new NullElement(c,this.globalData,this)},SVGRendererBase.prototype.createShape=function(c){return new SVGShapeElement(c,this.globalData,this)},SVGRendererBase.prototype.createText=function(c){return new SVGTextLottieElement(c,this.globalData,this)},SVGRendererBase.prototype.createImage=function(c){return new IImageElement(c,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(c){return new ISolidElement(c,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(c){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize?this.renderConfig.viewBoxSize:"0 0 "+c.w+" "+c.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",c.w),this.svgElement.setAttribute("height",c.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var d=this.globalData.defs;this.setupGlobalData(c,d),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=c;var f=createNS("clipPath"),s=createNS("rect");s.setAttribute("width",c.w),s.setAttribute("height",c.h),s.setAttribute("x",0),s.setAttribute("y",0);var v=createElementID();f.setAttribute("id",v),f.appendChild(s),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+v+")"),d.appendChild(f),this.layers=c.layers,this.elements=createSizedArray(c.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var c,d=this.layers?this.layers.length:0;for(c=0;c<d;c+=1)this.elements[c]&&this.elements[c].destroy&&this.elements[c].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(c){var d=0,f=this.layers.length;for(d=0;d<f;d+=1)if(this.layers[d].ind===c)return d;return-1},SVGRendererBase.prototype.buildItem=function(c){var d=this.elements;if(!d[c]&&99!==this.layers[c].ty){d[c]=!0;var f=this.createItem(this.layers[c]);if(d[c]=f,getExpressionsPlugin()&&(0===this.layers[c].ty&&this.globalData.projectInterface.registerComposition(f),f.initExpressions()),this.appendElementInPos(f,c),this.layers[c].tt){var s="tp"in this.layers[c]?this.findIndexByInd(this.layers[c].tp):c-1;if(-1===s)return;if(this.elements[s]&&!0!==this.elements[s]){var _=d[s].getMatte(this.layers[c].tt);f.setMatte(_)}else this.buildItem(s),this.addPendingElement(f)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var c=this.pendingElements.pop();if(c.checkParenting(),c.data.tt)for(var d=0,f=this.elements.length;d<f;){if(this.elements[d]===c){var s="tp"in c.data?this.findIndexByInd(c.data.tp):d-1,_=this.elements[s].getMatte(this.layers[d].tt);c.setMatte(_);break}d+=1}}},SVGRendererBase.prototype.renderFrame=function(c){if(this.renderedFrame!==c&&!this.destroyed){null===c?c=this.renderedFrame:this.renderedFrame=c,this.globalData.frameNum=c,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=c,this.globalData._mdf=!1;var d,f=this.layers.length;for(this.completeLayers||this.checkLayers(c),d=f-1;d>=0;d-=1)(this.completeLayers||this.elements[d])&&this.elements[d].prepareFrame(c-this.layers[d].st);if(this.globalData._mdf)for(d=0;d<f;d+=1)(this.completeLayers||this.elements[d])&&this.elements[d].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(c,d){var f=c.getBaseElement();if(f){for(var v,s=0;s<d;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement()&&(v=this.elements[s].getBaseElement()),s+=1;v?this.layerElement.insertBefore(f,v):this.layerElement.appendChild(f)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(c,d,f){this.initFrame(),this.initBaseData(c,d,f),this.initTransform(c,d,f),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!d.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(c){if(this._mdf=!1,this.prepareRenderableFrame(c),this.prepareProperties(c,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=c/this.data.sr;else{var d=this.tm.v;d===this.data.op&&(d=this.data.op-1),this.renderedFrame=d}var f,s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),f=s-1;f>=0;f-=1)(this.completeLayers||this.elements[f])&&(this.elements[f].prepareFrame(this.renderedFrame-this.layers[f].st),this.elements[f]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var c,d=this.layers.length;for(c=0;c<d;c+=1)(this.completeLayers||this.elements[c])&&this.elements[c].renderFrame()},ICompElement.prototype.setElements=function(c){this.elements=c},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var c,d=this.layers.length;for(c=0;c<d;c+=1)this.elements[c]&&this.elements[c].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(c){return new SVGCompElement(c,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(c){return new SVGCompElement(c,this.globalData,this)},CVContextData.prototype.duplicate=function(){var c=2*this._length,d=this.savedOp;this.savedOp=createTypedArray("float32",c),this.savedOp.set(d);var f=0;for(f=this._length;f<c;f+=1)this.saved[f]=createTypedArray("float32",16);this._length=c},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVContextData.prototype.popTransform=function(){var d,c=this.saved[this.cArrPos],f=this.cTr.props;for(d=0;d<16;d+=1)f[d]=c[d];return c},CVContextData.prototype.popOpacity=function(){var c=this.savedOp[this.cArrPos];return this.cO=c,c},CVContextData.prototype.pop=function(){return this.cArrPos-=1,{transform:this.popTransform(),opacity:this.popOpacity()}},CVContextData.prototype.push=function(){var c=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var d,f=this.saved[this.cArrPos];for(d=0;d<16;d+=1)f[d]=c[d];this.savedOp[this.cArrPos]=this.cO,this.cArrPos+=1},CVContextData.prototype.getTransform=function(){return this.cTr},CVContextData.prototype.getOpacity=function(){return this.cO},CVContextData.prototype.setOpacity=function(c){this.cO=c},ShapeTransformManager.prototype={addTransformSequence:function(d){var f,s=d.length,v="_";for(f=0;f<s;f+=1)v+=d[f].transform.key+"_";var _=this.sequences[v];return _||(_={transforms:[].concat(d),finalTransform:new Matrix,_mdf:!1},this.sequences[v]=_,this.sequenceList.push(_)),_},processSequence:function(d,f){for(var s=0,v=d.transforms.length,_=f;s<v&&!f;){if(d.transforms[s].transform.mProps._mdf){_=!0;break}s+=1}var I;if(_)for(d.finalTransform.reset(),s=v-1;s>=0;s-=1)d.finalTransform.transform((I=d.transforms[s].transform.mProps.v.props)[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],I[8],I[9],I[10],I[11],I[12],I[13],I[14],I[15]);d._mdf=_},processSequences:function(d){var f,s=this.sequenceList.length;for(f=0;f<s;f+=1)this.processSequence(this.sequenceList[f],d)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var d="__lottie_element_luma_buffer",f=null,s=null,v=null;function I(){f||(v=function _(){var P=createNS("svg"),O=createNS("filter"),j=createNS("feColorMatrix");return O.setAttribute("id",d),j.setAttribute("type","matrix"),j.setAttribute("color-interpolation-filters","sRGB"),j.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),O.appendChild(j),P.appendChild(O),P.setAttribute("id",d+"_svg"),featureSupport.svgLumaHidden&&(P.style.display="none"),P}(),document.body.appendChild(v),f=createTag("canvas"),(s=f.getContext("2d")).filter="url(#"+d+")",s.fillStyle="rgba(0,0,0,0)",s.fillRect(0,0,1,1))}return{load:I,get:function M(P){return f||I(),f.width=P.width,f.height=P.height,s.filter="url(#"+d+")",f}}};function createCanvas(c,d){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(c,d);var f=createTag("canvas");return f.width=c,f.height=d,f}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas};function CVEffects(){}function CVMaskElement(c,d){this.data=c,this.element=d,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var f,s=this.masksProperties.length,v=!1;for(f=0;f<s;f+=1)"n"!==this.masksProperties[f].mode&&(v=!0),this.viewData[f]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[f],3);this.hasMasks=v,v&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(){},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var f,v,_,I,c=this.element.finalTransform.mat,d=this.element.canvasContext,s=this.masksProperties.length;for(d.beginPath(),f=0;f<s;f+=1)if("n"!==this.masksProperties[f].mode){this.masksProperties[f].inv&&(d.moveTo(0,0),d.lineTo(this.element.globalData.compSize.w,0),d.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),d.lineTo(0,this.element.globalData.compSize.h),d.lineTo(0,0)),v=c.applyToPointArray((I=this.viewData[f].v).v[0][0],I.v[0][1],0),d.moveTo(v[0],v[1]);var M,P=I._length;for(M=1;M<P;M+=1)_=c.applyToTriplePoints(I.o[M-1],I.i[M],I.v[M]),d.bezierCurveTo(_[0],_[1],_[2],_[3],_[4],_[5]);_=c.applyToTriplePoints(I.o[M-1],I.i[0],I.v[0]),d.bezierCurveTo(_[0],_[1],_[2],_[3],_[4],_[5])}this.element.globalData.renderer.save(!0),d.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(c,d,f,s){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var v=4;"rc"===d.ty?v=5:"el"===d.ty?v=6:"sr"===d.ty&&(v=7),this.sh=ShapePropertyFactory.getShapeProp(c,d,v,c);var _,M,I=f.length;for(_=0;_<I;_+=1)f[_].closed||(M={transforms:s.addTransformSequence(f[_].transforms),trNodes:[]},this.styledShapes.push(M),f[_].elements.push(M))}function CVShapeElement(c,d,f){this.shapes=[],this.shapesData=c.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(c,d,f)}function CVTextElement(c,d,f){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(c,d,f)}function CVImageElement(c,d,f){this.assetData=d.getAssetData(c.refId),this.img=d.imageLoader.getAsset(this.assetData),this.initElement(c,d,f)}function CVSolidElement(c,d,f){this.initElement(c,d,f)}function CanvasRendererBase(c,d){this.animationItem=c,this.renderConfig={clearCanvas:!d||void 0===d.clearCanvas||d.clearCanvas,context:d&&d.context||null,progressiveLoad:d&&d.progressiveLoad||!1,preserveAspectRatio:d&&d.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:d&&d.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:d&&d.contentVisibility||"visible",className:d&&d.className||"",id:d&&d.id||""},this.renderConfig.dpr=d&&d.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=d&&d.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function CVCompElement(c,d,f){this.completeLayers=!1,this.layers=c.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(c,d,f),this.tm=c.tm?PropertyFactory.getProp(this,c.tm,0,d.frameRate,this):{_placeholder:!0}}function CanvasRenderer(c,d){this.animationItem=c,this.renderConfig={clearCanvas:!d||void 0===d.clearCanvas||d.clearCanvas,context:d&&d.context||null,progressiveLoad:d&&d.progressiveLoad||!1,preserveAspectRatio:d&&d.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:d&&d.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:d&&d.contentVisibility||"visible",className:d&&d.className||"",id:d&&d.id||"",runExpressions:!d||void 0===d.runExpressions||d.runExpressions},this.renderConfig.dpr=d&&d.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=d&&d.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HBaseElement(){}function HSolidElement(c,d,f){this.initElement(c,d,f)}function HShapeElement(c,d,f){this.shapes=[],this.shapesData=c.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(c,d,f),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(c,d,f){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(c,d,f)}function HCameraElement(c,d,f){this.initFrame(),this.initBaseData(c,d,f),this.initHierarchy();var s=PropertyFactory.getProp;if(this.pe=s(this,c.pe,0,0,this),c.ks.p.s?(this.px=s(this,c.ks.p.x,1,0,this),this.py=s(this,c.ks.p.y,1,0,this),this.pz=s(this,c.ks.p.z,1,0,this)):this.p=s(this,c.ks.p,1,0,this),c.ks.a&&(this.a=s(this,c.ks.a,1,0,this)),c.ks.or.k.length&&c.ks.or.k[0].to){var v,_=c.ks.or.k.length;for(v=0;v<_;v+=1)c.ks.or.k[v].to=null,c.ks.or.k[v].ti=null}this.or=s(this,c.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=s(this,c.ks.rx,0,degToRads,this),this.ry=s(this,c.ks.ry,0,degToRads,this),this.rz=s(this,c.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(c,d,f){this.assetData=d.getAssetData(c.refId),this.initElement(c,d,f)}function HybridRendererBase(c,d){this.animationItem=c,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:d&&d.className||"",imagePreserveAspectRatio:d&&d.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(d&&!1===d.hideOnTransparent),filterSize:{width:d&&d.filterSize&&d.filterSize.width||"400%",height:d&&d.filterSize&&d.filterSize.height||"400%",x:d&&d.filterSize&&d.filterSize.x||"-100%",y:d&&d.filterSize&&d.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(c,d,f){this.layers=c.layers,this.supports3d=!c.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(c,d,f),this.tm=c.tm?PropertyFactory.getProp(this,c.tm,0,d.frameRate,this):{_placeholder:!0}}function HybridRenderer(c,d){this.animationItem=c,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:d&&d.className||"",imagePreserveAspectRatio:d&&d.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(d&&!1===d.hideOnTransparent),filterSize:{width:d&&d.filterSize&&d.filterSize.width||"400%",height:d&&d.filterSize&&d.filterSize.height||"400%",x:d&&d.filterSize&&d.filterSize.x||"-100%",y:d&&d.filterSize&&d.filterSize.y||"-100%"},runExpressions:!d||void 0===d.runExpressions||d.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var d=this.globalData.canvasContext,f=assetLoader.createCanvas(d.canvas.width,d.canvas.height);this.buffers.push(f);var s=assetLoader.createCanvas(d.canvas.width,d.canvas.height);this.buffers.push(s),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var d=this.globalData;if(d.blendMode!==this.data.bm){d.blendMode=this.data.bm;var f=getBlendMode(this.data.bm);d.canvasContext.globalCompositeOperation=f}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(d){d.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var f=this.buffers[0].getContext("2d");this.clearCanvas(f),f.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var d=this.buffers[1],f=d.getContext("2d");if(this.clearCanvas(f),f.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var v=assetLoader.getLumaCanvas(this.canvasContext.canvas);v.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(v,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(d,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(d){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||d)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var f=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(f),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(f),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(c,d){var f={data:c,type:c.ty,preTransforms:this.transformsManager.addTransformSequence(d),transforms:[],elements:[],closed:!0===c.hd},s={};if("fl"===c.ty||"st"===c.ty?(s.c=PropertyFactory.getProp(this,c.c,1,255,this),s.c.k||(f.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")")):("gf"===c.ty||"gs"===c.ty)&&(s.s=PropertyFactory.getProp(this,c.s,1,null,this),s.e=PropertyFactory.getProp(this,c.e,1,null,this),s.h=PropertyFactory.getProp(this,c.h||{k:0},0,.01,this),s.a=PropertyFactory.getProp(this,c.a||{k:0},0,degToRads,this),s.g=new GradientProperty(this,c.g,this)),s.o=PropertyFactory.getProp(this,c.o,0,.01,this),"st"===c.ty||"gs"===c.ty){if(f.lc=lineCapEnum[c.lc||2],f.lj=lineJoinEnum[c.lj||2],1==c.lj&&(f.ml=c.ml),s.w=PropertyFactory.getProp(this,c.w,0,null,this),s.w.k||(f.wi=s.w.v),c.d){var v=new DashProperty(this,c.d,"canvas",this);s.d=v,s.d.k||(f.da=s.d.dashArray,f.do=s.d.dashoffset[0])}}else f.r=2===c.r?"evenodd":"nonzero";return this.stylesList.push(f),s.style=f,s},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(c){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,c.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,c,this)}}},CVShapeElement.prototype.createShapeElement=function(c){var d=new CVShapeData(this,c,this.stylesList,this.transformsManager);return this.shapes.push(d),this.addShapeToModifiers(d),d},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var c,d=this.itemsData.length;for(c=0;c<d;c+=1)this.prevViewData[c]=this.itemsData[c];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),d=this.dynamicProperties.length,c=0;c<d;c+=1)this.dynamicProperties[c].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(c){var d,f=this.stylesList.length;for(d=0;d<f;d+=1)this.stylesList[d].closed||this.stylesList[d].transforms.push(c)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var c,d=this.stylesList.length;for(c=0;c<d;c+=1)this.stylesList[c].closed||this.stylesList[c].transforms.pop()},CVShapeElement.prototype.closeStyles=function(c){var d,f=c.length;for(d=0;d<f;d+=1)c[d].closed=!0},CVShapeElement.prototype.searchShapes=function(c,d,f,s,v){var _,M,P,Q,R,H,I=c.length-1,O=[],j=[],U=[].concat(v);for(_=I;_>=0;_-=1){if((Q=this.searchProcessedElement(c[_]))?d[_]=f[Q-1]:c[_]._shouldRender=s,"fl"===c[_].ty||"st"===c[_].ty||"gf"===c[_].ty||"gs"===c[_].ty)Q?d[_].style.closed=!1:d[_]=this.createStyleElement(c[_],U),O.push(d[_].style);else if("gr"===c[_].ty){if(Q)for(P=d[_].it.length,M=0;M<P;M+=1)d[_].prevViewData[M]=d[_].it[M];else d[_]=this.createGroupElement(c[_]);this.searchShapes(c[_].it,d[_].it,d[_].prevViewData,s,U)}else"tr"===c[_].ty?(Q||(H=this.createTransformElement(c[_]),d[_]=H),U.push(d[_]),this.addTransformToStyleList(d[_])):"sh"===c[_].ty||"rc"===c[_].ty||"el"===c[_].ty||"sr"===c[_].ty?Q||(d[_]=this.createShapeElement(c[_])):"tm"===c[_].ty||"rd"===c[_].ty||"pb"===c[_].ty||"zz"===c[_].ty||"op"===c[_].ty?(Q?(R=d[_]).closed=!1:((R=ShapeModifiers.getModifier(c[_].ty)).init(this,c[_]),d[_]=R,this.shapeModifiers.push(R)),j.push(R)):"rp"===c[_].ty&&(Q?(R=d[_]).closed=!0:(R=ShapeModifiers.getModifier(c[_].ty),d[_]=R,R.init(this,c,_,d),this.shapeModifiers.push(R),s=!1),j.push(R));this.addProcessedElement(c[_],_+1)}for(this.removeTransformFromStyleList(),this.closeStyles(O),I=j.length,_=0;_<I;_+=1)j[_].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(c,d){(c._opMdf||d.op._mdf||this._isFirstFrame)&&(d.opacity=c.opacity,d.opacity*=d.op.v,d._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var c,f,s,v,_,I,M,j,Q,d=this.stylesList.length,P=this.globalData.renderer,O=this.globalData.canvasContext;for(c=0;c<d;c+=1)if(("st"!==(j=(Q=this.stylesList[c]).type)&&"gs"!==j||0!==Q.wi)&&Q.data._shouldRender&&0!==Q.coOp&&0!==this.globalData.currentGlobalAlpha){for(P.save(),I=Q.elements,"st"===j||"gs"===j?(O.strokeStyle="st"===j?Q.co:Q.grd,O.lineWidth=Q.wi,O.lineCap=Q.lc,O.lineJoin=Q.lj,O.miterLimit=Q.ml||0):O.fillStyle="fl"===j?Q.co:Q.grd,P.ctxOpacity(Q.coOp),"st"!==j&&"gs"!==j&&O.beginPath(),P.ctxTransform(Q.preTransforms.finalTransform.props),s=I.length,f=0;f<s;f+=1){for(("st"===j||"gs"===j)&&(O.beginPath(),Q.da&&(O.setLineDash(Q.da),O.lineDashOffset=Q.do)),_=(M=I[f].trNodes).length,v=0;v<_;v+=1)"m"===M[v].t?O.moveTo(M[v].p[0],M[v].p[1]):"c"===M[v].t?O.bezierCurveTo(M[v].pts[0],M[v].pts[1],M[v].pts[2],M[v].pts[3],M[v].pts[4],M[v].pts[5]):O.closePath();("st"===j||"gs"===j)&&(O.stroke(),Q.da&&O.setLineDash(this.dashResetter))}"st"!==j&&"gs"!==j&&O.fill(Q.r),P.restore()}},CVShapeElement.prototype.renderShape=function(c,d,f,s){var v,I;for(I=c,v=d.length-1;v>=0;v-=1)"tr"===d[v].ty?this.renderShapeTransform(c,I=f[v].transform):"sh"===d[v].ty||"el"===d[v].ty||"rc"===d[v].ty||"sr"===d[v].ty?this.renderPath(d[v],f[v]):"fl"===d[v].ty?this.renderFill(d[v],f[v],I):"st"===d[v].ty?this.renderStroke(d[v],f[v],I):"gf"===d[v].ty||"gs"===d[v].ty?this.renderGradientFill(d[v],f[v],I):"gr"===d[v].ty&&this.renderShape(I,d[v].it,f[v].it);s&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(c,d){if(this._isFirstFrame||d._mdf||c.transforms._mdf){var v,_,I,f=c.trNodes,s=d.paths,M=s._length;f.length=0;var P=c.transforms.finalTransform;for(I=0;I<M;I+=1){var O=s.shapes[I];if(O&&O.v){for(_=O._length,v=1;v<_;v+=1)1===v&&f.push({t:"m",p:P.applyToPointArray(O.v[0][0],O.v[0][1],0)}),f.push({t:"c",pts:P.applyToTriplePoints(O.o[v-1],O.i[v],O.v[v])});1===_&&f.push({t:"m",p:P.applyToPointArray(O.v[0][0],O.v[0][1],0)}),O.c&&_&&(f.push({t:"c",pts:P.applyToTriplePoints(O.o[v-1],O.i[0],O.v[0])}),f.push({t:"z"}))}}c.trNodes=f}},CVShapeElement.prototype.renderPath=function(c,d){if(!0!==c.hd&&c._shouldRender){var f,s=d.styledShapes.length;for(f=0;f<s;f+=1)this.renderStyledShape(d.styledShapes[f],d.sh)}},CVShapeElement.prototype.renderFill=function(c,d,f){var s=d.style;(d.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(d.c.v[0])+","+bmFloor(d.c.v[1])+","+bmFloor(d.c.v[2])+")"),(d.o._mdf||f._opMdf||this._isFirstFrame)&&(s.coOp=d.o.v*f.opacity)},CVShapeElement.prototype.renderGradientFill=function(c,d,f){var v,s=d.style;if(!s.grd||d.g._mdf||d.s._mdf||d.e._mdf||1!==c.t&&(d.h._mdf||d.a._mdf)){var _=this.globalData.canvasContext,I=d.s.v,M=d.e.v;if(1===c.t)v=_.createLinearGradient(I[0],I[1],M[0],M[1]);else{var P=Math.sqrt(Math.pow(I[0]-M[0],2)+Math.pow(I[1]-M[1],2)),O=Math.atan2(M[1]-I[1],M[0]-I[0]),j=d.h.v;j>=1?j=.99:j<=-1&&(j=-.99);var Q=P*j,R=Math.cos(O+d.a.v)*Q+I[0],H=Math.sin(O+d.a.v)*Q+I[1];v=_.createRadialGradient(R,H,0,I[0],I[1],P)}var U,q=c.g.p,ne=d.g.c,z=1;for(U=0;U<q;U+=1)d.g._hasOpacity&&d.g._collapsable&&(z=d.g.o[2*U+1]),v.addColorStop(ne[4*U]/100,"rgba("+ne[4*U+1]+","+ne[4*U+2]+","+ne[4*U+3]+","+z+")");s.grd=v}s.coOp=d.o.v*f.opacity},CVShapeElement.prototype.renderStroke=function(c,d,f){var s=d.style,v=d.d;v&&(v._mdf||this._isFirstFrame)&&(s.da=v.dashArray,s.do=v.dashoffset[0]),(d.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(d.c.v[0])+","+bmFloor(d.c.v[1])+","+bmFloor(d.c.v[2])+")"),(d.o._mdf||f._opMdf||this._isFirstFrame)&&(s.coOp=d.o.v*f.opacity),(d.w._mdf||this._isFirstFrame)&&(s.wi=d.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var c=this.textProperty.currentData;this.renderedLetters=createSizedArray(c.l?c.l.length:0);var d=!1;c.fc?(d=!0,this.values.fill=this.buildColor(c.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=d;var f=!1;c.sc&&(f=!0,this.values.stroke=this.buildColor(c.sc),this.values.sWidth=c.sw);var v,_,s=this.globalData.fontManager.getFontByName(c.f),I=c.l,M=this.mHelper;this.stroke=f,this.values.fValue=c.finalSize+"px "+this.globalData.fontManager.getFontByName(c.f).fFamily,_=c.finalText.length;var P,O,j,Q,R,H,U,q,ne,z,G=this.data.singleShape,V=.001*c.tr*c.finalSize,B=0,ee=0,te=!0,re=0;for(v=0;v<_;v+=1){O=(P=this.globalData.fontManager.getCharData(c.finalText[v],s.fStyle,this.globalData.fontManager.getFontByName(c.f).fFamily))&&P.data||{},M.reset(),G&&I[v].n&&(B=-V,ee+=c.yOffset,ee+=te?1:0,te=!1),U=(R=O.shapes?O.shapes[0].it:[]).length,M.scale(c.finalSize/100,c.finalSize/100),G&&this.applyTextPropertiesToMatrix(c,M,I[v].line,B,ee),ne=createSizedArray(U-1);var ae=0;for(H=0;H<U;H+=1)if("sh"===R[H].ty){for(Q=R[H].ks.k.i.length,q=R[H].ks.k,z=[],j=1;j<Q;j+=1)1===j&&z.push(M.applyToX(q.v[0][0],q.v[0][1],0),M.applyToY(q.v[0][0],q.v[0][1],0)),z.push(M.applyToX(q.o[j-1][0],q.o[j-1][1],0),M.applyToY(q.o[j-1][0],q.o[j-1][1],0),M.applyToX(q.i[j][0],q.i[j][1],0),M.applyToY(q.i[j][0],q.i[j][1],0),M.applyToX(q.v[j][0],q.v[j][1],0),M.applyToY(q.v[j][0],q.v[j][1],0));z.push(M.applyToX(q.o[j-1][0],q.o[j-1][1],0),M.applyToY(q.o[j-1][0],q.o[j-1][1],0),M.applyToX(q.i[0][0],q.i[0][1],0),M.applyToY(q.i[0][0],q.i[0][1],0),M.applyToX(q.v[0][0],q.v[0][1],0),M.applyToY(q.v[0][0],q.v[0][1],0)),ne[ae]=z,ae+=1}G&&(B+=I[v].l,B+=V),this.textSpans[re]?this.textSpans[re].elem=ne:this.textSpans[re]={elem:ne},re+=1}},CVTextElement.prototype.renderInnerContent=function(){var c=this.canvasContext;c.font=this.values.fValue,c.lineCap="butt",c.lineJoin="miter",c.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var d,f,s,v,_,I,M=this.textAnimator.renderedLetters,P=this.textProperty.currentData.l;f=P.length;var O,H,U,j=null,Q=null,R=null;for(d=0;d<f;d+=1)if(!P[d].n){if((O=M[d])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(O.p),this.globalData.renderer.ctxOpacity(O.o)),this.fill){for(O&&O.fc?j!==O.fc&&(j=O.fc,c.fillStyle=O.fc):j!==this.values.fill&&(j=this.values.fill,c.fillStyle=this.values.fill),v=(H=this.textSpans[d].elem).length,this.globalData.canvasContext.beginPath(),s=0;s<v;s+=1)for(I=(U=H[s]).length,this.globalData.canvasContext.moveTo(U[0],U[1]),_=2;_<I;_+=6)this.globalData.canvasContext.bezierCurveTo(U[_],U[_+1],U[_+2],U[_+3],U[_+4],U[_+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(O&&O.sw?R!==O.sw&&(R=O.sw,c.lineWidth=O.sw):R!==this.values.sWidth&&(R=this.values.sWidth,c.lineWidth=this.values.sWidth),O&&O.sc?Q!==O.sc&&(Q=O.sc,c.strokeStyle=O.sc):Q!==this.values.stroke&&(Q=this.values.stroke,c.strokeStyle=this.values.stroke),v=(H=this.textSpans[d].elem).length,this.globalData.canvasContext.beginPath(),s=0;s<v;s+=1)for(I=(U=H[s]).length,this.globalData.canvasContext.moveTo(U[0],U[1]),_=2;_<I;_+=6)this.globalData.canvasContext.bezierCurveTo(U[_],U[_+1],U[_+2],U[_+3],U[_+4],U[_+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}O&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var c=createTag("canvas");c.width=this.assetData.w,c.height=this.assetData.h;var I,M,d=c.getContext("2d"),f=this.img.width,s=this.img.height,v=f/s,_=this.assetData.w/this.assetData.h,P=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;v>_&&"xMidYMid slice"===P||v<_&&"xMidYMid slice"!==P?I=(M=s)*_:M=(I=f)/_,d.drawImage(this.img,(f-I)/2,(s-M)/2,I,M,0,0,this.assetData.w,this.assetData.h),this.img=c}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var c=this.canvasContext;c.fillStyle=this.data.sc,c.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(c){return new CVShapeElement(c,this.globalData,this)},CanvasRendererBase.prototype.createText=function(c){return new CVTextElement(c,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(c){return new CVImageElement(c,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(c){return new CVSolidElement(c,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(c){if(1!==c[0]||0!==c[1]||0!==c[4]||1!==c[5]||0!==c[12]||0!==c[13]){if(!this.renderConfig.clearCanvas)return void this.canvasContext.transform(c[0],c[1],c[4],c[5],c[12],c[13]);this.transformMat.cloneFromProps(c);var d=this.contextData.getTransform(),f=d.props;this.transformMat.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),d.cloneFromProps(this.transformMat.props);var s=d.props;this.canvasContext.setTransform(s[0],s[1],s[4],s[5],s[12],s[13])}},CanvasRendererBase.prototype.ctxOpacity=function(c){var d=this.contextData.getOpacity();if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=c<0?0:c,void(this.globalData.currentGlobalAlpha=d);this.contextData.setOpacity(d*=c<0?0:c),this.globalData.currentGlobalAlpha!==d&&(this.canvasContext.globalAlpha=d,this.globalData.currentGlobalAlpha=d)},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(c){this.renderConfig.clearCanvas?(c&&this.canvasContext.save(),this.contextData.push()):this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(c){if(this.renderConfig.clearCanvas){c&&(this.canvasContext.restore(),this.globalData.blendMode="source-over");var d=this.contextData.pop(),f=d.transform,s=d.opacity;this.canvasContext.setTransform(f[0],f[1],f[4],f[5],f[12],f[13]),this.globalData.currentGlobalAlpha!==s&&(this.canvasContext.globalAlpha=s,this.globalData.currentGlobalAlpha=s)}else this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(c){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var d=this.animationItem.container.style;d.width="100%",d.height="100%";var f="0px 0px 0px";d.transformOrigin=f,d.mozTransformOrigin=f,d.webkitTransformOrigin=f,d["-webkit-transform"]=f,d.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=c,this.layers=c.layers,this.transformCanvas={w:c.w,h:c.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(c,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(c.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(c,d){var f,s,v,_;if(this.reset(),c?(s=d,this.canvasContext.canvas.width=f=c,this.canvasContext.canvas.height=s):(this.animationItem.wrapper&&this.animationItem.container?(f=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight):(f=this.canvasContext.canvas.width,s=this.canvasContext.canvas.height),this.canvasContext.canvas.width=f*this.renderConfig.dpr,this.canvasContext.canvas.height=s*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var I=this.renderConfig.preserveAspectRatio.split(" "),M=I[1]||"meet",P=I[0]||"xMidYMid",O=P.substr(0,4),j=P.substr(4);(_=this.transformCanvas.w/this.transformCanvas.h)>(v=f/s)&&"meet"===M||_<v&&"slice"===M?(this.transformCanvas.sx=f/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=f/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===O&&(_<v&&"meet"===M||_>v&&"slice"===M)?(f-this.transformCanvas.w*(s/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===O&&(_<v&&"meet"===M||_>v&&"slice"===M)?(f-this.transformCanvas.w*(s/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===j&&(_>v&&"meet"===M||_<v&&"slice"===M)?(s-this.transformCanvas.h*(f/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===j&&(_>v&&"meet"===M||_<v&&"slice"===M)?(s-this.transformCanvas.h*(f/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=f/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var c;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),c=(this.layers?this.layers.length:0)-1;c>=0;c-=1)this.elements[c]&&this.elements[c].destroy&&this.elements[c].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(c,d){if((this.renderedFrame!==c||!0!==this.renderConfig.clearCanvas||d)&&!this.destroyed&&-1!==c){this.renderedFrame=c,this.globalData.frameNum=c-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||d,this.globalData.projectInterface.currentFrame=c;var f,s=this.layers.length;for(this.completeLayers||this.checkLayers(c),f=0;f<s;f+=1)(this.completeLayers||this.elements[f])&&this.elements[f].prepareFrame(c-this.layers[f].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),f=s-1;f>=0;f-=1)(this.completeLayers||this.elements[f])&&this.elements[f].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(c){var d=this.elements;if(!d[c]&&99!==this.layers[c].ty){var f=this.createItem(this.layers[c],this,this.globalData);d[c]=f,f.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var d,c=this.canvasContext;for(c.beginPath(),c.moveTo(0,0),c.lineTo(this.data.w,0),c.lineTo(this.data.w,this.data.h),c.lineTo(0,this.data.h),c.lineTo(0,0),c.clip(),d=this.layers.length-1;d>=0;d-=1)(this.completeLayers||this.elements[d])&&this.elements[d].renderFrame()},CVCompElement.prototype.destroy=function(){var c;for(c=this.layers.length-1;c>=0;c-=1)this.elements[c]&&this.elements[c].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(c){return new CVCompElement(c,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(c){return new CVCompElement(c,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var d=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var f=this.finalTransform.mat.toCSS();d.transform=f,d.webkitTransform=f}this.finalTransform._opMdf&&(d.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var c;this.data.hasMask?((c=createNS("rect")).setAttribute("width",this.data.sw),c.setAttribute("height",this.data.sh),c.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((c=createTag("div")).style.width=this.data.sw+"px",c.style.height=this.data.sh+"px",c.style.backgroundColor=this.data.sc),this.layerElement.appendChild(c)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var c;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),c=this.svgElement;else{c=createNS("svg");var d=this.comp.data?this.comp.data:this.globalData.compSize;c.setAttribute("width",d.w),c.setAttribute("height",d.h),c.appendChild(this.shapesContainer),this.layerElement.appendChild(c)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=c},HShapeElement.prototype.getTransformedPoint=function(c,d){var f,s=c.length;for(f=0;f<s;f+=1)d=c[f].mProps.v.applyToPointArray(d[0],d[1],0);return d},HShapeElement.prototype.calculateShapeBoundingBox=function(c,d){var v,I,M,P,O,f=c.sh.v,s=c.transformers,_=f._length;if(!(_<=1)){for(v=0;v<_-1;v+=1)I=this.getTransformedPoint(s,f.v[v]),M=this.getTransformedPoint(s,f.o[v]),P=this.getTransformedPoint(s,f.i[v+1]),O=this.getTransformedPoint(s,f.v[v+1]),this.checkBounds(I,M,P,O,d);f.c&&(I=this.getTransformedPoint(s,f.v[v]),M=this.getTransformedPoint(s,f.o[v]),P=this.getTransformedPoint(s,f.i[0]),O=this.getTransformedPoint(s,f.v[0]),this.checkBounds(I,M,P,O,d))}},HShapeElement.prototype.checkBounds=function(c,d,f,s,v){this.getBoundsOfCurve(c,d,f,s);var _=this.shapeBoundingBox;v.x=bmMin(_.left,v.x),v.xMax=bmMax(_.right,v.xMax),v.y=bmMin(_.top,v.y),v.yMax=bmMax(_.bottom,v.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(c,d,f,s){for(var _,I,M,P,O,j,Q,v=[[c[0],s[0]],[c[1],s[1]]],R=0;R<2;++R)I=6*c[R]-12*d[R]+6*f[R],_=-3*c[R]+9*d[R]-9*f[R]+3*s[R],M=3*d[R]-3*c[R],I|=0,M|=0,0==(_|=0)&&0===I||(0===_?(P=-M/I)>0&&P<1&&v[R].push(this.calculateF(P,c,d,f,s,R)):(O=I*I-4*M*_)>=0&&((j=(-I+bmSqrt(O))/(2*_))>0&&j<1&&v[R].push(this.calculateF(j,c,d,f,s,R)),(Q=(-I-bmSqrt(O))/(2*_))>0&&Q<1&&v[R].push(this.calculateF(Q,c,d,f,s,R))));this.shapeBoundingBox.left=bmMin.apply(null,v[0]),this.shapeBoundingBox.top=bmMin.apply(null,v[1]),this.shapeBoundingBox.right=bmMax.apply(null,v[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,v[1])},HShapeElement.prototype.calculateF=function(c,d,f,s,v,_){return bmPow(1-c,3)*d[_]+3*bmPow(1-c,2)*c*f[_]+3*(1-c)*bmPow(c,2)*s[_]+bmPow(c,3)*v[_]},HShapeElement.prototype.calculateBoundingBox=function(c,d){var f,s=c.length;for(f=0;f<s;f+=1)c[f]&&c[f].sh?this.calculateShapeBoundingBox(c[f],d):c[f]&&c[f].it?this.calculateBoundingBox(c[f].it,d):c[f]&&c[f].style&&c[f].w&&this.expandStrokeBoundingBox(c[f].w,d)},HShapeElement.prototype.expandStrokeBoundingBox=function(c,d){var f=0;if(c.keyframes){for(var s=0;s<c.keyframes.length;s+=1){var v=c.keyframes[s].s;v>f&&(f=v)}f*=c.mult}else f=c.v*c.mult;d.x-=f,d.xMax+=f,d.y-=f,d.yMax+=f},HShapeElement.prototype.currentBoxContains=function(c){return this.currentBBox.x<=c.x&&this.currentBBox.y<=c.y&&this.currentBBox.width+this.currentBBox.x>=c.x+c.width&&this.currentBBox.height+this.currentBBox.y>=c.y+c.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var c=this.tempBoundingBox,d=999999;if(c.x=d,c.xMax=-d,c.y=d,c.yMax=-d,this.calculateBoundingBox(this.itemsData,c),c.width=c.xMax<c.x?0:c.xMax-c.x,c.height=c.yMax<c.y?0:c.yMax-c.y,this.currentBoxContains(c))return;var f=!1;if(this.currentBBox.w!==c.width&&(this.currentBBox.w=c.width,this.shapeCont.setAttribute("width",c.width),f=!0),this.currentBBox.h!==c.height&&(this.currentBBox.h=c.height,this.shapeCont.setAttribute("height",c.height),f=!0),f||this.currentBBox.x!==c.x||this.currentBBox.y!==c.y){this.currentBBox.w=c.width,this.currentBBox.h=c.height,this.currentBBox.x=c.x,this.currentBBox.y=c.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var s=this.shapeCont.style,v="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=v,s.webkitTransform=v}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var c=createNS("g");this.maskedElement.appendChild(c),this.innerElem=c}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var c=this.textProperty.currentData;this.renderedLetters=createSizedArray(c.l?c.l.length:0);var d=this.innerElem.style,f=c.fc?this.buildColor(c.fc):"rgba(0,0,0,0)";d.fill=f,d.color=f,c.sc&&(d.stroke=this.buildColor(c.sc),d.strokeWidth=c.sw+"px");var s=this.globalData.fontManager.getFontByName(c.f);if(!this.globalData.fontManager.chars)if(d.fontSize=c.finalSize+"px",d.lineHeight=c.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{d.fontFamily=s.fFamily;var v=c.fWeight;d.fontStyle=c.fStyle,d.fontWeight=v}var I,M,P=c.l;M=P.length;var O,j,Q,H,R=this.mHelper,U="",q=0;for(I=0;I<M;I+=1){if(this.globalData.fontManager.chars?(this.textPaths[q]?O=this.textPaths[q]:((O=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),O.setAttribute("stroke-linejoin",lineJoinEnum[2]),O.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[q]?Q=(j=this.textSpans[q]).children[0]:((j=createTag("div")).style.lineHeight=0,(Q=createNS("svg")).appendChild(O),styleDiv(j)))):this.isMasked?O=this.textPaths[q]?this.textPaths[q]:createNS("text"):this.textSpans[q]?(j=this.textSpans[q],O=this.textPaths[q]):(styleDiv(j=createTag("span")),styleDiv(O=createTag("span")),j.appendChild(O)),this.globalData.fontManager.chars){var z,ne=this.globalData.fontManager.getCharData(c.finalText[I],s.fStyle,this.globalData.fontManager.getFontByName(c.f).fFamily);if(z=ne?ne.data:null,R.reset(),z&&z.shapes&&z.shapes.length&&(H=z.shapes[0].it,R.scale(c.finalSize/100,c.finalSize/100),U=this.createPathShape(R,H),O.setAttribute("d",U)),this.isMasked)this.innerElem.appendChild(O);else{if(this.innerElem.appendChild(j),z&&z.shapes){document.body.appendChild(Q);var G=Q.getBBox();Q.setAttribute("width",G.width+2),Q.setAttribute("height",G.height+2),Q.setAttribute("viewBox",G.x-1+" "+(G.y-1)+" "+(G.width+2)+" "+(G.height+2));var V=Q.style,B="translate("+(G.x-1)+"px,"+(G.y-1)+"px)";V.transform=B,V.webkitTransform=B,P[I].yOffset=G.y-1}else Q.setAttribute("width",1),Q.setAttribute("height",1);j.appendChild(Q)}}else if(O.textContent=P[I].val,O.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(O);else{this.innerElem.appendChild(j);var ee=O.style,te="translate3d(0,"+-c.finalSize/1.2+"px,0)";ee.transform=te,ee.webkitTransform=te}this.textSpans[q]=this.isMasked?O:j,this.textSpans[q].style.display="block",this.textPaths[q]=O,q+=1}for(;q<this.textSpans.length;)this.textSpans[q].style.display="none",q+=1},HTextElement.prototype.renderInnerContent=function(){var c;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH);var d="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";(c=this.svgElement.style).transform=d,c.webkitTransform=d}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var f,s,M,P,O,v=0,_=this.textAnimator.renderedLetters,I=this.textProperty.currentData.l;for(s=I.length,f=0;f<s;f+=1)I[f].n?v+=1:(P=this.textSpans[f],O=this.textPaths[f],M=_[v],v+=1,M._mdf.m&&(this.isMasked?P.setAttribute("transform",M.m):(P.style.webkitTransform=M.m,P.style.transform=M.m)),P.style.opacity=M.o,M.sw&&M._mdf.sw&&O.setAttribute("stroke-width",M.sw),M.sc&&M._mdf.sc&&O.setAttribute("stroke",M.sc),M.fc&&M._mdf.fc&&(O.setAttribute("fill",M.fc),O.style.color=M.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var j=this.innerElem.getBBox();if(this.currentBBox.w!==j.width&&(this.currentBBox.w=j.width,this.svgElement.setAttribute("width",j.width)),this.currentBBox.h!==j.height&&(this.currentBBox.h=j.height,this.svgElement.setAttribute("height",j.height)),this.currentBBox.w!==j.width+2||this.currentBBox.h!==j.height+2||this.currentBBox.x!==j.x-1||this.currentBBox.y!==j.y-1){this.currentBBox.w=j.width+2,this.currentBBox.h=j.height+2,this.currentBBox.x=j.x-1,this.currentBBox.y=j.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var R="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";(c=this.svgElement.style).transform=R,c.webkitTransform=R}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var c,f,s,v,d=this.comp.threeDElements.length;for(c=0;c<d;c+=1)if("3d"===(f=this.comp.threeDElements[c]).type){v=f.container.style;var _=this.pe.v+"px",I="0px 0px 0px",M="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(s=f.perspectiveElem.style).perspective=_,s.webkitPerspective=_,v.transformOrigin=I,v.mozTransformOrigin=I,v.webkitTransformOrigin=I,s.transform=M,s.webkitTransform=M}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var d,f,c=this._isFirstFrame;if(this.hierarchy)for(f=this.hierarchy.length,d=0;d<f;d+=1)c=this.hierarchy[d].finalTransform.mProp._mdf||c;if(c||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(d=f=this.hierarchy.length-1;d>=0;d-=1){var s=this.hierarchy[d].finalTransform.mProp;this.mat.translate(-s.p.v[0],-s.p.v[1],s.p.v[2]),this.mat.rotateX(-s.or.v[0]).rotateY(-s.or.v[1]).rotateZ(s.or.v[2]),this.mat.rotateX(-s.rx.v).rotateY(-s.ry.v).rotateZ(s.rz.v),this.mat.scale(1/s.s.v[0],1/s.s.v[1],1/s.s.v[2]),this.mat.translate(s.a.v[0],s.a.v[1],s.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var v;v=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var _=Math.sqrt(Math.pow(v[0],2)+Math.pow(v[1],2)+Math.pow(v[2],2)),I=[v[0]/_,v[1]/_,v[2]/_],M=Math.sqrt(I[2]*I[2]+I[0]*I[0]),P=Math.atan2(I[1],M),O=Math.atan2(I[0],-I[2]);this.mat.rotateY(O).rotateX(-P)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var j=!this._prevMat.equals(this.mat);if((j||this.pe._mdf)&&this.comp.threeDElements){var Q,R,H;for(f=this.comp.threeDElements.length,d=0;d<f;d+=1)if("3d"===(Q=this.comp.threeDElements[d]).type){if(j){var U=this.mat.toCSS();(H=Q.container.style).transform=U,H.webkitTransform=U}this.pe._mdf&&((R=Q.perspectiveElem.style).perspective=this.pe.v+"px",R.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(c){this.prepareProperties(c,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var c=this.globalData.getAssetsPath(this.assetData),d=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",c),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(d),d.crossOrigin="anonymous",d.src=c,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(c,d){var f=c.getBaseElement();if(f){var s=this.layers[d];if(s.ddd&&this.supports3d)this.addTo3dContainer(f,d);else if(this.threeDElements)this.addTo3dContainer(f,d);else{for(var _,I,v=0;v<d;)this.elements[v]&&!0!==this.elements[v]&&this.elements[v].getBaseElement&&(I=this.elements[v],_=(this.layers[v].ddd?this.getThreeDContainerByPos(v):I.getBaseElement())||_),v+=1;_?(!s.ddd||!this.supports3d)&&this.layerElement.insertBefore(f,_):(!s.ddd||!this.supports3d)&&this.layerElement.appendChild(f)}}},HybridRendererBase.prototype.createShape=function(c){return this.supports3d?new HShapeElement(c,this.globalData,this):new SVGShapeElement(c,this.globalData,this)},HybridRendererBase.prototype.createText=function(c){return this.supports3d?new HTextElement(c,this.globalData,this):new SVGTextLottieElement(c,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(c){return this.camera=new HCameraElement(c,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(c){return this.supports3d?new HImageElement(c,this.globalData,this):new IImageElement(c,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(c){return this.supports3d?new HSolidElement(c,this.globalData,this):new ISolidElement(c,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(c){for(var d=0,f=this.threeDElements.length;d<f;){if(this.threeDElements[d].startPos<=c&&this.threeDElements[d].endPos>=c)return this.threeDElements[d].perspectiveElem;d+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(c,d){var s,v,f=createTag("div");styleDiv(f);var _=createTag("div");if(styleDiv(_),"3d"===d){(s=f.style).width=this.globalData.compSize.w+"px",s.height=this.globalData.compSize.h+"px";var I="50% 50%";s.webkitTransformOrigin=I,s.mozTransformOrigin=I,s.transformOrigin=I;var M="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(v=_.style).transform=M,v.webkitTransform=M}f.appendChild(_);var P={container:_,perspectiveElem:f,startPos:c,endPos:c,type:d};return this.threeDElements.push(P),P},HybridRendererBase.prototype.build3dContainers=function(){var c,f,d=this.layers.length,s="";for(c=0;c<d;c+=1)this.layers[c].ddd&&3!==this.layers[c].ty?("3d"!==s&&(s="3d",f=this.createThreeDContainer(c,"3d")),f.endPos=Math.max(f.endPos,c)):("2d"!==s&&(s="2d",f=this.createThreeDContainer(c,"2d")),f.endPos=Math.max(f.endPos,c));for(c=(d=this.threeDElements.length)-1;c>=0;c-=1)this.resizerElem.appendChild(this.threeDElements[c].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(c,d){for(var f=0,s=this.threeDElements.length;f<s;){if(d<=this.threeDElements[f].endPos){for(var _,v=this.threeDElements[f].startPos;v<d;)this.elements[v]&&this.elements[v].getBaseElement&&(_=this.elements[v].getBaseElement()),v+=1;_?this.threeDElements[f].container.insertBefore(c,_):this.threeDElements[f].container.appendChild(c);break}f+=1}},HybridRendererBase.prototype.configAnimation=function(c){var d=createTag("div"),f=this.animationItem.wrapper,s=d.style;s.width=c.w+"px",s.height=c.h+"px",this.resizerElem=d,styleDiv(d),s.transformStyle="flat",s.mozTransformStyle="flat",s.webkitTransformStyle="flat",this.renderConfig.className&&d.setAttribute("class",this.renderConfig.className),f.appendChild(d),s.overflow="hidden";var v=createNS("svg");v.setAttribute("width","1"),v.setAttribute("height","1"),styleDiv(v),this.resizerElem.appendChild(v);var _=createNS("defs");v.appendChild(_),this.data=c,this.setupGlobalData(c,v),this.globalData.defs=_,this.layers=c.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var c,d=this.layers?this.layers.length:0;for(c=0;c<d;c+=1)this.elements[c]&&this.elements[c].destroy&&this.elements[c].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var v,_,I,M,c=this.animationItem.wrapper.offsetWidth,d=this.animationItem.wrapper.offsetHeight;this.globalData.compSize.w/this.globalData.compSize.h>c/d?(v=c/this.globalData.compSize.w,_=c/this.globalData.compSize.w,I=0,M=(d-this.globalData.compSize.h*(c/this.globalData.compSize.w))/2):(v=d/this.globalData.compSize.h,_=d/this.globalData.compSize.h,I=(c-this.globalData.compSize.w*(d/this.globalData.compSize.h))/2,M=0);var P=this.resizerElem.style;P.webkitTransform="matrix3d("+v+",0,0,0,0,"+_+",0,0,0,0,1,0,"+I+","+M+",0,1)",P.transform=P.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var f,c=this.globalData.compSize.w,d=this.globalData.compSize.h,s=this.threeDElements.length;for(f=0;f<s;f+=1){var v=this.threeDElements[f].perspectiveElem.style;v.webkitPerspective=Math.sqrt(Math.pow(c,2)+Math.pow(d,2))+"px",v.perspective=v.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(c){var d,f=c.length,s=createTag("div");for(d=0;d<f;d+=1)if(c[d].xt){var v=this.createComp(c[d],s,this.globalData.comp,null);v.initExpressions(),this.globalData.projectInterface.registerComposition(v)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(c,d){for(var s,f=0;f<d;)this.elements[f]&&this.elements[f].getBaseElement&&(s=this.elements[f].getBaseElement()),f+=1;s?this.layerElement.insertBefore(c,s):this.layerElement.appendChild(c)},HCompElement.prototype.createComp=function(c){return this.supports3d?new HCompElement(c,this.globalData,this):new SVGCompElement(c,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(c){return this.supports3d?new HCompElement(c,this.globalData,this):new SVGCompElement(c,this.globalData,this)};var CompExpressionInterface=function(c){function d(f){for(var s=0,v=c.layers.length;s<v;){if(c.layers[s].nm===f||c.layers[s].ind===f)return c.elements[s].layerInterface;s+=1}return null}return Object.defineProperty(d,"_name",{value:c.data.nm}),d.layer=d,d.pixelAspect=1,d.height=c.data.h||c.globalData.compSize.h,d.width=c.data.w||c.globalData.compSize.w,d.pixelAspect=1,d.frameDuration=1/c.globalData.frameRate,d.displayStartTime=0,d.numLayers=c.layers.length,d},Expressions=function(){var c={initExpressions:function d(f){var s=0,v=[];f.renderer.compInterface=CompExpressionInterface(f.renderer),f.renderer.globalData.projectInterface.registerComposition(f.renderer),f.renderer.globalData.pushExpression=function _(){s+=1},f.renderer.globalData.popExpression=function I(){0==(s-=1)&&function P(){var O,j=v.length;for(O=0;O<j;O+=1)v[O].release();v.length=0}()},f.renderer.globalData.registerExpressionProperty=function M(O){-1===v.indexOf(O)&&v.push(O)}}};return c}(),MaskManagerInterface=function(){function c(f,s){this._mask=f,this._data=s}return Object.defineProperty(c.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(c.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(s){var _,v=createSizedArray(s.viewData.length),I=s.viewData.length;for(_=0;_<I;_+=1)v[_]=new c(s.viewData[_],s.masksProperties[_]);return function(O){for(_=0;_<I;){if(s.masksProperties[_].nm===O)return v[_];_+=1}return null}}}(),ExpressionPropertyInterface=function(){var c={pv:0,v:0,mult:1},d={pv:[0,0,0],v:[0,0,0],mult:1};function f(I,M,P){Object.defineProperty(I,"velocity",{get:function(){return M.getVelocityAtTime(M.comp.currentFrame)}}),I.numKeys=M.keyframes?M.keyframes.length:0,I.key=function(O){if(!I.numKeys)return 0;var j;j="s"in M.keyframes[O-1]?M.keyframes[O-1].s:"e"in M.keyframes[O-2]?M.keyframes[O-2].e:M.keyframes[O-2].s;var Q="unidimensional"===P?new Number(j):Object.assign({},j);return Q.time=M.keyframes[O-1].t/M.elem.comp.globalData.frameRate,Q.value="unidimensional"===P?j[0]:j,Q},I.valueAtTime=M.getValueAtTime,I.speedAtTime=M.getSpeedAtTime,I.velocityAtTime=M.getVelocityAtTime,I.propertyGroup=M.propertyGroup}function _(){return c}return function(I){return I?"unidimensional"===I.propType?function s(I){(!I||!("pv"in I))&&(I=c);var M=1/I.mult,P=I.pv*M,O=new Number(P);return O.value=P,f(O,I,"unidimensional"),function(){return I.k&&I.getValue(),O.value!==(P=I.v*M)&&((O=new Number(P)).value=P,f(O,I,"unidimensional")),O}}(I):function v(I){(!I||!("pv"in I))&&(I=d);var M=1/I.mult,P=I.data&&I.data.l||I.pv.length,O=createTypedArray("float32",P),j=createTypedArray("float32",P);return O.value=j,f(O,I,"multidimensional"),function(){I.k&&I.getValue();for(var Q=0;Q<P;Q+=1)j[Q]=I.v[Q]*M,O[Q]=j[Q];return O}}(I):_}}(),TransformExpressionInterface=function(c){function d(I){switch(I){case"scale":case"Scale":case"ADBE Scale":case 6:return d.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return d.rotation;case"ADBE Rotate X":return d.xRotation;case"ADBE Rotate Y":return d.yRotation;case"position":case"Position":case"ADBE Position":case 2:return d.position;case"ADBE Position_0":return d.xPosition;case"ADBE Position_1":return d.yPosition;case"ADBE Position_2":return d.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return d.anchorPoint;case"opacity":case"Opacity":case 11:return d.opacity;default:return null}}var f,s,v,_;return Object.defineProperty(d,"rotation",{get:ExpressionPropertyInterface(c.r||c.rz)}),Object.defineProperty(d,"zRotation",{get:ExpressionPropertyInterface(c.rz||c.r)}),Object.defineProperty(d,"xRotation",{get:ExpressionPropertyInterface(c.rx)}),Object.defineProperty(d,"yRotation",{get:ExpressionPropertyInterface(c.ry)}),Object.defineProperty(d,"scale",{get:ExpressionPropertyInterface(c.s)}),c.p?_=ExpressionPropertyInterface(c.p):(f=ExpressionPropertyInterface(c.px),s=ExpressionPropertyInterface(c.py),c.pz&&(v=ExpressionPropertyInterface(c.pz))),Object.defineProperty(d,"position",{get:function(){return c.p?_():[f(),s(),v?v():0]}}),Object.defineProperty(d,"xPosition",{get:ExpressionPropertyInterface(c.px)}),Object.defineProperty(d,"yPosition",{get:ExpressionPropertyInterface(c.py)}),Object.defineProperty(d,"zPosition",{get:ExpressionPropertyInterface(c.pz)}),Object.defineProperty(d,"anchorPoint",{get:ExpressionPropertyInterface(c.a)}),Object.defineProperty(d,"opacity",{get:ExpressionPropertyInterface(c.o)}),Object.defineProperty(d,"skew",{get:ExpressionPropertyInterface(c.sk)}),Object.defineProperty(d,"skewAxis",{get:ExpressionPropertyInterface(c.sa)}),Object.defineProperty(d,"orientation",{get:ExpressionPropertyInterface(c.or)}),d},LayerExpressionInterface=function(){function c(O){var j=new Matrix;return void 0!==O?this._elem.finalTransform.mProp.getValueAtTime(O).clone(j):this._elem.finalTransform.mProp.applyToMatrix(j),j}function d(O,j){var Q=this.getMatrix(j);return Q.props[12]=0,Q.props[13]=0,Q.props[14]=0,this.applyPoint(Q,O)}function f(O,j){var Q=this.getMatrix(j);return this.applyPoint(Q,O)}function s(O,j){var Q=this.getMatrix(j);return Q.props[12]=0,Q.props[13]=0,Q.props[14]=0,this.invertPoint(Q,O)}function v(O,j){var Q=this.getMatrix(j);return this.invertPoint(Q,O)}function _(O,j){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Q,R=this._elem.hierarchy.length;for(Q=0;Q<R;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(O)}return O.applyToPointArray(j[0],j[1],j[2]||0)}function I(O,j){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Q,R=this._elem.hierarchy.length;for(Q=0;Q<R;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(O)}return O.inversePoint(j)}function M(O){var j=new Matrix;if(j.reset(),this._elem.finalTransform.mProp.applyToMatrix(j),this._elem.hierarchy&&this._elem.hierarchy.length){var Q,R=this._elem.hierarchy.length;for(Q=0;Q<R;Q+=1)this._elem.hierarchy[Q].finalTransform.mProp.applyToMatrix(j);return j.inversePoint(O)}return j.inversePoint(O)}function P(){return[1,1,1,1]}return function(O){var j;function H(q){switch(q){case"ADBE Root Vectors Group":case"Contents":case 2:return H.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return j;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return H.effect;case"ADBE Text Properties":return H.textInterface;default:return null}}H.getMatrix=c,H.invertPoint=I,H.applyPoint=_,H.toWorld=f,H.toWorldVec=d,H.fromWorld=v,H.fromWorldVec=s,H.toComp=f,H.fromComp=M,H.sampleImage=P,H.sourceRectAtTime=O.sourceRectAtTime.bind(O),H._elem=O;var U=getDescriptor(j=TransformExpressionInterface(O.finalTransform.mProp),"anchorPoint");return Object.defineProperties(H,{hasParent:{get:function(){return O.hierarchy.length}},parent:{get:function(){return O.hierarchy[0].layerInterface}},rotation:getDescriptor(j,"rotation"),scale:getDescriptor(j,"scale"),position:getDescriptor(j,"position"),opacity:getDescriptor(j,"opacity"),anchorPoint:U,anchor_point:U,transform:{get:function(){return j}},active:{get:function(){return O.isInRange}}}),H.startTime=O.data.st,H.index=O.data.ind,H.source=O.data.refId,H.height=0===O.data.ty?O.data.h:100,H.width=0===O.data.ty?O.data.w:100,H.inPoint=O.data.ip/O.comp.globalData.frameRate,H.outPoint=O.data.op/O.comp.globalData.frameRate,H._name=O.data.nm,H.registerMaskInterface=function Q(q){H.mask=new MaskManagerInterface(q,O)},H.registerEffectsInterface=function R(q){H.effect=q},H}}(),propertyGroupFactory=function(c,d){return function(f){return(f=void 0===f?1:f)<=0?c:d(f-1)}},PropertyInterface=function(c,d){var f={_name:c};return function s(v){return(v=void 0===v?1:v)<=0?f:d(v-1)}},EffectsExpressionInterface=function(){function f(v,_,I,M){function P(H){for(var U=v.ef,q=0,ne=U.length;q<ne;){if(H===U[q].nm||H===U[q].mn||H===U[q].ix)return 5===U[q].ty?j[q]:j[q]();q+=1}throw new Error}var Q,O=propertyGroupFactory(P,I),j=[],R=v.ef.length;for(Q=0;Q<R;Q+=1)j.push(5===v.ef[Q].ty?f(v.ef[Q],_.effectElements[Q],_.effectElements[Q].propertyGroup,M):s(_.effectElements[Q],v.ef[Q].ty,M,O));return"ADBE Color Control"===v.mn&&Object.defineProperty(P,"color",{get:function(){return j[0]()}}),Object.defineProperties(P,{numProperties:{get:function(){return v.np}},_name:{value:v.nm},propertyGroup:{value:O}}),P.active=P.enabled=0!==v.en,P}function s(v,_,I,M){var P=ExpressionPropertyInterface(v.p);return v.p.setGroupProperty&&v.p.setGroupProperty(PropertyInterface("",M)),function O(){return 10===_?I.comp.compInterface(v.p.v):P()}}return{createEffectsInterface:function d(v,_){if(v.effectsManager){var P,I=[],M=v.data.ef,O=v.effectsManager.effectElements.length;for(P=0;P<O;P+=1)I.push(f(M[P],v.effectsManager.effectElements[P],_,v));var j=v.data.ef||[],Q=function(H){for(P=0,O=j.length;P<O;){if(H===j[P].nm||H===j[P].mn||H===j[P].ix)return I[P];P+=1}return null};return Object.defineProperty(Q,"numProperties",{get:function(){return j.length}}),Q}return null}}}(),ShapePathInterface=function(d,f,s){var v=f.sh;function _(M){return"Shape"===M||"shape"===M||"Path"===M||"path"===M||"ADBE Vector Shape"===M||2===M?_.path:null}var I=propertyGroupFactory(_,s);return v.setGroupProperty(PropertyInterface("Path",I)),Object.defineProperties(_,{path:{get:function(){return v.k&&v.getValue(),v}},shape:{get:function(){return v.k&&v.getValue(),v}},_name:{value:d.nm},ix:{value:d.ix},propertyIndex:{value:d.ix},mn:{value:d.mn},propertyGroup:{value:s}}),_},ShapeExpressionInterface=function(){function c(U,q,ne){var G,z=[],V=U?U.length:0;for(G=0;G<V;G+=1)"gr"===U[G].ty?z.push(f(U[G],q[G],ne)):"fl"===U[G].ty?z.push(s(U[G],q[G],ne)):"st"===U[G].ty?z.push(I(U[G],q[G],ne)):"tm"===U[G].ty?z.push(M(U[G],q[G],ne)):"tr"===U[G].ty||z.push("el"===U[G].ty?O(U[G],q[G],ne):"sr"===U[G].ty?j(U[G],q[G],ne):"sh"===U[G].ty?ShapePathInterface(U[G],q[G],ne):"rc"===U[G].ty?Q(U[G],q[G],ne):"rd"===U[G].ty?R(U[G],q[G],ne):"rp"===U[G].ty?H(U[G],q[G],ne):"gf"===U[G].ty?v(U[G],q[G],ne):function U(){return null});return z}function f(U,q,ne){var z=function(ee){switch(ee){case"ADBE Vectors Group":case"Contents":case 2:return z.content;default:return z.transform}};z.propertyGroup=propertyGroupFactory(z,ne);var G=function d(U,q,ne){var z,G=function(ee){for(var te=0,re=z.length;te<re;){if(z[te]._name===ee||z[te].mn===ee||z[te].propertyIndex===ee||z[te].ix===ee||z[te].ind===ee)return z[te];te+=1}return"number"==typeof ee?z[ee-1]:null};G.propertyGroup=propertyGroupFactory(G,ne),z=c(U.it,q.it,G.propertyGroup),G.numProperties=z.length;var V=P(U.it[U.it.length-1],q.it[q.it.length-1],G.propertyGroup);return G.transform=V,G.propertyIndex=U.cix,G._name=U.nm,G}(U,q,z.propertyGroup),V=P(U.it[U.it.length-1],q.it[q.it.length-1],z.propertyGroup);return z.content=G,z.transform=V,Object.defineProperty(z,"_name",{get:function(){return U.nm}}),z.numProperties=U.np,z.propertyIndex=U.ix,z.nm=U.nm,z.mn=U.mn,z}function s(U,q,ne){function z(G){return"Color"===G||"color"===G?z.color:"Opacity"===G||"opacity"===G?z.opacity:null}return Object.defineProperties(z,{color:{get:ExpressionPropertyInterface(q.c)},opacity:{get:ExpressionPropertyInterface(q.o)},_name:{value:U.nm},mn:{value:U.mn}}),q.c.setGroupProperty(PropertyInterface("Color",ne)),q.o.setGroupProperty(PropertyInterface("Opacity",ne)),z}function v(U,q,ne){function z(G){return"Start Point"===G||"start point"===G?z.startPoint:"End Point"===G||"end point"===G?z.endPoint:"Opacity"===G||"opacity"===G?z.opacity:null}return Object.defineProperties(z,{startPoint:{get:ExpressionPropertyInterface(q.s)},endPoint:{get:ExpressionPropertyInterface(q.e)},opacity:{get:ExpressionPropertyInterface(q.o)},type:{get:function(){return"a"}},_name:{value:U.nm},mn:{value:U.mn}}),q.s.setGroupProperty(PropertyInterface("Start Point",ne)),q.e.setGroupProperty(PropertyInterface("End Point",ne)),q.o.setGroupProperty(PropertyInterface("Opacity",ne)),z}function I(U,q,ne){var B,ae,z=propertyGroupFactory(re,ne),G=propertyGroupFactory(te,z),ee=U.d?U.d.length:0,te={};for(B=0;B<ee;B+=1)ae=B,Object.defineProperty(te,U.d[ae].nm,{get:ExpressionPropertyInterface(q.d.dataProps[ae].p)}),q.d.dataProps[B].p.setGroupProperty(G);function re(ae){return"Color"===ae||"color"===ae?re.color:"Opacity"===ae||"opacity"===ae?re.opacity:"Stroke Width"===ae||"stroke width"===ae?re.strokeWidth:null}return Object.defineProperties(re,{color:{get:ExpressionPropertyInterface(q.c)},opacity:{get:ExpressionPropertyInterface(q.o)},strokeWidth:{get:ExpressionPropertyInterface(q.w)},dash:{get:function(){return te}},_name:{value:U.nm},mn:{value:U.mn}}),q.c.setGroupProperty(PropertyInterface("Color",z)),q.o.setGroupProperty(PropertyInterface("Opacity",z)),q.w.setGroupProperty(PropertyInterface("Stroke Width",z)),re}function M(U,q,ne){function z(V){return V===U.e.ix||"End"===V||"end"===V?z.end:V===U.s.ix?z.start:V===U.o.ix?z.offset:null}var G=propertyGroupFactory(z,ne);return z.propertyIndex=U.ix,q.s.setGroupProperty(PropertyInterface("Start",G)),q.e.setGroupProperty(PropertyInterface("End",G)),q.o.setGroupProperty(PropertyInterface("Offset",G)),z.propertyIndex=U.ix,z.propertyGroup=ne,Object.defineProperties(z,{start:{get:ExpressionPropertyInterface(q.s)},end:{get:ExpressionPropertyInterface(q.e)},offset:{get:ExpressionPropertyInterface(q.o)},_name:{value:U.nm}}),z.mn=U.mn,z}function P(U,q,ne){function z(V){return U.a.ix===V||"Anchor Point"===V?z.anchorPoint:U.o.ix===V||"Opacity"===V?z.opacity:U.p.ix===V||"Position"===V?z.position:U.r.ix===V||"Rotation"===V||"ADBE Vector Rotation"===V?z.rotation:U.s.ix===V||"Scale"===V?z.scale:U.sk&&U.sk.ix===V||"Skew"===V?z.skew:U.sa&&U.sa.ix===V||"Skew Axis"===V?z.skewAxis:null}var G=propertyGroupFactory(z,ne);return q.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",G)),q.transform.mProps.p.setGroupProperty(PropertyInterface("Position",G)),q.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",G)),q.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",G)),q.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",G)),q.transform.mProps.sk&&(q.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",G)),q.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",G))),q.transform.op.setGroupProperty(PropertyInterface("Opacity",G)),Object.defineProperties(z,{opacity:{get:ExpressionPropertyInterface(q.transform.mProps.o)},position:{get:ExpressionPropertyInterface(q.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(q.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(q.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(q.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(q.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(q.transform.mProps.sa)},_name:{value:U.nm}}),z.ty="tr",z.mn=U.mn,z.propertyGroup=ne,z}function O(U,q,ne){function z(B){return U.p.ix===B?z.position:U.s.ix===B?z.size:null}var G=propertyGroupFactory(z,ne);z.propertyIndex=U.ix;var V="tm"===q.sh.ty?q.sh.prop:q.sh;return V.s.setGroupProperty(PropertyInterface("Size",G)),V.p.setGroupProperty(PropertyInterface("Position",G)),Object.defineProperties(z,{size:{get:ExpressionPropertyInterface(V.s)},position:{get:ExpressionPropertyInterface(V.p)},_name:{value:U.nm}}),z.mn=U.mn,z}function j(U,q,ne){function z(B){return U.p.ix===B?z.position:U.r.ix===B?z.rotation:U.pt.ix===B?z.points:U.or.ix===B||"ADBE Vector Star Outer Radius"===B?z.outerRadius:U.os.ix===B?z.outerRoundness:!U.ir||U.ir.ix!==B&&"ADBE Vector Star Inner Radius"!==B?U.is&&U.is.ix===B?z.innerRoundness:null:z.innerRadius}var G=propertyGroupFactory(z,ne),V="tm"===q.sh.ty?q.sh.prop:q.sh;return z.propertyIndex=U.ix,V.or.setGroupProperty(PropertyInterface("Outer Radius",G)),V.os.setGroupProperty(PropertyInterface("Outer Roundness",G)),V.pt.setGroupProperty(PropertyInterface("Points",G)),V.p.setGroupProperty(PropertyInterface("Position",G)),V.r.setGroupProperty(PropertyInterface("Rotation",G)),U.ir&&(V.ir.setGroupProperty(PropertyInterface("Inner Radius",G)),V.is.setGroupProperty(PropertyInterface("Inner Roundness",G))),Object.defineProperties(z,{position:{get:ExpressionPropertyInterface(V.p)},rotation:{get:ExpressionPropertyInterface(V.r)},points:{get:ExpressionPropertyInterface(V.pt)},outerRadius:{get:ExpressionPropertyInterface(V.or)},outerRoundness:{get:ExpressionPropertyInterface(V.os)},innerRadius:{get:ExpressionPropertyInterface(V.ir)},innerRoundness:{get:ExpressionPropertyInterface(V.is)},_name:{value:U.nm}}),z.mn=U.mn,z}function Q(U,q,ne){function z(B){return U.p.ix===B?z.position:U.r.ix===B?z.roundness:U.s.ix===B||"Size"===B||"ADBE Vector Rect Size"===B?z.size:null}var G=propertyGroupFactory(z,ne),V="tm"===q.sh.ty?q.sh.prop:q.sh;return z.propertyIndex=U.ix,V.p.setGroupProperty(PropertyInterface("Position",G)),V.s.setGroupProperty(PropertyInterface("Size",G)),V.r.setGroupProperty(PropertyInterface("Rotation",G)),Object.defineProperties(z,{position:{get:ExpressionPropertyInterface(V.p)},roundness:{get:ExpressionPropertyInterface(V.r)},size:{get:ExpressionPropertyInterface(V.s)},_name:{value:U.nm}}),z.mn=U.mn,z}function R(U,q,ne){function z(B){return U.r.ix===B||"Round Corners 1"===B?z.radius:null}var G=propertyGroupFactory(z,ne),V=q;return z.propertyIndex=U.ix,V.rd.setGroupProperty(PropertyInterface("Radius",G)),Object.defineProperties(z,{radius:{get:ExpressionPropertyInterface(V.rd)},_name:{value:U.nm}}),z.mn=U.mn,z}function H(U,q,ne){function z(B){return U.c.ix===B||"Copies"===B?z.copies:U.o.ix===B||"Offset"===B?z.offset:null}var G=propertyGroupFactory(z,ne),V=q;return z.propertyIndex=U.ix,V.c.setGroupProperty(PropertyInterface("Copies",G)),V.o.setGroupProperty(PropertyInterface("Offset",G)),Object.defineProperties(z,{copies:{get:ExpressionPropertyInterface(V.c)},offset:{get:ExpressionPropertyInterface(V.o)},_name:{value:U.nm}}),z.mn=U.mn,z}return function(U,q,ne){var z;function G(B){if("number"==typeof B)return 0===(B=void 0===B?1:B)?ne:z[B-1];for(var ee=0,te=z.length;ee<te;){if(z[ee]._name===B)return z[ee];ee+=1}return null}return G.propertyGroup=propertyGroupFactory(G,function V(){return ne}),z=c(U,q,G.propertyGroup),G.numProperties=z.length,G._name="Contents",G}}(),TextExpressionInterface=function(c){var d;function f(s){return"ADBE Text Document"===s?f.sourceText:null}return Object.defineProperty(f,"sourceText",{get:function(){c.textProperty.getValue();var v=c.textProperty.currentData.t;return(!d||v!==d.value)&&((d=new String(v)).value=v||new String(v),Object.defineProperty(d,"style",{get:function(){return{fillColor:c.textProperty.currentData.fc}}})),d}}),f};function _typeof$2(c){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var FootageInterface=(d=function(s){function v(_){return"Outline"===_?v.outlineInterface():null}return v._name="Outline",v.outlineInterface=function(s){var v="",_=s.getFootageData();function M(P){if(_[P])return v=P,"object"===_typeof$2(_=_[P])?M:_;var O=P.indexOf(v);if(-1!==O){var j=parseInt(P.substr(O+v.length),10);return"object"===_typeof$2(_=_[j])?M:_}return""}return function I(){return v="",_=s.getFootageData(),M}}(s),v},function(f){function s(v){return"Data"===v?s.dataInterface:null}return s._name="Data",s.dataInterface=d(f),s}),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface},d;function getInterface(c){return interfaces[c]||null}function _typeof$1(c){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}function seedRandom(c,d){var f=this,s=256,I="random",M=d.pow(s,6),P=d.pow(2,52),O=2*P,j=255;function H(V){var B,ee=V.length,te=this,re=0,ae=te.i=te.j=0,de=te.S=[];for(ee||(V=[ee++]);re<s;)de[re]=re++;for(re=0;re<s;re++)de[re]=de[ae=j&ae+V[re%ee]+(B=de[re])],de[ae]=B;te.g=function(Re){for(var xe,Ie=0,ye=te.i,$e=te.j,Te=te.S;Re--;)xe=Te[ye=j&ye+1],Ie=Ie*s+Te[j&(Te[ye]=Te[$e=j&$e+xe])+(Te[$e]=xe)];return te.i=ye,te.j=$e,Ie}}function U(V,B){return B.i=V.i,B.j=V.j,B.S=V.S.slice(),B}function q(V,B){var re,ee=[],te=_typeof$1(V);if(B&&"object"==te)for(re in V)try{ee.push(q(V[re],B-1))}catch{}return ee.length?ee:"string"==te?V:V+"\0"}function ne(V,B){for(var te,ee=V+"",re=0;re<ee.length;)B[j&re]=j&(te^=19*B[j&re])+ee.charCodeAt(re++);return G(B)}function G(V){return String.fromCharCode.apply(0,V)}d["seed"+I]=function R(V,B,ee){var te=[],re=ne(q((B=!0===B?{entropy:!0}:B||{}).entropy?[V,G(c)]:null===V?function z(){try{var V=new Uint8Array(s);return(f.crypto||f.msCrypto).getRandomValues(V),G(V)}catch{var B=f.navigator,ee=B&&B.plugins;return[+new Date,f,ee,f.screen,G(c)]}}():V,3),te),ae=new H(te),de=function(){for(var xe=ae.g(6),Ie=M,ye=0;xe<P;)xe=(xe+ye)*s,Ie*=s,ye=ae.g(1);for(;xe>=O;)xe/=2,Ie/=2,ye>>>=1;return(xe+ye)/Ie};return de.int32=function(){return 0|ae.g(4)},de.quick=function(){return ae.g(4)/4294967296},de.double=de,ne(G(ae.S),c),(B.pass||ee||function(Re,xe,Ie,ye){return ye&&(ye.S&&U(ye,ae),Re.state=function(){return U(ae,{})}),Ie?(d[I]=Re,xe):Re})(de,re,"global"in B?B.global:this==d,B.state)},ne(d.random(),c)}function initialize$2(c){seedRandom([],c)}var propTypes={SHAPE:"shape"};function _typeof(c){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(c)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;function $bm_isInstanceOfArray(c){return c.constructor===Array||c.constructor===Float32Array}function isNumerable(c,d){return"number"===c||"boolean"===c||"string"===c||d instanceof Number}function $bm_neg(c){var d=_typeof(c);if("number"===d||"boolean"===d||c instanceof Number)return-c;if($bm_isInstanceOfArray(c)){var f,s=c.length,v=[];for(f=0;f<s;f+=1)v[f]=-c[f];return v}return c.propType?c.v:-c}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(c,d){var f=_typeof(c),s=_typeof(d);if("string"===f||"string"===s||isNumerable(f,c)&&isNumerable(s,d))return c+d;if($bm_isInstanceOfArray(c)&&isNumerable(s,d))return(c=c.slice(0))[0]+=d,c;if(isNumerable(f,c)&&$bm_isInstanceOfArray(d))return(d=d.slice(0))[0]=c+d[0],d;if($bm_isInstanceOfArray(c)&&$bm_isInstanceOfArray(d)){for(var v=0,_=c.length,I=d.length,M=[];v<_||v<I;)M[v]=("number"==typeof c[v]||c[v]instanceof Number)&&("number"==typeof d[v]||d[v]instanceof Number)?c[v]+d[v]:void 0===d[v]?c[v]:c[v]||d[v],v+=1;return M}return 0}var add=sum;function sub(c,d){var f=_typeof(c),s=_typeof(d);if(isNumerable(f,c)&&isNumerable(s,d))return"string"===f&&(c=parseInt(c,10)),"string"===s&&(d=parseInt(d,10)),c-d;if($bm_isInstanceOfArray(c)&&isNumerable(s,d))return(c=c.slice(0))[0]-=d,c;if(isNumerable(f,c)&&$bm_isInstanceOfArray(d))return(d=d.slice(0))[0]=c-d[0],d;if($bm_isInstanceOfArray(c)&&$bm_isInstanceOfArray(d)){for(var v=0,_=c.length,I=d.length,M=[];v<_||v<I;)M[v]=("number"==typeof c[v]||c[v]instanceof Number)&&("number"==typeof d[v]||d[v]instanceof Number)?c[v]-d[v]:void 0===d[v]?c[v]:c[v]||d[v],v+=1;return M}return 0}function mul(c,d){var v,_,I,f=_typeof(c),s=_typeof(d);if(isNumerable(f,c)&&isNumerable(s,d))return c*d;if($bm_isInstanceOfArray(c)&&isNumerable(s,d)){for(v=createTypedArray("float32",I=c.length),_=0;_<I;_+=1)v[_]=c[_]*d;return v}if(isNumerable(f,c)&&$bm_isInstanceOfArray(d)){for(v=createTypedArray("float32",I=d.length),_=0;_<I;_+=1)v[_]=c*d[_];return v}return 0}function div(c,d){var v,_,I,f=_typeof(c),s=_typeof(d);if(isNumerable(f,c)&&isNumerable(s,d))return c/d;if($bm_isInstanceOfArray(c)&&isNumerable(s,d)){for(v=createTypedArray("float32",I=c.length),_=0;_<I;_+=1)v[_]=c[_]/d;return v}if(isNumerable(f,c)&&$bm_isInstanceOfArray(d)){for(v=createTypedArray("float32",I=d.length),_=0;_<I;_+=1)v[_]=c/d[_];return v}return 0}function mod(c,d){return"string"==typeof c&&(c=parseInt(c,10)),"string"==typeof d&&(d=parseInt(d,10)),c%d}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(c,d,f){if(d>f){var s=f;f=d,d=s}return Math.min(Math.max(c,d),f)}function radiansToDegrees(c){return c/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(c){return c*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(c,d){if("number"==typeof c||c instanceof Number)return Math.abs(c-(d=d||0));d||(d=helperLengthArray);var f,s=Math.min(c.length,d.length),v=0;for(f=0;f<s;f+=1)v+=Math.pow(d[f]-c[f],2);return Math.sqrt(v)}function normalize(c){return div(c,length(c))}function rgbToHsl(c){var I,M,d=c[0],f=c[1],s=c[2],v=Math.max(d,f,s),_=Math.min(d,f,s),P=(v+_)/2;if(v===_)I=0,M=0;else{var O=v-_;switch(M=P>.5?O/(2-v-_):O/(v+_),v){case d:I=(f-s)/O+(f<s?6:0);break;case f:I=(s-d)/O+2;break;case s:I=(d-f)/O+4}I/=6}return[I,M,P,c[3]]}function hue2rgb(c,d,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?c+6*(d-c)*f:f<.5?d:f<2/3?c+(d-c)*(2/3-f)*6:c}function hslToRgb(c){var v,_,I,d=c[0],f=c[1],s=c[2];if(0===f)v=s,I=s,_=s;else{var M=s<.5?s*(1+f):s+f-s*f,P=2*s-M;v=hue2rgb(P,M,d+1/3),_=hue2rgb(P,M,d),I=hue2rgb(P,M,d-1/3)}return[v,_,I,c[3]]}function linear(c,d,f,s,v){if((void 0===s||void 0===v)&&(s=d,v=f,d=0,f=1),f<d){var _=f;f=d,d=_}if(c<=d)return s;if(c>=f)return v;var I=f===d?0:(c-d)/(f-d);if(!s.length)return s+(v-s)*I;var M,P=s.length,O=createTypedArray("float32",P);for(M=0;M<P;M+=1)O[M]=s[M]+(v[M]-s[M])*I;return O}function random(c,d){if(void 0===d&&(void 0===c?(c=0,d=1):(d=c,c=void 0)),d.length){var f,s=d.length;c||(c=createTypedArray("float32",s));var v=createTypedArray("float32",s),_=BMMath.random();for(f=0;f<s;f+=1)v[f]=c[f]+_*(d[f]-c[f]);return v}return void 0===c&&(c=0),c+BMMath.random()*(d-c)}function createPath(c,d,f,s){var v,_=c.length,I=shapePool.newElement();I.setPathData(!!s,_);var P,O,M=[0,0];for(v=0;v<_;v+=1)I.setTripleAt(c[v][0],c[v][1],(O=f&&f[v]?f[v]:M)[0]+c[v][0],O[1]+c[v][1],(P=d&&d[v]?d[v]:M)[0]+c[v][0],P[1]+c[v][1],v,!0);return I}function initiateExpression(elem,data,property){function noOp(c){return c}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function c(d,f){var s,v,_=this.pv.length?this.pv.length:1,I=createTypedArray("float32",_),M=Math.floor(5*time);for(s=0,v=0;s<M;){for(v=0;v<_;v+=1)I[v]+=-f+2*f*BMMath.random();s+=1}var P=5*time,O=P-Math.floor(P),j=createTypedArray("float32",_);if(_>1){for(v=0;v<_;v+=1)j[v]=this.pv[v]+I[v]+(-f+2*f*BMMath.random())*O;return j}return this.pv+I[0]+(-f+2*f*BMMath.random())*O}.bind(this);function loopInDuration(c,d){return loopIn(c,d,!0)}function loopOutDuration(c,d){return loopOut(c,d,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(c,d){var f=[d[0]-c[0],d[1]-c[1],d[2]-c[2]],s=Math.atan2(f[0],Math.sqrt(f[1]*f[1]+f[2]*f[2]))/degToRads;return[-Math.atan2(f[1],f[2])/degToRads,s,0]}function easeOut(c,d,f,s,v){return applyEase(easeOutBez,c,d,f,s,v)}function easeIn(c,d,f,s,v){return applyEase(easeInBez,c,d,f,s,v)}function ease(c,d,f,s,v){return applyEase(easeInOutBez,c,d,f,s,v)}function applyEase(c,d,f,s,v,_){void 0===v?(v=f,_=s):d=(d-f)/(s-f),d>1?d=1:d<0&&(d=0);var I=c(d);if($bm_isInstanceOfArray(v)){var M,P=v.length,O=createTypedArray("float32",P);for(M=0;M<P;M+=1)O[M]=(_[M]-v[M])*I+v[M];return O}return(_-v)*I+v}function nearestKey(c){var d,s,v,f=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(s=-1,(c*=elem.comp.globalData.frameRate)<data.k[0].t)s=1,v=data.k[0].t;else{for(d=0;d<f-1;d+=1){if(c===data.k[d].t){s=d+1,v=data.k[d].t;break}if(c>data.k[d].t&&c<data.k[d+1].t){c-data.k[d].t>data.k[d+1].t-c?(s=d+2,v=data.k[d+1].t):(s=d+1,v=data.k[d].t);break}}-1===s&&(s=d+1,v=data.k[d].t)}else s=0,v=0;var _={};return _.index=s,_.time=v/elem.comp.globalData.frameRate,_}function key(c){var d,f,s;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+c);d={time:data.k[c-=1].t/elem.comp.globalData.frameRate,value:[]};var v=Object.prototype.hasOwnProperty.call(data.k[c],"s")?data.k[c].s:data.k[c-1].e;for(s=v.length,f=0;f<s;f+=1)d[f]=v[f],d.value[f]=v[f];return d}function framesToTime(c,d){return d||(d=elem.comp.globalData.frameRate),c/d}function timeToFrames(c,d){return!c&&0!==c&&(c=time),d||(d=elem.comp.globalData.frameRate),c*d}function seedRandom(c){BMMath.seedrandom(randSeed+c)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(c,d){return"string"==typeof value?void 0===d?value.substring(c):value.substring(c,d):""}function substr(c,d){return"string"==typeof value?void 0===d?value.substr(c):value.substr(c,d):""}function posterizeTime(c){time=0===c?0:Math.floor(time*c)/c,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(c){return value=c,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisComp=elem.comp.compInterface,toWorld=(thisLayer=elem.layerInterface).toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4===elemType&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers={searchExpressions:function c(I,M,P){M.x&&(P.k=!0,P.x=!0,P.initiateExpression=ExpressionManager.initiateExpression,P.effectsSequence.push(P.initiateExpression(I,M,P).bind(P)))},getSpeedAtTime:function f(I){var P=this.getValueAtTime(I),O=this.getValueAtTime(I+-.01),j=0;if(P.length){var Q;for(Q=0;Q<P.length;Q+=1)j+=Math.pow(O[Q]-P[Q],2);j=100*Math.sqrt(j)}else j=0;return j},getVelocityAtTime:function s(I){if(void 0!==this.vel)return this.vel;var j,Q,M=-.001,P=this.getValueAtTime(I),O=this.getValueAtTime(I+M);if(P.length)for(j=createTypedArray("float32",P.length),Q=0;Q<P.length;Q+=1)j[Q]=(O[Q]-P[Q])/M;else j=(O-P)/M;return j},getValueAtTime:function d(I){return I*=this.elem.globalData.frameRate,(I-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<I?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(I,this._cachingAtTime),this._cachingAtTime.lastFrame=I),this._cachingAtTime.value},getStaticValueAtTime:function v(){return this.pv},setGroupProperty:function _(I){this.propertyGroup=I}};function addPropertyDecorator(){function c(R,H,U){if(!this.k||!this.keyframes)return this.pv;R=R?R.toLowerCase():"";var G,V,B,ee,te,q=this.comp.renderedFrame,ne=this.keyframes,z=ne[ne.length-1].t;if(q<=z)return this.pv;if(U?V=z-(G=H?Math.abs(z-this.elem.comp.globalData.frameRate*H):Math.max(0,z-this.elem.data.ip)):((!H||H>ne.length-1)&&(H=ne.length-1),G=z-(V=ne[ne.length-1-H].t)),"pingpong"===R){if(Math.floor((q-V)/G)%2!=0)return this.getValueAtTime((G-(q-V)%G+V)/this.comp.globalData.frameRate,0)}else{if("offset"===R){var ae=this.getValueAtTime(V/this.comp.globalData.frameRate,0),de=this.getValueAtTime(z/this.comp.globalData.frameRate,0),Re=this.getValueAtTime(((q-V)%G+V)/this.comp.globalData.frameRate,0),xe=Math.floor((q-V)/G);if(this.pv.length){for(ee=(te=new Array(ae.length)).length,B=0;B<ee;B+=1)te[B]=(de[B]-ae[B])*xe+Re[B];return te}return(de-ae)*xe+Re}if("continue"===R){var Ie=this.getValueAtTime(z/this.comp.globalData.frameRate,0),ye=this.getValueAtTime((z-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ee=(te=new Array(Ie.length)).length,B=0;B<ee;B+=1)te[B]=Ie[B]+(q-z)/this.comp.globalData.frameRate*(Ie[B]-ye[B])/5e-4;return te}return Ie+(q-z)/.001*(Ie-ye)}}return this.getValueAtTime(((q-V)%G+V)/this.comp.globalData.frameRate,0)}function d(R,H,U){if(!this.k)return this.pv;R=R?R.toLowerCase():"";var G,V,B,ee,te,q=this.comp.renderedFrame,ne=this.keyframes,z=ne[0].t;if(q>=z)return this.pv;if(U?V=z+(G=H?Math.abs(this.elem.comp.globalData.frameRate*H):Math.max(0,this.elem.data.op-z)):((!H||H>ne.length-1)&&(H=ne.length-1),G=(V=ne[H].t)-z),"pingpong"===R){if(Math.floor((z-q)/G)%2==0)return this.getValueAtTime(((z-q)%G+z)/this.comp.globalData.frameRate,0)}else{if("offset"===R){var ae=this.getValueAtTime(z/this.comp.globalData.frameRate,0),de=this.getValueAtTime(V/this.comp.globalData.frameRate,0),Re=this.getValueAtTime((G-(z-q)%G+z)/this.comp.globalData.frameRate,0),xe=Math.floor((z-q)/G)+1;if(this.pv.length){for(ee=(te=new Array(ae.length)).length,B=0;B<ee;B+=1)te[B]=Re[B]-(de[B]-ae[B])*xe;return te}return Re-(de-ae)*xe}if("continue"===R){var Ie=this.getValueAtTime(z/this.comp.globalData.frameRate,0),ye=this.getValueAtTime((z+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ee=(te=new Array(Ie.length)).length,B=0;B<ee;B+=1)te[B]=Ie[B]+(Ie[B]-ye[B])*(z-q)/.001;return te}return Ie+(Ie-ye)*(z-q)/.001}}return this.getValueAtTime((G-((z-q)%G+z))/this.comp.globalData.frameRate,0)}function f(R,H){if(!this.k)return this.pv;if(R=.5*(R||.4),(H=Math.floor(H||5))<=1)return this.pv;var B,ee,U=this.comp.renderedFrame/this.comp.globalData.frameRate,q=U-R,z=H>1?(U+R-q)/(H-1):1,G=0,V=0;for(B=this.pv.length?createTypedArray("float32",this.pv.length):0;G<H;){if(ee=this.getValueAtTime(q+G*z),this.pv.length)for(V=0;V<this.pv.length;V+=1)B[V]+=ee[V];else B+=ee;G+=1}if(this.pv.length)for(V=0;V<this.pv.length;V+=1)B[V]/=H;else B/=H;return B}function s(R){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var H=this._transformCachingAtTime.v;if(H.cloneFromProps(this.pre.props),this.appliedTransformations<1){var U=this.a.getValueAtTime(R);H.translate(-U[0]*this.a.mult,-U[1]*this.a.mult,U[2]*this.a.mult)}if(this.appliedTransformations<2){var q=this.s.getValueAtTime(R);H.scale(q[0]*this.s.mult,q[1]*this.s.mult,q[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var ne=this.sk.getValueAtTime(R),z=this.sa.getValueAtTime(R);H.skewFromAxis(-ne*this.sk.mult,z*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var G=this.r.getValueAtTime(R);H.rotate(-G*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var V=this.rz.getValueAtTime(R),B=this.ry.getValueAtTime(R),ee=this.rx.getValueAtTime(R),te=this.or.getValueAtTime(R);H.rotateZ(-V*this.rz.mult).rotateY(B*this.ry.mult).rotateX(ee*this.rx.mult).rotateZ(-te[2]*this.or.mult).rotateY(te[1]*this.or.mult).rotateX(te[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var re=this.px.getValueAtTime(R),ae=this.py.getValueAtTime(R);if(this.data.p.z){var de=this.pz.getValueAtTime(R);H.translate(re*this.px.mult,ae*this.py.mult,-de*this.pz.mult)}else H.translate(re*this.px.mult,ae*this.py.mult,0)}else{var Re=this.p.getValueAtTime(R);H.translate(Re[0]*this.p.mult,Re[1]*this.p.mult,-Re[2]*this.p.mult)}return H}function v(){return this.v.clone(new Matrix)}var _=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(R,H,U){var q=_(R,H,U);return q.getValueAtTime=q.dynamicProperties.length?s.bind(q):v.bind(q),q.setGroupProperty=expressionHelpers.setGroupProperty,q};var I=PropertyFactory.getProp;PropertyFactory.getProp=function(R,H,U,q,ne){var z=I(R,H,U,q,ne);z.getValueAtTime=z.kf?expressionHelpers.getValueAtTime.bind(z):expressionHelpers.getStaticValueAtTime.bind(z),z.setGroupProperty=expressionHelpers.setGroupProperty,z.loopOut=c,z.loopIn=d,z.smooth=f,z.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(z),z.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(z),z.numKeys=1===H.a?H.k.length:0,z.propertyIndex=H.ix;var G=0;return 0!==U&&(G=createTypedArray("float32",1===H.a?H.k[0].s.length:H.k.length)),z._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:G},expressionHelpers.searchExpressions(R,H,z),z.k&&ne.addDynamicProperty(z),z};var P=ShapePropertyFactory.getConstructorFunction(),O=ShapePropertyFactory.getKeyframedConstructorFunction();function j(){}j.prototype={vertices:function(H,U){this.k&&this.getValue();var q=this.v;void 0!==U&&(q=this.getValueAtTime(U,0));var ne,z=q._length,G=q[H],V=q.v,B=createSizedArray(z);for(ne=0;ne<z;ne+=1)B[ne]="i"===H||"o"===H?[G[ne][0]-V[ne][0],G[ne][1]-V[ne][1]]:[G[ne][0],G[ne][1]];return B},points:function(H){return this.vertices("v",H)},inTangents:function(H){return this.vertices("i",H)},outTangents:function(H){return this.vertices("o",H)},isClosed:function(){return this.v.c},pointOnPath:function(H,U){var q=this.v;void 0!==U&&(q=this.getValueAtTime(U,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(q));for(var te,ne=this._segmentsLength,z=ne.lengths,G=ne.totalLength*H,V=0,B=z.length,ee=0;V<B;){if(ee+z[V].addedLength>G){var ae=q.c&&V===B-1?0:V+1;te=bez.getPointInSegment(q.v[V],q.v[ae],q.o[V],q.i[ae],(G-ee)/z[V].addedLength,z[V]);break}ee+=z[V].addedLength,V+=1}return te||(te=q.c?[q.v[0][0],q.v[0][1]]:[q.v[q._length-1][0],q.v[q._length-1][1]]),te},vectorOnPath:function(H,U,q){1==H?H=this.v.c:0==H&&(H=.999);var ne=this.pointOnPath(H,U),z=this.pointOnPath(H+.001,U),G=z[0]-ne[0],V=z[1]-ne[1],B=Math.sqrt(Math.pow(G,2)+Math.pow(V,2));return 0===B?[0,0]:"tangent"===q?[G/B,V/B]:[-V/B,G/B]},tangentOnPath:function(H,U){return this.vectorOnPath(H,U,"tangent")},normalOnPath:function(H,U){return this.vectorOnPath(H,U,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([j],P),extendPrototype([j],O),O.prototype.getValueAtTime=function M(R){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),R*=this.elem.globalData.frameRate,(R-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<R?this._caching.lastIndex:0,this._cachingAtTime.lastTime=R,this.interpolateShape(R,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},O.prototype.initiateExpression=ExpressionManager.initiateExpression;var Q=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(R,H,U,q,ne){var z=Q(R,H,U,q,ne);return z.propertyIndex=H.ix,z.lock=!1,3===U?expressionHelpers.searchExpressions(R,H.pt,z):4===U&&expressionHelpers.searchExpressions(R,H.ks,z),z.k&&R.addDynamicProperty(z),z}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(d,f){var s=this.calculateExpression(f);if(d.t!==s){var v={};return this.copyData(v,d),v.t=s.toString(),v.__complete=!1,v}return d},TextProperty.prototype.searchProperty=function(){var d=this.searchKeyframes(),f=this.searchExpressions();return this.kf=d||f,this.kf},TextProperty.prototype.searchExpressions=function c(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function c(d,f){var v,_,s=createNS("feMerge");for(s.setAttribute("result",d),_=0;_<f.length;_+=1)(v=createNS("feMergeNode")).setAttribute("in",f[_]),s.appendChild(v),s.appendChild(v);return s}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(c,d,f,s,v){this.filterManager=d;var _=createNS("feColorMatrix");_.setAttribute("type","matrix"),_.setAttribute("color-interpolation-filters","linearRGB"),_.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=_,_.setAttribute("result",s+"_tint_1"),c.appendChild(_),(_=createNS("feColorMatrix")).setAttribute("type","matrix"),_.setAttribute("color-interpolation-filters","sRGB"),_.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),_.setAttribute("result",s+"_tint_2"),c.appendChild(_),this.matrixFilter=_;var I=this.createMergeNode(s,[v,s+"_tint_1",s+"_tint_2"]);c.appendChild(I)}function SVGFillFilter(c,d,f,s){this.filterManager=d;var v=createNS("feColorMatrix");v.setAttribute("type","matrix"),v.setAttribute("color-interpolation-filters","sRGB"),v.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),v.setAttribute("result",s),c.appendChild(v),this.matrixFilter=v}function SVGStrokeEffect(c,d,f){this.initialized=!1,this.filterManager=d,this.elem=f,this.paths=[]}function SVGTritoneFilter(c,d,f,s){this.filterManager=d;var v=createNS("feColorMatrix");v.setAttribute("type","matrix"),v.setAttribute("color-interpolation-filters","linearRGB"),v.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),c.appendChild(v);var _=createNS("feComponentTransfer");_.setAttribute("color-interpolation-filters","sRGB"),_.setAttribute("result",s),this.matrixFilter=_;var I=createNS("feFuncR");I.setAttribute("type","table"),_.appendChild(I),this.feFuncR=I;var M=createNS("feFuncG");M.setAttribute("type","table"),_.appendChild(M),this.feFuncG=M;var P=createNS("feFuncB");P.setAttribute("type","table"),_.appendChild(P),this.feFuncB=P,c.appendChild(_)}function SVGProLevelsFilter(c,d,f,s){this.filterManager=d;var v=this.filterManager.effectElements,_=createNS("feComponentTransfer");(v[10].p.k||0!==v[10].p.v||v[11].p.k||1!==v[11].p.v||v[12].p.k||1!==v[12].p.v||v[13].p.k||0!==v[13].p.v||v[14].p.k||1!==v[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",_)),(v[17].p.k||0!==v[17].p.v||v[18].p.k||1!==v[18].p.v||v[19].p.k||1!==v[19].p.v||v[20].p.k||0!==v[20].p.v||v[21].p.k||1!==v[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",_)),(v[24].p.k||0!==v[24].p.v||v[25].p.k||1!==v[25].p.v||v[26].p.k||1!==v[26].p.v||v[27].p.k||0!==v[27].p.v||v[28].p.k||1!==v[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",_)),(v[31].p.k||0!==v[31].p.v||v[32].p.k||1!==v[32].p.v||v[33].p.k||1!==v[33].p.v||v[34].p.k||0!==v[34].p.v||v[35].p.k||1!==v[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",_)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(_.setAttribute("color-interpolation-filters","sRGB"),c.appendChild(_)),(v[3].p.k||0!==v[3].p.v||v[4].p.k||1!==v[4].p.v||v[5].p.k||1!==v[5].p.v||v[6].p.k||0!==v[6].p.v||v[7].p.k||1!==v[7].p.v)&&((_=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),_.setAttribute("result",s),c.appendChild(_),this.feFuncRComposed=this.createFeFunc("feFuncR",_),this.feFuncGComposed=this.createFeFunc("feFuncG",_),this.feFuncBComposed=this.createFeFunc("feFuncB",_))}function SVGDropShadowEffect(c,d,f,s,v){var _=d.container.globalData.renderConfig.filterSize,I=d.data.fs||_;c.setAttribute("x",I.x||_.x),c.setAttribute("y",I.y||_.y),c.setAttribute("width",I.width||_.width),c.setAttribute("height",I.height||_.height),this.filterManager=d;var M=createNS("feGaussianBlur");M.setAttribute("in","SourceAlpha"),M.setAttribute("result",s+"_drop_shadow_1"),M.setAttribute("stdDeviation","0"),this.feGaussianBlur=M,c.appendChild(M);var P=createNS("feOffset");P.setAttribute("dx","25"),P.setAttribute("dy","0"),P.setAttribute("in",s+"_drop_shadow_1"),P.setAttribute("result",s+"_drop_shadow_2"),this.feOffset=P,c.appendChild(P);var O=createNS("feFlood");O.setAttribute("flood-color","#00ff00"),O.setAttribute("flood-opacity","1"),O.setAttribute("result",s+"_drop_shadow_3"),this.feFlood=O,c.appendChild(O);var j=createNS("feComposite");j.setAttribute("in",s+"_drop_shadow_3"),j.setAttribute("in2",s+"_drop_shadow_2"),j.setAttribute("operator","in"),j.setAttribute("result",s+"_drop_shadow_4"),c.appendChild(j);var Q=this.createMergeNode(s,[s+"_drop_shadow_4",v]);c.appendChild(Q)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){var d=this.filterManager.effectElements[0].p.v,f=this.filterManager.effectElements[1].p.v;this.linearFilter.setAttribute("values",linearFilterValue+" "+this.filterManager.effectElements[2].p.v/100+" 0"),this.matrixFilter.setAttribute("values",f[0]-d[0]+" 0 0 0 "+d[0]+" "+(f[1]-d[1])+" 0 0 0 "+d[1]+" "+(f[2]-d[2])+" 0 0 0 "+d[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){var d=this.filterManager.effectElements[2].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+d[0]+" 0 0 0 0 "+d[1]+" 0 0 0 0 "+d[2]+" 0 0 0 "+this.filterManager.effectElements[6].p.v+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var d,f,s,v,c=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(v=this.elem.maskManager.masksProperties.length,s=0):v=1+(s=this.filterManager.effectElements[0].p.v-1),(f=createNS("g")).setAttribute("fill","none"),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-dashoffset",1);s<v;s+=1)d=createNS("path"),f.appendChild(d),this.paths.push({p:d,m:s});if(3===this.filterManager.effectElements[10].p.v){var _=createNS("mask"),I=createElementID();_.setAttribute("id",I),_.setAttribute("mask-type","alpha"),_.appendChild(f),this.elem.globalData.defs.appendChild(_);var M=createNS("g");for(M.setAttribute("mask","url("+getLocationHref()+"#"+I+")");c[0];)M.appendChild(c[0]);this.elem.layerElement.appendChild(M),this.masker=_,f.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(c=this.elem.layerElement.children||this.elem.layerElement.childNodes;c.length;)this.elem.layerElement.removeChild(c[0]);this.elem.layerElement.appendChild(f),this.elem.layerElement.removeAttribute("mask"),f.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=f},SVGStrokeEffect.prototype.renderFrame=function(c){this.initialized||this.initialize();var d,s,v,f=this.paths.length;for(d=0;d<f;d+=1)if(-1!==this.paths[d].m&&(s=this.elem.maskManager.viewData[this.paths[d].m],v=this.paths[d].p,(c||this.filterManager._mdf||s.prop._mdf)&&v.setAttribute("d",s.lastPath),c||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||s.prop._mdf)){var _;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var I=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),M=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),P=v.getTotalLength();_="0 0 0 "+P*I+" ";var R,Q=Math.floor(P*(M-I)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(R=0;R<Q;R+=1)_+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";_+="0 "+10*P+" 0 0"}else _="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;v.setAttribute("stroke-dasharray",_)}if((c||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(c||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(c||this.filterManager.effectElements[3].p._mdf)){var H=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*H[0])+","+bmFloor(255*H[1])+","+bmFloor(255*H[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){var d=this.filterManager.effectElements[0].p.v,f=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v,_=s[1]+" "+f[1]+" "+d[1],I=s[2]+" "+f[2]+" "+d[2];this.feFuncR.setAttribute("tableValues",s[0]+" "+f[0]+" "+d[0]),this.feFuncG.setAttribute("tableValues",_),this.feFuncB.setAttribute("tableValues",I)}},SVGProLevelsFilter.prototype.createFeFunc=function(c,d){var f=createNS(c);return f.setAttribute("type","table"),d.appendChild(f),f},SVGProLevelsFilter.prototype.getTableValue=function(c,d,f,s,v){for(var M,Q,_=0,P=Math.min(c,d),O=Math.max(c,d),j=Array.call(null,{length:256}),R=0,H=v-s,U=d-c;_<=256;)Q=(M=_/256)<=P?U<0?v:s:M>=O?U<0?s:v:s+H*Math.pow((M-c)/U,1/f),j[R]=Q,R+=1,_+=256/255;return j.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){var d,f=this.filterManager.effectElements;this.feFuncRComposed&&(c||f[3].p._mdf||f[4].p._mdf||f[5].p._mdf||f[6].p._mdf||f[7].p._mdf)&&(d=this.getTableValue(f[3].p.v,f[4].p.v,f[5].p.v,f[6].p.v,f[7].p.v),this.feFuncRComposed.setAttribute("tableValues",d),this.feFuncGComposed.setAttribute("tableValues",d),this.feFuncBComposed.setAttribute("tableValues",d)),this.feFuncR&&(c||f[10].p._mdf||f[11].p._mdf||f[12].p._mdf||f[13].p._mdf||f[14].p._mdf)&&(d=this.getTableValue(f[10].p.v,f[11].p.v,f[12].p.v,f[13].p.v,f[14].p.v),this.feFuncR.setAttribute("tableValues",d)),this.feFuncG&&(c||f[17].p._mdf||f[18].p._mdf||f[19].p._mdf||f[20].p._mdf||f[21].p._mdf)&&(d=this.getTableValue(f[17].p.v,f[18].p.v,f[19].p.v,f[20].p.v,f[21].p.v),this.feFuncG.setAttribute("tableValues",d)),this.feFuncB&&(c||f[24].p._mdf||f[25].p._mdf||f[26].p._mdf||f[27].p._mdf||f[28].p._mdf)&&(d=this.getTableValue(f[24].p.v,f[25].p.v,f[26].p.v,f[27].p.v,f[28].p.v),this.feFuncB.setAttribute("tableValues",d)),this.feFuncA&&(c||f[31].p._mdf||f[32].p._mdf||f[33].p._mdf||f[34].p._mdf||f[35].p._mdf)&&(d=this.getTableValue(f[31].p.v,f[32].p.v,f[33].p.v,f[34].p.v,f[35].p.v),this.feFuncA.setAttribute("tableValues",d))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){if((c||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),c||this.filterManager.effectElements[0].p._mdf){var d=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*d[0]),Math.round(255*d[1]),Math.round(255*d[2])))}if((c||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),c||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var f=this.filterManager.effectElements[3].p.v,s=(this.filterManager.effectElements[2].p.v-90)*degToRads,v=f*Math.cos(s),_=f*Math.sin(s);this.feOffset.setAttribute("dx",v),this.feOffset.setAttribute("dy",_)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(c,d,f){this.initialized=!1,this.filterManager=d,this.filterElem=c,this.elem=f,f.matteElement=createNS("g"),f.matteElement.appendChild(f.layerElement),f.matteElement.appendChild(f.transformedElement),f.baseElement=f.matteElement}function SVGGaussianBlurEffect(c,d,f,s){c.setAttribute("x","-100%"),c.setAttribute("y","-100%"),c.setAttribute("width","300%"),c.setAttribute("height","300%"),this.filterManager=d;var v=createNS("feGaussianBlur");v.setAttribute("result",s),c.appendChild(v),this.feGaussianBlur=v}return SVGMatte3Effect.prototype.findSymbol=function(c){for(var d=0,f=_svgMatteSymbols.length;d<f;){if(_svgMatteSymbols[d]===c)return _svgMatteSymbols[d];d+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(c,d){var f=c.layerElement.parentNode;if(f){for(var s=f.children,v=0,_=s.length;v<_&&s[v]!==c.layerElement;)v+=1;var I;v<=_-2&&(I=s[v+1]);var M=createNS("use");M.setAttribute("href","#"+d),I?f.insertBefore(M,I):f.appendChild(M)}},SVGMatte3Effect.prototype.setElementAsMask=function(c,d){if(!this.findSymbol(d)){var f=createElementID(),s=createNS("mask");s.setAttribute("id",d.layerId),s.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(d);var v=c.globalData.defs;v.appendChild(s);var _=createNS("symbol");_.setAttribute("id",f),this.replaceInParent(d,f),_.appendChild(d.layerElement),v.appendChild(_);var I=createNS("use");I.setAttribute("href","#"+f),s.appendChild(I),d.data.hd=!1,d.show()}c.setMatte(d.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var c=this.filterManager.effectElements[0].p.v,d=this.elem.comp.elements,f=0,s=d.length;f<s;)d[f]&&d[f].data.ind===c&&this.setElementAsMask(this.elem,d[f]),f+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(c){if(c||this.filterManager._mdf){var f=.3*this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v;this.feGaussianBlur.setAttribute("stdDeviation",(3==s?0:f)+" "+(2==s?0:f)),this.feGaussianBlur.setAttribute("edgeMode",1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate")}},registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie},module.exports=d())},9751:(c,d,f)=>{"use strict";f.d(d,{y:()=>j});var s=f(930),v=f(727),_=f(8822),I=f(9635),M=f(2416),P=f(576),O=f(2806);let j=(()=>{class U{constructor(ne){ne&&(this._subscribe=ne)}lift(ne){const z=new U;return z.source=this,z.operator=ne,z}subscribe(ne,z,G){const V=function H(U){return U&&U instanceof s.Lv||function R(U){return U&&(0,P.m)(U.next)&&(0,P.m)(U.error)&&(0,P.m)(U.complete)}(U)&&(0,v.Nn)(U)}(ne)?ne:new s.Hp(ne,z,G);return(0,O.x)(()=>{const{operator:B,source:ee}=this;V.add(B?B.call(V,ee):ee?this._subscribe(V):this._trySubscribe(V))}),V}_trySubscribe(ne){try{return this._subscribe(ne)}catch(z){ne.error(z)}}forEach(ne,z){return new(z=Q(z))((G,V)=>{const B=new s.Hp({next:ee=>{try{ne(ee)}catch(te){V(te),B.unsubscribe()}},error:V,complete:G});this.subscribe(B)})}_subscribe(ne){var z;return null===(z=this.source)||void 0===z?void 0:z.subscribe(ne)}[_.L](){return this}pipe(...ne){return(0,I.U)(ne)(this)}toPromise(ne){return new(ne=Q(ne))((z,G)=>{let V;this.subscribe(B=>V=B,B=>G(B),()=>z(V))})}}return U.create=q=>new U(q),U})();function Q(U){var q;return null!==(q=U??M.v.Promise)&&void 0!==q?q:Promise}},7579:(c,d,f)=>{"use strict";f.d(d,{x:()=>O});var s=f(9751),v=f(727);const I=(0,f(3888).d)(Q=>function(){Q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var M=f(8737),P=f(2806);let O=(()=>{class Q extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const U=new j(this,this);return U.operator=H,U}_throwIfClosed(){if(this.closed)throw new I}next(H){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const U of this.currentObservers)U.next(H)}})}error(H){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:U}=this;for(;U.length;)U.shift().error(H)}})}complete(){(0,P.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:U,isStopped:q,observers:ne}=this;return U||q?v.Lc:(this.currentObservers=null,ne.push(H),new v.w0(()=>{this.currentObservers=null,(0,M.P)(ne,H)}))}_checkFinalizedStatuses(H){const{hasError:U,thrownError:q,isStopped:ne}=this;U?H.error(q):ne&&H.complete()}asObservable(){const H=new s.y;return H.source=this,H}}return Q.create=(R,H)=>new j(R,H),Q})();class j extends O{constructor(R,H){super(),this.destination=R,this.source=H}next(R){var H,U;null===(U=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===U||U.call(H,R)}error(R){var H,U;null===(U=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===U||U.call(H,R)}complete(){var R,H;null===(H=null===(R=this.destination)||void 0===R?void 0:R.complete)||void 0===H||H.call(R)}_subscribe(R){var H,U;return null!==(U=null===(H=this.source)||void 0===H?void 0:H.subscribe(R))&&void 0!==U?U:v.Lc}}},930:(c,d,f)=>{"use strict";f.d(d,{Hp:()=>G,Lv:()=>U});var s=f(576),v=f(727),_=f(2416),I=f(7849),M=f(5032);const P=Q("C",void 0,void 0);function Q(re,ae,de){return{kind:re,value:ae,error:de}}var R=f(3410),H=f(2806);class U extends v.w0{constructor(ae){super(),this.isStopped=!1,ae?(this.destination=ae,(0,v.Nn)(ae)&&ae.add(this)):this.destination=te}static create(ae,de,Re){return new G(ae,de,Re)}next(ae){this.isStopped?ee(function j(re){return Q("N",re,void 0)}(ae),this):this._next(ae)}error(ae){this.isStopped?ee(function O(re){return Q("E",void 0,re)}(ae),this):(this.isStopped=!0,this._error(ae))}complete(){this.isStopped?ee(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ae){this.destination.next(ae)}_error(ae){try{this.destination.error(ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const q=Function.prototype.bind;function ne(re,ae){return q.call(re,ae)}class z{constructor(ae){this.partialObserver=ae}next(ae){const{partialObserver:de}=this;if(de.next)try{de.next(ae)}catch(Re){V(Re)}}error(ae){const{partialObserver:de}=this;if(de.error)try{de.error(ae)}catch(Re){V(Re)}else V(ae)}complete(){const{partialObserver:ae}=this;if(ae.complete)try{ae.complete()}catch(de){V(de)}}}class G extends U{constructor(ae,de,Re){let xe;if(super(),(0,s.m)(ae)||!ae)xe={next:ae??void 0,error:de??void 0,complete:Re??void 0};else{let Ie;this&&_.v.useDeprecatedNextContext?(Ie=Object.create(ae),Ie.unsubscribe=()=>this.unsubscribe(),xe={next:ae.next&&ne(ae.next,Ie),error:ae.error&&ne(ae.error,Ie),complete:ae.complete&&ne(ae.complete,Ie)}):xe=ae}this.destination=new z(xe)}}function V(re){_.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(re):(0,I.h)(re)}function ee(re,ae){const{onStoppedNotification:de}=_.v;de&&R.z.setTimeout(()=>de(re,ae))}const te={closed:!0,next:M.Z,error:function B(re){throw re},complete:M.Z}},727:(c,d,f)=>{"use strict";f.d(d,{Lc:()=>P,w0:()=>M,Nn:()=>O});var s=f(576);const _=(0,f(3888).d)(Q=>function(H){Q(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((U,q)=>`${q+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var I=f(8737);class M{constructor(R){this.initialTeardown=R,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let R;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const ne of H)ne.remove(this);else H.remove(this);const{initialTeardown:U}=this;if((0,s.m)(U))try{U()}catch(ne){R=ne instanceof _?ne.errors:[ne]}const{_finalizers:q}=this;if(q){this._finalizers=null;for(const ne of q)try{j(ne)}catch(z){R=R??[],z instanceof _?R=[...R,...z.errors]:R.push(z)}}if(R)throw new _(R)}}add(R){var H;if(R&&R!==this)if(this.closed)j(R);else{if(R instanceof M){if(R.closed||R._hasParent(this))return;R._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(R)}}_hasParent(R){const{_parentage:H}=this;return H===R||Array.isArray(H)&&H.includes(R)}_addParent(R){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(R),H):H?[H,R]:R}_removeParent(R){const{_parentage:H}=this;H===R?this._parentage=null:Array.isArray(H)&&(0,I.P)(H,R)}remove(R){const{_finalizers:H}=this;H&&(0,I.P)(H,R),R instanceof M&&R._removeParent(this)}}M.EMPTY=(()=>{const Q=new M;return Q.closed=!0,Q})();const P=M.EMPTY;function O(Q){return Q instanceof M||Q&&"closed"in Q&&(0,s.m)(Q.remove)&&(0,s.m)(Q.add)&&(0,s.m)(Q.unsubscribe)}function j(Q){(0,s.m)(Q)?Q():Q.unsubscribe()}},2416:(c,d,f)=>{"use strict";f.d(d,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(c,d,f)=>{"use strict";f.d(d,{E:()=>v});const v=new(f(9751).y)(M=>M.complete())},8996:(c,d,f)=>{"use strict";f.d(d,{D:()=>ae});var s=f(8421),v=f(5363),_=f(9468),P=f(9751),j=f(2202),Q=f(576),R=f(9672);function U(de,Re){if(!de)throw new Error("Iterable cannot be null");return new P.y(xe=>{(0,R.f)(xe,Re,()=>{const Ie=de[Symbol.asyncIterator]();(0,R.f)(xe,Re,()=>{Ie.next().then(ye=>{ye.done?xe.complete():xe.next(ye.value)})},0,!0)})})}var q=f(3670),ne=f(8239),z=f(1144),G=f(6495),V=f(2206),B=f(4532),ee=f(3260);function ae(de,Re){return Re?function re(de,Re){if(null!=de){if((0,q.c)(de))return function I(de,Re){return(0,s.Xf)(de).pipe((0,_.R)(Re),(0,v.Q)(Re))}(de,Re);if((0,z.z)(de))return function O(de,Re){return new P.y(xe=>{let Ie=0;return Re.schedule(function(){Ie===de.length?xe.complete():(xe.next(de[Ie++]),xe.closed||this.schedule())})})}(de,Re);if((0,ne.t)(de))return function M(de,Re){return(0,s.Xf)(de).pipe((0,_.R)(Re),(0,v.Q)(Re))}(de,Re);if((0,V.D)(de))return U(de,Re);if((0,G.T)(de))return function H(de,Re){return new P.y(xe=>{let Ie;return(0,R.f)(xe,Re,()=>{Ie=de[j.h](),(0,R.f)(xe,Re,()=>{let ye,$e;try{({value:ye,done:$e}=Ie.next())}catch(Te){return void xe.error(Te)}$e?xe.complete():xe.next(ye)},0,!0)}),()=>(0,Q.m)(Ie?.return)&&Ie.return()})}(de,Re);if((0,ee.L)(de))return function te(de,Re){return U((0,ee.Q)(de),Re)}(de,Re)}throw(0,B.z)(de)}(de,Re):(0,s.Xf)(de)}},8421:(c,d,f)=>{"use strict";f.d(d,{Xf:()=>q});var s=f(655),v=f(1144),_=f(8239),I=f(9751),M=f(3670),P=f(2206),O=f(4532),j=f(6495),Q=f(3260),R=f(576),H=f(7849),U=f(8822);function q(re){if(re instanceof I.y)return re;if(null!=re){if((0,M.c)(re))return function ne(re){return new I.y(ae=>{const de=re[U.L]();if((0,R.m)(de.subscribe))return de.subscribe(ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(re);if((0,v.z)(re))return function z(re){return new I.y(ae=>{for(let de=0;de<re.length&&!ae.closed;de++)ae.next(re[de]);ae.complete()})}(re);if((0,_.t)(re))return function G(re){return new I.y(ae=>{re.then(de=>{ae.closed||(ae.next(de),ae.complete())},de=>ae.error(de)).then(null,H.h)})}(re);if((0,P.D)(re))return B(re);if((0,j.T)(re))return function V(re){return new I.y(ae=>{for(const de of re)if(ae.next(de),ae.closed)return;ae.complete()})}(re);if((0,Q.L)(re))return function ee(re){return B((0,Q.Q)(re))}(re)}throw(0,O.z)(re)}function B(re){return new I.y(ae=>{(function te(re,ae){var de,Re,xe,Ie;return(0,s.mG)(this,void 0,void 0,function*(){try{for(de=(0,s.KL)(re);!(Re=yield de.next()).done;)if(ae.next(Re.value),ae.closed)return}catch(ye){xe={error:ye}}finally{try{Re&&!Re.done&&(Ie=de.return)&&(yield Ie.call(de))}finally{if(xe)throw xe.error}}ae.complete()})})(re,ae).catch(de=>ae.error(de))})}},6451:(c,d,f)=>{"use strict";f.d(d,{T:()=>P});var s=f(8189),v=f(8421),_=f(515),I=f(3269),M=f(8996);function P(...O){const j=(0,I.yG)(O),Q=(0,I._6)(O,1/0),R=O;return R.length?1===R.length?(0,v.Xf)(R[0]):(0,s.J)(Q)((0,M.D)(R,j)):_.E}},5403:(c,d,f)=>{"use strict";f.d(d,{x:()=>v});var s=f(930);function v(I,M,P,O,j){return new _(I,M,P,O,j)}class _ extends s.Lv{constructor(M,P,O,j,Q,R){super(M),this.onFinalize=Q,this.shouldUnsubscribe=R,this._next=P?function(H){try{P(H)}catch(U){M.error(U)}}:super._next,this._error=j?function(H){try{j(H)}catch(U){M.error(U)}finally{this.unsubscribe()}}:super._error,this._complete=O?function(){try{O()}catch(H){M.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var M;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:P}=this;super.unsubscribe(),!P&&(null===(M=this.onFinalize)||void 0===M||M.call(this))}}}},4004:(c,d,f)=>{"use strict";f.d(d,{U:()=>_});var s=f(4482),v=f(5403);function _(I,M){return(0,s.e)((P,O)=>{let j=0;P.subscribe((0,v.x)(O,Q=>{O.next(I.call(M,Q,j++))}))})}},8189:(c,d,f)=>{"use strict";f.d(d,{J:()=>_});var s=f(5577),v=f(4671);function _(I=1/0){return(0,s.z)(v.y,I)}},5577:(c,d,f)=>{"use strict";f.d(d,{z:()=>j});var s=f(4004),v=f(8421),_=f(4482),I=f(9672),M=f(5403),O=f(576);function j(Q,R,H=1/0){return(0,O.m)(R)?j((U,q)=>(0,s.U)((ne,z)=>R(U,ne,q,z))((0,v.Xf)(Q(U,q))),H):("number"==typeof R&&(H=R),(0,_.e)((U,q)=>function P(Q,R,H,U,q,ne,z,G){const V=[];let B=0,ee=0,te=!1;const re=()=>{te&&!V.length&&!B&&R.complete()},ae=Re=>B<U?de(Re):V.push(Re),de=Re=>{ne&&R.next(Re),B++;let xe=!1;(0,v.Xf)(H(Re,ee++)).subscribe((0,M.x)(R,Ie=>{q?.(Ie),ne?ae(Ie):R.next(Ie)},()=>{xe=!0},void 0,()=>{if(xe)try{for(B--;V.length&&B<U;){const Ie=V.shift();z?(0,I.f)(R,z,()=>de(Ie)):de(Ie)}re()}catch(Ie){R.error(Ie)}}))};return Q.subscribe((0,M.x)(R,ae,()=>{te=!0,re()})),()=>{G?.()}}(U,q,Q,H)))}},5363:(c,d,f)=>{"use strict";f.d(d,{Q:()=>I});var s=f(9672),v=f(4482),_=f(5403);function I(M,P=0){return(0,v.e)((O,j)=>{O.subscribe((0,_.x)(j,Q=>(0,s.f)(j,M,()=>j.next(Q),P),()=>(0,s.f)(j,M,()=>j.complete(),P),Q=>(0,s.f)(j,M,()=>j.error(Q),P)))})}},3099:(c,d,f)=>{"use strict";f.d(d,{B:()=>M});var s=f(8421),v=f(7579),_=f(930),I=f(4482);function M(O={}){const{connector:j=(()=>new v.x),resetOnError:Q=!0,resetOnComplete:R=!0,resetOnRefCountZero:H=!0}=O;return U=>{let q,ne,z,G=0,V=!1,B=!1;const ee=()=>{ne?.unsubscribe(),ne=void 0},te=()=>{ee(),q=z=void 0,V=B=!1},re=()=>{const ae=q;te(),ae?.unsubscribe()};return(0,I.e)((ae,de)=>{G++,!B&&!V&&ee();const Re=z=z??j();de.add(()=>{G--,0===G&&!B&&!V&&(ne=P(re,H))}),Re.subscribe(de),!q&&G>0&&(q=new _.Hp({next:xe=>Re.next(xe),error:xe=>{B=!0,ee(),ne=P(te,Q,xe),Re.error(xe)},complete:()=>{V=!0,ee(),ne=P(te,R),Re.complete()}}),(0,s.Xf)(ae).subscribe(q))})(U)}}function P(O,j,...Q){if(!0===j)return void O();if(!1===j)return;const R=new _.Hp({next:()=>{R.unsubscribe(),O()}});return j(...Q).subscribe(R)}},9468:(c,d,f)=>{"use strict";f.d(d,{R:()=>v});var s=f(4482);function v(_,I=0){return(0,s.e)((M,P)=>{P.add(_.schedule(()=>M.subscribe(P),I))})}},8505:(c,d,f)=>{"use strict";f.d(d,{b:()=>M});var s=f(576),v=f(4482),_=f(5403),I=f(4671);function M(P,O,j){const Q=(0,s.m)(P)||O||j?{next:P,error:O,complete:j}:P;return Q?(0,v.e)((R,H)=>{var U;null===(U=Q.subscribe)||void 0===U||U.call(Q);let q=!0;R.subscribe((0,_.x)(H,ne=>{var z;null===(z=Q.next)||void 0===z||z.call(Q,ne),H.next(ne)},()=>{var ne;q=!1,null===(ne=Q.complete)||void 0===ne||ne.call(Q),H.complete()},ne=>{var z;q=!1,null===(z=Q.error)||void 0===z||z.call(Q,ne),H.error(ne)},()=>{var ne,z;q&&(null===(ne=Q.unsubscribe)||void 0===ne||ne.call(Q)),null===(z=Q.finalize)||void 0===z||z.call(Q)}))}):I.y}},4408:(c,d,f)=>{"use strict";f.d(d,{o:()=>M});var s=f(727);class v extends s.w0{constructor(O,j){super()}schedule(O,j=0){return this}}const _={setInterval(P,O,...j){const{delegate:Q}=_;return Q?.setInterval?Q.setInterval(P,O,...j):setInterval(P,O,...j)},clearInterval(P){const{delegate:O}=_;return(O?.clearInterval||clearInterval)(P)},delegate:void 0};var I=f(8737);class M extends v{constructor(O,j){super(O,j),this.scheduler=O,this.work=j,this.pending=!1}schedule(O,j=0){var Q;if(this.closed)return this;this.state=O;const R=this.id,H=this.scheduler;return null!=R&&(this.id=this.recycleAsyncId(H,R,j)),this.pending=!0,this.delay=j,this.id=null!==(Q=this.id)&&void 0!==Q?Q:this.requestAsyncId(H,this.id,j),this}requestAsyncId(O,j,Q=0){return _.setInterval(O.flush.bind(O,this),Q)}recycleAsyncId(O,j,Q=0){if(null!=Q&&this.delay===Q&&!1===this.pending)return j;null!=j&&_.clearInterval(j)}execute(O,j){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Q=this._execute(O,j);if(Q)return Q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(O,j){let R,Q=!1;try{this.work(O)}catch(H){Q=!0,R=H||new Error("Scheduled action threw falsy error")}if(Q)return this.unsubscribe(),R}unsubscribe(){if(!this.closed){const{id:O,scheduler:j}=this,{actions:Q}=j;this.work=this.state=this.scheduler=null,this.pending=!1,(0,I.P)(Q,this),null!=O&&(this.id=this.recycleAsyncId(j,O,null)),this.delay=null,super.unsubscribe()}}}},7565:(c,d,f)=>{"use strict";f.d(d,{v:()=>_});var s=f(6063);class v{constructor(M,P=v.now){this.schedulerActionCtor=M,this.now=P}schedule(M,P=0,O){return new this.schedulerActionCtor(this,M).schedule(O,P)}}v.now=s.l.now;class _ extends v{constructor(M,P=v.now){super(M,P),this.actions=[],this._active=!1}flush(M){const{actions:P}=this;if(this._active)return void P.push(M);let O;this._active=!0;do{if(O=M.execute(M.state,M.delay))break}while(M=P.shift());if(this._active=!1,O){for(;M=P.shift();)M.unsubscribe();throw O}}}},4986:(c,d,f)=>{"use strict";f.d(d,{P:()=>I,z:()=>_});var s=f(4408);const _=new(f(7565).v)(s.o),I=_},6063:(c,d,f)=>{"use strict";f.d(d,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(c,d,f)=>{"use strict";f.d(d,{z:()=>s});const s={setTimeout(v,_,...I){const{delegate:M}=s;return M?.setTimeout?M.setTimeout(v,_,...I):setTimeout(v,_,...I)},clearTimeout(v){const{delegate:_}=s;return(_?.clearTimeout||clearTimeout)(v)},delegate:void 0}},2202:(c,d,f)=>{"use strict";f.d(d,{h:()=>v});const v=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(c,d,f)=>{"use strict";f.d(d,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(c,d,f)=>{"use strict";f.d(d,{_6:()=>P,jO:()=>I,yG:()=>M});var s=f(576),v=f(3532);function _(O){return O[O.length-1]}function I(O){return(0,s.m)(_(O))?O.pop():void 0}function M(O){return(0,v.K)(_(O))?O.pop():void 0}function P(O,j){return"number"==typeof _(O)?O.pop():j}},8737:(c,d,f)=>{"use strict";function s(v,_){if(v){const I=v.indexOf(_);0<=I&&v.splice(I,1)}}f.d(d,{P:()=>s})},3888:(c,d,f)=>{"use strict";function s(v){const I=v(M=>{Error.call(M),M.stack=(new Error).stack});return I.prototype=Object.create(Error.prototype),I.prototype.constructor=I,I}f.d(d,{d:()=>s})},2806:(c,d,f)=>{"use strict";f.d(d,{O:()=>I,x:()=>_});var s=f(2416);let v=null;function _(M){if(s.v.useDeprecatedSynchronousErrorHandling){const P=!v;if(P&&(v={errorThrown:!1,error:null}),M(),P){const{errorThrown:O,error:j}=v;if(v=null,O)throw j}}else M()}function I(M){s.v.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=M)}},9672:(c,d,f)=>{"use strict";function s(v,_,I,M=0,P=!1){const O=_.schedule(function(){I(),P?v.add(this.schedule(null,M)):this.unsubscribe()},M);if(v.add(O),!P)return O}f.d(d,{f:()=>s})},4671:(c,d,f)=>{"use strict";function s(v){return v}f.d(d,{y:()=>s})},1144:(c,d,f)=>{"use strict";f.d(d,{z:()=>s});const s=v=>v&&"number"==typeof v.length&&"function"!=typeof v},2206:(c,d,f)=>{"use strict";f.d(d,{D:()=>v});var s=f(576);function v(_){return Symbol.asyncIterator&&(0,s.m)(_?.[Symbol.asyncIterator])}},576:(c,d,f)=>{"use strict";function s(v){return"function"==typeof v}f.d(d,{m:()=>s})},3670:(c,d,f)=>{"use strict";f.d(d,{c:()=>_});var s=f(8822),v=f(576);function _(I){return(0,v.m)(I[s.L])}},6495:(c,d,f)=>{"use strict";f.d(d,{T:()=>_});var s=f(2202),v=f(576);function _(I){return(0,v.m)(I?.[s.h])}},8239:(c,d,f)=>{"use strict";f.d(d,{t:()=>v});var s=f(576);function v(_){return(0,s.m)(_?.then)}},3260:(c,d,f)=>{"use strict";f.d(d,{L:()=>I,Q:()=>_});var s=f(655),v=f(576);function _(M){return(0,s.FC)(this,arguments,function*(){const O=M.getReader();try{for(;;){const{value:j,done:Q}=yield(0,s.qq)(O.read());if(Q)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(j)}}finally{O.releaseLock()}})}function I(M){return(0,v.m)(M?.getReader)}},3532:(c,d,f)=>{"use strict";f.d(d,{K:()=>v});var s=f(576);function v(_){return _&&(0,s.m)(_.schedule)}},4482:(c,d,f)=>{"use strict";f.d(d,{A:()=>v,e:()=>_});var s=f(576);function v(I){return(0,s.m)(I?.lift)}function _(I){return M=>{if(v(M))return M.lift(function(P){try{return I(P,this)}catch(O){this.error(O)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(c,d,f)=>{"use strict";function s(){}f.d(d,{Z:()=>s})},9635:(c,d,f)=>{"use strict";f.d(d,{U:()=>_,z:()=>v});var s=f(4671);function v(...I){return _(I)}function _(I){return 0===I.length?s.y:1===I.length?I[0]:function(P){return I.reduce((O,j)=>j(O),P)}}},7849:(c,d,f)=>{"use strict";f.d(d,{h:()=>_});var s=f(2416),v=f(3410);function _(I){v.z.setTimeout(()=>{const{onUnhandledError:M}=s.v;if(!M)throw I;M(I)})}},4532:(c,d,f)=>{"use strict";function s(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}f.d(d,{z:()=>s})},655:(c,d,f)=>{"use strict";function I(X,oe){var be={};for(var pe in X)Object.prototype.hasOwnProperty.call(X,pe)&&oe.indexOf(pe)<0&&(be[pe]=X[pe]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(pe=Object.getOwnPropertySymbols(X);Ne<pe.length;Ne++)oe.indexOf(pe[Ne])<0&&Object.prototype.propertyIsEnumerable.call(X,pe[Ne])&&(be[pe[Ne]]=X[pe[Ne]])}return be}function U(X,oe,be,pe){return new(be||(be=Promise))(function(Le,nt){function Ht(zt){try{Qe(pe.next(zt))}catch(jt){nt(jt)}}function dt(zt){try{Qe(pe.throw(zt))}catch(jt){nt(jt)}}function Qe(zt){zt.done?Le(zt.value):function Ne(Le){return Le instanceof be?Le:new be(function(nt){nt(Le)})}(zt.value).then(Ht,dt)}Qe((pe=pe.apply(X,oe||[])).next())})}function re(X){return this instanceof re?(this.v=X,this):new re(X)}function ae(X,oe,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,pe=be.apply(X,oe||[]),Le=[];return Ne={},nt("next"),nt("throw"),nt("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne;function nt(Ut){pe[Ut]&&(Ne[Ut]=function(Jt){return new Promise(function(un,lt){Le.push([Ut,Jt,un,lt])>1||Ht(Ut,Jt)})})}function Ht(Ut,Jt){try{!function dt(Ut){Ut.value instanceof re?Promise.resolve(Ut.value.v).then(Qe,zt):jt(Le[0][2],Ut)}(pe[Ut](Jt))}catch(un){jt(Le[0][3],un)}}function Qe(Ut){Ht("next",Ut)}function zt(Ut){Ht("throw",Ut)}function jt(Ut,Jt){Ut(Jt),Le.shift(),Le.length&&Ht(Le[0][0],Le[0][1])}}function Re(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,oe=X[Symbol.asyncIterator];return oe?oe.call(X):(X=function G(X){var oe="function"==typeof Symbol&&Symbol.iterator,be=oe&&X[oe],pe=0;if(be)return be.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&pe>=X.length&&(X=void 0),{value:X&&X[pe++],done:!X}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),be={},pe("next"),pe("throw"),pe("return"),be[Symbol.asyncIterator]=function(){return this},be);function pe(Le){be[Le]=X[Le]&&function(nt){return new Promise(function(Ht,dt){!function Ne(Le,nt,Ht,dt){Promise.resolve(dt).then(function(Qe){Le({value:Qe,done:Ht})},nt)}(Ht,dt,(nt=X[Le](nt)).done,nt.value)})}}}f.d(d,{FC:()=>ae,KL:()=>Re,_T:()=>I,mG:()=>U,qq:()=>re})},4650:(c,d,f)=>{"use strict";f.d(d,{$8M:()=>nc,$Z:()=>El,AFp:()=>nA,ALo:()=>yC,AaK:()=>j,BQk:()=>nh,CHM:()=>Gl,CRH:()=>PC,CZH:()=>a0,CqO:()=>vv,D6c:()=>iS,EJc:()=>HC,EiD:()=>vp,EpF:()=>SE,F$t:()=>em,F4k:()=>IE,FYo:()=>A_,FiY:()=>Ws,G48:()=>gA,Gf:()=>AC,GfV:()=>M_,Gpc:()=>H,Hsn:()=>Cv,Ikx:()=>ZE,JOm:()=>ls,JVY:()=>Ed,KtG:()=>ou,L6k:()=>pg,LAX:()=>mg,LFG:()=>or,LSH:()=>Uu,Lbi:()=>BC,Lck:()=>mO,MAs:()=>CE,MGl:()=>Sv,MMx:()=>uC,NdJ:()=>rh,O4$:()=>du,OlP:()=>In,Oqu:()=>zE,PXZ:()=>v0,Q6J:()=>th,QGY:()=>_v,QP$:()=>Vt,QbO:()=>Dl,Qsj:()=>_w,R0b:()=>vo,RDi:()=>hg,Rgc:()=>Gd,SBq:()=>Dp,Sil:()=>YO,Suo:()=>MC,TTD:()=>Vi,TgZ:()=>mv,Udp:()=>Hd,VKq:()=>wx,W1O:()=>dy,WFA:()=>bv,WLB:()=>Ex,X6Q:()=>mA,XFs:()=>ft,Xpm:()=>Yn,Xts:()=>Sd,Y36:()=>Br,YKP:()=>dx,YNc:()=>Gi,Yjl:()=>Se,Yz7:()=>Qe,Z0I:()=>Jt,ZZ4:()=>Wd,_Bn:()=>hx,_UZ:()=>gv,_Vd:()=>Ip,_c5:()=>T0,_uU:()=>AT,aQg:()=>Sy,c2e:()=>fh,cJS:()=>jt,cg1:()=>Nv,d8E:()=>KE,dDg:()=>uA,dqk:()=>An,eBb:()=>Cd,eFA:()=>fA,ekj:()=>nm,eoX:()=>UC,f3M:()=>St,g9A:()=>iA,h0i:()=>om,hGG:()=>x0,hij:()=>Av,iGM:()=>hh,ifc:()=>kt,ip1:()=>tA,jDz:()=>px,kL8:()=>QE,lG2:()=>ge,lcZ:()=>Dx,lqb:()=>$u,lri:()=>y0,mCW:()=>T,n5z:()=>Un,oAB:()=>Ii,oxw:()=>xE,pB0:()=>gg,q3G:()=>br,q4F:()=>ww,qLn:()=>Tp,qOj:()=>zg,qZA:()=>$g,qzn:()=>mo,rWj:()=>cA,sBO:()=>Ei,sIi:()=>zo,s_b:()=>uy,soG:()=>um,tb:()=>l0,tp0:()=>Vo,uIk:()=>hv,vHH:()=>z,vpe:()=>Il,wAp:()=>$t,xp6:()=>B_,ynx:()=>qg,z2F:()=>Yt,z3N:()=>vr,zSh:()=>wp,zs3:()=>Ac});var s=f(7579),v=f(727),_=f(9751),I=f(6451),M=f(3099);function P(o){for(let l in o)if(o[l]===P)return l;throw Error("Could not find renamed property on target object.")}function O(o,l){for(const u in l)l.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=l[u])}function j(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(j).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Q(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const R=P({__forward_ref__:P});function H(o){return o.__forward_ref__=H,o.toString=function(){return j(this())},o}function U(o){return q(o)?o():o}function q(o){return"function"==typeof o&&o.hasOwnProperty(R)&&o.__forward_ref__===H}class z extends Error{constructor(l,u){super(function G(o,l){return`NG0${Math.abs(o)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function V(o){return"string"==typeof o?o:null==o?"":String(o)}function ae(o,l){throw new z(-201,!1)}function Ne(o,l){null==o&&function Le(o,l,u,p){throw new Error(`ASSERTION ERROR: ${o}`+(null==p?"":` [Expected=> ${u} ${p} ${l} <=Actual]`))}(l,o,null,"!=")}function Qe(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function jt(o){return{providers:o.providers||[],imports:o.imports||[]}}function Ut(o){return un(o,mr)||un(o,zr)}function Jt(o){return null!==Ut(o)}function un(o,l){return o.hasOwnProperty(l)?o[l]:null}function On(o){return o&&(o.hasOwnProperty(tr)||o.hasOwnProperty(jr))?o[tr]:null}const mr=P({\u0275prov:P}),tr=P({\u0275inj:P}),zr=P({ngInjectableDef:P}),jr=P({ngInjectorDef:P});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let bn;function jn(o){const l=bn;return bn=o,l}function Ir(o,l,u){const p=Ut(o);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:u&ft.Optional?null:void 0!==l?l:void ae(j(o))}function pn(o){return{toString:o}.toString()}var hn=(()=>((hn=hn||{})[hn.OnPush=0]="OnPush",hn[hn.Default=1]="Default",hn))(),kt=(()=>{return(o=kt||(kt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",kt;var o})();const An=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gr={},Lt=[],Gr=P({\u0275cmp:P}),Sn=P({\u0275dir:P}),ta=P({\u0275pipe:P}),dn=P({\u0275mod:P}),Dr=P({\u0275fac:P}),$r=P({__NG_ELEMENT_ID__:P});let Qi=0;function Yn(o){return pn(()=>{const u=!0===o.standalone,p={},g={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:p,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===hn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Lt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||kt.Emulated,id:"c"+Qi++,styles:o.styles||Lt,_:null,setInput:null,schemas:o.schemas||null,tView:null},w=o.dependencies,S=o.features;return g.inputs=_e(o.inputs,p),g.outputs=_e(o.outputs),S&&S.forEach(k=>k(g)),g.directiveDefs=w?()=>("function"==typeof w?w():w).map(Es).filter(rr):null,g.pipeDefs=w?()=>("function"==typeof w?w():w).map(ot).filter(rr):null,g})}function Es(o){return Be(o)||Pe(o)}function rr(o){return null!==o}function Ii(o){return pn(()=>({type:o.type,bootstrap:o.bootstrap||Lt,declarations:o.declarations||Lt,imports:o.imports||Lt,exports:o.exports||Lt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function _e(o,l){if(null==o)return gr;const u={};for(const p in o)if(o.hasOwnProperty(p)){let g=o[p],w=g;Array.isArray(g)&&(w=g[1],g=g[0]),u[g]=p,l&&(l[g]=w)}return u}const ge=Yn;function Se(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Be(o){return o[Gr]||null}function Pe(o){return o[Sn]||null}function ot(o){return o[ta]||null}function Vt(o){const l=Be(o)||Pe(o)||ot(o);return null!==l&&l.standalone}function Zt(o,l){const u=o[dn]||null;if(!u&&!0===l)throw new Error(`Type ${j(o)} does not have '\u0275mod' property.`);return u}function Tr(o){return Array.isArray(o)&&"object"==typeof o[1]}function yi(o){return Array.isArray(o)&&!0===o[1]}function oo(o){return 0!=(8&o.flags)}function ra(o){return 2==(2&o.flags)}function Vs(o){return 1==(1&o.flags)}function Ji(o){return null!==o.template}function ia(o){return 0!=(256&o[2])}function Bs(o,l){return o.hasOwnProperty(Dr)?o[Dr]:null}class xf{constructor(l,u,p){this.previousValue=l,this.currentValue=u,this.firstChange=p}isFirstChange(){return this.firstChange}}function Vi(){return Hh}function Hh(o){return o.type.prototype.ngOnChanges&&(o.setInput=ru),$a}function $a(){const o=Af(this),l=o?.current;if(l){const u=o.previous;if(u===gr)o.previous=l;else for(let p in l)u[p]=l[p];o.current=null,this.ngOnChanges(l)}}function ru(o,l,u,p){const g=Af(o)||function _i(o,l){return o[Ll]=l}(o,{previous:gr,current:null}),w=g.current||(g.current={}),S=g.previous,k=this.declaredInputs[u],L=S[k];w[k]=new xf(L&&L.currentValue,l,S===gr),o[p]=l}Vi.ngInherit=!0;const Ll="__ngSimpleChanges__";function Af(o){return o[Ll]||null}function ir(o){for(;Array.isArray(o);)o=o[0];return o}function Bi(o,l){return ir(l[o])}function vi(o,l){return ir(l[o.index])}function zl(o,l){return o.data[l]}function sa(o,l){return o[l]}function sr(o,l){const u=l[o];return Tr(u)?u:u[0]}function So(o){return 64==(64&o[2])}function Ti(o,l){return null==l?null:o[l]}function ao(o){o[18]=0}function Kr(o,l){o[5]+=l;let u=o,p=o[3];for(;null!==p&&(1===l&&1===u[5]||-1===l&&0===u[5]);)p[5]+=l,u=p,p=p[3]}const Bt={lFrame:hu(null),bindingsEnabled:!0};function $h(){return Bt.bindingsEnabled}function qe(){return Bt.lFrame.lView}function nn(){return Bt.lFrame.tView}function Gl(o){return Bt.lFrame.contextLView=o,o[8]}function ou(o){return Bt.lFrame.contextLView=null,o}function Qn(){let o=$l();for(;null!==o&&64===o.type;)o=o.parent;return o}function $l(){return Bt.lFrame.currentTNode}function xi(o,l){const u=Bt.lFrame;u.currentTNode=o,u.isParent=l}function oa(){return Bt.lFrame.isParent}function au(){Bt.lFrame.isParent=!1}function oi(){const o=Bt.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function Us(){return Bt.lFrame.bindingIndex++}function Qm(o,l){const u=Bt.lFrame;u.bindingIndex=u.bindingRootIndex=o,cu(l)}function cu(o){Bt.lFrame.currentDirectiveIndex=o}function Wa(o){const l=Bt.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function ql(){return Bt.lFrame.currentQueryIndex}function ai(o){Bt.lFrame.currentQueryIndex=o}function uu(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function Za(o,l,u){if(u&ft.SkipSelf){let g=l,w=o;for(;!(g=g.parent,null!==g||u&ft.Host||(g=uu(w),null===g||(w=w[15],10&g.type))););if(null===g)return!1;l=g,o=w}const p=Bt.lFrame=To();return p.currentTNode=l,p.lView=o,!0}function Ka(o){const l=To(),u=o[1];Bt.lFrame=l,l.currentTNode=u.firstChild,l.lView=o,l.tView=u,l.contextLView=o,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function To(){const o=Bt.lFrame,l=null===o?null:o.child;return null===l?hu(o):l}function hu(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function Ya(){const o=Bt.lFrame;return Bt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Wh=Ya;function la(){const o=Ya();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function yn(){return Bt.lFrame.selectedIndex}function zs(o){Bt.lFrame.selectedIndex=o}function Hn(){const o=Bt.lFrame;return zl(o.tView,o.selectedIndex)}function du(){Bt.lFrame.currentNamespace="svg"}function xo(o,l){for(let u=l.directiveStart,p=l.directiveEnd;u<p;u++){const w=o.data[u].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:k,ngAfterViewInit:L,ngAfterViewChecked:Y,ngOnDestroy:se}=w;S&&(o.contentHooks||(o.contentHooks=[])).push(-u,S),k&&((o.contentHooks||(o.contentHooks=[])).push(u,k),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,k)),L&&(o.viewHooks||(o.viewHooks=[])).push(-u,L),Y&&((o.viewHooks||(o.viewHooks=[])).push(u,Y),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,Y)),null!=se&&(o.destroyHooks||(o.destroyHooks=[])).push(u,se)}}function Qa(o,l,u){Xa(o,l,3,u)}function ca(o,l,u,p){(3&o[2])===u&&Xa(o,l,u,p)}function Yh(o,l){let u=o[2];(3&u)===l&&(u&=2047,u+=1,o[2]=u)}function Xa(o,l,u,p){const w=p??-1,S=l.length-1;let k=0;for(let L=void 0!==p?65535&o[18]:0;L<S;L++)if("number"==typeof l[L+1]){if(k=l[L],null!=p&&k>=p)break}else l[L]<0&&(o[18]+=65536),(k<w||-1==w)&&(Of(o,u,l,L),o[18]=(4294901760&o[18])+L+2),L++}function Of(o,l,u,p){const g=u[p]<0,w=u[p+1],k=o[g?-u[p]:u[p]];if(g){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{w.call(k)}finally{}}}else try{w.call(k)}finally{}}class Ja{constructor(l,u,p){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=p}}function Ql(o,l,u){let p=0;for(;p<u.length;){const g=u[p];if("number"==typeof g){if(0!==g)break;p++;const w=u[p++],S=u[p++],k=u[p++];o.setAttribute(l,S,k,w)}else{const w=g,S=u[++p];Lf(w)?o.setProperty(l,w,S):o.setAttribute(l,w,S),p++}}return p}function Xl(o){return 3===o||4===o||6===o}function Lf(o){return 64===o.charCodeAt(0)}function ua(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let u=-1;for(let p=0;p<l.length;p++){const g=l[p];"number"==typeof g?u=g:0===u||Xh(o,u,g,null,-1===u||2===u?l[++p]:null)}}return o}function Xh(o,l,u,p,g){let w=0,S=o.length;if(-1===l)S=-1;else for(;w<o.length;){const k=o[w++];if("number"==typeof k){if(k===l){S=-1;break}if(k>l){S=w-1;break}}}for(;w<o.length;){const k=o[w];if("number"==typeof k)break;if(k===u){if(null===p)return void(null!==g&&(o[w+1]=g));if(p===o[w+1])return void(o[w+2]=g)}w++,null!==p&&w++,null!==g&&w++}-1!==S&&(o.splice(S,0,l),w=S+1),o.splice(w++,0,u),null!==p&&o.splice(w++,0,p),null!==g&&o.splice(w++,0,g)}function yu(o){return-1!==o}function el(o){return 32767&o}function Ss(o,l){let u=function Vf(o){return o>>16}(o),p=l;for(;u>0;)p=p[15],u--;return p}let tl=!0;function Gs(o){const l=tl;return tl=o,l}let nl=0;const Hi={};function ha(o,l){const u=Mo(o,l);if(-1!==u)return u;const p=l[1];p.firstCreatePass&&(o.injectorIndex=l.length,vu(p.data,o),vu(l,null),vu(p.blueprint,null));const g=Po(o,l),w=o.injectorIndex;if(yu(g)){const S=el(g),k=Ss(g,l),L=k[1].data;for(let Y=0;Y<8;Y++)l[w+Y]=k[S+Y]|L[S+Y]}return l[w+8]=g,w}function vu(o,l){o.push(0,0,0,0,0,0,0,0,l)}function Mo(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function Po(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,p=null,g=l;for(;null!==g;){if(p=Uf(g),null===p)return-1;if(u++,g=g[15],-1!==p.injectorIndex)return p.injectorIndex|u<<16}return-1}function rl(o,l,u){!function _u(o,l,u){let p;"string"==typeof u?p=u.charCodeAt(0)||0:u.hasOwnProperty($r)&&(p=u[$r]),null==p&&(p=u[$r]=nl++);const g=255&p;l.data[o+(g>>5)]|=1<<g}(o,l,u)}function ec(o,l,u){if(u&ft.Optional||void 0!==o)return o;ae()}function Bf(o,l,u,p){if(u&ft.Optional&&void 0===p&&(p=null),0==(u&(ft.Self|ft.Host))){const g=o[9],w=jn(void 0);try{return g?g.get(l,p,u&ft.Optional):Ir(l,p,u&ft.Optional)}finally{jn(w)}}return ec(p,0,u)}function da(o,l,u,p=ft.Default,g){if(null!==o){if(1024&l[2]){const S=function sl(o,l,u,p,g){let w=o,S=l;for(;null!==w&&null!==S&&1024&S[2]&&!(256&S[2]);){const k=fa(w,S,u,p|ft.Self,Hi);if(k!==Hi)return k;let L=w.parent;if(!L){const Y=S[21];if(Y){const se=Y.get(u,Hi,p);if(se!==Hi)return se}L=Uf(S),S=S[15]}w=L}return g}(o,l,u,p,Hi);if(S!==Hi)return S}const w=fa(o,l,u,p,Hi);if(w!==Hi)return w}return Bf(l,u,p,g)}function fa(o,l,u,p,g){const w=function Ro(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty($r)?o[$r]:void 0;return"number"==typeof l?l>=0?255&l:eg:l}(u);if("function"==typeof w){if(!Za(l,o,p))return p&ft.Host?ec(g,0,p):Bf(l,u,p,g);try{const S=w(p);if(null!=S||p&ft.Optional)return S;ae()}finally{Wh()}}else if("number"==typeof w){let S=null,k=Mo(o,l),L=-1,Y=p&ft.Host?l[16][6]:null;for((-1===k||p&ft.SkipSelf)&&(L=-1===k?Po(o,l):l[k+8],-1!==L&&tc(p,!1)?(S=l[1],k=el(L),l=Ss(L,l)):k=-1);-1!==k;){const se=l[1];if(Hf(w,k,se.data)){const he=Jm(k,l,u,S,p,Y);if(he!==Hi)return he}L=l[k+8],-1!==L&&tc(p,l[1].data[k+8]===Y)&&Hf(w,k,l)?(S=se,k=el(L),l=Ss(L,l)):k=-1}}return g}function Jm(o,l,u,p,g,w){const S=l[1],k=S.data[o+8],se=Ds(k,S,u,null==p?ra(k)&&tl:p!=S&&0!=(3&k.type),g&ft.Host&&w===k);return null!==se?il(l,S,se,k):Hi}function Ds(o,l,u,p,g){const w=o.providerIndexes,S=l.data,k=1048575&w,L=o.directiveStart,se=w>>20,Ee=g?k+se:o.directiveEnd;for(let ke=p?k:k+se;ke<Ee;ke++){const Ge=S[ke];if(ke<L&&u===Ge||ke>=L&&Ge.type===u)return ke}if(g){const ke=S[L];if(ke&&Ji(ke)&&ke.type===u)return L}return null}function il(o,l,u,p){let g=o[u];const w=l.data;if(function Kl(o){return o instanceof Ja}(g)){const S=g;S.resolving&&function ee(o,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new z(-200,`Circular dependency in DI detected for ${o}${u}`)}(function B(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():V(o)}(w[u]));const k=Gs(S.canSeeViewProviders);S.resolving=!0;const L=S.injectImpl?jn(S.injectImpl):null;Za(o,p,ft.Default);try{g=o[u]=S.factory(void 0,w,o,p),l.firstCreatePass&&u>=p.directiveStart&&function pu(o,l,u){const{ngOnChanges:p,ngOnInit:g,ngDoCheck:w}=l.type.prototype;if(p){const S=Hh(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,S),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,S)}g&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,g),w&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,w),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,w))}(u,w[u],l)}finally{null!==L&&jn(L),Gs(k),S.resolving=!1,Wh()}}return g}function Hf(o,l,u){return!!(u[l+(o>>5)]&1<<o)}function tc(o,l){return!(o&ft.Self||o&ft.Host&&l)}class Ts{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,p){return da(this._tNode,this._lView,l,p,u)}}function eg(){return new Ts(Qn(),qe())}function Un(o){return pn(()=>{const l=o.prototype.constructor,u=l[Dr]||bu(l),p=Object.prototype;let g=Object.getPrototypeOf(o.prototype).constructor;for(;g&&g!==p;){const w=g[Dr]||bu(g);if(w&&w!==u)return w;g=Object.getPrototypeOf(g)}return w=>new w})}function bu(o){return q(o)?()=>{const l=bu(U(o));return l&&l()}:Bs(o)}function Uf(o){const l=o[1],u=l.type;return 2===u?l.declTNode:1===u?o[6]:null}function nc(o){return function ko(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const u=o.attrs;if(u){const p=u.length;let g=0;for(;g<p;){const w=u[g];if(Xl(w))break;if(0===w)g+=2;else if("number"==typeof w)for(g++;g<p&&"string"==typeof u[g];)g++;else{if(w===l)return u[g+1];g+=2}}}return null}(Qn(),o)}const Jn="__parameters__";function qs(o,l,u){return pn(()=>{const p=function pa(o){return function(...u){if(o){const p=o(...u);for(const g in p)this[g]=p[g]}}}(l);function g(...w){if(this instanceof g)return p.apply(this,w),this;const S=new g(...w);return k.annotation=S,k;function k(L,Y,se){const he=L.hasOwnProperty(Jn)?L[Jn]:Object.defineProperty(L,Jn,{value:[]})[Jn];for(;he.length<=se;)he.push(null);return(he[se]=he[se]||[]).push(S),L}}return u&&(g.prototype=Object.create(u.prototype)),g.prototype.ngMetadataName=o,g.annotationCls=g,g})}class In{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Qe({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ur(o,l){void 0===l&&(l=o);for(let u=0;u<o.length;u++){let p=o[u];Array.isArray(p)?(l===o&&(l=o.slice(0,u)),ur(p,l)):l!==o&&l.push(p)}return l}function is(o,l){o.forEach(u=>Array.isArray(u)?is(u,l):l(u))}function Eu(o,l,u){l>=o.length?o.push(u):o.splice(l,0,u)}function Cu(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function ma(o,l){const u=[];for(let p=0;p<o;p++)u.push(l);return u}function Pi(o,l,u){let p=ll(o,l);return p>=0?o[1|p]=u:(p=~p,function tg(o,l,u,p){let g=o.length;if(g==l)o.push(u,p);else if(1===g)o.push(p,o[0]),o[0]=u;else{for(g--,o.push(o[g-1],o[g]);g>l;)o[g]=o[g-2],g--;o[l]=u,o[l+1]=p}}(o,p,l,u)),p}function lc(o,l){const u=ll(o,l);if(u>=0)return o[1|u]}function ll(o,l){return function Zf(o,l,u){let p=0,g=o.length>>u;for(;g!==p;){const w=p+(g-p>>1),S=o[w<<u];if(l===S)return w<<u;S>l?g=w:p=w+1}return~(g<<u)}(o,l,1)}const bt={},hr="__NG_DI_FLAG__",li="ngTempTokenPath",Fr=/\n/gm,ul="__source";let No;function ci(o){const l=No;return No=o,l}function dc(o,l=ft.Default){if(void 0===No)throw new z(-203,!1);return null===No?Ir(o,void 0,l):No.get(o,l&ft.Optional?null:void 0,l)}function or(o,l=ft.Default){return(function cr(){return bn}()||dc)(U(o),l)}function St(o,l=ft.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),or(o,l)}function rd(o){const l=[];for(let u=0;u<o.length;u++){const p=U(o[u]);if(Array.isArray(p)){if(0===p.length)throw new z(900,!1);let g,w=ft.Default;for(let S=0;S<p.length;S++){const k=p[S],L=hl(k);"number"==typeof L?-1===L?g=k.token:w|=L:g=k}l.push(or(g,w))}else l.push(or(p))}return l}function Lo(o,l){return o[hr]=l,o.prototype[hr]=l,o}function hl(o){return o[hr]}const Ws=Lo(qs("Optional"),8),Vo=Lo(qs("SkipSelf"),4);var ls=(()=>((ls=ls||{})[ls.Important=1]="Important",ls[ls.DashCase=2]="DashCase",ls))();const ue=new Map;let we=0;const kn="__ngContext__";function xt(o,l){Tr(l)?(o[kn]=l[20],function ze(o){ue.set(o[20],o)}(l)):o[kn]=l}function vc(o,l){return undefined(o,l)}function Mu(o){const l=o[3];return yi(l)?l[3]:l}function bc(o){return Ca(o[13])}function og(o){return Ca(o[4])}function Ca(o){for(;null!==o&&!yi(o);)o=o[4];return o}function wc(o,l,u,p,g){if(null!=p){let w,S=!1;yi(p)?w=p:Tr(p)&&(S=!0,p=p[0]);const k=ir(p);0===o&&null!==u?null==g?Ru(l,u,k):Ho(l,u,k,g||null,!0):1===o&&null!==u?Ho(l,u,k,g||null,!0):2===o?function up(o,l,u){const p=dd(o,l);p&&function op(o,l,u,p){o.removeChild(l,u,p)}(o,p,l,u)}(l,k,S):3===o&&l.destroyNode(k),null!=w&&function fp(o,l,u,p,g){const w=u[7];w!==ir(u)&&wc(l,o,p,w,g);for(let k=10;k<u.length;k++){const L=u[k];Ou(L[1],L,o,l,p,w)}}(l,o,w,u,g)}}function rp(o,l,u){return o.createElement(l,u)}function Cc(o,l){const u=o[9],p=u.indexOf(l),g=l[3];512&l[2]&&(l[2]&=-513,Kr(g,-1)),u.splice(p,1)}function ml(o,l){if(o.length<=10)return;const u=10+l,p=o[u];if(p){const g=p[17];null!==g&&g!==o&&Cc(g,p),l>0&&(o[u-1][4]=p[4]);const w=Cu(o,10+l);!function pl(o,l){Ou(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(p[1],p);const S=w[19];null!==S&&S.detachView(w[1]),p[3]=null,p[4]=null,p[2]&=-65}return p}function gl(o,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&Ou(o,l,u,3,null,null),function b_(o){let l=o[13];if(!l)return ud(o[1],o);for(;l;){let u=null;if(Tr(l))u=l[13];else{const p=l[10];p&&(u=p)}if(!u){for(;l&&!l[4]&&l!==o;)Tr(l)&&ud(l[1],l),l=l[3];null===l&&(l=o),Tr(l)&&ud(l[1],l),u=l&&l[4]}l=u}}(l)}}function ud(o,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function hd(o,l){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let p=0;p<u.length;p+=2){const g=l[u[p]];if(!(g instanceof Ja)){const w=u[p+1];if(Array.isArray(w))for(let S=0;S<w.length;S+=2){const k=g[w[S]],L=w[S+1];try{L.call(k)}finally{}}else try{w.call(g)}finally{}}}}(o,l),function sp(o,l){const u=o.cleanup,p=l[7];let g=-1;if(null!==u)for(let w=0;w<u.length-1;w+=2)if("string"==typeof u[w]){const S=u[w+1],k="function"==typeof S?S(l):ir(l[S]),L=p[g=u[w+2]],Y=u[w+3];"boolean"==typeof Y?k.removeEventListener(u[w],L,Y):Y>=0?p[g=Y]():p[g=-Y].unsubscribe(),w+=2}else{const S=p[g=u[w+1]];u[w].call(S)}if(null!==p){for(let w=g+1;w<p.length;w++)(0,p[w])();l[7]=null}}(o,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&yi(l[3])){u!==l[3]&&Cc(u,l);const p=l[19];null!==p&&p.detachView(o)}!function it(o){ue.delete(o[20])}(l)}}function yl(o,l,u){return function ag(o,l,u){let p=l;for(;null!==p&&40&p.type;)p=(l=p).parent;if(null===p)return u[0];if(2&p.flags){const g=o.data[p.directiveStart].encapsulation;if(g===kt.None||g===kt.Emulated)return null}return vi(p,u)}(o,l.parent,u)}function Ho(o,l,u,p,g){o.insertBefore(l,u,p,g)}function Ru(o,l,u){o.appendChild(l,u)}function lg(o,l,u,p,g){null!==p?Ho(o,l,u,p,g):Ru(o,l,u)}function dd(o,l){return o.parentNode(l)}function cg(o,l,u){return lp(o,l,u)}let Sc,po,lp=function fd(o,l,u){return 40&o.type?vi(o,u):null};function fo(o,l,u,p){const g=yl(o,p,l),w=l[11],k=cg(p.parent||l[6],p,l);if(null!=g)if(Array.isArray(u))for(let L=0;L<u.length;L++)lg(w,g,u[L],k,!1);else lg(w,g,u,k,!1)}function Qs(o,l){if(null!==l){const u=l.type;if(3&u)return vi(l,o);if(4&u)return md(-1,o[l.index]);if(8&u){const p=l.child;if(null!==p)return Qs(o,p);{const g=o[l.index];return yi(g)?md(-1,g):ir(g)}}if(32&u)return vc(l,o)()||ir(o[l.index]);{const p=cp(o,l);return null!==p?Array.isArray(p)?p[0]:Qs(Mu(o[16]),p):Qs(o,l.next)}}return null}function cp(o,l){return null!==l?o[16][6].projection[l.projection]:null}function md(o,l){const u=10+o+1;if(u<l.length){const p=l[u],g=p[1].firstChild;if(null!==g)return Qs(p,g)}return l[7]}function hp(o,l,u,p,g,w,S){for(;null!=u;){const k=p[u.index],L=u.type;if(S&&0===l&&(k&&xt(ir(k),p),u.flags|=4),64!=(64&u.flags))if(8&L)hp(o,l,u.child,p,g,w,!1),wc(l,o,g,k,w);else if(32&L){const Y=vc(u,p);let se;for(;se=Y();)wc(l,o,g,se,w);wc(l,o,g,k,w)}else 16&L?dp(o,l,p,u,g,w):wc(l,o,g,k,w);u=S?u.projectionNext:u.next}}function Ou(o,l,u,p,g,w){hp(u,p,o.firstChild,l,g,w,!1)}function dp(o,l,u,p,g,w){const S=u[16],L=S[6].projection[p.projection];if(Array.isArray(L))for(let Y=0;Y<L.length;Y++)wc(l,o,g,L[Y],w);else hp(o,l,L,S[3],g,w,!0)}function mp(o,l,u){o.setAttribute(l,"style",u)}function gp(o,l,u){""===u?o.removeAttribute(l,"class"):o.setAttribute(l,"class",u)}function Vr(o){return function gd(){if(void 0===Sc&&(Sc=null,An.trustedTypes))try{Sc=An.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Sc}()?.createHTML(o)||o}function hg(o){po=o}class Sa{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wd extends Sa{getTypeName(){return"HTML"}}class Ri extends Sa{getTypeName(){return"Style"}}class Nu extends Sa{getTypeName(){return"Script"}}class Lu extends Sa{getTypeName(){return"URL"}}class C_ extends Sa{getTypeName(){return"ResourceURL"}}function vr(o){return o instanceof Sa?o.changingThisBreaksApplicationSecurity:o}function mo(o,l){const u=function fg(o){return o instanceof Sa&&o.getTypeName()||null}(o);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Ed(o){return new wd(o)}function pg(o){return new Ri(o)}function Cd(o){return new Nu(o)}function mg(o){return new Lu(o)}function gg(o){return new C_(o)}class Vu{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Vr(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class C{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const p=this.inertDocument.createElement("body");u.appendChild(p)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Vr(l),u;const p=this.inertDocument.createElement("body");return p.innerHTML=Vr(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(p),p}stripCustomNsAttrs(l){const u=l.attributes;for(let g=u.length-1;0<g;g--){const S=u.item(g).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&l.removeAttribute(S)}let p=l.firstChild;for(;p;)p.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(p),p=p.nextSibling}}const b=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function T(o){return(o=String(o)).match(b)?o:"unsafe:"+o}function $(o){const l={};for(const u of o.split(","))l[u]=!0;return l}function ie(...o){const l={};for(const u of o)for(const p in u)u.hasOwnProperty(p)&&(l[p]=!0);return l}const ve=$("area,br,col,hr,img,wbr"),Ae=$("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ze=$("rp,rt"),qn=ie(ve,ie(Ae,$("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ie(Ze,$("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ie(Ze,Ae)),us=$("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hu=ie(us,$("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dc=$("script,style,template");class _g{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,p=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?p=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,p&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let g=this.checkClobberedElement(u,u.nextSibling);if(g){u=g;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!qn.hasOwnProperty(u))return this.sanitizedSomething=!0,!Dc.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const p=l.attributes;for(let g=0;g<p.length;g++){const w=p.item(g),S=w.name,k=S.toLowerCase();if(!Hu.hasOwnProperty(k)){this.sanitizedSomething=!0;continue}let L=w.value;us[k]&&(L=T(L)),this.buf.push(" ",S,'="',Tc(L),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();qn.hasOwnProperty(u)&&!ve.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Tc(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const yp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_p=/([^\#-~ |!])/g;function Tc(o){return o.replace(/&/g,"&amp;").replace(yp,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(_p,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xc;function vp(o,l){let u=null;try{xc=xc||function yg(o){const l=new C(o);return function y(){try{return!!(new window.DOMParser).parseFromString(Vr(""),"text/html")}catch{return!1}}()?new Vu(l):l}(o);let p=l?String(l):"";u=xc.getInertBodyElement(p);let g=5,w=p;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,p=w,w=u.innerHTML,u=xc.getInertBodyElement(p)}while(p!==w);return Vr((new _g).sanitizeChildren(Ia(u)||u))}finally{if(u){const p=Ia(u)||u;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function Ia(o){return"content"in o&&function vl(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var br=(()=>((br=br||{})[br.NONE=0]="NONE",br[br.HTML=1]="HTML",br[br.STYLE=2]="STYLE",br[br.SCRIPT=3]="SCRIPT",br[br.URL=4]="URL",br[br.RESOURCE_URL=5]="RESOURCE_URL",br))();function Uu(o){const l=function zu(){const o=qe();return o&&o[12]}();return l?l.sanitize(br.URL,o)||"":mo(o,"URL")?vr(o):T(V(o))}const Sd=new In("ENVIRONMENT_INITIALIZER"),ju=new In("INJECTOR",-1),aw=new In("INJECTOR_DEF_TYPES");class lw{get(l,u=bt){if(u===bt){const p=new Error(`NullInjectorError: No provider for ${j(l)}!`);throw p.name="NullInjectorError",p}return u}}function vD(...o){return{\u0275providers:cw(0,o)}}function cw(o,...l){const u=[],p=new Set;let g;return is(l,w=>{const S=w;S_(S,u,[],p)&&(g||(g=[]),g.push(S))}),void 0!==g&&uw(g,u),u}function uw(o,l){for(let u=0;u<o.length;u++){const{providers:g}=o[u];is(g,w=>{l.push(w)})}}function S_(o,l,u,p){if(!(o=U(o)))return!1;let g=null,w=On(o);const S=!w&&Be(o);if(w||S){if(S&&!S.standalone)return!1;g=o}else{const L=o.ngModule;if(w=On(L),!w)return!1;g=L}const k=p.has(g);if(S){if(k)return!1;if(p.add(g),S.dependencies){const L="function"==typeof S.dependencies?S.dependencies():S.dependencies;for(const Y of L)S_(Y,l,u,p)}}else{if(!w)return!1;{if(null!=w.imports&&!k){let Y;p.add(g);try{is(w.imports,se=>{S_(se,l,u,p)&&(Y||(Y=[]),Y.push(se))})}finally{}void 0!==Y&&uw(Y,l)}if(!k){const Y=Bs(g)||(()=>new g);l.push({provide:g,useFactory:Y,deps:Lt},{provide:aw,useValue:g,multi:!0},{provide:Sd,useValue:()=>or(g),multi:!0})}const L=w.providers;null==L||k||is(L,se=>{l.push(se)})}}return g!==o&&void 0!==o.providers}const bD=P({provide:String,useValue:P});function I_(o){return null!==o&&"object"==typeof o&&bD in o}function bl(o){return"function"==typeof o}const wp=new In("Set Injector scope."),Gu={},wD={};let T_;function vg(){return void 0===T_&&(T_=new lw),T_}class $u{}class Ep extends $u{constructor(l,u,p,g){super(),this.parent=u,this.source=p,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,x_(l,S=>this.processProvider(S)),this.records.set(ju,qu(void 0,this)),g.has("environment")&&this.records.set($u,qu(void 0,this));const w=this.records.get(wp);null!=w&&"string"==typeof w.value&&this.scopes.add(w.value),this.injectorDefTypes=new Set(this.get(aw.multi,Lt,ft.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=ci(this),p=jn(void 0);try{return l()}finally{ci(u),jn(p)}}get(l,u=bt,p=ft.Default){this.assertNotDestroyed();const g=ci(this),w=jn(void 0);try{if(!(p&ft.SkipSelf)){let k=this.records.get(l);if(void 0===k){const L=function ED(o){return"function"==typeof o||"object"==typeof o&&o instanceof In}(l)&&Ut(l);k=L&&this.injectableDefInScope(L)?qu(bg(l),Gu):null,this.records.set(l,k)}if(null!=k)return this.hydrate(l,k)}return(p&ft.Self?vg():this.parent).get(l,u=p&ft.Optional&&u===bt?null:u)}catch(S){if("NullInjectorError"===S.name){if((S[li]=S[li]||[]).unshift(j(l)),g)throw S;return function fc(o,l,u,p){const g=o[li];throw l[ul]&&g.unshift(l[ul]),o.message=function $n(o,l,u,p=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let g=j(l);if(Array.isArray(l))g=l.map(j).join(" -> ");else if("object"==typeof l){let w=[];for(let S in l)if(l.hasOwnProperty(S)){let k=l[S];w.push(S+":"+("string"==typeof k?JSON.stringify(k):j(k)))}g=`{${w.join(", ")}}`}return`${u}${p?"("+p+")":""}[${g}]: ${o.replace(Fr,"\n  ")}`}("\n"+o.message,g,u,p),o.ngTokenPath=g,o[li]=null,o}(S,l,"R3InjectorError",this.source)}throw S}finally{jn(w),ci(g)}}resolveInjectorInitializers(){const l=ci(this),u=jn(void 0);try{const p=this.get(Sd.multi,Lt,ft.Self);for(const g of p)g()}finally{ci(l),jn(u)}}toString(){const l=[],u=this.records;for(const p of u.keys())l.push(j(p));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(l){let u=bl(l=U(l))?l:U(l&&l.provide);const p=function wg(o){return I_(o)?qu(void 0,o.useValue):qu(Cp(o),Gu)}(l);if(bl(l)||!0!==l.multi)this.records.get(u);else{let g=this.records.get(u);g||(g=qu(void 0,Gu,!0),g.factory=()=>rd(g.multi),this.records.set(u,g)),u=l,g.multi.push(l)}this.records.set(u,p)}hydrate(l,u){return u.value===Gu&&(u.value=wD,u.value=u.factory()),"object"==typeof u.value&&u.value&&function pw(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=U(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function bg(o){const l=Ut(o),u=null!==l?l.factory:Bs(o);if(null!==u)return u;if(o instanceof In)throw new z(204,!1);if(o instanceof Function)return function fw(o){const l=o.length;if(l>0)throw ma(l,"?"),new z(204,!1);const u=function lt(o){const l=o&&(o[mr]||o[zr]);if(l){const u=function on(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new z(204,!1)}function Cp(o,l,u){let p;if(bl(o)){const g=U(o);return Bs(g)||bg(g)}if(I_(o))p=()=>U(o.useValue);else if(function hw(o){return!(!o||!o.useFactory)}(o))p=()=>o.useFactory(...rd(o.deps||[]));else if(function D_(o){return!(!o||!o.useExisting)}(o))p=()=>or(U(o.useExisting));else{const g=U(o&&(o.useClass||o.provide));if(!function Sp(o){return!!o.deps}(o))return Bs(g)||bg(g);p=()=>new g(...rd(o.deps))}return p}function qu(o,l,u=!1){return{factory:o,value:l,multi:u?[]:void 0}}function CD(o){return!!o.\u0275providers}function x_(o,l){for(const u of o)Array.isArray(u)?x_(u,l):CD(u)?x_(u.\u0275providers,l):l(u)}class mw{}class ID{resolveComponentFactory(l){throw function Eg(o){const l=Error(`No component factory found for ${j(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let Ip=(()=>{class o{}return o.NULL=new ID,o})();function DD(){return Id(Qn(),qe())}function Id(o,l){return new Dp(vi(o,l))}let Dp=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=DD,o})();function yw(o){return o instanceof Dp?o.nativeElement:o}class A_{}let _w=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function vw(){const o=qe(),u=sr(Qn().index,o);return(Tr(u)?u:o)[11]}(),o})(),bw=(()=>{class o{}return o.\u0275prov=Qe({token:o,providedIn:"root",factory:()=>null}),o})();class M_{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const ww=new M_("14.3.0"),P_={};function R_(o){return o.ngOriginalError}class Tp{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&R_(l);for(;u&&R_(u);)u=R_(u);return u||null}}function wl(o){return o instanceof Function?o():o}function xp(o,l,u){let p=o.length;for(;;){const g=o.indexOf(l,u);if(-1===g)return g;if(0===g||o.charCodeAt(g-1)<=32){const w=l.length;if(g+w===p||o.charCodeAt(g+w)<=32)return g}u=g+1}}const Aw="ng-template";function MD(o,l,u){let p=0;for(;p<o.length;){let g=o[p++];if(u&&"class"===g){if(g=o[p],-1!==xp(g.toLowerCase(),l,0))return!0}else if(1===g){for(;p<o.length&&"string"==typeof(g=o[p++]);)if(g.toLowerCase()===l)return!0;return!1}}return!1}function Mw(o){return 4===o.type&&o.value!==Aw}function PD(o,l,u){return l===(4!==o.type||u?o.value:Aw)}function Pw(o,l,u){let p=4;const g=o.attrs||[],w=function L_(o){for(let l=0;l<o.length;l++)if(Xl(o[l]))return l;return o.length}(g);let S=!1;for(let k=0;k<l.length;k++){const L=l[k];if("number"!=typeof L){if(!S)if(4&p){if(p=2|1&p,""!==L&&!PD(o,L,u)||""===L&&1===l.length){if(Ln(p))return!1;S=!0}}else{const Y=8&p?L:l[++k];if(8&p&&null!==o.attrs){if(!MD(o.attrs,Y,u)){if(Ln(p))return!1;S=!0}continue}const he=kD(8&p?"class":L,g,Mw(o),u);if(-1===he){if(Ln(p))return!1;S=!0;continue}if(""!==Y){let Ee;Ee=he>w?"":g[he+1].toLowerCase();const ke=8&p?Ee:null;if(ke&&-1!==xp(ke,Y,0)||2&p&&Y!==Ee){if(Ln(p))return!1;S=!0}}}}else{if(!S&&!Ln(p)&&!Ln(L))return!1;if(S&&Ln(L))continue;S=!1,p=L|1&p}}return Ln(p)||S}function Ln(o){return 0==(1&o)}function kD(o,l,u,p){if(null===l)return-1;let g=0;if(p||!u){let w=!1;for(;g<l.length;){const S=l[g];if(S===o)return g;if(3===S||6===S)w=!0;else{if(1===S||2===S){let k=l[++g];for(;"string"==typeof k;)k=l[++g];continue}if(4===S)break;if(0===S){g+=4;continue}}g+=w?1:2}return-1}return function RD(o,l){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const p=o[u];if("number"==typeof p)return-1;if(p===l)return u;u++}return-1}(l,o)}function F_(o,l,u=!1){for(let p=0;p<l.length;p++)if(Pw(o,l[p],u))return!0;return!1}function OD(o,l){e:for(let u=0;u<l.length;u++){const p=l[u];if(o.length===p.length){for(let g=0;g<o.length;g++)if(o[g]!==p[g])continue e;return!0}}return!1}function V_(o,l){return o?":not("+l.trim()+")":l}function Fk(o){let l=o[0],u=1,p=2,g="",w=!1;for(;u<o.length;){let S=o[u];if("string"==typeof S)if(2&p){const k=o[++u];g+="["+S+(k.length>0?'="'+k+'"':"")+"]"}else 8&p?g+="."+S:4&p&&(g+=" "+S);else""!==g&&!Ln(S)&&(l+=V_(w,g),g=""),p=S,w=w||!Ln(p);u++}return""!==g&&(l+=V_(w,g)),l}const Xt={};function B_(o){Ap(nn(),qe(),yn()+o,!1)}function Ap(o,l,u,p){if(!p)if(3==(3&l[2])){const w=o.preOrderCheckHooks;null!==w&&Qa(l,w,u)}else{const w=o.preOrderHooks;null!==w&&ca(l,w,0,u)}zs(u)}function Ow(o,l=null,u=null,p){const g=Fw(o,l,u,p);return g.resolveInjectorInitializers(),g}function Fw(o,l=null,u=null,p,g=new Set){const w=[u||Lt,vD(o)];return p=p||("object"==typeof o?void 0:j(o)),new Ep(w,l||vg(),p||null,g)}let Ac=(()=>{class o{static create(u,p){if(Array.isArray(u))return Ow({name:""},p,u,"");{const g=u.name??"";return Ow({name:g},u.parent,u.providers,g)}}}return o.THROW_IF_NOT_FOUND=bt,o.NULL=new lw,o.\u0275prov=Qe({token:o,providedIn:"any",factory:()=>or(ju)}),o.__NG_ELEMENT_ID__=-1,o})();function Br(o,l=ft.Default){const u=qe();return null===u?or(o,l):da(Qn(),u,U(o),l)}function El(){throw new Error("invalid")}function zn(o,l){return o<<17|l<<2}function go(o){return o>>17&32767}function Tg(o){return 2|o}function Ta(o){return(131068&o)>>2}function xg(o,l){return-131069&o|l<<2}function Ag(o){return 1|o}function Og(o,l){const u=o.contentQueries;if(null!==u)for(let p=0;p<u.length;p+=2){const g=u[p],w=u[p+1];if(-1!==w){const S=o.data[w];ai(g),S.contentQueries(2,l[w],w)}}}function Sl(o,l,u,p,g,w,S,k,L,Y,se){const he=l.blueprint.slice();return he[0]=g,he[2]=76|p,(null!==se||o&&1024&o[2])&&(he[2]|=1024),ao(he),he[3]=he[15]=o,he[8]=u,he[10]=S||o&&o[10],he[11]=k||o&&o[11],he[12]=L||o&&o[12]||null,he[9]=Y||o&&o[9]||null,he[6]=w,he[20]=function De(){return we++}(),he[21]=se,he[16]=2==l.type?o[16]:he,he}function xa(o,l,u,p,g){let w=o.data[l];if(null===w)w=function Fp(o,l,u,p,g){const w=$l(),S=oa(),L=o.data[l]=function Hp(o,l,u,p,g,w){return{type:u,index:p,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?w:w&&w.parent,u,l,p,g);return null===o.firstChild&&(o.firstChild=L),null!==w&&(S?null==w.child&&null!==L.parent&&(w.child=L):null===w.next&&(w.next=L)),L}(o,l,u,p,g),function qh(){return Bt.lFrame.inI18n}()&&(w.flags|=64);else if(64&w.type){w.type=u,w.value=p,w.attrs=g;const S=function Io(){const o=Bt.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();w.injectorIndex=null===S?-1:S.injectorIndex}return xi(w,!0),w}function Yu(o,l,u,p){if(0===u)return-1;const g=l.length;for(let w=0;w<u;w++)l.push(p),o.blueprint.push(p),o.data.push(null);return g}function Np(o,l,u){Ka(l);try{const p=o.viewQuery;null!==p&&Hg(1,p,u);const g=o.template;null!==g&&Vp(o,l,g,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Og(o,l),o.staticViewQueries&&Hg(2,o.viewQuery,u);const w=o.components;null!==w&&function Fg(o,l){for(let u=0;u<l.length;u++)eR(o,l[u])}(l,w)}catch(p){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),p}finally{l[2]&=-5,la()}}function Lp(o,l,u,p){const g=l[2];if(128!=(128&g)){Ka(l);try{ao(l),function ns(o){return Bt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Vp(o,l,u,2,p);const S=3==(3&g);if(S){const Y=o.preOrderCheckHooks;null!==Y&&Qa(l,Y,null)}else{const Y=o.preOrderHooks;null!==Y&&ca(l,Y,0,null),Yh(l,0)}if(function iT(o){for(let l=bc(o);null!==l;l=og(l)){if(!l[2])continue;const u=l[9];for(let p=0;p<u.length;p++){const g=u[p],w=g[3];0==(512&g[2])&&Kr(w,1),g[2]|=512}}}(l),function Jk(o){for(let l=bc(o);null!==l;l=og(l))for(let u=10;u<l.length;u++){const p=l[u],g=p[1];So(p)&&Lp(g,p,g.template,p[8])}}(l),null!==o.contentQueries&&Og(o,l),S){const Y=o.contentCheckHooks;null!==Y&&Qa(l,Y)}else{const Y=o.contentHooks;null!==Y&&ca(l,Y,1),Yh(l,1)}!function YD(o,l){const u=o.hostBindingOpCodes;if(null!==u)try{for(let p=0;p<u.length;p++){const g=u[p];if(g<0)zs(~g);else{const w=g,S=u[++p],k=u[++p];Qm(S,w),k(2,l[w])}}}finally{zs(-1)}}(o,l);const k=o.components;null!==k&&function Op(o,l){for(let u=0;u<l.length;u++)lE(o,l[u])}(l,k);const L=o.viewQuery;if(null!==L&&Hg(2,L,p),S){const Y=o.viewCheckHooks;null!==Y&&Qa(l,Y)}else{const Y=o.viewHooks;null!==Y&&ca(l,Y,2),Yh(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Kr(l[3],-1))}finally{la()}}}function Vp(o,l,u,p,g){const w=yn(),S=2&p;try{zs(-1),S&&l.length>22&&Ap(o,l,22,!1),u(p,g)}finally{zs(w)}}function tv(o,l,u){if(oo(l)){const g=l.directiveEnd;for(let w=l.directiveStart;w<g;w++){const S=o.data[w];S.contentQueries&&S.contentQueries(1,u[w],w)}}}function Ng(o,l,u){!$h()||(function Yk(o,l,u,p){const g=u.directiveStart,w=u.directiveEnd;o.firstCreatePass||ha(u,l),xt(p,l);const S=u.initialInputs;for(let k=g;k<w;k++){const L=o.data[k],Y=Ji(L);Y&&Xk(l,u,L);const se=il(l,o,k,u);xt(se,l),null!==S&&Bg(0,k-g,se,L,0,S),Y&&(sr(u.index,l)[8]=se)}}(o,l,u,vi(u,l)),128==(128&u.flags)&&function tT(o,l,u){const p=u.directiveStart,g=u.directiveEnd,w=u.index,S=function aa(){return Bt.lFrame.currentDirectiveIndex}();try{zs(w);for(let k=p;k<g;k++){const L=o.data[k],Y=l[k];cu(k),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&iv(L,Y)}}finally{zs(-1),cu(S)}}(o,l,u))}function Md(o,l,u=vi){const p=l.localNames;if(null!==p){let g=l.index+1;for(let w=0;w<p.length;w+=2){const S=p[w+1],k=-1===S?u(l,o):o[S];o[g++]=k}}}function Pd(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=rE(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function rE(o,l,u,p,g,w,S,k,L,Y){const se=22+p,he=se+g,Ee=function Wk(o,l){const u=[];for(let p=0;p<l;p++)u.push(p<o?null:Xt);return u}(se,he),ke="function"==typeof Y?Y():Y;return Ee[1]={type:o,blueprint:Ee,template:u,queries:null,viewQuery:k,declTNode:l,data:Ee.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:he,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:L,consts:ke,incompleteFirstPass:!1}}function Bp(o,l,u,p){const g=kd(l);null===u?g.push(p):(g.push(u),o.firstCreatePass&&uE(o).push(p,g.length-1))}function Up(o,l,u){for(let p in o)if(o.hasOwnProperty(p)){const g=o[p];(u=null===u?{}:u).hasOwnProperty(p)?u[p].push(l,g):u[p]=[l,g]}return u}function zp(o,l){const p=l.directiveEnd,g=o.data,w=l.attrs,S=[];let k=null,L=null;for(let Y=l.directiveStart;Y<p;Y++){const se=g[Y],he=se.inputs,Ee=null===w||Mw(l)?null:aE(he,w);S.push(Ee),k=Up(he,Y,k),L=Up(se.outputs,Y,L)}null!==k&&(k.hasOwnProperty("class")&&(l.flags|=16),k.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=S,l.inputs=k,l.outputs=L}function ds(o,l,u,p,g,w,S,k){const L=vi(l,u);let se,Y=l.inputs;!k&&null!=Y&&(se=Y[p])?(dE(o,u,se,p,g),ra(l)&&jp(u,l.index)):3&l.type&&(p=function XD(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(p),g=null!=S?S(g,l.value||"",p):g,w.setProperty(L,p,g))}function jp(o,l){const u=sr(l,o);16&u[2]||(u[2]|=32)}function nv(o,l,u,p){let g=!1;if($h()){const w=function Qk(o,l,u){const p=o.directiveRegistry;let g=null;if(p)for(let w=0;w<p.length;w++){const S=p[w];F_(u,S.selectors,!1)&&(g||(g=[]),rl(ha(u,l),o,S.type),Ji(S)?(Lg(o,u),g.unshift(S)):g.push(S))}return g}(o,l,u),S=null===p?null:{"":-1};if(null!==w){g=!0,Vg(u,o.data.length,w.length);for(let se=0;se<w.length;se++){const he=w[se];he.providersResolver&&he.providersResolver(he)}let k=!1,L=!1,Y=Yu(o,l,w.length,null);for(let se=0;se<w.length;se++){const he=w[se];u.mergedAttrs=ua(u.mergedAttrs,he.hostAttrs),oE(o,u,l,Y,he),sE(Y,he,S),null!==he.contentQueries&&(u.flags|=8),(null!==he.hostBindings||null!==he.hostAttrs||0!==he.hostVars)&&(u.flags|=128);const Ee=he.type.prototype;!k&&(Ee.ngOnChanges||Ee.ngOnInit||Ee.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),k=!0),!L&&(Ee.ngOnChanges||Ee.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),L=!0),Y++}zp(o,u)}S&&function nT(o,l,u){if(l){const p=o.localNames=[];for(let g=0;g<l.length;g+=2){const w=u[l[g+1]];if(null==w)throw new z(-301,!1);p.push(l[g],w)}}}(u,p,S)}return u.mergedAttrs=ua(u.mergedAttrs,u.attrs),g}function rv(o,l,u,p,g,w){const S=w.hostBindings;if(S){let k=o.hostBindingOpCodes;null===k&&(k=o.hostBindingOpCodes=[]);const L=~l.index;(function eT(o){let l=o.length;for(;l>0;){const u=o[--l];if("number"==typeof u&&u<0)return u}return 0})(k)!=L&&k.push(L),k.push(p,g,S)}}function iv(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function Lg(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function sE(o,l,u){if(u){if(l.exportAs)for(let p=0;p<l.exportAs.length;p++)u[l.exportAs[p]]=o;Ji(l)&&(u[""]=o)}}function Vg(o,l,u){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+u,o.providerIndexes=l}function oE(o,l,u,p,g){o.data[p]=g;const w=g.factory||(g.factory=Bs(g.type)),S=new Ja(w,Ji(g),Br);o.blueprint[p]=S,u[p]=S,rv(o,l,0,p,Yu(o,u,g.hostVars,Xt),g)}function Xk(o,l,u){const p=vi(l,o),g=Pd(u),w=o[10],S=sv(o,Sl(o,g,null,u.onPush?32:16,p,l,w,w.createRenderer(p,u),null,null,null));o[l.index]=S}function Aa(o,l,u,p,g,w){const S=vi(o,l);!function Qu(o,l,u,p,g,w,S){if(null==w)o.removeAttribute(l,g,u);else{const k=null==S?V(w):S(w,p||"",g);o.setAttribute(l,g,k,u)}}(l[11],S,w,o.value,u,p,g)}function Bg(o,l,u,p,g,w){const S=w[l];if(null!==S){const k=p.setInput;for(let L=0;L<S.length;){const Y=S[L++],se=S[L++],he=S[L++];null!==k?p.setInput(u,he,Y,se):u[se]=he}}}function aE(o,l){let u=null,p=0;for(;p<l.length;){const g=l[p];if(0!==g)if(5!==g){if("number"==typeof g)break;o.hasOwnProperty(g)&&(null===u&&(u=[]),u.push(g,o[g],l[p+1])),p+=2}else p+=2;else p+=4}return u}function Xu(o,l,u,p){return new Array(o,!0,!1,l,null,0,p,u,null,null)}function lE(o,l){const u=sr(l,o);if(So(u)){const p=u[1];48&u[2]?Lp(p,u,p.template,u[8]):u[5]>0&&cE(u)}}function cE(o){for(let p=bc(o);null!==p;p=og(p))for(let g=10;g<p.length;g++){const w=p[g];if(So(w))if(512&w[2]){const S=w[1];Lp(S,w,S.template,w[8])}else w[5]>0&&cE(w)}const u=o[1].components;if(null!==u)for(let p=0;p<u.length;p++){const g=sr(u[p],o);So(g)&&g[5]>0&&cE(g)}}function eR(o,l){const u=sr(l,o),p=u[1];(function tR(o,l){for(let u=l.length;u<o.blueprint.length;u++)l.push(o.blueprint[u])})(p,u),Np(p,u,u[8])}function sv(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function ov(o){for(;o;){o[2]|=32;const l=Mu(o);if(ia(o)&&!l)return o;o=l}return null}function Gp(o,l,u,p=!0){const g=l[10];g.begin&&g.begin();try{Lp(o,l,o.template,u)}catch(S){throw p&&hE(l,S),S}finally{g.end&&g.end()}}function Hg(o,l,u){ai(0),l(o,u)}function kd(o){return o[7]||(o[7]=[])}function uE(o){return o.cleanup||(o.cleanup=[])}function av(o,l,u){return(null===o||Ji(o))&&(u=function Hs(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[l.index])),u[11]}function hE(o,l){const u=o[9],p=u?u.get(Tp,null):null;p&&p.handleError(l)}function dE(o,l,u,p,g){for(let w=0;w<u.length;){const S=u[w++],k=u[w++],L=l[S],Y=o.data[S];null!==Y.setInput?Y.setInput(L,g,p,k):L[k]=g}}function Ug(o,l,u){let p=u?o.styles:null,g=u?o.classes:null,w=0;if(null!==l)for(let S=0;S<l.length;S++){const k=l[S];"number"==typeof k?w=k:1==w?g=Q(g,k):2==w&&(p=Q(p,k+": "+l[++S]+";"))}u?o.styles=p:o.stylesWithoutHost=p,u?o.classes=g:o.classesWithoutHost=g}function $p(o,l,u,p,g=!1){for(;null!==u;){const w=l[u.index];if(null!==w&&p.push(ir(w)),yi(w))for(let k=10;k<w.length;k++){const L=w[k],Y=L[1].firstChild;null!==Y&&$p(L[1],L,Y,p)}const S=u.type;if(8&S)$p(o,l,u.child,p);else if(32&S){const k=vc(u,l);let L;for(;L=k();)p.push(L)}else if(16&S){const k=cp(l,u);if(Array.isArray(k))p.push(...k);else{const L=Mu(l[16]);$p(L[1],L,k,p,!0)}}u=g?u.projectionNext:u.next}return p}class qp{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return $p(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(yi(l)){const u=l[8],p=u?u.indexOf(this):-1;p>-1&&(ml(l,p),Cu(u,p))}this._attachedToViewContainer=!1}gl(this._lView[1],this._lView)}onDestroy(l){Bp(this._lView[1],this._lView,null,l)}markForCheck(){ov(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Gp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sw(o,l){Ou(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=l}}class fE extends qp{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Gp(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class Wp extends Ip{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=Be(l);return new yo(u,this.ngModule)}}function pE(o){const l=[];for(let u in o)o.hasOwnProperty(u)&&l.push({propName:o[u],templateName:u});return l}class oT{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,p){const g=this.injector.get(l,P_,p);return g!==P_||u===P_?g:this.parentInjector.get(l,u,p)}}class yo extends mw{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function Nk(o){return o.map(Fk).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return pE(this.componentDef.inputs)}get outputs(){return pE(this.componentDef.outputs)}create(l,u,p,g){let w=(g=g||this.ngModule)instanceof $u?g:g?.injector;w&&null!==this.componentDef.getStandaloneInjector&&(w=this.componentDef.getStandaloneInjector(w)||w);const S=w?new oT(l,w):l,k=S.get(A_,null);if(null===k)throw new z(407,!1);const L=S.get(bw,null),Y=k.createRenderer(null,this.componentDef),se=this.componentDef.selectors[0][0]||"div",he=p?function Zk(o,l,u){return o.selectRootElement(l,u===kt.ShadowDom)}(Y,p,this.componentDef.encapsulation):rp(Y,se,function lv(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(se)),Ee=this.componentDef.onPush?288:272,ke=rE(0,null,null,1,0,null,null,null,null,null),Ge=Sl(null,ke,null,Ee,null,null,k,Y,L,S,null);let tt,ct;Ka(Ge);try{const Tt=function yE(o,l,u,p,g,w){const S=u[1];u[22]=o;const L=xa(S,22,2,"#host",null),Y=L.mergedAttrs=l.hostAttrs;null!==Y&&(Ug(L,Y,!0),null!==o&&(Ql(g,o,Y),null!==L.classes&&gp(g,o,L.classes),null!==L.styles&&mp(g,o,L.styles)));const se=p.createRenderer(o,l),he=Sl(u,Pd(l),null,l.onPush?32:16,u[22],L,p,se,w||null,null,null);return S.firstCreatePass&&(rl(ha(L,u),S,l.type),Lg(S,L),Vg(L,u.length,1)),sv(u,he),u[22]=he}(he,this.componentDef,Ge,k,Y);if(he)if(p)Ql(Y,he,["ng-version",ww.full]);else{const{attrs:Rt,classes:We}=function FD(o){const l=[],u=[];let p=1,g=2;for(;p<o.length;){let w=o[p];if("string"==typeof w)2===g?""!==w&&l.push(w,o[++p]):8===g&&u.push(w);else{if(!Ln(g))break;g=w}p++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Rt&&Ql(Y,he,Rt),We&&We.length>0&&gp(Y,he,We.join(" "))}if(ct=zl(ke,22),void 0!==u){const Rt=ct.projection=[];for(let We=0;We<this.ngContentSelectors.length;We++){const qt=u[We];Rt.push(null!=qt?Array.from(qt):null)}}tt=function cT(o,l,u,p){const g=u[1],w=function iE(o,l,u){const p=Qn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),oE(o,p,l,Yu(o,l,1,null),u),zp(o,p));const g=il(l,o,p.directiveStart,p);xt(g,l);const w=vi(p,l);return w&&xt(w,l),g}(g,u,l);if(o[8]=u[8]=w,null!==p)for(const k of p)k(w,l);if(l.contentQueries){const k=Qn();l.contentQueries(1,w,k.directiveStart)}const S=Qn();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(zs(S.index),rv(u[1],S,0,S.directiveStart,S.directiveEnd,l),iv(l,w)),w}(Tt,this.componentDef,Ge,[Rd]),Np(ke,Ge,null)}finally{la()}return new lT(this.componentType,tt,Id(ct,Ge),Ge,ct)}}class lT extends class SD{}{constructor(l,u,p,g,w){super(),this.location=p,this._rootLView=g,this._tNode=w,this.instance=u,this.hostView=this.changeDetectorRef=new fE(g),this.componentType=l}setInput(l,u){const p=this._tNode.inputs;let g;if(null!==p&&(g=p[l])){const w=this._rootLView;dE(w[1],w,g,l,u),jp(w,this._tNode.index)}}get injector(){return new Ts(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Rd(){const o=Qn();xo(qe()[1],o)}function zg(o){let l=function _E(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const p=[o];for(;l;){let g;if(Ji(o))g=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new z(903,!1);g=l.\u0275dir}if(g){if(u){p.push(g);const S=o;S.inputs=Zp(o.inputs),S.declaredInputs=Zp(o.declaredInputs),S.outputs=Zp(o.outputs);const k=g.hostBindings;k&&vE(o,k);const L=g.viewQuery,Y=g.contentQueries;if(L&&hT(o,L),Y&&dT(o,Y),O(o.inputs,g.inputs),O(o.declaredInputs,g.declaredInputs),O(o.outputs,g.outputs),Ji(g)&&g.data.animation){const se=o.data;se.animation=(se.animation||[]).concat(g.data.animation)}}const w=g.features;if(w)for(let S=0;S<w.length;S++){const k=w[S];k&&k.ngInherit&&k(o),k===zg&&(u=!1)}}l=Object.getPrototypeOf(l)}!function uT(o){let l=0,u=null;for(let p=o.length-1;p>=0;p--){const g=o[p];g.hostVars=l+=g.hostVars,g.hostAttrs=ua(g.hostAttrs,u=ua(u,g.hostAttrs))}}(p)}function Zp(o){return o===gr?{}:o===Lt?[]:o}function hT(o,l){const u=o.viewQuery;o.viewQuery=u?(p,g)=>{l(p,g),u(p,g)}:l}function dT(o,l){const u=o.contentQueries;o.contentQueries=u?(p,g,w)=>{l(p,g,w),u(p,g,w)}:l}function vE(o,l){const u=o.hostBindings;o.hostBindings=u?(p,g)=>{l(p,g),u(p,g)}:l}let jg=null;function Pc(){if(!jg){const o=An.Symbol;if(o&&o.iterator)jg=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const p=l[u];"entries"!==p&&"size"!==p&&Map.prototype[p]===Map.prototype.entries&&(jg=p)}}}return jg}function zo(o){return!!uv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Pc()in o)}function uv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Pa(o,l,u){return o[l]=u}function Jr(o,l,u){return!Object.is(o[l],u)&&(o[l]=u,!0)}function hv(o,l,u,p){const g=qe();return Jr(g,Us(),l)&&(nn(),Aa(Hn(),g,o,l,u,p)),hv}function Od(o,l,u,p){return Jr(o,Us(),u)?l+V(u)+p:Xt}function Gi(o,l,u,p,g,w,S,k){const L=qe(),Y=nn(),se=o+22,he=Y.firstCreatePass?function EE(o,l,u,p,g,w,S,k,L){const Y=l.consts,se=xa(l,o,4,S||null,Ti(Y,k));nv(l,u,se,Ti(Y,L)),xo(l,se);const he=se.tViews=rE(2,se,p,g,w,l.directiveRegistry,l.pipeRegistry,null,l.schemas,Y);return null!==l.queries&&(l.queries.template(l,se),he.queries=l.queries.embeddedTView(se)),se}(se,Y,L,l,u,p,g,w,S):Y.data[se];xi(he,!1);const Ee=L[11].createComment("");fo(Y,L,Ee,he),xt(Ee,L),sv(L,L[se]=Xu(Ee,L,Ee,he)),Vs(he)&&Ng(Y,L,he),null!=S&&Md(L,he,k)}function CE(o){return sa(function Xn(){return Bt.lFrame.contextLView}(),22+o)}function th(o,l,u){const p=qe();return Jr(p,Us(),l)&&ds(nn(),Hn(),p,o,l,p[11],u,!1),th}function xr(o,l,u,p,g){const S=g?"class":"style";dE(o,u,l.inputs[S],S,p)}function mv(o,l,u,p){const g=qe(),w=nn(),S=22+o,k=g[11],L=g[S]=rp(k,l,function Zl(){return Bt.lFrame.currentNamespace}()),Y=w.firstCreatePass?function Ar(o,l,u,p,g,w,S){const k=l.consts,Y=xa(l,o,2,g,Ti(k,w));return nv(l,u,Y,Ti(k,S)),null!==Y.attrs&&Ug(Y,Y.attrs,!1),null!==Y.mergedAttrs&&Ug(Y,Y.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,Y),Y}(S,w,g,0,l,u,p):w.data[S];xi(Y,!0);const se=Y.mergedAttrs;null!==se&&Ql(k,L,se);const he=Y.classes;null!==he&&gp(k,L,he);const Ee=Y.styles;return null!==Ee&&mp(k,L,Ee),64!=(64&Y.flags)&&fo(w,g,L,Y),0===function qa(){return Bt.lFrame.elementDepthCount}()&&xt(L,g),function jh(){Bt.lFrame.elementDepthCount++}(),Vs(Y)&&(Ng(w,g,Y),tv(w,Y,g)),null!==p&&Md(g,Y),mv}function $g(){let o=Qn();oa()?au():(o=o.parent,xi(o,!1));const l=o;!function Gh(){Bt.lFrame.elementDepthCount--}();const u=nn();return u.firstCreatePass&&(xo(u,o),oo(o)&&u.queries.elementEnd(o)),null!=l.classesWithoutHost&&function Qh(o){return 0!=(16&o.flags)}(l)&&xr(u,l,qe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Nf(o){return 0!=(32&o.flags)}(l)&&xr(u,l,qe(),l.stylesWithoutHost,!1),$g}function gv(o,l,u,p){return mv(o,l,u,p),$g(),gv}function qg(o,l,u){const p=qe(),g=nn(),w=o+22,S=g.firstCreatePass?function bT(o,l,u,p,g){const w=l.consts,S=Ti(w,p),k=xa(l,o,8,"ng-container",S);return null!==S&&Ug(k,S,!0),nv(l,u,k,Ti(w,g)),null!==l.queries&&l.queries.elementStart(l,k),k}(w,g,p,l,u):g.data[w];xi(S,!0);const k=p[w]=p[11].createComment("");return fo(g,p,k,S),xt(k,p),Vs(S)&&(Ng(g,p,S),tv(g,S,p)),null!=u&&Md(p,S),qg}function nh(){let o=Qn();const l=nn();return oa()?au():(o=o.parent,xi(o,!1)),l.firstCreatePass&&(xo(l,o),oo(o)&&l.queries.elementEnd(o)),nh}function SE(){return qe()}function _v(o){return!!o&&"function"==typeof o.then}function IE(o){return!!o&&"function"==typeof o.subscribe}const vv=IE;function rh(o,l,u,p){const g=qe(),w=nn(),S=Qn();return TE(w,g,g[11],S,o,l,0,p),rh}function bv(o,l){const u=Qn(),p=qe(),g=nn();return TE(g,p,av(Wa(g.data),u,p),u,o,l),bv}function TE(o,l,u,p,g,w,S,k){const L=Vs(p),se=o.firstCreatePass&&uE(o),he=l[8],Ee=kd(l);let ke=!0;if(3&p.type||k){const ct=vi(p,l),Tt=k?k(ct):ct,Rt=Ee.length,We=k?Dn=>k(ir(Dn[p.index])):p.index;let qt=null;if(!k&&L&&(qt=function DE(o,l,u,p){const g=o.cleanup;if(null!=g)for(let w=0;w<g.length-1;w+=2){const S=g[w];if(S===u&&g[w+1]===p){const k=l[7],L=g[w+2];return k.length>L?k[L]:null}"string"==typeof S&&(w+=2)}return null}(o,l,g,p.index)),null!==qt)(qt.__ngLastListenerFn__||qt).__ngNextListenerFn__=w,qt.__ngLastListenerFn__=w,ke=!1;else{w=wT(p,l,he,w,!1);const Dn=u.listen(Tt,g,w);Ee.push(w,Dn),se&&se.push(g,We,Rt,Rt+1)}}else w=wT(p,l,he,w,!1);const Ge=p.outputs;let tt;if(ke&&null!==Ge&&(tt=Ge[g])){const ct=tt.length;if(ct)for(let Tt=0;Tt<ct;Tt+=2){const Wn=l[tt[Tt]][tt[Tt+1]].subscribe(w),mh=Ee.length;Ee.push(w,Wn),se&&se.push(g,p.index,mh,-(mh+1))}}}function wv(o,l,u,p){try{return!1!==u(p)}catch(g){return hE(o,g),!1}}function wT(o,l,u,p,g){return function w(S){if(S===Function)return p;ov(2&o.flags?sr(o.index,l):l);let L=wv(l,0,p,S),Y=w.__ngNextListenerFn__;for(;Y;)L=wv(l,0,Y,S)&&L,Y=Y.__ngNextListenerFn__;return g&&!1===L&&(S.preventDefault(),S.returnValue=!1),L}}function xE(o=1){return function Wl(o){return(Bt.lFrame.contextLView=function Xm(o,l){for(;o>0;)l=l[15],o--;return l}(o,Bt.lFrame.contextLView))[8]}(o)}function Ev(o,l){let u=null;const p=function N_(o){const l=o.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(o);for(let g=0;g<l.length;g++){const w=l[g];if("*"!==w){if(null===p?F_(o,w,!0):OD(p,w))return g}else u=g}return u}function em(o){const l=qe()[16][6];if(!l.projection){const p=l.projection=ma(o?o.length:1,null),g=p.slice();let w=l.child;for(;null!==w;){const S=o?Ev(w,o):0;null!==S&&(g[S]?g[S].projectionNext=w:p[S]=w,g[S]=w),w=w.next}}}function Cv(o,l=0,u){const p=qe(),g=nn(),w=xa(g,22+o,16,null,u||null);null===w.projection&&(w.projection=l),au(),64!=(64&w.flags)&&function E_(o,l,u){dp(l[11],0,l,u,yl(o,u,l),cg(u.parent||l[6],u,l))}(g,p,w)}function Sv(o,l,u,p,g){const w=qe(),S=Od(w,l,u,p);return S!==Xt&&ds(nn(),Hn(),w,o,S,w[11],g,!1),Sv}function Iv(o,l,u,p,g){const w=o[u+1],S=null===l;let k=p?go(w):Ta(w),L=!1;for(;0!==k&&(!1===L||S);){const se=o[k+1];FE(o[k],l)&&(L=!0,o[k+1]=p?Ag(se):Tg(se)),k=p?go(se):Ta(se)}L&&(o[u+1]=p?Tg(w):Ag(w))}function FE(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&ll(o,l)>=0}function Hd(o,l,u){return jo(o,l,u,!1),Hd}function nm(o,l){return jo(o,l,null,!0),nm}function jo(o,l,u,p){const g=qe(),w=nn(),S=function Mi(o){const l=Bt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,u}(2);w.firstUpdatePass&&function DT(o,l,u,p){const g=o.data;if(null===g[u+1]){const w=g[yn()],S=function Fc(o,l){return l>=o.expandoStartIndex}(o,u);(function xT(o,l){return 0!=(o.flags&(l?16:32))})(w,p)&&null===l&&!S&&(l=!1),l=function rm(o,l,u,p){const g=Wa(o);let w=p?l.residualClasses:l.residualStyles;if(null===g)0===(p?l.classBindings:l.styleBindings)&&(u=Kg(u=BE(null,o,l,u,p),l.attrs,p),w=null);else{const S=l.directiveStylingLast;if(-1===S||o[S]!==g)if(u=BE(g,o,l,u,p),null===w){let L=function cR(o,l,u){const p=u?l.classBindings:l.styleBindings;if(0!==Ta(p))return o[go(p)]}(o,l,p);void 0!==L&&Array.isArray(L)&&(L=BE(null,o,l,L[1],p),L=Kg(L,l.attrs,p),function uR(o,l,u,p){o[go(u?l.classBindings:l.styleBindings)]=p}(o,l,p,L))}else w=function hR(o,l,u){let p;const g=l.directiveEnd;for(let w=1+l.directiveStylingLast;w<g;w++)p=Kg(p,o[w].hostAttrs,u);return Kg(p,l.attrs,u)}(o,l,p)}return void 0!==w&&(p?l.residualClasses=w:l.residualStyles=w),u}(g,w,l,p),function CT(o,l,u,p,g,w){let S=w?l.classBindings:l.styleBindings,k=go(S),L=Ta(S);o[p]=u;let se,Y=!1;if(Array.isArray(u)){const he=u;se=he[1],(null===se||ll(he,se)>0)&&(Y=!0)}else se=u;if(g)if(0!==L){const Ee=go(o[k+1]);o[p+1]=zn(Ee,k),0!==Ee&&(o[Ee+1]=xg(o[Ee+1],p)),o[k+1]=function $w(o,l){return 131071&o|l<<17}(o[k+1],p)}else o[p+1]=zn(k,0),0!==k&&(o[k+1]=xg(o[k+1],p)),k=p;else o[p+1]=zn(L,0),0===k?k=p:o[L+1]=xg(o[L+1],p),L=p;Y&&(o[p+1]=Tg(o[p+1])),Iv(o,se,p,!0),Iv(o,se,p,!1),function ST(o,l,u,p,g){const w=g?o.residualClasses:o.residualStyles;null!=w&&"string"==typeof l&&ll(w,l)>=0&&(u[p+1]=Ag(u[p+1]))}(l,se,o,p,w),S=zn(k,L),w?l.classBindings=S:l.styleBindings=S}(g,w,l,u,S,p)}}(w,o,S,p),l!==Xt&&Jr(g,S,l)&&function TT(o,l,u,p,g,w,S,k){if(!(3&l.type))return;const L=o.data,Y=L[k+1];sh(function q_(o){return 1==(1&o)}(Y)?UE(L,l,u,g,Ta(Y),S):void 0)||(sh(w)||function $_(o){return 2==(2&o)}(Y)&&(w=UE(L,null,u,g,k,S)),function pp(o,l,u,p,g){if(l)g?o.addClass(u,p):o.removeClass(u,p);else{let w=-1===p.indexOf("-")?void 0:ls.DashCase;null==g?o.removeStyle(u,p,w):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),w|=ls.Important),o.setStyle(u,p,g,w))}}(p,S,Bi(yn(),u),g,w))}(w,w.data[yn()],g,g[11],o,g[S+1]=function fR(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=j(vr(o)))),o}(l,u),p,S)}function BE(o,l,u,p,g){let w=null;const S=u.directiveEnd;let k=u.directiveStylingLast;for(-1===k?k=u.directiveStart:k++;k<S&&(w=l[k],p=Kg(p,w.hostAttrs,g),w!==o);)k++;return null!==o&&(u.directiveStylingLast=k),p}function Kg(o,l,u){const p=u?1:2;let g=-1;if(null!==l)for(let w=0;w<l.length;w++){const S=l[w];"number"==typeof S?g=S:g===p&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Pi(o,S,!!u||l[++w]))}return void 0===o?null:o}function UE(o,l,u,p,g,w){const S=null===l;let k;for(;g>0;){const L=o[g],Y=Array.isArray(L),se=Y?L[1]:L,he=null===se;let Ee=u[g+1];Ee===Xt&&(Ee=he?Lt:void 0);let ke=he?lc(Ee,p):se===p?Ee:void 0;if(Y&&!sh(ke)&&(ke=lc(L,p)),sh(ke)&&(k=ke,S))return k;const Ge=o[g+1];g=S?go(Ge):Ta(Ge)}if(null!==l){let L=w?l.residualClasses:l.residualStyles;null!=L&&(k=lc(L,p))}return k}function sh(o){return void 0!==o}function AT(o,l=""){const u=qe(),p=nn(),g=o+22,w=p.firstCreatePass?xa(p,g,1,l,null):p.data[g],S=u[g]=function Pu(o,l){return o.createText(l)}(u[11],l);fo(p,u,S,w),xi(w,!1)}function zE(o){return Av("",o,""),zE}function Av(o,l,u){const p=qe(),g=Od(p,o,l,u);return g!==Xt&&function Ma(o,l,u){const p=Bi(l,o);!function cd(o,l,u){o.setValue(l,u)}(o[11],p,u)}(p,yn(),g),Av}function ZE(o,l,u){const p=qe();return Jr(p,Us(),l)&&ds(nn(),Hn(),p,o,l,p[11],u,!0),ZE}function KE(o,l,u){const p=qe();if(Jr(p,Us(),l)){const w=nn(),S=Hn();ds(w,S,p,o,l,av(Wa(w.data),S,p),u,!0)}return KE}const oh=void 0;var wR=["en",[["a","p"],["AM","PM"],oh],[["AM","PM"],oh,oh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oh,"{1} 'at' {0}",oh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bR(o){const u=Math.floor(Math.abs(o)),p=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===p?1:5}];let ah={};function Nv(o){const l=function lh(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=Lv(l);if(u)return u;const p=l.split("-")[0];if(u=Lv(p),u)return u;if("en"===p)return wR;throw new z(701,!1)}function QE(o){return Nv(o)[$t.PluralCase]}function Lv(o){return o in ah||(ah[o]=An.ng&&An.ng.common&&An.ng.common.locales&&An.ng.common.locales[o]),ah[o]}var $t=(()=>(($t=$t||{})[$t.LocaleId=0]="LocaleId",$t[$t.DayPeriodsFormat=1]="DayPeriodsFormat",$t[$t.DayPeriodsStandalone=2]="DayPeriodsStandalone",$t[$t.DaysFormat=3]="DaysFormat",$t[$t.DaysStandalone=4]="DaysStandalone",$t[$t.MonthsFormat=5]="MonthsFormat",$t[$t.MonthsStandalone=6]="MonthsStandalone",$t[$t.Eras=7]="Eras",$t[$t.FirstDayOfWeek=8]="FirstDayOfWeek",$t[$t.WeekendRange=9]="WeekendRange",$t[$t.DateFormat=10]="DateFormat",$t[$t.TimeFormat=11]="TimeFormat",$t[$t.DateTimeFormat=12]="DateTimeFormat",$t[$t.NumberSymbols=13]="NumberSymbols",$t[$t.NumberFormats=14]="NumberFormats",$t[$t.CurrencyCode=15]="CurrencyCode",$t[$t.CurrencySymbol=16]="CurrencySymbol",$t[$t.CurrencyName=17]="CurrencyName",$t[$t.Currencies=18]="Currencies",$t[$t.Directionality=19]="Directionality",$t[$t.PluralCase=20]="PluralCase",$t[$t.ExtraData=21]="ExtraData",$t))();const ch="en-US";let eC=ch;function sC(o,l,u,p,g){if(o=U(o),Array.isArray(o))for(let w=0;w<o.length;w++)sC(o[w],l,u,p,g);else{const w=nn(),S=qe();let k=bl(o)?o:U(o.provide),L=Cp(o);const Y=Qn(),se=1048575&Y.providerIndexes,he=Y.directiveStart,Ee=Y.providerIndexes>>20;if(bl(o)||!o.multi){const ke=new Ja(L,g,Br),Ge=aC(k,l,g?se:se+Ee,he);-1===Ge?(rl(ha(Y,S),w,k),oC(w,o,l.length),l.push(k),Y.directiveStart++,Y.directiveEnd++,g&&(Y.providerIndexes+=1048576),u.push(ke),S.push(ke)):(u[Ge]=ke,S[Ge]=ke)}else{const ke=aC(k,l,se+Ee,he),Ge=aC(k,l,se,se+Ee),tt=ke>=0&&u[ke],ct=Ge>=0&&u[Ge];if(g&&!ct||!g&&!tt){rl(ha(Y,S),w,k);const Tt=function pO(o,l,u,p,g){const w=new Ja(o,u,Br);return w.multi=[],w.index=l,w.componentProviders=0,ux(w,g,p&&!u),w}(g?fO:dO,u.length,g,p,L);!g&&ct&&(u[Ge].providerFactory=Tt),oC(w,o,l.length,0),l.push(k),Y.directiveStart++,Y.directiveEnd++,g&&(Y.providerIndexes+=1048576),u.push(Tt),S.push(Tt)}else oC(w,o,ke>-1?ke:Ge,ux(u[g?Ge:ke],L,!g&&p));!g&&p&&ct&&u[Ge].componentProviders++}}}function oC(o,l,u,p){const g=bl(l),w=function dw(o){return!!o.useClass}(l);if(g||w){const L=(w?U(l.useClass):l).prototype.ngOnDestroy;if(L){const Y=o.destroyHooks||(o.destroyHooks=[]);if(!g&&l.multi){const se=Y.indexOf(u);-1===se?Y.push(u,[p,L]):Y[se+1].push(p,L)}else Y.push(u,L)}}}function ux(o,l,u){return u&&o.componentProviders++,o.multi.push(l)-1}function aC(o,l,u,p){for(let g=u;g<p;g++)if(l[g]===o)return g;return-1}function dO(o,l,u,p){return lC(this.multi,[])}function fO(o,l,u,p){const g=this.multi;let w;if(this.providerFactory){const S=this.providerFactory.componentProviders,k=il(u,u[1],this.providerFactory.index,p);w=k.slice(0,S),lC(g,w);for(let L=S;L<k.length;L++)w.push(k[L])}else w=[],lC(g,w);return w}function lC(o,l){for(let u=0;u<o.length;u++)l.push((0,o[u])());return l}function hx(o,l=[]){return u=>{u.providersResolver=(p,g)=>function hO(o,l,u){const p=nn();if(p.firstCreatePass){const g=Ji(o);sC(u,p.data,p.blueprint,g,!0),sC(l,p.data,p.blueprint,g,!1)}}(p,g?g(o):o,l)}}class om{}class dx{}function mO(o,l){return new fx(o,l??null)}class fx extends om{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wp(this);const p=Zt(l);this._bootstrapComponents=wl(p.bootstrap),this._r3Injector=Fw(l,u,[{provide:om,useValue:this},{provide:Ip,useValue:this.componentFactoryResolver}],j(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class cC extends dx{constructor(l){super(),this.moduleType=l}create(l){return new fx(this.moduleType,l)}}class gO extends om{constructor(l,u,p){super(),this.componentFactoryResolver=new Wp(this),this.instance=null;const g=new Ep([...l,{provide:om,useValue:this},{provide:Ip,useValue:this.componentFactoryResolver}],u||vg(),p,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function uC(o,l,u=null){return new gO(o,l,u).injector}let yO=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const p=cw(0,u.type),g=p.length>0?uC([p],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,g)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Qe({token:o,providedIn:"environment",factory:()=>new o(or($u))}),o})();function px(o){o.getStandaloneInjector=l=>l.get(yO).getOrCreateStandaloneInjector(o)}function wx(o,l,u,p){return Hv(qe(),oi(),o,l,u,p)}function Ex(o,l,u,p,g){return function mC(o,l,u,p,g,w,S){const k=l+u;return function kc(o,l,u,p){const g=Jr(o,l,u);return Jr(o,l+1,p)||g}(o,k,g,w)?Pa(o,k+2,S?p.call(S,g,w):p(g,w)):jd(o,k+2)}(qe(),oi(),o,l,u,p,g)}function jd(o,l){const u=o[l];return u===Xt?void 0:u}function Hv(o,l,u,p,g,w){const S=l+u;return Jr(o,S,g)?Pa(o,S+1,w?p.call(w,g):p(g)):jd(o,S+1)}function yC(o,l){const u=nn();let p;const g=o+22;u.firstCreatePass?(p=function Ix(o,l){if(l)for(let u=l.length-1;u>=0;u--){const p=l[u];if(o===p.name)return p}}(l,u.pipeRegistry),u.data[g]=p,p.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(g,p.onDestroy)):p=u.data[g];const w=p.factory||(p.factory=Bs(p.type)),S=jn(Br);try{const k=Gs(!1),L=w();return Gs(k),function Oc(o,l,u,p){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),l[u]=p}(u,qe(),g,L),L}finally{jn(S)}}function Dx(o,l,u){const p=o+22,g=qe(),w=sa(g,p);return function uh(o,l){return o[1].data[l].pure}(g,p)?Hv(g,oi(),l,w.transform,u,w):w.transform(u)}function wC(o){return l=>{setTimeout(o,void 0,l)}}const Il=class bC extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,p){let g=l,w=u||(()=>null),S=p;if(l&&"object"==typeof l){const L=l;g=L.next?.bind(L),w=L.error?.bind(L),S=L.complete?.bind(L)}this.__isAsync&&(w=wC(w),g&&(g=wC(g)),S&&(S=wC(S)));const k=super.subscribe({next:g,error:w,complete:S});return l instanceof v.w0&&l.add(k),k}};function AO(){return this._results[Pc()]()}class EC{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Pc(),p=EC.prototype;p[u]||(p[u]=AO)}get changes(){return this._changes||(this._changes=new Il)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const p=this;p.dirty=!1;const g=ur(l);(this._changesDetected=!function qf(o,l,u){if(o.length!==l.length)return!1;for(let p=0;p<o.length;p++){let g=o[p],w=l[p];if(u&&(g=u(g),w=u(w)),w!==g)return!1}return!0}(p._results,g,u))&&(p._results=g,p.length=g.length,p.last=g[this.length-1],p.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gd=(()=>{class o{}return o.__NG_ELEMENT_ID__=Mx,o})();const xx=Gd,Ax=class extends xx{constructor(l,u,p){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=p}createEmbeddedView(l,u){const p=this._declarationTContainer.tViews,g=Sl(this._declarationLView,p,l,16,null,p.declTNode,null,null,null,null,u||null);g[17]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[19];return null!==S&&(g[19]=S.createEmbeddedView(p)),Np(p,g,l),new qp(g)}};function Mx(){return cy(Qn(),qe())}function cy(o,l){return 4&o.type?new Ax(l,o,Id(o,l)):null}let uy=(()=>{class o{}return o.__NG_ELEMENT_ID__=Px,o})();function Px(){return CC(Qn(),qe())}const kx=uy,Gv=class extends kx{constructor(l,u,p){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=p}get element(){return Id(this._hostTNode,this._hostLView)}get injector(){return new Ts(this._hostTNode,this._hostLView)}get parentInjector(){const l=Po(this._hostTNode,this._hostLView);if(yu(l)){const u=Ss(l,this._hostLView),p=el(l);return new Ts(u[1].data[p+8],u)}return new Ts(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=$v(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,p){let g,w;"number"==typeof p?g=p:null!=p&&(g=p.index,w=p.injector);const S=l.createEmbeddedView(u||{},w);return this.insert(S,g),S}createComponent(l,u,p,g,w){const S=l&&!function Ui(o){return"function"==typeof o}(l);let k;if(S)k=u;else{const he=u||{};k=he.index,p=he.injector,g=he.projectableNodes,w=he.environmentInjector||he.ngModuleRef}const L=S?l:new yo(Be(l)),Y=p||this.parentInjector;if(!w&&null==L.ngModule){const Ee=(S?Y:this.parentInjector).get($u,null);Ee&&(w=Ee)}const se=L.create(Y,g,void 0,w);return this.insert(se.hostView,k),se}insert(l,u){const p=l._lView,g=p[1];if(function su(o){return yi(o[3])}(p)){const se=this.indexOf(l);if(-1!==se)this.detach(se);else{const he=p[3],Ee=new Gv(he,he[6],he[3]);Ee.detach(Ee.indexOf(l))}}const w=this._adjustIndex(u),S=this._lContainer;!function ip(o,l,u,p){const g=10+p,w=u.length;p>0&&(u[g-1][4]=l),p<w-10?(l[4]=u[g],Eu(u,10+p,l)):(u.push(l),l[4]=null),l[3]=u;const S=l[17];null!==S&&u!==S&&function w_(o,l){const u=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===u?o[9]=[l]:u.push(l)}(S,l);const k=l[19];null!==k&&k.insertView(o),l[2]|=64}(g,p,S,w);const k=md(w,S),L=p[11],Y=dd(L,S[7]);return null!==Y&&function ku(o,l,u,p,g,w){p[0]=g,p[6]=l,Ou(o,p,u,1,g,w)}(g,S[6],L,p,Y,k),l.attachToViewContainerRef(),Eu(qv(S),w,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=$v(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),p=ml(this._lContainer,u);p&&(Cu(qv(this._lContainer),u),gl(p[1],p))}detach(l){const u=this._adjustIndex(l,-1),p=ml(this._lContainer,u);return p&&null!=Cu(qv(this._lContainer),u)?new qp(p):null}_adjustIndex(l,u=0){return l??this.length+u}};function $v(o){return o[8]}function qv(o){return o[8]||(o[8]=[])}function CC(o,l){let u;const p=l[o.index];if(yi(p))u=p;else{let g;if(8&o.type)g=ir(p);else{const w=l[11];g=w.createComment("");const S=vi(o,l);Ho(w,dd(w,S),g,function ap(o,l){return o.nextSibling(l)}(w,S),!1)}l[o.index]=u=Xu(p,l,g,o),sv(l,u)}return new Gv(u,o,l)}class SC{constructor(l){this.queryList=l,this.matches=null}clone(){return new SC(this.queryList)}setDirty(){this.queryList.setDirty()}}class IC{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const p=null!==l.contentQueries?l.contentQueries[0]:u.length,g=[];for(let w=0;w<p;w++){const S=u.getByIndex(w);g.push(this.queries[S.indexInDeclarationView].clone())}return new IC(g)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==am(l,u).matches&&this.queries[u].setDirty()}}class Fx{constructor(l,u,p=null){this.predicate=l,this.flags=u,this.read=p}}class DC{constructor(l=[]){this.queries=l}elementStart(l,u){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let p=0;p<this.length;p++){const g=null!==u?u.length:0,w=this.getByIndex(p).embeddedTView(l,g);w&&(w.indexInDeclarationView=p,null!==u?u.push(w):u=[w])}return null!==u?new DC(u):null}template(l,u){for(let p=0;p<this.queries.length;p++)this.queries[p].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class TC{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new TC(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let p=l.parent;for(;null!==p&&8&p.type&&p.index!==u;)p=p.parent;return u===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const p=this.metadata.predicate;if(Array.isArray(p))for(let g=0;g<p.length;g++){const w=p[g];this.matchTNodeWithReadOption(l,u,PO(u,w)),this.matchTNodeWithReadOption(l,u,Ds(u,l,w,!1,!1))}else p===Gd?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Ds(u,l,p,!1,!1))}matchTNodeWithReadOption(l,u,p){if(null!==p){const g=this.metadata.read;if(null!==g)if(g===Dp||g===uy||g===Gd&&4&u.type)this.addMatch(u.index,-2);else{const w=Ds(u,l,g,!1,!1);null!==w&&this.addMatch(u.index,w)}else this.addMatch(u.index,p)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function PO(o,l){const u=o.localNames;if(null!==u)for(let p=0;p<u.length;p+=2)if(u[p]===l)return u[p+1];return null}function Zv(o,l,u,p){return-1===u?function Wv(o,l){return 11&o.type?Id(o,l):4&o.type?cy(o,l):null}(l,o):-2===u?function Nx(o,l,u){return u===Dp?Id(l,o):u===Gd?cy(l,o):u===uy?CC(l,o):void 0}(o,l,p):il(o,o[1],u,l)}function xC(o,l,u,p){const g=l[19].queries[p];if(null===g.matches){const w=o.data,S=u.matches,k=[];for(let L=0;L<S.length;L+=2){const Y=S[L];k.push(Y<0?null:Zv(l,w[Y],S[L+1],u.metadata.read))}g.matches=k}return g.matches}function hy(o,l,u,p){const g=o.queries.getByIndex(u),w=g.matches;if(null!==w){const S=xC(o,l,g,u);for(let k=0;k<w.length;k+=2){const L=w[k];if(L>0)p.push(S[k/2]);else{const Y=w[k+1],se=l[-L];for(let he=10;he<se.length;he++){const Ee=se[he];Ee[17]===Ee[3]&&hy(Ee[1],Ee,Y,p)}if(null!==se[9]){const he=se[9];for(let Ee=0;Ee<he.length;Ee++){const ke=he[Ee];hy(ke[1],ke,Y,p)}}}}}return p}function hh(o){const l=qe(),u=nn(),p=ql();ai(p+1);const g=am(u,p);if(o.dirty&&function Ym(o){return 4==(4&o[2])}(l)===(2==(2&g.metadata.flags))){if(null===g.matches)o.reset([]);else{const w=g.crossesNgTemplate?hy(u,l,p,[]):xC(u,l,g,p);o.reset(w,yw),o.notifyOnChanges()}return!0}return!1}function AC(o,l,u){const p=nn();p.firstCreatePass&&(Vx(p,new Fx(o,l,u),-1),2==(2&l)&&(p.staticViewQueries=!0)),Kv(p,qe(),l)}function MC(o,l,u,p){const g=nn();if(g.firstCreatePass){const w=Qn();Vx(g,new Fx(l,u,p),w.index),function Bx(o,l){const u=o.contentQueries||(o.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,l)}(g,o),2==(2&u)&&(g.staticContentQueries=!0)}Kv(g,qe(),u)}function PC(){return function Lx(o,l){return o[19].queries[l].queryList}(qe(),ql())}function Kv(o,l,u){const p=new EC(4==(4&u));Bp(o,l,p,p.destroy),null===l[19]&&(l[19]=new IC),l[19].queries.push(new SC(p))}function Vx(o,l,u){null===o.queries&&(o.queries=new DC),o.queries.track(new TC(l,u))}function am(o,l){return o.queries.getByIndex(l)}function dy(o,l){return cy(o,l)}function o0(...o){}const tA=new In("Application Initializer");let a0=(()=>{class o{constructor(u){this.appInits=u,this.resolve=o0,this.reject=o0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,g)=>{this.resolve=p,this.reject=g})}runInitializers(){if(this.initialized)return;const u=[],p=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const w=this.appInits[g]();if(_v(w))u.push(w);else if(vv(w)){const S=new Promise((k,L)=>{w.subscribe({complete:k,error:L})});u.push(S)}}Promise.all(u).then(()=>{p()}).catch(g=>{this.reject(g)}),0===u.length&&p(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(or(tA,8))},o.\u0275prov=Qe({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const nA=new In("AppId",{providedIn:"root",factory:function rA(){return`${VC()}${VC()}${VC()}`}});function VC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const iA=new In("Platform Initializer"),BC=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),l0=new In("appBootstrapListener"),Dl=new In("AnimationModuleType");let fh=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Qe({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const um=new In("LocaleId",{providedIn:"root",factory:()=>St(um,ft.Optional|ft.SkipSelf)||function Oa(){return typeof $localize<"u"&&$localize.locale||ch}()}),HC=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qo{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let YO=(()=>{class o{compileModuleSync(u){return new cC(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const p=this.compileModuleSync(u),w=wl(Zt(u).declarations).reduce((S,k)=>{const L=Be(k);return L&&S.push(new yo(L)),S},[]);return new qo(p,w)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Qe({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const d0=(()=>Promise.resolve(0))();function f0(o){typeof Zone>"u"?d0.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class vo{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Il(!1),this.onMicrotaskEmpty=new Il(!1),this.onStable=new Il(!1),this.onError=new Il(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const g=this;if(g._nesting=0,g._outer=g._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const w=Zone.AsyncStackTaggingZoneSpec;g._inner=g._inner.fork(new w("Angular"))}Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!p&&u,g.shouldCoalesceRunChangeDetection=p,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function p0(){let o=An.requestAnimationFrame,l=An.cancelAnimationFrame;if(typeof Zone<"u"&&o&&l){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const p=l[Zone.__symbol__("OriginalDelegate")];p&&(l=p)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function aA(o){const l=()=>{!function oA(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(An,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Tl(o),o.isCheckStableRunning=!0,m0(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Tl(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,p,g,w,S,k)=>{try{return g0(o),u.invokeTask(g,w,S,k)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||o.shouldCoalesceRunChangeDetection)&&l(),hm(o)}},onInvoke:(u,p,g,w,S,k,L)=>{try{return g0(o),u.invoke(g,w,S,k,L)}finally{o.shouldCoalesceRunChangeDetection&&l(),hm(o)}},onHasTask:(u,p,g,w)=>{u.hasTask(g,w),p===g&&("microTask"==w.change?(o._hasPendingMicrotasks=w.microTask,Tl(o),m0(o)):"macroTask"==w.change&&(o.hasPendingMacrotasks=w.macroTask))},onHandleError:(u,p,g,w)=>(u.handleError(g,w),o.runOutsideAngular(()=>o.onError.emit(w)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vo.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(vo.isInAngularZone())throw new z(909,!1)}run(l,u,p){return this._inner.run(l,u,p)}runTask(l,u,p,g){const w=this._inner,S=w.scheduleEventTask("NgZoneEvent: "+g,l,QO,o0,o0);try{return w.runTask(S,u,p)}finally{w.cancelTask(S)}}runGuarded(l,u,p){return this._inner.runGuarded(l,u,p)}runOutsideAngular(l){return this._outer.run(l)}}const QO={};function m0(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Tl(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function g0(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function hm(o){o._nesting--,m0(o)}class lA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Il,this.onMicrotaskEmpty=new Il,this.onStable=new Il,this.onError=new Il}run(l,u,p){return l.apply(u,p)}runGuarded(l,u,p){return l.apply(u,p)}runOutsideAngular(l){return l()}runTask(l,u,p,g){return l.apply(u,p)}}const y0=new In(""),cA=new In("");let xl,uA=(()=>{class o{constructor(u,p,g){this._ngZone=u,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xl||(function hA(o){xl=o}(g),g.addToWindow(p)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vo.assertNotInAngularZone(),f0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())f0(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(u)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,p,g){let w=-1;p&&p>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==w),u(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:u,timeoutId:w,updateCb:g})}whenStable(u,p,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,p,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,p,g){return[]}}return o.\u0275fac=function(u){return new(u||o)(or(vo),or(UC),or(cA))},o.\u0275prov=Qe({token:o,factory:o.\u0275fac}),o})(),UC=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,p){this._applications.set(u,p)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,p=!0){return xl?.findTestabilityInTree(this,u,p)??null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Qe({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Nc=null;const zC=new In("AllowMultipleToken"),jC=new In("PlatformDestroyListeners");class v0{constructor(l,u){this.name=l,this.token=u}}function fA(o,l,u=[]){const p=`Platform: ${l}`,g=new In(p);return(w=[])=>{let S=La();if(!S||S.injector.get(zC,!1)){const k=[...u,...w,{provide:g,useValue:!0}];o?o(k):function He(o){if(Nc&&!Nc.get(zC,!1))throw new z(400,!1);Nc=o;const l=o.get(Cn);(function gy(o){const l=o.get(iA,null);l&&l.forEach(u=>u())})(o)}(function Lc(o=[],l){return Ac.create({name:l,providers:[{provide:wp,useValue:"platform"},{provide:jC,useValue:new Set([()=>Nc=null])},...o]})}(k,p))}return function pA(o){const l=La();if(!l)throw new z(401,!1);return l}()}}function La(){return Nc?.get(Cn)??null}let Cn=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,p){const g=function bo(o,l){let u;return u="noop"===o?new lA:("zone.js"===o?void 0:o)||new vo(l),u}(p?.ngZone,function GC(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(p)),w=[{provide:vo,useValue:g}];return g.run(()=>{const S=Ac.create({providers:w,parent:this.injector,name:u.moduleType.name}),k=u.create(S),L=k.injector.get(Tp,null);if(!L)throw new z(402,!1);return g.runOutsideAngular(()=>{const Y=g.onError.subscribe({next:se=>{L.handleError(se)}});k.onDestroy(()=>{ph(this._modules,k),Y.unsubscribe()})}),function yt(o,l,u){try{const p=u();return _v(p)?p.catch(g=>{throw l.runOutsideAngular(()=>o.handleError(g)),g}):p}catch(p){throw l.runOutsideAngular(()=>o.handleError(p)),p}}(L,g,()=>{const Y=k.injector.get(a0);return Y.runInitializers(),Y.donePromise.then(()=>(function UT(o){Ne(o,"Expected localeId to be defined"),"string"==typeof o&&(eC=o.toLowerCase().replace(/_/g,"-"))}(k.injector.get(um,ch)||ch),this._moduleDoBootstrap(k),k))})})}bootstrapModule(u,p=[]){const g=yy({},p);return function _0(o,l,u){const p=new cC(u);return Promise.resolve(p)}(0,0,u).then(w=>this.bootstrapModuleFactory(w,g))}_moduleDoBootstrap(u){const p=u.injector.get(Yt);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(g=>p.bootstrap(g));else{if(!u.instance.ngDoBootstrap)throw new z(403,!1);u.instance.ngDoBootstrap(p)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const u=this._injector.get(jC,null);u&&(u.forEach(p=>p()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(or(Ac))},o.\u0275prov=Qe({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function yy(o,l){return Array.isArray(l)?l.reduce(yy,o):{...o,...l}}let Yt=(()=>{class o{constructor(u,p,g){this._zone=u,this._injector=p,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new _.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),S=new _.y(k=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{vo.assertNotInAngularZone(),f0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{vo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{L.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,I.T)(w,S.pipe((0,M.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,p){const g=u instanceof mw;if(!this._injector.get(a0).done)throw!g&&Vt(u),new z(405,false);let S;S=g?u:this._injector.get(Ip).resolveComponentFactory(u),this.componentTypes.push(S.componentType);const k=function dA(o){return o.isBoundToModule}(S)?void 0:this._injector.get(om),Y=S.create(Ac.NULL,[],p||S.selector,k),se=Y.location.nativeElement,he=Y.injector.get(y0,null);return he?.registerApplication(se),Y.onDestroy(()=>{this.detachView(Y.hostView),ph(this.components,Y),he?.unregisterApplication(se)}),this._loadComponent(Y),Y}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const p=u;this._views.push(p),p.attachToAppRef(this)}detachView(u){const p=u;ph(this._views,p),p.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(l0,[]).concat(this._bootstrapListeners).forEach(g=>g(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>ph(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new z(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(or(vo),or($u),or(Tp))},o.\u0275prov=Qe({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ph(o,l){const u=o.indexOf(l);u>-1&&o.splice(u,1)}let $C=!0,_y=!1;function mA(){return _y=!0,$C}function gA(){if(_y)throw new Error("Cannot enable prod mode after platform setup.");$C=!1}let Ei=(()=>{class o{}return o.__NG_ELEMENT_ID__=Vc,o})();function Vc(o){return function yA(o,l,u){if(ra(o)&&!u){const p=sr(o.index,l);return new qp(p,p)}return 47&o.type?new qp(l[16],l):null}(Qn(),qe(),16==(16&o))}class Cy{constructor(){}supports(l){return zo(l)}create(l){return new EA(l)}}const wA=(o,l)=>l;class EA{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||wA}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,p=this._removalsHead,g=0,w=null;for(;u||p;){const S=!p||u&&u.currentIndex<qd(p,g,w)?u:p,k=qd(S,g,w),L=S.currentIndex;if(S===p)g--,p=p._nextRemoved;else if(u=u._next,null==S.previousIndex)g++;else{w||(w=[]);const Y=k-g,se=L-g;if(Y!=se){for(let Ee=0;Ee<Y;Ee++){const ke=Ee<w.length?w[Ee]:w[Ee]=0,Ge=ke+Ee;se<=Ge&&Ge<Y&&(w[Ee]=ke+1)}w[S.previousIndex]=se-Y}}k!==L&&l(S,k,L)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!zo(l))throw new z(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let g,w,S,u=this._itHead,p=!1;if(Array.isArray(l)){this.length=l.length;for(let k=0;k<this.length;k++)w=l[k],S=this._trackByFn(k,w),null!==u&&Object.is(u.trackById,S)?(p&&(u=this._verifyReinsertion(u,w,S,k)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,S,k),p=!0),u=u._next}else g=0,function bE(o,l){if(Array.isArray(o))for(let u=0;u<o.length;u++)l(o[u]);else{const u=o[Pc()]();let p;for(;!(p=u.next()).done;)l(p.value)}}(l,k=>{S=this._trackByFn(g,k),null!==u&&Object.is(u.trackById,S)?(p&&(u=this._verifyReinsertion(u,k,S,g)),Object.is(u.item,k)||this._addIdentityChange(u,k)):(u=this._mismatch(u,k,S,g),p=!0),u=u._next,g++}),this.length=g;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,p,g){let w;return null===l?w=this._itTail:(w=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,w,g)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(p,g))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,w,g)):l=this._addAfter(new I0(u,p),w,g),l}_verifyReinsertion(l,u,p,g){let w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==w?l=this._reinsertAfter(w,l._prev,g):l.currentIndex!=g&&(l.currentIndex=g,this._addToMoves(l,g)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const g=l._prevRemoved,w=l._nextRemoved;return null===g?this._removalsHead=w:g._nextRemoved=w,null===w?this._removalsTail=g:w._prevRemoved=g,this._insertAfter(l,u,p),this._addToMoves(l,p),l}_moveAfter(l,u,p){return this._unlink(l),this._insertAfter(l,u,p),this._addToMoves(l,p),l}_addAfter(l,u,p){return this._insertAfter(l,u,p),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,p){const g=null===u?this._itHead:u._next;return l._next=g,l._prev=u,null===g?this._itTail=l:g._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new QC),this._linkedRecords.put(l),l.currentIndex=p,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,p=l._next;return null===u?this._itHead=p:u._next=p,null===p?this._itTail=u:p._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QC),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class I0{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YC{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===u||u<=p.currentIndex)&&Object.is(p.trackById,l))return p;return null}remove(l){const u=l._prevDup,p=l._nextDup;return null===u?this._head=p:u._nextDup=p,null===p?this._tail=u:p._prevDup=u,null===this._head}}class QC{constructor(){this.map=new Map}put(l){const u=l.trackById;let p=this.map.get(u);p||(p=new YC,this.map.set(u,p)),p.add(l)}get(l,u){const g=this.map.get(l);return g?g.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qd(o,l,u){const p=o.previousIndex;if(null===p)return p;let g=0;return u&&p<u.length&&(g=u[p]),p+l+g}class XC{constructor(){}supports(l){return l instanceof Map||uv(l)}create(){return new ym}}class ym{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||uv(l)))throw new z(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(p,g)=>{if(u&&u.key===g)this._maybeAddToChanges(u,p),this._appendAfter=u,u=u._next;else{const w=this._getOrCreateRecordForKey(g,p);u=this._insertBeforeOrAppend(u,w)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let p=u;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const p=l._prev;return u._next=l,u._prev=p,l._prev=u,p&&(p._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const g=this._records.get(l);this._maybeAddToChanges(g,u);const w=g._prev,S=g._next;return w&&(w._next=S),S&&(S._prev=w),g._next=null,g._prev=null,g}const p=new CA(l);return this._records.set(l,p),p.currentValue=u,this._addToAdditions(p),p}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(p=>u(l[p],p))}}class CA{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JC(){return new Wd([new Cy])}let Wd=(()=>{class o{constructor(u){this.factories=u}static create(u,p){if(null!=p){const g=p.factories.slice();u=u.concat(g)}return new o(u)}static extend(u){return{provide:o,useFactory:p=>o.create(u,p||JC()),deps:[[o,new Vo,new Ws]]}}find(u){const p=this.factories.find(g=>g.supports(u));if(null!=p)return p;throw new z(901,!1)}}return o.\u0275prov=Qe({token:o,providedIn:"root",factory:JC}),o})();function D0(){return new Sy([new XC])}let Sy=(()=>{class o{constructor(u){this.factories=u}static create(u,p){if(p){const g=p.factories.slice();u=u.concat(g)}return new o(u)}static extend(u){return{provide:o,useFactory:p=>o.create(u,p||D0()),deps:[[o,new Vo,new Ws]]}}find(u){const p=this.factories.find(g=>g.supports(u));if(p)return p;throw new z(901,!1)}}return o.\u0275prov=Qe({token:o,providedIn:"root",factory:D0}),o})();const T0=fA(null,"core",[]);let x0=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(or(Yt))},o.\u0275mod=Ii({type:o}),o.\u0275inj=jt({}),o})();function iS(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(c,d,f)=>{"use strict";f.d(d,{Z:()=>z});var s=f(2090),v=f(4859),_=f(6881),I=f(1877);class M{constructor(V,B){this._delegate=V,this.firebase=B,(0,_._addComponent)(V,new v.wA("app-compat",()=>this,"PUBLIC")),this.container=V.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(V){this._delegate.automaticDataCollectionEnabled=V}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(V=>{this._delegate.checkDestroyed(),V()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,_.deleteApp)(this._delegate)))}_getService(V,B=_._DEFAULT_ENTRY_NAME){var ee;this._delegate.checkDestroyed();const te=this._delegate.container.getProvider(V);return!te.isInitialized()&&"EXPLICIT"===(null===(ee=te.getComponent())||void 0===ee?void 0:ee.instantiationMode)&&te.initialize(),te.getImmediate({identifier:B})}_removeServiceInstance(V,B=_._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(V).clearInstance(B)}_addComponent(V){(0,_._addComponent)(this._delegate,V)}_addOrOverwriteComponent(V){(0,_._addOrOverwriteComponent)(this._delegate,V)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const O=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),R=function Q(){const G=function j(G){const V={},B={__esModule:!0,initializeApp:function re(xe,Ie={}){const ye=_.initializeApp(xe,Ie);if((0,s.r3)(V,ye.name))return V[ye.name];const $e=new G(ye,B);return V[ye.name]=$e,$e},app:te,registerVersion:_.registerVersion,setLogLevel:_.setLogLevel,onLog:_.onLog,apps:null,SDK_VERSION:_.SDK_VERSION,INTERNAL:{registerComponent:function de(xe){const Ie=xe.name,ye=Ie.replace("-compat","");if(_._registerComponent(xe)&&"PUBLIC"===xe.type){const $e=(Te=te())=>{if("function"!=typeof Te[ye])throw O.create("invalid-app-argument",{appName:Ie});return Te[ye]()};void 0!==xe.serviceProps&&(0,s.ZB)($e,xe.serviceProps),B[ye]=$e,G.prototype[ye]=function(...Te){return this._getService.bind(this,Ie).apply(this,xe.multipleInstances?Te:[])}}return"PUBLIC"===xe.type?B[ye]:null},removeApp:function ee(xe){delete V[xe]},useAsService:function Re(xe,Ie){return"serverAuth"===Ie?null:Ie},modularAPIs:_}};function te(xe){if(!(0,s.r3)(V,xe=xe||_._DEFAULT_ENTRY_NAME))throw O.create("no-app",{appName:xe});return V[xe]}return B.default=B,Object.defineProperty(B,"apps",{get:function ae(){return Object.keys(V).map(xe=>V[xe])}}),te.App=G,B}(M);return G.INTERNAL=Object.assign(Object.assign({},G.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function V(B){(0,s.ZB)(G,B)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),G}(),H=new I.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const G=self.firebase.SDK_VERSION;G&&G.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const z=R;!function ne(G){(0,_.registerVersion)("@firebase/app-compat","0.2.9",G)}()},6881:(c,d,f)=>{"use strict";f.r(d),f.d(d,{FirebaseError:()=>I.ZR,SDK_VERSION:()=>ta,_DEFAULT_ENTRY_NAME:()=>nr,_addComponent:()=>pt,_addOrOverwriteComponent:()=>kt,_apps:()=>hn,_clearComponents:()=>gr,_components:()=>an,_getProvider:()=>ws,_registerComponent:()=>An,_removeServiceInstance:()=>Si,deleteApp:()=>Qi,getApp:()=>Dr,getApps:()=>$r,initializeApp:()=>dn,onLog:()=>Es,registerVersion:()=>qr,setLogLevel:()=>rr});var s=f(5861),v=f(4859),_=f(1877),I=f(2090);let P,O;const R=new WeakMap,H=new WeakMap,U=new WeakMap,q=new WeakMap,ne=new WeakMap;let V={get(Fe,Oe,Ye){if(Fe instanceof IDBTransaction){if("done"===Oe)return H.get(Fe);if("objectStoreNames"===Oe)return Fe.objectStoreNames||U.get(Fe);if("store"===Oe)return Ye.objectStoreNames[1]?void 0:Ye.objectStore(Ye.objectStoreNames[0])}return re(Fe[Oe])},set:(Fe,Oe,Ye)=>(Fe[Oe]=Ye,!0),has:(Fe,Oe)=>Fe instanceof IDBTransaction&&("done"===Oe||"store"===Oe)||Oe in Fe};function te(Fe){return"function"==typeof Fe?function ee(Fe){return Fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return O||(O=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Fe)?function(...Oe){return Fe.apply(ae(this),Oe),re(R.get(this))}:function(...Oe){return re(Fe.apply(ae(this),Oe))}:function(Oe,...Ye){const Xe=Fe.call(ae(this),Oe,...Ye);return U.set(Xe,Oe.sort?Oe.sort():[Oe]),re(Xe)}}(Fe):(Fe instanceof IDBTransaction&&function G(Fe){if(H.has(Fe))return;const Oe=new Promise((Ye,Xe)=>{const Ft=()=>{Fe.removeEventListener("complete",Kt),Fe.removeEventListener("error",fn),Fe.removeEventListener("abort",fn)},Kt=()=>{Ye(),Ft()},fn=()=>{Xe(Fe.error||new DOMException("AbortError","AbortError")),Ft()};Fe.addEventListener("complete",Kt),Fe.addEventListener("error",fn),Fe.addEventListener("abort",fn)});H.set(Fe,Oe)}(Fe),((Fe,Oe)=>Oe.some(Ye=>Fe instanceof Ye))(Fe,function j(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Fe,V):Fe)}function re(Fe){if(Fe instanceof IDBRequest)return function z(Fe){const Oe=new Promise((Ye,Xe)=>{const Ft=()=>{Fe.removeEventListener("success",Kt),Fe.removeEventListener("error",fn)},Kt=()=>{Ye(re(Fe.result)),Ft()},fn=()=>{Xe(Fe.error),Ft()};Fe.addEventListener("success",Kt),Fe.addEventListener("error",fn)});return Oe.then(Ye=>{Ye instanceof IDBCursor&&R.set(Ye,Fe)}).catch(()=>{}),ne.set(Oe,Fe),Oe}(Fe);if(q.has(Fe))return q.get(Fe);const Oe=te(Fe);return Oe!==Fe&&(q.set(Fe,Oe),ne.set(Oe,Fe)),Oe}const ae=Fe=>ne.get(Fe),xe=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],ye=new Map;function $e(Fe,Oe){if(!(Fe instanceof IDBDatabase)||Oe in Fe||"string"!=typeof Oe)return;if(ye.get(Oe))return ye.get(Oe);const Ye=Oe.replace(/FromIndex$/,""),Xe=Oe!==Ye,Ft=Ie.includes(Ye);if(!(Ye in(Xe?IDBIndex:IDBObjectStore).prototype)||!Ft&&!xe.includes(Ye))return;const Kt=function(){var fn=(0,s.Z)(function*(Gn,...ln){const Zr=this.transaction(Gn,Ft?"readwrite":"readonly");let Li=Zr.store;return Xe&&(Li=Li.index(ln.shift())),(yield Promise.all([Li[Ye](...ln),Ft&&Zr.done]))[0]});return function(ln){return fn.apply(this,arguments)}}();return ye.set(Oe,Kt),Kt}!function B(Fe){V=Fe(V)}(Fe=>({...Fe,get:(Oe,Ye,Xe)=>$e(Oe,Ye)||Fe.get(Oe,Ye,Xe),has:(Oe,Ye)=>!!$e(Oe,Ye)||Fe.has(Oe,Ye)}));class Te{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(Ye=>{if(function fe(Fe){return"VERSION"===Fe.getComponent()?.type}(Ye)){const Xe=Ye.getImmediate();return`${Xe.library}/${Xe.version}`}return null}).filter(Ye=>Ye).join(" ")}}const le="@firebase/app",X="0.9.9",oe=new _.Yd("@firebase/app"),nr="[DEFAULT]",pn={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,an=new Map;function pt(Fe,Oe){try{Fe.container.addComponent(Oe)}catch(Ye){oe.debug(`Component ${Oe.name} failed to register with FirebaseApp ${Fe.name}`,Ye)}}function kt(Fe,Oe){Fe.container.addOrOverwriteComponent(Oe)}function An(Fe){const Oe=Fe.name;if(an.has(Oe))return oe.debug(`There were multiple attempts to register component ${Oe}.`),!1;an.set(Oe,Fe);for(const Ye of hn.values())pt(Ye,Fe);return!0}function ws(Fe,Oe){const Ye=Fe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ye&&Ye.triggerHeartbeat(),Fe.container.getProvider(Oe)}function Si(Fe,Oe,Ye=nr){ws(Fe,Oe).clearInstance(Ye)}function gr(){an.clear()}const Gr=new I.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sn{constructor(Oe,Ye,Xe){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},Ye),this._name=Ye.name,this._automaticDataCollectionEnabled=Ye.automaticDataCollectionEnabled,this._container=Xe,this.container.addComponent(new v.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}const ta="9.21.0";function dn(Fe,Oe={}){let Ye=Fe;"object"!=typeof Oe&&(Oe={name:Oe});const Xe=Object.assign({name:nr,automaticDataCollectionEnabled:!1},Oe),Ft=Xe.name;if("string"!=typeof Ft||!Ft)throw Gr.create("bad-app-name",{appName:String(Ft)});if(Ye||(Ye=(0,I.aH)()),!Ye)throw Gr.create("no-options");const Kt=hn.get(Ft);if(Kt){if((0,I.vZ)(Ye,Kt.options)&&(0,I.vZ)(Xe,Kt.config))return Kt;throw Gr.create("duplicate-app",{appName:Ft})}const fn=new v.H0(Ft);for(const ln of an.values())fn.addComponent(ln);const Gn=new Sn(Ye,Xe,fn);return hn.set(Ft,Gn),Gn}function Dr(Fe=nr){const Oe=hn.get(Fe);if(!Oe&&Fe===nr)return dn();if(!Oe)throw Gr.create("no-app",{appName:Fe});return Oe}function $r(){return Array.from(hn.values())}function Qi(Fe){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,s.Z)(function*(Fe){const Oe=Fe.name;hn.has(Oe)&&(hn.delete(Oe),yield Promise.all(Fe.container.getProviders().map(Ye=>Ye.delete())),Fe.isDeleted=!0)})).apply(this,arguments)}function qr(Fe,Oe,Ye){var Xe;let Ft=null!==(Xe=pn[Fe])&&void 0!==Xe?Xe:Fe;Ye&&(Ft+=`-${Ye}`);const Kt=Ft.match(/\s|\//),fn=Oe.match(/\s|\//);if(Kt||fn){const Gn=[`Unable to register library "${Ft}" with version "${Oe}":`];return Kt&&Gn.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),Kt&&fn&&Gn.push("and"),fn&&Gn.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void oe.warn(Gn.join(" "))}An(new v.wA(`${Ft}-version`,()=>({library:Ft,version:Oe}),"VERSION"))}function Es(Fe,Oe){if(null!==Fe&&"function"!=typeof Fe)throw Gr.create("invalid-log-argument");(0,_.Am)(Fe,Oe)}function rr(Fe){(0,_.Ub)(Fe)}const _e="firebase-heartbeat-store";let ge=null;function Se(){return ge||(ge=function de(Fe,Oe,{blocked:Ye,upgrade:Xe,blocking:Ft,terminated:Kt}={}){const fn=indexedDB.open(Fe,Oe),Gn=re(fn);return Xe&&fn.addEventListener("upgradeneeded",ln=>{Xe(re(fn.result),ln.oldVersion,ln.newVersion,re(fn.transaction),ln)}),Ye&&fn.addEventListener("blocked",ln=>Ye(ln.oldVersion,ln.newVersion,ln)),Gn.then(ln=>{Kt&&ln.addEventListener("close",()=>Kt()),Ft&&ln.addEventListener("versionchange",Zr=>Ft(Zr.oldVersion,Zr.newVersion,Zr))}).catch(()=>{}),Gn}("firebase-heartbeat-database",1,{upgrade:(Fe,Oe)=>{0===Oe&&Fe.createObjectStore(_e)}}).catch(Fe=>{throw Gr.create("idb-open",{originalErrorMessage:Fe.message})})),ge}function Pe(){return(Pe=(0,s.Z)(function*(Fe){try{return(yield Se()).transaction(_e).objectStore(_e).get(Zt(Fe))}catch(Oe){if(Oe instanceof I.ZR)oe.warn(Oe.message);else{const Ye=Gr.create("idb-get",{originalErrorMessage:Oe?.message});oe.warn(Ye.message)}}})).apply(this,arguments)}function ot(Fe,Oe){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,s.Z)(function*(Fe,Oe){try{const Xe=(yield Se()).transaction(_e,"readwrite");return yield Xe.objectStore(_e).put(Oe,Zt(Fe)),Xe.done}catch(Ye){if(Ye instanceof I.ZR)oe.warn(Ye.message);else{const Xe=Gr.create("idb-set",{originalErrorMessage:Ye?.message});oe.warn(Xe.message)}}})).apply(this,arguments)}function Zt(Fe){return`${Fe.name}!${Fe.options.appId}`}class Ct{constructor(Oe){this.container=Oe,this._heartbeatsCache=null;const Ye=this.container.getProvider("app").getImmediate();this._storage=new Wr(Ye),this._heartbeatsCachePromise=this._storage.read().then(Xe=>(this._heartbeatsCache=Xe,Xe))}triggerHeartbeat(){var Oe=this;return(0,s.Z)(function*(){const Xe=Oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=Mt();if(null===Oe._heartbeatsCache&&(Oe._heartbeatsCache=yield Oe._heartbeatsCachePromise),Oe._heartbeatsCache.lastSentHeartbeatDate!==Ft&&!Oe._heartbeatsCache.heartbeats.some(Kt=>Kt.date===Ft))return Oe._heartbeatsCache.heartbeats.push({date:Ft,agent:Xe}),Oe._heartbeatsCache.heartbeats=Oe._heartbeatsCache.heartbeats.filter(Kt=>{const fn=new Date(Kt.date).valueOf();return Date.now()-fn<=2592e6}),Oe._storage.overwrite(Oe._heartbeatsCache)})()}getHeartbeatsHeader(){var Oe=this;return(0,s.Z)(function*(){if(null===Oe._heartbeatsCache&&(yield Oe._heartbeatsCachePromise),null===Oe._heartbeatsCache||0===Oe._heartbeatsCache.heartbeats.length)return"";const Ye=Mt(),{heartbeatsToSend:Xe,unsentEntries:Ft}=function Mn(Fe,Oe=1024){const Ye=[];let Xe=Fe.slice();for(const Ft of Fe){const Kt=Ye.find(fn=>fn.agent===Ft.agent);if(Kt){if(Kt.dates.push(Ft.date),Pn(Ye)>Oe){Kt.dates.pop();break}}else if(Ye.push({agent:Ft.agent,dates:[Ft.date]}),Pn(Ye)>Oe){Ye.pop();break}Xe=Xe.slice(1)}return{heartbeatsToSend:Ye,unsentEntries:Xe}}(Oe._heartbeatsCache.heartbeats),Kt=(0,I.L)(JSON.stringify({version:2,heartbeats:Xe}));return Oe._heartbeatsCache.lastSentHeartbeatDate=Ye,Ft.length>0?(Oe._heartbeatsCache.heartbeats=Ft,yield Oe._storage.overwrite(Oe._heartbeatsCache)):(Oe._heartbeatsCache.heartbeats=[],Oe._storage.overwrite(Oe._heartbeatsCache)),Kt})()}}function Mt(){return(new Date).toISOString().substring(0,10)}class Wr{constructor(Oe){this.app=Oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,I.hl)()&&(0,I.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Oe=this;return(0,s.Z)(function*(){return(yield Oe._canUseIndexedDBPromise)&&(yield function Be(Fe){return Pe.apply(this,arguments)}(Oe.app))||{heartbeats:[]}})()}overwrite(Oe){var Ye=this;return(0,s.Z)(function*(){var Xe;if(yield Ye._canUseIndexedDBPromise){const Kt=yield Ye.read();return ot(Ye.app,{lastSentHeartbeatDate:null!==(Xe=Oe.lastSentHeartbeatDate)&&void 0!==Xe?Xe:Kt.lastSentHeartbeatDate,heartbeats:Oe.heartbeats})}})()}add(Oe){var Ye=this;return(0,s.Z)(function*(){var Xe;if(yield Ye._canUseIndexedDBPromise){const Kt=yield Ye.read();return ot(Ye.app,{lastSentHeartbeatDate:null!==(Xe=Oe.lastSentHeartbeatDate)&&void 0!==Xe?Xe:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...Oe.heartbeats]})}})()}}function Pn(Fe){return(0,I.L)(JSON.stringify({version:2,heartbeats:Fe})).length}!function Xi(Fe){An(new v.wA("platform-logger",Oe=>new Te(Oe),"PRIVATE")),An(new v.wA("heartbeat",Oe=>new Ct(Oe),"PRIVATE")),qr(le,X,Fe),qr(le,X,"esm2017"),qr("fire-js","")}("")},4859:(c,d,f)=>{"use strict";f.d(d,{H0:()=>j,wA:()=>_});var s=f(5861),v=f(2090);class _{constructor(R,H,U){this.name=R,this.instanceFactory=H,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(R){return this.instantiationMode=R,this}setMultipleInstances(R){return this.multipleInstances=R,this}setServiceProps(R){return this.serviceProps=R,this}setInstanceCreatedCallback(R){return this.onInstanceCreated=R,this}}const I="[DEFAULT]";class M{constructor(R,H){this.name=R,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(R){const H=this.normalizeInstanceIdentifier(R);if(!this.instancesDeferred.has(H)){const U=new v.BH;if(this.instancesDeferred.set(H,U),this.isInitialized(H)||this.shouldAutoInitialize())try{const q=this.getOrInitializeService({instanceIdentifier:H});q&&U.resolve(q)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(R){var H;const U=this.normalizeInstanceIdentifier(R?.identifier),q=null!==(H=R?.optional)&&void 0!==H&&H;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(ne){if(q)return null;throw ne}}getComponent(){return this.component}setComponent(R){if(R.name!==this.name)throw Error(`Mismatching Component ${R.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=R,this.shouldAutoInitialize()){if(function O(Q){return"EAGER"===Q.instantiationMode}(R))try{this.getOrInitializeService({instanceIdentifier:I})}catch{}for(const[H,U]of this.instancesDeferred.entries()){const q=this.normalizeInstanceIdentifier(H);try{const ne=this.getOrInitializeService({instanceIdentifier:q});U.resolve(ne)}catch{}}}}clearInstance(R=I){this.instancesDeferred.delete(R),this.instancesOptions.delete(R),this.instances.delete(R)}delete(){var R=this;return(0,s.Z)(function*(){const H=Array.from(R.instances.values());yield Promise.all([...H.filter(U=>"INTERNAL"in U).map(U=>U.INTERNAL.delete()),...H.filter(U=>"_delete"in U).map(U=>U._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(R=I){return this.instances.has(R)}getOptions(R=I){return this.instancesOptions.get(R)||{}}initialize(R={}){const{options:H={}}=R,U=this.normalizeInstanceIdentifier(R.instanceIdentifier);if(this.isInitialized(U))throw Error(`${this.name}(${U}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const q=this.getOrInitializeService({instanceIdentifier:U,options:H});for(const[ne,z]of this.instancesDeferred.entries())U===this.normalizeInstanceIdentifier(ne)&&z.resolve(q);return q}onInit(R,H){var U;const q=this.normalizeInstanceIdentifier(H),ne=null!==(U=this.onInitCallbacks.get(q))&&void 0!==U?U:new Set;ne.add(R),this.onInitCallbacks.set(q,ne);const z=this.instances.get(q);return z&&R(z,q),()=>{ne.delete(R)}}invokeOnInitCallbacks(R,H){const U=this.onInitCallbacks.get(H);if(U)for(const q of U)try{q(R,H)}catch{}}getOrInitializeService({instanceIdentifier:R,options:H={}}){let U=this.instances.get(R);if(!U&&this.component&&(U=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=R,Q===I?void 0:Q),options:H}),this.instances.set(R,U),this.instancesOptions.set(R,H),this.invokeOnInitCallbacks(U,R),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,R,U)}catch{}var Q;return U||null}normalizeInstanceIdentifier(R=I){return this.component?this.component.multipleInstances?R:I:R}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class j{constructor(R){this.name=R,this.providers=new Map}addComponent(R){const H=this.getProvider(R.name);if(H.isComponentSet())throw new Error(`Component ${R.name} has already been registered with ${this.name}`);H.setComponent(R)}addOrOverwriteComponent(R){this.getProvider(R.name).isComponentSet()&&this.providers.delete(R.name),this.addComponent(R)}getProvider(R){if(this.providers.has(R))return this.providers.get(R);const H=new M(R,this);return this.providers.set(R,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(c,d,f)=>{"use strict";f.d(d,{Am:()=>Q,Ub:()=>j,Yd:()=>O,in:()=>v});const s=[];var v=(()=>{return(R=v||(v={}))[R.DEBUG=0]="DEBUG",R[R.VERBOSE=1]="VERBOSE",R[R.INFO=2]="INFO",R[R.WARN=3]="WARN",R[R.ERROR=4]="ERROR",R[R.SILENT=5]="SILENT",v;var R})();const _={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},I=v.INFO,M={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},P=(R,H,...U)=>{if(H<R.logLevel)return;const q=(new Date).toISOString(),ne=M[H];if(!ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[ne](`[${q}]  ${R.name}:`,...U)};class O{constructor(H){this.name=H,this._logLevel=I,this._logHandler=P,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in v))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?_[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...H),this._logHandler(this,v.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...H),this._logHandler(this,v.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,v.INFO,...H),this._logHandler(this,v.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,v.WARN,...H),this._logHandler(this,v.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,v.ERROR,...H),this._logHandler(this,v.ERROR,...H)}}function j(R){s.forEach(H=>{H.setLogLevel(R)})}function Q(R,H){for(const U of s){let q=null;H&&H.level&&(q=_[H.level]),U.userLogHandler=null===R?null:(ne,z,...G)=>{const V=G.map(B=>{if(null==B)return null;if("string"==typeof B)return B;if("number"==typeof B||"boolean"==typeof B)return B.toString();if(B instanceof Error)return B.message;try{return JSON.stringify(B)}catch{return null}}).filter(B=>B).join(" ");z>=(q??ne.logLevel)&&R({level:v[z].toLowerCase(),message:V,args:G,type:ne.name})}}}},259:(c,d,f)=>{"use strict";f.d(d,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=f(6881);(0,s.registerVersion)("firebase","9.21.0","app")},9260:(c,d,f)=>{"use strict";f.d(d,{Z:()=>s.Z});var s=f(3942);s.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(c,d,f)=>{"use strict";f.r(d);var s=f(5861),v=f(3942),_=f(2090),I=f(6881),M=f(655),P=f(1877),O=f(4859);const z=function q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},G=function ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},V=new _.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ee=new P.Yd("@firebase/auth");function re(C,...y){ee.logLevel<=P.in.ERROR&&ee.error(`Auth (${I.SDK_VERSION}): ${C}`,...y)}function ae(C,...y){throw Ie(C,...y)}function de(C,...y){return Ie(C,...y)}function Re(C,y,b){const T=Object.assign(Object.assign({},G()),{[y]:b});return new _.LL("auth","Firebase",T).create(y,{appName:C.name})}function xe(C,y,b){if(!(y instanceof b))throw b.name!==y.constructor.name&&ae(C,"argument-error"),Re(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ie(C,...y){if("string"!=typeof C){const b=y[0],T=[...y.slice(1)];return T[0]&&(T[0].appName=C.name),C._errorFactory.create(b,...T)}return V.create(C,...y)}function ye(C,y,...b){if(!C)throw Ie(y,...b)}function $e(C){const y="INTERNAL ASSERTION FAILED: "+C;throw re(y),new Error(y)}function Te(C,y){C||$e(y)}function fe(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function le(){return"http:"===X()||"https:"===X()}function X(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class pe{constructor(y,b){this.shortDelay=y,this.longDelay=b,Te(b>y,"Short delay should be less than long delay!"),this.isMobile=(0,_.uI)()||(0,_.b$)()}get(){return function oe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(le()||(0,_.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ne(C,y){Te(C.emulator,"Emulator should always be set here");const{url:b}=C.emulator;return y?`${b}${y.startsWith("/")?y.slice(1):y}`:b}class Le{static initialize(y,b,T){this.fetchImpl=y,b&&(this.headersImpl=b),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ht=new pe(3e4,6e4);function dt(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function Qe(C,y,b,T){return zt.apply(this,arguments)}function zt(){return(zt=(0,s.Z)(function*(C,y,b,T,$={}){return jt(C,$,(0,s.Z)(function*(){let ie={},ve={};T&&("GET"===y?ve=T:ie={body:JSON.stringify(T)});const Ae=(0,_.xO)(Object.assign({key:C.config.apiKey},ve)).slice(1),Ze=yield C._getAdditionalHeaders();return Ze["Content-Type"]="application/json",C.languageCode&&(Ze["X-Firebase-Locale"]=C.languageCode),Le.fetch()(lt(C,C.config.apiHost,b,Ae),Object.assign({method:y,headers:Ze,referrerPolicy:"no-referrer"},ie))}))})).apply(this,arguments)}function jt(C,y,b){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,s.Z)(function*(C,y,b){C._canInitEmulator=!1;const T=Object.assign(Object.assign({},nt),y);try{const $=new on(C),ie=yield Promise.race([b(),$.promise]);$.clearNetworkTimeout();const ve=yield ie.json();if("needConfirmation"in ve)throw On(C,"account-exists-with-different-credential",ve);if(ie.ok&&!("errorMessage"in ve))return ve;{const Ae=ie.ok?ve.errorMessage:ve.error.message,[Ze,st]=Ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw On(C,"credential-already-in-use",ve);if("EMAIL_EXISTS"===Ze)throw On(C,"email-already-in-use",ve);if("USER_DISABLED"===Ze)throw On(C,"user-disabled",ve);const gt=T[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw Re(C,gt,st);ae(C,gt)}}catch($){if($ instanceof _.ZR)throw $;ae(C,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function Jt(C,y,b,T){return un.apply(this,arguments)}function un(){return(un=(0,s.Z)(function*(C,y,b,T,$={}){const ie=yield Qe(C,y,b,T,$);return"mfaPendingCredential"in ie&&ae(C,"multi-factor-auth-required",{_serverResponse:ie}),ie})).apply(this,arguments)}function lt(C,y,b,T){const $=`${y}${b}?${T}`;return C.config.emulator?Ne(C.config,$):`${C.config.apiScheme}://${$}`}class on{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((b,T)=>{this.timer=setTimeout(()=>T(de(this.auth,"network-request-failed")),Ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function On(C,y,b){const T={appName:C.name};b.email&&(T.email=b.email),b.phoneNumber&&(T.phoneNumber=b.phoneNumber);const $=de(C,y,T);return $.customData._tokenResponse=b,$}function tr(){return(tr=(0,s.Z)(function*(C,y){return Qe(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function zr(C,y){return jr.apply(this,arguments)}function jr(){return(jr=(0,s.Z)(function*(C,y){return Qe(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ft(C,y){return bn.apply(this,arguments)}function bn(){return(bn=(0,s.Z)(function*(C,y){return Qe(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function cr(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function nr(){return(nr=(0,s.Z)(function*(C,y=!1){const b=(0,_.m9)(C),T=yield b.getIdToken(y),$=hn(T);ye($&&$.exp&&$.auth_time&&$.iat,b.auth,"internal-error");const ie="object"==typeof $.firebase?$.firebase:void 0,ve=ie?.sign_in_provider;return{claims:$,token:T,authTime:cr(pn($.auth_time)),issuedAtTime:cr(pn($.iat)),expirationTime:cr(pn($.exp)),signInProvider:ve||null,signInSecondFactor:ie?.sign_in_second_factor||null}})).apply(this,arguments)}function pn(C){return 1e3*Number(C)}function hn(C){const[y,b,T]=C.split(".");if(void 0===y||void 0===b||void 0===T)return re("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,_.tV)(b);return $?JSON.parse($):(re("Failed to decode base64 JWT payload"),null)}catch($){return re("Caught error parsing JWT payload as JSON",$?.toString()),null}}function pt(C,y){return kt.apply(this,arguments)}function kt(){return(kt=(0,s.Z)(function*(C,y,b=!1){if(b)return y;try{return yield y}catch(T){throw T instanceof _.ZR&&An(T)&&C.auth.currentUser===C&&(yield C.auth.signOut()),T}})).apply(this,arguments)}function An({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class ws{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var b;if(y){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const $=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(y=!1){var b=this;if(!this.isRunning)return;const T=this.getInterval(y);this.timerId=setTimeout((0,s.Z)(function*(){yield b.iteration()}),T)}iteration(){var y=this;return(0,s.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&y.schedule(!0))}y.schedule()})()}}class Si{constructor(y,b){this.createdAt=y,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=cr(this.lastLoginAt),this.creationTime=cr(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gr(C){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,s.Z)(function*(C){var y;const b=C.auth,T=yield C.getIdToken(),$=yield pt(C,ft(b,{idToken:T}));ye($?.users.length,b,"internal-error");const ie=$.users[0];C._notifyReloadListener(ie);const ve=null!==(y=ie.providerUserInfo)&&void 0!==y&&y.length?dn(ie.providerUserInfo):[],Ae=ta(C.providerData,ve),gt=!!C.isAnonymous&&!(C.email&&ie.passwordHash||Ae?.length),wt={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:Ae,metadata:new Si(ie.createdAt,ie.lastLoginAt),isAnonymous:gt};Object.assign(C,wt)})).apply(this,arguments)}function Sn(){return(Sn=(0,s.Z)(function*(C){const y=(0,_.m9)(C);yield gr(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function ta(C,y){return[...C.filter(T=>!y.some($=>$.providerId===T.providerId)),...y]}function dn(C){return C.map(y=>{var{providerId:b}=y,T=(0,M._T)(y,["providerId"]);return{providerId:b,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function $r(){return($r=(0,s.Z)(function*(C,y){const b=yield jt(C,{},(0,s.Z)(function*(){const T=(0,_.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:$,apiKey:ie}=C.config,ve=lt(C,$,"/v1/token",`key=${ie}`),Ae=yield C._getAdditionalHeaders();return Ae["Content-Type"]="application/x-www-form-urlencoded",Le.fetch()(ve,{method:"POST",headers:Ae,body:T})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class Qi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){ye(y.idToken,"internal-error"),ye(typeof y.idToken<"u","internal-error"),ye(typeof y.refreshToken<"u","internal-error");const b="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function an(C){const y=hn(C);return ye(y,"internal-error"),ye(typeof y.exp<"u","internal-error"),ye(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,b)}getToken(y,b=!1){var T=this;return(0,s.Z)(function*(){return ye(!T.accessToken||T.refreshToken,y,"user-token-expired"),b||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(y,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,b){var T=this;return(0,s.Z)(function*(){const{accessToken:$,refreshToken:ie,expiresIn:ve}=yield function Dr(C,y){return $r.apply(this,arguments)}(y,b);T.updateTokensAndExpiration($,ie,Number(ve))})()}updateTokensAndExpiration(y,b,T){this.refreshToken=b||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(y,b){const{refreshToken:T,accessToken:$,expirationTime:ie}=b,ve=new Qi;return T&&(ye("string"==typeof T,"internal-error",{appName:y}),ve.refreshToken=T),$&&(ye("string"==typeof $,"internal-error",{appName:y}),ve.accessToken=$),ie&&(ye("number"==typeof ie,"internal-error",{appName:y}),ve.expirationTime=ie),ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Qi,this.toJSON())}_performRefresh(){return $e("not implemented")}}function Yn(C,y){ye("string"==typeof C||typeof C>"u","internal-error",{appName:y})}class qr{constructor(y){var{uid:b,auth:T,stsTokenManager:$}=y,ie=(0,M._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ws(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=T,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.providerData=ie.providerData?[...ie.providerData]:[],this.metadata=new Si(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(y){var b=this;return(0,s.Z)(function*(){const T=yield pt(b,b.stsTokenManager.getToken(b.auth,y));return ye(T,b.auth,"internal-error"),b.accessToken!==T&&(b.accessToken=T,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),T})()}getIdTokenResult(y){return function Ir(C){return nr.apply(this,arguments)}(this,y)}reload(){return function Gr(C){return Sn.apply(this,arguments)}(this)}_assign(y){this!==y&&(ye(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(b=>Object.assign({},b)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const b=new qr(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(y){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,b=!1){var T=this;return(0,s.Z)(function*(){let $=!1;y.idToken&&y.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(y),$=!0),b&&(yield gr(T)),yield T.auth._persistUserIfCurrent(T),$&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var y=this;return(0,s.Z)(function*(){const b=yield y.getIdToken();return yield pt(y,function mr(C,y){return tr.apply(this,arguments)}(y.auth,{idToken:b})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,b){var T,$,ie,ve,Ae,Ze,st,gt;const wt=null!==(T=b.displayName)&&void 0!==T?T:void 0,qn=null!==($=b.email)&&void 0!==$?$:void 0,us=null!==(ie=b.phoneNumber)&&void 0!==ie?ie:void 0,Bu=null!==(ve=b.photoURL)&&void 0!==ve?ve:void 0,ks=null!==(Ae=b.tenantId)&&void 0!==Ae?Ae:void 0,Hu=null!==(Ze=b._redirectEventId)&&void 0!==Ze?Ze:void 0,Dc=null!==(st=b.createdAt)&&void 0!==st?st:void 0,_g=null!==(gt=b.lastLoginAt)&&void 0!==gt?gt:void 0,{uid:yp,emailVerified:_p,isAnonymous:Tc,providerData:xc,stsTokenManager:vp}=b;ye(yp&&vp,y,"internal-error");const Ia=Qi.fromJSON(this.name,vp);ye("string"==typeof yp,y,"internal-error"),Yn(wt,y.name),Yn(qn,y.name),ye("boolean"==typeof _p,y,"internal-error"),ye("boolean"==typeof Tc,y,"internal-error"),Yn(us,y.name),Yn(Bu,y.name),Yn(ks,y.name),Yn(Hu,y.name),Yn(Dc,y.name),Yn(_g,y.name);const vl=new qr({uid:yp,auth:y,email:qn,emailVerified:_p,displayName:wt,isAnonymous:Tc,photoURL:Bu,phoneNumber:us,tenantId:ks,stsTokenManager:Ia,createdAt:Dc,lastLoginAt:_g});return xc&&Array.isArray(xc)&&(vl.providerData=xc.map(br=>Object.assign({},br))),Hu&&(vl._redirectEventId=Hu),vl}static _fromIdTokenResponse(y,b,T=!1){return(0,s.Z)(function*(){const $=new Qi;$.updateFromServerResponse(b);const ie=new qr({uid:b.localId,auth:y,stsTokenManager:$,isAnonymous:T});return yield gr(ie),ie})()}}const Es=new Map;function rr(C){Te(C instanceof Function,"Expected a class definition");let y=Es.get(C);return y?(Te(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,Es.set(C,y),y)}const gi=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(b,T){var $=this;return(0,s.Z)(function*(){$.storage[b]=T})()}_get(b){var T=this;return(0,s.Z)(function*(){const $=T.storage[b];return void 0===$?null:$})()}_remove(b){var T=this;return(0,s.Z)(function*(){delete T.storage[b]})()}_addListener(b,T){}_removeListener(b,T){}}return C.type="NONE",C})();function _e(C,y,b){return`firebase:${C}:${y}:${b}`}class ge{constructor(y,b,T){this.persistence=y,this.auth=b,this.userKey=T;const{config:$,name:ie}=this.auth;this.fullUserKey=_e(this.userKey,$.apiKey,ie),this.fullPersistenceKey=_e("persistence",$.apiKey,ie),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,s.Z)(function*(){const b=yield y.persistence._get(y.fullUserKey);return b?qr._fromJSON(y.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var b=this;return(0,s.Z)(function*(){if(b.persistence===y)return;const T=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=y,T?b.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,b,T="authUser"){return(0,s.Z)(function*(){if(!b.length)return new ge(rr(gi),y,T);const $=(yield Promise.all(b.map(function(){var st=(0,s.Z)(function*(gt){if(yield gt._isAvailable())return gt});return function(gt){return st.apply(this,arguments)}}()))).filter(st=>st);let ie=$[0]||rr(gi);const ve=_e(T,y.config.apiKey,y.name);let Ae=null;for(const st of b)try{const gt=yield st._get(ve);if(gt){const wt=qr._fromJSON(y,gt);st!==ie&&(Ae=wt),ie=st;break}}catch{}const Ze=$.filter(st=>st._shouldAllowMigration);return ie._shouldAllowMigration&&Ze.length?(ie=Ze[0],Ae&&(yield ie._set(ve,Ae.toJSON())),yield Promise.all(b.map(function(){var st=(0,s.Z)(function*(gt){if(gt!==ie)try{yield gt._remove(ve)}catch{}});return function(gt){return st.apply(this,arguments)}}())),new ge(ie,y,T)):new ge(ie,y,T)})()}}function Se(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Vt(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(Be(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(wn(y))return"Blackberry";if(Je(y))return"Webos";if(Pe(y))return"Safari";if((y.includes("chrome/")||ot(y))&&!y.includes("edge/"))return"Chrome";if(Zt(y))return"Android";{const T=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function Be(C=(0,_.z$)()){return/firefox\//i.test(C)}function Pe(C=(0,_.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function ot(C=(0,_.z$)()){return/crios\//i.test(C)}function Vt(C=(0,_.z$)()){return/iemobile/i.test(C)}function Zt(C=(0,_.z$)()){return/android/i.test(C)}function wn(C=(0,_.z$)()){return/blackberry/i.test(C)}function Je(C=(0,_.z$)()){return/webos/i.test(C)}function Ct(C=(0,_.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function Pn(C=(0,_.z$)()){return Ct(C)||Zt(C)||Je(C)||wn(C)||/windows phone/i.test(C)||Vt(C)}function Fe(C,y=[]){let b;switch(C){case"Browser":b=Se((0,_.z$)());break;case"Worker":b=`${Se((0,_.z$)())}-${C}`;break;default:b=C}const T=y.length?y.join(","):"FirebaseCore-web";return`${b}/JsCore/${I.SDK_VERSION}/${T}`}function Ye(){return(Ye=(0,s.Z)(function*(C){return(yield Qe(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Xe(C,y){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)(function*(C,y){return Qe(C,"GET","/v2/recaptchaConfig",dt(C,y))})).apply(this,arguments)}function Kt(C){return void 0!==C&&void 0!==C.getResponse}function fn(C){return void 0!==C&&void 0!==C.enterprise}class Gn{constructor(y){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.emailPasswordEnabled=y.recaptchaEnforcementState.some(b=>"EMAIL_PASSWORD_PROVIDER"===b.provider&&"OFF"!==b.enforcementState)}}function Zr(C){return new Promise((y,b)=>{const T=document.createElement("script");T.setAttribute("src",C),T.onload=y,T.onerror=$=>{const ie=de("internal-error");ie.customData=$,b(ie)},T.type="text/javascript",T.charset="UTF-8",function ln(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(T)})}function Li(C){return`__${C}${Math.floor(1e6*Math.random())}`}class mn{constructor(y){this.type="recaptcha-enterprise",this.auth=gn(y)}verify(y="verify",b=!1){var T=this;return(0,s.Z)(function*(){function ie(){return ie=(0,s.Z)(function*(Ae){if(!b){if(null==Ae.tenantId&&null!=Ae._agentRecaptchaConfig)return Ae._agentRecaptchaConfig.siteKey;if(null!=Ae.tenantId&&void 0!==Ae._tenantRecaptchaConfigs[Ae.tenantId])return Ae._tenantRecaptchaConfigs[Ae.tenantId].siteKey}return new Promise(function(){var Ze=(0,s.Z)(function*(st,gt){Xe(Ae,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(wt=>{if(void 0!==wt.recaptchaKey){const qn=new Gn(wt);return null==Ae.tenantId?Ae._agentRecaptchaConfig=qn:Ae._tenantRecaptchaConfigs[Ae.tenantId]=qn,st(qn.siteKey)}gt(new Error("recaptcha Enterprise site key undefined"))}).catch(wt=>{gt(wt)})});return function(st,gt){return Ze.apply(this,arguments)}}())}),ie.apply(this,arguments)}function ve(Ae,Ze,st){const gt=window.grecaptcha;fn(gt)?gt.enterprise.ready(()=>{gt.enterprise.execute(Ae,{action:y}).then(wt=>{Ze(wt)}).catch(()=>{Ze("NO_RECAPTCHA")})}):st(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ae,Ze)=>{(function $(Ae){return ie.apply(this,arguments)})(T.auth).then(st=>{if(!b&&fn(window.grecaptcha))ve(st,Ae,Ze);else{if(typeof window>"u")return void Ze(new Error("RecaptchaVerifier is only supported in browser"));Zr("https://www.google.com/recaptcha/enterprise.js?render="+st).then(()=>{ve(st,Ae,Ze)}).catch(gt=>{Ze(gt)})}}).catch(st=>{Ze(st)})})})()}}function Cs(C,y,b){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,s.Z)(function*(C,y,b,T=!1){const $=new mn(C);let ie;try{ie=yield $.verify(b)}catch{ie=yield $.verify(b,!0)}const ve=Object.assign({},y);return Object.assign(ve,T?{captchaResp:ie}:{captchaResponse:ie}),Object.assign(ve,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ve,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ve})).apply(this,arguments)}class Co{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,b){const T=ie=>new Promise((ve,Ae)=>{try{ve(y(ie))}catch(Ze){Ae(Ze)}});T.onAbort=b,this.queue.push(T);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(y){var b=this;return(0,s.Z)(function*(){if(b.auth.currentUser===y)return;const T=[];try{for(const $ of b.queue)yield $(y),$.onAbort&&T.push($.onAbort)}catch($){T.reverse();for(const ie of T)try{ie()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}class Yc{constructor(y,b,T,$){this.app=y,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=T,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new so(this),this.idTokenSubscription=new so(this),this.beforeStateQueue=new Co(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(y,b){var T=this;return b&&(this._popupRedirectResolver=rr(b)),this._initializationPromise=this.queue((0,s.Z)(function*(){var $,ie;if(!T._deleted&&(T.persistenceManager=yield ge.create(T,y),!T._deleted)){if(null!==($=T._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(b),T.lastNotifiedUid=(null===(ie=T.currentUser)||void 0===ie?void 0:ie.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,s.Z)(function*(){if(y._deleted)return;const b=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||b){if(y.currentUser&&b&&y.currentUser.uid===b.uid)return y._currentUser._assign(b),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(b,!0)}})()}initializeCurrentUser(y){var b=this;return(0,s.Z)(function*(){var T;const $=yield b.assertedPersistence.getCurrentUser();let ie=$,ve=!1;if(y&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const Ae=null===(T=b.redirectUser)||void 0===T?void 0:T._redirectEventId,Ze=ie?._redirectEventId,st=yield b.tryRedirectSignIn(y);(!Ae||Ae===Ze)&&st?.user&&(ie=st.user,ve=!0)}if(!ie)return b.directlySetCurrentUser(null);if(!ie._redirectEventId){if(ve)try{yield b.beforeStateQueue.runMiddleware(ie)}catch(Ae){ie=$,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(Ae))}return ie?b.reloadAndSetCurrentUserOrClear(ie):b.directlySetCurrentUser(null)}return ye(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===ie._redirectEventId?b.directlySetCurrentUser(ie):b.reloadAndSetCurrentUserOrClear(ie)})()}tryRedirectSignIn(y){var b=this;return(0,s.Z)(function*(){let T=null;try{T=yield b._popupRedirectResolver._completeRedirectFn(b,y,!0)}catch{yield b._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(y){var b=this;return(0,s.Z)(function*(){try{yield gr(y)}catch(T){if("auth/network-request-failed"!==T?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function be(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,s.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var b=this;return(0,s.Z)(function*(){const T=y?(0,_.m9)(y):null;return T&&ye(T.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(T&&T._clone(b))})()}_updateCurrentUser(y,b=!1){var T=this;return(0,s.Z)(function*(){if(!T._deleted)return y&&ye(T.tenantId===y.tenantId,T,"tenant-id-mismatch"),b||(yield T.beforeStateQueue.runMiddleware(y)),T.queue((0,s.Z)(function*(){yield T.directlySetCurrentUser(y),T.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,s.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var b=this;return this.queue((0,s.Z)(function*(){yield b.assertedPersistence.setPersistence(rr(y))}))}initializeRecaptchaConfig(){var y=this;return(0,s.Z)(function*(){const b=yield Xe(y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new Gn(b);null==y.tenantId?y._agentRecaptchaConfig=T:y._tenantRecaptchaConfigs[y.tenantId]=T,T.emailPasswordEnabled&&new mn(y).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new _.LL("auth","Firebase",y())}onAuthStateChanged(y,b,T){return this.registerStateListener(this.authStateSubscription,y,b,T)}beforeAuthStateChanged(y,b){return this.beforeStateQueue.pushCallback(y,b)}onIdTokenChanged(y,b,T){return this.registerStateListener(this.idTokenSubscription,y,b,T)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,b){var T=this;return(0,s.Z)(function*(){const $=yield T.getOrInitRedirectPersistenceManager(b);return null===y?$.removeCurrentUser():$.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var b=this;return(0,s.Z)(function*(){if(!b.redirectPersistenceManager){const T=y&&rr(y)||b._popupRedirectResolver;ye(T,b,"argument-error"),b.redirectPersistenceManager=yield ge.create(b,[rr(T._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(y){var b=this;return(0,s.Z)(function*(){var T,$;return b._isInitialized&&(yield b.queue((0,s.Z)(function*(){}))),(null===(T=b._currentUser)||void 0===T?void 0:T._redirectEventId)===y?b._currentUser:(null===($=b.redirectUser)||void 0===$?void 0:$._redirectEventId)===y?b.redirectUser:null})()}_persistUserIfCurrent(y){var b=this;return(0,s.Z)(function*(){if(y===b.currentUser)return b.queue((0,s.Z)(function*(){return b.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(b=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,b,T,$){if(this._deleted)return()=>{};const ie="function"==typeof b?b:b.next.bind(b),ve=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(ve,this,"internal-error"),ve.then(()=>ie(this.currentUser)),"function"==typeof b?y.addObserver(b,T,$):y.addObserver(b)}directlySetCurrentUser(y){var b=this;return(0,s.Z)(function*(){b.currentUser&&b.currentUser!==y&&b._currentUser._stopProactiveRefresh(),y&&b.isProactiveRefreshEnabled&&y._startProactiveRefresh(),b.currentUser=y,y?yield b.assertedPersistence.setCurrentUser(y):yield b.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Fe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,s.Z)(function*(){var b;const T={"X-Client-Version":y.clientVersion};y.app.options.appId&&(T["X-Firebase-gmpid"]=y.app.options.appId);const $=yield null===(b=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();$&&(T["X-Firebase-Client"]=$);const ie=yield y._getAppCheckToken();return ie&&(T["X-Firebase-AppCheck"]=ie),T})()}_getAppCheckToken(){var y=this;return(0,s.Z)(function*(){var b;const T=yield null===(b=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return T?.error&&function te(C,...y){ee.logLevel<=P.in.WARN&&ee.warn(`Auth (${I.SDK_VERSION}): ${C}`,...y)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function gn(C){return(0,_.m9)(C)}class so{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,_.ne)(b=>this.observer=b)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Tr(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function oo(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class Vs{constructor(y,b){this.providerId=y,this.signInMethod=b}toJSON(){return $e("not implemented")}_getIdTokenResponse(y){return $e("not implemented")}_linkToIdToken(y,b){return $e("not implemented")}_getReauthenticationResolver(y){return $e("not implemented")}}function Ji(C,y){return ia.apply(this,arguments)}function ia(){return(ia=(0,s.Z)(function*(C,y){return Qe(C,"POST","/v1/accounts:resetPassword",dt(C,y))})).apply(this,arguments)}function Rh(C,y){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,s.Z)(function*(C,y){return Qe(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Oh(C,y){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,s.Z)(function*(C,y){return Qe(C,"POST","/v1/accounts:update",dt(C,y))})).apply(this,arguments)}function Nn(C,y){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,s.Z)(function*(C,y){return Jt(C,"POST","/v1/accounts:signInWithPassword",dt(C,y))})).apply(this,arguments)}function Xc(C,y){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,s.Z)(function*(C,y){return Qe(C,"POST","/v1/accounts:sendOobCode",dt(C,y))})).apply(this,arguments)}function If(C,y){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,s.Z)(function*(C,y){return Xc(C,y)})).apply(this,arguments)}function Fl(C,y){return Df.apply(this,arguments)}function Df(){return(Df=(0,s.Z)(function*(C,y){return Xc(C,y)})).apply(this,arguments)}function Lh(C,y){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,s.Z)(function*(C,y){return Xc(C,y)})).apply(this,arguments)}function Km(C,y){return eu.apply(this,arguments)}function eu(){return(eu=(0,s.Z)(function*(C,y){return Xc(C,y)})).apply(this,arguments)}function tu(){return(tu=(0,s.Z)(function*(C,y){return Jt(C,"POST","/v1/accounts:signInWithEmailLink",dt(C,y))})).apply(this,arguments)}function Tf(){return(Tf=(0,s.Z)(function*(C,y){return Jt(C,"POST","/v1/accounts:signInWithEmailLink",dt(C,y))})).apply(this,arguments)}class nu extends Vs{constructor(y,b,T,$=null){super("password",T),this._email=y,this._password=b,this._tenantId=$}static _fromEmailAndPassword(y,b){return new nu(y,b,"password")}static _fromEmailAndCode(y,b,T=null){return new nu(y,b,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(y){var b=this;return(0,s.Z)(function*(){var T;switch(b.signInMethod){case"password":const $={returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=y._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ie=yield Cs(y,$,"signInWithPassword");return Nn(y,ie)}return Nn(y,$).catch(function(){var ie=(0,s.Z)(function*(ve){if("auth/missing-recaptcha-token"===ve.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ae=yield Cs(y,$,"signInWithPassword");return Nn(y,Ae)}return Promise.reject(ve)});return function(ve){return ie.apply(this,arguments)}}());case"emailLink":return function Vh(C,y){return tu.apply(this,arguments)}(y,{email:b._email,oobCode:b._password});default:ae(y,"internal-error")}})()}_linkToIdToken(y,b){var T=this;return(0,s.Z)(function*(){switch(T.signInMethod){case"password":return Rh(y,{idToken:b,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function Bh(C,y){return Tf.apply(this,arguments)}(y,{idToken:b,email:T._email,oobCode:T._password});default:ae(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function es(C,y){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,s.Z)(function*(C,y){return Jt(C,"POST","/v1/accounts:signInWithIdp",dt(C,y))})).apply(this,arguments)}class Vi extends Vs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const b=new Vi(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(b.idToken=y.idToken),y.accessToken&&(b.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(b.nonce=y.nonce),y.pendingToken&&(b.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(b.accessToken=y.oauthToken,b.secret=y.oauthTokenSecret):ae("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:$}=b,ie=(0,M._T)(b,["providerId","signInMethod"]);if(!T||!$)return null;const ve=new Vi(T,$);return ve.idToken=ie.idToken||void 0,ve.accessToken=ie.accessToken||void 0,ve.secret=ie.secret,ve.nonce=ie.nonce,ve.pendingToken=ie.pendingToken||null,ve}_getIdTokenResponse(y){return es(y,this.buildRequest())}_linkToIdToken(y,b){const T=this.buildRequest();return T.idToken=b,es(y,T)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,es(y,b)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),y.postBody=(0,_.xO)(b)}return y}}function Hh(C,y){return $a.apply(this,arguments)}function $a(){return($a=(0,s.Z)(function*(C,y){return Qe(C,"POST","/v1/accounts:sendVerificationCode",dt(C,y))})).apply(this,arguments)}function Ll(){return(Ll=(0,s.Z)(function*(C,y){return Jt(C,"POST","/v1/accounts:signInWithPhoneNumber",dt(C,y))})).apply(this,arguments)}function _i(){return(_i=(0,s.Z)(function*(C,y){const b=yield Jt(C,"POST","/v1/accounts:signInWithPhoneNumber",dt(C,y));if(b.temporaryProof)throw On(C,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const Vl={USER_NOT_FOUND:"user-not-found"};function Or(){return(Or=(0,s.Z)(function*(C,y){return Jt(C,"POST","/v1/accounts:signInWithPhoneNumber",dt(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Vl)})).apply(this,arguments)}class si extends Vs{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,b){return new si({verificationId:y,verificationCode:b})}static _fromTokenResponse(y,b){return new si({phoneNumber:y,temporaryProof:b})}_getIdTokenResponse(y){return function ru(C,y){return Ll.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,b){return function Af(C,y){return _i.apply(this,arguments)}(y,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function Mf(C,y){return Or.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:b,verificationId:T,verificationCode:$}=this.params;return y&&b?{temporaryProof:y,phoneNumber:b}:{sessionInfo:T,code:$}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:b,verificationCode:T,phoneNumber:$,temporaryProof:ie}=y;return T||b||$||ie?new si({verificationId:b,verificationCode:T,phoneNumber:$,temporaryProof:ie}):null}}class Hl{constructor(y){var b,T,$,ie,ve,Ae;const Ze=(0,_.zd)((0,_.pd)(y)),st=null!==(b=Ze.apiKey)&&void 0!==b?b:null,gt=null!==(T=Ze.oobCode)&&void 0!==T?T:null,wt=function Pf(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=Ze.mode)&&void 0!==$?$:null);ye(st&&gt&&wt,"argument-error"),this.apiKey=st,this.operation=wt,this.code=gt,this.continueUrl=null!==(ie=Ze.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(ve=Ze.languageCode)&&void 0!==ve?ve:null,this.tenantId=null!==(Ae=Ze.tenantId)&&void 0!==Ae?Ae:null}static parseLink(y){const b=function Bl(C){const y=(0,_.zd)((0,_.pd)(C)).link,b=y?(0,_.zd)((0,_.pd)(y)).deep_link_id:null,T=(0,_.zd)((0,_.pd)(C)).deep_link_id;return(T?(0,_.zd)((0,_.pd)(T)).link:null)||T||b||y||C}(y);try{return new Hl(b)}catch{return null}}}let ir=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(b,T){return nu._fromEmailAndPassword(b,T)}static credentialWithLink(b,T){const $=Hl.parseLink(T);return ye($,"argument-error"),nu._fromEmailAndCode(b,$.code,$.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Hs{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Ul extends Hs{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Bi extends Ul{static credentialFromJSON(y){const b="string"==typeof y?JSON.parse(y):y;return ye("providerId"in b&&"signInMethod"in b,"argument-error"),Vi._fromParams(b)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return ye(y.idToken||y.accessToken,"argument-error"),Vi._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Bi.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Bi.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:b,oauthAccessToken:T,oauthTokenSecret:$,pendingToken:ie,nonce:ve,providerId:Ae}=y;if(!T&&!$&&!b&&!ie||!Ae)return null;try{return new Bi(Ae)._credential({idToken:b,accessToken:T,nonce:ve,pendingToken:ie})}catch{return null}}}let vi=(()=>{class C extends Ul{constructor(){super("facebook.com")}static credential(b){return Vi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),iu=(()=>{class C extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(b,T){return Vi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:T})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:T,oauthAccessToken:$}=b;if(!T&&!$)return null;try{return C.credential(T,$)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),zl=(()=>{class C extends Ul{constructor(){super("github.com")}static credential(b){return Vi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class sr extends Vs{constructor(y,b){super(y,y),this.pendingToken=b}_getIdTokenResponse(y){return es(y,this.buildRequest())}_linkToIdToken(y,b){const T=this.buildRequest();return T.idToken=b,es(y,T)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,es(y,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:$,pendingToken:ie}=b;return T&&$&&ie&&T===$?new sr(T,ie):null}static _create(y,b){return new sr(y,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class So extends Hs{constructor(y){ye(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return So.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return So.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const b=sr.fromJSON(y);return ye(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:b,providerId:T}=y;if(!b||!T)return null;try{return sr._create(T,b)}catch{return null}}}let su=(()=>{class C extends Ul{constructor(){super("twitter.com")}static credential(b,T){return Vi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:T})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:T,oauthTokenSecret:$}=b;if(!T||!$)return null;try{return C.credential(T,$)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Ti(C,y){return ao.apply(this,arguments)}function ao(){return(ao=(0,s.Z)(function*(C,y){return Jt(C,"POST","/v1/accounts:signUp",dt(C,y))})).apply(this,arguments)}class Kr{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,b,T,$=!1){return(0,s.Z)(function*(){const ie=yield qr._fromIdTokenResponse(y,T,$),ve=Bt(T);return new Kr({user:ie,providerId:ve,_tokenResponse:T,operationType:b})})()}static _forOperation(y,b,T){return(0,s.Z)(function*(){yield y._updateTokensIfNecessary(T,!0);const $=Bt(T);return new Kr({user:y,providerId:$,_tokenResponse:T,operationType:b})})()}}function Bt(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function zh(){return(zh=(0,s.Z)(function*(C){var y;const b=gn(C);if(yield b._initializationPromise,null!==(y=b.currentUser)&&void 0!==y&&y.isAnonymous)return new Kr({user:b.currentUser,providerId:null,operationType:"signIn"});const T=yield Ti(b,{returnSecureToken:!0}),$=yield Kr._fromIdTokenResponse(b,"signIn",T,!0);return yield b._updateCurrentUser($.user),$})).apply(this,arguments)}class qa extends _.ZR{constructor(y,b,T,$){var ie;super(b.code,b.message),this.operationType=T,this.user=$,Object.setPrototypeOf(this,qa.prototype),this.customData={appName:y.name,tenantId:null!==(ie=y.tenantId)&&void 0!==ie?ie:void 0,_serverResponse:b.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(y,b,T,$){return new qa(y,b,T,$)}}function jh(C,y,b,T){return("reauthenticate"===y?b._getReauthenticationResolver(C):b._getIdTokenResponse(C)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?qa._fromErrorAndOperation(C,ie,y,T):ie})}function Gh(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function ts(){return(ts=(0,s.Z)(function*(C,y){const b=(0,_.m9)(C);yield nn(!0,b,y);const{providerUserInfo:T}=yield zr(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[y]}),$=Gh(T||[]);return b.providerData=b.providerData.filter(ie=>$.has(ie.providerId)),$.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function jl(C,y){return qe.apply(this,arguments)}function qe(){return(qe=(0,s.Z)(function*(C,y,b=!1){const T=yield pt(C,y._linkToIdToken(C.auth,yield C.getIdToken()),b);return Kr._forOperation(C,"link",T)})).apply(this,arguments)}function nn(C,y,b){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,s.Z)(function*(C,y,b){yield gr(y);const $=!1===C?"provider-already-linked":"no-such-provider";ye(Gh(y.providerData).has(b)===C,y.auth,$)})).apply(this,arguments)}function ou(C,y){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,s.Z)(function*(C,y,b=!1){const{auth:T}=C,$="reauthenticate";try{const ie=yield pt(C,jh(T,$,y,C),b);ye(ie.idToken,T,"internal-error");const ve=hn(ie.idToken);ye(ve,T,"internal-error");const{sub:Ae}=ve;return ye(C.uid===Ae,T,"user-mismatch"),Kr._forOperation(C,$,ie)}catch(ie){throw"auth/user-not-found"===ie?.code&&ae(T,"user-mismatch"),ie}})).apply(this,arguments)}function $l(C,y){return Io.apply(this,arguments)}function Io(){return(Io=(0,s.Z)(function*(C,y,b=!1){const T="signIn",$=yield jh(C,T,y),ie=yield Kr._fromIdTokenResponse(C,T,$);return b||(yield C._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function xi(C,y){return oa.apply(this,arguments)}function oa(){return(oa=(0,s.Z)(function*(C,y){return $l(gn(C),y)})).apply(this,arguments)}function au(C,y){return lu.apply(this,arguments)}function lu(){return(lu=(0,s.Z)(function*(C,y){const b=(0,_.m9)(C);return yield nn(!1,b,y.providerId),jl(b,y)})).apply(this,arguments)}function Xn(C,y){return kf.apply(this,arguments)}function kf(){return(kf=(0,s.Z)(function*(C,y){return ou((0,_.m9)(C),y)})).apply(this,arguments)}function Rf(C,y){return oi.apply(this,arguments)}function oi(){return(oi=(0,s.Z)(function*(C,y){return Jt(C,"POST","/v1/accounts:signInWithCustomToken",dt(C,y))})).apply(this,arguments)}function ns(){return(ns=(0,s.Z)(function*(C,y){const b=gn(C),T=yield Rf(b,{token:y,returnSecureToken:!0}),$=yield Kr._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser($.user),$})).apply(this,arguments)}class Us{constructor(y,b){this.factorId=y,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(y,b){return"phoneInfo"in b?Mi._fromServerResponse(y,b):"totpInfo"in b?qh._fromServerResponse(y,b):ae(y,"internal-error")}}class Mi extends Us{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,b){return new Mi(b)}}class qh extends Us{constructor(y){super("totp",y)}static _fromServerResponse(y,b){return new qh(b)}}function Do(C,y,b){var T;ye((null===(T=b.url)||void 0===T?void 0:T.length)>0,C,"invalid-continue-uri"),ye(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=b.url,y.dynamicLinkDomain=b.dynamicLinkDomain,y.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(ye(b.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=b.iOS.bundleId),b.android&&(ye(b.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=b.android.installApp,y.androidMinimumVersionCode=b.android.minimumVersion,y.androidPackageName=b.android.packageName)}function aa(){return aa=(0,s.Z)(function*(C,y,b){var T;const $=gn(C),ie={requestType:"PASSWORD_RESET",email:y,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=$._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const ve=yield Cs($,ie,"getOobCode",!0);b&&Do($,ve,b),yield Fl($,ve)}else b&&Do($,ie,b),yield Fl($,ie).catch(function(){var ve=(0,s.Z)(function*(Ae){if("auth/missing-recaptcha-token"!==Ae.code)return Promise.reject(Ae);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ze=yield Cs($,ie,"getOobCode",!0);b&&Do($,Ze,b),yield Fl($,Ze)}});return function(Ae){return ve.apply(this,arguments)}}())}),aa.apply(this,arguments)}function Wa(){return(Wa=(0,s.Z)(function*(C,y,b){yield Ji((0,_.m9)(C),{oobCode:y,newPassword:b})})).apply(this,arguments)}function ai(){return(ai=(0,s.Z)(function*(C,y){yield Oh((0,_.m9)(C),{oobCode:y})})).apply(this,arguments)}function uu(C,y){return Za.apply(this,arguments)}function Za(){return(Za=(0,s.Z)(function*(C,y){const b=(0,_.m9)(C),T=yield Ji(b,{oobCode:y}),$=T.requestType;switch(ye($,b,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(T.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(T.mfaInfo,b,"internal-error");default:ye(T.email,b,"internal-error")}let ie=null;return T.mfaInfo&&(ie=Us._fromServerResponse(gn(b),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:ie},operation:$}})).apply(this,arguments)}function To(){return(To=(0,s.Z)(function*(C,y){const{data:b}=yield uu((0,_.m9)(C),y);return b.email})).apply(this,arguments)}function Ya(){return Ya=(0,s.Z)(function*(C,y,b){var T;const $=gn(C),ie={returnSecureToken:!0,email:y,password:b,clientType:"CLIENT_TYPE_WEB"};let ve;if(null!==(T=$._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const st=yield Cs($,ie,"signUpPassword");ve=Ti($,st)}else ve=Ti($,ie).catch(function(){var st=(0,s.Z)(function*(gt){if("auth/missing-recaptcha-token"===gt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const wt=yield Cs($,ie,"signUpPassword");return Ti($,wt)}return Promise.reject(gt)});return function(gt){return st.apply(this,arguments)}}());const Ae=yield ve.catch(st=>Promise.reject(st)),Ze=yield Kr._fromIdTokenResponse($,"signIn",Ae);return yield $._updateCurrentUser(Ze.user),Ze}),Ya.apply(this,arguments)}function Wl(){return Wl=(0,s.Z)(function*(C,y,b){var T;const $=gn(C),ie={requestType:"EMAIL_SIGNIN",email:y,clientType:"CLIENT_TYPE_WEB"};function ve(Ae,Ze){ye(Ze.handleCodeInApp,$,"argument-error"),Ze&&Do($,Ae,Ze)}if(null!==(T=$._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Ae=yield Cs($,ie,"getOobCode",!0);ve(Ae,b),yield Lh($,Ae)}else ve(ie,b),yield Lh($,ie).catch(function(){var Ae=(0,s.Z)(function*(Ze){if("auth/missing-recaptcha-token"!==Ze.code)return Promise.reject(Ze);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const st=yield Cs($,ie,"getOobCode",!0);ve(st,b),yield Lh($,st)}});return function(Ze){return Ae.apply(this,arguments)}}())}),Wl.apply(this,arguments)}function zs(){return(zs=(0,s.Z)(function*(C,y,b){const T=(0,_.m9)(C),$=ir.credentialWithLink(y,b||fe());return ye($._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),xi(T,$)})).apply(this,arguments)}function Hn(C,y){return du.apply(this,arguments)}function du(){return(du=(0,s.Z)(function*(C,y){return Qe(C,"POST","/v1/accounts:createAuthUri",dt(C,y))})).apply(this,arguments)}function fu(){return(fu=(0,s.Z)(function*(C,y){const T={identifier:y,continueUri:le()?fe():"http://localhost"},{signinMethods:$}=yield Hn((0,_.m9)(C),T);return $||[]})).apply(this,arguments)}function Zl(){return(Zl=(0,s.Z)(function*(C,y){const b=(0,_.m9)(C),$={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&Do(b.auth,$,y);const{email:ie}=yield If(b.auth,$);ie!==C.email&&(yield C.reload())})).apply(this,arguments)}function xo(){return(xo=(0,s.Z)(function*(C,y,b){const T=(0,_.m9)(C),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};b&&Do(T.auth,ie,b);const{email:ve}=yield Km(T.auth,ie);ve!==C.email&&(yield C.reload())})).apply(this,arguments)}function Qa(C,y){return ca.apply(this,arguments)}function ca(){return(ca=(0,s.Z)(function*(C,y){return Qe(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Xa(){return(Xa=(0,s.Z)(function*(C,{displayName:y,photoURL:b}){if(void 0===y&&void 0===b)return;const T=(0,_.m9)(C),ie={idToken:yield T.getIdToken(),displayName:y,photoUrl:b,returnSecureToken:!0},ve=yield pt(T,Qa(T.auth,ie));T.displayName=ve.displayName||null,T.photoURL=ve.photoUrl||null;const Ae=T.providerData.find(({providerId:Ze})=>"password"===Ze);Ae&&(Ae.displayName=T.displayName,Ae.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ve)})).apply(this,arguments)}function Ja(C,y,b){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,s.Z)(function*(C,y,b){const{auth:T}=C,ie={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(ie.email=y),b&&(ie.password=b);const ve=yield pt(C,Rh(T,ie));yield C._updateTokensIfNecessary(ve,!0)})).apply(this,arguments)}class rs{constructor(y,b,T={}){this.isNewUser=y,this.providerId=b,this.profile=T}}class mu extends rs{constructor(y,b,T,$){super(y,b,T),this.username=$}}class Qh extends rs{constructor(y,b){super(y,"facebook.com",b)}}class Nf extends mu{constructor(y,b){super(y,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class gu extends rs{constructor(y,b){super(y,"google.com",b)}}class Yl extends mu{constructor(y,b,T){super(y,"twitter.com",b,T)}}function Ql(C){const{user:y,_tokenResponse:b}=C;return y.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function Ff(C){var y,b;if(!C)return null;const{providerId:T}=C,$=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},ie=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!T&&C?.idToken){const ve=null===(b=null===(y=hn(C.idToken))||void 0===y?void 0:y.firebase)||void 0===b?void 0:b.sign_in_provider;if(ve)return new rs(ie,"anonymous"!==ve&&"custom"!==ve?ve:null)}if(!T)return null;switch(T){case"facebook.com":return new Qh(ie,$);case"github.com":return new Nf(ie,$);case"google.com":return new gu(ie,$);case"twitter.com":return new Yl(ie,$,C.screenName||null);case"custom":case"anonymous":return new rs(ie,null);default:return new rs(ie,T,$)}}(b)}class Ao{constructor(y,b,T){this.type=y,this.credential=b,this.auth=T}static _fromIdtoken(y,b){return new Ao("enroll",y,b)}static _fromMfaPendingCredential(y){return new Ao("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var b,T;if(y?.multiFactorSession){if(null!==(b=y.multiFactorSession)&&void 0!==b&&b.pendingCredential)return Ao._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(T=y.multiFactorSession)&&void 0!==T&&T.idToken)return Ao._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Is{constructor(y,b,T){this.session=y,this.hints=b,this.signInResolver=T}static _fromError(y,b){const T=gn(y),$=b.customData._serverResponse,ie=($.mfaInfo||[]).map(Ae=>Us._fromServerResponse(T,Ae));ye($.mfaPendingCredential,T,"internal-error");const ve=Ao._fromMfaPendingCredential($.mfaPendingCredential);return new Is(ve,ie,function(){var Ae=(0,s.Z)(function*(Ze){const st=yield Ze._process(T,ve);delete $.mfaInfo,delete $.mfaPendingCredential;const gt=Object.assign(Object.assign({},$),{idToken:st.idToken,refreshToken:st.refreshToken});switch(b.operationType){case"signIn":const wt=yield Kr._fromIdTokenResponse(T,b.operationType,gt);return yield T._updateCurrentUser(wt.user),wt;case"reauthenticate":return ye(b.user,T,"internal-error"),Kr._forOperation(b.user,b.operationType,gt);default:ae(T,"internal-error")}});return function(Ze){return Ae.apply(this,arguments)}}())}resolveSignIn(y){var b=this;return(0,s.Z)(function*(){return b.signInResolver(y)})()}}function nl(C,y){return Qe(C,"POST","/v2/accounts/mfaEnrollment:start",dt(C,y))}class Mo{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(T=>Us._fromServerResponse(y.auth,T)))})}static _fromUser(y){return new Mo(y)}getSession(){var y=this;return(0,s.Z)(function*(){return Ao._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,b){var T=this;return(0,s.Z)(function*(){const $=y,ie=yield T.getSession(),ve=yield pt(T.user,$._process(T.user.auth,ie,b));return yield T.user._updateTokensIfNecessary(ve),T.user.reload()})()}unenroll(y){var b=this;return(0,s.Z)(function*(){const T="string"==typeof y?y:y.uid,$=yield b.user.getIdToken();try{const ie=yield pt(b.user,function vu(C,y){return Qe(C,"POST","/v2/accounts/mfaEnrollment:withdraw",dt(C,y))}(b.user.auth,{idToken:$,mfaEnrollmentId:T}));b.enrolledFactors=b.enrolledFactors.filter(({uid:ve})=>ve!==T),yield b.user._updateTokensIfNecessary(ie),yield b.user.reload()}catch(ie){throw ie}})()}}const Po=new WeakMap,ko="__sak";class ec{constructor(y,b){this.storageRetriever=y,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(ko,"1"),this.storage.removeItem(ko),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,b){return this.storage.setItem(y,JSON.stringify(b)),Promise.resolve()}_get(y){const b=this.storage.getItem(y);return Promise.resolve(b?JSON.parse(b):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ds=(()=>{class C extends ec{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,T)=>this.onStorageEvent(b,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bf(){const C=(0,_.z$)();return Pe(C)||Ct(C)}()&&function Xi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pn(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const T of Object.keys(this.listeners)){const $=this.storage.getItem(T),ie=this.localCache[T];$!==ie&&b(T,ie,$)}}onStorageEvent(b,T=!1){if(!b.key)return void this.forAllChangedKeys((Ae,Ze,st)=>{this.notifyListeners(Ae,st)});const $=b.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem($);if(b.newValue!==Ae)null!==b.newValue?this.storage.setItem($,b.newValue):this.storage.removeItem($);else if(this.localCache[$]===b.newValue&&!T)return}const ie=()=>{const Ae=this.storage.getItem($);!T&&this.localCache[$]===Ae||this.notifyListeners($,Ae)},ve=this.storage.getItem($);!function Wr(){return(0,_.w1)()&&10===document.documentMode}()||ve===b.newValue||b.newValue===b.oldValue?ie():setTimeout(ie,10)}notifyListeners(b,T){this.localCache[b]=T;const $=this.listeners[b];if($)for(const ie of Array.from($))ie(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,T,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:T,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(T)}_removeListener(b,T){this.listeners[b]&&(this.listeners[b].delete(T),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,T){var $=()=>super._set,ie=this;return(0,s.Z)(function*(){yield $().call(ie,b,T),ie.localCache[b]=JSON.stringify(T)})()}_get(b){var T=()=>super._get,$=this;return(0,s.Z)(function*(){const ie=yield T().call($,b);return $.localCache[b]=JSON.stringify(ie),ie})()}_remove(b){var T=()=>super._remove,$=this;return(0,s.Z)(function*(){yield T().call($,b),delete $.localCache[b]})()}}return C.type="LOCAL",C})(),Ro=(()=>{class C extends ec{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,T){}_removeListener(b,T){}}return C.type="SESSION",C})();let tc=(()=>{class C{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const T=this.receivers.find(ie=>ie.isListeningto(b));if(T)return T;const $=new C(b);return this.receivers.push($),$}isListeningto(b){return this.eventTarget===b}handleEvent(b){var T=this;return(0,s.Z)(function*(){const $=b,{eventId:ie,eventType:ve,data:Ae}=$.data,Ze=T.handlersMap[ve];if(!Ze?.size)return;$.ports[0].postMessage({status:"ack",eventId:ie,eventType:ve});const st=Array.from(Ze).map(function(){var wt=(0,s.Z)(function*(qn){return qn($.origin,Ae)});return function(qn){return wt.apply(this,arguments)}}()),gt=yield function Hf(C){return Promise.all(C.map(function(){var y=(0,s.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(T){return{fulfilled:!1,reason:T}}});return function(b){return y.apply(this,arguments)}}()))}(st);$.ports[0].postMessage({status:"done",eventId:ie,eventType:ve,response:gt})})()}_subscribe(b,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(T)}_unsubscribe(b,T){this.handlersMap[b]&&T&&this.handlersMap[b].delete(T),(!T||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Ts(C="",y=10){let b="";for(let T=0;T<y;T++)b+=Math.floor(10*Math.random());return C+b}class eg{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,b,T=50){var $=this;return(0,s.Z)(function*(){const ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let ve,Ae;return new Promise((Ze,st)=>{const gt=Ts("",20);ie.port1.start();const wt=setTimeout(()=>{st(new Error("unsupported_event"))},T);Ae={messageChannel:ie,onMessage(qn){const us=qn;if(us.data.eventId===gt)switch(us.data.status){case"ack":clearTimeout(wt),ve=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(ve),Ze(us.data.response);break;default:clearTimeout(wt),clearTimeout(ve),st(new Error("invalid_response"))}}},$.handlers.add(Ae),ie.port1.addEventListener("message",Ae.onMessage),$.target.postMessage({eventType:y,eventId:gt,data:b},[ie.port2])}).finally(()=>{Ae&&$.removeMessageHandler(Ae)})})()}}function Un(){return window}function sl(){return typeof Un().WorkerGlobalScope<"u"&&"function"==typeof Un().importScripts}function nc(){return(nc=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Oo="firebaseLocalStorageDb",pa="firebaseLocalStorage",qs="fbase_key";class rc{constructor(y){this.request=y}toPromise(){return new Promise((y,b)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function ol(C,y){return C.transaction([pa],y?"readwrite":"readonly").objectStore(pa)}function wu(){const C=indexedDB.open(Oo,1);return new Promise((y,b)=>{C.addEventListener("error",()=>{b(C.error)}),C.addEventListener("upgradeneeded",()=>{const T=C.result;try{T.createObjectStore(pa,{keyPath:qs})}catch($){b($)}}),C.addEventListener("success",(0,s.Z)(function*(){const T=C.result;T.objectStoreNames.contains(pa)?y(T):(T.close(),yield function In(){const C=indexedDB.deleteDatabase(Oo);return new rc(C).toPromise()}(),y(yield wu()))}))})}function ic(C,y,b){return zf.apply(this,arguments)}function zf(){return(zf=(0,s.Z)(function*(C,y,b){const T=ol(C,!0).put({[qs]:y,value:b});return new rc(T).toPromise()})).apply(this,arguments)}function jf(){return(jf=(0,s.Z)(function*(C,y){const b=ol(C,!1).get(y),T=yield new rc(b).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Gf(C,y){const b=ol(C,!0).delete(y);return new rc(b).toPromise()}const sc=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,s.Z)(function*(){return b.db||(b.db=yield wu()),b.db})()}_withRetries(b){var T=this;return(0,s.Z)(function*(){let $=0;for(;;)try{const ie=yield T._openDb();return yield b(ie)}catch(ie){if($++>3)throw ie;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,s.Z)(function*(){return sl()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,s.Z)(function*(){b.receiver=tc._getInstance(function Jn(){return sl()?self:null}()),b.receiver._subscribe("keyChanged",function(){var T=(0,s.Z)(function*($,ie){return{keyProcessed:(yield b._poll()).includes(ie.key)}});return function($,ie){return T.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var T=(0,s.Z)(function*($,ie){return["keyChanged"]});return function($,ie){return T.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,s.Z)(function*(){var T,$;if(b.activeServiceWorker=yield function Uf(){return nc.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new eg(b.activeServiceWorker);const ie=yield b.sender._send("ping",{},800);!ie||(null===(T=ie[0])||void 0===T?void 0:T.fulfilled)&&(null===($=ie[0])||void 0===$?void 0:$.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var T=this;return(0,s.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function $s(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:b},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const b=yield wu();return yield ic(b,ko,"1"),yield Gf(b,ko),!0}catch{}return!1})()}_withPendingWrite(b){var T=this;return(0,s.Z)(function*(){T.pendingWrites++;try{yield b()}finally{T.pendingWrites--}})()}_set(b,T){var $=this;return(0,s.Z)(function*(){return $._withPendingWrite((0,s.Z)(function*(){return yield $._withRetries(ie=>ic(ie,b,T)),$.localCache[b]=T,$.notifyServiceWorker(b)}))})()}_get(b){var T=this;return(0,s.Z)(function*(){const $=yield T._withRetries(ie=>function Jh(C,y){return jf.apply(this,arguments)}(ie,b));return T.localCache[b]=$,$})()}_remove(b){var T=this;return(0,s.Z)(function*(){return T._withPendingWrite((0,s.Z)(function*(){return yield T._withRetries($=>Gf($,b)),delete T.localCache[b],T.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,s.Z)(function*(){const T=yield b._withRetries(ve=>{const Ae=ol(ve,!1).getAll();return new rc(Ae).toPromise()});if(!T)return[];if(0!==b.pendingWrites)return[];const $=[],ie=new Set;for(const{fbase_key:ve,value:Ae}of T)ie.add(ve),JSON.stringify(b.localCache[ve])!==JSON.stringify(Ae)&&(b.notifyListeners(ve,Ae),$.push(ve));for(const ve of Object.keys(b.localCache))b.localCache[ve]&&!ie.has(ve)&&(b.notifyListeners(ve,null),$.push(ve));return $})()}notifyListeners(b,T){this.localCache[b]=T;const $=this.listeners[b];if($)for(const ie of Array.from($))ie(T)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(T)}_removeListener(b,T){this.listeners[b]&&(this.listeners[b].delete(T),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function yr(C,y){return Qe(C,"POST","/v2/accounts/mfaSignIn:start",dt(C,y))}const ur=1e12;class is{constructor(y){this.auth=y,this.counter=ur,this._widgets=new Map}render(y,b){const T=this.counter;return this._widgets.set(T,new Eu(y,this.auth.name,b||{})),this.counter++,T}reset(y){var b;const T=y||ur;null===(b=this._widgets.get(T))||void 0===b||b.delete(),this._widgets.delete(T)}getResponse(y){var b;return(null===(b=this._widgets.get(y||ur))||void 0===b?void 0:b.getResponse())||""}execute(y){var b=this;return(0,s.Z)(function*(){var T;return null===(T=b._widgets.get(y||ur))||void 0===T||T.execute(),""})()}}class Eu{constructor(y,b,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof y?document.getElementById(y):y;ye($,"argument-error",{appName:b}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cu(C){const y=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<C;T++)y.push(b.charAt(Math.floor(Math.random()*b.length)));return y.join("")}(50);const{callback:y,"expired-callback":b}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ma=Li("rcb"),td=new pe(3e4,6e4);class tg{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=Un().grecaptcha)||void 0===y||!y.render)}load(y,b=""){return ye(function Wf(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(b),y,"argument-error"),this.shouldResolveImmediately(b)&&Kt(Un().grecaptcha)?Promise.resolve(Un().grecaptcha):new Promise((T,$)=>{const ie=Un().setTimeout(()=>{$(de(y,"network-request-failed"))},td.get());Un()[ma]=()=>{Un().clearTimeout(ie),delete Un()[ma];const Ae=Un().grecaptcha;if(!Ae||!Kt(Ae))return void $(de(y,"internal-error"));const Ze=Ae.render;Ae.render=(st,gt)=>{const wt=Ze(st,gt);return this.counter++,wt},this.hostLanguage=b,T(Ae)},Zr(`https://www.google.com/recaptcha/api.js??${(0,_.xO)({onload:ma,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(ie),$(de(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var b;return!(null===(b=Un().grecaptcha)||void 0===b||!b.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class y_{load(y){return(0,s.Z)(function*(){return new is(y)})()}clearedOneInstance(){}}const ac="recaptcha",Pi={theme:"light",type:"image"};class lc{constructor(y,b=Object.assign({},Pi),T){this.parameters=b,this.type=ac,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gn(T),this.isInvisible="invisible"===this.parameters.size,ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof y?document.getElementById(y):y;ye($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new y_:new tg,this.validateStartingState()}verify(){var y=this;return(0,s.Z)(function*(){y.assertNotDestroyed();const b=yield y.render(),T=y.getAssertedRecaptcha();return T.getResponse(b)||new Promise(ie=>{const ve=Ae=>{!Ae||(y.tokenChangeListeners.delete(ve),ie(Ae))};y.tokenChangeListeners.add(ve),y.isInvisible&&T.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return b=>{if(this.tokenChangeListeners.forEach(T=>T(b)),"function"==typeof y)y(b);else if("string"==typeof y){const T=Un()[y];"function"==typeof T&&T(b)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,s.Z)(function*(){if(yield y.init(),!y.widgetId){let b=y.container;if(!y.isInvisible){const T=document.createElement("div");b.appendChild(T),b=T}y.widgetId=y.getAssertedRecaptcha().render(b,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,s.Z)(function*(){ye(le()&&!sl(),y.auth,"internal-error"),yield function ll(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const b=yield function Oe(C){return Ye.apply(this,arguments)}(y.auth);ye(b,y.auth,"internal-error"),y.parameters.sitekey=b})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Su{constructor(y,b){this.verificationId=y,this.onConfirmation=b}confirm(y){const b=si._fromVerification(this.verificationId,y);return this.onConfirmation(b)}}function cc(){return(cc=(0,s.Z)(function*(C,y,b){const T=gn(C),$=yield uc(T,y,(0,_.m9)(b));return new Su($,ie=>xi(T,ie))})).apply(this,arguments)}function Fo(){return(Fo=(0,s.Z)(function*(C,y,b){const T=(0,_.m9)(C);yield nn(!1,T,"phone");const $=yield uc(T.auth,y,(0,_.m9)(b));return new Su($,ie=>au(T,ie))})).apply(this,arguments)}function cl(){return(cl=(0,s.Z)(function*(C,y,b){const T=(0,_.m9)(C),$=yield uc(T.auth,y,(0,_.m9)(b));return new Su($,ie=>Xn(T,ie))})).apply(this,arguments)}function uc(C,y,b){return En.apply(this,arguments)}function En(){return(En=(0,s.Z)(function*(C,y,b){var T;const $=yield b.verify();try{let ie;if(ye("string"==typeof $,C,"argument-error"),ye(b.type===ac,C,"argument-error"),ie="string"==typeof y?{phoneNumber:y}:y,"session"in ie){const ve=ie.session;if("phoneNumber"in ie)return ye("enroll"===ve.type,C,"internal-error"),(yield nl(C,{idToken:ve.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{ye("signin"===ve.type,C,"internal-error");const Ae=(null===(T=ie.multiFactorHint)||void 0===T?void 0:T.uid)||ie.multiFactorUid;return ye(Ae,C,"missing-multi-factor-info"),(yield yr(C,{mfaPendingCredential:ve.credential,mfaEnrollmentId:Ae,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ve}=yield Hh(C,{phoneNumber:ie.phoneNumber,recaptchaToken:$});return ve}}finally{b._reset()}})).apply(this,arguments)}function vt(){return(vt=(0,s.Z)(function*(C,y){yield jl((0,_.m9)(C),y)})).apply(this,arguments)}let bt=(()=>{class C{constructor(b){this.providerId=C.PROVIDER_ID,this.auth=gn(b)}verifyPhoneNumber(b,T){return uc(this.auth,b,(0,_.m9)(T))}static credential(b,T){return si._fromVerification(b,T)}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:T,temporaryProof:$}=b;return T&&$?si._fromTokenResponse(T,$):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function hr(C,y){return y?rr(y):(ye(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class li extends Vs{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return es(y,this._buildIdpRequest())}_linkToIdToken(y,b){return es(y,this._buildIdpRequest(b))}_getReauthenticationResolver(y){return es(y,this._buildIdpRequest())}_buildIdpRequest(y){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(b.idToken=y),b}}function ga(C){return $l(C.auth,new li(C),C.bypassAuthState)}function Fr(C){const{auth:y,user:b}=C;return ye(b,y,"internal-error"),ou(b,new li(C),C.bypassAuthState)}function hc(C){return ul.apply(this,arguments)}function ul(){return(ul=(0,s.Z)(function*(C){const{auth:y,user:b}=C;return ye(b,y,"internal-error"),jl(b,new li(C),C.bypassAuthState)})).apply(this,arguments)}class No{constructor(y,b,T,$,ie=!1){this.auth=y,this.resolver=T,this.user=$,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var y=this;return new Promise(function(){var b=(0,s.Z)(function*(T,$){y.pendingPromise={resolve:T,reject:$};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(ie){y.reject(ie)}});return function(T,$){return b.apply(this,arguments)}}())}onAuthEvent(y){var b=this;return(0,s.Z)(function*(){const{urlResponse:T,sessionId:$,postBody:ie,tenantId:ve,error:Ae,type:Ze}=y;if(Ae)return void b.reject(Ae);const st={auth:b.auth,requestUri:T,sessionId:$,tenantId:ve||void 0,postBody:ie||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(Ze)(st))}catch(gt){b.reject(gt)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return ga;case"linkViaPopup":case"linkViaRedirect":return hc;case"reauthViaPopup":case"reauthViaRedirect":return Fr;default:ae(this.auth,"internal-error")}}resolve(y){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ci=new pe(2e3,1e4);function or(){return(or=(0,s.Z)(function*(C,y,b){const T=gn(C);xe(C,y,Hs);const $=hr(T,b);return new hl(T,"signInViaPopup",y,$).executeNotNull()})).apply(this,arguments)}function St(){return(St=(0,s.Z)(function*(C,y,b){const T=(0,_.m9)(C);xe(T.auth,y,Hs);const $=hr(T.auth,b);return new hl(T.auth,"reauthViaPopup",y,$,T).executeNotNull()})).apply(this,arguments)}function Lo(){return(Lo=(0,s.Z)(function*(C,y,b){const T=(0,_.m9)(C);xe(T.auth,y,Hs);const $=hr(T.auth,b);return new hl(T.auth,"linkViaPopup",y,$,T).executeNotNull()})).apply(this,arguments)}let hl=(()=>{class C extends No{constructor(b,T,$,ie,ve){super(b,T,ie,ve),this.provider=$,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var b=this;return(0,s.Z)(function*(){const T=yield b.execute();return ye(T,b.auth,"internal-error"),T})()}onExecution(){var b=this;return(0,s.Z)(function*(){Te(1===b.filter.length,"Popup operations only handle one event");const T=Ts();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],T),b.authWindow.associatedEvent=T,b.resolver._originValidation(b.auth).catch($=>{b.reject($)}),b.resolver._isIframeWebStorageSupported(b.auth,$=>{$||b.reject(de(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(de(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const b=()=>{var T,$;this.pollId=null!==($=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==$&&$.closed?window.setTimeout(()=>{this.pollId=null,this.reject(de(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(b,ci.get())};b()}}return C.currentPopupAction=null,C})();const $n=new Map;class id extends No{constructor(y,b,T=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,T),this.eventId=null}execute(){var y=()=>super.execute,b=this;return(0,s.Z)(function*(){let T=$n.get(b.auth._key());if(!T){try{const ie=(yield function Ws(C,y){return Du.apply(this,arguments)}(b.resolver,b.auth))?yield y().call(b):null;T=()=>Promise.resolve(ie)}catch($){T=()=>Promise.reject($)}$n.set(b.auth._key(),T)}return b.bypassAuthState||$n.set(b.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(y){var b=()=>super.onAuthEvent,T=this;return(0,s.Z)(function*(){if("signInViaRedirect"===y.type)return b().call(T,y);if("unknown"!==y.type){if(y.eventId){const $=yield T.auth._redirectUserForId(y.eventId);if($)return T.user=$,b().call(T,y);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Du(){return(Du=(0,s.Z)(function*(C,y){const b=va(y),T=As(C);if(!(yield T._isAvailable()))return!1;const $="true"===(yield T._get(b));return yield T._remove(b),$})).apply(this,arguments)}function Vo(C,y){return _a.apply(this,arguments)}function _a(){return(_a=(0,s.Z)(function*(C,y){return As(C)._set(va(y),"true")})).apply(this,arguments)}function xs(C,y){$n.set(C._key(),y)}function As(C){return rr(C._redirectPersistence)}function va(C){return _e("pendingRedirect",C.config.apiKey,C.name)}function ki(){return(ki=(0,s.Z)(function*(C,y,b){const T=gn(C);xe(C,y,Hs),yield T._initializationPromise;const $=hr(T,b);return yield Vo($,T),$._openRedirect(T,y,"signInViaRedirect")})).apply(this,arguments)}function _r(){return(_r=(0,s.Z)(function*(C,y,b){const T=(0,_.m9)(C);xe(T.auth,y,Hs),yield T.auth._initializationPromise;const $=hr(T.auth,b);yield Vo($,T.auth);const ie=yield lo(T);return $._openRedirect(T.auth,y,"reauthViaRedirect",ie)})).apply(this,arguments)}function dr(){return(dr=(0,s.Z)(function*(C,y,b){const T=(0,_.m9)(C);xe(T.auth,y,Hs),yield T.auth._initializationPromise;const $=hr(T.auth,b);yield nn(!1,T,y.providerId),yield Vo($,T.auth);const ie=yield lo(T);return $._openRedirect(T.auth,y,"linkViaRedirect",ie)})).apply(this,arguments)}function bi(){return(bi=(0,s.Z)(function*(C,y){return yield gn(C)._initializationPromise,ar(C,y,!1)})).apply(this,arguments)}function ar(C,y){return lr.apply(this,arguments)}function lr(){return(lr=(0,s.Z)(function*(C,y,b=!1){const T=gn(C),$=hr(T,y),ve=yield new id(T,$,b).execute();return ve&&!b&&(delete ve.user._redirectEventId,yield T._persistUserIfCurrent(ve.user),yield T._setRedirectUser(null,y)),ve})).apply(this,arguments)}function lo(C){return ba.apply(this,arguments)}function ba(){return(ba=(0,s.Z)(function*(C){const y=Ts(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class os{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let b=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(y,T)&&(b=!0,this.sendToConsumer(y,T),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function as(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return er(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=y,b=!0)),b}sendToConsumer(y,b){var T;if(y.error&&!er(y)){const $=(null===(T=y.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";b.onError(de(this.auth,$))}else b.onAuthEvent(y)}isEventForConsumer(y,b){const T=null===b.eventId||!!y.eventId&&y.eventId===b.eventId;return b.filter.includes(y.type)&&T}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ji(y))}saveEventToCache(y){this.cachedEventUids.add(ji(y)),this.lastProcessedEventTime=Date.now()}}function ji(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function er({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===y?.code}function Qf(C){return co.apply(this,arguments)}function co(){return(co=(0,s.Z)(function*(C,y={}){return Qe(C,"GET","/v1/projects",y)})).apply(this,arguments)}const Xf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jf=/^https?/;function Bo(){return(Bo=(0,s.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield Qf(C);for(const b of y)try{if(gc(b))return}catch{}ae(C,"unauthorized-domain")})).apply(this,arguments)}function gc(C){const y=fe(),{protocol:b,hostname:T}=new URL(y);if(C.startsWith("chrome-extension://")){const ve=new URL(C);return""===ve.hostname&&""===T?"chrome-extension:"===b&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===b&&ve.hostname===T}if(!Jf.test(b))return!1;if(Xf.test(C))return T===C;const $=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(T)}const sn=new pe(3e4,6e4);function dl(){const C=Un().___jsl;if(C?.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let b=0;b<C.CP.length;b++)C.CP[b]=null}let Zs=null;function uo(C){return Zs=Zs||function wa(C){return new Promise((y,b)=>{var T,$,ie;function ve(){dl(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{dl(),b(de(C,"network-request-failed"))},timeout:sn.get()})}if(null!==($=null===(T=Un().gapi)||void 0===T?void 0:T.iframes)&&void 0!==$&&$.Iframe)y(gapi.iframes.getContext());else{if(null===(ie=Un().gapi)||void 0===ie||!ie.load){const Ae=Li("iframefcb");return Un()[Ae]=()=>{gapi.load?ve():b(de(C,"network-request-failed"))},Zr(`https://apis.google.com/js/api.js?onload=${Ae}`).catch(Ze=>b(Ze))}ve()}}).catch(y=>{throw Zs=null,y})}(C),Zs}const od=new pe(5e3,15e3),xu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ls=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function __(C){const y=C.config;ye(y.authDomain,C,"auth-domain-config-required");const b=y.emulator?Ne(y,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,T={apiKey:y.apiKey,appName:C.name,v:I.SDK_VERSION},$=ls.get(C.config.apiHost);$&&(T.eid=$);const ie=C._getFrameworks();return ie.length&&(T.fw=ie.join(",")),`${b}?${(0,_.xO)(T).slice(1)}`}function N(){return N=(0,s.Z)(function*(C){const y=yield uo(C),b=Un().gapi;return ye(b,C,"internal-error"),y.open({where:document.body,url:__(C),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xu,dontclear:!0},T=>new Promise(function(){var $=(0,s.Z)(function*(ie,ve){yield T.restyle({setHideOnLeave:!1});const Ae=de(C,"network-request-failed"),Ze=Un().setTimeout(()=>{ve(Ae)},od.get());function st(){Un().clearTimeout(Ze),ie(T)}T.ping(st).then(st,()=>{ve(Ae)})});return function(ie,ve){return $.apply(this,arguments)}}()))}),N.apply(this,arguments)}const J={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class at{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xr=encodeURIComponent("fac");function kn(C,y,b,T,$,ie){return xt.apply(this,arguments)}function xt(){return(xt=(0,s.Z)(function*(C,y,b,T,$,ie){ye(C.config.authDomain,C,"auth-domain-config-required"),ye(C.config.apiKey,C,"invalid-api-key");const ve={apiKey:C.config.apiKey,appName:C.name,authType:b,redirectUrl:T,v:I.SDK_VERSION,eventId:$};if(y instanceof Hs){y.setDefaultLanguage(C.languageCode),ve.providerId=y.providerId||"",(0,_.xb)(y.getCustomParameters())||(ve.customParameters=JSON.stringify(y.getCustomParameters()));for(const[gt,wt]of Object.entries(ie||{}))ve[gt]=wt}if(y instanceof Ul){const gt=y.getScopes().filter(wt=>""!==wt);gt.length>0&&(ve.scopes=gt.join(","))}C.tenantId&&(ve.tid=C.tenantId);const Ae=ve;for(const gt of Object.keys(Ae))void 0===Ae[gt]&&delete Ae[gt];const Ze=yield C._getAppCheckToken(),st=Ze?`#${Xr}=${encodeURIComponent(Ze)}`:"";return`${cs(C)}?${(0,_.xO)(Ae).slice(1)}${st}`})).apply(this,arguments)}function cs({config:C}){return C.emulator?Ne(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}const ho="webStorageSupport";class Au extends class _c{constructor(y){this.factorId=y}_process(y,b,T){switch(b.type){case"enroll":return this._finalizeEnroll(y,b.credential,T);case"signin":return this._finalizeSignIn(y,b.credential);default:return $e("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Au(y)}_finalizeEnroll(y,b,T){return function Hi(C,y){return Qe(C,"POST","/v2/accounts/mfaEnrollment:finalize",dt(C,y))}(y,{idToken:b,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,b){return function oc(C,y){return Qe(C,"POST","/v2/accounts/mfaSignIn:finalize",dt(C,y))}(y,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let rg=(()=>{class C{constructor(){}static assertion(b){return Au._fromCredential(b)}}return C.FACTOR_ID="phone",C})();var ad="@firebase/auth";class ld{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var b=this;return(0,s.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const b=this.auth.onIdTokenChanged(T=>{y(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,b),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const b=this.internalListeners.get(y);!b||(this.internalListeners.delete(y),b(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ca(){return window}function Pu(){return(Pu=(0,s.Z)(function*(C,y,b){var T;const{BuildInfo:$}=Ca();Te(y.sessionId,"AuthEvent did not contain a session ID");const ie=yield b_(y.sessionId),ve={};return Ct()?ve.ibi=$.packageName:Zt()?ve.apn=$.packageName:ae(C,"operation-not-supported-in-this-environment"),$.displayName&&(ve.appDisplayName=$.displayName),ve.sessionId=ie,kn(C,b,y.type,void 0,null!==(T=y.eventId)&&void 0!==T?T:void 0,ve)})).apply(this,arguments)}function Ec(){return(Ec=(0,s.Z)(function*(C){const{BuildInfo:y}=Ca(),b={};Ct()?b.iosBundleId=y.packageName:Zt()?b.androidPackageName=y.packageName:ae(C,"operation-not-supported-in-this-environment"),yield Qf(C,b)})).apply(this,arguments)}function ku(){return(ku=(0,s.Z)(function*(C,y,b){const{cordova:T}=Ca();let $=()=>{};try{yield new Promise((ie,ve)=>{let Ae=null;function Ze(){var wt;ie();const qn=null===(wt=T.plugins.browsertab)||void 0===wt?void 0:wt.close;"function"==typeof qn&&qn(),"function"==typeof b?.close&&b.close()}function st(){Ae||(Ae=window.setTimeout(()=>{ve(de(C,"redirect-cancelled-by-user"))},2e3))}function gt(){"visible"===document?.visibilityState&&st()}y.addPassiveListener(Ze),document.addEventListener("resume",st,!1),Zt()&&document.addEventListener("visibilitychange",gt,!1),$=()=>{y.removePassiveListener(Ze),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",gt,!1),Ae&&window.clearTimeout(Ae)}})}finally{$()}})).apply(this,arguments)}function b_(C){return ip.apply(this,arguments)}function ip(){return(ip=(0,s.Z)(function*(C){const y=w_(C),b=yield crypto.subtle.digest("SHA-256",y);return Array.from(new Uint8Array(b)).map($=>$.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function w_(C){if(Te(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const y=new ArrayBuffer(C.length),b=new Uint8Array(y);for(let T=0;T<C.length;T++)b[T]=C.charCodeAt(T);return b}(0,_.Pz)("authIdTokenMaxAge"),function ig(C){(0,I._registerComponent)(new O.wA("auth",(y,{options:b})=>{const T=y.getProvider("app").getImmediate(),$=y.getProvider("heartbeat"),ie=y.getProvider("app-check-internal"),{apiKey:ve,authDomain:Ae}=T.options;ye(ve&&!ve.includes(":"),"invalid-api-key",{appName:T.name}),ye(!Ae?.includes(":"),"argument-error",{appName:T.name});const Ze={apiKey:ve,authDomain:Ae,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fe(C)},st=new Yc(T,$,ie,Ze);return function Bn(C,y){const b=y?.persistence||[],T=(Array.isArray(b)?b:[b]).map(rr);y?.errorMap&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(T,y?.popupRedirectResolver)}(st,b),st},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,b,T)=>{y.getProvider("auth-internal").initialize()})),(0,I._registerComponent)(new O.wA("auth-internal",y=>{const b=gn(y.getProvider("auth").getImmediate());return new ld(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,I.registerVersion)(ad,"0.23.1",function np(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,I.registerVersion)(ad,"0.23.1","esm2017")}("Browser");class ml extends os{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(y=>{this.resolveInialized=y})}addPassiveListener(y){this.passiveListeners.add(y)}removePassiveListener(y){this.passiveListeners.delete(y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(y){return this.resolveInialized(),this.passiveListeners.forEach(b=>b(y)),super.onEvent(y)}initialized(){var y=this;return(0,s.Z)(function*(){yield y.initPromise})()}}function sp(C){return hd.apply(this,arguments)}function hd(){return(hd=(0,s.Z)(function*(C){const y=yield Ho()._get(Ru(C));return y&&(yield Ho()._remove(Ru(C))),y})).apply(this,arguments)}function ag(){const C=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<20;b++){const T=Math.floor(Math.random()*y.length);C.push(y.charAt(T))}return C.join("")}function Ho(){return rr(Ds)}function Ru(C){return _e("authEvent",C.config.apiKey,C.name)}function _l(C){if(!C?.includes("?"))return{};const[y,...b]=C.split("?");return(0,_.zd)(b.join("?"))}function fd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:de("no-auth-event")}}function Qs(){var C;return(null===(C=self?.location)||void 0===C?void 0:C.protocol)||null}function md(C=(0,_.z$)()){return!("file:"!==Qs()&&"ionic:"!==Qs()&&"capacitor:"!==Qs()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function dp(){try{const C=self.localStorage,y=Ts();if(C)return C.setItem(y,"1"),C.removeItem(y),!function E_(C=(0,_.z$)()){return function hp(){return(0,_.w1)()&&11===document?.documentMode}()||function Ou(C=(0,_.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,_.hl)()}catch{return fp()&&(0,_.hl)()}return!1}function fp(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function pp(){return(function cp(){return"http:"===Qs()||"https:"===Qs()}()||(0,_.ru)()||md())&&!function up(){return(0,_.b$)()||(0,_.UG)()}()&&dp()&&!fp()}function mp(){return md()&&typeof document<"u"}function Sc(){return(Sc=(0,s.Z)(function*(){return!!mp()&&new Promise(C=>{const y=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(y),C(!0)})})})).apply(this,arguments)}const Vr={LOCAL:"local",NONE:"none",SESSION:"session"},Ic=ye,yd="persistence";function Xs(C){return po.apply(this,arguments)}function po(){return(po=(0,s.Z)(function*(C){yield C._initializationPromise;const y=_d(),b=_e(yd,C.config.apiKey,C.name);y&&y.setItem(b,C._getPersistence())})).apply(this,arguments)}function _d(){var C;try{return(null===(C=function gd(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch{return null}}const vd=ye;class ui{constructor(){this.browserResolver=rr(class Lr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ro,this._completeRedirectFn=ar,this._overrideRedirectResult=xs}_openPopup(y,b,T,$){var ie=this;return(0,s.Z)(function*(){var ve;Te(null===(ve=ie.eventManagers[y._key()])||void 0===ve?void 0:ve.manager,"_initialize() not called before _openPopup()");const Ae=yield kn(y,b,T,fe(),$);return function it(C,y,b,T=500,$=600){const ie=Math.max((window.screen.availHeight-$)/2,0).toString(),ve=Math.max((window.screen.availWidth-T)/2,0).toString();let Ae="";const Ze=Object.assign(Object.assign({},J),{width:T.toString(),height:$.toString(),top:ie,left:ve}),st=(0,_.z$)().toLowerCase();b&&(Ae=ot(st)?"_blank":b),Be(st)&&(y=y||"http://localhost",Ze.scrollbars="yes");const gt=Object.entries(Ze).reduce((qn,[us,Bu])=>`${qn}${us}=${Bu},`,"");if(function Mn(C=(0,_.z$)()){var y;return Ct(C)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(st)&&"_self"!==Ae)return function It(C,y){const b=document.createElement("a");b.href=C,b.target=y;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(T)}(y||"",Ae),new at(null);const wt=window.open(y||"",Ae,gt);ye(wt,C,"popup-blocked");try{wt.focus()}catch{}return new at(wt)}(y,Ae,Ts())})()}_openRedirect(y,b,T,$){var ie=this;return(0,s.Z)(function*(){return yield ie._originValidation(y),function bu(C){Un().location.href=C}(yield kn(y,b,T,fe(),$)),new Promise(()=>{})})()}_initialize(y){const b=y._key();if(this.eventManagers[b]){const{manager:$,promise:ie}=this.eventManagers[b];return $?Promise.resolve($):(Te(ie,"If manager is not set, promise should be"),ie)}const T=this.initAndGetManager(y);return this.eventManagers[b]={promise:T},T.catch(()=>{delete this.eventManagers[b]}),T}initAndGetManager(y){var b=this;return(0,s.Z)(function*(){const T=yield function x(C){return N.apply(this,arguments)}(y),$=new os(y);return T.register("authEvent",ie=>(ye(ie?.authEvent,y,"invalid-auth-event"),{status:$.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[y._key()]={manager:$},b.iframes[y._key()]=T,$})()}_isIframeWebStorageSupported(y,b){this.iframes[y._key()].send(ho,{type:ho},$=>{var ie;const ve=null===(ie=$?.[0])||void 0===ie?void 0:ie[ho];void 0!==ve&&b(!!ve),ae(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const b=y._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Tu(C){return Bo.apply(this,arguments)}(y)),this.originValidationPromises[b]}get _shouldInitProactively(){return Pn()||Pe()||Ct()}}),this.cordovaResolver=rr(class ap{constructor(){this._redirectPersistence=Ro,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ar,this._overrideRedirectResult=xs}_initialize(y){var b=this;return(0,s.Z)(function*(){const T=y._key();let $=b.eventManagers.get(T);return $||($=new ml(y),b.eventManagers.set(T,$),b.attachCallbackListeners(y,$)),$})()}_openPopup(y){ae(y,"operation-not-supported-in-this-environment")}_openRedirect(y,b,T,$){var ie=this;return(0,s.Z)(function*(){!function sw(C){var y,b,T,$,ie,ve,Ae,Ze,st,gt;const wt=Ca();ye("function"==typeof(null===(y=wt?.universalLinks)||void 0===y?void 0:y.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ye(typeof(null===(b=wt?.BuildInfo)||void 0===b?void 0:b.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ye("function"==typeof(null===(ie=null===($=null===(T=wt?.cordova)||void 0===T?void 0:T.plugins)||void 0===$?void 0:$.browsertab)||void 0===ie?void 0:ie.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye("function"==typeof(null===(Ze=null===(Ae=null===(ve=wt?.cordova)||void 0===ve?void 0:ve.plugins)||void 0===Ae?void 0:Ae.browsertab)||void 0===Ze?void 0:Ze.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye("function"==typeof(null===(gt=null===(st=wt?.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===gt?void 0:gt.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(y);const ve=yield ie._initialize(y);yield ve.initialized(),ve.resetRedirect(),function Kf(){$n.clear()}(),yield ie._originValidation(y);const Ae=function gl(C,y,b=null){return{type:y,eventId:b,urlResponse:null,sessionId:ag(),postBody:null,tenantId:C.tenantId,error:de(C,"no-auth-event")}}(y,T,$);yield function ud(C,y){return Ho()._set(Ru(C),y)}(y,Ae);const Ze=yield function wc(C,y,b){return Pu.apply(this,arguments)}(y,Ae,b),st=yield function rp(C){const{cordova:y}=Ca();return new Promise(b=>{y.plugins.browsertab.isAvailable(T=>{let $=null;T?y.plugins.browsertab.openUrl(C):$=y.InAppBrowser.open(C,function Mt(C=(0,_.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),b($)})})}(Ze);return function pl(C,y,b){return ku.apply(this,arguments)}(y,ve,st)})()}_isIframeWebStorageSupported(y,b){throw new Error("Method not implemented.")}_originValidation(y){const b=y._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function cd(C){return Ec.apply(this,arguments)}(y)),this.originValidationPromises[b]}attachCallbackListeners(y,b){const{universalLinks:T,handleOpenURL:$,BuildInfo:ie}=Ca(),ve=setTimeout((0,s.Z)(function*(){yield sp(y),b.onEvent(fd())}),500),Ae=function(){var gt=(0,s.Z)(function*(wt){clearTimeout(ve);const qn=yield sp(y);let us=null;qn&&wt?.url&&(us=function yl(C,y){var b,T;const $=function op(C){const y=_l(C),b=y.link?decodeURIComponent(y.link):void 0,T=_l(b).link,$=y.deep_link_id?decodeURIComponent(y.deep_link_id):void 0;return _l($).link||$||T||b||C}(y);if($.includes("/__/auth/callback")){const ie=_l($),ve=ie.firebaseError?function lg(C){try{return JSON.parse(C)}catch{return null}}(decodeURIComponent(ie.firebaseError)):null,Ae=null===(T=null===(b=ve?.code)||void 0===b?void 0:b.split("auth/"))||void 0===T?void 0:T[1],Ze=Ae?de(Ae):null;return Ze?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Ze,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:$,postBody:null}}return null}(qn,wt.url)),b.onEvent(us||fd())});return function(qn){return gt.apply(this,arguments)}}();typeof T<"u"&&"function"==typeof T.subscribe&&T.subscribe(null,Ae);const Ze=$,st=`${ie.packageName.toLowerCase()}://`;Ca().handleOpenURL=function(){var gt=(0,s.Z)(function*(wt){if(wt.toLowerCase().startsWith(st)&&Ae({url:wt}),"function"==typeof Ze)try{Ze(wt)}catch(qn){console.error(qn)}});return function(wt){return gt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ro,this._completeRedirectFn=ar,this._overrideRedirectResult=xs}_initialize(y){var b=this;return(0,s.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(y)})()}_openPopup(y,b,T,$){var ie=this;return(0,s.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openPopup(y,b,T,$)})()}_openRedirect(y,b,T,$){var ie=this;return(0,s.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openRedirect(y,b,T,$)})()}_isIframeWebStorageSupported(y,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(y,b)}_originValidation(y){return this.assertedUnderlyingResolver._originValidation(y)}get _shouldInitProactively(){return mp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return vd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var y=this;return(0,s.Z)(function*(){if(y.underlyingResolver)return;const b=yield function gp(){return Sc.apply(this,arguments)}();y.underlyingResolver=b?y.cordovaResolver:y.browserResolver})()}}function bd(C){return C.unwrap()}function Fu(C){return wd(C)}function wd(C){const{_tokenResponse:y}=C instanceof _.ZR?C.customData:C;if(!y)return null;if(!(C instanceof _.ZR)&&"temporaryProof"in y&&"phoneNumber"in y)return bt.credentialFromResult(C);const b=y.providerId;if(!b||"password"===b)return null;let T;switch(b){case"google.com":T=iu;break;case"facebook.com":T=vi;break;case"github.com":T=zl;break;case"twitter.com":T=su;break;default:const{oauthIdToken:$,oauthAccessToken:ie,oauthTokenSecret:ve,pendingToken:Ae,nonce:Ze}=y;return ie||ve||$||Ae?Ae?b.startsWith("saml.")?sr._create(b,Ae):Vi._fromParams({providerId:b,signInMethod:b,pendingToken:Ae,idToken:$,accessToken:ie}):new Bi(b).credential({idToken:$,accessToken:ie,rawNonce:Ze}):null}return C instanceof _.ZR?T.credentialFromError(C):T.credentialFromResult(C)}function Ri(C,y){return y.catch(b=>{throw b instanceof _.ZR&&function Sa(C,y){var b;const T=null===(b=y.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===y?.code)y.resolver=new C_(C,function Jl(C,y){var b;const T=(0,_.m9)(C),$=y;return ye(y.customData.operationType,T,"argument-error"),ye(null===(b=$.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,T,"argument-error"),Is._fromError(T,$)}(C,y));else if(T){const $=wd(y),ie=y;$&&(ie.credential=$,ie.tenantId=T.tenantId||void 0,ie.email=T.email||void 0,ie.phoneNumber=T.phoneNumber||void 0)}}(C,b),b}).then(b=>{const $=b.user;return{operationType:b.operationType,credential:Fu(b),additionalUserInfo:Ql(b),user:vr.getOrCreate($)}})}function Nu(C,y){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,s.Z)(function*(C,y){const b=yield y;return{verificationId:b.verificationId,confirm:T=>Ri(C,b.confirm(T))}})).apply(this,arguments)}class C_{constructor(y,b){this.resolver=b,this.auth=function dg(C){return C.wrapped()}(y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(y){return Ri(bd(this.auth),this.resolver.resolveSignIn(y))}}class vr{constructor(y){this._delegate=y,this.multiFactor=function rl(C){const y=(0,_.m9)(C);return Po.has(y)||Po.set(y,Mo._fromUser(y)),Po.get(y)}(y)}static getOrCreate(y){return vr.USER_MAP.has(y)||vr.USER_MAP.set(y,new vr(y)),vr.USER_MAP.get(y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(y){return this._delegate.getIdTokenResult(y)}getIdToken(y){return this._delegate.getIdToken(y)}linkAndRetrieveDataWithCredential(y){return this.linkWithCredential(y)}linkWithCredential(y){var b=this;return(0,s.Z)(function*(){return Ri(b.auth,au(b._delegate,y))})()}linkWithPhoneNumber(y,b){var T=this;return(0,s.Z)(function*(){return Nu(T.auth,function ng(C,y,b){return Fo.apply(this,arguments)}(T._delegate,y,b))})()}linkWithPopup(y){var b=this;return(0,s.Z)(function*(){return Ri(b.auth,function rd(C,y,b){return Lo.apply(this,arguments)}(b._delegate,y,ui))})()}linkWithRedirect(y){var b=this;return(0,s.Z)(function*(){return yield Xs(gn(b.auth)),function pc(C,y,b){return function Yf(C,y,b){return dr.apply(this,arguments)}(C,y,b)}(b._delegate,y,ui)})()}reauthenticateAndRetrieveDataWithCredential(y){return this.reauthenticateWithCredential(y)}reauthenticateWithCredential(y){var b=this;return(0,s.Z)(function*(){return Ri(b.auth,Xn(b._delegate,y))})()}reauthenticateWithPhoneNumber(y,b){return Nu(this.auth,function Iu(C,y,b){return cl.apply(this,arguments)}(this._delegate,y,b))}reauthenticateWithPopup(y){return Ri(this.auth,function ya(C,y,b){return St.apply(this,arguments)}(this._delegate,y,ui))}reauthenticateWithRedirect(y){var b=this;return(0,s.Z)(function*(){return yield Xs(gn(b.auth)),function zi(C,y,b){return function Qr(C,y,b){return _r.apply(this,arguments)}(C,y,b)}(b._delegate,y,ui)})()}sendEmailVerification(y){return function Kh(C,y){return Zl.apply(this,arguments)}(this._delegate,y)}unlink(y){var b=this;return(0,s.Z)(function*(){return yield function $h(C,y){return ts.apply(this,arguments)}(b._delegate,y),b})()}updateEmail(y){return function Of(C,y){return Ja((0,_.m9)(C),y,null)}(this._delegate,y)}updatePassword(y){return function js(C,y){return Ja((0,_.m9)(C),null,y)}(this._delegate,y)}updatePhoneNumber(y){return function ss(C,y){return vt.apply(this,arguments)}(this._delegate,y)}updateProfile(y){return function Yh(C,y){return Xa.apply(this,arguments)}(this._delegate,y)}verifyBeforeUpdateEmail(y,b){return function pu(C,y,b){return xo.apply(this,arguments)}(this._delegate,y,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vr.USER_MAP=new WeakMap;const mo=ye;let fg=(()=>{class C{constructor(b,T){if(this.app=b,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$}=b.options;mo($,"invalid-api-key",{appName:b.name}),mo($,"invalid-api-key",{appName:b.name});const ie=typeof window<"u"?ui:void 0;this._delegate=T.initialize({options:{persistence:pg($,b.name),popupRedirectResolver:ie}}),this._delegate._updateErrorMap(z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,T){!function kh(C,y,b){const T=gn(C);ye(T._canInitEmulator,T,"emulator-config-failed"),ye(/^https?:\/\//.test(y),T,"invalid-emulator-scheme");const $=!!b?.disableWarnings,ie=Tr(y),{host:ve,port:Ae}=function yi(C){const y=Tr(C),b=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!b)return{host:"",port:null};const T=b[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(T);if($){const ie=$[1];return{host:ie,port:oo(T.substr(ie.length+1))}}{const[ie,ve]=T.split(":");return{host:ie,port:oo(ve)}}}(y);T.config.emulator={url:`${ie}//${ve}${null===Ae?"":`:${Ae}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ve,port:Ae,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function ra(){function C(){const y=document.createElement("p"),b=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,b,T)}applyActionCode(b){return function ql(C,y){return ai.apply(this,arguments)}(this._delegate,b)}checkActionCode(b){return uu(this._delegate,b)}confirmPasswordReset(b,T){return function cu(C,y,b){return Wa.apply(this,arguments)}(this._delegate,b,T)}createUserWithEmailAndPassword(b,T){var $=this;return(0,s.Z)(function*(){return Ri($._delegate,function hu(C,y,b){return Ya.apply(this,arguments)}($._delegate,b,T))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return function Zh(C,y){return fu.apply(this,arguments)}(this._delegate,b)}isSignInWithEmailLink(b){return function Xm(C,y){return"EMAIL_SIGNIN"===Hl.parseLink(y)?.operation}(0,b)}getRedirectResult(){var b=this;return(0,s.Z)(function*(){mo(pp(),b._delegate,"operation-not-supported-in-this-environment");const T=yield function Nr(C,y){return bi.apply(this,arguments)}(b._delegate,ui);return T?Ri(b._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function lp(C,y){gn(C)._logFramework(y)}(this._delegate,b)}onAuthStateChanged(b,T,$){const{next:ie,error:ve,complete:Ae}=Ed(b,T,$);return this._delegate.onAuthStateChanged(ie,ve,Ae)}onIdTokenChanged(b,T,$){const{next:ie,error:ve,complete:Ae}=Ed(b,T,$);return this._delegate.onIdTokenChanged(ie,ve,Ae)}sendSignInLinkToEmail(b,T){return function la(C,y,b){return Wl.apply(this,arguments)}(this._delegate,b,T)}sendPasswordResetEmail(b,T){return function Qm(C,y,b){return aa.apply(this,arguments)}(this._delegate,b,T||void 0)}setPersistence(b){var T=this;return(0,s.Z)(function*(){let $;switch(function ug(C,y){Ic(Object.values(Vr).includes(y),C,"invalid-persistence-type"),(0,_.b$)()?Ic(y!==Vr.SESSION,C,"unsupported-persistence-type"):(0,_.UG)()?Ic(y===Vr.NONE,C,"unsupported-persistence-type"):fp()?Ic(y===Vr.NONE||y===Vr.LOCAL&&(0,_.hl)(),C,"unsupported-persistence-type"):Ic(y===Vr.NONE||dp(),C,"unsupported-persistence-type")}(T._delegate,b),b){case Vr.SESSION:$=Ro;break;case Vr.LOCAL:$=(yield rr(sc)._isAvailable())?sc:Ds;break;case Vr.NONE:$=gi;break;default:return ae("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence($)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return Ri(this._delegate,function Uh(C){return zh.apply(this,arguments)}(this._delegate))}signInWithCredential(b){return Ri(this._delegate,xi(this._delegate,b))}signInWithCustomToken(b){return Ri(this._delegate,function Ai(C,y){return ns.apply(this,arguments)}(this._delegate,b))}signInWithEmailAndPassword(b,T){return Ri(this._delegate,function Wh(C,y,b){return xi((0,_.m9)(C),ir.credential(y,b))}(this._delegate,b,T))}signInWithEmailLink(b,T){return Ri(this._delegate,function yn(C,y,b){return zs.apply(this,arguments)}(this._delegate,b,T))}signInWithPhoneNumber(b,T){return Nu(this._delegate,function Zf(C,y,b){return cc.apply(this,arguments)}(this._delegate,b,T))}signInWithPopup(b){var T=this;return(0,s.Z)(function*(){return mo(pp(),T._delegate,"operation-not-supported-in-this-environment"),Ri(T._delegate,function dc(C,y,b){return or.apply(this,arguments)}(T._delegate,b,ui))})()}signInWithRedirect(b){var T=this;return(0,s.Z)(function*(){return mo(pp(),T._delegate,"operation-not-supported-in-this-environment"),yield Xs(T._delegate),function sd(C,y,b){return function Ms(C,y,b){return ki.apply(this,arguments)}(C,y,b)}(T._delegate,b,ui)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return function Ka(C,y){return To.apply(this,arguments)}(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=Vr,C})();function Ed(C,y,b){let T=C;"function"!=typeof C&&({next:T,error:y,complete:b}=C);const $=T;return{next:ve=>$(ve&&vr.getOrCreate(ve)),error:y,complete:b}}function pg(C,y){const b=function hg(C,y){const b=_d();if(!b)return[];const T=_e(yd,C,y);switch(b.getItem(T)){case Vr.NONE:return[gi];case Vr.LOCAL:return[sc,Ro];case Vr.SESSION:return[Ro];default:return[]}}(C,y);if(typeof self<"u"&&!b.includes(sc)&&b.push(sc),typeof window<"u")for(const T of[Ds,Ro])b.includes(T)||b.push(T);return b.includes(gi)||b.push(gi),b}class Cd{constructor(){this.providerId="phone",this._delegate=new bt(bd(v.Z.auth()))}static credential(y,b){return bt.credential(y,b)}verifyPhoneNumber(y,b){return this._delegate.verifyPhoneNumber(y,b)}unwrap(){return this._delegate}}Cd.PHONE_SIGN_IN_METHOD=bt.PHONE_SIGN_IN_METHOD,Cd.PROVIDER_ID=bt.PROVIDER_ID;const mg=ye;class gg{constructor(y,b,T=v.Z.app()){var $;mg(null===($=T.options)||void 0===$?void 0:$.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new lc(y,b,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Vu(C){C.INTERNAL.registerComponent(new O.wA("auth-compat",y=>{const b=y.getProvider("app-compat").getImmediate(),T=y.getProvider("auth");return new fg(b,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ir,FacebookAuthProvider:vi,GithubAuthProvider:zl,GoogleAuthProvider:iu,OAuthProvider:Bi,SAMLAuthProvider:So,PhoneAuthProvider:Cd,PhoneMultiFactorGenerator:rg,RecaptchaVerifier:gg,TwitterAuthProvider:su,Auth:fg,AuthCredential:Vs,Error:_.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.4.1")}(v.Z)},5861:(c,d,f)=>{"use strict";function s(_,I,M,P,O,j,Q){try{var R=_[j](Q),H=R.value}catch(U){return void M(U)}R.done?I(H):Promise.resolve(H).then(P,O)}function v(_){return function(){var I=this,M=arguments;return new Promise(function(P,O){var j=_.apply(I,M);function Q(H){s(j,P,O,Q,R,"next",H)}function R(H){s(j,P,O,Q,R,"throw",H)}Q(void 0)})}}f.d(d,{Z:()=>v})}},c=>{c(c.s=6579)}]);