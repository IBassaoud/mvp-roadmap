(self.webpackChunkmvp_rorr=self.webpackChunkmvp_rorr||[]).push([[179],{2011:(ie,re,N)=>{"use strict";N.d(re,{Dh:()=>be,GT:()=>oe,cc:()=>Me,hO:()=>$e,on:()=>$,pX:()=>G,xv:()=>ge});var u=N(4650),q=N(9260),O=N(4976);ie=N.hmd(ie);const te=["ngOnDestroy"],G=(Ie,Ct,xt,Le={})=>new Proxy(Ie,{get:(Se,Ce)=>xt.runOutsideAngular(()=>{var Ye;if(Ie[Ce])return!(null===(Ye=Le?.spy)||void 0===Ye)&&Ye.get&&Le.spy.get(Ce,Ie[Ce]),Ie[Ce];if(te.indexOf(Ce)>-1)return()=>{};const qe=Ct.toPromise().then(lt=>{const de=lt&&lt[Ce];return"function"==typeof de?de.bind(lt):de&&de.then?de.then(Nt=>xt.run(()=>Nt)):xt.run(()=>de)});return new Proxy(()=>{},{get:(lt,de)=>qe[de],apply:(lt,de,Nt)=>qe.then(_t=>{var Xt;const ft=_t&&_t(...Nt);return!(null===(Xt=Le?.spy)||void 0===Xt)&&Xt.apply&&Le.spy.apply(Ce,Nt,ft),ft})})})}),oe=(Ie,Ct)=>{Ct.forEach(xt=>{Object.getOwnPropertyNames(xt.prototype||xt).forEach(Le=>{Object.defineProperty(Ie.prototype,Le,Object.getOwnPropertyDescriptor(xt.prototype||xt,Le))})})};class ee{constructor(Ct){return Ct}}const be=new u.OlP("angularfire2.app.options"),ge=new u.OlP("angularfire2.app.name");function $(Ie,Ct,xt){const Se="object"==typeof xt&&xt||{};Se.name=Se.name||"string"==typeof xt&&xt||"[DEFAULT]";const Ye=q.Z.apps.filter(qe=>qe&&qe.name===Se.name)[0]||Ct.runOutsideAngular(()=>q.Z.initializeApp(Ie,Se));try{JSON.stringify(Ie)!==JSON.stringify(Ye.options)&&B("error",`${Ye.name} Firebase App already initialized with different options${ie.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ee(Ye)}const B=(Ie,...Ct)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ie](...Ct)},X={provide:ee,useFactory:$,deps:[be,u.R0b,[new u.FiY,ge]]};let $e=(()=>{class Ie{constructor(xt){q.Z.registerVersion("angularfire",O.q4.full,"core"),q.Z.registerVersion("angularfire",O.q4.full,"app-compat"),q.Z.registerVersion("angular",u.q4F.full,xt.toString())}static initializeApp(xt,Le){return{ngModule:Ie,providers:[{provide:be,useValue:xt},{provide:ge,useValue:Le}]}}}return Ie.\u0275fac=function(xt){return new(xt||Ie)(u.LFG(u.Lbi))},Ie.\u0275mod=u.oAB({type:Ie}),Ie.\u0275inj=u.cJS({providers:[X]}),Ie})();function Me(Ie,Ct,xt,Le,Se){const[,Ce,Ye]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===Ie)||[];if(Ce)return function Ae(Ie,Ct){try{return Ie.toString()===Ct.toString()}catch{return Ie===Ct}}(Se,Ye)||(Ee("error",`${Ct} was already initialized on the ${xt} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:Se,was:Ye})),Ce;{const qe=Le();return globalThis.\u0275AngularfireInstanceCache.push([Ie,qe,Se]),qe}}const rt=!!ie.hot,Ee=(Ie,...Ct)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ie](...Ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(ie,re,N)=>{"use strict";N.d(re,{q4:()=>Qn,iC:()=>uc,HU:()=>ll,vb:()=>pu,JM:()=>Bf});var u=N(4650),q=N(259),O=N(5861),te=N(6881),G=N(2090),oe=N(4859),ee=N(1877);let ge,$;const $e=new WeakMap,Me=new WeakMap,Ae=new WeakMap,rt=new WeakMap,Ee=new WeakMap;let xt={get(E,I,R){if(E instanceof IDBTransaction){if("done"===I)return Me.get(E);if("objectStoreNames"===I)return E.objectStoreNames||Ae.get(E);if("store"===I)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return Ye(E[I])},set:(E,I,R)=>(E[I]=R,!0),has:(E,I)=>E instanceof IDBTransaction&&("done"===I||"store"===I)||I in E};function Ce(E){return"function"==typeof E?function Se(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function X(){return $||($=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...I){return E.apply(qe(this),I),Ye($e.get(this))}:function(...I){return Ye(E.apply(qe(this),I))}:function(I,...R){const L=E.call(qe(this),I,...R);return Ae.set(L,I.sort?I.sort():[I]),Ye(L)}}(E):(E instanceof IDBTransaction&&function Ct(E){if(Me.has(E))return;const I=new Promise((R,L)=>{const W=()=>{E.removeEventListener("complete",ne),E.removeEventListener("error",me),E.removeEventListener("abort",me)},ne=()=>{R(),W()},me=()=>{L(E.error||new DOMException("AbortError","AbortError")),W()};E.addEventListener("complete",ne),E.addEventListener("error",me),E.addEventListener("abort",me)});Me.set(E,I)}(E),((E,I)=>I.some(R=>E instanceof R))(E,function B(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,xt):E)}function Ye(E){if(E instanceof IDBRequest)return function Ie(E){const I=new Promise((R,L)=>{const W=()=>{E.removeEventListener("success",ne),E.removeEventListener("error",me)},ne=()=>{R(Ye(E.result)),W()},me=()=>{L(E.error),W()};E.addEventListener("success",ne),E.addEventListener("error",me)});return I.then(R=>{R instanceof IDBCursor&&$e.set(R,E)}).catch(()=>{}),Ee.set(I,E),I}(E);if(rt.has(E))return rt.get(E);const I=Ce(E);return I!==E&&(rt.set(E,I),Ee.set(I,E)),I}const qe=E=>Ee.get(E),Nt=["get","getKey","getAll","getAllKeys","count"],_t=["put","add","delete","clear"],Xt=new Map;function ft(E,I){if(!(E instanceof IDBDatabase)||I in E||"string"!=typeof I)return;if(Xt.get(I))return Xt.get(I);const R=I.replace(/FromIndex$/,""),L=I!==R,W=_t.includes(R);if(!(R in(L?IDBIndex:IDBObjectStore).prototype)||!W&&!Nt.includes(R))return;const ne=function(){var me=(0,O.Z)(function*(Xe,...Ke){const mt=this.transaction(Xe,W?"readwrite":"readonly");let vt=mt.store;return L&&(vt=vt.index(Ke.shift())),(yield Promise.all([vt[R](...Ke),W&&mt.done]))[0]});return function(Ke){return me.apply(this,arguments)}}();return Xt.set(I,ne),ne}!function Le(E){xt=E(xt)}(E=>({...E,get:(I,R,L)=>ft(I,R)||E.get(I,R,L),has:(I,R)=>!!ft(I,R)||E.has(I,R)}));const we="@firebase/installations",Pe="w:0.6.4",Ue="FIS_v2",Zt=new G.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Jt(E){return E instanceof G.ZR&&E.code.includes("request-failed")}function rn({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Pn(E){return{token:E.token,requestStatus:2,expiresIn:Ba(E.expiresIn),creationTime:Date.now()}}function $n(E,I){return jr.apply(this,arguments)}function jr(){return(jr=(0,O.Z)(function*(E,I){const L=(yield I.json()).error;return Zt.create("request-failed",{requestName:E,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function li({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Sr(E,{refreshToken:I}){const R=li(E);return R.append("Authorization",function Zo(E){return`${Ue} ${E}`}(I)),R}function ps(E){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,O.Z)(function*(E){const I=yield E();return I.status>=500&&I.status<600?E():I})).apply(this,arguments)}function Ba(E){return Number(E.replace("s","000"))}function yt(E,I){return ei.apply(this,arguments)}function ei(){return(ei=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:I},{fid:R}){const L=rn(E),W=li(E),ne=I.getImmediate({optional:!0});if(ne){const mt=yield ne.getHeartbeatsHeader();mt&&W.append("x-firebase-client",mt)}const Xe={method:"POST",headers:W,body:JSON.stringify({fid:R,authVersion:Ue,appId:E.appId,sdkVersion:Pe})},Ke=yield ps(()=>fetch(L,Xe));if(Ke.ok){const mt=yield Ke.json();return{fid:mt.fid||R,registrationStatus:2,refreshToken:mt.refreshToken,authToken:Pn(mt.authToken)}}throw yield $n("Create Installation",Ke)})).apply(this,arguments)}function qi(E){return new Promise(I=>{setTimeout(I,E)})}const Yo=/^[cdef][\w-]{21}$/;function fr(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const R=function xn(E){return function ti(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Yo.test(R)?R:""}catch{return""}}function an(E){return`${E.appName}!${E.appId}`}const ct=new Map;function St(E,I){const R=an(E);ci(R,I),function ir(E,I){const R=function Tr(){return!kt&&"BroadcastChannel"in self&&(kt=new BroadcastChannel("[Firebase] FID Change"),kt.onmessage=E=>{ci(E.data.key,E.data.fid)}),kt}();R&&R.postMessage({key:E,fid:I}),function yn(){0===ct.size&&kt&&(kt.close(),kt=null)}()}(R,I)}function ci(E,I){const R=ct.get(E);if(R)for(const L of R)L(I)}let kt=null;const pr="firebase-installations-store";let Ar=null;function Wi(){return Ar||(Ar=function lt(E,I,{blocked:R,upgrade:L,blocking:W,terminated:ne}={}){const me=indexedDB.open(E,I),Xe=Ye(me);return L&&me.addEventListener("upgradeneeded",Ke=>{L(Ye(me.result),Ke.oldVersion,Ke.newVersion,Ye(me.transaction))}),R&&me.addEventListener("blocked",()=>R()),Xe.then(Ke=>{ne&&Ke.addEventListener("close",()=>ne()),W&&Ke.addEventListener("versionchange",()=>W())}).catch(()=>{}),Xe}("firebase-installations-database",1,{upgrade:(E,I)=>{0===I&&E.createObjectStore(pr)}})),Ar}function Bn(E,I){return xr.apply(this,arguments)}function xr(){return(xr=(0,O.Z)(function*(E,I){const R=an(E),W=(yield Wi()).transaction(pr,"readwrite"),ne=W.objectStore(pr),me=yield ne.get(R);return yield ne.put(I,R),yield W.done,(!me||me.fid!==I.fid)&&St(E,I.fid),I})).apply(this,arguments)}function ms(E){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,O.Z)(function*(E){const I=an(E),L=(yield Wi()).transaction(pr,"readwrite");yield L.objectStore(pr).delete(I),yield L.done})).apply(this,arguments)}function ui(E,I){return ni.apply(this,arguments)}function ni(){return(ni=(0,O.Z)(function*(E,I){const R=an(E),W=(yield Wi()).transaction(pr,"readwrite"),ne=W.objectStore(pr),me=yield ne.get(R),Xe=I(me);return void 0===Xe?yield ne.delete(R):yield ne.put(Xe,R),yield W.done,Xe&&(!me||me.fid!==Xe.fid)&&St(E,Xe.fid),Xe})).apply(this,arguments)}function j(E){return U.apply(this,arguments)}function U(){return(U=(0,O.Z)(function*(E){let I;const R=yield ui(E.appConfig,L=>{const W=J(L),ne=pe(E,W);return I=ne.registrationPromise,ne.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function J(E){return He(E||{fid:fr(),registrationStatus:0})}function pe(E,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Zt.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function le(E,I){return Qe.apply(this,arguments)}(E,R);return{installationEntry:R,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Pt(E)}:{installationEntry:I}}function Qe(){return(Qe=(0,O.Z)(function*(E,I){try{const R=yield yt(E,I);return Bn(E.appConfig,R)}catch(R){throw Jt(R)&&409===R.customData.serverCode?yield ms(E.appConfig):yield Bn(E.appConfig,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Pt(E){return jt.apply(this,arguments)}function jt(){return(jt=(0,O.Z)(function*(E){let I=yield pn(E.appConfig);for(;1===I.registrationStatus;)yield qi(100),I=yield pn(E.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield j(E);return L||R}return I})).apply(this,arguments)}function pn(E){return ui(E,I=>{if(!I)throw Zt.create("installation-not-found");return He(I)})}function He(E){return function pt(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Dt(E,I){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:I},R){const L=Mr(E,R),W=Sr(E,R),ne=I.getImmediate({optional:!0});if(ne){const mt=yield ne.getHeartbeatsHeader();mt&&W.append("x-firebase-client",mt)}const Xe={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:Pe,appId:E.appId}})},Ke=yield ps(()=>fetch(L,Xe));if(Ke.ok)return Pn(yield Ke.json());throw yield $n("Generate Auth Token",Ke)})).apply(this,arguments)}function Mr(E,{fid:I}){return`${rn(E)}/${I}/authTokens:generate`}function Dn(E){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,O.Z)(function*(E,I=!1){let R;const L=yield ui(E.appConfig,ne=>{if(!zt(ne))throw Zt.create("not-registered");const me=ne.authToken;if(!I&&cn(me))return ne;if(1===me.requestStatus)return R=he(E,I),ne;{if(!navigator.onLine)throw Zt.create("app-offline");const Xe=tn(ne);return R=Be(E,Xe),Xe}});return R?yield R:L.authToken})).apply(this,arguments)}function he(E,I){return ue.apply(this,arguments)}function ue(){return(ue=(0,O.Z)(function*(E,I){let R=yield Ve(E.appConfig);for(;1===R.authToken.requestStatus;)yield qi(100),R=yield Ve(E.appConfig);const L=R.authToken;return 0===L.requestStatus?Dn(E,I):L})).apply(this,arguments)}function Ve(E){return ui(E,I=>{if(!zt(I))throw Zt.create("not-registered");return function Rr(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Be(E,I){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,O.Z)(function*(E,I){try{const R=yield Dt(E,I),L=Object.assign(Object.assign({},I),{authToken:R});return yield Bn(E.appConfig,L),R}catch(R){if(!Jt(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Bn(E.appConfig,L)}else yield ms(E.appConfig);throw R}})).apply(this,arguments)}function zt(E){return void 0!==E&&2===E.registrationStatus}function cn(E){return 2===E.requestStatus&&!function On(E){const I=Date.now();return I<E.creationTime||E.creationTime+E.expiresIn<I+36e5}(E)}function tn(E){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:I})}function di(){return(di=(0,O.Z)(function*(E){const I=E,{installationEntry:R,registrationPromise:L}=yield j(I);return L?L.catch(console.error):Dn(I).catch(console.error),R.fid})).apply(this,arguments)}function Sl(){return(Sl=(0,O.Z)(function*(E,I=!1){const R=E;return yield gn(R),(yield Dn(R,I)).token})).apply(this,arguments)}function gn(E){return _s.apply(this,arguments)}function _s(){return(_s=(0,O.Z)(function*(E){const{registrationPromise:I}=yield j(E);I&&(yield I)})).apply(this,arguments)}function gr(E){return Zt.create("missing-app-config-values",{valueName:E})}const ri="installations",Jo=E=>{const I=E.getProvider("app").getImmediate(),R=function fd(E){if(!E||!E.options)throw gr("App Configuration");if(!E.name)throw gr("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!E.options[R])throw gr(R);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,te._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Ps=E=>{const I=E.getProvider("app").getImmediate(),R=(0,te._getProvider)(I,ri).getImmediate();return{getId:()=>function Ti(E){return di.apply(this,arguments)}(R),getToken:W=>function Ua(E){return Sl.apply(this,arguments)}(R,W)}};(function Zi(){(0,te._registerComponent)(new oe.wA(ri,Jo,"PUBLIC")),(0,te._registerComponent)(new oe.wA("installations-internal",Ps,"PRIVATE"))})(),(0,te.registerVersion)(we,"0.6.4"),(0,te.registerVersion)(we,"0.6.4","esm2017");const ea="@firebase/remote-config",Tn=new G.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ai{constructor(I,R,L,W){this.client=I,this.storage=R,this.storageCache=L,this.logger=W}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,W=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${W}.`),W}fetch(I){var R=this;return(0,O.Z)(function*(){const[L,W]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(W&&R.isCachedDataFresh(I.cacheMaxAgeMillis,L))return W;I.eTag=W&&W.eTag;const ne=yield R.client.fetch(I),me=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&me.push(R.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(me),ne})()}}function Ed(E=navigator){return E.languages&&E.languages[0]||E.language}class Ha{constructor(I,R,L,W,ne,me){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=L,this.projectId=W,this.apiKey=ne,this.appId=me}fetch(I){var R=this;return(0,O.Z)(function*(){const[L,W]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Ke={sdk_version:R.sdkVersion,app_instance_id:L,app_instance_id_token:W,app_id:R.appId,language_code:Ed()},mt={method:"POST",headers:Xe,body:JSON.stringify(Ke)},vt=fetch(me,mt),Vt=new Promise((Er,$s)=>{I.signal.addEventListener(()=>{const dc=new Error("The operation was aborted.");dc.name="AbortError",$s(dc)})});let Fr;try{yield Promise.race([vt,Vt]),Fr=yield vt}catch(Er){let $s="fetch-client-network";throw"AbortError"===Er?.name&&($s="fetch-timeout"),Tn.create($s,{originalErrorMessage:Er?.message})}let In=Fr.status;const wt=Fr.headers.get("ETag")||void 0;let os,uo;if(200===Fr.status){let Er;try{Er=yield Fr.json()}catch($s){throw Tn.create("fetch-client-parse",{originalErrorMessage:$s?.message})}os=Er.entries,uo=Er.state}if("INSTANCE_STATE_UNSPECIFIED"===uo?In=500:"NO_CHANGE"===uo?In=304:("NO_TEMPLATE"===uo||"EMPTY_CONFIG"===uo)&&(os={}),304!==In&&200!==In)throw Tn.create("fetch-status",{httpStatus:In});return{status:In,eTag:wt,config:os}})()}}class gf{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,O.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:L}){var W=this;return(0,O.Z)(function*(){yield function $c(E,I){return new Promise((R,L)=>{const W=Math.max(I-Date.now(),0),ne=setTimeout(R,W);E.addEventListener(()=>{clearTimeout(ne),L(Tn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const ne=yield W.client.fetch(I);return yield W.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function Ml(E){if(!(E instanceof G.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ne))throw ne;const me={throttleEndTimeMillis:Date.now()+(0,G.$s)(L),backoffCount:L+1};return yield W.storage.setThrottleMetadata(me),W.attemptFetch(I,me)}})()}}class mf{constructor(I,R,L,W,ne){this.app=I,this._client=R,this._storageCache=L,this._storage=W,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function br(E,I){const R=E.target.error||void 0;return Tn.create(I,{originalErrorMessage:R&&R?.message})}const zr="app_namespace_store";class A0{constructor(I,R,L,W=function Pl(){return new Promise((E,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=L=>{I(br(L,"storage-open"))},R.onsuccess=L=>{E(L.target.result)},R.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(zr,{keyPath:"compositeKey"})}}catch(R){I(Tn.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=I,this.appName=R,this.namespace=L,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,O.Z)(function*(){const L=yield R.openDbPromise;return new Promise((W,ne)=>{const Xe=L.transaction([zr],"readonly").objectStore(zr),Ke=R.createCompositeKey(I);try{const mt=Xe.get(Ke);mt.onerror=vt=>{ne(br(vt,"storage-get"))},mt.onsuccess=vt=>{const Vt=vt.target.result;W(Vt?Vt.value:void 0)}}catch(mt){ne(Tn.create("storage-get",{originalErrorMessage:mt?.message}))}})})()}set(I,R){var L=this;return(0,O.Z)(function*(){const W=yield L.openDbPromise;return new Promise((ne,me)=>{const Ke=W.transaction([zr],"readwrite").objectStore(zr),mt=L.createCompositeKey(I);try{const vt=Ke.put({compositeKey:mt,value:R});vt.onerror=Vt=>{me(br(Vt,"storage-set"))},vt.onsuccess=()=>{ne()}}catch(vt){me(Tn.create("storage-set",{originalErrorMessage:vt?.message}))}})})()}delete(I){var R=this;return(0,O.Z)(function*(){const L=yield R.openDbPromise;return new Promise((W,ne)=>{const Xe=L.transaction([zr],"readwrite").objectStore(zr),Ke=R.createCompositeKey(I);try{const mt=Xe.delete(Ke);mt.onerror=vt=>{ne(br(vt,"storage-delete"))},mt.onsuccess=()=>{W()}}catch(mt){ne(Tn.create("storage-delete",{originalErrorMessage:mt?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Wn{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const R=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),W=I.storage.getActiveConfig(),ne=yield R;ne&&(I.lastFetchStatus=ne);const me=yield L;me&&(I.lastSuccessfulFetchTimestampMillis=me);const Xe=yield W;Xe&&(I.activeConfig=Xe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function ii(){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,O.Z)(function*(){if(!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch{return!1}})).apply(this,arguments)}let ta,Kn;!function Ns(){(0,te._registerComponent)(new oe.wA("remote-config",function E(I,{instanceIdentifier:R}){const L=I.getProvider("app").getImmediate(),W=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Tn.create("registration-window");if(!(0,G.hl)())throw Tn.create("indexed-db-unavailable");const{projectId:ne,apiKey:me,appId:Xe}=L.options;if(!ne)throw Tn.create("registration-project-id");if(!me)throw Tn.create("registration-api-key");if(!Xe)throw Tn.create("registration-app-id");const Ke=new A0(Xe,L.name,R=R||"firebase"),mt=new Wn(Ke),vt=new ee.Yd(ea);vt.logLevel=ee.in.ERROR;const Vt=new Ha(W,te.SDK_VERSION,R,ne,me,Xe),Fr=new gf(Vt,Ke),In=new Ai(Fr,Ke,mt,vt),wt=new mf(L,In,mt,Ke,vt);return function Yg(E){const I=(0,G.m9)(E);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(wt),wt},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(ea,"0.4.4"),(0,te.registerVersion)(ea,"0.4.4","esm2017")}();const qc=new WeakMap,hi=new WeakMap,oo=new WeakMap,kr=new WeakMap,Ot=new WeakMap;let ja={get(E,I,R){if(E instanceof IDBTransaction){if("done"===I)return hi.get(E);if("objectStoreNames"===I)return E.objectStoreNames||oo.get(E);if("store"===I)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return Xi(E[I])},set:(E,I,R)=>(E[I]=R,!0),has:(E,I)=>E instanceof IDBTransaction&&("done"===I||"store"===I)||I in E};function Td(E){return"function"==typeof E?function Sd(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Eo(){return Kn||(Kn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...I){return E.apply(Fl(this),I),Xi(qc.get(this))}:function(...I){return Xi(E.apply(Fl(this),I))}:function(I,...R){const L=E.call(Fl(this),I,...R);return oo.set(L,I.sort?I.sort():[I]),Xi(L)}}(E):(E instanceof IDBTransaction&&function Dd(E){if(hi.has(E))return;const I=new Promise((R,L)=>{const W=()=>{E.removeEventListener("complete",ne),E.removeEventListener("error",me),E.removeEventListener("abort",me)},ne=()=>{R(),W()},me=()=>{L(E.error||new DOMException("AbortError","AbortError")),W()};E.addEventListener("complete",ne),E.addEventListener("error",me),E.addEventListener("abort",me)});hi.set(E,I)}(E),((E,I)=>I.some(R=>E instanceof R))(E,function Qg(){return ta||(ta=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,ja):E)}function Xi(E){if(E instanceof IDBRequest)return function Cd(E){const I=new Promise((R,L)=>{const W=()=>{E.removeEventListener("success",ne),E.removeEventListener("error",me)},ne=()=>{R(Xi(E.result)),W()},me=()=>{L(E.error),W()};E.addEventListener("success",ne),E.addEventListener("error",me)});return I.then(R=>{R instanceof IDBCursor&&qc.set(R,E)}).catch(()=>{}),Ot.set(I,E),I}(E);if(kr.has(E))return kr.get(E);const I=Td(E);return I!==E&&(kr.set(E,I),Ot.set(I,E)),I}const Fl=E=>Ot.get(E);function Re(E,I,{blocked:R,upgrade:L,blocking:W,terminated:ne}={}){const me=indexedDB.open(E,I),Xe=Xi(me);return L&&me.addEventListener("upgradeneeded",Ke=>{L(Xi(me.result),Ke.oldVersion,Ke.newVersion,Xi(me.transaction))}),R&&me.addEventListener("blocked",()=>R()),Xe.then(Ke=>{ne&&Ke.addEventListener("close",()=>ne()),W&&Ke.addEventListener("versionchange",()=>W())}).catch(()=>{}),Xe}function Yt(E,{blocked:I}={}){const R=indexedDB.deleteDatabase(E);return I&&R.addEventListener("blocked",()=>I()),Xi(R).then(()=>{})}const Ll=["get","getKey","getAll","getAllKeys","count"],Wc=["put","add","delete","clear"],Un=new Map;function Vl(E,I){if(!(E instanceof IDBDatabase)||I in E||"string"!=typeof I)return;if(Un.get(I))return Un.get(I);const R=I.replace(/FromIndex$/,""),L=I!==R,W=Wc.includes(R);if(!(R in(L?IDBIndex:IDBObjectStore).prototype)||!W&&!Ll.includes(R))return;const ne=function(){var me=(0,O.Z)(function*(Xe,...Ke){const mt=this.transaction(Xe,W?"readwrite":"readonly");let vt=mt.store;return L&&(vt=vt.index(Ke.shift())),(yield Promise.all([vt[R](...Ke),W&&mt.done]))[0]});return function(Ke){return me.apply(this,arguments)}}();return Un.set(I,ne),ne}!function Id(E){ja=E(ja)}(E=>({...E,get:(I,R,L)=>Vl(I,R)||E.get(I,R,L),has:(I,R)=>!!Vl(I,R)||E.has(I,R)}));const Co="/firebase-messaging-sw.js",fi="/firebase-cloud-messaging-push-scope",na="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zc="google.c.a.c_id",Hn="google.c.a.c_l",yf="google.c.a.ts",vf="google.c.a.e";var pi=(()=>{return(E=pi||(pi={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",pi;var E})();function Ji(E){const I=new Uint8Array(E);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fs(E){const R=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),W=new Uint8Array(L.length);for(let ne=0;ne<L.length;++ne)W[ne]=L.charCodeAt(ne);return W}const gi="fcm_token_details_db",Do="fcm_token_object_Store";function Xg(E){return ra.apply(this,arguments)}function ra(){return ra=(0,O.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(gi))return null;let I=null;return(yield Re(gi,5,{upgrade:(L=(0,O.Z)(function*(W,ne,me,Xe){var Ke;if(ne<2||!W.objectStoreNames.contains(Do))return;const mt=Xe.objectStore(Do),vt=yield mt.index("fcmSenderId").get(E);if(yield mt.clear(),vt)if(2===ne){const Vt=vt;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;I={token:Vt.fcmToken,createTime:null!==(Ke=Vt.createTime)&&void 0!==Ke?Ke:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:Ji(Vt.vapidKey)}}}else if(3===ne){const Vt=vt;I={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:Ji(Vt.auth),p256dh:Ji(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:Ji(Vt.vapidKey)}}}else if(4===ne){const Vt=vt;I={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:Ji(Vt.auth),p256dh:Ji(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:Ji(Vt.vapidKey)}}}}),function(ne,me,Xe,Ke){return L.apply(this,arguments)})})).close(),yield Yt(gi),yield Yt("fcm_vapid_details_db"),yield Yt("undefined"),Yc(I)?I:null;var L}),ra.apply(this,arguments)}function Yc(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:I}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Gr="firebase-messaging-store";let Qc=null;function $a(){return Qc||(Qc=Re("firebase-messaging-database",1,{upgrade:(E,I)=>{0===I&&E.createObjectStore(Gr)}})),Qc}function Ga(E){return Io.apply(this,arguments)}function Io(){return(Io=(0,O.Z)(function*(E){const I=Ul(E),L=yield(yield $a()).transaction(Gr).objectStore(Gr).get(I);if(L)return L;{const W=yield Xg(E.appConfig.senderId);if(W)return yield Xc(E,W),W}})).apply(this,arguments)}function Xc(E,I){return qa.apply(this,arguments)}function qa(){return(qa=(0,O.Z)(function*(E,I){const R=Ul(E),W=(yield $a()).transaction(Gr,"readwrite");return yield W.objectStore(Gr).put(I,R),yield W.done,I})).apply(this,arguments)}function xd(E){return ia.apply(this,arguments)}function ia(){return(ia=(0,O.Z)(function*(E){const I=Ul(E),L=(yield $a()).transaction(Gr,"readwrite");yield L.objectStore(Gr).delete(I),yield L.done})).apply(this,arguments)}function Ul({appConfig:E}){return E.appId}const dn=new G.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ls(E,I){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,O.Z)(function*(E,I){const R=yield tu(E),L=Wa(I),W={method:"POST",headers:R,body:JSON.stringify(L)};let ne;try{ne=yield(yield fetch(Hl(E.appConfig),W)).json()}catch(me){throw dn.create("token-subscribe-failed",{errorInfo:me?.toString()})}if(ne.error)throw dn.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw dn.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Jc(E,I){return Md.apply(this,arguments)}function Md(){return(Md=(0,O.Z)(function*(E,I){const R=yield tu(E),L=Wa(I.subscriptionOptions),W={method:"PATCH",headers:R,body:JSON.stringify(L)};let ne;try{ne=yield(yield fetch(`${Hl(E.appConfig)}/${I.token}`,W)).json()}catch(me){throw dn.create("token-update-failed",{errorInfo:me?.toString()})}if(ne.error)throw dn.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw dn.create("token-update-no-token");return ne.token})).apply(this,arguments)}function eu(E,I){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,O.Z)(function*(E,I){const L={method:"DELETE",headers:yield tu(E)};try{const ne=yield(yield fetch(`${Hl(E.appConfig)}/${I}`,L)).json();if(ne.error)throw dn.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(W){throw dn.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function Hl({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function tu(E){return So.apply(this,arguments)}function So(){return(So=(0,O.Z)(function*({appConfig:E,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Wa({p256dh:E,auth:I,endpoint:R,vapidKey:L}){const W={web:{endpoint:R,auth:I,p256dh:E}};return L!==na&&(W.web.applicationPubKey=L),W}const sa=6048e5;function kd(E){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,O.Z)(function*(E){const I=yield nu(E.swRegistration,E.vapidKey),R={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:I.endpoint,auth:Ji(I.getKey("auth")),p256dh:Ji(I.getKey("p256dh"))},L=yield Ga(E.firebaseDependencies);if(L){if(Ef(L.subscriptionOptions,R))return Date.now()>=L.createTime+sa?Za(E,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield eu(E.firebaseDependencies,L.token)}catch(W){console.warn(W)}return wf(E.firebaseDependencies,R)}return wf(E.firebaseDependencies,R)})).apply(this,arguments)}function bf(E){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,O.Z)(function*(E){const I=yield Ga(E.firebaseDependencies);I&&(yield eu(E.firebaseDependencies,I.token),yield xd(E.firebaseDependencies));const R=yield E.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Za(E,I){return jl.apply(this,arguments)}function jl(){return(jl=(0,O.Z)(function*(E,I){try{const R=yield Jc(E.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield Xc(E.firebaseDependencies,L),R}catch(R){throw yield bf(E),R}})).apply(this,arguments)}function wf(E,I){return es.apply(this,arguments)}function es(){return(es=(0,O.Z)(function*(E,I){const L={token:yield Ls(E,I),createTime:Date.now(),subscriptionOptions:I};return yield Xc(E,L),L.token})).apply(this,arguments)}function nu(E,I){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,O.Z)(function*(E,I){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fs(I)})})).apply(this,arguments)}function Ef(E,I){return I.vapidKey===E.vapidKey&&I.endpoint===E.endpoint&&I.auth===E.auth&&I.p256dh===E.p256dh}function ru(E){const I={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function zl(E,I){if(!I.notification)return;E.notification={};const R=I.notification.title;R&&(E.notification.title=R);const L=I.notification.body;L&&(E.notification.body=L);const W=I.notification.image;W&&(E.notification.image=W);const ne=I.notification.icon;ne&&(E.notification.icon=ne)}(I,E),function $l(E,I){!I.data||(E.data=I.data)}(I,E),function Gl(E,I){var R,L,W,ne,me;if(!(I.fcmOptions||null!==(R=I.notification)&&void 0!==R&&R.click_action))return;E.fcmOptions={};const Xe=null!==(W=null===(L=I.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==W?W:null===(ne=I.notification)||void 0===ne?void 0:ne.click_action;Xe&&(E.fcmOptions.link=Xe);const Ke=null===(me=I.fcmOptions)||void 0===me?void 0:me.analytics_label;Ke&&(E.fcmOptions.analyticsLabel=Ke)}(I,E),I}function Cf(E){return"object"==typeof E&&!!E&&Zc in E}function oa(E,I){const R=[];for(let L=0;L<E.length;L++)R.push(E.charAt(L)),L<I.length&&R.push(I.charAt(L));return R.join("")}function iu(E){return dn.create("missing-app-config-values",{valueName:E})}oa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),oa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ya{constructor(I,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function Od(E){if(!E||!E.options)throw iu("App Configuration Object");if(!E.name)throw iu("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=E;for(const L of I)if(!R[L])throw iu(L);return{appName:E.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:W,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Df(E){return ys.apply(this,arguments)}function ys(){return(ys=(0,O.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Co,{scope:fi}),E.swRegistration.update().catch(()=>{})}catch(I){throw dn.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function Qa(E,I){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,O.Z)(function*(E,I){if(!I&&!E.swRegistration&&(yield Df(E)),I||!E.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw dn.create("invalid-sw-registration");E.swRegistration=I}})).apply(this,arguments)}function To(E,I){return vs.apply(this,arguments)}function vs(){return(vs=(0,O.Z)(function*(E,I){I?E.vapidKey=I:E.vapidKey||(E.vapidKey=na)})).apply(this,arguments)}function Xa(){return(Xa=(0,O.Z)(function*(E,I){if(!navigator)throw dn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw dn.create("permission-blocked");return yield To(E,I?.vapidKey),yield Qa(E,I?.serviceWorkerRegistration),kd(E)})).apply(this,arguments)}function Mi(E,I,R){return su.apply(this,arguments)}function su(){return(su=(0,O.Z)(function*(E,I,R){const L=aa(I);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[Zc],message_name:R[Hn],message_time:R[yf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function aa(E){switch(E){case pi.NOTIFICATION_CLICKED:return"notification_open";case pi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ao(){return(Ao=(0,O.Z)(function*(E,I){const R=I.data;if(!R.isFirebaseMessaging)return;E.onMessageHandler&&R.messageType===pi.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(ru(R)):E.onMessageHandler.next(ru(R)));const L=R.data;Cf(L)&&"1"===L[vf]&&(yield Mi(E,R.messageType,L))})).apply(this,arguments)}const xo="@firebase/messaging",Mo=E=>{const I=new Ya(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function ou(E,I){return Ao.apply(this,arguments)}(I,R)),I},Wl=E=>{const I=E.getProvider("messaging").getImmediate();return{getToken:L=>function ql(E,I){return Xa.apply(this,arguments)}(I,L)}};function la(){return ca.apply(this,arguments)}function ca(){return(ca=(0,O.Z)(function*(){try{yield(0,G.eu)()}catch{return!1}return typeof window<"u"&&(0,G.hl)()&&(0,G.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function If(){(0,te._registerComponent)(new oe.wA("messaging",Mo,"PUBLIC")),(0,te._registerComponent)(new oe.wA("messaging-internal",Wl,"PRIVATE")),(0,te.registerVersion)(xo,"0.12.4"),(0,te.registerVersion)(xo,"0.12.4","esm2017")}();const Rn="analytics",au="firebase_id",Zl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Us="https://www.googletagmanager.com/gtag/js",jn=new ee.Yd("@firebase/analytics"),Pr=new G.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ua(E){if(!E.startsWith(Us)){const I=Pr.create("invalid-gtag-resource",{gtagURL:E});return jn.warn(I.message),""}return E}function Hs(E){return Promise.all(E.map(I=>I.catch(R=>R)))}function nl(E,I){const R=function Yl(E,I){let R;return window.trustedTypes&&(R=window.trustedTypes.createPolicy(E,I)),R}("firebase-js-sdk-policy",{createScriptURL:ua}),L=document.createElement("script"),W=`${Us}?l=${E}&id=${I}`;L.src=R?R?.createScriptURL(W):W,L.async=!0,document.head.appendChild(L)}function lu(E,I,R,L,W,ne){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,O.Z)(function*(E,I,R,L,W,ne){const me=L[W];try{if(me)yield I[me];else{const Ke=(yield Hs(R)).find(mt=>mt.measurementId===W);Ke&&(yield I[Ke.appId])}}catch(Xe){jn.error(Xe)}E("config",W,ne)})).apply(this,arguments)}function Af(E,I,R,L,W){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,O.Z)(function*(E,I,R,L,W){try{let ne=[];if(W&&W.send_to){let me=W.send_to;Array.isArray(me)||(me=[me]);const Xe=yield Hs(R);for(const Ke of me){const mt=Xe.find(Vt=>Vt.measurementId===Ke),vt=mt&&I[mt.appId];if(!vt){ne=[];break}ne.push(vt)}}0===ne.length&&(ne=Object.values(I)),yield Promise.all(ne),E("event",L,W||{})}catch(ne){jn.error(ne)}})).apply(this,arguments)}function Rf(E){const I=window.document.getElementsByTagName("script");for(const R of Object.values(I))if(R.src&&R.src.includes(Us)&&R.src.includes(E))return R;return null}const sr=new class Xl{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Jl(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Ri(E){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,O.Z)(function*(E){var I;const{appId:R,apiKey:L}=E,W={method:"GET",headers:Jl(L)},ne=Zl.replace("{app-id}",R),me=yield fetch(ne,W);if(200!==me.status&&304!==me.status){let Xe="";try{const Ke=yield me.json();null!==(I=Ke.error)&&void 0!==I&&I.message&&(Xe=Ke.error.message)}catch{}throw Pr.create("config-fetch-failed",{httpStatus:me.status,responseMessage:Xe})}return me.json()})).apply(this,arguments)}function kf(E){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,O.Z)(function*(E,I=sr,R){const{appId:L,apiKey:W,measurementId:ne}=E.options;if(!L)throw Pr.create("no-app-id");if(!W){if(ne)return{measurementId:ne,appId:L};throw Pr.create("no-api-key")}const me=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new Ld;return setTimeout((0,O.Z)(function*(){Xe.abort()}),void 0!==R?R:6e4),ts({appId:L,apiKey:W,measurementId:ne},me,Xe,I)})).apply(this,arguments)}function ts(E,I,R){return cu.apply(this,arguments)}function cu(){return(cu=(0,O.Z)(function*(E,{throttleEndTimeMillis:I,backoffCount:R},L,W=sr){var ne;const{appId:me,measurementId:Xe}=E;try{yield uu(L,I)}catch(Ke){if(Xe)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${Ke?.message}]`),{appId:me,measurementId:Xe};throw Ke}try{const Ke=yield Ri(E);return W.deleteThrottleMetadata(me),Ke}catch(Ke){const mt=Ke;if(!da(mt)){if(W.deleteThrottleMetadata(me),Xe)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Xe} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:me,measurementId:Xe};throw Ke}const vt=503===Number(null===(ne=mt?.customData)||void 0===ne?void 0:ne.httpStatus)?(0,G.$s)(R,W.intervalMillis,30):(0,G.$s)(R,W.intervalMillis),Vt={throttleEndTimeMillis:Date.now()+vt,backoffCount:R+1};return W.setThrottleMetadata(me,Vt),jn.debug(`Calling attemptFetch again in ${vt} millis`),ts(E,Vt,L,W)}})).apply(this,arguments)}function uu(E,I){return new Promise((R,L)=>{const W=Math.max(I-Date.now(),0),ne=setTimeout(R,W);E.addEventListener(()=>{clearTimeout(ne),L(Pr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function da(E){if(!(E instanceof G.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Ld{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Vd,hu;function Pf(){return(Pf=(0,O.Z)(function*(E,I,R,L,W){if(W&&W.global)E("event",R,L);else{const ne=yield I;E("event",R,Object.assign(Object.assign({},L),{send_to:ne}))}})).apply(this,arguments)}function sl(E){hu=E}function rc(E){Vd=E}function mn(){return ns.apply(this,arguments)}function ns(){return(ns=(0,O.Z)(function*(){if(!(0,G.hl)())return jn.warn(Pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,G.eu)()}catch(E){return jn.warn(Pr.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function ut(){return(ut=(0,O.Z)(function*(E,I,R,L,W,ne,me){var Xe;const Ke=kf(E);Ke.then(In=>{R[In.measurementId]=In.appId,E.options.measurementId&&In.measurementId!==E.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${In.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(In=>jn.error(In)),I.push(Ke);const mt=mn().then(In=>{if(In)return L.getId()}),[vt,Vt]=yield Promise.all([Ke,mt]);Rf(ne)||nl(ne,vt.measurementId),hu&&(W("consent","default",hu),sl(void 0)),W("js",new Date);const Fr=null!==(Xe=me?.config)&&void 0!==Xe?Xe:{};return Fr.origin="firebase",Fr.update=!0,null!=Vt&&(Fr[au]=Vt),W("config",vt.measurementId,Fr),Vd&&(W("set",Vd),rc(void 0)),vt.measurementId})).apply(this,arguments)}class er{constructor(I){this.app=I}_delete(){return delete qr[this.app.options.appId],Promise.resolve()}}let qr={},ha=[];const wr={};let Oo,Wr,ic="dataLayer",sc=!1;function gt(E,I,R){!function fa(){const E=[];if((0,G.ru)()&&E.push("This is a browser extension environment."),(0,G.zI)()||E.push("Cookies are not available."),E.length>0){const I=E.map((L,W)=>`(${W+1}) ${L}`).join(" "),R=Pr.create("invalid-analytics-context",{errorInfo:I});jn.warn(R.message)}}();const L=E.options.appId;if(!L)throw Pr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Pr.create("no-api-key");jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qr[L])throw Pr.create("already-exists",{id:L});if(!sc){!function vn(E){let I=[];Array.isArray(window[E])?I=window[E]:window[E]=I}(ic);const{wrappedGtag:ne,gtagCore:me}=function Mf(E,I,R,L,W){let ne=function(...me){window[L].push(arguments)};return window[W]&&"function"==typeof window[W]&&(ne=window[W]),window[W]=function xf(E,I,R,L){function ne(){return(ne=(0,O.Z)(function*(me,...Xe){try{if("event"===me){const[Ke,mt]=Xe;yield Af(E,I,R,Ke,mt)}else if("config"===me){const[Ke,mt]=Xe;yield lu(E,I,R,L,Ke,mt)}else if("consent"===me){const[Ke]=Xe;E("consent","update",Ke)}else if("get"===me){const[Ke,mt,vt]=Xe;E("get",Ke,mt,vt)}else if("set"===me){const[Ke]=Xe;E("set",Ke)}else E(me,...Xe)}catch(Ke){jn.error(Ke)}})).apply(this,arguments)}return function W(me){return ne.apply(this,arguments)}}(ne,E,I,R),{gtagCore:ne,wrappedGtag:window[W]}}(qr,ha,wr,ic,"gtag");Wr=ne,Oo=me,sc=!0}return qr[L]=function ot(E,I,R,L,W,ne,me){return ut.apply(this,arguments)}(E,ha,wr,I,Oo,ic,R),new er(E)}function al(){return oc.apply(this,arguments)}function oc(){return(oc=(0,O.Z)(function*(){if((0,G.ru)()||!(0,G.zI)()||!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch{return!1}})).apply(this,arguments)}const ga="@firebase/analytics";!function Ds(){(0,te._registerComponent)(new oe.wA(Rn,(I,{options:R})=>gt(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,te._registerComponent)(new oe.wA("analytics-internal",function E(I){try{const R=I.getProvider(Rn).getImmediate();return{logEvent:(L,W,ne)=>function Es(E,I,R,L){E=(0,G.m9)(E),function nm(E,I,R,L,W){return Pf.apply(this,arguments)}(Wr,qr[E.app.options.appId],I,R,L).catch(W=>jn.error(W))}(R,L,W,ne)}}catch(R){throw Pr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,te.registerVersion)(ga,"0.10.0"),(0,te.registerVersion)(ga,"0.10.0","esm2017")}();var _i=N(4408),Or=N(7565);const ac=new class or extends Or.v{}(class ki extends _i.o{constructor(I,R){super(I,R),this.scheduler=I,this.work=R}schedule(I,R=0){return R>0?super.schedule(I,R):(this.delay=R,this.state=I,this.scheduler.flush(this),this)}execute(I,R){return R>0||this.closed?super.execute(I,R):this._execute(I,R)}requestAsyncId(I,R,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,R,L):(I.flush(this),0)}});var tr=N(4986),Nr=N(8505),si=N(9468),Yn=N(5363);const Qn=new u.GfV("7.5.0"),ao="__angularfire_symbol__analyticsIsSupportedValue",ma="__angularfire_symbol__analyticsIsSupported",lc="__angularfire_symbol__remoteConfigIsSupportedValue",rs="__angularfire_symbol__remoteConfigIsSupported",Pi="__angularfire_symbol__messagingIsSupportedValue",zn="__angularfire_symbol__messagingIsSupported";function Bf(E,I,R){if(I){if(1===I.length)return I[0];const ne=I.filter(me=>me.app===R);if(1===ne.length)return ne[0]}return R.container.getProvider(E).getImmediate({optional:!0})}globalThis[ma]||(globalThis[ma]=al().then(E=>globalThis[ao]=E).catch(()=>globalThis[ao]=!1)),globalThis[zn]||(globalThis[zn]=la().then(E=>globalThis[Pi]=E).catch(()=>globalThis[Pi]=!1)),globalThis[rs]||(globalThis[rs]=ii().then(E=>globalThis[lc]=E).catch(()=>globalThis[lc]=!1));const pu=(E,I)=>{const R=I?[I]:(0,q.C6)(),L=[];return R.forEach(W=>{W.container.getProvider(E).instances.forEach(me=>{L.includes(me)||L.push(me)})}),L};function Lo(){}class cc{constructor(I,R=ac){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,L){const W=this.zone;return this.delegate.schedule(function(me){W.runGuarded(()=>{I.apply(this,[me])})},R,L)}}class en{constructor(I){this.zone=I,this.task=null}call(I,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Lo,{},Lo,Lo)),R.pipe((0,Nr.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ll=(()=>{class E{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new cc(Zone.current)),this.insideAngular=R.run(()=>new cc(Zone.current,tr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(R){return new(R||E)(u.LFG(u.R0b))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function _a(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function uc(E){return _a(),function gu(E){return function(R){return(R=R.lift(new en(E.ngZone))).pipe((0,si.R)(E.outsideAngular),(0,Yn.Q)(E.insideAngular))}}(_a())(E)}},2090:(ie,re,N)=>{"use strict";N.d(re,{$s:()=>ms,BH:()=>Ce,G6:()=>Pe,L:()=>ge,LL:()=>Ge,Pz:()=>Se,Sg:()=>Ye,UG:()=>de,US:()=>oe,ZB:()=>X,ZR:()=>Ht,aH:()=>Le,b$:()=>Xt,eu:()=>xe,hl:()=>Ue,jU:()=>Nt,m9:()=>ni,ne:()=>an,pd:()=>fr,r3:()=>Gi,ru:()=>_t,tV:()=>$,uI:()=>lt,vZ:()=>ei,w1:()=>we,xO:()=>Yo,xb:()=>Zo,z$:()=>qe,zI:()=>Lt,zd:()=>Si});const te=function(j){const U=[];let J=0;for(let pe=0;pe<j.length;pe++){let le=j.charCodeAt(pe);le<128?U[J++]=le:le<2048?(U[J++]=le>>6|192,U[J++]=63&le|128):55296==(64512&le)&&pe+1<j.length&&56320==(64512&j.charCodeAt(pe+1))?(le=65536+((1023&le)<<10)+(1023&j.charCodeAt(++pe)),U[J++]=le>>18|240,U[J++]=le>>12&63|128,U[J++]=le>>6&63|128,U[J++]=63&le|128):(U[J++]=le>>12|224,U[J++]=le>>6&63|128,U[J++]=63&le|128)}return U},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,U){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let le=0;le<j.length;le+=3){const Qe=j[le],Pt=le+1<j.length,jt=Pt?j[le+1]:0,pn=le+2<j.length,He=pn?j[le+2]:0;let Cn=(15&jt)<<2|He>>6,Mr=63&He;pn||(Mr=64,Pt||(Cn=64)),pe.push(J[Qe>>2],J[(3&Qe)<<4|jt>>4],J[Cn],J[Mr])}return pe.join("")},encodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(j):this.encodeByteArray(te(j),U)},decodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(j):function(j){const U=[];let J=0,pe=0;for(;J<j.length;){const le=j[J++];if(le<128)U[pe++]=String.fromCharCode(le);else if(le>191&&le<224){const Qe=j[J++];U[pe++]=String.fromCharCode((31&le)<<6|63&Qe)}else if(le>239&&le<365){const pn=((7&le)<<18|(63&j[J++])<<12|(63&j[J++])<<6|63&j[J++])-65536;U[pe++]=String.fromCharCode(55296+(pn>>10)),U[pe++]=String.fromCharCode(56320+(1023&pn))}else{const Qe=j[J++],Pt=j[J++];U[pe++]=String.fromCharCode((15&le)<<12|(63&Qe)<<6|63&Pt)}}return U.join("")}(this.decodeStringToByteArray(j,U))},decodeStringToByteArray(j,U){this.init_();const J=U?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let le=0;le<j.length;){const Qe=J[j.charAt(le++)],jt=le<j.length?J[j.charAt(le)]:0;++le;const He=le<j.length?J[j.charAt(le)]:64;++le;const Dt=le<j.length?J[j.charAt(le)]:64;if(++le,null==Qe||null==jt||null==He||null==Dt)throw new ee;pe.push(Qe<<2|jt>>4),64!==He&&(pe.push(jt<<4&240|He>>2),64!==Dt&&pe.push(He<<6&192|Dt))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}};class ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ge=function(j){return function(j){const U=te(j);return oe.encodeByteArray(U,!0)}(j).replace(/\./g,"")},$=function(j){try{return oe.decodeString(j,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function X(j,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return U}for(const J in U)!U.hasOwnProperty(J)||!$e(J)||(j[J]=X(j[J],U[J]));return j}function $e(j){return"__proto__"!==j}const Ie=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=j&&$(j[1]);return U&&JSON.parse(U)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},Le=()=>{var j;return null===(j=Ie())||void 0===j?void 0:j.config},Se=j=>{var U;return null===(U=Ie())||void 0===U?void 0:U[`_${j}`]};class Ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,J)=>{this.resolve=U,this.reject=J})}wrapCallback(U){return(J,pe)=>{J?this.reject(J):this.resolve(pe),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(J):U(J,pe))}}}function Ye(j,U){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=U||"demo-project",le=j.iat||0,Qe=j.sub||j.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pt=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:le,exp:le+3600,auth_time:le,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Pt)),""].join(".")}function qe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function de(){var j;const U=null===(j=Ie())||void 0===j?void 0:j.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Nt(){return"object"==typeof self&&self.self===self}function _t(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Xt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function we(){const j=qe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Pe(){return!de()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function xe(){return new Promise((j,U)=>{try{let J=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(pe);le.onsuccess=()=>{le.result.close(),J||self.indexedDB.deleteDatabase(pe),j(!0)},le.onupgradeneeded=()=>{J=!1},le.onerror=()=>{var Qe;U((null===(Qe=le.error)||void 0===Qe?void 0:Qe.message)||"")}}catch(J){U(J)}})}function Lt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ht extends Error{constructor(U,J,pe){super(J),this.code=U,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,Ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ge.prototype.create)}}class Ge{constructor(U,J,pe){this.service=U,this.serviceName=J,this.errors=pe}create(U,...J){const pe=J[0]||{},le=`${this.service}/${U}`,Qe=this.errors[U],Pt=Qe?function Zt(j,U){return j.replace(Jt,(J,pe)=>{const le=U[pe];return null!=le?String(le):`<${pe}?>`})}(Qe,pe):"Error";return new Ht(le,`${this.serviceName}: ${Pt} (${le}).`,pe)}}const Jt=/\{\$([^}]+)}/g;function Gi(j,U){return Object.prototype.hasOwnProperty.call(j,U)}function Zo(j){for(const U in j)if(Object.prototype.hasOwnProperty.call(j,U))return!1;return!0}function ei(j,U){if(j===U)return!0;const J=Object.keys(j),pe=Object.keys(U);for(const le of J){if(!pe.includes(le))return!1;const Qe=j[le],Pt=U[le];if(qi(Qe)&&qi(Pt)){if(!ei(Qe,Pt))return!1}else if(Qe!==Pt)return!1}for(const le of pe)if(!J.includes(le))return!1;return!0}function qi(j){return null!==j&&"object"==typeof j}function Yo(j){const U=[];for(const[J,pe]of Object.entries(j))Array.isArray(pe)?pe.forEach(le=>{U.push(encodeURIComponent(J)+"="+encodeURIComponent(le))}):U.push(encodeURIComponent(J)+"="+encodeURIComponent(pe));return U.length?"&"+U.join("&"):""}function Si(j){const U={};return j.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[le,Qe]=pe.split("=");U[decodeURIComponent(le)]=decodeURIComponent(Qe)}}),U}function fr(j){const U=j.indexOf("?");if(!U)return"";const J=j.indexOf("#",U);return j.substring(U,J>0?J:void 0)}function an(j,U){const J=new ct(j,U);return J.subscribe.bind(J)}class ct{constructor(U,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{U(this)}).catch(pe=>{this.error(pe)})}next(U){this.forEachObserver(J=>{J.next(U)})}error(U){this.forEachObserver(J=>{J.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,J,pe){let le;if(void 0===U&&void 0===J&&void 0===pe)throw new Error("Missing Observer.");le=function En(j,U){if("object"!=typeof j||null===j)return!1;for(const J of U)if(J in j&&"function"==typeof j[J])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:J,complete:pe},void 0===le.next&&(le.next=gs),void 0===le.error&&(le.error=gs),void 0===le.complete&&(le.complete=gs);const Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch{}}),this.observers.push(le),Qe}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,U)}sendOne(U,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{J(this.observers[U])}catch(pe){typeof console<"u"&&console.error&&console.error(pe)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gs(){}function ms(j,U=1e3,J=2){const pe=U*Math.pow(J,j),le=Math.round(.5*pe*(Math.random()-.5)*2);return Math.min(144e5,pe+le)}function ni(j){return j&&j._delegate?j._delegate:j}},6358:(ie,re,N)=>{"use strict";var u=N(4650);let q=null;function O(){return q}const ee=new u.OlP("DocumentToken");let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ge(){return(0,u.LFG)(B)}()},providedIn:"platform"}),n})();const $=new u.OlP("Location Initialized");let B=(()=>{class n extends be{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){X()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){X()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ee))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function $e(){return new B((0,u.LFG)(ee))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ae(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function rt(n){return n&&"?"!==n[0]?"?"+n:n}let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Ct)},providedIn:"root"}),n})();const Ie=new u.OlP("appBaseHref");let Ct=(()=>{class n extends Ee{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+rt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const c=this.prepareExternalUrl(i+rt(o));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){const c=this.prepareExternalUrl(i+rt(o));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(be),u.LFG(Ie,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xt=(()=>{class n extends Ee{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let c=this.prepareExternalUrl(i+rt(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){let c=this.prepareExternalUrl(i+rt(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(be),u.LFG(Ie,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Ae(Ye(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+rt(r))}normalize(t){return n.stripTrailingSlash(function Ce(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ye(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=rt,n.joinWithSlash=Me,n.stripTrailingSlash=Ae,n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Se(){return new Le((0,u.LFG)(Ee))}()},providedIn:"root"}),n})();function Ye(n){return n.replace(/\/index.html$/,"")}let gn=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Vc{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let un=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Vc(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===o?void 0:o);else if(null!==o){const h=r.get(o);r.move(h,c),io(h,i)}});for(let i=0,o=r.length;i<o;i++){const h=r.get(i).context;h.index=i,h.count=o,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{io(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function io(n,e){n.context.$implicit=e.item}let qn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new fd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){gr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){gr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class fd{constructor(){this.$implicit=null,this.ngIf=null}}function gr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class ri{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let so=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Jo=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new ri(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(so,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();const hf=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Hc=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw function Tn(n,e){return new u.vHH(2100,!1)}();return t.replace(hf,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"titlecase",type:n,pure:!0,standalone:!0}),n})(),Qi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Rl="browser";function kl(n){return"server"===n}let Ns=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Ol((0,u.LFG)(ee),window)}),n})();class Ol{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ii(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const c=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xi(this.window.history)||xi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ru extends class Ef extends class oe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function G(n){q||(q=n)}(new ru)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $l(){return zl=zl||document.querySelector("base"),zl?zl.getAttribute("href"):null}();return null==t?null:function Cf(n){Gl=Gl||document.createElement("a"),Gl.setAttribute("href",n);const e=Gl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Sl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Gl,zl=null;const oa=new u.OlP("TRANSITION_ID"),iu=[{provide:u.ip1,useFactory:function Od(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[oa,ee,u.zs3],multi:!0}];let Df=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ys=new u.OlP("EventManagerPlugins");let Qa=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const c=i[o];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ys),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Bs{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let To=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),vs=(()=>{class n extends To{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ql),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ql))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function ql(n){O().remove(n)}const Xa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mi=/%COMP%/g;function Mo(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Mo(n,i,t):(i=i.replace(Mi,n),t.push(i))}return t}function Wl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let la=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ca(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Ro(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new Sf(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Mo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Qa),u.LFG(vs),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ca{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Xa[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(el(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(el(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Xa[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Xa[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Wl(r)):this.eventManager.addEventListener(e,t,Wl(r))}}function el(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ro extends ca{constructor(e,t,r,i){super(e),this.component=r;const o=Mo(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function xo(n){return"_ngcontent-%COMP%".replace(Mi,n)}(i+"-"+r.id),this.hostAttr=function Ja(n){return"_nghost-%COMP%".replace(Mi,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Sf extends ca{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Mo(i.id,i.styles,[]);for(let c=0;c<o.length;c++){const h=document.createElement("style");h.textContent=o[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Kl=(()=>{class n extends Bs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ws=["alt","control","meta","shift"],tm={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let au=(()=>{class n extends Bs{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,o.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let c="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),c="code."),ws.forEach(b=>{const D=r.indexOf(b);D>-1&&(r.splice(D,1),c+=b+".")}),c+=o,0!=r.length||0===o.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=tm[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ws.forEach(c=>{c!==i&&(0,Rn[c])(t)&&(o+=c+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Yl=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Rl},{provide:u.g9A,useValue:function ko(){ru.makeCurrent()},multi:!0},{provide:ee,useFactory:function ua(){return(0,u.RDi)(document),document},deps:[]}]),nl=new u.OlP(""),vn=[{provide:u.rWj,useClass:class Ya{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let o=i.length,c=!1;const h=function(_){c=c||_,o--,0==o&&r(c)};i.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],lu=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Pr(){return new u.qLn},deps:[]},{provide:ys,useClass:Kl,multi:!0,deps:[ee,u.R0b,u.Lbi]},{provide:ys,useClass:au,multi:!0,deps:[ee]},{provide:la,useClass:la,deps:[Qa,vs,u.AFp]},{provide:u.FYo,useExisting:la},{provide:To,useExisting:vs},{provide:vs,useClass:vs,deps:[ee]},{provide:Qa,useClass:Qa,deps:[ys,u.R0b]},{provide:class Nl{},useClass:Df,deps:[]},[]];let Ql=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:oa,useExisting:u.AFp},iu]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(nl,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...lu,...vn],imports:[Qi,u.hGG]}),n})(),Rf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ee))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Mf(){return new Rf((0,u.LFG)(ee))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Po=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(sl),r},providedIn:"root"}),n})(),sl=(()=>{class n extends Po{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ee))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function hu(n){return new sl(n.get(ee))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var mn=N(8996),ns=N(3269);function ot(...n){const e=(0,ns.yG)(n);return(0,mn.D)(n,e)}var ut=N(7579);class er extends ut.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ha=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var wr=N(9751);const{isArray:ic}=Array,{getPrototypeOf:ol,prototype:Oo,keys:Wr}=Object;function sc(n){if(1===n.length){const e=n[0];if(ic(e))return{args:e,keys:null};if(function Zn(n){return n&&"object"==typeof n&&ol(n)===Oo}(e)){const t=Wr(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var fa=N(4671),gt=N(4004);const{isArray:Bd}=Array;function al(n){return(0,gt.U)(e=>function No(n,e){return Bd(e)?n(...e):n(e)}(n,e))}function oc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Nn=N(5403),Ud=N(9672);function js(...n){const e=(0,ns.yG)(n),t=(0,ns.jO)(n),{args:r,keys:i}=sc(n);if(0===r.length)return(0,mn.D)([],e);const o=new wr.y(function fu(n,e,t=fa.y){return r=>{Fo(e,()=>{const{length:i}=n,o=new Array(i);let c=i,h=i;for(let _=0;_<i;_++)Fo(e,()=>{const b=(0,mn.D)(n[_],e);let D=!1;b.subscribe((0,Nn.x)(r,M=>{o[_]=M,D||(D=!0,h--),h||r.next(t(o.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>oc(i,c):fa.y));return t?o.pipe(al(t)):o}function Fo(n,e,t){n?(0,Ud.f)(t,n,e):e()}var pa=N(8189);function Es(...n){return function Nf(){return(0,pa.J)(1)}()((0,mn.D)(n,(0,ns.yG)(n)))}var Cs=N(8421);function ga(n){return new wr.y(e=>{(0,Cs.Xf)(n()).subscribe(e)})}var Hd=N(9635),Ds=N(576);function _i(n,e){const t=(0,Ds.m)(n)?n:()=>n,r=i=>i.error(t());return new wr.y(e?i=>e.schedule(r,0,i):r)}var ki=N(515),Or=N(727),or=N(4482);function ac(){return(0,or.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Nn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ff extends wr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,or.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Or.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Nn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Or.w0.EMPTY)}return e}refCount(){return ac()(this)}}function tr(n,e){return(0,or.e)((t,r)=>{let i=null,o=0,c=!1;const h=()=>c&&!i&&r.complete();t.subscribe((0,Nn.x)(r,_=>{i?.unsubscribe();let b=0;const D=o++;(0,Cs.Xf)(n(_,D)).subscribe(i=(0,Nn.x)(r,M=>r.next(e?e(_,M,D,b++):M),()=>{i=null,h()}))},()=>{c=!0,h()}))})}function Nr(n){return n<=0?()=>ki.E:(0,or.e)((e,t)=>{let r=0;e.subscribe((0,Nn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function si(...n){const e=(0,ns.yG)(n);return(0,or.e)((t,r)=>{(e?Es(n,t,e):Es(n,t)).subscribe(r)})}function Yn(n,e){return(0,or.e)((t,r)=>{let i=0;t.subscribe((0,Nn.x)(r,o=>n.call(e,o,i++)&&r.next(o)))})}var Qn=N(5577);function ao(n){return(0,or.e)((e,t)=>{let r=!1;e.subscribe((0,Nn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ma(n=lc){return(0,or.e)((e,t)=>{let r=!1;e.subscribe((0,Nn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function lc(){return new ha}function rs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Yn((i,o)=>n(i,o,r)):fa.y,Nr(1),t?ao(e):ma(()=>new ha))}function Pi(n,e){return(0,Ds.m)(e)?(0,Qn.z)(n,e,1):(0,Qn.z)(n,1)}var zn=N(8505);function is(n){return(0,or.e)((e,t)=>{let o,r=null,i=!1;r=e.subscribe((0,Nn.x)(t,void 0,void 0,c=>{o=(0,Cs.Xf)(n(c,is(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Lf(n,e,t,r,i){return(o,c)=>{let h=t,_=e,b=0;o.subscribe((0,Nn.x)(c,D=>{const M=b++;_=h?n(_,D,M):(h=!0,D),r&&c.next(_)},i&&(()=>{h&&c.next(_),c.complete()})))}}function lo(n,e){return(0,or.e)(Lf(n,e,arguments.length>=2,!0))}function Vf(n){return n<=0?()=>ki.E:(0,or.e)((e,t)=>{let r=[];e.subscribe((0,Nn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Bf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Yn((i,o)=>n(i,o,r)):fa.y,Vf(1),t?ao(e):ma(()=>new ha))}function cc(n){return(0,or.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const en="primary",ll=Symbol("RouteTitle");class _a{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function zs(n){return new _a(n)}function co(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const c=r[o],h=n[o];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Is(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!uc(n[i],e[i]))return!1;return!0}function uc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function gu(n){return Array.prototype.concat.apply([],n)}function ss(n){return n.length>0?n[n.length-1]:null}function E(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function I(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,mn.D)(Promise.resolve(n)):ot(n)}const R=!1,W={exact:function Ke(n,e,t){if(!Er(n.segments,e.segments)||!Fr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Ke(n.children[r],e.children[r],t))return!1;return!0},subset:vt},ne={exact:function Xe(n,e){return Is(n,e)},subset:function mt(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>uc(n[t],e[t]))},ignored:()=>!0};function me(n,e,t){return W[t.paths](n.root,e.root,t.matrixParams)&&ne[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function vt(n,e,t){return Vt(n,e,e.segments,t)}function Vt(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Er(i,t)||e.hasChildren()||!Fr(i,t,r))}if(n.segments.length===t.length){if(!Er(n.segments,t)||!Fr(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!vt(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Er(n.segments,i)&&Fr(n.segments,i,r)&&n.children[en])&&Vt(n.children[en],e,o,r)}}function Fr(n,e,t){return e.every((r,i)=>ne[t](n[i].parameters,r.parameters))}class In{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zs(this.queryParams)),this._queryParamMap}toString(){return im.serialize(this)}}class wt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,E(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uf(this)}}class os{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=zs(this.parameters)),this._parameterMap}toString(){return sm(this)}}function Er(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let dc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new mu},providedIn:"root"}),n})();class mu{parse(e){const t=new yu(e);return new In(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ya(e.root,!0)}`,r=function Ty(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${cl(t)}=${cl(i)}`).join("&"):`${cl(t)}=${cl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function zd(n){return encodeURI(n)}(e.fragment)}`:""}`}}const im=new mu;function Uf(n){return n.segments.map(e=>sm(e)).join("/")}function ya(n,e){if(!n.hasChildren())return Uf(n);if(e){const t=n.children[en]?ya(n.children[en],!1):"",r=[];return E(n.children,(i,o)=>{o!==en&&r.push(`${o}:${ya(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function $s(n,e){let t=[];return E(n.children,(r,i)=>{i===en&&(t=t.concat(e(r,i)))}),E(n.children,(r,i)=>{i!==en&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===en?[ya(n.children[en],!1)]:[`${i}:${ya(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[en]?`${Uf(n)}/${t[0]}`:`${Uf(n)}/(${t.join("//")})`}}function Hf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cl(n){return Hf(n).replace(/%3B/gi,";")}function hc(n){return Hf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $d(n){return decodeURIComponent(n)}function jf(n){return $d(n.replace(/\+/g,"%20"))}function sm(n){return`${hc(n.path)}${function _u(n){return Object.keys(n).map(e=>`;${hc(e)}=${hc(n[e])}`).join("")}(n.parameters)}`}const om=/^[^\/()?;=#]+/;function fc(n){const e=n.match(om);return e?e[0]:""}const am=/^[^=?&#]+/,x0=/^[^&#]+/;class yu{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[en]=new wt(e,t)),r}parseSegment(){const e=fc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,R);return this.capture(e),new os($d(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=fc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=fc(this.remaining);i&&(r=i,this.capture(r))}e[$d(t)]=$d(r)}parseQueryParam(e){const t=function va(n){const e=n.match(am);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function pc(n){const e=n.match(x0);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=jf(t),o=jf(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,R);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=en);const c=this.parseChildren();t[o]=1===Object.keys(c).length?c[en]:new wt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,R)}}function Gd(n){return n.segments.length>0?new wt([],{[en]:n}):n}function gc(n){const e={};for(const r of Object.keys(n.children)){const o=gc(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function zf(n){if(1===n.numberOfChildren&&n.children[en]){const e=n.children[en];return new wt(n.segments.concat(e.segments),e.children)}return n}(new wt(n.segments,e))}function ul(n){return n instanceof In}function xy(n,e,t,r,i){if(0===t.length)return hl(e.root,e.root,e.root,r,i);const o=function Wd(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Gf(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return E(o.outlets,(_,b)=>{h[b]="string"==typeof _?_.split("/"):_}),[...i,{outlets:h}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===c?(o.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,o]},[]);return new Gf(t,e,r)}(t);return o.toRoot()?hl(e.root,e.root,new wt([],{}),r,i):function c(_){const b=function Vo(n,e,t,r){if(n.isAbsolute)return new fl(e.root,!0,0);if(-1===r)return new fl(t,t===e.root,0);return function bu(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new fl(r,!1,i-o)}(t,r+(mc(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,_),D=b.processChildren?pl(b.segmentGroup,b.index,o.commands):qf(b.segmentGroup,b.index,o.commands);return hl(e.root,b.segmentGroup,D,r,i)}(n.snapshot?._lastPathIndex)}function mc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function dl(n){return"object"==typeof n&&null!=n&&n.outlets}function hl(n,e,t,r,i){let c,o={};r&&E(r,(_,b)=>{o[b]=Array.isArray(_)?_.map(D=>`${D}`):`${_}`}),c=n===e?t:qd(n,e,t);const h=Gd(gc(c));return new In(h,o,i)}function qd(n,e,t){const r={};return E(n.children,(i,o)=>{r[o]=i===e?t:qd(i,e,t)}),new wt(n.segments,r)}class Gf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&mc(r[0]))throw new u.vHH(4003,!1);const i=r.find(dl);if(i&&i!==ss(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function qf(n,e,t){if(n||(n=new wt([],{})),0===n.segments.length&&n.hasChildren())return pl(n,e,t);const r=function Kd(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const c=n.segments[i],h=t[r];if(dl(h))break;const _=`${h}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!Kf(_,b,c))return o;r+=2}else{if(!Kf(_,{},c))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new wt(n.segments.slice(0,r.pathIndex),{});return o.children[en]=new wt(n.segments.slice(r.pathIndex),n.children),pl(o,0,i)}return r.match&&0===i.length?new wt(n.segments,{}):r.match&&!n.hasChildren()?Wf(n,e,t):r.match?pl(n,0,i):Wf(n,e,t)}function pl(n,e,t){if(0===t.length)return new wt(n.segments,{});{const r=function cm(n){return dl(n[0])?n[0].outlets:{[en]:n}}(t),i={};return E(r,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[c]=qf(n.children[c],e,o))}),E(n.children,(o,c)=>{void 0===r[c]&&(i[c]=o)}),new wt(n.segments,i)}}function Wf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(dl(o)){const _=um(o.outlets);return new wt(r,_)}if(0===i&&mc(t[0])){r.push(new os(n.segments[e].path,Zd(t[0]))),i++;continue}const c=dl(o)?o.outlets[en]:`${o}`,h=i<t.length-1?t[i+1]:null;c&&h&&mc(h)?(r.push(new os(c,Zd(h))),i+=2):(r.push(new os(c,{})),i++)}return new wt(r,{})}function um(n){const e={};return E(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Wf(new wt([],{}),0,t))}),e}function Zd(n){const e={};return E(n,(t,r)=>e[r]=`${t}`),e}function Kf(n,e,t){return n==t.path&&Is(e,t.parameters)}class Gs{constructor(e,t){this.id=e,this.url=t}}class Yd extends Gs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ho extends Gs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qs extends Gs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zf extends Gs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qd extends Gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yf extends Gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qf extends Gs{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wu extends Gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class My extends Gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xf{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jf{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ep{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class np{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _c{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xd{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yc{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Jd(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Jd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=dm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return dm(e,this._root).map(t=>t.value)}}function Jd(n,e){if(n===e.value)return e;for(const t of e.children){const r=Jd(n,t);if(r)return r}return null}function dm(n,e){if(n===e.value)return[e];for(const t of e.children){const r=dm(n,t);if(r.length)return r.unshift(e),r}return[]}class Ws{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function fo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class hm extends yc{constructor(e,t){super(e),this.snapshot=t,rh(this,e)}toString(){return this.snapshot.toString()}}function eh(n,e){const t=function th(n,e){const c=new Eu([],{},{},"",{},en,e,null,n.root,-1,{});return new ba("",new Ws(c,[]))}(n,e),r=new er([new os("",{})]),i=new er({}),o=new er({}),c=new er({}),h=new er(""),_=new Kr(r,i,c,h,o,en,e,t.root);return _.snapshot=t.root,new hm(new Ws(_,[]),t)}class Kr{constructor(e,t,r,i,o,c,h,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=h,this.title=this.data?.pipe((0,gt.U)(b=>b[ll]))??ot(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>zs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>zs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nh(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function fm(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Eu{constructor(e,t,r,i,o,c,h,_,b,D,M,F){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=h,this.title=this.data?.[ll],this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=D,this._correctedLastPathIndex=F??D,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ba extends yc{constructor(e,t){super(t),this.url=e,rh(this,t)}toString(){return yi(this._root)}}function rh(n,e){e.value._routerState=n,e.children.forEach(t=>rh(n,t))}function yi(n){const e=n.children.length>0?` { ${n.children.map(yi).join(", ")} } `:"";return`${n.value}${e}`}function Cu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Is(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Is(e.params,t.params)||n.params.next(t.params),function jd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Is(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Is(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Du(n,e){const t=Is(n.params,e.params)&&function uo(n,e){return Er(n,e)&&n.every((t,r)=>Is(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Du(n.parent,e.parent))}function ar(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function po(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ar(n,r,i);return ar(n,r)})}(n,e,t);return new Ws(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>ar(n,h)),c}}const r=function pm(n){return new Kr(new er(n.url),new er(n.params),new er(n.queryParams),new er(n.fragment),new er(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>ar(n,o));return new Ws(r,i)}}const ih="ngNavigationCancelingError";function gm(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ul(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sh(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function sh(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[ih]=!0,r.cancellationCode=e,t&&(r.url=t),r}function mm(n){return _m(n)&&ul(n.url)}function _m(n){return n&&n[ih]}class ym{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Iu,this.attachRef=null}}let Iu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ym,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y=!1;let p=(()=>{class n{constructor(t,r,i,o,c){this.parentContexts=t,this.location=r,this.changeDetector=o,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=i||en,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,y);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,y);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,y);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,y);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,_=new g(t,h,i.injector);if(r&&function w(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(c);this.activated=i.createComponent(b,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Iu),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class g{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Kr?this.route:e===Iu?this.childContexts:this.parent.get(e,t)}}let T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[p],encapsulation:2}),n})();function k(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Su(n){const e=n.children&&n.children.map(Su),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==en&&(t.component=T),t}function Ss(n){return n.outlet||en}function Tu(n,e){const t=n.filter(r=>Ss(r)===e);return t.push(...n.filter(r=>Ss(r)!==e)),t}function vc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class rp{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Cu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=fo(t);e.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,i[c],r),delete i[c]}),E(i,(o,c)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=fo(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=fo(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=fo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new _c(o.value.snapshot))}),e.children.length&&this.forwardEvent(new tp(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Cu(i),i===o)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),Cu(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=vc(i.snapshot),_=h?.get(u._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=h,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class ip{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bc{constructor(e,t){this.component=e,this.route=t}}function wc(n,e,t){const r=n._root;return gl(r,e?e._root:null,t,[r.value])}function wa(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function gl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=fo(e);return n.children.forEach(c=>{(function lr(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const _=function zI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Er(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Er(n.url,e.url)||!Is(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Du(n,e)||!Is(n.queryParams,e.queryParams);default:return!Du(n,e)}}(c,o,o.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new ip(r)):(o.data=c.data,o._resolvedData=c._resolvedData),gl(n,e,o.component?h?h.children:null:t,r,i),_&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new bc(h.outlet.component,c))}else c&&op(e,h,i),i.canActivateChecks.push(new ip(r)),gl(n,null,o.component?h?h.children:null:t,r,i)})(c,o[c.value.outlet],t,r.concat([c.value]),i),delete o[c.value.outlet]}),E(o,(c,h)=>op(c,t.getContext(h),i)),i}function op(n,e,t){const r=fo(n),i=n.value;E(r,(o,c)=>{op(o,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new bc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Au(n){return"function"==typeof n}function xu(n){return n instanceof ha||"EmptyError"===n?.name}const oh=Symbol("INITIAL_VALUE");function Mu(){return tr(n=>js(n.map(e=>e.pipe(Nr(1),si(oh)))).pipe((0,gt.U)(e=>{for(const t of e)if(!0!==t){if(t===oh)return oh;if(!1===t||t instanceof In)return t}return!0}),Yn(e=>e!==oh),Nr(1)))}function Oy(n){return(0,Hd.z)((0,zn.b)(e=>{if(ul(e))throw gm(0,e)}),(0,gt.U)(e=>!0===e))}const ml={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function L0(n,e,t,r,i){const o=ap(n,e,t);return o.matched?function F0(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ot(i.map(c=>{const h=wa(c,n);return I(function KI(n){return n&&Au(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Mu(),Oy()):ot(!0)}(r=k(e,r),e,t).pipe((0,gt.U)(c=>!0===c?o:{...ml})):ot(o)}function ap(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ml}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||co)(t,n,e);if(!i)return{...ml};const o={};E(i.posParams,(h,_)=>{o[_]=h.path});const c=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Ru(n,e,t,r,i="corrected"){if(t.length>0&&function bm(n,e,t){return t.some(r=>lp(n,e,r)&&Ss(r)!==en)}(n,t,r)){const c=new wt(e,function Ny(n,e,t,r){const i={};i[en]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Ss(o)!==en){const c=new wt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Ss(o)]=c}return i}(n,e,r,new wt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function ku(n,e,t){return t.some(r=>lp(n,e,r))}(n,t,r)){const c=new wt(n.segments,function QI(n,e,t,r,i,o){const c={};for(const h of r)if(lp(n,t,h)&&!i[Ss(h)]){const _=new wt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===o?n.segments.length:e.length,c[Ss(h)]=_}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const o=new wt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function lp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function wm(n,e,t,r){return!!(Ss(n)===r||r!==en&&lp(e,t,n))&&("**"===n.path||ap(e,n,t).matched)}function V0(n,e,t){return 0===e.length&&!n.children[t]}const Em=!1;class cp{constructor(e){this.segmentGroup=e||null}}class Pu{constructor(e){this.urlTree=e}}function up(n){return _i(new cp(n))}function B0(n){return _i(new Pu(n))}class eS{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=Ru(this.urlTree.root,[],[],this.config).segmentGroup,t=new wt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,en).pipe((0,gt.U)(o=>this.createUrlTree(gc(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(is(o=>{if(o instanceof Pu)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof cp?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,en).pipe((0,gt.U)(i=>this.createUrlTree(gc(i),e.queryParams,e.fragment))).pipe(is(i=>{throw i instanceof cp?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,Em)}createUrlTree(e,t,r){const i=Gd(e);return new In(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,gt.U)(o=>new wt([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,mn.D)(i).pipe(Pi(o=>{const c=r.children[o],h=Tu(t,o);return this.expandSegmentGroup(e,h,c,o).pipe((0,gt.U)(_=>({segment:_,outlet:o})))}),lo((o,c)=>(o[c.outlet]=c.segment,o),{}),Bf())}expandSegment(e,t,r,i,o,c){return(0,mn.D)(r).pipe(Pi(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,o,c).pipe(is(b=>{if(b instanceof cp)return ot(null);throw b}))),rs(h=>!!h),is((h,_)=>{if(xu(h))return V0(t,i,o)?ot(new wt([],{})):up(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,o,c,h){return wm(i,t,o,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c):up(t):up(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?B0(o):this.lineralizeSegments(r,o).pipe((0,Qn.z)(c=>{const h=new wt(c,{});return this.expandSegment(e,h,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){const{matched:h,consumedSegments:_,remainingSegments:b,positionalParamSegments:D}=ap(t,i,o);if(!h)return up(t);const M=this.applyRedirectCommands(_,i.redirectTo,D);return i.redirectTo.startsWith("/")?B0(M):this.lineralizeSegments(i,M).pipe((0,Qn.z)(F=>this.expandSegment(e,t,r,F.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=k(r,e),r.loadChildren?(r._loadedRoutes?ot({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,gt.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new wt(i,{})))):ot(new wt(i,{}))):L0(t,r,i,e).pipe(tr(({matched:c,consumedSegments:h,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Qn.z)(D=>{const M=D.injector??e,F=D.routes,{segmentGroup:H,slicedSegments:Q}=Ru(t,h,_,F),ae=new wt(H.segments,H.children);if(0===Q.length&&ae.hasChildren())return this.expandChildren(M,F,ae).pipe((0,gt.U)(tt=>new wt(h,tt)));if(0===F.length&&0===Q.length)return ot(new wt(h,{}));const ye=Ss(r)===o;return this.expandSegment(M,ae,F,Q,ye?en:o,!0).pipe((0,gt.U)(st=>new wt(h.concat(st.segments),st.children)))})):up(t)))}getChildConfig(e,t,r){return t.children?ot({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ot({routes:t._loadedRoutes,injector:t._loadedInjector}):function Py(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ot(!0):ot(i.map(c=>{const h=wa(c,n);return I(function $I(n){return n&&Au(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Mu(),Oy())}(e,t,r).pipe((0,Qn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,zn.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function JI(n){return _i(sh(Em,3))}())):ot({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ot(r);if(i.numberOfChildren>1||!i.children[en])return _i(new u.vHH(4e3,Em));i=i.children[en]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new In(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return E(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[o]=t[h]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let c={};return E(t.children,(h,_)=>{c[_]=this.createSegmentGroup(e,h,r,i)}),new wt(o,c)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,Em);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class H0{}class dp{constructor(e,t,r,i,o,c,h,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h,this.urlSerializer=_}recognize(){const e=Ru(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,en).pipe((0,gt.U)(t=>{if(null===t)return null;const r=new Eu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},en,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ws(r,t),o=new ba(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=nh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,mn.D)(Object.keys(r.children)).pipe(Pi(i=>{const o=r.children[i],c=Tu(t,i);return this.processSegmentGroup(e,c,o,i)}),lo((i,o)=>i&&o?(i.push(...o),i):null),function pu(n,e=!1){return(0,or.e)((t,r)=>{let i=0;t.subscribe((0,Nn.x)(r,o=>{const c=n(o,i++);(c||e)&&r.next(o),!c&&r.complete()}))})}(i=>null!==i),ao(null),Bf(),(0,gt.U)(i=>{if(null===i)return null;const o=j0(i);return function nS(n){n.sort((e,t)=>e.value.outlet===en?-1:t.value.outlet===en?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return(0,mn.D)(t).pipe(Pi(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,o)),rs(c=>!!c),is(c=>{if(xu(c))return V0(r,i,o)?ot([]):ot(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!wm(t,r,i,o))return ot(null);let c;if("**"===t.path){const h=i.length>0?ss(i).parameters:{},_=z0(r)+i.length;c=ot({snapshot:new Eu(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G0(t),Ss(t),t.component??t._loadedComponent??null,t,Ly(r),_,Vy(t),_),consumedSegments:[],remainingSegments:[]})}else c=L0(r,t,i,e).pipe((0,gt.U)(({matched:h,consumedSegments:_,remainingSegments:b,parameters:D})=>{if(!h)return null;const M=z0(r)+_.length;return{snapshot:new Eu(_,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G0(t),Ss(t),t.component??t._loadedComponent??null,t,Ly(r),M,Vy(t),M),consumedSegments:_,remainingSegments:b}}));return c.pipe(tr(h=>{if(null===h)return ot(null);const{snapshot:_,consumedSegments:b,remainingSegments:D}=h;e=t._injector??e;const M=t._loadedInjector??e,F=function ah(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:H,slicedSegments:Q}=Ru(r,b,D,F.filter(ye=>void 0===ye.redirectTo),this.relativeLinkResolution);if(0===Q.length&&H.hasChildren())return this.processChildren(M,F,H).pipe((0,gt.U)(ye=>null===ye?null:[new Ws(_,ye)]));if(0===F.length&&0===Q.length)return ot([new Ws(_,[])]);const ae=Ss(t)===o;return this.processSegment(M,F,H,Q,ae?en:o).pipe((0,gt.U)(ye=>null===ye?null:[new Ws(_,ye)]))}))}}function hp(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function j0(n){const e=[],t=new Set;for(const r of n){if(!hp(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=j0(r.children);e.push(new Ws(r.value,i))}return e.filter(r=>!t.has(r))}function Ly(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function z0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function G0(n){return n.data||{}}function Vy(n){return n.resolve||{}}function W0(n){return"string"==typeof n.title||null===n.title}function jy(n){return tr(e=>{const t=n(e);return t?(0,mn.D)(t).pipe((0,gt.U)(()=>e)):ot(e)})}let K0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===en);return r}getResolvedTitleForRoute(t){return t.data[ll]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Z0)},providedIn:"root"}),n})(),Z0=(()=>{class n extends K0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Rf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class iS{}class lh extends class sS{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Dm=new u.OlP("",{providedIn:"root",factory:()=>({})}),Q0=new u.OlP("ROUTES");let X0=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ot(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=I(t.loadComponent()).pipe((0,zn.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),cc(()=>{this.componentLoaders.delete(t)})),i=new Ff(r,()=>new ut.x).pipe(ac());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ot({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,gt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,b,D=!1;Array.isArray(h)?b=h:(_=h.create(t).injector,b=gu(_.get(Q0,[],u.XFs.Self|u.XFs.Optional)));return{routes:b.map(Su),injector:_}}),cc(()=>{this.childrenLoaders.delete(r)})),c=new Ff(o,()=>new ut.x).pipe(ac());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return I(t()).pipe((0,Qn.z)(r=>r instanceof u.YKP||Array.isArray(r)?ot(r):(0,mn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class J0{}class bP{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function wP(n){throw n}function ew(n,e,t){return e.parse("/")}const oS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function nw(){const n=(0,u.f3M)(dc),e=(0,u.f3M)(Iu),t=(0,u.f3M)(Le),r=(0,u.f3M)(u.zs3),i=(0,u.f3M)(u.Sil),o=(0,u.f3M)(Q0,{optional:!0})??[],c=(0,u.f3M)(Dm,{optional:!0})??{},h=(0,u.f3M)(Z0),_=(0,u.f3M)(K0,{optional:!0}),b=(0,u.f3M)(J0,{optional:!0}),D=(0,u.f3M)(iS,{optional:!0}),M=new kn(null,n,e,t,r,i,gu(o));return b&&(M.urlHandlingStrategy=b),D&&(M.routeReuseStrategy=D),M.titleStrategy=_??h,function aS(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,M),M}let kn=(()=>{class n{constructor(t,r,i,o,c,h,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ut.x,this.errorHandler=wP,this.malformedUriErrorHandler=ew,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ot(void 0),this.urlHandlingStrategy=new bP,this.routeReuseStrategy=new lh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(X0),this.configLoader.onLoadEndListener=F=>this.triggerEvent(new Jf(F)),this.configLoader.onLoadStartListener=F=>this.triggerEvent(new Xf(F)),this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const M=c.get(u.R0b);this.isNgZoneEnabled=M instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function L(){return new In(new wt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=eh(this.currentUrlTree,this.rootComponentType),this.transitions=new er({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Yn(i=>0!==i.id),(0,gt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),tr(i=>{let o=!1,c=!1;return ot(i).pipe((0,zn.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),tr(h=>{const _=this.browserUrlTree.toString(),b=!this.navigated||h.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return zy(h.source)&&(this.browserUrlTree=h.extractedUrl),ot(h).pipe(tr(M=>{const F=this.transitions.getValue();return r.next(new Yd(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?ki.E:Promise.resolve(M)}),function U0(n,e,t,r){return tr(i=>function Fy(n,e,t,r,i){return new eS(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,gt.U)(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,zn.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},i.urlAfterRedirects=M.urlAfterRedirects}),function q0(n,e,t,r,i,o){return(0,Qn.z)(c=>function tS(n,e,t,r,i,o,c="emptyOnly",h="legacy"){return new dp(n,e,t,r,i,c,h,o).recognize().pipe(tr(_=>null===_?function _P(n){return new wr.y(e=>e.error(n))}(new H0):ot(_)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,o).pipe((0,gt.U)(h=>({...c,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,zn.b)(M=>{if(i.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(H,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new Qd(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(F)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:H,source:Q,restoredState:ae,extras:ye}=h,We=new Yd(F,this.serializeUrl(H),Q,ae);r.next(We);const st=eh(H,this.rootComponentType).snapshot;return ot(i={...h,targetSnapshot:st,urlAfterRedirects:H,extras:{...ye,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),ki.E}),(0,zn.b)(h=>{const _=new Yf(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),(0,gt.U)(h=>i={...h,guards:wc(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function k0(n,e){return(0,Qn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:c}}=t;return 0===c.length&&0===o.length?ot({...t,guardsResult:!0}):function P0(n,e,t,r){return(0,mn.D)(n).pipe((0,Qn.z)(i=>function YI(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ot(o.map(h=>{const _=vc(e)??i,b=wa(h,_);return I(function WI(n){return n&&Au(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):_.runInContext(()=>b(n,e,t,r))).pipe(rs())})).pipe(Mu()):ot(!0)}(i.component,i.route,t,e,r)),rs(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Qn.z)(h=>h&&function R0(n){return"boolean"==typeof n}(h)?function ZI(n,e,t,r){return(0,mn.D)(e).pipe(Pi(i=>Es(function N0(n,e){return null!==n&&e&&e(new ep(n)),ot(!0)}(i.route.parent,r),function O0(n,e){return null!==n&&e&&e(new np(n)),ot(!0)}(i.route,r),function mP(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(c=>function sp(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>ga(()=>ot(c.guards.map(_=>{const b=vc(c.node)??t,D=wa(_,b);return I(function qI(n){return n&&Au(n.canActivateChild)}(D)?D.canActivateChild(r,n):b.runInContext(()=>D(r,n))).pipe(rs())})).pipe(Mu())));return ot(o).pipe(Mu())}(n,i.path,t),function ky(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ot(!0);const i=r.map(o=>ga(()=>{const c=vc(e)??t,h=wa(o,c);return I(function GI(n){return n&&Au(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(rs())}));return ot(i).pipe(Mu())}(n,i.route,t))),rs(i=>!0!==i,!0))}(r,o,n,e):ot(h)),(0,gt.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,zn.b)(h=>{if(i.guardsResult=h.guardsResult,ul(h.guardsResult))throw gm(0,h.guardsResult);const _=new Qf(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(_)}),Yn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),jy(h=>{if(h.guards.canActivateChecks.length)return ot(h).pipe((0,zn.b)(_=>{const b=new wu(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),tr(_=>{let b=!1;return ot(_).pipe(function By(n,e){return(0,Qn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ot(t);let o=0;return(0,mn.D)(i).pipe(Pi(c=>function Uy(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!W0(i)&&(o[ll]=i.title),function rS(n,e,t,r){const i=function Hy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ot({});const o={};return(0,mn.D)(i).pipe((0,Qn.z)(c=>function fp(n,e,t,r){const i=vc(e)??r,o=wa(n,i);return I(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[c],e,t,r).pipe(rs(),(0,zn.b)(h=>{o[c]=h}))),Vf(1),function Lo(n){return(0,gt.U)(()=>n)}(o),is(c=>xu(c)?ki.E:_i(c)))}(o,n,e,r).pipe((0,gt.U)(c=>(n._resolvedData=c,n.data=nh(n,t).resolve,i&&W0(i)&&(n.data[ll]=i.title),null)))}(c.route,r,n,e)),(0,zn.b)(()=>o++),Vf(1),(0,Qn.z)(c=>o===i.length?ot(t):ki.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,zn.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,zn.b)(_=>{const b=new My(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),jy(h=>{const _=b=>{const D=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,zn.b)(M=>{b.component=M}),(0,gt.U)(()=>{})));for(const M of b.children)D.push(..._(M));return D};return js(_(h.targetSnapshot.root)).pipe(ao(),Nr(1))}),jy(()=>this.afterPreactivation()),(0,gt.U)(h=>{const _=function Ry(n,e,t){const r=ar(n,e._root,t?t._root:void 0);return new hm(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:_}}),(0,zn.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,gt.U)(r=>(new rp(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,zn.b)({next(){o=!0},complete(){o=!0}}),cc(()=>{o||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),is(h=>{if(c=!0,_m(h)){mm(h)||(this.navigated=!0,this.restoreHistory(i,!0));const _=new qs(i.id,this.serializeUrl(i.extractedUrl),h.message,h.cancellationCode);if(r.next(_),mm(h)){const b=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),D={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zy(i.source)};this.scheduleNavigation(b,"imperative",null,D,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new Zf(i.id,this.serializeUrl(i.extractedUrl),h,i.targetSnapshot??void 0);r.next(_);try{i.resolve(this.errorHandler(h))}catch(b){i.reject(b)}}return ki.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(o){const h={...o};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Su),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:c,queryParamsHandling:h,preserveFragment:_}=r,b=i||this.routerState.root,D=_?this.currentUrlTree.fragment:c;let M=null;switch(h){case"merge":M={...this.currentUrlTree.queryParams,...o};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=o||null}return null!==M&&(M=this.removeEmptyProps(M)),xy(b,this.currentUrlTree,t,M,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ul(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function lS(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...oS}:!1===r?{...tw}:r,ul(t))return me(this.currentUrlTree,t,i);const o=this.parseUrl(t);return me(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ho(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,c){if(this.disposed)return Promise.resolve(!1);let h,_,b;c?(h=c.resolve,_=c.reject,b=c.promise):b=new Promise((F,H)=>{h=F,_=H});const D=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),M=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:D,targetPageId:M,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:h,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(F=>Promise.reject(F))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const o=new qs(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return nw()},providedIn:"root"}),n})();function zy(n){return"imperative"!==n}class qy{}let dS=(()=>{class n{constructor(t,r,i,o,c){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Yn(t=>t instanceof ho),Pi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=(0,u.MMx)(o.providers,t,`Route: ${o.path}`));const c=o._injector??t,h=o._loadedInjector??c;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(c,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,mn.D)(i).pipe((0,pa.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ot(null);const o=i.pipe((0,Qn.z)(c=>null===c?ot(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,mn.D)([o,c]).pipe((0,pa.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(kn),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(qy),u.LFG(X0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gt=new u.OlP("");let Wy=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ho&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Xd&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Xd(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function ch(n,e){return{\u0275kind:n,\u0275providers:e}}function Im(n){return[{provide:Q0,multi:!0,useValue:n}]}function Ky(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(kn),i=n.get(iw);1===n.get(Zy)&&r.initialNavigation(),n.get(Ec,null,u.XFs.Optional)?.setUpPreloading(),n.get(Gt,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const iw=new u.OlP("",{factory:()=>new ut.x}),Zy=new u.OlP("",{providedIn:"root",factory:()=>1});const Ec=new u.OlP("");function fS(n){return ch(0,[{provide:Ec,useExisting:dS},{provide:qy,useExisting:n}])}const pS=new u.OlP("ROUTER_FORROOT_GUARD"),TP=[Le,{provide:dc,useClass:mu},{provide:kn,useFactory:nw},Iu,{provide:Kr,useFactory:function rw(n){return n.routerState.root},deps:[kn]},X0];function AP(){return new u.PXZ("Router",kn)}let mp=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[TP,[],Im(t),{provide:pS,useFactory:dh,deps:[[kn,new u.FiY,new u.tp0]]},{provide:Dm,useValue:r||{}},r?.useHash?{provide:Ee,useClass:xt}:{provide:Ee,useClass:Ct},{provide:Gt,useFactory:()=>{const n=(0,u.f3M)(kn),e=(0,u.f3M)(Ns),t=(0,u.f3M)(Dm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Wy(n,e,t)}},r?.preloadingStrategy?fS(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:AP},r?.initialNavigation?mS(r):[],[{provide:Yy,useFactory:Ky},{provide:u.tb,multi:!0,useExisting:Yy}]]}}static forChild(t){return{ngModule:n,providers:[Im(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pS,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[T]}),n})();function dh(n){return"guarded"}function mS(n){return["disabled"===n.initialNavigation?ch(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(kn);return()=>{e.setUpLocationChangeListener()}}},{provide:Zy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ch(2,[{provide:Zy,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get($,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(o=>{const c=e.get(kn),h=e.get(iw);(function i(o){e.get(kn).events.pipe(Yn(h=>h instanceof ho||h instanceof qs||h instanceof Zf),(0,gt.U)(h=>h instanceof ho||h instanceof qs&&(0===h.code||1===h.code)&&null),Yn(h=>null!==h),Nr(1)).subscribe(()=>{o()})})(()=>{o(!0),r=!0}),c.afterPreactivation=()=>(o(!0),r||h.closed?ot(void 0):h),c.initialNavigation()}))}}]).\u0275providers:[]]}const Yy=new u.OlP("");function Qy(...n){const e=(0,ns.jO)(n),{args:t,keys:r}=sc(n),i=new wr.y(o=>{const{length:c}=t;if(!c)return void o.complete();const h=new Array(c);let _=c,b=c;for(let D=0;D<c;D++){let M=!1;(0,Cs.Xf)(t[D]).subscribe((0,Nn.x)(o,F=>{M||(M=!0,b--),h[D]=F},()=>_--,void 0,()=>{(!_||!M)&&(b||o.next(r?oc(r,h):h),o.complete())}))}});return e?i.pipe(al(e)):i}let cw=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Ou=(()=>{class n extends cw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ea=new u.OlP("NgValueAccessor"),_S={provide:Ea,useExisting:(0,u.Gpc)(()=>Xy),multi:!0};let Xy=(()=>{class n extends Ou{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[u._Bn([_S]),u.qOj]}),n})();const uw={provide:Ea,useExisting:(0,u.Gpc)(()=>hh),multi:!0},dw=new u.OlP("CompositionEventMode");let hh=(()=>{class n extends cw{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yS(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(dw,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[u._Bn([uw]),u.qOj]}),n})();function Nu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Tm(n){return null!=n&&"number"==typeof n.length}const Oi=new u.OlP("NgValidators"),Fu=new u.OlP("NgAsyncValidators"),fh=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vi{static min(e){return function ev(n){return e=>{if(Nu(e.value)||Nu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function _p(n){return e=>{if(Nu(e.value)||Nu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return go(e)}static requiredTrue(e){return function tv(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function hw(n){return Nu(n.value)||fh.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Am(n){return e=>Nu(e.value)||!Tm(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return Ca(e)}static pattern(e){return xm(e)}static nullValidator(e){return null}static compose(e){return km(e)}static composeAsync(e){return Pm(e)}}function go(n){return Nu(n.value)?{required:!0}:null}function Ca(n){return e=>Tm(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function xm(n){if(!n)return yp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Nu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function yp(n){return null}function Mm(n){return null!=n}function vS(n){return(0,u.QGY)(n)?(0,mn.D)(n):n}function nv(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function bS(n,e){return e.map(t=>t(n))}function vp(n){return n.map(e=>function Rm(n){return!n.validate}(e)?e:t=>e.validate(t))}function km(n){if(!n)return null;const e=n.filter(Mm);return 0==e.length?null:function(t){return nv(bS(t,e))}}function bp(n){return null!=n?km(vp(n)):null}function Pm(n){if(!n)return null;const e=n.filter(Mm);return 0==e.length?null:function(t){return Qy(bS(t,e).map(vS)).pipe((0,gt.U)(nv))}}function fw(n){return null!=n?Pm(vp(n)):null}function pw(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function gw(n){return n._rawValidators}function mw(n){return n._rawAsyncValidators}function rv(n){return n?Array.isArray(n)?n:[n]:[]}function wp(n,e){return Array.isArray(n)?n.includes(e):n===e}function wS(n,e){const t=rv(e);return rv(n).forEach(i=>{wp(t,i)||t.push(i)}),t}function _w(n,e){return rv(e).filter(t=>!wp(n,t))}class ES{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ni extends ES{get formDirective(){return null}get path(){return null}}class Da extends ES{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yw{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let bw=(()=>{class n extends yw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Da,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),ww=(()=>{class n extends yw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ni,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();const Ep="VALID",Cp="INVALID",ph="PENDING",Dp="DISABLED";function gh(n){return(mh(n)?n.validators:n)||null}function Vu(n){return Array.isArray(n)?bp(n):n||null}function Ip(n,e){return(mh(e)?e.asyncValidators:n)||null}function Bu(n){return Array.isArray(n)?fw(n):n||null}function mh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Sp(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[t])throw new u.vHH(1001,"")}function ov(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,"")})}class Tp{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Vu(this._rawValidators),this._composedAsyncValidatorFn=Bu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ep}get invalid(){return this.status===Cp}get pending(){return this.status==ph}get disabled(){return this.status===Dp}get enabled(){return this.status!==Dp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Vu(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Bu(e)}addValidators(e){this.setValidators(wS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_w(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_w(e,this._rawAsyncValidators))}hasValidator(e){return wp(this._rawValidators,e)}hasAsyncValidator(e){return wp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ph,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Dp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ep,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ep||this.status===ph)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dp:Ep}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ph,this._hasOwnPendingAsyncValidator=!0;const t=vS(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Dp:this.errors?Cp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ph)?ph:this._anyControlsHaveStatus(Cp)?Cp:Ep}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Uu extends Tp{constructor(e,t,r){super(gh(t),Ip(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ov(this,0,e),Object.keys(e).forEach(r=>{Sp(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Nm extends Uu{}function Ap(n,e){Lm(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Ks(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Rw(n,e)})}(n,e),function NP(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Mw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Rw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function xw(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function xp(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Vm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Fm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Lm(n,e){const t=gw(n);null!==e.validator?n.setValidators(pw(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=mw(n);null!==e.asyncValidator?n.setAsyncValidators(pw(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Fm(e._rawValidators,i),Fm(e._rawAsyncValidators,i)}function Vm(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=gw(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=mw(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return Fm(e._rawValidators,r),Fm(e._rawAsyncValidators,r),t}function Rw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function kw(n,e){Lm(n,e)}function cv(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const Ow={provide:Ni,useExisting:(0,u.Gpc)(()=>Zs)},Mp=(()=>Promise.resolve())();let Zs=(()=>{class n extends Ni{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Uu({},bp(t),fw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Mp.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ap(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Mp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Mp.then(()=>{const r=this._findContainer(t.path),i=new Uu({});kw(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Mp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Mp.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,cv(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Oi,10),u.Y36(Fu,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Ow]),u.qOj]}),n})();function Um(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Nw(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Rp=class extends Tp{constructor(e=null,t,r){super(gh(t),Ip(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Nw(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Um(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Um(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Nw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Op=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),fv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Hu=new u.OlP("NgModelWithFormControlWarning"),Uw={provide:Ni,useExisting:(0,u.Gpc)(()=>_h)};let _h=(()=>{class n extends Ni{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ap(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){xp(t.control||null,t,!1),function xS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,cv(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(xp(r||null,t),(n=>n instanceof Rp)(i)&&(Ap(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);kw(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function lv(n,e){return Vm(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lm(this.form,this),this._oldForm&&Vm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Oi,10),u.Y36(Fu,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Uw]),u.qOj,u.TTD]}),n})();const HP={provide:Da,useExisting:(0,u.Gpc)(()=>zm)};let zm=(()=>{class n extends Da{constructor(t,r,i,o,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function uv(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===hh?t=o:function AS(n){return Object.getPrototypeOf(n.constructor)===Ou}(o)?r=o:i=o}),i||r||t||null}(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Bm(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function av(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(Ni,13),u.Y36(Oi,10),u.Y36(Fu,10),u.Y36(Ea,10),u.Y36(Hu,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([HP]),u.qOj,u.TTD]}),n})();let Ys=(()=>{class n{constructor(){this._validator=yp}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):yp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const _v={provide:Oi,useExisting:(0,u.Gpc)(()=>Qs),multi:!0};let Qs=(()=>{class n extends Ys{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=t=>go}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([_v]),u.qOj]}),n})();const yv={provide:Oi,useExisting:(0,u.Gpc)(()=>yl),multi:!0};let yl=(()=>{class n extends Ys{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function qw(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>Ca(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[u._Bn([yv]),u.qOj]}),n})();const bh={provide:Oi,useExisting:(0,u.Gpc)(()=>Ic),multi:!0};let Ic=(()=>{class n extends Ys{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>xm(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[u._Bn([bh]),u.qOj]}),n})(),zu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[fv]}),n})(),$u=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[zu]}),n})(),vl=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Hu,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[zu]}),n})();class vv extends Tp{constructor(e,t,r){super(gh(t),Ip(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ov(this,0,e),e.forEach((r,i)=>{Sp(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function bv(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let wv=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return bv(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Uu(i,o)}record(t,r=null){const i=this._reduceControls(t);return new Nm(i,r)}control(t,r,i){let o={};return this.useNonNullable?(bv(r)?o=r:(o.validators=r,o.asyncValidators=i),new Rp(t,{...o,nonNullable:!0})):new Rp(t,r,i)}array(t,r,i){const o=t.map(c=>this._createControl(c));return new vv(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Rp||t instanceof Tp?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:vl}),n})();var Kw=N(1520);function Ts(n){return null!=n&&"false"!=`${n}`}function wh(n,e=0){return function Zw(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Hp(n){return Array.isArray(n)?n:[n]}function Dr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function nr(n){return n instanceof u.SBq?n.nativeElement:n}var KS=N(1144);const Gm=["addListener","removeListener"],qm=["addEventListener","removeEventListener"],Ev=["on","off"];function Wm(n,e,t,r){if((0,Ds.m)(t)&&(r=t,t=void 0),r)return Wm(n,e,t).pipe(al(r));const[i,o]=function Xw(n){return(0,Ds.m)(n.addEventListener)&&(0,Ds.m)(n.removeEventListener)}(n)?qm.map(c=>h=>n[c](e,h,t)):function Km(n){return(0,Ds.m)(n.addListener)&&(0,Ds.m)(n.removeListener)}(n)?Gm.map(jp(n,e)):function Qw(n){return(0,Ds.m)(n.on)&&(0,Ds.m)(n.off)}(n)?Ev.map(jp(n,e)):[];if(!i&&(0,KS.z)(n))return(0,Qn.z)(c=>Wm(c,e,t))((0,Cs.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new wr.y(c=>{const h=(..._)=>c.next(1<_.length?_:_[0]);return i(h),()=>o(h)})}function jp(n,e){return t=>r=>n[t](e,r)}var Zm=N(4408);const Eh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Eh;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new Or.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Eh;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Eh;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Ym=N(7565);const eE=new class Cv extends Ym.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Jw extends Zm.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Eh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(Eh.cancelAnimationFrame(t),e._scheduled=void 0)}});let Qm,tE=1;const zp={};function nE(n){return n in zp&&(delete zp[n],!0)}const rE={setImmediate(n){const e=tE++;return zp[e]=!0,Qm||(Qm=Promise.resolve()),Qm.then(()=>nE(e)&&n()),e},clearImmediate(n){nE(n)}},{setImmediate:iE,clearImmediate:Xm}=rE,$p={setImmediate(...n){const{delegate:e}=$p;return(e?.setImmediate||iE)(...n)},clearImmediate(n){const{delegate:e}=$p;return(e?.clearImmediate||Xm)(n)},delegate:void 0};new class oE extends Ym.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class sE extends Zm.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=$p.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&($p.clearImmediate(t),e._scheduled=void 0)}});var Ch=N(4986),cE=N(3532);function uE(n=0,e,t=Ch.P){let r=-1;return null!=e&&((0,cE.K)(e)?t=e:r=e),new wr.y(i=>{let o=function $P(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function dE(n,e=Ch.z){return function lE(n){return(0,or.e)((e,t)=>{let r=!1,i=null,o=null,c=!1;const h=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const b=i;i=null,t.next(b)}c&&t.complete()},_=()=>{o=null,c&&t.complete()};e.subscribe((0,Nn.x)(t,b=>{r=!0,i=b,o||(0,Cs.Xf)(n(b)).subscribe(o=(0,Nn.x)(t,h,_))},()=>{c=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>uE(n,e))}let Jm;try{Jm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Jm=!1}let Gu,Li=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function _f(n){return n===Rl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Jm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hE=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function fE(){if(Gu)return Gu;if("object"!=typeof document||!document)return Gu=new Set(hE),Gu;let n=document.createElement("input");return Gu=new Set(hE.filter(e=>(n.setAttribute("type",e),n.type===e))),Gu}let Dh,mo,e_;function Sc(n){return function XS(){if(null==Dh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Dh=!0}))}finally{Dh=Dh||!1}return Dh}()?n:!!n.capture}function JS(){if(null==mo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return mo=!1,mo;if("scrollBehavior"in document.documentElement.style)mo=!0;else{const n=Element.prototype.scrollTo;mo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return mo}function qp(n){if(function eT(){if(null==e_){const n=typeof document<"u"?document.head:null;e_=!(!n||!n.createShadowRoot&&!n.attachShadow)}return e_}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function pE(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Js(n){return n.composedPath?n.composedPath()[0]:n.target}function Wp(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Sa=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function tT(){return(0,u.f3M)(ee)}}),nT=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Vi=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function Ta(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?nT.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Sa,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ih=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),mE=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new ut.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new wr.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(dE(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ot()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Yn(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=nr(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Wm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Li),u.LFG(ee,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zp=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new ut.x,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(dE(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Li),u.LFG(u.R0b),u.LFG(ee,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Qp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ih,Yp],Ih,Yp]}),n})();class t_{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Sh extends t_{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class Iv extends t_{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class gT extends t_{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class n_{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Sh?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Iv?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof gT?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class mT extends n_{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const h=c.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let r_=(()=>{class n extends n_{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=o=>{const c=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=r.createComponent(o,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(ee))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),Sv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var Xp=N(6451),_T=N(5032);function Bo(n){return(0,or.e)((e,t)=>{(0,Cs.Xf)(n).subscribe((0,Nn.x)(t,()=>t.complete(),_T.Z)),!t.closed&&e.subscribe(t)})}const _E=JS();class yT{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Dr(-this._previousScrollPosition.left),e.style.top=Dr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),_E&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),_E&&(r.scrollBehavior=o,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class yE{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Tv{enable(){}disable(){}attach(){}}function i_(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Av(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class vE{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();i_(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let bE=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Tv,this.close=c=>new yE(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new yT(this._viewportRuler,this._document),this.reposition=c=>new vE(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mE),u.LFG(Zp),u.LFG(u.R0b),u.LFG(ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class s_{constructor(e){if(this.scrollStrategy=new Tv,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class xv{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let EE=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wT=(()=>{class n extends EE{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){const h=o[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(i)):h.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ee),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ah=(()=>{class n extends EE{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Js(o)},this._clickListener=o=>{const c=Js(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const D=_[b];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(c)||D.overlayElement.contains(h))break;const M=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(o)):M.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ee),u.LFG(Li),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CE=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Wp()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),Wp()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ee),u.LFG(Li))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Mv{constructor(e,t,r,i,o,c,h,_,b){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=c,this._document=h,this._location=_,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new ut.x,this._attachments=new ut.x,this._detachments=new ut.x,this._locationChanges=Or.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new ut.x,this._outsidePointerEvents=new ut.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Nr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Dr(this._config.width),e.height=Dr(this._config.height),e.minWidth=Dr(this._config.minWidth),e.minHeight=Dr(this._config.minHeight),e.maxWidth=Dr(this._config.maxWidth),e.maxHeight=Dr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=Hp(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Bo((0,Xp.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const ET="cdk-overlay-connected-position-bounding-box",DE=/([A-Za-z%]+)$/;class IE{constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ut.x,this._resizeSubscription=Or.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(ET),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let c;for(let h of this._preferredPositions){let _=this._getOriginPoint(e,i,h),b=this._getOverlayPoint(_,t,h),D=this._getOverlayFit(b,t,r,h);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(D,b,r)?o.push({position:h,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!c||c.overlayFit.visibleArea<D.visibleArea)&&(c={overlayFit:D,overlayPoint:b,originPoint:_,position:h,overlayRect:t})}if(o.length){let h=null,_=-1;for(const b of o){const D=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);D>_&&(_=D,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&xh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ET),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;i="start"==r.originX?c:h}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=SE(t);let{x:c,y:h}=e,_=this._getOffset(i,"x"),b=this._getOffset(i,"y");_&&(c+=_),b&&(h+=b);let F=0-h,H=h+o.height-r.height,Q=this._subtractOverflows(o.width,0-c,c+o.width-r.width),ae=this._subtractOverflows(o.height,F,H),ye=Q*ae;return{visibleArea:ye,isCompletelyWithinViewport:o.width*o.height===ye,fitsInViewportVertically:ae===o.height,fitsInViewportHorizontally:Q==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,c=Ft(this._overlayRef.getConfig().minHeight),h=Ft(this._overlayRef.getConfig().minWidth),b=e.fitsInViewportHorizontally||null!=h&&h<=o;return(e.fitsInViewportVertically||null!=c&&c<=i)&&b}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=SE(t),o=this._viewportRect,c=Math.max(e.x+i.width-o.width,0),h=Math.max(e.y+i.height-o.height,0),_=Math.max(o.top-r.top-e.y,0),b=Math.max(o.left-r.left-e.x,0);let D=0,M=0;return D=i.width<=o.width?b||-c:e.x<this._viewportMargin?o.left-r.left-e.x:0,M=i.height<=o.height?_||-h:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:D,y:M},{x:e.x+D,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new xv(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,c,h,D,M,F;if("top"===t.overlayY)c=e.y,o=r.height-c+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,o=r.height-h+this._viewportMargin;else{const H=Math.min(r.bottom-e.y+r.top,e.y),Q=this._lastBoundingBoxSize.height;o=2*H,c=e.y-H,o>Q&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-Q/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)F=r.width-e.x+this._viewportMargin,D=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)M=e.x,D=r.right-e.x;else{const H=Math.min(r.right-e.x+r.left,e.x),Q=this._lastBoundingBoxSize.width;D=2*H,M=e.x-H,D>Q&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-Q/2)}return{top:c,left:M,bottom:h,right:F,width:D,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=Dr(r.height),i.top=Dr(r.top),i.bottom=Dr(r.bottom),i.width=Dr(r.width),i.left=Dr(r.left),i.right=Dr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Dr(o)),c&&(i.maxWidth=Dr(c))}this._lastBoundingBoxSize=r,xh(this._boundingBox.style,i)}_resetBoundingBoxStyles(){xh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){xh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const D=this._viewportRuler.getViewportScrollPosition();xh(r,this._getExactOverlayY(t,e,D)),xh(r,this._getExactOverlayX(t,e,D))}else r.position="static";let h="",_=this._getOffset(t,"x"),b=this._getOffset(t,"y");_&&(h+=`translateX(${_}px) `),b&&(h+=`translateY(${b}px)`),r.transform=h.trim(),c.maxHeight&&(i?r.maxHeight=Dr(c.maxHeight):o&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=Dr(c.maxWidth):o&&(r.maxWidth="")),xh(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Dr(o.y),i}_getExactOverlayX(e,t,r){let c,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Dr(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Av(e,r),isOriginOutsideView:i_(e,r),isOverlayClipped:Av(t,r),isOverlayOutsideView:i_(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Hp(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function xh(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Ft(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(DE);return t&&"px"!==t?null:parseFloat(e)}return n||null}function SE(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const TE="cdk-global-overlay-wrapper";class CT{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(TE),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:c,maxHeight:h}=r,_=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),b=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(TE),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Mh=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new CT}flexibleConnectedTo(t){return new IE(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Zp),u.LFG(ee),u.LFG(Li),u.LFG(CE))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DT=0,bl=(()=>{class n{constructor(t,r,i,o,c,h,_,b,D,M,F){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=h,this._ngZone=_,this._document=b,this._directionality=D,this._location=M,this._outsideClickDispatcher=F}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),c=new s_(t);return c.direction=c.direction||this._directionality.value,new Mv(o,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+DT++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new mT(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bE),u.LFG(CE),u.LFG(u._Vd),u.LFG(Mh),u.LFG(wT),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(ee),u.LFG(Vi),u.LFG(Le),u.LFG(Ah))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ST={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[bl],useFactory:function AE(n){return()=>n.scrollStrategies.reposition()}};let kv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[bl,ST],imports:[[Ih,Sv,Qp],Qp]}),n})();function BE(n){return Yn((e,t)=>n<=t)}function UE(n,e=fa.y){return n=n??hA,(0,or.e)((t,r)=>{let i,o=!0;t.subscribe((0,Nn.x)(r,c=>{const h=e(c);(o||!n(i,h))&&(o=!1,i=h,r.next(c))}))})}function hA(n,e){return n===e}let $E=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function _A(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function tg(n){try{return n.frameElement}catch{return null}}(function h_(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===qE(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=qE(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function vA(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function d_(n){return!function xa(n){return function Lv(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Fv(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function yA(n){return function ng(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||GE(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Li))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GE(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function qE(n){if(!GE(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class bA{constructor(e,t,r,i,o=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Nr(1)).subscribe(e)}}let wA=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new bA(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($E),u.LFG(u.R0b),u.LFG(ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KE(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function rg(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Vv=new u.OlP("cdk-input-modality-detector-options"),ZE={ignoreKeys:[18,17,224,91,16]},Tc=Sc({passive:!0,capture:!0});let IA=(()=>{class n{constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new er(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(h=>h===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Js(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(KE(c)?"keyboard":"mouse"),this._mostRecentTarget=Js(c))},this._onTouchstart=c=>{rg(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Js(c))},this._options={...ZE,...o},this.modalityDetected=this._modality.pipe(BE(1)),this.modalityChanged=this.modalityDetected.pipe(UE()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Tc),i.addEventListener("mousedown",this._onMousedown,Tc),i.addEventListener("touchstart",this._onTouchstart,Tc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Tc),document.removeEventListener("mousedown",this._onMousedown,Tc),document.removeEventListener("touchstart",this._onTouchstart,Tc))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Li),u.LFG(u.R0b),u.LFG(ee),u.LFG(Vv,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SA=new u.OlP("liveAnnouncerElement",{providedIn:"root",factory:function TA(){return null}}),AA=new u.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Bv=(()=>{class n{constructor(t,r,i,o){this._ngZone=r,this._defaultOptions=o,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let o,c;return 1===r.length&&"number"==typeof r[0]?c=r[0]:[o,c]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),null==c&&i&&(c=i.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(SA,8),u.LFG(u.R0b),u.LFG(ee),u.LFG(AA,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QE=new u.OlP("cdk-focus-monitor-default-options"),ig=Sc({passive:!0,capture:!0});let Uv=(()=>{class n{constructor(t,r,i,o,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ut.x,this._rootNodeFocusAndBlurListener=h=>{const _=Js(h),b="focus"===h.type?this._onFocus:this._onBlur;for(let D=_;D;D=D.parentElement)b.call(this,h,D)},this._document=o,this._detectionMode=c?.detectionMode||0}monitor(t,r=!1){const i=nr(t);if(!this._platform.isBrowser||1!==i.nodeType)return ot(null);const o=qp(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const h={checkChildren:r,subject:new ut.x,rootNode:o};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const r=nr(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=nr(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,_])=>this._originChanged(h,r,_)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Js(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,ig),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,ig)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Bo(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ig),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ig),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Li),u.LFG(IA),u.LFG(ee,8),u.LFG(QE,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XE="cdk-high-contrast-black-on-white",Hv="cdk-high-contrast-white-on-black",p_="cdk-high-contrast-active";let MA=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(p_),t.remove(XE),t.remove(Hv),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(p_),t.add(XE)):2===r&&(t.add(p_),t.add(Hv))}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Li),u.LFG(ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NA=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function og(){return!0}});let Zr=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Wp()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(MA),u.LFG(NA,8),u.LFG(ee))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ih],Ih]}),n})();function LA(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ts(e)}}}function g_(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function jv(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ts(e)}}}function eC(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new ut.x,this.errorState=!1}updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}}}let jA=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rC{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const iC={enterDuration:225,exitDuration:150},m_=Sc({passive:!0}),oC=["mousedown","touchstart"],aC=["mouseup","mouseleave","touchend","touchcancel"];class lC{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=nr(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...iC,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function cC(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),h=e-i.left,_=t-i.top,b=o.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=h-c+"px",D.style.top=_-c+"px",D.style.height=2*c+"px",D.style.width=2*c+"px",null!=r.color&&(D.style.backgroundColor=r.color),D.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(D),function $A(n){window.getComputedStyle(n).getPropertyValue("opacity")}(D),D.style.transform="scale(1)";const M=new rC(this,D,r);return M.state=0,this._activeRipples.add(M),r.persistent||(this._mostRecentTransientRipple=M),this._runTimeoutOutsideZone(()=>{const F=M===this._mostRecentTransientRipple;M.state=1,!r.persistent&&(!F||!this._isPointerDown)&&M.fadeOut()},b),M}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i={...iC,...e.config.animation};r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=nr(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(oC))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(aC),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=KE(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!rg(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,m_)})})}_removeTriggerEvents(){this._triggerElement&&(oC.forEach(e=>{this._triggerElement.removeEventListener(e,this,m_)}),this._pointerUpEventsRegistered&&aC.forEach(e=>{this._triggerElement.removeEventListener(e,this,m_)}))}}const uC=new u.OlP("mat-ripple-global-options");let $v=(()=>{class n{constructor(t,r,i,o,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new lC(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Li),u.Y36(uC,8),u.Y36(u.QbO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),dC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Zr],Zr]}),n})();class cg{}const Ma="*";function fC(n,e){return{type:7,name:n,definitions:e,options:{}}}function qu(n,e=null){return{type:4,styles:e,timings:n}}function qv(n,e=null){return{type:3,steps:n,options:e}}function pC(n,e=null){return{type:2,steps:n,options:e}}function _o(n){return{type:6,styles:n,offset:null}}function __(n,e,t){return{type:0,name:n,styles:e,options:t}}function ug(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function dg(n=null){return{type:9,options:n}}function WA(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function KA(n){Promise.resolve().then(n)}class hg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){KA(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class gC{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?KA(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==o&&this._onFinish()}),c.onDestroy(()=>{++r==o&&this._onDestroy()}),c.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function x1(n,e){}class Kv{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const mC={dialogContainer:fC("dialogContainer",[__("void, exit",_o({opacity:0,transform:"scale(0.7)"})),__("enter",_o({transform:"none"})),ug("* => enter",qv([qu("150ms cubic-bezier(0, 0, 0.2, 1)",_o({transform:"none",opacity:1})),WA("@*",dg(),{optional:!0})])),ug("* => void, * => exit",qv([qu("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",_o({opacity:0})),WA("@*",dg(),{optional:!0})]))])};let M1=(()=>{class n extends n_{constructor(t,r,i,o,c,h,_,b){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=c,this._interactivityChecker=h,this._ngZone=_,this._focusMonitor=b,this._animationStateChanged=new u.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=D=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(D)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=pE())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=pE(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=pE();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(wA),u.Y36(u.sBO),u.Y36(ee,8),u.Y36(Kv),u.Y36($E),u.Y36(u.R0b),u.Y36(Uv))},n.\u0275dir=u.lG2({type:n,viewQuery:function(t,r){if(1&t&&u.Gf(r_,7),2&t){let i;u.iGM(i=u.CRH())&&(r._portalOutlet=i.first)}},features:[u.qOj]}),n})(),Uo=(()=>{class n extends M1{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&u.WFA("@dialogContainer.start",function(o){return r._onAnimationStart(o)})("@dialogContainer.done",function(o){return r._onAnimationDone(o)}),2&t&&(u.Ikx("id",r._id),u.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),u.d8E("@dialogContainer",r._state))},features:[u.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&u.YNc(0,x1,0,0,"ng-template",0)},dependencies:[r_],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[mC.dialogContainer]}}),n})(),YA=0;class Rh{constructor(e,t,r="mat-dialog-"+YA++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ut.x,this._afterClosed=new ut.x,this._beforeClosed=new ut.x,this._state=0,t._id=r,t._animationStateChanged.pipe(Yn(i=>"opened"===i.state),Nr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Yn(i=>"closed"===i.state),Nr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Yn(i=>27===i.keyCode&&!this.disableClose&&!function dA(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),_C(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():_C(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Yn(t=>"closing"===t.state),Nr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function _C(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const eo=new u.OlP("MatDialogData"),QA=new u.OlP("mat-dialog-default-options"),y_=new u.OlP("mat-dialog-scroll-strategy"),Zv={provide:y_,deps:[bl],useFactory:function XA(n){return()=>n.scrollStrategies.block()}};let yC=(()=>{class n{constructor(t,r,i,o,c,h,_,b,D,M){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=c,this._dialogRefConstructor=_,this._dialogContainerType=b,this._dialogDataToken=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ut.x,this._afterOpenedAtThisLevel=new ut.x,this._ariaHiddenElements=new Map,this.afterAllClosed=ga(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(si(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){r=function JA(n,e){return{...e,...n}}(r,this._defaultOptions||new Kv),r.id&&this.getDialogById(r.id);const i=this._createOverlay(r),o=this._attachDialogContainer(i,r),c=this._attachDialogContent(t,o,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),o._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new s_({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const o=u.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:Kv,useValue:r}]}),c=new Sh(this._dialogContainerType,r.viewContainerRef,o,r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,r,i,o){const c=new this._dialogRefConstructor(i,r,o.id);if(t instanceof u.Rgc)r.attachTemplatePortal(new Iv(t,null,{$implicit:o.data,dialogRef:c}));else{const h=this._createInjector(o,c,r),_=r.attachComponentPortal(new Sh(t,o.viewContainerRef,h,o.componentFactoryResolver));c.componentInstance=_.instance}return c.updateSize(o.width,o.height).updatePosition(o.position),c}_createInjector(t,r,i){const o=t&&t.viewContainerRef&&t.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!o||!o.get(Vi,null,u.XFs.Optional))&&c.push({provide:Vi,useValue:{value:t.direction,change:ot()}}),u.zs3.create({parent:o||this._injector,providers:c})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,o)=>{i?o.setAttribute("aria-hidden",i):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let o=r[i];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275dir=u.lG2({type:n}),n})(),fg=(()=>{class n extends yC{constructor(t,r,i,o,c,h,_,b){super(t,r,o,h,_,c,Rh,Uo,eo,b)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bl),u.LFG(u.zs3),u.LFG(Le,8),u.LFG(QA,8),u.LFG(y_),u.LFG(n,12),u.LFG(CE),u.LFG(u.QbO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),vC=0,tx=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+vC++}ngOnInit(){this._dialogRef||(this._dialogRef=function Yv(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Rh,8),u.Y36(u.SBq),u.Y36(fg))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&u.Ikx("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),bC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),Ra=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[fg,Zv],imports:[[kv,Sv,Zr],Zr]}),n})();var ve=N(5861),Lr=N(4976);function Ho(){return(0,or.e)((n,e)=>{let t,r=!1;n.subscribe((0,Nn.x)(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}var at,jo=N(2011),nx=(N(3042),N(3942)),Wu=N(6881),v_=N(4859),Ac=N(1877),_n=N(2090),P1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yo={},b_=b_||{},Wt=P1||self;function kh(){}function pg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ph(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var w_="closure_uid_"+(1e9*Math.random()>>>0),EC=0;function E_(n,e,t){return n.call.apply(n.bind,arguments)}function C_(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function bi(n,e,t){return(bi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E_:C_).apply(null,arguments)}function D_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Yr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[i].apply(r,c)}}function wl(){this.s=this.s,this.o=this.o}wl.prototype.s=!1,wl.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function wC(n){Object.prototype.hasOwnProperty.call(n,w_)&&n[w_]||(n[w_]=++EC)}(this)},wl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const CC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function DC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ix(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(pg(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let c=0;c<o;c++)n[i+c]=r[c]}else n.push(r)}}function wi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}wi.prototype.h=function(){this.defaultPrevented=!0};var sx=function(){if(!Wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wt.addEventListener("test",kh,e),Wt.removeEventListener("test",kh,e)}catch{}return n}();function I_(n){return/^[\s\xa0]*$/.test(n)}var IC=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function SC(n,e){return n<e?-1:n>e?1:0}function Qv(){var n=Wt.navigator;return n&&(n=n.userAgent)?n:""}function El(n){return-1!=Qv().indexOf(n)}function TC(n){return TC[" "](n),n}function ox(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}TC[" "]=kh;var Oh,n,ax=El("Opera"),Cl=El("Trident")||El("MSIE"),AC=El("Edge"),Xv=AC||Cl,Jv=El("Gecko")&&!(-1!=Qv().toLowerCase().indexOf("webkit")&&!El("Edge"))&&!(El("Trident")||El("MSIE"))&&!El("Edge"),Ku=-1!=Qv().toLowerCase().indexOf("webkit")&&!El("Edge");function eb(){var n=Wt.document;return n?n.documentMode:void 0}e:{var gg="",tb=(n=Qv(),Jv?/rv:([^\);]+)(\)|;)/.exec(n):AC?/Edge\/([\d\.]+)/.exec(n):Cl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ku?/WebKit\/(\S+)/.exec(n):ax?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(tb&&(gg=tb?tb[1]:""),Cl){var mg=eb();if(null!=mg&&mg>parseFloat(gg)){Oh=String(mg);break e}}Oh=gg}var nb={},O1=Wt.document&&Cl&&(eb()||parseInt(Oh,10))||void 0;function T_(n,e){if(wi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Jv){e:{try{TC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:MC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&T_.$.h.call(this)}}Yr(T_,wi);var MC={2:"touch",3:"pen",4:"mouse"};T_.prototype.h=function(){T_.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var _g="closure_listenable_"+(1e6*Math.random()|0),cx=0;function ux(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++cx,this.fa=this.ia=!1}function A_(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function x_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function rb(n){const e={};for(const t in n)e[t]=n[t];return e}const ib="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RC(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<ib.length;o++)t=ib[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function M_(n){this.src=n,this.g={},this.h=0}function R_(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=CC(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(A_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function yg(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}M_.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=yg(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new ux(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var kC="closure_lm_"+(1e6*Math.random()|0),k_={};function P_(n,e,t,r,i){if(r&&r.once)return hx(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)P_(n,e[o],t,r,i);return null}return t=LC(t),n&&n[_g]?n.O(e,t,Ph(r)?!!r.capture:!!r,i):PC(n,e,t,!1,r,i)}function PC(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var c=Ph(i)?!!i.capture:!!i,h=NC(n);if(h||(n[kC]=h=new M_(n)),(t=h.add(e,t,r,c,o)).proxy)return t;if(r=function dx(){const e=px;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)sx||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(OC(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hx(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)hx(n,e[o],t,r,i);return null}return t=LC(t),n&&n[_g]?n.P(e,t,Ph(r)?!!r.capture:!!r,i):PC(n,e,t,!0,r,i)}function fx(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fx(n,e[o],t,r,i);else r=Ph(r)?!!r.capture:!!r,t=LC(t),n&&n[_g]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=yg(o=n.g[e],t,r,i))&&(A_(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=NC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=yg(e,t,r,i)),(t=-1<n?e[n]:null)&&sb(t))}function sb(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[_g])R_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(OC(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=NC(e))?(R_(t,n),0==t.h&&(t.src=null,e[kC]=null)):A_(n)}}}function OC(n){return n in k_?k_[n]:k_[n]="on"+n}function px(n,e){if(n.fa)n=!0;else{e=new T_(e,this);var t=n.listener,r=n.la||n.src;n.ia&&sb(n),n=t.call(r,e)}return n}function NC(n){return(n=n[kC])instanceof M_?n:null}var FC="__closure_events_fn_"+(1e9*Math.random()>>>0);function LC(n){return"function"==typeof n?n:(n[FC]||(n[FC]=function(e){return n.handleEvent(e)}),n[FC])}function Ei(){wl.call(this),this.i=new M_(this),this.S=this,this.J=null}function Bi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new wi(e,n);else if(e instanceof wi)e.target=e.target||n;else{var i=e;RC(e=new wi(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var c=e.g=t[o];i=O_(c,r,!0,e)&&i}if(i=O_(c=e.g=n,r,!0,e)&&i,i=O_(c,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=O_(c=e.g=t[o],r,!1,e)&&i}function O_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.fa&&c.capture==t){var h=c.listener,_=c.la||c.src;c.ia&&R_(n.i,c),i=!1!==h.call(_,r)&&i}}return i&&!r.defaultPrevented}Yr(Ei,wl),Ei.prototype[_g]=!0,Ei.prototype.removeEventListener=function(n,e,t,r){fx(this,n,e,t,r)},Ei.prototype.N=function(){if(Ei.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)A_(t[r]);delete n.g[e],n.h--}}this.J=null},Ei.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ei.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var VC=Wt.JSON.stringify;function N1(){var n=f;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var a,gx=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new L1,n=>n.reset());class L1{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function V1(n){Wt.setTimeout(()=>{throw n},0)}function s(n,e){a||function l(){var n=Wt.Promise.resolve(void 0);a=function(){n.then(m)}}(),d||(a(),d=!0),f.add(n,e)}var d=!1,f=new class F1{constructor(){this.h=this.g=null}add(e,t){const r=gx.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function m(){for(var n;n=N1();){try{n.h.call(n.g)}catch(t){V1(t)}var e=gx;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}d=!1}function v(n,e){Ei.call(this),this.h=n||1,this.g=e||Wt,this.j=bi(this.qb,this),this.l=Date.now()}function C(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function S(n,e,t){if("function"==typeof n)t&&(n=bi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=bi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Wt.setTimeout(n,e||0)}function x(n){n.g=S(()=>{n.g=null,n.i&&(n.i=!1,x(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Yr(v,Ei),(at=v.prototype).ga=!1,at.T=null,at.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Bi(this,"tick"),this.ga&&(C(this),this.start()))}},at.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.N=function(){v.$.N.call(this),C(this),delete this.g};class P extends wl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:x(this)}N(){super.N(),this.g&&(Wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function V(n){wl.call(this),this.h=n,this.g={}}Yr(V,wl);var Y=[];function ce(n,e,t,r){Array.isArray(t)||(t&&(Y[0]=t.toString()),t=Y);for(var i=0;i<t.length;i++){var o=P_(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function Te(n){x_(n.g,function(e,t){this.g.hasOwnProperty(t)&&sb(e)},n),n.g={}}function ze(){this.g=!0}function Tt(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ut(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<i.length;c++)i[c]=""}}}return VC(t)}catch{return e}}(n,t)+(r?" "+r:"")})}V.prototype.N=function(){V.$.N.call(this),Te(this)},V.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ze.prototype.Ea=function(){this.g=!1},ze.prototype.info=function(){};var sn={},Xn=null;function ka(){return Xn=Xn||new Ei}function N_(n){wi.call(this,sn.Ta,n)}function Zu(n){const e=ka();Bi(e,new N_(e))}function F_(n,e){wi.call(this,sn.STAT_EVENT,n),this.stat=e}function Ci(n){const e=ka();Bi(e,new F_(e,n))}function L_(n,e){wi.call(this,sn.Ua,n),this.size=e}function Yu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wt.setTimeout(function(){n()},e)}sn.Ta="serverreachability",Yr(N_,wi),sn.STAT_EVENT="statevent",Yr(F_,wi),sn.Ua="timingevent",Yr(L_,wi);var Nh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},V_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vg(){}function U1(){}vg.prototype.h=null;var yx,ob={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function mx(){wi.call(this,"d")}function _x(){wi.call(this,"c")}function BC(){}function ab(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new V(this),this.P=lH,this.V=new v(n=Xv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new H1}function H1(){this.i=null,this.g="",this.h=!1}Yr(mx,wi),Yr(_x,wi),Yr(BC,vg),BC.prototype.g=function(){return new XMLHttpRequest},BC.prototype.i=function(){return{}},yx=new BC;var lH=45e3,vx={},UC={};function bx(n,e,t){n.L=1,n.v=$C(Qu(e)),n.s=t,n.S=!0,j1(n,null)}function j1(n,e){n.G=Date.now(),lb(n),n.A=Qu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),X1(t.i,"t",r),n.C=0,t=n.l.I,n.h=new H1,n.g=EN(n.l,t?e:null,!n.s),0<n.O&&(n.M=new P(bi(n.Pa,n,n.g),n.O)),ce(n.U,n.g,"readystatechange",n.nb),e=n.I?rb(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Zu(),function Je(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var c="",h=o.split("&"),_=0;_<h.length;_++){var b=h[_].split("=");if(1<b.length){var D=b[0];b=b[1];var M=D.split("_");c=2<=M.length&&"type"==M[1]?c+(D+"=")+b+"&":c+(D+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function z1(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function $1(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=cH(n,t),i==UC){4==e&&(n.o=4,Ci(14),r=!1),Tt(n.j,n.m,null,"[Incomplete Response]");break}if(i==vx){n.o=4,Ci(15),Tt(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Tt(n.j,n.m,i,null),wx(n,i)}z1(n)&&i!=UC&&i!=vx&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ci(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),xx(e),e.L=!0,Ci(11))):(Tt(n.j,n.m,t,"[Invalid Chunked Response]"),bg(n),cb(n))}function cH(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?UC:(t=Number(e.substring(t,r)),isNaN(t)?vx:(r+=1)+t>e.length?UC:(e=e.substr(r,t),n.C=r+t,e))}function lb(n){n.Y=Date.now()+n.P,G1(n,n.P)}function G1(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Yu(bi(n.lb,n),e)}function HC(n){n.B&&(Wt.clearTimeout(n.B),n.B=null)}function cb(n){0==n.l.H||n.J||yN(n.l,n)}function bg(n){HC(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,C(n.V),Te(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function wx(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Ex(t.h,n)))if(!n.K&&Ex(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;YC(t),KC(t)}Ax(t),Ci(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=Yu(bi(t.ib,t),6e3));if(1>=tN(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Eg(t,11)}else if((n.K||t.g==n)&&YC(t),!I_(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.V=b[0],b=b[1],2==t.H)if("c"==b[0]){t.J=b[1],t.oa=b[2];const D=b[3];null!=D&&(t.qa=D,t.j.info("VER="+t.qa));const M=b[4];null!=M&&(t.Ga=M,t.j.info("SVER="+t.Ga));const F=b[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const Q=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var o=r.h;o.g||-1==Q.indexOf("spdy")&&-1==Q.indexOf("quic")&&-1==Q.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Cx(o,o.h),o.h=null))}if(r.F){const ae=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;ae&&(r.Da=ae,_r(r.G,r.F,ae))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=wN(r,r.I?r.oa:null,r.Y),c.K){nN(r.h,c);var h=c,_=r.K;_&&h.setTimeout(_),h.B&&(HC(h),lb(h)),r.g=c}else mN(r);0<t.i.length&&ZC(t)}else"stop"!=b[0]&&"close"!=b[0]||Eg(t,7);else 3==t.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Eg(t,7):Tx(t):"noop"!=b[0]&&t.l&&t.l.Aa(b),t.A=0)}Zu()}catch{}}function q1(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(pg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function dH(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(pg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function uH(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(pg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(at=ab.prototype).setTimeout=function(n){this.P=n},at.nb=function(n){n=n.target;const e=this.M;e&&3==Xu(n)?e.l():this.Pa(n)},at.Pa=function(n){try{if(n==this.g)e:{const D=Xu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>D)&&(3!=D||Xv||this.g&&(this.h.h||this.g.ja()||uN(this.g)))){this.J||4!=D||7==e||Zu(),HC(this);var t=this.g.da();this.aa=t;t:if(z1(this)){var r=uN(this.g);n="";var i=r.length,o=4==Xu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){bg(this),cb(this);var c="";break t}this.h.i=new Wt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function bt(n,e,t,r,i,o,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.W,D,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I_(h)){var b=h;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Ci(12),bg(this),cb(this);break e}Tt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wx(this,t)}this.S?($1(this,D,c),Xv&&this.i&&3==D&&(ce(this.U,this.V,"tick",this.mb),this.V.start())):(Tt(this.j,this.m,c,null),wx(this,c)),4==D&&bg(this),this.i&&!this.J&&(4==D?yN(this.l,this):(this.i=!1,lb(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ci(12)):(this.o=0,Ci(13)),bg(this),cb(this)}}}catch{}},at.mb=function(){if(this.g){var n=Xu(this.g),e=this.g.ja();this.C<e.length&&(HC(this),$1(this,n,e),this.i&&4!=n&&lb(this))}},at.cancel=function(){this.J=!0,bg(this)},at.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Oe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Zu(),Ci(17)),bg(this),this.o=2,cb(this)):G1(this,this.Y-n)};var W1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wg(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof wg){this.h=void 0!==e?e:n.h,jC(this,n.j),this.s=n.s,this.g=n.g,zC(this,n.m),this.l=n.l,e=n.i;var t=new hb;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),K1(this,t),this.o=n.o}else n&&(t=String(n).match(W1))?(this.h=!!e,jC(this,t[1]||"",!0),this.s=ub(t[2]||""),this.g=ub(t[3]||"",!0),zC(this,t[4]),this.l=ub(t[5]||"",!0),K1(this,t[6]||"",!0),this.o=ub(t[7]||"")):(this.h=!!e,this.i=new hb(null,this.h))}function Qu(n){return new wg(n)}function jC(n,e,t){n.j=t?ub(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function zC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function K1(n,e,t){e instanceof hb?(n.i=e,function yH(n,e){e&&!n.j&&(Fh(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Y1(this,r),X1(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=db(e,mH)),n.i=new hb(e,n.h))}function _r(n,e,t){n.i.set(e,t)}function $C(n){return _r(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ub(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function db(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,fH),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fH(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}wg.prototype.toString=function(){var n=[],e=this.j;e&&n.push(db(e,Z1,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(db(e,Z1,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(db(t,"/"==t.charAt(0)?gH:pH,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",db(t,_H)),n.join("")};var Z1=/[#\/\?@]/g,pH=/[#\?:]/g,gH=/[#\?]/g,mH=/[#\?@]/g,_H=/#/g;function hb(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Fh(n){n.g||(n.g=new Map,n.h=0,n.i&&function hH(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Y1(n,e){Fh(n),e=B_(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Q1(n,e){return Fh(n),e=B_(n,e),n.g.has(e)}function X1(n,e,t){Y1(n,e),0<t.length&&(n.i=null,n.g.set(B_(n,e),DC(t)),n.h+=t.length)}function B_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function J1(n){this.l=n||bH,n=Wt.PerformanceNavigationTiming?0<(n=Wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wt.g&&Wt.g.Ka&&Wt.g.Ka()&&Wt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=hb.prototype).add=function(n,e){Fh(this),this.i=null,n=B_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},at.forEach=function(n,e){Fh(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},at.sa=function(){Fh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},at.Z=function(n){Fh(this);let e=[];if("string"==typeof n)Q1(this,n)&&(e=e.concat(this.g.get(B_(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},at.set=function(n,e){return Fh(this),this.i=null,Q1(this,n=B_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},at.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=o;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var bH=10;function eN(n){return!!n.h||!!n.g&&n.g.size>=n.j}function tN(n){return n.h?1:n.g?n.g.size:0}function Ex(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Cx(n,e){n.g?n.g.add(e):n.h=e}function nN(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function rN(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return DC(n.i)}function Dx(){}function wH(){this.g=new Dx}function EH(n,e,t){const r=t||"";try{q1(n,function(i,o){let c=i;Ph(i)&&(c=VC(i)),e.push(r+o+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function GC(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function fb(n){this.l=n.fc||null,this.j=n.ob||!1}function qC(n,e){Ei.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Ix,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}J1.prototype.cancel=function(){if(this.i=rN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Dx.prototype.stringify=function(n){return Wt.JSON.stringify(n,void 0)},Dx.prototype.parse=function(n){return Wt.JSON.parse(n,void 0)},Yr(fb,vg),fb.prototype.g=function(){return new qC(this.l,this.j)},fb.prototype.i=function(n){return function(){return n}}({}),Yr(qC,Ei);var Ix=0;function iN(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function pb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gb(n)}function gb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=qC.prototype).open=function(n,e){if(this.readyState!=Ix)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,gb(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Wt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pb(this)),this.readyState=Ix},at.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gb(this)),this.g&&(this.readyState=3,gb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Wt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iN(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},at.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?pb(this):gb(this),3==this.readyState&&iN(this)}},at.Za=function(n){this.g&&(this.response=this.responseText=n,pb(this))},at.Ya=function(n){this.g&&(this.response=n,pb(this))},at.ka=function(){this.g&&pb(this)},at.setRequestHeader=function(n,e){this.v.append(n,e)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(qC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var DH=Wt.JSON.parse;function Vr(n){Ei.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sN,this.L=this.M=!1}Yr(Vr,Ei);var sN="",IH=/^https?$/i,SH=["POST","PUT"];function oN(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,aN(n),WC(n)}function aN(n){n.F||(n.F=!0,Bi(n,"complete"),Bi(n,"error"))}function lN(n){if(n.h&&typeof b_<"u"&&(!n.C[1]||4!=Xu(n)||2!=n.da()))if(n.v&&4==Xu(n))S(n.La,0,n);else if(Bi(n,"readystatechange"),4==Xu(n)){n.h=!1;try{const h=n.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.I).match(W1)[1]||null;if(!i&&Wt.self&&Wt.self.location){var o=Wt.self.location.protocol;i=o.substr(0,o.length-1)}r=!IH.test(i?i.toLowerCase():"")}t=r}if(t)Bi(n,"complete"),Bi(n,"success");else{n.m=6;try{var c=2<Xu(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",aN(n)}}finally{WC(n)}}}function WC(n,e){if(n.g){cN(n);const t=n.g,r=n.C[0]?kh:null;n.g=null,n.C=null,e||Bi(n,"ready");try{t.onreadystatechange=r}catch{}}}function cN(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Wt.clearTimeout(n.A),n.A=null)}function Xu(n){return n.g?n.g.readyState:0}function uN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case sN:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function dN(n){let e="";return x_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Sx(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=dN(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):_r(n,e,t))}function mb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function hN(n){this.Ga=0,this.i=[],this.j=new ze,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mb("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mb("baseRetryDelayMs",5e3,n),this.hb=mb("retryDelaySeedMs",1e4,n),this.eb=mb("forwardChannelMaxRetries",2,n),this.xa=mb("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new J1(n&&n.concurrentRequestLimit),this.Ja=new wH,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Tx(n){if(fN(n),3==n.H){var e=n.W++,t=Qu(n.G);_r(t,"SID",n.J),_r(t,"RID",e),_r(t,"TYPE","terminate"),_b(n,t),(e=new ab(n,n.j,e,void 0)).L=2,e.v=$C(Qu(t)),t=!1,Wt.navigator&&Wt.navigator.sendBeacon&&(t=Wt.navigator.sendBeacon(e.v.toString(),"")),!t&&Wt.Image&&((new Image).src=e.v,t=!0),t||(e.g=EN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),lb(e)}bN(n)}function KC(n){n.g&&(xx(n),n.g.cancel(),n.g=null)}function fN(n){KC(n),n.u&&(Wt.clearTimeout(n.u),n.u=null),YC(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Wt.clearTimeout(n.m),n.m=null)}function ZC(n){eN(n.h)||n.m||(n.m=!0,s(n.Na,n),n.C=0)}function pN(n,e){var t;t=e?e.m:n.W++;const r=Qu(n.G);_r(r,"SID",n.J),_r(r,"RID",t),_r(r,"AID",n.V),_b(n,r),n.o&&n.s&&Sx(r,n.o,n.s),t=new ab(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=gN(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Cx(n.h,t),bx(t,r,e)}function _b(n,e){n.ma&&x_(n.ma,function(t,r){_r(e,r,t)}),n.l&&q1({},function(t,r){_r(e,r,t)})}function gN(n,e,t){t=Math.min(n.i.length,t);var r=n.l?bi(n.l.Va,n.l,n):null;e:{var i=n.i;let o=-1;for(;;){const c=["count="+t];-1==o?0<t?(o=i[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let h=!0;for(let _=0;_<t;_++){let b=i[_].h;const D=i[_].g;if(b-=o,0>b)o=Math.max(0,i[_].h-100),h=!1;else try{EH(D,c,"req"+b+"_")}catch{r&&r(D)}}if(h){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function mN(n){n.g||n.u||(n.ba=1,s(n.Ma,n),n.A=0)}function Ax(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Yu(bi(n.Ma,n),vN(n,n.A)),n.A++,0))}function xx(n){null!=n.B&&(Wt.clearTimeout(n.B),n.B=null)}function _N(n){n.g=new ab(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Qu(n.wa);_r(e,"RID","rpc"),_r(e,"SID",n.J),_r(e,"CI",n.M?"0":"1"),_r(e,"AID",n.V),_r(e,"TYPE","xmlhttp"),_b(n,e),n.o&&n.s&&Sx(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=$C(Qu(e)),t.s=null,t.S=!0,j1(t,n)}function YC(n){null!=n.v&&(Wt.clearTimeout(n.v),n.v=null)}function yN(n,e){var t=null;if(n.g==e){YC(n),xx(n),n.g=null;var r=2}else{if(!Ex(n.h,e))return;t=e.F,nN(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Bi(r=ka(),new L_(r,t)),ZC(n)}else mN(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function AH(n,e){return!(tN(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Yu(bi(n.Na,n,e),vN(n,n.C)),n.C++,0)))}(n,e)||2==r&&Ax(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Eg(n,5);break;case 4:Eg(n,10);break;case 3:Eg(n,6);break;default:Eg(n,2)}}function vN(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Eg(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=bi(n.pb,n);t||(t=new wg("//www.google.com/images/cleardot.gif"),Wt.location&&"http"==Wt.location.protocol||jC(t,"https"),$C(t)),function CH(n,e){const t=new ze;if(Wt.Image){const r=new Image;r.onload=D_(GC,t,r,"TestLoadImage: loaded",!0,e),r.onerror=D_(GC,t,r,"TestLoadImage: error",!1,e),r.onabort=D_(GC,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=D_(GC,t,r,"TestLoadImage: timeout",!1,e),Wt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ci(2);n.H=0,n.l&&n.l.za(e),bN(n),fN(n)}function bN(n){if(n.H=0,n.pa=[],n.l){const e=rN(n.h);(0!=e.length||0!=n.i.length)&&(ix(n.pa,e),ix(n.pa,n.i),n.h.i.length=0,DC(n.i),n.i.length=0),n.l.ya()}}function wN(n,e,t){var r=t instanceof wg?Qu(t):new wg(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),zC(r,r.m);else{var i=Wt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new wg(null,void 0);r&&jC(o,r),e&&(o.g=e),i&&zC(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&_r(r,t,e),_r(r,"VER",n.qa),_b(n,r),r}function EN(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vr(t&&n.Ha&&!n.va?new fb({ob:!0}):n.va)).Oa(n.I),e}function CN(){}function QC(){if(Cl&&!(10<=Number(O1)))throw Error("Environmental error: no available transport.")}function zo(n,e){Ei.call(this),this.g=new hN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!I_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!I_(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new U_(this)}function DN(n){mx.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function IN(){_x.call(this),this.status=1}function U_(n){this.g=n}function Dl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Mx(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],c=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;c=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(c<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((o=(e=t+((c=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=o+((c=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function Ln(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(at=Vr.prototype).Oa=function(n){this.M=n},at.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yx.g(),this.C=function B1(n){return n.h||(n.h=n.i())}(this.u?this.u:yx),this.g.onreadystatechange=bi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void oN(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=Wt.FormData&&n instanceof Wt.FormData,!(0<=CC(SH,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of t)this.g.setRequestHeader(o,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cN(this),0<this.B&&((this.L=function TH(n){return Cl&&function S_(){return ox(nb,9,function(){let n=0;const e=IC(String(Oh)).split("."),t=IC("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",o=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;n=SC(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||SC(0==i[2].length,0==o[2].length)||SC(i[2],o[2]),i=i[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bi(this.ua,this)):this.A=S(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){oN(this,o)}},at.ua=function(){typeof b_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bi(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Bi(this,"complete"),Bi(this,"abort"),WC(this))},at.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),WC(this,!0)),Vr.$.N.call(this)},at.La=function(){this.s||(this.G||this.v||this.l?lN(this):this.kb())},at.kb=function(){lN(this)},at.da=function(){try{return 2<Xu(this)?this.g.status:-1}catch{return-1}},at.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},at.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),DH(e)}},at.Ia=function(){return this.m},at.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=hN.prototype).qa=8,at.H=1,at.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new ab(this,this.j,n,void 0);let o=this.s;if(this.U&&(o?(o=rb(o),RC(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=gN(this,i,e),_r(t=Qu(this.G),"RID",n),_r(t,"CVER",22),this.F&&_r(t,"X-HTTP-Session-Id",this.F),_b(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(dN(o)))+"&"+e:this.o&&Sx(t,this.o,o)),Cx(this.h,i),this.bb&&_r(t,"TYPE","init"),this.P?(_r(t,"$req",e),_r(t,"SID","null"),i.ba=!0,bx(i,t,null)):bx(i,t,e),this.H=2}}else 3==this.H&&(n?pN(this,n):0==this.i.length||eN(this.h)||pN(this))},at.Ma=function(){if(this.u=null,_N(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Yu(bi(this.jb,this),n)}},at.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Ci(10),KC(this),_N(this))},at.ib=function(){null!=this.v&&(this.v=null,KC(this),Ax(this),Ci(19))},at.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Ci(2)):(this.j.info("Failed to ping google.com"),Ci(1))},(at=CN.prototype).Ba=function(){},at.Aa=function(){},at.za=function(){},at.ya=function(){},at.Va=function(){},QC.prototype.g=function(n,e){return new zo(n,e)},Yr(zo,Ei),zo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Ci(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=wN(n,null,n.Y),ZC(n)},zo.prototype.close=function(){Tx(this.g)},zo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=VC(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&ZC(e)},zo.prototype.N=function(){this.g.l=null,delete this.j,Tx(this.g),delete this.g,zo.$.N.call(this)},Yr(DN,mx),Yr(IN,_x),Yr(U_,CN),U_.prototype.Ba=function(){Bi(this.g,"a")},U_.prototype.Aa=function(n){Bi(this.g,new DN(n))},U_.prototype.za=function(n){Bi(this.g,new IN)},U_.prototype.ya=function(){Bi(this.g,"b")},Yr(Dl,function xH(){this.blockSize=-1}),Dl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Dl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)Mx(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){Mx(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){Mx(this,r),i=0;break}}this.h=i,this.i+=e},Dl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var MH={};function Rx(n){return-128<=n&&128>n?ox(MH,n,function(e){return new Ln([0|e],0>e?-1:0)}):new Ln([0|n],0>n?-1:0)}function xc(n){if(isNaN(n)||!isFinite(n))return H_;if(0>n)return ls(xc(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=kx;return new Ln(e,0)}var kx=4294967296,H_=Rx(0),Px=Rx(1),TN=Rx(16777216);function Ju(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Pa(n){return-1==n.h}function ls(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ln(t,~n.h).add(Px)}function XC(n,e){return n.add(ls(e))}function JC(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function yb(n,e){this.g=n,this.h=e}function eD(n,e){if(Ju(e))throw Error("division by zero");if(Ju(n))return new yb(H_,H_);if(Pa(n))return e=eD(ls(n),e),new yb(ls(e.g),ls(e.h));if(Pa(e))return e=eD(n,ls(e)),new yb(ls(e.g),e.h);if(30<n.g.length){if(Pa(n)||Pa(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Px,r=e;0>=r.X(n);)t=AN(t),r=AN(r);var i=j_(t,1),o=j_(r,1);for(r=j_(r,2),t=j_(t,2);!Ju(r);){var c=o.add(r);0>=c.X(n)&&(i=i.add(t),o=c),r=j_(r,1),t=j_(t,1)}return e=XC(n,i.R(e)),new yb(i,e)}for(i=H_;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(o=xc(t)).R(e);Pa(c)||0<c.X(n);)c=(o=xc(t-=r)).R(e);Ju(o)&&(o=Px),i=i.add(o),n=XC(n,c)}return new yb(i,n)}function AN(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ln(t,n.h)}function j_(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Ln(i,n.h)}(at=Ln.prototype).ea=function(){if(Pa(this))return-ls(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:kx+r)*e,e*=kx}return n},at.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ju(this))return"0";if(Pa(this))return"-"+ls(this).toString(n);for(var e=xc(Math.pow(n,6)),t=this,r="";;){var i=eD(t,e).g,o=((0<(t=XC(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ju(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},at.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},at.X=function(n){return Pa(n=XC(this,n))?-1:Ju(n)?0:1},at.abs=function(){return Pa(this)?ls(this):this},at.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),c=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(o&=65535)}return new Ln(t,-2147483648&t[t.length-1]?-1:0)},at.R=function(n){if(Ju(this)||Ju(n))return H_;if(Pa(this))return Pa(n)?ls(this).R(ls(n)):ls(ls(this).R(n));if(Pa(n))return ls(this.R(ls(n)));if(0>this.X(TN)&&0>n.X(TN))return xc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,c=65535&this.D(r),h=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=c*_,JC(t,2*r+2*i),t[2*r+2*i+1]+=o*_,JC(t,2*r+2*i+1),t[2*r+2*i+1]+=c*h,JC(t,2*r+2*i+1),t[2*r+2*i+2]+=o*h,JC(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ln(t,0)},at.gb=function(n){return eD(this,n).h},at.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ln(t,this.h&n.h)},at.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ln(t,this.h|n.h)},at.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ln(t,this.h^n.h)},QC.prototype.createWebChannel=QC.prototype.g,zo.prototype.send=zo.prototype.u,zo.prototype.open=zo.prototype.m,zo.prototype.close=zo.prototype.close,Nh.NO_ERROR=0,Nh.TIMEOUT=8,Nh.HTTP_ERROR=6,V_.COMPLETE="complete",U1.EventType=ob,ob.OPEN="a",ob.CLOSE="b",ob.ERROR="c",ob.MESSAGE="d",Ei.prototype.listen=Ei.prototype.O,Vr.prototype.listenOnce=Vr.prototype.P,Vr.prototype.getLastError=Vr.prototype.Sa,Vr.prototype.getLastErrorCode=Vr.prototype.Ia,Vr.prototype.getStatus=Vr.prototype.da,Vr.prototype.getResponseJson=Vr.prototype.Wa,Vr.prototype.getResponseText=Vr.prototype.ja,Vr.prototype.send=Vr.prototype.ha,Vr.prototype.setWithCredentials=Vr.prototype.Oa,Dl.prototype.digest=Dl.prototype.l,Dl.prototype.reset=Dl.prototype.reset,Dl.prototype.update=Dl.prototype.j,Ln.prototype.add=Ln.prototype.add,Ln.prototype.multiply=Ln.prototype.R,Ln.prototype.modulo=Ln.prototype.gb,Ln.prototype.compare=Ln.prototype.X,Ln.prototype.toNumber=Ln.prototype.ea,Ln.prototype.toString=Ln.prototype.toString,Ln.prototype.getBits=Ln.prototype.D,Ln.fromNumber=xc,Ln.fromString=function SN(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ls(SN(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=xc(Math.pow(e,8)),r=H_,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+o),e);8>o?(o=xc(Math.pow(e,o)),r=r.R(o).add(xc(c))):r=(r=r.R(t)).add(xc(c))}return r};var RH=yo.createWebChannelTransport=function(){return new QC},kH=yo.getStatEventTarget=function(){return ka()},Ox=yo.ErrorCode=Nh,PH=yo.EventType=V_,OH=yo.Event=sn,xN=yo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},NH=yo.FetchXmlHttpFactory=fb,tD=yo.WebChannel=U1,FH=yo.XhrIo=Vr,LH=yo.Md5=Dl,z_=yo.Integer=Ln;const MN="@firebase/firestore";class Ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ui.UNAUTHENTICATED=new Ui(null),Ui.GOOGLE_CREDENTIALS=new Ui("google-credentials-uid"),Ui.FIRST_PARTY=new Ui("first-party-uid"),Ui.MOCK_USER=new Ui("mock-user");let $_="9.21.0";const Lh=new Ac.Yd("@firebase/firestore");function Nx(){return Lh.logLevel}function je(n,...e){if(Lh.logLevel<=Ac.in.DEBUG){const t=e.map(Fx);Lh.debug(`Firestore (${$_}): ${n}`,...t)}}function Qr(n,...e){if(Lh.logLevel<=Ac.in.ERROR){const t=e.map(Fx);Lh.error(`Firestore (${$_}): ${n}`,...t)}}function Oa(n,...e){if(Lh.logLevel<=Ac.in.WARN){const t=e.map(Fx);Lh.warn(`Firestore (${$_}): ${n}`,...t)}}function Fx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ht(n="Unexpected state"){const e=`FIRESTORE (${$_}) INTERNAL ASSERTION FAILED: `+n;throw Qr(e),new Error(e)}function At(n,e){n||ht()}function nt(n,e){return n}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends _n.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class RN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ui.UNAUTHENTICATED))}shutdown(){}}class HH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jH{constructor(e){this.t=e,this.currentUser=Ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Di,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const b=c;e.enqueueRetryable((0,ve.Z)(function*(){yield b.promise,yield o(r.currentUser)}))},_=b=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Di)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At("string"==typeof r.accessToken),new RN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new Ui(e)}}class zH{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ui.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class $H{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new zH(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GH{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=o=>{null!=o.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.T;return this.T=o.token,je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At("string"==typeof t.token),this.T=t.token,new kN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qH(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class PN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=qH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function Kt(n,e){return n<e?-1:n>e?1:0}function G_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function ON(n){return n+"\0"}class yr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yr.fromMillis(Date.now())}static fromDate(e){return yr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new yr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new yr(0,0))}static max(){return new Rt(new yr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vb{constructor(e,t,r){void 0===t?t=0:t>e.length&&ht(),void 0===r?r=e.length-t:r>e.length-t&&ht(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===vb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vb?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),c=t.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bn extends vb{construct(e,t,r){return new bn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new bn(t)}static emptyPath(){return new bn([])}}const WH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Br extends vb{construct(e,t,r){return new Br(e,t,r)}static isValidIdentifier(e){return WH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Br(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Fe(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Fe(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Fe(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===h?(c=!c,i++):"."!==h||c?(r+=h,i++):(o(),i++)}if(o(),c)throw new Fe(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Br(t)}static emptyPath(){return new Br([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(bn.fromString(e))}static fromName(e){return new et(bn.fromString(e).popFirst(5))}static empty(){return new et(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new bn(e.slice()))}}class nD{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Lx(n){return n.fields.find(e=>2===e.kind)}function Cg(n){return n.fields.filter(e=>2!==e.kind)}nD.UNKNOWN_ID=-1;class rD{constructor(e,t){this.fieldPath=e,this.kind=t}}class bb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new bb(0,$o.min())}}function NN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Rt.fromTimestamp(1e9===r?new yr(t+1,0):new yr(t,r));return new $o(i,et.empty(),e)}function FN(n){return new $o(n.readTime,n.key,-1)}class $o{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $o(Rt.min(),et.empty(),-1)}static max(){return new $o(Rt.max(),et.empty(),-1)}}function Vx(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Kt(n.largestBatchId,e.largestBatchId))}const LN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Vh(n){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,ve.Z)(function*(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==LN)throw n;je("LocalStore","Unexpectedly lost primary lease")}),Bx.apply(this,arguments)}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,r)=>{t(e)})}static reject(e){return new fe((t,r)=>{r(e)})}static waitFor(e){return new fe((t,r)=>{let i=0,o=0,c=!1;e.forEach(h=>{++i,h.next(()=>{++o,c&&o===i&&t()},_=>r(_))}),c=!0,o===i&&t()})}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next(i=>i?fe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new fe((r,i)=>{const o=e.length,c=new Array(o);let h=0;for(let _=0;_<o;_++){const b=_;t(e[b]).next(D=>{c[b]=D,++h,h===o&&r(c)},D=>i(D))}})}static doWhile(e,t){return new fe((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class iD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Di,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new wb(e,t.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=Ux(r.target.error);this.R.reject(new wb(e,i))}}static open(e,t,r,i){try{return new iD(t,e.transaction(i,r))}catch(o){throw new wb(t,o)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new QH(t)}}class Il{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Il.S((0,_n.z$)())&&Qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),Dg(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_n.hl)())return!1;if(Il.C())return!0;const e=(0,_n.z$)(),t=Il.S(e),r=0<t&&t<10,i=Il.N(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,ve.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=c=>{r(c.target.result)},o.onblocked=()=>{i(new wb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const h=c.target.error;i("VersionError"===h.name?new Fe(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Fe(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new wb(e,h))},o.onupgradeneeded=c=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.$(c.target.result,o.transaction,c.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,ve.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{o.db=yield o.O(e);const _=iD.open(o.db,e,c?"readonly":"readwrite",r),b=i(_).next(D=>(_.P(),D)).catch(D=>(_.abort(D),fe.reject(D))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,D="FirebaseError"!==b.name&&h<3;if(je("SimpleDb","Transaction failed with error:",b.message,"Retrying:",D),o.close(),!D)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class YH{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Dg(this.L.delete())}}class wb extends Fe{constructor(e,t){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Bh(n){return"IndexedDbTransactionError"===n.name}class QH{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Dg(r)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),Dg(this.store.add(e))}get(e){return Dg(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),Dg(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),Dg(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.W(i,(c,h)=>{o.push(h)}).next(()=>o)}{const i=this.store.getAll(r.range);return new fe((o,c)=>{i.onerror=h=>{c(h.target.error)},i.onsuccess=h=>{o(h.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new fe((i,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}J(e,t){je("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(o,c,h)=>h.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new fe((r,i)=>{t.onerror=o=>{const c=Ux(o.target.error);i(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():r()}):r()}})}W(e,t){const r=[];return new fe((i,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void i();const _=new YH(h),b=t(h.primaryKey,h.value,_);if(b instanceof fe){const D=b.catch(M=>(_.done(),fe.reject(M)));r.push(D)}_.isDone?i():null===_.K?h.continue():h.continue(_.K)}}).next(()=>fe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Dg(n){return new fe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Ux(r.target.error);t(i)}})}let BN=!1;function Ux(n){const e=Il.S((0,_n.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return BN||(BN=!0,setTimeout(()=>{throw r},0)),r}}return n}class XH{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;je("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{je("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Bh(r)?je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Vh(r)}yield t.et(6e4)}))}}class JH{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,o=!0;return fe.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return je("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,i).next(h=>{i-=h,r.add(c)});o=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(i,o)).next(h=>(je("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,o)=>{const c=FN(o);Vx(c,r)>0&&(r=c)}),new $o(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Go=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Eb(n){return null==n}function Cb(n){return 0===n&&1/n==-1/0}function UN(n){return"number"==typeof n&&Number.isInteger(n)&&!Cb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function xs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=HN(e)),e=ej(n.get(t),e);return HN(e)}function ej(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function HN(n){return n+"\x01\x01"}function Mc(n){const e=n.length;if(At(e>=2),2===e)return At("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),bn.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const c=n.indexOf("\x01",o);switch((c<0||c>t)&&ht(),n.charAt(c+1)){case"\x01":const h=n.substring(o,c);let _;0===i.length?_=h:(i+=h,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(o,c),i+="\0";break;case"\x11":i+=n.substring(o,c+1);break;default:ht()}o=c+2}return new bn(r)}const jN=["userId","batchId"];function sD(n,e){return[n,xs(e)]}function zN(n,e,t){return[n,xs(e),t]}const tj={},nj=["prefixPath","collectionGroup","readTime","documentId"],rj=["prefixPath","collectionGroup","documentId"],ij=["collectionGroup","readTime","prefixPath","documentId"],sj=["canonicalId","targetId"],oj=["targetId","path"],aj=["path","targetId"],lj=["collectionId","parent"],cj=["indexId","uid"],uj=["uid","sequenceNumber"],dj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hj=["indexId","uid","orderedDocumentKey"],fj=["userId","collectionPath","documentId"],pj=["userId","collectionPath","largestBatchId"],gj=["userId","collectionGroup","largestBatchId"],$N=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mj=[...$N,"documentOverlays"],GN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qN=GN,_j=[...qN,"indexConfiguration","indexState","indexEntries"];class Hx extends VN{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Hi(n,e){const t=nt(n);return Il.M(t.at,e)}function WN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Uh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class rr{constructor(e,t){this.comparator=e,this.root=t||cs.EMPTY}insert(e,t){return new rr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cs.BLACK,null,null))}remove(e){return new rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oD(this.root,e,this.comparator,!1)}getReverseIterator(){return new oD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oD(this.root,e,this.comparator,!0)}}class oD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cs{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??cs.RED,this.left=i??cs.EMPTY,this.right=o??cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new cs(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return cs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const e=this.left.check();if(e!==this.right.check())throw ht();return e+(this.isRed()?0:1)}}cs.EMPTY=null,cs.RED=!0,cs.BLACK=!1,cs.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(n,e,t,r,i){return this}insert(n,e,t){return new cs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cr{constructor(e){this.comparator=e,this.data=new rr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZN(this.data.getIterator())}getIteratorFrom(e){return new ZN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof cr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cr(this.comparator);return t.data=e,t}}class ZN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function q_(n){return n.hasNext()?n.getNext():void 0}class vo{constructor(e){this.fields=e,e.sort(Br.comparator)}static empty(){return new vo([])}unionWith(e){let t=new cr(Br.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new vo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return G_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class YN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ii{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new YN("Invalid base64 string: "+i):i}}(e);return new Ii(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Ii(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ii.EMPTY_BYTE_STRING=new Ii("");const vj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hh(n){if(At(!!n),"string"==typeof n){let e=0;const t=vj.exec(n);if(At(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ur(n.seconds),nanos:Ur(n.nanos)}}function Ur(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ed(n){return"string"==typeof n?Ii.fromBase64String(n):Ii.fromUint8Array(n)}function aD(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function lD(n){const e=n.mapValue.fields.__previous_value__;return aD(e)?lD(e):e}function Db(n){const e=Hh(n.mapValue.fields.__local_write_time__.timestampValue);return new yr(e.seconds,e.nanos)}class bj{constructor(e,t,r,i,o,c,h,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class jh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new jh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof jh&&e.projectId===this.projectId&&e.database===this.database}}const zh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cD={nullValue:"NULL_VALUE"};function $h(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?aD(n)?4:eF(n)?9007199254740991:10:ht()}function Rc(n,e){if(n===e)return!0;const t=$h(n);if(t!==$h(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Db(n).isEqual(Db(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Hh(r.timestampValue),c=Hh(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ed(n.bytesValue).isEqual(ed(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ur(r.geoPointValue.latitude)===Ur(i.geoPointValue.latitude)&&Ur(r.geoPointValue.longitude)===Ur(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ur(r.integerValue)===Ur(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Ur(r.doubleValue),c=Ur(i.doubleValue);return o===c?Cb(o)===Cb(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return G_(n.arrayValue.values||[],e.arrayValue.values||[],Rc);case 10:return function(r,i){const o=r.mapValue.fields||{},c=i.mapValue.fields||{};if(WN(o)!==WN(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===c[h]||!Rc(o[h],c[h])))return!1;return!0}(n,e);default:return ht()}var i}function Ib(n,e){return void 0!==(n.values||[]).find(t=>Rc(t,e))}function Gh(n,e){if(n===e)return 0;const t=$h(n),r=$h(e);if(t!==r)return Kt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,e.booleanValue);case 2:return function(i,o){const c=Ur(i.integerValue||i.doubleValue),h=Ur(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return QN(n.timestampValue,e.timestampValue);case 4:return QN(Db(n),Db(e));case 5:return Kt(n.stringValue,e.stringValue);case 6:return function(i,o){const c=ed(i),h=ed(o);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),h=o.split("/");for(let _=0;_<c.length&&_<h.length;_++){const b=Kt(c[_],h[_]);if(0!==b)return b}return Kt(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const c=Kt(Ur(i.latitude),Ur(o.latitude));return 0!==c?c:Kt(Ur(i.longitude),Ur(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const c=i.values||[],h=o.values||[];for(let _=0;_<c.length&&_<h.length;++_){const b=Gh(c[_],h[_]);if(b)return b}return Kt(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===zh.mapValue&&o===zh.mapValue)return 0;if(i===zh.mapValue)return 1;if(o===zh.mapValue)return-1;const c=i.fields||{},h=Object.keys(c),_=o.fields||{},b=Object.keys(_);h.sort(),b.sort();for(let D=0;D<h.length&&D<b.length;++D){const M=Kt(h[D],b[D]);if(0!==M)return M;const F=Gh(c[h[D]],_[b[D]]);if(0!==F)return F}return Kt(h.length,b.length)}(n.mapValue,e.mapValue);default:throw ht()}}function QN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kt(n,e);const t=Hh(n),r=Hh(e),i=Kt(t.seconds,r.seconds);return 0!==i?i:Kt(t.nanos,r.nanos)}function W_(n){return jx(n)}function jx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Hh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ed(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const c of r.values||[])o?o=!1:i+=",",i+=jx(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",c=!0;for(const h of i)c?c=!1:o+=",",o+=`${h}:${jx(r.fields[h])}`;return o+"}"}(n.mapValue):ht();var e}function Ig(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zx(n){return!!n&&"integerValue"in n}function Sb(n){return!!n&&"arrayValue"in n}function XN(n){return!!n&&"nullValue"in n}function JN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dD(n){return!!n&&"mapValue"in n}function Tb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Uh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Tb(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function wj(n){return"nullValue"in n?cD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ig(jh.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ht()}function Ej(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ig(jh.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?zh:ht()}function tF(n,e){const t=Gh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function nF(n,e){const t=Gh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tb(t)}setAll(e){let t=Br.emptyPath(),r={},i=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=Tb(c):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());dD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];dD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Uh(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new us(Tb(this.value))}}function rF(n){const e=[];return Uh(n.fields,(t,r)=>{const i=new Br([t]);if(dD(r)){const o=rF(r.mapValue).fields;if(0===o.length)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)}),new vo(e)}class ur{constructor(e,t,r,i,o,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new ur(e,0,Rt.min(),Rt.min(),Rt.min(),us.empty(),0)}static newFoundDocument(e,t,r,i){return new ur(e,1,t,Rt.min(),r,i,0)}static newNoDocument(e,t){return new ur(e,2,t,Rt.min(),Rt.min(),us.empty(),0)}static newUnknownDocument(e,t){return new ur(e,3,t,Rt.min(),Rt.min(),us.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Rt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qh{constructor(e,t){this.position=e,this.inclusive=t}}function iF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],c=n.position[i];if(r=o.field.isKeyField()?et.comparator(et.fromName(c.referenceValue),t.key):Gh(c,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function sF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rc(n.position[t],e.position[t]))return!1;return!0}class K_{constructor(e,t="asc"){this.field=e,this.dir=t}}function Cj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class oF{}class hn extends oF{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Dj(e,t,r):"array-contains"===t?new Tj(e,r):"in"===t?new hF(e,r):"not-in"===t?new Aj(e,r):"array-contains-any"===t?new xj(e,r):new hn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Ij(e,r):new Sj(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Gh(t,this.value)):null!==t&&$h(this.value)===$h(t)&&this.matchesComparison(Gh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vn extends oF{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Vn(e,t)}matches(e){return Z_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Z_(n){return"and"===n.op}function $x(n){return"or"===n.op}function Gx(n){return aF(n)&&Z_(n)}function aF(n){for(const e of n.filters)if(e instanceof Vn)return!1;return!0}function qx(n){if(n instanceof hn)return n.field.canonicalString()+n.op.toString()+W_(n.value);if(Gx(n))return n.filters.map(e=>qx(e)).join(",");{const e=n.filters.map(t=>qx(t)).join(",");return`${n.op}(${e})`}}function lF(n,e){return n instanceof hn?(t=n,(r=e)instanceof hn&&t.op===r.op&&t.field.isEqual(r.field)&&Rc(t.value,r.value)):n instanceof Vn?function(t,r){return r instanceof Vn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,c)=>i&&lF(o,r.filters[c]),!0)}(n,e):void ht();var t,r}function cF(n,e){const t=n.filters.concat(e);return Vn.create(t,n.op)}function uF(n){return n instanceof hn?`${(e=n).field.canonicalString()} ${e.op} ${W_(e.value)}`:n instanceof Vn?function(e){return e.op.toString()+" {"+e.getFilters().map(uF).join(" ,")+"}"}(n):"Filter";var e}class Dj extends hn{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ij extends hn{constructor(e,t){super(e,"in",t),this.keys=dF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Sj extends hn{constructor(e,t){super(e,"not-in",t),this.keys=dF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class Tj extends hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sb(t)&&Ib(t.arrayValue,this.value)}}class hF extends hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ib(this.value.arrayValue,t)}}class Aj extends hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ib(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ib(this.value.arrayValue,t)}}class xj extends hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ib(this.value.arrayValue,r))}}class Mj{constructor(e,t=null,r=[],i=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=h,this.ft=null}}function Wx(n,e=null,t=[],r=[],i=null,o=null,c=null){return new Mj(n,e,t,r,i,o,c)}function Sg(n){const e=nt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>qx(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Eb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>W_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>W_(r)).join(",")),e.ft=t}return e.ft}function Ab(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Cj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sF(n.startAt,e.startAt)&&sF(n.endAt,e.endAt)}function hD(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function fD(n,e){return n.filters.filter(t=>t instanceof hn&&t.field.isEqual(e))}function fF(n,e,t){let r=cD,i=!0;for(const o of fD(n,e)){let c=cD,h=!0;switch(o.op){case"<":case"<=":c=wj(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=cD}tF({value:r,inclusive:i},{value:c,inclusive:h})<0&&(r=c,i=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];tF({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function pF(n,e,t){let r=zh,i=!0;for(const o of fD(n,e)){let c=zh,h=!0;switch(o.op){case">=":case">":c=Ej(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=zh}nF({value:r,inclusive:i},{value:c,inclusive:h})>0&&(r=c,i=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];nF({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class td{constructor(e,t=null,r=[],i=[],o=null,c="F",h=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=_,this.dt=null,this._t=null}}function gF(n,e,t,r,i,o,c,h){return new td(n,e,t,r,i,o,c,h)}function Y_(n){return new td(n)}function mF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Kx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function pD(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Zx(n){return null!==n.collectionGroup}function Tg(n){const e=nt(n);if(null===e.dt){e.dt=[];const t=pD(e),r=Kx(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new K_(t)),e.dt.push(new K_(Br.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new K_(Br.keyField(),o))}}}return e.dt}function to(n){const e=nt(n);if(!e._t)if("F"===e.limitType)e._t=Wx(e.path,e.collectionGroup,Tg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Tg(e))t.push(new K_(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new qh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new qh(e.startAt.position,e.startAt.inclusive):null;e._t=Wx(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Yx(n,e){e.getFirstInequalityField(),pD(n);const t=n.filters.concat([e]);return new td(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gD(n,e,t){return new td(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xb(n,e){return Ab(to(n),to(e))&&n.limitType===e.limitType}function _F(n){return`${Sg(to(n))}|lt:${n.limitType}`}function Qx(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>uF(r)).join(", ")}]`),Eb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>W_(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>W_(r)).join(",")),`Target(${t})`}(to(n))}; limitType=${n.limitType})`}function Mb(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):et.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Tg(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,c){const h=iF(i,o,c);return i.inclusive?h<=0:h<0}(t.startAt,Tg(t),r)||t.endAt&&!function(i,o,c){const h=iF(i,o,c);return i.inclusive?h>=0:h>0}(t.endAt,Tg(t),r)));var t,r}function yF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vF(n){return(e,t)=>{let r=!1;for(const i of Tg(n)){const o=Rj(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Rj(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(i,o,c){const h=o.data.field(i),_=c.data.field(i);return null!==h&&null!==_?Gh(h,_):ht()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ht()}}class nd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uh(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return KN(this.inner)}size(){return this.innerSize}}const kj=new rr(et.comparator);function bo(){return kj}const bF=new rr(et.comparator);function Rb(...n){let e=bF;for(const t of n)e=e.insert(t.key,t);return e}function wF(n){let e=bF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function kc(){return kb()}function EF(){return kb()}function kb(){return new nd(n=>n.toString(),(n,e)=>n.isEqual(e))}const Pj=new rr(et.comparator),Oj=new cr(et.comparator);function nn(...n){let e=Oj;for(const t of n)e=e.add(t);return e}const Nj=new cr(Kt);function Xx(){return Nj}function CF(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cb(e)?"-0":e}}function DF(n){return{integerValue:""+n}}function IF(n,e){return UN(e)?DF(e):CF(n,e)}class mD{constructor(){this._=void 0}}function Fj(n,e,t){return n instanceof Q_?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&aD(i)&&(i=lD(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof Ag?TF(n,e):n instanceof xg?AF(n,e):function(r,i){const o=SF(r,i),c=xF(o)+xF(r.wt);return zx(o)&&zx(r.wt)?DF(c):CF(r.serializer,c)}(n,e)}function Lj(n,e,t){return n instanceof Ag?TF(n,e):n instanceof xg?AF(n,e):t}function SF(n,e){return n instanceof X_?zx(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Q_ extends mD{}class Ag extends mD{constructor(e){super(),this.elements=e}}function TF(n,e){const t=MF(e);for(const r of n.elements)t.some(i=>Rc(i,r))||t.push(r);return{arrayValue:{values:t}}}class xg extends mD{constructor(e){super(),this.elements=e}}function AF(n,e){let t=MF(e);for(const r of n.elements)t=t.filter(i=>!Rc(i,r));return{arrayValue:{values:t}}}class X_ extends mD{constructor(e,t){super(),this.serializer=e,this.wt=t}}function xF(n){return Ur(n.integerValue||n.doubleValue)}function MF(n){return Sb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Pb{constructor(e,t){this.field=e,this.transform=t}}class Bj{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _D(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class yD{}function RF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ey(n.key,vr.none()):new J_(n.key,n.data,vr.none());{const t=n.data,r=us.empty();let i=new cr(Br.comparator);for(let o of e.fields)if(!i.has(o)){let c=t.field(o);null===c&&o.length>1&&(o=o.popLast(),c=t.field(o)),null===c?r.delete(o):r.set(o,c),i=i.add(o)}return new rd(n.key,r,new vo(i.toArray()),vr.none())}}function Uj(n,e,t){n instanceof J_?function(r,i,o){const c=r.value.clone(),h=OF(r.fieldTransforms,i,o.transformResults);c.setAll(h),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof rd?function(r,i,o){if(!_D(r.precondition,i))return void i.convertToUnknownDocument(o.version);const c=OF(r.fieldTransforms,i,o.transformResults),h=i.data;h.setAll(PF(r)),h.setAll(c),i.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ob(n,e,t,r){return n instanceof J_?function(i,o,c,h){if(!_D(i.precondition,o))return c;const _=i.value.clone(),b=NF(i.fieldTransforms,h,o);return _.setAll(b),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof rd?function(i,o,c,h){if(!_D(i.precondition,o))return c;const _=NF(i.fieldTransforms,h,o),b=o.data;return b.setAll(PF(i)),b.setAll(_),o.convertToFoundDocument(o.version,b).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(c=t,_D(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function Hj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=SF(r.transform,i||null);null!=o&&(null===t&&(t=us.empty()),t.set(r.field,o))}return t||null}function kF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&G_(t,r,(i,o)=>function Vj(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ag&&r instanceof Ag||t instanceof xg&&r instanceof xg?G_(t.elements,r.elements,Rc):t instanceof X_&&r instanceof X_?Rc(t.wt,r.wt):t instanceof Q_&&r instanceof Q_);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class J_ extends yD{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class rd extends yD{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function PF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function OF(n,e,t){const r=new Map;At(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],c=o.transform,h=e.data.field(o.field);r.set(o.field,Lj(c,h,t[i]))}return r}function NF(n,e,t){const r=new Map;for(const i of n){const o=i.transform,c=t.data.field(i.field);r.set(i.field,Fj(o,c,e))}return r}class ey extends yD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jx extends yD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Uj(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ob(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ob(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=EF();return this.mutations.forEach(i=>{const o=e.get(i.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(i.key)?null:h;const _=RF(c,h);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Rt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nn())}isEqual(e){return this.batchId===e.batchId&&G_(this.mutations,e.mutations,(t,r)=>kF(t,r))&&G_(this.baseMutations,e.baseMutations,(t,r)=>kF(t,r))}}class tM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){At(e.mutations.length===r.length);let i=Pj;const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new tM(e,t,r,i)}}class nM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zj{constructor(e,t){this.count=e,this.unchangedNames=t}}var ai,wn;function FF(n){switch(n){default:return ht();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function LF(n){if(void 0===n)return Qr("GRPC error has no .code"),_e.UNKNOWN;switch(n){case ai.OK:return _e.OK;case ai.CANCELLED:return _e.CANCELLED;case ai.UNKNOWN:return _e.UNKNOWN;case ai.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case ai.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case ai.INTERNAL:return _e.INTERNAL;case ai.UNAVAILABLE:return _e.UNAVAILABLE;case ai.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case ai.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case ai.NOT_FOUND:return _e.NOT_FOUND;case ai.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case ai.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case ai.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case ai.ABORTED:return _e.ABORTED;case ai.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case ai.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case ai.DATA_LOSS:return _e.DATA_LOSS;default:return ht()}}(wn=ai||(ai={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";class rM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return vD}static getOrCreateInstance(){return null===vD&&(vD=new rM),vD}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let vD=null;function VF(){return new TextEncoder}const $j=new z_([4294967295,4294967295],0);function BF(n){const e=VF().encode(n),t=new LH;return t.update(e),new Uint8Array(t.digest())}function UF(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new z_([t,r],0),new z_([i,o],0)]}class iM{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Nb(`Invalid padding: ${t}`);if(r<0)throw new Nb(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Nb(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Nb(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=z_.fromNumber(this.yt)}Tt(e,t,r){let i=e.add(t.multiply(z_.fromNumber(r)));return 1===i.compare($j)&&(i=new z_([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=BF(e),[r,i]=UF(t);for(let o=0;o<this.hashCount;o++){const c=this.Tt(r,i,o);if(!this.Et(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new iM(o,i,t);return r.forEach(h=>c.insert(h)),c}insert(e){if(0===this.yt)return;const t=BF(e),[r,i]=UF(t);for(let o=0;o<this.hashCount;o++){const c=this.Tt(r,i,o);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Nb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fb{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Lb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Fb(Rt.min(),i,new rr(Kt),bo(),nn())}}class Lb{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Lb(r,t,nn(),nn(),nn())}}class bD{constructor(e,t,r,i){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=i}}class HF{constructor(e,t){this.targetId=e,this.bt=t}}class jF{constructor(e,t,r=Ii.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class zF{constructor(){this.Vt=0,this.St=GF(),this.Dt=Ii.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=nn(),t=nn(),r=nn();return this.St.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ht()}}),new Lb(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=GF()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class Gj{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=bo(),this.jt=$F(),this.zt=new rr(Kt)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:ht()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,i)=>{this.Zt(i)&&t(i)})}ee(e){var t;const r=e.targetId,i=e.bt.count,o=this.ne(r);if(o){const c=o.target;if(hD(c))if(0===i){const h=new et(c.path);this.Jt(r,h,ur.newNoDocument(h,Rt.min()))}else At(1===i);else{const h=this.se(r);if(h!==i){const _=this.ie(e,h);0!==_&&(this.te(r),this.zt=this.zt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=rM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(b,D,M){var F,H,Q,ae,ye,We;const st={localCacheCount:D,existenceFilterCount:M.count},tt=M.unchangedNames;return tt&&(st.bloomFilter={applied:0===b,hashCount:null!==(F=tt?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(ae=null===(Q=null===(H=tt?.bits)||void 0===H?void 0:H.bitmap)||void 0===Q?void 0:Q.length)&&void 0!==ae?ae:0,padding:null!==(We=null===(ye=tt?.bits)||void 0===ye?void 0:ye.padding)&&void 0!==We?We:0}),st}(_,h,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:c=0},hashCount:h=0}=r;let _,b;try{_=ed(o).toUint8Array()}catch(D){if(D instanceof YN)return Oa("Decoding the base64 bloom filter in existence filter failed ("+D.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw D}try{b=new iM(_,c,h)}catch(D){return Oa(D instanceof Nb?"BloomFilter error: ":"Applying bloom filter failed: ",D),1}return 0===b.yt?1:i!==t-this.re(e.targetId,b)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const c=this.Kt.oe(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.At(h)||(this.Jt(e,o,null),i++)}),i}ue(e){const t=new Map;this.Gt.forEach((o,c)=>{const h=this.ne(c);if(h){if(o.current&&hD(h.target)){const _=new et(h.target.path);null!==this.Qt.get(_)||this.ce(c,_)||this.Jt(c,_,ur.newNoDocument(_,e))}o.kt&&(t.set(c,o.Ot()),o.$t())}});let r=nn();this.jt.forEach((o,c)=>{let h=!0;c.forEachWhile(_=>{const b=this.ne(_);return!b||"TargetPurposeLimboResolution"===b.purpose||(h=!1,!1)}),h&&(r=r.add(o))}),this.Qt.forEach((o,c)=>c.setReadTime(e));const i=new Fb(e,t,this.zt,this.Qt,r);return this.Qt=bo(),this.jt=$F(),this.zt=new rr(Kt),i}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,t)?i.Ft(t,1):i.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new zF,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new cr(Kt),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new zF),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function $F(){return new rr(et.comparator)}function GF(){return new rr(et.comparator)}const qj={asc:"ASCENDING",desc:"DESCENDING"},Wj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kj={and:"AND",or:"OR"};class Zj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sM(n,e){return n.useProto3Json||Eb(e)?e:{value:e}}function ty(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Yj(n,e){return ty(n,e.toTimestamp())}function Xr(n){return At(!!n),Rt.fromTimestamp(function(e){const t=Hh(e);return new yr(t.seconds,t.nanos)}(n))}function oM(n,e){return(t=n,new bn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function WF(n){const e=bn.fromString(n);return At(nL(e)),e}function Vb(n,e){return oM(n.databaseId,e.path)}function Pc(n,e){const t=WF(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(ZF(t))}function aM(n,e){return oM(n.databaseId,e)}function KF(n){const e=WF(n);return 4===e.length?bn.emptyPath():ZF(e)}function Bb(n){return new bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZF(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function YF(n,e,t){return{name:Vb(n,e),fields:t.value.mapValue.fields}}function QF(n,e,t){const r=Pc(n,e.name),i=Xr(e.updateTime),o=e.createTime?Xr(e.createTime):Rt.min(),c=new us({mapValue:{fields:e.fields}}),h=ur.newFoundDocument(r,i,o,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Ub(n,e){let t;if(e instanceof J_)t={update:YF(n,e.key,e.value)};else if(e instanceof ey)t={delete:Vb(n,e.key)};else if(e instanceof rd)t={update:YF(n,e.key,e.data),updateMask:s3(e.fieldMask)};else{if(!(e instanceof Jx))return ht();t={verify:Vb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof Q_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ag)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof X_)return{fieldPath:o.field.canonicalString(),increment:c.wt};throw ht()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Yj(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ht()),t;var i}function lM(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?vr.updateTime(Xr(i.updateTime)):void 0!==i.exists?vr.exists(i.exists):vr.none():vr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,c){let h=null;"setToServerValue"in c?(At("REQUEST_TIME"===c.setToServerValue),h=new Q_):"appendMissingElements"in c?h=new Ag(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new xg(c.removeAllFromArray.values||[]):"increment"in c?h=new X_(o,c.increment):ht();const _=Br.fromServerFormat(c.fieldPath);return new Pb(_,h)}(n,i)):[];var i;if(e.update){const i=Pc(n,e.update.name),o=new us({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new vo((e.updateMask.fieldPaths||[]).map(b=>Br.fromServerFormat(b)));return new rd(i,o,c,t,r)}return new J_(i,o,t,r)}if(e.delete){const i=Pc(n,e.delete);return new ey(i,t)}if(e.verify){const i=Pc(n,e.verify);return new Jx(i,t)}return ht()}function XF(n,e){return{documents:[aM(n,e.path)]}}function cM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=aM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=aM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return tL(Vn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(_){if(0!==_.length)return _.map(b=>{return{field:Wh((D=b).field),direction:t3(D.dir)};var D})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=sM(n,e.limit);var h,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function JF(n){let e=KF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){At(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let o=[];t.where&&(o=function(D){const M=eL(D);return M instanceof Vn&&Gx(M)?M.getFilters():[M]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(D=>{return new K_(ny((M=D).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let h=null;t.limit&&(h=function(D){let M;return M="object"==typeof D?D.value:D,Eb(M)?null:M}(t.limit));let _=null;var D;t.startAt&&(_=new qh((D=t.startAt).values||[],!!D.before));let b=null;return t.endAt&&(b=function(D){return new qh(D.values||[],!D.before)}(t.endAt)),gF(e,i,c,o,h,"F",_,b)}function eL(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ny(e.unaryFilter.field);return hn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=ny(e.unaryFilter.field);return hn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ny(e.unaryFilter.field);return hn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ny(e.unaryFilter.field);return hn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}(n):void 0!==n.fieldFilter?hn.create(ny((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Vn.create(e.compositeFilter.filters.map(t=>eL(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ht()}}(e.compositeFilter.op))}(n):ht();var e}function t3(n){return qj[n]}function n3(n){return Wj[n]}function r3(n){return Kj[n]}function Wh(n){return{fieldPath:n.canonicalString()}}function ny(n){return Br.fromServerFormat(n.fieldPath)}function tL(n){return n instanceof hn?function(e){if("=="===e.op){if(JN(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NAN"}};if(XN(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(JN(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NOT_NAN"}};if(XN(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wh(e.field),op:n3(e.op),value:e.value}}}(n):n instanceof Vn?function(e){const t=e.getFilters().map(r=>tL(r));return 1===t.length?t[0]:{compositeFilter:{op:r3(e.op),filters:t}}}(n):ht()}function s3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class id{constructor(e,t,r,i,o=Rt.min(),c=Rt.min(),h=Ii.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=_}withSequenceNumber(e){return new id(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new id(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new id(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new id(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rL{constructor(e){this.le=e}}function iL(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:wD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Vb(i=n.le,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:ty(i,o.version.toTimestamp()),createTime:ty(i,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Mg(e.version)};else{if(!e.isUnknownDocument())return ht();r.unknownDocument={path:t.path.toArray(),version:Mg(e.version)}}var i,o;return r}function wD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Mg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Rg(n){const e=new yr(n.seconds,n.nanoseconds);return Rt.fromTimestamp(e)}function kg(n,e){const t=(e.baseMutations||[]).map(o=>lM(n.le,o));for(let o=0;o<e.mutations.length-1;++o){const c=e.mutations[o];o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(c.updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o)}const r=e.mutations.map(o=>lM(n.le,o)),i=yr.fromMillis(e.localWriteTimeMs);return new eM(e.batchId,i,t,r)}function Hb(n){const e=Rg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Rg(n.lastLimboFreeSnapshotVersion):Rt.min();let r;var i;return void 0!==n.query.documents?(At(1===(i=n.query).documents.length),r=to(Y_(KF(i.documents[0])))):r=to(JF(n.query)),new id(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ii.fromBase64String(n.resumeToken))}function sL(n,e){const t=Mg(e.snapshotVersion),r=Mg(e.lastLimboFreeSnapshotVersion);let i;i=hD(e.target)?XF(n.le,e.target):cM(n.le,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sg(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function uM(n){const e=JF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?gD(e,e.limit,"L"):e}function dM(n,e){return new nM(e.largestBatchId,lM(n.le,e.overlayMutation))}function oL(n,e){const t=e.path.lastSegment();return[n,xs(e.path.popLast()),t]}function aL(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Mg(r.readTime),documentKey:xs(r.documentKey.path),largestBatchId:r.largestBatchId}}class a3{getBundleMetadata(e,t){return lL(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Rg(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return lL(e).put({bundleId:(r=t).id,createTime:Mg(Xr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return cL(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:uM(i.bundledQuery),readTime:Rg(i.readTime)};var i})}saveNamedQuery(e,t){return cL(e).put({name:(r=t).name,readTime:Mg(Xr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function lL(n){return Hi(n,"bundles")}function cL(n){return Hi(n,"namedQueries")}class ED{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new ED(e,t.uid||"")}getOverlay(e,t){return jb(e).get(oL(this.userId,t)).next(r=>r?dM(this.serializer,r):null)}getOverlays(e,t){const r=kc();return fe.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,c)=>{const h=new nM(t,c);i.push(this.de(e,h))}),fe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(xs(c.getCollectionPath())));const o=[];return i.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(jb(e).J("collectionPathOverlayIndex",h))}),fe.waitFor(o)}getOverlaysForCollection(e,t,r){const i=kc(),o=xs(t),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return jb(e).j("collectionPathOverlayIndex",c).next(h=>{for(const _ of h){const b=dM(this.serializer,_);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=kc();let c;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jb(e).X({index:"collectionGroupOverlayIndex",range:h},(_,b,D)=>{const M=dM(this.serializer,b);o.size()<i||M.largestBatchId===c?(o.set(M.getKey(),M),c=M.largestBatchId):D.done()}).next(()=>o)}de(e,t){return jb(e).put(function(r,i,o){const[c,h,_]=oL(i,o.mutation.key);return{userId:i,collectionPath:h,documentId:_,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ub(r.le,o.mutation)}}(this.serializer,this.userId,t))}}function jb(n){return Hi(n,"documentOverlays")}class Pg{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Ur(e.integerValue));else if("doubleValue"in e){const r=Ur(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),Cb(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(ed(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?eF(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):ht()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),et.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function l3(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function uL(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const o=l3(255&t[i]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(e/8)}Pg.be=new Pg;class c3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Se(r.value),r=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.xe(r.value),r=t.next();this.Ne()}ke(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Se(r);else if(r<2048)this.Se(960|r>>>6),this.Se(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Se(480|r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r);else{const i=t.codePointAt(0);this.Se(240|i>>>18),this.Se(128|63&i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i)}}this.De()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.xe(r);else if(r<2048)this.xe(960|r>>>6),this.xe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.xe(480|r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r);else{const i=t.codePointAt(0);this.xe(240|i>>>18),this.xe(128|63&i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i)}}this.Ne()}Oe(e){const t=this.$e(e),r=uL(t);this.Fe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Be(e){const t=this.$e(e),r=uL(t);this.Fe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class u3{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class d3{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class zb{constructor(){this.Qe=new c3,this.je=new u3(this.Qe),this.ze=new d3(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class Og{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Og(this.indexId,this.documentKey,this.arrayValue,r)}}function Kh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=dL(n.arrayValue,e.arrayValue),0!==t?t:(t=dL(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function dL(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class h3{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xe=r:this.Ye.push(r)}}Ze(e){At(e.collectionGroup===this.collectionId);const t=Lx(e);if(void 0!==t&&!this.tn(t))return!1;const r=Cg(e);let i=0,o=0;for(;i<r.length&&this.tn(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Xe){const c=r[i];if(!this.en(this.Xe,c)||!this.nn(this.Je[o++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(o>=this.Je.length||!this.nn(this.Je[o++],c))return!1}return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function hL(n){var e,t;if(At(n instanceof hn||n instanceof Vn),n instanceof hn){if(n instanceof hF){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>hn.create(n.field,"==",o)))||[];return Vn.create(i,"or")}return n}const r=n.filters.map(i=>hL(i));return Vn.create(r,n.op)}function f3(n){if(0===n.getFilters().length)return[];const e=pM(hL(n));return At(fL(e)),hM(e)||fM(e)?[e]:e.getFilters()}function hM(n){return n instanceof hn}function fM(n){return n instanceof Vn&&Gx(n)}function fL(n){return hM(n)||fM(n)||function(e){if(e instanceof Vn&&$x(e)){for(const t of e.getFilters())if(!hM(t)&&!fM(t))return!1;return!0}return!1}(n)}function pM(n){if(At(n instanceof hn||n instanceof Vn),n instanceof hn)return n;if(1===n.filters.length)return pM(n.filters[0]);const e=n.filters.map(r=>pM(r));let t=Vn.create(e,n.op);return t=CD(t),fL(t)?t:(At(t instanceof Vn),At(Z_(t)),At(t.filters.length>1),t.filters.reduce((r,i)=>gM(r,i)))}function gM(n,e){let t;return At(n instanceof hn||n instanceof Vn),At(e instanceof hn||e instanceof Vn),t=n instanceof hn?e instanceof hn?Vn.create([n,e],"and"):pL(n,e):e instanceof hn?pL(e,n):function(r,i){if(At(r.filters.length>0&&i.filters.length>0),Z_(r)&&Z_(i))return cF(r,i.getFilters());const o=$x(r)?r:i,c=$x(r)?i:r,h=o.filters.map(_=>gM(_,c));return Vn.create(h,"or")}(n,e),CD(t)}function pL(n,e){if(Z_(e))return cF(e,n.getFilters());{const t=e.filters.map(r=>gM(n,r));return Vn.create(t,"or")}}function CD(n){if(At(n instanceof hn||n instanceof Vn),n instanceof hn)return n;const e=n.getFilters();if(1===e.length)return CD(e[0]);if(aF(n))return n;const t=e.map(i=>CD(i)),r=[];return t.forEach(i=>{i instanceof hn?r.push(i):i instanceof Vn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Vn.create(r,n.op)}class p3{constructor(){this.sn=new mM}addToCollectionParentIndex(e,t){return this.sn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve($o.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve($o.min())}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class mM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new cr(bn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cr(bn.comparator)).toArray()}}const DD=new Uint8Array(0);class g3{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new mM,this.on=new nd(r=>Sg(r),(r,i)=>Ab(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const o={collectionId:r,parent:xs(i)};return gL(e).put(o)}return fe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[ON(t),""],!1,!0);return gL(e).j(i).next(o=>{for(const c of o){if(c.collectionId!==t)break;r.push(Mc(c.parent))}return r})}addFieldIndex(e,t){const r=ID(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete i.indexId;const o=r.add(i);if(t.indexState){const c=Gb(e);return o.next(h=>{c.put(aL(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=ID(e),i=Gb(e),o=$b(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=$b(e);let i=!0;const o=new Map;return fe.forEach(this.un(t),c=>this.cn(e,c).next(h=>{i&&(i=!!h),o.set(c,h)})).next(()=>{if(i){let c=nn();const h=[];return fe.forEach(o,(_,b)=>{var D;je("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(tt=>`${tt.fieldPath}:${tt.kind}`).join(",")}`} to execute ${Sg(t)}`);const M=function(tt,Et){const qt=Lx(Et);if(void 0===qt)return null;for(const Qt of fD(tt,qt.fieldPath))switch(Qt.op){case"array-contains-any":return Qt.value.arrayValue.values||[];case"array-contains":return[Qt.value]}return null}(b,_),F=function(tt,Et){const qt=new Map;for(const Qt of Cg(Et))for(const An of fD(tt,Qt.fieldPath))switch(An.op){case"==":case"in":qt.set(Qt.fieldPath.canonicalString(),An.value);break;case"not-in":case"!=":return qt.set(Qt.fieldPath.canonicalString(),An.value),Array.from(qt.values())}return null}(b,_),H=function(tt,Et){const qt=[];let Qt=!0;for(const An of Cg(Et)){const zi=0===An.kind?fF(tt,An.fieldPath,tt.startAt):pF(tt,An.fieldPath,tt.startAt);qt.push(zi.value),Qt&&(Qt=zi.inclusive)}return new qh(qt,Qt)}(b,_),Q=function(tt,Et){const qt=[];let Qt=!0;for(const An of Cg(Et)){const zi=0===An.kind?pF(tt,An.fieldPath,tt.endAt):fF(tt,An.fieldPath,tt.endAt);qt.push(zi.value),Qt&&(Qt=zi.inclusive)}return new qh(qt,Qt)}(b,_),ae=this.an(_,b,H),ye=this.an(_,b,Q),We=this.hn(_,b,F),st=this.ln(_.indexId,M,ae,H.inclusive,ye,Q.inclusive,We);return fe.forEach(st,tt=>r.H(tt,t.limit).next(Et=>{Et.forEach(qt=>{const Qt=et.fromSegments(qt.documentKey);c.has(Qt)||(c=c.add(Qt),h.push(Qt))})}))}).next(()=>h)}return fe.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:f3(Vn.create(e.filters,"and")).map(r=>Wx(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,r,i,o,c,h){const _=(null!=t?t.length:1)*Math.max(r.length,o.length),b=_/(null!=t?t.length:1),D=[];for(let M=0;M<_;++M){const F=t?this.fn(t[M/b]):DD,H=this.dn(e,F,r[M%b],i),Q=this._n(e,F,o[M%b],c),ae=h.map(ye=>this.dn(e,F,ye,!0));D.push(...this.createRange(H,Q,ae))}return D}dn(e,t,r,i){const o=new Og(e,et.empty(),t,r);return i?o:o.He()}_n(e,t,r,i){const o=new Og(e,et.empty(),t,r);return i?o.He():o}cn(e,t){const r=new h3(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let c=null;for(const h of o)r.Ze(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let r=2;const i=this.un(t);return fe.forEach(i,o=>this.cn(e,o).next(c=>{c?0!==r&&c.fields.length<function(h){let _=new cr(Br.comparator),b=!1;for(const D of h.filters)for(const M of D.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?b=!0:_=_.add(M.field));for(const D of h.orderBy)D.field.isKeyField()||(_=_.add(D.field));return _.size+(b?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}wn(e,t){const r=new zb;for(const i of Cg(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const c=r.We(i.kind);Pg.be._e(o,c)}return r.Ge()}fn(e){const t=new zb;return Pg.be._e(e,t.We(0)),t.Ge()}mn(e,t){const r=new zb;return Pg.be._e(Ig(this.databaseId,t),r.We(function(i){const o=Cg(i);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ge()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new zb);let o=0;for(const c of Cg(e)){const h=r[o++];for(const _ of i)if(this.gn(t,c.fieldPath)&&Sb(h))i=this.yn(i,c,h);else{const b=_.We(c.kind);Pg.be._e(h,b)}}return this.pn(i)}an(e,t,r){return this.hn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ge();return t}yn(e,t,r){const i=[...e],o=[];for(const c of r.arrayValue.values||[])for(const h of i){const _=new zb;_.seed(h.Ge()),Pg.be._e(c,_.We(t.kind)),o.push(_)}return o}gn(e,t){return!!e.filters.find(r=>r instanceof hn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=ID(e),i=Gb(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(o=>{const c=[];return fe.forEach(o,h=>i.get([h.indexId,this.uid]).next(_=>{c.push(function(b,D){const M=D?new bb(D.sequenceNumber,new $o(Rg(D.readTime),new et(Mc(D.documentKey)),D.largestBatchId)):bb.empty(),F=b.fields.map(([H,Q])=>new rD(Br.fromServerFormat(H),Q));return new nD(b.indexId,b.collectionGroup,F,M)}(h,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Kt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=ID(e),o=Gb(e);return this.In(e).next(c=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>fe.forEach(h,_=>o.put(aL(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return fe.forEach(t,(i,o)=>{const c=r.get(i.collectionGroup);return(c?fe.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),fe.forEach(h,_=>this.Tn(e,i,_).next(b=>{const D=this.En(o,_);return b.isEqual(D)?fe.resolve():this.An(e,o,_,b,D)}))))})}Rn(e,t,r,i){return $b(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return $b(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}Tn(e,t,r){const i=$b(e);let o=new cr(Kh);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(c,h)=>{o=o.add(new Og(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}En(e,t){let r=new cr(Kh);const i=this.wn(t,e);if(null==i)return r;const o=Lx(t);if(null!=o){const c=e.data.field(o.fieldPath);if(Sb(c))for(const h of c.arrayValue.values||[])r=r.add(new Og(t.indexId,e.key,this.fn(h),i))}else r=r.add(new Og(t.indexId,e.key,DD,i));return r}An(e,t,r,i,o){je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,_,b,D,M){const F=h.getIterator(),H=_.getIterator();let Q=q_(F),ae=q_(H);for(;Q||ae;){let ye=!1,We=!1;if(Q&&ae){const st=b(Q,ae);st<0?We=!0:st>0&&(ye=!0)}else null!=Q?We=!0:ye=!0;ye?(D(ae),ae=q_(H)):We?(M(Q),Q=q_(F)):(Q=q_(F),ae=q_(H))}}(i,o,Kh,h=>{c.push(this.Rn(e,t,r,h))},h=>{c.push(this.vn(e,t,r,h))}),fe.waitFor(c)}In(e){let t=1;return Gb(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,h)=>Kh(c,h)).filter((c,h,_)=>!h||0!==Kh(c,_[h-1]));const i=[];i.push(e);for(const c of r){const h=Kh(c,e),_=Kh(c,t);if(0===h)i[0]=e.He();else if(h>0&&_<0)i.push(c),i.push(c.He());else if(_>0)break}i.push(t);const o=[];for(let c=0;c<i.length;c+=2){if(this.Pn(i[c],i[c+1]))return[];o.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,DD,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,DD,[]]))}return o}Pn(e,t){return Kh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(mL)}getMinOffset(e,t){return fe.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||ht())).next(mL)}}function gL(n){return Hi(n,"collectionParents")}function $b(n){return Hi(n,"indexEntries")}function ID(n){return Hi(n,"indexConfiguration")}function Gb(n){return Hi(n,"indexState")}function mL(n){At(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Vx(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new $o(e.readTime,e.documentKey,t)}const _L={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ms{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ms(e,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function yL(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],c=IDBKeyRange.only(t.batchId);let h=0;const _=r.X({range:c},(D,M,F)=>(h++,F.delete()));o.push(_.next(()=>{At(1===h)}));const b=[];for(const D of t.mutations){const M=zN(e,D.key.path,t.batchId);o.push(i.delete(M)),b.push(D.key)}return fe.waitFor(o).next(()=>b)}function SD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ht();e=n.noDocument}return JSON.stringify(e).length}Ms.DEFAULT_COLLECTION_PERCENTILE=10,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ms.DEFAULT=new Ms(41943040,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ms.DISABLED=new Ms(-1,0,0);class TD{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.bn={}}static fe(e,t,r,i){At(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new TD(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zh(e).X({index:"userMutationsIndex",range:r},(i,o,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=ry(e),c=Zh(e);return c.add({}).next(h=>{At("number"==typeof h);const _=new eM(h,t,r,i),b=function(F,H,Q){const ae=Q.baseMutations.map(We=>Ub(F.le,We)),ye=Q.mutations.map(We=>Ub(F.le,We));return{userId:H,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:ae,mutations:ye}}(this.serializer,this.userId,_),D=[];let M=new cr((F,H)=>Kt(F.canonicalString(),H.canonicalString()));for(const F of i){const H=zN(this.userId,F.key.path,h);M=M.add(F.key.path.popLast()),D.push(c.put(b)),D.push(o.put(H,tj))}return M.forEach(F=>{D.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.bn[h]=_.keys()}),fe.waitFor(D).next(()=>_)})}lookupMutationBatch(e,t){return Zh(e).get(t).next(r=>r?(At(r.userId===this.userId),kg(this.serializer,r)):null)}Vn(e,t){return this.bn[t]?fe.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Zh(e).X({index:"userMutationsIndex",range:i},(c,h,_)=>{h.userId===this.userId&&(At(h.batchId>=r),o=kg(this.serializer,h)),_.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Zh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,o,c)=>{r=o.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zh(e).j("userMutationsIndex",t).next(r=>r.map(i=>kg(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=sD(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ry(e).X({range:i},(c,h,_)=>{const[b,D,M]=c,F=Mc(D);if(b===this.userId&&t.path.isEqual(F))return Zh(e).get(M).next(H=>{if(!H)throw ht();At(H.userId===this.userId),o.push(kg(this.serializer,H))});_.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cr(Kt);const i=[];return t.forEach(o=>{const c=sD(this.userId,o.path),h=IDBKeyRange.lowerBound(c),_=ry(e).X({range:h},(b,D,M)=>{const[F,H,Q]=b,ae=Mc(H);F===this.userId&&o.path.isEqual(ae)?r=r.add(Q):M.done()});i.push(_)}),fe.waitFor(i).next(()=>this.Sn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=sD(this.userId,r),c=IDBKeyRange.lowerBound(o);let h=new cr(Kt);return ry(e).X({range:c},(_,b,D)=>{const[M,F,H]=_,Q=Mc(F);M===this.userId&&r.isPrefixOf(Q)?Q.length===i&&(h=h.add(H)):D.done()}).next(()=>this.Sn(e,h))}Sn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Zh(e).get(o).next(c=>{if(null===c)throw ht();At(c.userId===this.userId),r.push(kg(this.serializer,c))}))}),fe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return yL(e.at,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),fe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return fe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return ry(e).X({range:r},(o,c,h)=>{if(o[0]===this.userId){const _=Mc(o[1]);i.push(_)}else h.done()}).next(()=>{At(0===i.length)})})}containsKey(e,t){return vL(e,this.userId,t)}Cn(e){return bL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function vL(n,e,t){const r=sD(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return ry(n).X({range:o,Y:!0},(h,_,b)=>{const[D,M,F]=h;D===e&&M===i&&(c=!0),b.done()}).next(()=>c)}function Zh(n){return Hi(n,"mutations")}function ry(n){return Hi(n,"documentMutations")}function bL(n){return Hi(n,"mutationQueues")}class Ng{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Ng(0)}static kn(){return new Ng(-1)}}class m3{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const r=new Ng(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>Rt.fromTimestamp(new yr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Mn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(r=>(r.targetCount+=1,this.Fn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>iy(e).delete(t.targetId)).next(()=>this.Mn(e)).next(r=>(At(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return iy(e).X((c,h)=>{const _=Hb(h);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,o.push(this.removeTargetData(e,_)))}).next(()=>fe.waitFor(o)).next(()=>i)}forEachTarget(e,t){return iy(e).X((r,i)=>{const o=Hb(i);t(o)})}Mn(e){return wL(e).get("targetGlobalKey").next(t=>(At(null!==t),t))}On(e,t){return wL(e).put("targetGlobalKey",t)}$n(e,t){return iy(e).put(sL(this.serializer,t))}Fn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Sg(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return iy(e).X({range:i,index:"queryTargetsIndex"},(c,h,_)=>{const b=Hb(h);Ab(t,b.target)&&(o=b,_.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Yh(e);return t.forEach(c=>{const h=xs(c.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,c))}),fe.waitFor(i)}removeMatchingKeys(e,t,r){const i=Yh(e);return fe.forEach(t,o=>{const c=xs(o.path);return fe.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Yh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Yh(e);let o=nn();return i.X({range:r,Y:!0},(c,h,_)=>{const b=Mc(c[1]),D=new et(b);o=o.add(D)}).next(()=>o)}containsKey(e,t){const r=xs(t.path),i=IDBKeyRange.bound([r],[ON(r)],!1,!0);let o=0;return Yh(e).X({index:"documentTargetsIndex",Y:!0,range:i},([c,h],_,b)=>{0!==c&&(o++,b.done())}).next(()=>o>0)}he(e,t){return iy(e).get(t).next(r=>r?Hb(r):null)}}function iy(n){return Hi(n,"targets")}function wL(n){return Hi(n,"targetGlobal")}function Yh(n){return Hi(n,"targetDocuments")}function EL([n,e],[t,r]){const i=Kt(n,t);return 0===i?Kt(e,r):i}class _3{constructor(e){this.Bn=e,this.buffer=new cr(EL),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();EL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Bh(r)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Vh(r)}yield t.Gn(3e5)}))}}class y3{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return fe.resolve(Go.ct);const r=new _3(t);return this.Qn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.Qn.zn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Qn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(_L)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_L):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let r,i,o,c,h,_,b;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,h=Date.now(),this.removeTargets(e,r,t))).next(M=>(o=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(b=Date.now(),Nx()<=Ac.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-D}ms\n\tDetermined least recently used ${i} in `+(h-c)+`ms\n\tRemoved ${o} targets in `+(_-h)+`ms\n\tRemoved ${M} documents in `+(b-_)+`ms\nTotal Duration: ${b-D}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:M})))}}class v3{constructor(e,t){this.db=e,this.garbageCollector=function DL(n,e){return new y3(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Hn(e){let t=0;return this.zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(r,i)=>t(i))}addReference(e,t,r){return AD(e,r)}removeReference(e,t,r){return AD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return AD(e,t)}Yn(e,t){return function(r,i){let o=!1;return bL(r).Z(c=>vL(r,c,i).next(h=>(h&&(o=!0),fe.resolve(!h)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Jn(e,(c,h)=>{if(h<=t){const _=this.Yn(e,c).next(b=>{if(!b)return o++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Rt.min()),Yh(e).delete([0,xs(c.path)])))});i.push(_)}}).next(()=>fe.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return AD(e,t)}Jn(e,t){const r=Yh(e);let i,o=Go.ct;return r.X({index:"documentTargetsIndex"},([c,h],{path:_,sequenceNumber:b})=>{0===c?(o!==Go.ct&&t(new et(Mc(i)),o),o=b,i=_):o=Go.ct}).next(()=>{o!==Go.ct&&t(new et(Mc(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function AD(n,e){return Yh(n).put((r=n.currentSequenceNumber,{targetId:0,path:xs(e.path),sequenceNumber:r}));var r}class IL{constructor(){this.changes=new nd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ur.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class b3{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Fg(e).put(r)}removeEntry(e,t,r){return Fg(e).delete(function(i,o){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],wD(o),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Xn(e,r)))}getEntry(e,t){let r=ur.newInvalidDocument(t);return Fg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qb(t))},(i,o)=>{r=this.Zn(t,o)}).next(()=>r)}ts(e,t){let r={size:0,document:ur.newInvalidDocument(t)};return Fg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(qb(t))},(i,o)=>{r={document:this.Zn(t,o),size:SD(o)}}).next(()=>r)}getEntries(e,t){let r=bo();return this.es(e,t,(i,o)=>{const c=this.Zn(i,o);r=r.insert(i,c)}).next(()=>r)}ns(e,t){let r=bo(),i=new rr(et.comparator);return this.es(e,t,(o,c)=>{const h=this.Zn(o,c);r=r.insert(o,h),i=i.insert(o,SD(c))}).next(()=>({documents:r,ss:i}))}es(e,t,r){if(t.isEmpty())return fe.resolve();let i=new cr(xL);t.forEach(_=>i=i.add(_));const o=IDBKeyRange.bound(qb(i.first()),qb(i.last())),c=i.getIterator();let h=c.getNext();return Fg(e).X({index:"documentKeyIndex",range:o},(_,b,D)=>{const M=et.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;h&&xL(h,M)<0;)r(h,null),h=c.getNext();h&&h.isEqual(M)&&(r(h,b),h=c.hasNext()?c.getNext():null),h?D.G(qb(h)):D.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const o=t.path,c=[o.popLast().toArray(),o.lastSegment(),wD(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fg(e).j(IDBKeyRange.bound(c,h,!0)).next(_=>{let b=bo();for(const D of _){const M=this.Zn(et.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);M.isFoundDocument()&&(Mb(t,M)||i.has(M.key))&&(b=b.insert(M.key,M))}return b})}getAllFromCollectionGroup(e,t,r,i){let o=bo();const c=AL(t,r),h=AL(t,$o.max());return Fg(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(_,b,D)=>{const M=this.Zn(et.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);o=o.insert(M.key,M),o.size===i&&D.done()}).next(()=>o)}newChangeBuffer(e){return new w3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return TL(e).get("remoteDocumentGlobalKey").next(t=>(At(!!t),t))}Xn(e,t){return TL(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const r=function o3(n,e){let t;if(e.document)t=QF(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=et.fromSegments(e.noDocument.path),i=Rg(e.noDocument.readTime);t=ur.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ht();{const r=et.fromSegments(e.unknownDocument.path),i=Rg(e.unknownDocument.version);t=ur.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new yr(r[0],r[1]);return Rt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Rt.min()))return r}return ur.newInvalidDocument(e)}}function SL(n){return new b3(n)}class w3 extends IL{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new nd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new cr((o,c)=>Kt(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const h=this.os.get(o);if(t.push(this.rs.removeEntry(e,o,h.readTime)),c.isValidDocument()){const _=iL(this.rs.serializer,c);i=i.add(o.path.popLast()),r+=SD(_)-h.size,t.push(this.rs.addEntry(e,o,_))}else if(r-=h.size,this.trackRemovals){const _=iL(this.rs.serializer,c.convertToNoDocument(Rt.min()));t.push(this.rs.addEntry(e,o,_))}}),i.forEach(o=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.rs.updateMetadata(e,r)),fe.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(r=>(this.os.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:r,ss:i})=>(i.forEach((o,c)=>{this.os.set(o,{size:c,readTime:r.get(o).readTime})}),r))}}function TL(n){return Hi(n,"remoteDocumentGlobal")}function Fg(n){return Hi(n,"remoteDocumentsV14")}function qb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function AL(n,e){const t=e.documentKey.path.toArray();return[n,wD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function xL(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Kt(t[o],r[o]),i)return i;return i=Kt(t.length,r.length),i||(i=Kt(t[t.length-2],r[r.length-2]),i||Kt(t[t.length-1],r[r.length-1]))}class E3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ML{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Ob(r.mutation,i,vo.empty(),yr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,nn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=nn()){const i=kc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let c=Rb();return o.forEach((h,_)=>{c=c.insert(h,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=kc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,nn()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,r,i){let o=bo();const c=kb(),h=kb();return t.forEach((_,b)=>{const D=r.get(b.key);i.has(b.key)&&(void 0===D||D.mutation instanceof rd)?o=o.insert(b.key,b):void 0!==D?(c.set(b.key,D.mutation.getFieldMask()),Ob(D.mutation,b,D.mutation.getFieldMask(),yr.now())):c.set(b.key,vo.empty())}),this.recalculateAndSaveOverlays(e,o).next(_=>(_.forEach((b,D)=>c.set(b,D)),t.forEach((b,D)=>{var M;return h.set(b,new E3(D,null!==(M=c.get(b))&&void 0!==M?M:null))}),h))}recalculateAndSaveOverlays(e,t){const r=kb();let i=new rr((c,h)=>c-h),o=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let D=r.get(_)||vo.empty();D=h.applyToLocalView(b,D),r.set(_,D);const M=(i.get(h.batchId)||nn()).add(_);i=i.insert(h.batchId,M)})}).next(()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),b=_.key,D=_.value,M=EF();D.forEach(F=>{if(!o.has(F)){const H=RF(t.get(F),r.get(F));null!==H&&M.set(F,H),o=o.add(F)}}),c.push(this.documentOverlayCache.saveOverlays(e,b,M))}return fe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return et.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Zx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):fe.resolve(kc());let h=-1,_=o;return c.next(b=>fe.forEach(b,(D,M)=>(h<M.largestBatchId&&(h=M.largestBatchId),o.get(D)?fe.resolve():this.remoteDocumentCache.getEntry(e,D).next(F=>{_=_.insert(D,F)}))).next(()=>this.populateOverlays(e,b,o)).next(()=>this.computeViews(e,_,b,nn())).next(D=>({batchId:h,changes:wF(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(r=>{let i=Rb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=Rb();return this.indexManager.getCollectionParents(e,i).next(c=>fe.forEach(c,h=>{const _=(b=t,D=h.child(i),new td(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,D;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(b=>{b.forEach((D,M)=>{o=o.insert(D,M)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(o=>{i.forEach((h,_)=>{const b=_.getKey();null===o.get(b)&&(o=o.insert(b,ur.newInvalidDocument(b)))});let c=Rb();return o.forEach((h,_)=>{const b=i.get(h);void 0!==b&&Ob(b.mutation,_,vo.empty(),yr.now()),Mb(t,_)&&(c=c.insert(h,_))}),c})}}class C3{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return fe.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:Xr(r.createTime)}),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:uM(r.bundledQuery),readTime:Xr(r.readTime)}),fe.resolve();var r}}class D3{constructor(){this.overlays=new rr(et.comparator),this.hs=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=kc();return fe.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.de(e,t,o)}),fe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hs.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hs.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const i=kc(),o=t.length+1,c=new et(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const _=h.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===o&&_.largestBatchId>r&&i.set(_.getKey(),_)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new rr((b,D)=>b-D);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let D=o.get(b.largestBatchId);null===D&&(D=kc(),o=o.insert(b.largestBatchId,D)),D.set(b.getKey(),b)}}const h=kc(),_=o.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,D)=>h.set(b,D)),!(h.size()>=i)););return fe.resolve(h)}de(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new nM(t,r));let o=this.hs.get(t);void 0===o&&(o=nn(),this.hs.set(t,o)),this.hs.set(t,o.add(r.key))}}class _M{constructor(){this.ls=new cr(ji.fs),this.ds=new cr(ji._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new ji(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new ji(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new et(new bn([])),r=new ji(t,e),i=new ji(t,e+1),o=[];return this.ds.forEachInRange([r,i],c=>{this.gs(c),o.push(c.key)}),o}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new et(new bn([])),r=new ji(t,e),i=new ji(t,e+1);let o=nn();return this.ds.forEachInRange([r,i],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new ji(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ji{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return et.comparator(e.key,t.key)||Kt(e.Es,t.Es)}static _s(e,t){return Kt(e.Es,t.Es)||et.comparator(e.key,t.key)}}class I3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new cr(ji.fs)}checkEmpty(e){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.As;this.As++;const c=new eM(o,t,r,i);this.mutationQueue.push(c);for(const h of i)this.Rs=this.Rs.add(new ji(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,t){return fe.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ps(t+1),o=i<0?0:i;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ji(t,0),i=new ji(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],c=>{const h=this.vs(c.Es);o.push(h)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cr(Kt);return t.forEach(i=>{const o=new ji(i,0),c=new ji(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,c],h=>{r=r.add(h.Es)})}),fe.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;et.isDocumentKey(o)||(o=o.child(""));const c=new ji(new et(o),0);let h=new cr(Kt);return this.Rs.forEachWhile(_=>{const b=_.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(h=h.add(_.Es)),!0)},c),fe.resolve(this.bs(h))}bs(e){const t=[];return e.forEach(r=>{const i=this.vs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){At(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return fe.forEach(t.mutations,i=>{const o=new ji(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new ji(t,0),i=this.Rs.firstAfterOrEqual(r);return fe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return fe.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class S3{constructor(e){this.Ss=e,this.docs=new rr(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,c=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():ur.newInvalidDocument(t))}getEntries(e,t){let r=bo();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ur.newInvalidDocument(i))}),fe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=bo();const c=t.path,h=new et(c.child("")),_=this.docs.getIteratorFrom(h);for(;_.hasNext();){const{key:b,value:{document:D}}=_.getNext();if(!c.isPrefixOf(b.path))break;b.path.length>c.length+1||Vx(FN(D),r)<=0||(i.has(D.key)||Mb(t,D))&&(o=o.insert(D.key,D.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ht()}Ds(e,t){return fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new T3(this)}getSize(e){return fe.resolve(this.size)}}class T3 extends IL{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),fe.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class A3{constructor(e){this.persistence=e,this.Cs=new nd(t=>Sg(t),Ab),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new _M,this.targetCount=0,this.ks=Ng.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,i)=>t(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),fe.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Ng(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.$n(t),fe.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Cs.forEach((c,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Cs.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),fe.waitFor(o).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(c=>{o.push(i.markPotentiallyOrphaned(e,c))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this.Ns.containsKey(t))}}class yM{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Go(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new A3(this),this.indexManager=new p3,this.remoteDocumentCache=new S3(r=>this.referenceDelegate.Bs(r)),this.serializer=new rL(t),this.Ls=new C3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new D3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new I3(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){je("MemoryPersistence","Starting transaction:",e);const i=new x3(this.Os.next());return this.referenceDelegate.qs(),r(i).next(o=>this.referenceDelegate.Us(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ks(e,t){return fe.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class x3 extends VN{constructor(e){super(),this.currentSequenceNumber=e}}class xD{constructor(e){this.persistence=e,this.Gs=new _M,this.Qs=null}static js(e){return new xD(e)}get zs(){if(this.Qs)return this.Qs;throw ht()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.zs.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.zs,r=>{const i=et.fromPath(r);return this.Ws(e,i).next(o=>{o||t.removeEntry(i,Rt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return fe.or([()=>fe.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class M3{constructor(e){this.serializer=e}$(e,t,r,i){const o=new iD("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jN,{unique:!0}),h.createObjectStore("documentMutations"),RL(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=fe.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),RL(e)),c=c.next(()=>function(h){const _=h.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(o))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(h,_){return _.store("mutations").j().next(b=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jN,{unique:!0});const D=_.store("mutations"),M=b.map(F=>D.put(F));return fe.waitFor(M)})}(e,o))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Js(o))),r<6&&i>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(o)))),r<7&&i>=7&&(c=c.next(()=>this.Xs(o))),r<8&&i>=8&&(c=c.next(()=>this.Zs(e,o))),r<9&&i>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.ti(o))),r<11&&i>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:fj});_.createIndex("collectionPathOverlayIndex",pj,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",gj,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:nj});_.createIndex("documentKeyIndex",rj),_.createIndex("collectionGroupIndex",ij)}(e)).next(()=>this.ei(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.ni(e,o))),r<15&&i>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:cj}).createIndex("sequenceNumberIndex",uj,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:dj}).createIndex("documentKeyIndex",hj,{unique:!1})}(e))),c}Ys(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=SD(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Js(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>fe.forEach(i,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(h=>fe.forEach(h,_=>{At(_.userId===o.userId);const b=kg(this.serializer,_);return yL(e,o.userId,b).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.X((c,h)=>{const _=new bn(c),b=[0,xs(_)];o.push(t.get(b).next(D=>D?fe.resolve():t.put({targetId:0,path:xs(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>fe.waitFor(o))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:lj});const r=t.store("collectionParents"),i=new mM,o=c=>{if(i.add(c)){const h=c.lastSegment(),_=c.popLast();return r.put({collectionId:h,parent:xs(_)})}};return t.store("remoteDocuments").X({Y:!0},(c,h)=>{const _=new bn(c);return o(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,h,_],b)=>{const D=Mc(h);return o(D.popLast())}))}ti(e){const t=e.store("targets");return t.X((r,i)=>{const o=Hb(i),c=sL(this.serializer,o);return t.put(c)})}ei(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((o,c)=>{const h=t.store("remoteDocumentsV14"),_=(b=c,b.document?new et(bn.fromString(b.document.name).popFirst(5)):b.noDocument?et.fromSegments(b.noDocument.path):b.unknownDocument?et.fromSegments(b.unknownDocument.path):ht()).path.toArray();var b;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(h.put(D))}).next(()=>fe.waitFor(i))}ni(e,t){const r=t.store("mutations"),i=SL(this.serializer),o=new yM(xD.js,this.serializer.le);return r.j().next(c=>{const h=new Map;return c.forEach(_=>{var b;let D=null!==(b=h.get(_.userId))&&void 0!==b?b:nn();kg(this.serializer,_).keys().forEach(M=>D=D.add(M)),h.set(_.userId,D)}),fe.forEach(h,(_,b)=>{const D=new Ui(b),M=ED.fe(this.serializer,D),F=o.getIndexManager(D),H=TD.fe(D,this.serializer,F,o.referenceDelegate);return new ML(i,H,M,F).recalculateAndSaveOverlaysForDocumentKeys(new Hx(t,Go.ct),_).next()})})}}function RL(n){n.createObjectStore("targetDocuments",{keyPath:oj}).createIndex("documentTargetsIndex",aj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sj,{unique:!0}),n.createObjectStore("targetGlobal")}const vM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bM{constructor(e,t,r,i,o,c,h,_,b,D,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=o,this.window=c,this.document=h,this.ii=b,this.ri=D,this.oi=M,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=F=>Promise.resolve(),!bM.D())throw new Fe(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new v3(this,i),this.fi=t+"main",this.serializer=new rL(_),this.di=new Il(this.fi,this.oi,new M3(this.serializer)),this.Fs=new m3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=SL(this.serializer),this.Ls=new a3,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===D&&Qr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(_e.FAILED_PRECONDITION,vM);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Go(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var r=(0,ve.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>RD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(Bh(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return Wb(e).get("owner").next(t=>fe.resolve(this.Ri(t)))}vi(e){return RD(e).delete(this.clientId)}Pi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Hi(r,"clientMetadata");return i.j().next(o=>{const c=e.Vi(o,18e5),h=o.filter(_=>-1===c.indexOf(_));return fe.forEach(h,_=>i.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Si(r.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?fe.resolve(!0):Wb(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Fe(_e.FAILED_PRECONDITION,vM);return!1}}return!(!this.networkEnabled||!this.inForeground)||RD(e).j().next(r=>void 0===this.Vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Hx(t,Go.ct);return e.Ei(r).next(()=>e.vi(r))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(r=>this.bi(r.updateTimeMs,t)&&!this.Di(r.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>RD(e).j().next(t=>this.Vi(t,18e5).map(r=>r.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return TD.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new g3(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return ED.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,r){je("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=15===(c=this.oi)?_j:14===c?qN:13===c?GN:12===c?mj:11===c?$N:void ht();var c;let h;return this.di.runTransaction(e,i,o,_=>(h=new Hx(_,this.Os?this.Os.next():Go.ct),"readwrite-primary"===t?this.Ii(h).next(b=>!!b||this.Ti(h)).next(b=>{if(!b)throw Qr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Fe(_e.FAILED_PRECONDITION,LN);return r(h)}).next(b=>this.Ai(h).next(()=>b)):this.Oi(h).next(()=>r(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}Oi(e){return Wb(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(_e.FAILED_PRECONDITION,vM)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wb(e).put("owner",t)}static D(){return Il.D()}Ei(e){const t=Wb(e);return t.get("owner").next(r=>this.Ri(r)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):fe.resolve())}bi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Qr(`Detected an update time that is in the future: ${e} > ${r}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,_n.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return je("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Qr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){Qr("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wb(n){return Hi(n,"owner")}function RD(n){return Hi(n,"clientMetadata")}function wM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class EM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=i}static Bi(e,t){let r=nn(),i=nn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new EM(e,t.fromCache,r,i)}}class kL{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ui(e,t).next(o=>o||this.Ki(e,t,i,r)).next(o=>o||this.Gi(e,t))}Ui(e,t){if(mF(t))return fe.resolve(null);let r=to(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=gD(t,null,"F"),r=to(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=nn(...o);return this.qi.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(_=>{const b=this.Qi(t,h);return this.ji(t,b,c,_.readTime)?this.Ui(e,gD(t,null,"F")):this.zi(e,b,t,_)}))})))}Ki(e,t,r,i){return mF(t)||i.isEqual(Rt.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(o=>{const c=this.Qi(t,o);return this.ji(t,c,r,i)?this.Gi(e,t):(Nx()<=Ac.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qx(t)),this.zi(e,c,t,NN(i,-1)))})}Qi(e,t){let r=new cr(vF(e));return t.forEach((i,o)=>{Mb(e,o)&&(r=r.add(o))}),r}ji(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Gi(e,t){return Nx()<=Ac.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Qx(t)),this.qi.getDocumentsMatchingQuery(e,t,$o.min())}zi(e,t,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}class R3{constructor(e,t,r,i){this.persistence=e,this.Wi=t,this.serializer=i,this.Hi=new rr(Kt),this.Ji=new nd(o=>Sg(o),Ab),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ML(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function PL(n,e,t,r){return new R3(n,e,t,r)}function OL(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,ve.Z)(function*(n,e){const t=nt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],h=[];let _=nn();for(const b of i){c.push(b.batchId);for(const D of b.mutations)_=_.add(D.key)}for(const b of o){h.push(b.batchId);for(const D of b.mutations)_=_.add(D.key)}return t.localDocuments.getDocuments(r,_).next(b=>({tr:b,removedBatchIds:c,addedBatchIds:h}))})})}),CM.apply(this,arguments)}function k3(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Xi.newChangeBuffer({trackRemovals:!0});return function(c,h,_,b){const D=_.batch,M=D.keys();let F=fe.resolve();return M.forEach(H=>{F=F.next(()=>b.getEntry(h,H)).next(Q=>{const ae=_.docVersions.get(H);At(null!==ae),Q.version.compareTo(ae)<0&&(D.applyToRemoteDocument(Q,_),Q.isValidDocument()&&(Q.setReadTime(_.commitVersion),b.addEntry(Q)))})}),F.next(()=>c.mutationQueue.removeMutationBatch(h,D))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=nn();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(h=h.add(c.batch.mutations[_].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function NL(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function P3(n,e){const t=nt(n),r=e.snapshotVersion;let i=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Xi.newChangeBuffer({trackRemovals:!0});i=t.Hi;const h=[];e.targetChanges.forEach((D,M)=>{const F=i.get(M);if(!F)return;h.push(t.Fs.removeMatchingKeys(o,D.removedDocuments,M).next(()=>t.Fs.addMatchingKeys(o,D.addedDocuments,M)));let H=F.withSequenceNumber(o.currentSequenceNumber);var Q,ae,ye;null!==e.targetMismatches.get(M)?H=H.withResumeToken(Ii.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):D.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(D.resumeToken,r)),i=i.insert(M,H),ae=H,ye=D,(0===(Q=F).resumeToken.approximateByteSize()||ae.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0)&&h.push(t.Fs.updateTargetData(o,H))});let _=bo(),b=nn();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,D))}),h.push(FL(o,c,e.documentUpdates).next(D=>{_=D.er,b=D.nr})),!r.isEqual(Rt.min())){const D=t.Fs.getLastRemoteSnapshotVersion(o).next(M=>t.Fs.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(D)}return fe.waitFor(h).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,_,b)).next(()=>_)}).then(o=>(t.Hi=i,o))}function FL(n,e,t){let r=nn(),i=nn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=bo();return t.forEach((h,_)=>{const b=o.get(h);_.isFoundDocument()!==b.isFoundDocument()&&(i=i.add(h)),_.isNoDocument()&&_.version.isEqual(Rt.min())?(e.removeEntry(h,_.readTime),c=c.insert(h,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),c=c.insert(h,_)):je("LocalStore","Ignoring outdated watch update for ",h,". Current version:",b.version," Watch version:",_.version)}),{er:c,nr:i}})}function O3(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sy(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Fs.getTargetData(r,e).next(o=>o?(i=o,fe.resolve(i)):t.Fs.allocateTargetId(r).next(c=>(i=new id(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Hi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}function oy(n,e,t){return DM.apply(this,arguments)}function DM(){return DM=(0,ve.Z)(function*(n,e,t){const r=nt(n),i=r.Hi.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Bh(c))throw c;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}),DM.apply(this,arguments)}function kD(n,e,t){const r=nt(n);let i=Rt.min(),o=nn();return r.persistence.runTransaction("Execute query","readonly",c=>function(h,_,b){const D=nt(h),M=D.Ji.get(b);return void 0!==M?fe.resolve(D.Hi.get(M)):D.Fs.getTargetData(_,b)}(r,c,to(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(c,h.targetId).next(_=>{o=_})}).next(()=>r.Wi.getDocumentsMatchingQuery(c,e,t?i:Rt.min(),t?o:nn())).next(h=>(BL(r,yF(e),h),{documents:h,sr:o})))}function LL(n,e){const t=nt(n),r=nt(t.Fs),i=t.Hi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.he(o,e).next(c=>c?c.target:null))}function VL(n,e){const t=nt(n),r=t.Yi.get(e)||Rt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Xi.getAllFromCollectionGroup(i,e,NN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(BL(t,e,i),i))}function BL(n,e,t){let r=n.Yi.get(e)||Rt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Yi.set(e,r)}function IM(){return IM=(0,ve.Z)(function*(n,e,t,r){const i=nt(n);let o=nn(),c=bo();for(const b of t){const D=e.ir(b.metadata.name);b.document&&(o=o.add(D));const M=e.rr(b);M.setReadTime(e.ur(b.metadata.readTime)),c=c.insert(D,M)}const h=i.Xi.newChangeBuffer({trackRemovals:!0}),_=yield sy(i,(b=r,to(Y_(bn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>FL(b,h,c).next(D=>(h.apply(b),D)).next(D=>i.Fs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>i.Fs.addMatchingKeys(b,o,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(b,D.er,D.nr)).next(()=>D.er)))}),IM.apply(this,arguments)}function F3(n,e){return SM.apply(this,arguments)}function SM(){return SM=(0,ve.Z)(function*(n,e,t=nn()){const r=yield sy(n,to(uM(e.bundledQuery))),i=nt(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const c=Xr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ls.saveNamedQuery(o,e);const h=r.withResumeToken(Ii.EMPTY_BYTE_STRING,c);return i.Hi=i.Hi.insert(h.targetId,h),i.Fs.updateTargetData(o,h).next(()=>i.Fs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Fs.addMatchingKeys(o,t,r.targetId)).next(()=>i.Ls.saveNamedQuery(o,e))})}),SM.apply(this,arguments)}function UL(n,e){return`firestore_clients_${n}_${e}`}function HL(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function TM(n,e){return`firestore_targets_${n}_${e}`}class PD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static cr(e,t,r){const i=JSON.parse(r);let o,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(o=new Fe(i.error.code,i.error.message))),c?new PD(e,t,i.state,o):(Qr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static cr(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Fe(r.error.code,r.error.message))),o?new Kb(e,r.state,i):(Qr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class OD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Xx();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=UN(r.activeTargetIds[c]),o=o.add(r.activeTargetIds[c]);return i?new OD(e,o):(Qr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class AM{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new AM(t.clientId,t.onlineState):(Qr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xM{constructor(){this.activeTargetIds=Xx()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MM{constructor(e,t,r,i,o){this.window=e,this.si=t,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new rr(Kt),this.started=!1,this.gr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.yr=UL(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new xM),this.Ir=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.Mi();for(const i of t){if(i===e.dr)continue;const o=e.getItem(UL(e.persistenceKey,i));if(o){const c=OD.cr(i,o);c&&(e.mr=e.mr.insert(c.clientId,c))}}e.vr();const r=e.storage.getItem(e.Ar);if(r){const i=e.Pr(r);i&&e.br(i)}for(const i of e.gr)e.wr(i);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,r){this.Sr(e,t,r),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(TM(this.persistenceKey,e));if(r){const i=Kb.cr(e,r);i&&(t=i.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(TM(this.persistenceKey,e))}updateQueryState(e,t,r){this.Nr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Dr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(je("SharedClientState","EVENT",r.key,r.newValue),r.key===this.yr)return void Qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ir.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.$r(i,null)}{const i=t.Fr(r.key,r.newValue);if(i)return t.$r(i.clientId,i)}}else if(t.Tr.test(r.key)){if(null!==r.newValue){const i=t.Br(r.key,r.newValue);if(i)return t.Lr(i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.qr(r.key,r.newValue);if(i)return t.Ur(i)}}else if(r.key===t.Ar){if(null!==r.newValue){const i=t.Pr(r.newValue);if(i)return t.br(i)}}else if(r.key===t.pr){const i=function(o){let c=Go.ct;if(null!=o)try{const h=JSON.parse(o);At("number"==typeof h),c=h}catch(h){Qr("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(r.newValue);i!==Go.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Kr(r.newValue);yield Promise.all(i.map(o=>t.syncEngine.Gr(o)))}}else t.gr.push(r)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,r){const i=new PD(this.currentUser,e,t,r),o=HL(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ar())}Dr(e){const t=HL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,r){const i=TM(this.persistenceKey,e),o=new Kb(e,t,r);this.setItem(i,o.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const r=this.Or(e);return OD.cr(r,t)}Br(e,t){const r=this.Tr.exec(e),i=Number(r[1]);return PD.cr(new Ui(void 0!==r[2]?r[2]:null),i,t)}qr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return Kb.cr(i,t)}Pr(e){return AM.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),o=this.Vr(r),c=[],h=[];return o.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{o.has(_)||h.push(_)}),this.syncEngine.zr(c,h).then(()=>{this.mr=r})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=Xx();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class jL{constructor(){this.Wr=new xM,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new xM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class L3{Jr(e){}shutdown(){}}class zL{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ND=null;function RM(){return null===ND?ND=268435456+Math.round(2147483648*Math.random()):ND++,"0x"+ND.toString(16)}const V3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B3{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Rs="WebChannelConnection";class U3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,i,o){const c=RM(),h=this.Io(e,t);je("RestConnection",`Sending RPC '${e}' ${c}:`,h,r);const _={};return this.To(_,i,o),this.Eo(e,h,_,r).then(b=>(je("RestConnection",`Received RPC '${e}' ${c}: `,b),b),b=>{throw Oa("RestConnection",`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",r),b})}Ao(e,t,r,i,o,c){return this.po(e,t,r,i,o)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+$_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Io(e,t){return`${this.wo}/v1/${t}:${V3[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,i){const o=RM();return new Promise((c,h)=>{const _=new FH;_.setWithCredentials(!0),_.listenOnce(PH.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ox.NO_ERROR:const D=_.getResponseJson();je(Rs,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(D)),c(D);break;case Ox.TIMEOUT:je(Rs,`RPC '${e}' ${o} timed out`),h(new Fe(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Ox.HTTP_ERROR:const M=_.getStatus();if(je(Rs,`RPC '${e}' ${o} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const H=F?.error;if(H&&H.status&&H.message){const Q=function(ae){const ye=ae.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(ye)>=0?ye:_e.UNKNOWN}(H.status);h(new Fe(Q,H.message))}else h(new Fe(_e.UNKNOWN,"Server responded with status "+_.getStatus()))}else h(new Fe(_e.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{je(Rs,`RPC '${e}' ${o} completed.`)}});const b=JSON.stringify(i);je(Rs,`RPC '${e}' ${o} sending request:`,i),_.send(t,"POST",b,r,15)})}Ro(e,t,r){const i=RM(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=RH(),h=kH(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new NH({})),this.To(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const b=o.join("");je(Rs,`Creating RPC '${e}' stream ${i}: ${b}`,_);const D=c.createWebChannel(b,_);let M=!1,F=!1;const H=new B3({io:ae=>{F?je(Rs,`Not sending because RPC '${e}' stream ${i} is closed:`,ae):(M||(je(Rs,`Opening RPC '${e}' stream ${i} transport.`),D.open(),M=!0),je(Rs,`RPC '${e}' stream ${i} sending:`,ae),D.send(ae))},ro:()=>D.close()}),Q=(ae,ye,We)=>{ae.listen(ye,st=>{try{We(st)}catch(tt){setTimeout(()=>{throw tt},0)}})};return Q(D,tD.EventType.OPEN,()=>{F||je(Rs,`RPC '${e}' stream ${i} transport opened.`)}),Q(D,tD.EventType.CLOSE,()=>{F||(F=!0,je(Rs,`RPC '${e}' stream ${i} transport closed`),H.fo())}),Q(D,tD.EventType.ERROR,ae=>{F||(F=!0,Oa(Rs,`RPC '${e}' stream ${i} transport errored:`,ae),H.fo(new Fe(_e.UNAVAILABLE,"The operation could not be completed")))}),Q(D,tD.EventType.MESSAGE,ae=>{var ye;if(!F){const We=ae.data[0];At(!!We);const st=We,tt=st.error||(null===(ye=st[0])||void 0===ye?void 0:ye.error);if(tt){je(Rs,`RPC '${e}' stream ${i} received error:`,tt);const Et=tt.status;let qt=function(An){const zi=ai[An];if(void 0!==zi)return LF(zi)}(Et),Qt=tt.message;void 0===qt&&(qt=_e.INTERNAL,Qt="Unknown error status: "+Et+" with message "+tt.message),F=!0,H.fo(new Fe(qt,Qt)),D.close()}else je(Rs,`RPC '${e}' stream ${i} received:`,We),H._o(We)}}),Q(h,OH.STAT_EVENT,ae=>{ae.stat===xN.PROXY?je(Rs,`RPC '${e}' stream ${i} detected buffering proxy`):ae.stat===xN.NOPROXY&&je(Rs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{H.lo()},0),H}}function $L(){return typeof window<"u"?window:null}function FD(){return typeof document<"u"?document:null}function Zb(n){return new Zj(n,!0)}class kM{constructor(e,t,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class GL{constructor(e,t,r,i,o,c,h,_){this.si=e,this.Mo=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new kM(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,ve.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,ve.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===_e.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===t&&this.Xo(r,i)},r=>{e(()=>{const i=new Fe(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,ve.Z)(function*(){e.state=0,e.start()}))}Zo(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H3 extends GL{constructor(e,t,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function Xj(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ht(),i=e.targetChange.targetIds||[],o=function(_,b){return _.useProto3Json?(At(void 0===b||"string"==typeof b),Ii.fromBase64String(b||"")):(At(void 0===b||b instanceof Uint8Array),Ii.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(_){const b=void 0===_.code?_e.UNKNOWN:LF(_.code);return new Fe(b,_.message||"")}(c);t=new jF(r,i,o,h||null)}else if("documentChange"in e){const r=e.documentChange,i=Pc(n,r.document.name),o=Xr(r.document.updateTime),c=r.document.createTime?Xr(r.document.createTime):Rt.min(),h=new us({mapValue:{fields:r.document.fields}}),_=ur.newFoundDocument(i,o,c,h);t=new bD(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=Pc(n,r.document),o=r.readTime?Xr(r.readTime):Rt.min(),c=ur.newNoDocument(i,o);t=new bD([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Pc(n,r.document);t=new bD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ht();{const r=e.filter,{count:i=0,unchangedNames:o}=r,c=new zj(i,o);t=new HF(r.targetId,c)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Rt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Rt.min():o.readTime?Xr(o.readTime):Rt.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=Bb(this.serializer),t.addTarget=function(i,o){let c;const h=o.target;if(c=hD(h)?{documents:XF(i,h)}:{query:cM(i,h)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=qF(i,o.resumeToken);const _=sM(i,o.expectedCount);null!==_&&(c.expectedCount=_)}else if(o.snapshotVersion.compareTo(Rt.min())>0){c.readTime=ty(i,o.snapshotVersion.toTimestamp());const _=sM(i,o.expectedCount);null!==_&&(c.expectedCount=_)}return c}(this.serializer,e);const r=function e3(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=Bb(this.serializer),t.removeTarget=e,this.zo(t)}}class j3 extends GL{constructor(e,t,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function Jj(n,e){return n&&n.length>0?(At(void 0!==e),n.map(t=>function(r,i){let o=Xr(r.updateTime?r.updateTime:i);return o.isEqual(Rt.min())&&(o=Xr(i)),new Bj(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Xr(e.commitTime);return this.listener.uu(r,t)}return At(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=Bb(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ub(this.serializer,r))};this.zo(t)}}class z3 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.po(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(_e.UNKNOWN,i.toString())})}Ao(e,t,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Ao(e,t,r,o,c,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(_e.UNKNOWN,o.toString())})}terminate(){this.hu=!0}}class G3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Qr(t),this.wu=!1):je("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class q3{constructor(e,t,r,i,o){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=o,this.vu.Jr(h=>{r.enqueueAndForget((0,ve.Z)(function*(){var _;Qh(c)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ve.Z)(function*(b){const D=nt(b);D.Au.add(4),yield ay(D),D.Pu.set("Unknown"),D.Au.delete(4),yield Yb(D)}),function(b){return _.apply(this,arguments)})(c))}))}),this.Pu=new G3(r,i)}}function Yb(n){return OM.apply(this,arguments)}function OM(){return OM=(0,ve.Z)(function*(n){if(Qh(n))for(const e of n.Ru)yield e(!0)}),OM.apply(this,arguments)}function ay(n){return NM.apply(this,arguments)}function NM(){return NM=(0,ve.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),NM.apply(this,arguments)}function LD(n,e){const t=nt(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),VM(t)?LM(t):cy(t).Uo()&&FM(t,e))}function Qb(n,e){const t=nt(n),r=cy(t);t.Eu.delete(e),r.Uo()&&qL(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():Qh(t)&&t.Pu.set("Unknown"))}function FM(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cy(n).nu(e)}function qL(n,e){n.bu.Lt(e),cy(n).su(e)}function LM(n){n.bu=new Gj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),cy(n).start(),n.Pu.mu()}function VM(n){return Qh(n)&&!cy(n).qo()&&n.Eu.size>0}function Qh(n){return 0===nt(n).Au.size}function WL(n){n.bu=void 0}function W3(n){return BM.apply(this,arguments)}function BM(){return BM=(0,ve.Z)(function*(n){n.Eu.forEach((e,t)=>{FM(n,e)})}),BM.apply(this,arguments)}function K3(n,e){return UM.apply(this,arguments)}function UM(){return UM=(0,ve.Z)(function*(n,e){WL(n),VM(n)?(n.Pu.pu(e),LM(n)):n.Pu.set("Unknown")}),UM.apply(this,arguments)}function Z3(n,e,t){return HM.apply(this,arguments)}function HM(){return HM=(0,ve.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof jF&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(i,o){const c=o.cause;for(const h of o.targetIds)i.Eu.has(h)&&(yield i.remoteSyncer.rejectListen(h,c),i.Eu.delete(h),i.bu.removeTarget(h))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield VD(n,r)}else if(e instanceof bD?n.bu.Wt(e):e instanceof HF?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(Rt.min()))try{const r=yield NL(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const c=i.bu.ue(o);return c.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const b=i.Eu.get(_);b&&i.Eu.set(_,b.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach((h,_)=>{const b=i.Eu.get(h);if(!b)return;i.Eu.set(h,b.withResumeToken(Ii.EMPTY_BYTE_STRING,b.snapshotVersion)),qL(i,h);const D=new id(b.target,h,_,b.sequenceNumber);FM(i,D)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){je("RemoteStore","Failed to raise snapshot:",r),yield VD(n,r)}var r}),HM.apply(this,arguments)}function VD(n,e,t){return jM.apply(this,arguments)}function jM(){return jM=(0,ve.Z)(function*(n,e,t){if(!Bh(e))throw e;n.Au.add(1),yield ay(n),n.Pu.set("Offline"),t||(t=()=>NL(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield Yb(n)}))}),jM.apply(this,arguments)}function KL(n,e){return e().catch(t=>VD(n,t,e))}function ly(n){return zM.apply(this,arguments)}function zM(){return zM=(0,ve.Z)(function*(n){const e=nt(n),t=Xh(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;Y3(e);)try{const i=yield O3(e.localStore,r);if(null===i){0===e.Tu.length&&t.Qo();break}r=i.batchId,Q3(e,i)}catch(i){yield VD(e,i)}ZL(e)&&YL(e)}),zM.apply(this,arguments)}function Y3(n){return Qh(n)&&n.Tu.length<10}function Q3(n,e){n.Tu.push(e);const t=Xh(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function ZL(n){return Qh(n)&&!Xh(n).qo()&&n.Tu.length>0}function YL(n){Xh(n).start()}function X3(n){return $M.apply(this,arguments)}function $M(){return $M=(0,ve.Z)(function*(n){Xh(n).au()}),$M.apply(this,arguments)}function J3(n){return GM.apply(this,arguments)}function GM(){return GM=(0,ve.Z)(function*(n){const e=Xh(n);for(const t of n.Tu)e.ou(t.mutations)}),GM.apply(this,arguments)}function ez(n,e,t){return qM.apply(this,arguments)}function qM(){return qM=(0,ve.Z)(function*(n,e,t){const r=n.Tu.shift(),i=tM.from(r,e,t);yield KL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ly(n)}),qM.apply(this,arguments)}function tz(n,e){return WM.apply(this,arguments)}function WM(){return WM=(0,ve.Z)(function*(n,e){var t;e&&Xh(n).ru&&(yield(t=(0,ve.Z)(function*(r,i){if(FF(o=i.code)&&o!==_e.ABORTED){const c=r.Tu.shift();Xh(r).Go(),yield KL(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield ly(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),ZL(n)&&YL(n)}),WM.apply(this,arguments)}function QL(n,e){return KM.apply(this,arguments)}function KM(){return KM=(0,ve.Z)(function*(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=Qh(t);t.Au.add(3),yield ay(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield Yb(t)}),KM.apply(this,arguments)}function ZM(n,e){return YM.apply(this,arguments)}function YM(){return YM=(0,ve.Z)(function*(n,e){const t=nt(n);e?(t.Au.delete(2),yield Yb(t)):e||(t.Au.add(2),yield ay(t),t.Pu.set("Unknown"))}),YM.apply(this,arguments)}function cy(n){return n.Vu||(n.Vu=function(e,t,r){const i=nt(e);return i.lu(),new H3(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:W3.bind(null,n),co:K3.bind(null,n),eu:Z3.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Vu.Go(),VM(n)?LM(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),WL(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function Xh(n){return n.Su||(n.Su=function(e,t,r){const i=nt(e);return i.lu(),new j3(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:X3.bind(null,n),co:tz.bind(null,n),cu:J3.bind(null,n),uu:ez.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Su.Go(),yield ly(n)):(yield n.Su.stop(),n.Tu.length>0&&(je("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class QM{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,o){const c=Date.now()+r,h=new QM(e,t,c,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uy(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),Bh(n))return new Fe(_e.UNAVAILABLE,`${e}: ${n}`);throw n}class dy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=Rb(),this.sortedSet=new rr(this.comparator)}static emptySet(e){return new dy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new dy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class XL{constructor(){this.Du=new rr(et.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):ht():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class hy{constructor(e,t,r,i,o,c,h,_,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,i,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new hy(e,t,dy.emptySet(t),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class nz{constructor(){this.xu=void 0,this.listeners=[]}}class rz{constructor(){this.queries=new nd(e=>_F(e),xb),this.onlineState="Unknown",this.Nu=new Set}}function XM(n,e){return JM.apply(this,arguments)}function JM(){return JM=(0,ve.Z)(function*(n,e){const t=nt(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new nz),i)try{o.xu=yield t.onListen(r)}catch(c){const h=uy(c,`Initialization of query '${Qx(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,o),o.listeners.push(e),e.ku(t.onlineState),o.xu&&e.Mu(o.xu)&&nR(t)}),JM.apply(this,arguments)}function eR(n,e){return tR.apply(this,arguments)}function tR(){return tR=(0,ve.Z)(function*(n,e){const t=nt(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),tR.apply(this,arguments)}function iz(n,e){const t=nt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const h of c.listeners)h.Mu(i)&&(r=!0);c.xu=i}}r&&nR(t)}function sz(n,e,t){const r=nt(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function nR(n){n.Nu.forEach(e=>{e.next()})}class rR{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new hy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=hy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class oz{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class JL{constructor(e){this.serializer=e}ir(e){return Pc(this.serializer,e)}rr(e){return e.metadata.exists?QF(this.serializer,e.document,!1):ur.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return Xr(e)}}class az{constructor(e,t,r){this.Qu=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=e2(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const r=bn.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,r=new JL(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ir(i.metadata.name);for(const c of i.metadata.queries){const h=(t.get(c)||nn()).add(o);t.set(c,h)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function N3(n,e,t,r){return IM.apply(this,arguments)}(e.localStore,new JL(e.serializer),e.documents,e.Qu.id),r=e.zu(e.documents);for(const i of e.queries)yield F3(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function e2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class t2{constructor(e){this.key=e}}class n2{constructor(e){this.key=e}}class r2{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=nn(),this.mutatedKeys=nn(),this.Zu=vF(e),this.tc=new dy(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new XL,i=t?t.tc:this.tc;let o=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,M)=>{const F=i.get(D),H=Mb(this.query,M)?M:null,Q=!!F&&this.mutatedKeys.has(F.key),ae=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let ye=!1;F&&H?F.data.isEqual(H.data)?Q!==ae&&(r.track({type:3,doc:H}),ye=!0):this.ic(F,H)||(r.track({type:2,doc:H}),ye=!0,(_&&this.Zu(H,_)>0||b&&this.Zu(H,b)<0)&&(h=!0)):!F&&H?(r.track({type:0,doc:H}),ye=!0):F&&!H&&(r.track({type:1,doc:F}),ye=!0,(_||b)&&(h=!0)),ye&&(H?(c=c.add(H),o=ae?o.add(D):o.delete(D)):(c=c.delete(D),o=o.delete(D)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const D="F"===this.query.limitType?c.last():c.first();c=c.delete(D.key),o=o.delete(D.key),r.track({type:1,doc:D})}return{tc:c,sc:r,ji:h,mutatedKeys:o}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const o=e.sc.Cu();o.sort((b,D)=>function(M,F){const H=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return H(M)-H(F)}(b.type,D.type)||this.Zu(b.doc,D.doc)),this.rc(r);const c=t?this.oc():[],h=0===this.Xu.size&&this.current?1:0,_=h!==this.Yu;return this.Yu=h,0!==o.length||_?{snapshot:new hy(this.query,e.tc,i,o,e.mutatedKeys,0===h,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:c}:{uc:c}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new XL,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=nn(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new n2(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new t2(r))}),t}ac(e){this.Ju=e.sr,this.Xu=nn();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return hy.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class lz{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class cz{constructor(e){this.key=e,this.lc=!1}}class uz{constructor(e,t,r,i,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.fc={},this.dc=new nd(h=>_F(h),xb),this._c=new Map,this.wc=new Set,this.mc=new rr(et.comparator),this.gc=new Map,this.yc=new _M,this.Ic={},this.Tc=new Map,this.Ec=Ng.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function dz(n,e){return iR.apply(this,arguments)}function iR(){return iR=(0,ve.Z)(function*(n,e){const t=TR(n);let r,i;const o=t.dc.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.hc();else{const c=yield sy(t.localStore,to(e)),h=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield sR(t,e,r,"current"===h,c.resumeToken),t.isPrimaryClient&&LD(t.remoteStore,c)}return i}),iR.apply(this,arguments)}function sR(n,e,t,r,i){return oR.apply(this,arguments)}function oR(){return oR=(0,ve.Z)(function*(n,e,t,r,i){n.Rc=(M,F,H)=>{return(Q=(0,ve.Z)(function*(ae,ye,We,st){let tt=ye.view.nc(We);tt.ji&&(tt=yield kD(ae.localStore,ye.query,!1).then(({documents:Qt})=>ye.view.nc(Qt,tt)));const Et=st&&st.targetChanges.get(ye.targetId),qt=ye.view.applyChanges(tt,ae.isPrimaryClient,Et);return mR(ae,ye.targetId,qt.uc),qt.snapshot}),function(ae,ye,We,st){return Q.apply(this,arguments)})(n,M,F,H);var Q};const o=yield kD(n.localStore,e,!0),c=new r2(e,o.sr),h=c.nc(o.documents),_=Lb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),b=c.applyChanges(h,n.isPrimaryClient,_);mR(n,t,b.uc);const D=new lz(e,t,c);return n.dc.set(e,D),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),b.snapshot}),oR.apply(this,arguments)}function hz(n,e){return aR.apply(this,arguments)}function aR(){return aR=(0,ve.Z)(function*(n,e){const t=nt(n),r=t.dc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(o=>!xb(o,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield oy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Qb(t.remoteStore,r.targetId),fy(t,r.targetId)}).catch(Vh))):(fy(t,r.targetId),yield oy(t.localStore,r.targetId,!0))}),aR.apply(this,arguments)}function lR(){return lR=(0,ve.Z)(function*(n,e,t){const r=AR(n);try{const i=yield function(o,c){const h=nt(o),_=yr.now(),b=c.reduce((F,H)=>F.add(H.key),nn());let D,M;return h.persistence.runTransaction("Locally write mutations","readwrite",F=>{let H=bo(),Q=nn();return h.Xi.getEntries(F,b).next(ae=>{H=ae,H.forEach((ye,We)=>{We.isValidDocument()||(Q=Q.add(ye))})}).next(()=>h.localDocuments.getOverlayedDocuments(F,H)).next(ae=>{D=ae;const ye=[];for(const We of c){const st=Hj(We,D.get(We.key).overlayedDocument);null!=st&&ye.push(new rd(We.key,st,rF(st.value.mapValue),vr.exists(!0)))}return h.mutationQueue.addMutationBatch(F,_,ye,c)}).next(ae=>{M=ae;const ye=ae.applyToLocalDocumentSet(D,Q);return h.documentOverlayCache.saveOverlays(F,ae.batchId,ye)})}).then(()=>({batchId:M.batchId,changes:wF(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,h){let _=o.Ic[o.currentUser.toKey()];_||(_=new rr(Kt)),_=_.insert(c,h),o.Ic[o.currentUser.toKey()]=_}(r,i.batchId,t),yield sd(r,i.changes),yield ly(r.remoteStore)}catch(i){const o=uy(i,"Failed to persist write");t.reject(o)}}),lR.apply(this,arguments)}function s2(n,e){return cR.apply(this,arguments)}function cR(){return cR=(0,ve.Z)(function*(n,e){const t=nt(n);try{const r=yield P3(t.localStore,e);e.targetChanges.forEach((i,o)=>{const c=t.gc.get(o);c&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.lc=!0:i.modifiedDocuments.size>0?At(c.lc):i.removedDocuments.size>0&&(At(c.lc),c.lc=!1))}),yield sd(t,r,e)}catch(r){yield Vh(r)}}),cR.apply(this,arguments)}function o2(n,e,t){const r=nt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.dc.forEach((o,c)=>{const h=c.view.ku(e);h.snapshot&&i.push(h.snapshot)}),function(o,c){const h=nt(o);h.onlineState=c;let _=!1;h.queries.forEach((b,D)=>{for(const M of D.listeners)M.ku(c)&&(_=!0)}),_&&nR(h)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pz(n,e,t){return uR.apply(this,arguments)}function uR(){return uR=(0,ve.Z)(function*(n,e,t){const r=nt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.gc.get(e),o=i&&i.key;if(o){let c=new rr(et.comparator);c=c.insert(o,ur.newNoDocument(o,Rt.min()));const h=nn().add(o),_=new Fb(Rt.min(),new Map,new rr(Kt),c,h);yield s2(r,_),r.mc=r.mc.remove(o),r.gc.delete(e),_R(r)}else yield oy(r.localStore,e,!1).then(()=>fy(r,e,t)).catch(Vh)}),uR.apply(this,arguments)}function gz(n,e){return dR.apply(this,arguments)}function dR(){return dR=(0,ve.Z)(function*(n,e){const t=nt(n),r=e.batch.batchId;try{const i=yield k3(t.localStore,e);gR(t,r,null),pR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield sd(t,i)}catch(i){yield Vh(i)}}),dR.apply(this,arguments)}function mz(n,e,t){return hR.apply(this,arguments)}function hR(){return hR=(0,ve.Z)(function*(n,e,t){const r=nt(n);try{const i=yield function(o,c){const h=nt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return h.mutationQueue.lookupMutationBatch(_,c).next(D=>(At(null!==D),b=D.keys(),h.mutationQueue.removeMutationBatch(_,D))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,b,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>h.localDocuments.getDocuments(_,b))})}(r.localStore,e);gR(r,e,t),pR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield sd(r,i)}catch(i){yield Vh(i)}}),hR.apply(this,arguments)}function fR(){return fR=(0,ve.Z)(function*(n,e){const t=nt(n);Qh(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const c=nt(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Tc.get(r)||[];i.push(e),t.Tc.set(r,i)}catch(r){const i=uy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),fR.apply(this,arguments)}function pR(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function gR(n,e,t){const r=nt(n);let i=r.Ic[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function fy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||a2(n,r)})}function a2(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(Qb(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),_R(n))}function mR(n,e,t){for(const r of t)r instanceof t2?(n.yc.addReference(r.key,e),yz(n,r)):r instanceof n2?(je("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||a2(n,r.key)):ht()}function yz(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||(je("SyncEngine","New document in limbo: "+t),n.wc.add(r),_R(n))}function _R(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new et(bn.fromString(e)),r=n.Ec.next();n.gc.set(r,new cz(t)),n.mc=n.mc.insert(t,r),LD(n.remoteStore,new id(to(Y_(t.path)),r,"TargetPurposeLimboResolution",Go.ct))}}function sd(n,e,t){return yR.apply(this,arguments)}function yR(){return yR=(0,ve.Z)(function*(n,e,t){const r=nt(n),i=[],o=[],c=[];var h;r.dc.isEmpty()||(r.dc.forEach((h,_)=>{c.push(r.Rc(_,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){i.push(b);const D=EM.Bi(_.targetId,b);o.push(D)}}))}),yield Promise.all(c),r.fc.eu(i),yield(h=(0,ve.Z)(function*(_,b){const D=nt(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>fe.forEach(b,F=>fe.forEach(F.$i,H=>D.persistence.referenceDelegate.addReference(M,F.targetId,H)).next(()=>fe.forEach(F.Fi,H=>D.persistence.referenceDelegate.removeReference(M,F.targetId,H)))))}catch(M){if(!Bh(M))throw M;je("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const F=M.targetId;if(!M.fromCache){const H=D.Hi.get(F),ae=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);D.Hi=D.Hi.insert(F,ae)}}}),function(_,b){return h.apply(this,arguments)})(r.localStore,o))}),yR.apply(this,arguments)}function vz(n,e){return vR.apply(this,arguments)}function vR(){return vR=(0,ve.Z)(function*(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=yield OL(t.localStore,e);t.currentUser=e,(i=t).Tc.forEach(c=>{c.forEach(h=>{h.reject(new Fe(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield sd(t,r.tr)}var i}),vR.apply(this,arguments)}function bz(n,e){const t=nt(n),r=t.gc.get(e);if(r&&r.lc)return nn().add(r.key);{let i=nn();const o=t._c.get(e);if(!o)return i;for(const c of o){const h=t.dc.get(c);i=i.unionWith(h.view.ec)}return i}}function wz(n,e){return bR.apply(this,arguments)}function bR(){return bR=(0,ve.Z)(function*(n,e){const t=nt(n),r=yield kD(t.localStore,e.query,!0),i=e.view.ac(r);return t.isPrimaryClient&&mR(t,e.targetId,i.uc),i}),bR.apply(this,arguments)}function Ez(n,e){return wR.apply(this,arguments)}function wR(){return wR=(0,ve.Z)(function*(n,e){const t=nt(n);return VL(t.localStore,e).then(r=>sd(t,r))}),wR.apply(this,arguments)}function Cz(n,e,t,r){return ER.apply(this,arguments)}function ER(){return ER=(0,ve.Z)(function*(n,e,t,r){const i=nt(n),o=yield function(c,h){const _=nt(c),b=nt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>b.Vn(D,h).next(M=>M?_.localDocuments.getDocuments(D,M):fe.resolve(null)))}(i.localStore,e);var h;null!==o?("pending"===t?yield ly(i.remoteStore):"acknowledged"===t||"rejected"===t?(gR(i,e,r||null),pR(i,e),h=e,nt(nt(i.localStore).mutationQueue).Dn(h)):ht(),yield sd(i,o)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),ER.apply(this,arguments)}function CR(){return CR=(0,ve.Z)(function*(n,e){const t=nt(n);if(TR(t),AR(t),!0===e&&!0!==t.Ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield l2(t,r.toArray());t.Ac=!0,yield ZM(t.remoteStore,!0);for(const o of i)LD(t.remoteStore,o)}else if(!1===e&&!1!==t.Ac){const r=[];let i=Promise.resolve();t._c.forEach((o,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(fy(t,c),oy(t.localStore,c,!0))),Qb(t.remoteStore,c)}),yield i,yield l2(t,r),function(o){const c=nt(o);c.gc.forEach((h,_)=>{Qb(c.remoteStore,_)}),c.yc.Is(),c.gc=new Map,c.mc=new rr(et.comparator)}(t),t.Ac=!1,yield ZM(t.remoteStore,!1)}}),CR.apply(this,arguments)}function l2(n,e,t){return DR.apply(this,arguments)}function DR(){return DR=(0,ve.Z)(function*(n,e,t){const r=nt(n),i=[],o=[];for(const c of e){let h;const _=r._c.get(c);if(_&&0!==_.length){h=yield sy(r.localStore,to(_[0]));for(const b of _){const D=r.dc.get(b),M=yield wz(r,D);M.snapshot&&o.push(M.snapshot)}}else{const b=yield LL(r.localStore,c);h=yield sy(r.localStore,b),yield sR(r,c2(b),c,!1,h.resumeToken)}i.push(h)}return r.fc.eu(o),i}),DR.apply(this,arguments)}function c2(n){return gF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Iz(n){const e=nt(n);return nt(nt(e.localStore).persistence).Mi()}function Sz(n,e,t,r){return IR.apply(this,arguments)}function IR(){return IR=(0,ve.Z)(function*(n,e,t,r){const i=nt(n);if(i.Ac)return void je("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const c=yield VL(i.localStore,yF(o[0])),h=Fb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ii.EMPTY_BYTE_STRING);yield sd(i,c,h);break}case"rejected":yield oy(i.localStore,e,!0),fy(i,e,r);break;default:ht()}}),IR.apply(this,arguments)}function Tz(n,e,t){return SR.apply(this,arguments)}function SR(){return SR=(0,ve.Z)(function*(n,e,t){const r=TR(n);if(r.Ac){for(const i of e){if(r._c.has(i)){je("SyncEngine","Adding an already active target "+i);continue}const o=yield LL(r.localStore,i),c=yield sy(r.localStore,o);yield sR(r,c2(o),c.targetId,!1,c.resumeToken),LD(r.remoteStore,c)}for(const i of t)r._c.has(i)&&(yield oy(r.localStore,i,!1).then(()=>{Qb(r.remoteStore,i),fy(r,i)}).catch(Vh))}}),SR.apply(this,arguments)}function TR(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=s2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pz.bind(null,e),e.fc.eu=iz.bind(null,e.eventManager),e.fc.vc=sz.bind(null,e.eventManager),e}function AR(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mz.bind(null,e),e}class Xb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.serializer=Zb(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return PL(this.persistence,new kL,e.initialUser,this.serializer)}createPersistence(e){return new yM(xD.js,this.serializer)}createSharedClientState(e){return new jL}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xR extends Xb{constructor(e,t,r){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.bc.initialize(r,e),yield AR(r.bc.syncEngine),yield ly(r.bc.remoteStore),yield r.persistence.pi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return PL(this.persistence,new kL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new CL(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new JH(t,this.persistence);return new XH(e.asyncQueue,r)}createPersistence(e){const t=wM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ms.withCacheSize(this.cacheSizeBytes):Ms.DEFAULT;return new bM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,$L(),FD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new jL}}class u2 extends xR{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const i=r.bc.syncEngine;r.sharedClientState instanceof MM&&(r.sharedClientState.syncEngine={Qr:Cz.bind(null,i),jr:Sz.bind(null,i),zr:Tz.bind(null,i),Mi:Iz.bind(null,i),Gr:Ez.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.pi(function(){var o=(0,ve.Z)(function*(c){yield function Dz(n,e){return CR.apply(this,arguments)}(r.bc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=$L();if(!MM.D(t))throw new Fe(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=wM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new MM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class py{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>o2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=vz.bind(null,r.syncEngine),yield ZM(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new rz}createDatastore(e){const t=Zb(e.databaseInfo.databaseId),r=new U3(e.databaseInfo);return new z3(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=h=>o2(this.syncEngine,h,0),c=zL.D()?new zL:new L3,new q3(t,r,i,o,c);var t,r,i,o,c}createSyncEngine(e,t){return function(r,i,o,c,h,_,b){const D=new uz(r,i,o,c,h,_);return b&&(D.Ac=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=nt(t);je("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield ay(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function d2(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class BD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Mz{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new Di,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(r=>{r&&r.Gu()?this.metadata.resolve(r.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Ku)}`))},r=>this.metadata.reject(r))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const r=e.Cc.decode(t),i=Number(r);isNaN(i)&&e.kc(`length string (${r}) is not valid number`);const o=yield e.Mc(i);return new oz(JSON.parse(o),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,ve.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Mc(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const r=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Rz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ve.Z)(function*(o,c){const h=nt(o),_=Bb(h.serializer)+"/documents",b={documents:c.map(H=>Vb(h.serializer,H))},D=yield h.Ao("BatchGetDocuments",_,b,c.length),M=new Map;D.forEach(H=>{const Q=function Qj(n,e){return"found"in e?function(t,r){At(!!r.found);const i=Pc(t,r.found.name),o=Xr(r.found.updateTime),c=r.found.createTime?Xr(r.found.createTime):Rt.min(),h=new us({mapValue:{fields:r.found.fields}});return ur.newFoundDocument(i,o,c,h)}(n,e):"missing"in e?function(t,r){At(!!r.missing),At(!!r.readTime);const i=Pc(t,r.missing),o=Xr(r.readTime);return ur.newNoDocument(i,o)}(n,e):ht()}(h.serializer,H);M.set(Q.key.toString(),Q)});const F=[];return c.forEach(H=>{const Q=M.get(H.toString());At(!!Q),F.push(Q)}),F}),function(o,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ey(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=et.fromPath(i);e.mutations.push(new Jx(o,e.precondition(o)))}),yield(r=(0,ve.Z)(function*(i,o){const c=nt(i),h=Bb(c.serializer)+"/documents",_={writes:o.map(b=>Ub(c.serializer,b))};yield c.po("Commit",h,_)}),function(i,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ht();t=Rt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Rt.min())?vr.exists(!1):vr.updateTime(t):vr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rt.min()))throw new Fe(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vr.updateTime(t)}return vr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class kz{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Fc=r.maxAttempts,this.Lo=new kM(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,ve.Z)(function*(){const t=new Rz(e.datastore),r=e.Lc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.qc(o)}))}).catch(i=>{e.qc(i)})}))}Lc(e){try{const t=this.updateFunction(e);return!Eb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!FF(t)}return!1}}class Pz{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ui.UNAUTHENTICATED,this.clientId=PN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,ve.Z)(function*(h){je("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(je("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=uy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function UD(n,e){return MR.apply(this,arguments)}function MR(){return MR=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ve.Z)(function*(o){r.isEqual(o)||(yield OL(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),MR.apply(this,arguments)}function RR(n,e){return kR.apply(this,arguments)}function kR(){return kR=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield PR(n);je("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>QL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>QL(e.remoteStore,o)),n._onlineComponents=e}),kR.apply(this,arguments)}function h2(n){return"FirebaseError"===n.name?n.code===_e.FAILED_PRECONDITION||n.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function PR(n){return OR.apply(this,arguments)}function OR(){return OR=(0,ve.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{yield UD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!h2(t))throw t;Oa("Error using user provided cache. Falling back to memory cache: "+t),yield UD(n,new Xb)}}else je("FirestoreClient","Using default OfflineComponentProvider"),yield UD(n,new Xb);return n._offlineComponents}),OR.apply(this,arguments)}function HD(n){return NR.apply(this,arguments)}function NR(){return NR=(0,ve.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),yield RR(n,n._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),yield RR(n,new py))),n._onlineComponents}),NR.apply(this,arguments)}function f2(n){return PR(n).then(e=>e.persistence)}function jD(n){return PR(n).then(e=>e.localStore)}function p2(n){return HD(n).then(e=>e.remoteStore)}function FR(n){return HD(n).then(e=>e.syncEngine)}function gy(n){return LR.apply(this,arguments)}function LR(){return LR=(0,ve.Z)(function*(n){const e=yield HD(n),t=e.eventManager;return t.onListen=dz.bind(null,e.syncEngine),t.onUnlisten=hz.bind(null,e.syncEngine),t}),LR.apply(this,arguments)}function m2(n,e,t={}){const r=new Di;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,o,c,h,_){const b=new BD({next:M=>{o.enqueueAndForget(()=>eR(i,D));const F=M.docs.has(c);!F&&M.fromCache?_.reject(new Fe(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&h&&"server"===h.source?_.reject(new Fe(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new rR(Y_(c.path),b,{includeMetadataChanges:!0,Uu:!0});return XM(i,D)}(yield gy(n),n.asyncQueue,e,t,r)})),r.promise}function _2(n,e,t={}){const r=new Di;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,o,c,h,_){const b=new BD({next:M=>{o.enqueueAndForget(()=>eR(i,D)),M.fromCache&&"server"===h.source?_.reject(new Fe(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new rR(c,b,{includeMetadataChanges:!0,Uu:!0});return XM(i,D)}(yield gy(n),n.asyncQueue,e,t,r)})),r.promise}const y2=new Map;function VR(n,e,t){if(!t)throw new Fe(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function v2(n,e,t,r){if(!0===e&&!0===r)throw new Fe(_e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function b2(n){if(!et.isDocumentKey(n))throw new Fe(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function w2(n){if(et.isDocumentKey(n))throw new Fe(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ht()}function fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zD(n);throw new Fe(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function E2(n,e){if(e<=0)throw new Fe(_e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class C2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new UH;switch(t.type){case"firstParty":return new $H(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Fe(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=y2.get(e);t&&(je("ComponentProvider","Removing Datastore"),y2.delete(e),t.terminate())}(this),Promise.resolve()}}class dr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}}class ds{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ds(this.firestore,e,this._query)}}class Oc extends ds{constructor(e,t,r){super(e,t,Y_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new et(e))}withConverter(e){return new Oc(this.firestore,e,this._path)}}function I2(n,e,...t){if(n=(0,_n.m9)(n),VR("collection","path",e),n instanceof Jb){const r=bn.fromString(e,...t);return w2(r),new Oc(n,null,r)}{if(!(n instanceof dr||n instanceof Oc))throw new Fe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(e,...t));return w2(r),new Oc(n.firestore,null,r)}}function $D(n,e,...t){if(n=(0,_n.m9)(n),1===arguments.length&&(e=PN.A()),VR("doc","path",e),n instanceof Jb){const r=bn.fromString(e,...t);return b2(r),new dr(n,null,new et(r))}{if(!(n instanceof dr||n instanceof Oc))throw new Fe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(bn.fromString(e,...t));return b2(r),new dr(n.firestore,n instanceof Oc?n.converter:null,new et(r))}}function S2(n,e){return n=(0,_n.m9)(n),e=(0,_n.m9)(e),(n instanceof dr||n instanceof Oc)&&(e instanceof dr||e instanceof Oc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function BR(n,e){return n=(0,_n.m9)(n),e=(0,_n.m9)(e),n instanceof ds&&e instanceof ds&&n.firestore===e.firestore&&xb(n._query,e._query)&&n.converter===e.converter}class zz{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new kM(this,"async_queue_retry"),this.Yc=()=>{const t=FD();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=FD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=FD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Di;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Bh(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,Qr("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=QM.createAndSchedule(this,e,t,r,o=>this.ea(o));return this.jc.push(i),i}Xc(){this.zc&&ht()}verifyOperationInProgress(){}na(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function UR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class $z{constructor(){this._progressObserver={},this._taskCompletionResolver=new Di,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class hr extends Jb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new zz,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||T2(this),this._firestoreClient.terminate()}}function Jr(n){return n._firestoreClient||T2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function T2(n){var e,t,r;const i=n._freezeSettings(),o=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new bj(n._databaseId,h,n._persistenceKey,(b=i).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var h,b;n._firestoreClient=new Pz(n._authCredentials,n._appCheckCredentials,n._queue,o),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function A2(n,e,t){const r=new Di;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield UD(n,t),yield RR(n,e),r.resolve()}catch(i){const o=i;if(!h2(o))throw o;Oa("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function x2(n){if(n._initialized||n._terminated)throw new Fe(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nc(Ii.fromBase64String(e))}catch(t){throw new Fe(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nc(Ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class od{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lg{constructor(e){this._methodName=e}}class GD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const t6=/^__.*__$/;class n6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new rd(e,this.data,this.fieldMask,t,this.fieldTransforms):new J_(e,this.data,t,this.fieldTransforms)}}class M2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new rd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function R2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class qD{constructor(e,t,r,i,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.oa(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new qD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return ZD(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(R2(this.ua)&&t6.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class r6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Zb(e)}ga(e,t,r,i=!1){return new qD({ua:e,methodName:t,ma:r,path:Br.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vg(n){const e=n._freezeSettings(),t=Zb(n._databaseId);return new r6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WD(n,e,t,r,i,o={}){const c=n.ga(o.merge||o.mergeFields?2:0,e,t,i);$R("Data must be an object, but it was:",c,r);const h=O2(r,c);let _,b;if(o.merge)_=new vo(c.fieldMask),b=c.fieldTransforms;else if(o.mergeFields){const D=[];for(const M of o.mergeFields){const F=n0(e,M,t);if(!c.contains(F))throw new Fe(_e.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);F2(D,F)||D.push(F)}_=new vo(D),b=c.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,b=c.fieldTransforms;return new n6(new us(h),_,b)}class t0 extends Lg{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t0}}function k2(n,e,t){return new qD({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class HR extends Lg{_toFieldTransform(e){return new Pb(e.path,new Q_)}isEqual(e){return e instanceof HR}}class i6 extends Lg{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=k2(this,e,!0),r=this.ya.map(o=>Bg(o,t)),i=new Ag(r);return new Pb(e.path,i)}isEqual(e){return this===e}}class s6 extends Lg{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=k2(this,e,!0),r=this.ya.map(o=>Bg(o,t)),i=new xg(r);return new Pb(e.path,i)}isEqual(e){return this===e}}class o6 extends Lg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new X_(e.serializer,IF(e.serializer,this.pa));return new Pb(e.path,t)}isEqual(e){return this===e}}function jR(n,e,t,r){const i=n.ga(1,e,t);$R("Data must be an object, but it was:",i,r);const o=[],c=us.empty();Uh(r,(_,b)=>{const D=KD(e,_,t);b=(0,_n.m9)(b);const M=i.fa(D);if(b instanceof t0)o.push(D);else{const F=Bg(b,M);null!=F&&(o.push(D),c.set(D,F))}});const h=new vo(o);return new M2(c,h,i.fieldTransforms)}function zR(n,e,t,r,i,o){const c=n.ga(1,e,t),h=[n0(e,r,t)],_=[i];if(o.length%2!=0)throw new Fe(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<o.length;F+=2)h.push(n0(e,o[F])),_.push(o[F+1]);const b=[],D=us.empty();for(let F=h.length-1;F>=0;--F)if(!F2(b,h[F])){const H=h[F];let Q=_[F];Q=(0,_n.m9)(Q);const ae=c.fa(H);if(Q instanceof t0)b.push(H);else{const ye=Bg(Q,ae);null!=ye&&(b.push(H),D.set(H,ye))}}const M=new vo(b);return new M2(D,M,c.fieldTransforms)}function P2(n,e,t,r=!1){return Bg(t,n.ga(r?4:3,e))}function Bg(n,e){if(N2(n=(0,_n.m9)(n)))return $R("Unsupported field value:",e,n),O2(n,e);if(n instanceof Lg)return function(t,r){if(!R2(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const c of t){let h=Bg(c,r.da(o));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,_n.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return IF(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=yr.fromDate(t);return{timestampValue:ty(r.serializer,i)}}if(t instanceof yr){const i=new yr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ty(r.serializer,i)}}if(t instanceof GD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Nc)return{bytesValue:qF(r.serializer,t._byteString)};if(t instanceof dr){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:oM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${zD(t)}`)}(n,e)}function O2(n,e){const t={};return KN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uh(n,(r,i)=>{const o=Bg(i,e.aa(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function N2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof yr||n instanceof GD||n instanceof Nc||n instanceof dr||n instanceof Lg)}function $R(n,e,t){if(!N2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=zD(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function n0(n,e,t){if((e=(0,_n.m9)(e))instanceof od)return e._internalPath;if("string"==typeof e)return KD(n,e);throw ZD("Field path arguments must be of type string or ",n,!1,void 0,t)}const a6=new RegExp("[~\\*/\\[\\]]");function KD(n,e,t){if(e.search(a6)>=0)throw ZD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new od(...e.split("."))._internalPath}catch{throw ZD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ZD(n,e,t,r,i){const o=r&&!r.isEmpty(),c=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(o||c)&&(_+=" (found",o&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Fe(_e.INVALID_ARGUMENT,h+n+_)}function F2(n,e){return n.some(t=>t.isEqual(e))}class r0{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new l6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(YD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class l6 extends r0{data(){return super.data()}}function YD(n,e){return"string"==typeof e?KD(n,e):e instanceof od?e._internalPath:e._delegate._internalPath}function L2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GR{}class s0 extends GR{}function Jh(n,e,...t){let r=[];e instanceof GR&&r.push(e),r=r.concat(t),function(i){const o=i.filter(h=>h instanceof my).length,c=i.filter(h=>h instanceof o0).length;if(o>1||o>0&&c>0)throw new Fe(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class o0 extends s0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new o0(e,t,r)}_apply(e){const t=this._parse(e);return H2(e._query,t),new ds(e.firestore,e.converter,Yx(e._query,t))}_parse(e){const t=Vg(e.firestore);return function(i,o,c,h,_,b,D){let M;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){U2(D,b);const F=[];for(const H of D)F.push(B2(h,i,H));M={arrayValue:{values:F}}}else M=B2(h,i,D)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||U2(D,b),M=P2(c,"where",D,"in"===b||"not-in"===b);return hn.create(_,b,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class my extends GR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new my(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Vn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let o=r;const c=i.getFlattenedFilters();for(const h of c)H2(o,h),o=Yx(o,h)}(e._query,t),new ds(e.firestore,e.converter,Yx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qR extends s0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qR(e,t)}_apply(e){const t=function(r,i,o){if(null!==r.startAt)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new K_(i,o);return function(h,_){if(null===Kx(h)){const b=pD(h);null!==b&&j2(0,b,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new ds(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new td(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class QD extends s0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new QD(e,t,r)}_apply(e){return new ds(e.firestore,e.converter,gD(e._query,this._limit,this._limitType))}}class XD extends s0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new XD(e,t,r)}_apply(e){const t=V2(e,this.type,this._docOrFields,this._inclusive);return new ds(e.firestore,e.converter,(i=t,new td((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class JD extends s0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new JD(e,t,r)}_apply(e){const t=V2(e,this.type,this._docOrFields,this._inclusive);return new ds(e.firestore,e.converter,(i=t,new td((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function V2(n,e,t,r){if(t[0]=(0,_n.m9)(t[0]),t[0]instanceof r0)return function(i,o,c,h,_){if(!h)throw new Fe(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const D of Tg(i))if(D.field.isKeyField())b.push(Ig(o,h.key));else{const M=h.data.field(D.field);if(aD(M))throw new Fe(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=D.field.canonicalString();throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}b.push(M)}return new qh(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Vg(n.firestore);return function(o,c,h,_,b,D){const M=o.explicitOrderBy;if(b.length>M.length)throw new Fe(_e.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let H=0;H<b.length;H++){const Q=b[H];if(M[H].field.isKeyField()){if("string"!=typeof Q)throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Q}`);if(!Zx(o)&&-1!==Q.indexOf("/"))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Q}' contains a slash.`);const ae=o.path.child(bn.fromString(Q));if(!et.isDocumentKey(ae))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ae}' is not because it contains an odd number of segments.`);const ye=new et(ae);F.push(Ig(c,ye))}else{const ae=P2(h,_,Q);F.push(ae)}}return new qh(F,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function B2(n,e,t){if("string"==typeof(t=(0,_n.m9)(t))){if(""===t)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zx(e)&&-1!==t.indexOf("/"))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(bn.fromString(t));if(!et.isDocumentKey(r))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ig(n,new et(r))}if(t instanceof dr)return Ig(n,t._key);throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zD(t)}.`)}function U2(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H2(n,e){if(e.isInequality()){const r=pD(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=Kx(n);null!==o&&j2(0,i,o)}const t=function(r,i){for(const o of r)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Fe(_e.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function j2(n,e,t){if(!t.isEqual(e))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class WR{convertValue(e,t="none"){switch($h(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ed(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ht()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Uh(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new GD(Ur(e.latitude),Ur(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lD(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Db(e));default:return null}}convertTimestamp(e){const t=Hh(e);return new yr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=bn.fromString(e);At(nL(r));const i=new jh(r.get(1),r.get(3)),o=new et(r.popFirst(5));return i.isEqual(t)||Qr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function eI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class _6 extends WR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,t)}}class Ug{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ad extends r0{constructor(e,t,r,i,o,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new a0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(YD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class a0 extends ad{data(e={}){return super.data(e)}}class ef{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ug(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new a0(this._firestore,this._userDataWriter,r.key,r,new Ug(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new a0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ug(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const h=new a0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ug(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,b=-1;return 0!==c.type&&(_=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),b=o.indexOf(c.doc.key)),{type:v6(c.type),doc:h,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function v6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function $2(n,e){return n instanceof ad&&e instanceof ad?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ef&&e instanceof ef&&n._firestore===e._firestore&&BR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class tf extends WR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,t)}}function G2(n,e,t){n=fn(n,dr);const r=fn(n.firestore,hr),i=eI(n.converter,e,t);return _y(r,[WD(Vg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,vr.none())])}function q2(n,e,t,...r){n=fn(n,dr);const i=fn(n.firestore,hr),o=Vg(i);let c;return c="string"==typeof(e=(0,_n.m9)(e))||e instanceof od?zR(o,"updateDoc",n._key,e,t,r):jR(o,"updateDoc",n._key,e),_y(i,[c.toMutation(n._key,vr.exists(!0))])}function W2(n,...e){var t,r,i;n=(0,_n.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||UR(e[c])||(o=e[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges};if(UR(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let _,b,D;if(n instanceof dr)b=fn(n.firestore,hr),D=Y_(n._key.path),_={next:M=>{e[c]&&e[c](KR(b,n,M))},error:e[c+1],complete:e[c+2]};else{const M=fn(n,ds);b=fn(M.firestore,hr),D=M._query;const F=new tf(b);_={next:H=>{e[c]&&e[c](new ef(b,F,M,H))},error:e[c+1],complete:e[c+2]},L2(n._query)}return function(M,F,H,Q){const ae=new BD(Q),ye=new rR(F,ae,H);return M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return XM(yield gy(M),ye)})),()=>{ae.Sc(),M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return eR(yield gy(M),ye)}))}}(Jr(b),D,h,_)}function _y(n,e){return function(t,r){const i=new Di;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function fz(n,e,t){return lR.apply(this,arguments)}(yield FR(t),r,i)})),i.promise}(Jr(n),e)}function KR(n,e,t){const r=t.docs.get(e._key),i=new tf(n);return new ad(n,i,e._key,r,new Ug(t.hasPendingWrites,t.fromCache),e.converter)}const L6={maxAttempts:5};class K2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vg(e)}set(e,t,r){this._verifyNotCommitted();const i=nf(e,this._firestore),o=eI(i.converter,t,r),c=WD(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,vr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=nf(e,this._firestore);let c;return c="string"==typeof(t=(0,_n.m9)(t))||t instanceof od?zR(this._dataReader,"WriteBatch.update",o._key,t,r,i):jR(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nf(e,this._firestore);return this._mutations=this._mutations.concat(new ey(t._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nf(n,e){if((n=(0,_n.m9)(n)).firestore!==e)throw new Fe(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class V6 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vg(e)}get(e){const t=nf(e,this._firestore),r=new _6(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ht();const o=i[0];if(o.isFoundDocument())return new r0(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new r0(this._firestore,r,t._key,null,t.converter);throw ht()})}set(e,t,r){const i=nf(e,this._firestore),o=eI(i.converter,t,r),c=WD(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const o=nf(e,this._firestore);let c;return c="string"==typeof(t=(0,_n.m9)(t))||t instanceof od?zR(this._dataReader,"Transaction.update",o._key,t,r,i):jR(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,c),this}delete(e){const t=nf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nf(e,this._firestore),r=new tf(this._firestore);return super.get(e).then(i=>new ad(this._firestore,r,t._key,i._document,new Ug(!1,!1),t.converter))}}function ZR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Y2(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function Q2(){if(!function yj(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){$_=Wu.SDK_VERSION,(0,Wu._registerComponent)(new v_.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),c=new hr(new jH(t.getProvider("auth-internal")),new GH(t.getProvider("app-check-internal")),function(h,_){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Fe(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jh(h.options.projectId,_)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Wu.registerVersion)(MN,"3.11.0",n),(0,Wu.registerVersion)(MN,"3.11.0","esm2017")}();class l0{constructor(e){this._delegate=e}static fromBase64String(e){return Q2(),new l0(Nc.fromBase64String(e))}static fromUint8Array(e){return Y2(),new l0(Nc.fromUint8Array(e))}toBase64(){return Q2(),this._delegate.toBase64()}toUint8Array(){return Y2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function YR(n){return function W6(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class K6{enableIndexedDbPersistence(e,t){return function qz(n,e){x2(n=fn(n,hr));const t=Jr(n);if(t._uninitializedComponentsProvider)throw new Fe(_e.FAILED_PRECONDITION,"SDK cache is already specified.");Oa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new py;return A2(t,i,new xR(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Wz(n){x2(n=fn(n,hr));const e=Jr(n);if(e._uninitializedComponentsProvider)throw new Fe(_e.FAILED_PRECONDITION,"SDK cache is already specified.");Oa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new py;return A2(e,r,new u2(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Kz(n){if(n._initialized&&!n._terminated)throw new Fe(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Di;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!Il.D())return Promise.resolve();const i=r+"main";yield Il.delete(i)}),function(r){return t.apply(this,arguments)})(wM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class X2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof jh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Oa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function D2(n,e,t,r={}){var i;const o=(n=fn(n,Jb))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Oa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,h;if("string"==typeof r.mockUserToken)c=r.mockUserToken,h=Ui.MOCK_USER;else{c=(0,_n.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Fe(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ui(_)}n._authCredentials=new HH(new RN(c,h))}}(this._delegate,e,t,r)}enableNetwork(){return function Yz(n){return function Oz(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield f2(n),t=yield p2(n);return e.setNetworkEnabled(!0),function(r){const i=nt(r);return i.Au.delete(0),Yb(i)}(t)}))}(Jr(n=fn(n,hr)))}(this._delegate)}disableNetwork(){return function Qz(n){return function Nz(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield f2(n),t=yield p2(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(i){const o=nt(i);o.Au.add(0),yield ay(o),o.Pu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Jr(n=fn(n,hr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,v2("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Zz(n){return function(e){const t=new Di;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function _z(n,e){return fR.apply(this,arguments)}(yield FR(e),t)})),t.promise}(Jr(n=fn(n,hr)))}(this._delegate)}onSnapshotsInSync(e){return function A6(n,e){return function Vz(n,e){const t=new BD(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield gy(n),i=t,nt(r).Nu.add(i),void i.next();var r,i})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield gy(n),i=t,void nt(r).Nu.delete(i);var r,i}))}}(Jr(n=fn(n,hr)),UR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new yy(this,I2(this._delegate,e))}catch(t){throw no(t,"collection()","Firestore.collection()")}}doc(e){try{return new Na(this,$D(this._delegate,e))}catch(t){throw no(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ro(this,function jz(n,e){if(n=fn(n,Jb),VR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ds(n,null,(t=e,new td(bn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw no(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function B6(n,e,t){n=fn(n,hr);const r=Object.assign(Object.assign({},L6),t);return function(i){if(i.maxAttempts<1)throw new Fe(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,c){const h=new Di;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const _=yield function g2(n){return HD(n).then(e=>e.datastore)}(i);new kz(i.asyncQueue,_,c,o,h).run()})),h.promise}(Jr(n),i=>e(new V6(n,i)),r)}(this._delegate,t=>e(new J2(this,t)))}batch(){return Jr(this._delegate),new eV(new K2(this._delegate,e=>_y(this._delegate,e)))}loadBundle(e){return function Xz(n,e){const t=Jr(n=fn(n,hr)),r=new $z;return function Bz(n,e,t,r){const i=function(o,c){let h;return h="string"==typeof o?VF().encode(o):o,_=function(_,b){if(_ instanceof Uint8Array)return d2(_,b);if(_ instanceof ArrayBuffer)return d2(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new Mz(_,c);var _}(t,Zb(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function Az(n,e,t){const r=nt(n);var i;(i=(0,ve.Z)(function*(o,c,h){try{const _=yield c.getMetadata();if(yield function(F,H){const Q=nt(F),ae=Xr(H.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",ye=>Q.Ls.getBundleMetadata(ye,H.id)).then(ye=>!!ye&&ye.createTime.compareTo(ae)>=0)}(o.localStore,_))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);h._updateProgress(e2(_));const b=new az(_,o.localStore,c.serializer);let D=yield c.Pc();for(;D;){const F=yield b.ju(D);F&&h._updateProgress(F),D=yield c.Pc()}const M=yield b.complete();return yield sd(o,M.Hu,void 0),yield function(F,H){const Q=nt(F);return Q.persistence.runTransaction("Save bundle","readwrite",ae=>Q.Ls.saveBundleMetadata(ae,H))}(o.localStore,_),h._completeWith(M.progress),Promise.resolve(M.Wu)}catch(_){return Oa("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var F}),function(o,c,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield FR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Jz(n,e){return function Uz(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const i=nt(t);return i.persistence.runTransaction("Get named query","readonly",o=>i.Ls.getNamedQuery(o,r))}(yield jD(n),e)}))}(Jr(n=fn(n,hr)),e).then(t=>t?new ds(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ro(this,t):null)}}class tI extends WR{constructor(e){super(),this.firestore=e}convertBytes(e){return new l0(new Nc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Na.forKey(t,this.firestore,null)}}class J2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new tI(e)}get(e){const t=jg(e);return this._delegate.get(t).then(r=>new c0(this._firestore,new ad(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=jg(e);return r?(ZR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=jg(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=jg(e);return this._delegate.delete(t),this}}class eV{constructor(e){this._delegate=e}set(e,t,r){const i=jg(e);return r?(ZR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=jg(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=jg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Hg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new a0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new u0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Hg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Hg(e,new tI(e),t),i.set(t,o)),o}}Hg.INSTANCES=new WeakMap;class Na{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Na(t,new dr(t._delegate,r,new et(e)))}static forKey(e,t,r){return new Na(t,new dr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new yy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new yy(this.firestore,I2(this._delegate,e))}catch(t){throw no(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_n.m9)(e))instanceof dr&&S2(this._delegate,e)}set(e,t){t=ZR("DocumentReference.set",t);try{return t?G2(this._delegate,e,t):G2(this._delegate,e)}catch(r){throw no(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?q2(this._delegate,e):q2(this._delegate,e,t,...r)}catch(i){throw no(i,"updateDoc()","DocumentReference.update()")}}delete(){return function S6(n){return _y(fn(n.firestore,hr),[new ey(n._key,vr.none())])}(this._delegate)}onSnapshot(...e){const t=tV(e),r=nV(e,i=>new c0(this.firestore,new ad(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return W2(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function w6(n){n=fn(n,dr);const e=fn(n.firestore,hr),t=Jr(e),r=new tf(e);return function Fz(n,e){const t=new Di;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,o,c){try{const h=yield function(_,b){const D=nt(_);return D.persistence.runTransaction("read document","readonly",M=>D.localDocuments.getDocument(M,b))}(i,o);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Fe(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=uy(h,`Failed to get document '${o} from cache`);c.reject(_)}}),function(i,o,c){return r.apply(this,arguments)})(yield jD(n),e,t);var r})),t.promise}(t,n._key).then(i=>new ad(e,r,n._key,i,new Ug(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function E6(n){n=fn(n,dr);const e=fn(n.firestore,hr);return m2(Jr(e),n._key,{source:"server"}).then(t=>KR(e,n,t))}(this._delegate):function b6(n){n=fn(n,dr);const e=fn(n.firestore,hr);return m2(Jr(e),n._key).then(t=>KR(e,n,t))}(this._delegate),t.then(r=>new c0(this.firestore,new ad(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Na(this.firestore,this._delegate.withConverter(e?Hg.getInstance(this.firestore,e):null))}}function no(n,e,t){return n.message=n.message.replace(e,t),n}function tV(n){for(const e of n)if("object"==typeof e&&!YR(e))return e;return{}}function nV(n,e){var t,r;let i;return i=YR(n[0])?n[0]:YR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class c0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Na(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return $2(this._delegate,e._delegate)}}class u0 extends c0{data(e){const t=this._delegate.data(e);return function BH(n,e){n||ht()}(void 0!==t),t}}class ro{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tI(e)}where(e,t,r){try{return new ro(this.firestore,Jh(this._delegate,function c6(n,e,t){const r=e,i=YD("where",n);return o0._create(i,r,t)}(e,t,r)))}catch(i){throw no(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ro(this.firestore,Jh(this._delegate,function u6(n,e="asc"){const t=e,r=YD("orderBy",n);return qR._create(r,t)}(e,t)))}catch(r){throw no(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ro(this.firestore,Jh(this._delegate,function d6(n){return E2("limit",n),QD._create("limit",n,"F")}(e)))}catch(t){throw no(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ro(this.firestore,Jh(this._delegate,function h6(n){return E2("limitToLast",n),QD._create("limitToLast",n,"L")}(e)))}catch(t){throw no(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ro(this.firestore,Jh(this._delegate,function f6(...n){return XD._create("startAt",n,!0)}(...e)))}catch(t){throw no(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ro(this.firestore,Jh(this._delegate,function p6(...n){return XD._create("startAfter",n,!1)}(...e)))}catch(t){throw no(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ro(this.firestore,Jh(this._delegate,function g6(...n){return JD._create("endBefore",n,!1)}(...e)))}catch(t){throw no(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ro(this.firestore,Jh(this._delegate,function m6(...n){return JD._create("endAt",n,!0)}(...e)))}catch(t){throw no(t,"endAt()","Query.endAt()")}}isEqual(e){return BR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function D6(n){n=fn(n,ds);const e=fn(n.firestore,hr),t=Jr(e),r=new tf(e);return function Lz(n,e){const t=new Di;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,o,c){try{const h=yield kD(i,o,!0),_=new r2(o,h.sr),b=_.nc(h.documents),D=_.applyChanges(b,!1);c.resolve(D.snapshot)}catch(h){const _=uy(h,`Failed to execute query '${o} against cache`);c.reject(_)}}),function(i,o,c){return r.apply(this,arguments)})(yield jD(n),e,t);var r})),t.promise}(t,n._query).then(i=>new ef(e,r,n,i))}(this._delegate):"server"===e?.source?function I6(n){n=fn(n,ds);const e=fn(n.firestore,hr),t=Jr(e),r=new tf(e);return _2(t,n._query,{source:"server"}).then(i=>new ef(e,r,n,i))}(this._delegate):function C6(n){n=fn(n,ds);const e=fn(n.firestore,hr),t=Jr(e),r=new tf(e);return L2(n._query),_2(t,n._query).then(i=>new ef(e,r,n,i))}(this._delegate),t.then(r=>new QR(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=tV(e),r=nV(e,i=>new QR(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return W2(this._delegate,t,r)}withConverter(e){return new ro(this.firestore,this._delegate.withConverter(e?Hg.getInstance(this.firestore,e):null))}}class Y6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new u0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class QR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ro(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new u0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Y6(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new u0(this._firestore,r))})}isEqual(e){return $2(this._delegate,e._delegate)}}class yy extends ro{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Na(this.firestore,e):null}doc(e){try{return new Na(this.firestore,void 0===e?$D(this._delegate):$D(this._delegate,e))}catch(t){throw no(t,"doc()","CollectionReference.doc()")}}add(e){return function T6(n,e){const t=fn(n.firestore,hr),r=$D(n),i=eI(n.converter,e);return _y(t,[WD(Vg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Na(this.firestore,t))}isEqual(e){return S2(this._delegate,e._delegate)}withConverter(e){return new yy(this.firestore,this._delegate.withConverter(e?Hg.getInstance(this.firestore,e):null))}}function jg(n){return fn(n,dr)}class XR{constructor(...e){this._delegate=new od(...e)}static documentId(){return new XR(Br.keyField().canonicalString())}isEqual(e){return(e=(0,_n.m9)(e))instanceof od&&this._delegate._internalPath.isEqual(e._internalPath)}}class zg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function H6(){return new HR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new zg(e)}static delete(){const e=function U6(){return new t0("deleteField")}();return e._methodName="FieldValue.delete",new zg(e)}static arrayUnion(...e){const t=function j6(...n){return new i6("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new zg(t)}static arrayRemove(...e){const t=function z6(...n){return new s6("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new zg(t)}static increment(e){const t=function $6(n){return new o6("increment",n)}(e);return t._methodName="FieldValue.increment",new zg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Q6={Firestore:X2,GeoPoint:GD,Timestamp:yr,Blob:l0,Transaction:J2,WriteBatch:eV,DocumentReference:Na,DocumentSnapshot:c0,Query:ro,QueryDocumentSnapshot:u0,QuerySnapshot:QR,CollectionReference:yy,FieldPath:XR,FieldValue:zg,setLogLevel:function Z6(n){!function VH(n){Lh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function J6(n){(function X6(n,e){n.INTERNAL.registerComponent(new v_.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Q6)))})(n,(e,t)=>new X2(e,t,new K6)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(nx.Z);var nI=N(5363),e$=N(6063);class t$ extends ut.x{constructor(e=1/0,t=1/0,r=e$.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:c}=this;t||(r.push(e),!i&&r.push(o.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let c=0;c<o.length&&!e.closed;c+=r?1:2)e.next(o[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const c=t.now();let h=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)h=_;h&&r.splice(0,h+1)}}}var rV=N(3099);function iV(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,rV.B)({connector:()=>new t$(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function sV(n,e){return(0,Ds.m)(e)?tr(()=>n,e):tr(()=>n)}var JR=N(9468);N(259);const tk=new Map,aV={activated:!1,tokenObservers:[]},o$={initialized:!1,enabled:!1};function Hr(n){return tk.get(n)||Object.assign({},aV)}function iI(){return o$}class h${constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new _n.BH,yield function f$(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _n.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const hs=new _n.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rk(n){if(!Hr(n).activated)throw hs.create("use-before-activation",{appName:n.name})}function aI(n,e){return sk.apply(this,arguments)}function sk(){return sk=(0,ve.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const o={method:"POST",body:JSON.stringify(e),headers:r};let c,h;try{c=yield fetch(n,o)}catch(M){throw hs.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==c.status)throw hs.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(M){throw hs.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=h.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw hs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const b=1e3*Number(_[1]),D=Date.now();return{token:h.token,expireTimeMillis:D+b,issuedAtTimeMillis:D}}),sk.apply(this,arguments)}function cV(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const d0="firebase-app-check-store";let lI=null;function dV(){return lI||(lI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(hs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(d0,{keyPath:"compositeKey"})}}catch(t){e(hs.create("storage-open",{originalErrorMessage:t?.message}))}}),lI)}function ok(){return ok=(0,ve.Z)(function*(n,e){const r=(yield dV()).transaction(d0,"readwrite"),o=r.objectStore(d0).put({compositeKey:n,value:e});return new Promise((c,h)=>{o.onsuccess=_=>{c()},r.onerror=_=>{var b;h(hs.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),ok.apply(this,arguments)}const h0=new Ac.Yd("@firebase/app-check");function ck(n,e){return(0,_n.hl)()?function b$(n,e){return function hV(n,e){return ok.apply(this,arguments)}(function pV(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{h0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function dk(){return iI().enabled}function hk(){return fk.apply(this,arguments)}function fk(){return fk=(0,ve.Z)(function*(){const n=iI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),fk.apply(this,arguments)}const S$={error:"UNKNOWN_ERROR"};function T$(n){return _n.US.encodeString(JSON.stringify(n),!1)}function cI(n){return pk.apply(this,arguments)}function pk(){return pk=(0,ve.Z)(function*(n,e=!1){const t=n.app;rk(t);const r=Hr(t);let o,i=r.token;if(i&&!vy(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(vy(_)?i=_:yield ck(t,void 0))}if(!e&&i&&vy(i))return{token:i.token};let h,c=!1;if(dk()){r.exchangeTokenPromise||(r.exchangeTokenPromise=aI(cV(t,yield hk()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield ck(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Hr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?h0.warn(_.message):h0.error(_),o=_}return i?o?h=vy(i)?{token:i.token,internalError:o}:_V(o):(h={token:i.token},r.token=i,yield ck(t,i)):h=_V(o),c&&mV(t,h),h}),pk.apply(this,arguments)}function _k(n,e){const t=Hr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function gV(n){const{app:e}=n,t=Hr(e);let r=t.tokenRefresher;r||(r=function x$(n){const{app:e}=n;return new h$((0,ve.Z)(function*(){let r;if(r=Hr(e).token?yield cI(n,!0):yield cI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Hr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function mV(n,e){const t=Hr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function vy(n){return n.expireTimeMillis-Date.now()>0}function _V(n){return{token:T$(S$),error:n}}class M${constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Hr(this.app);for(const t of e)_k(this.app,t.next);return Promise.resolve()}}const IV="app-check-internal";!function $$(){(0,Wu._registerComponent)(new v_.wA("app-check",n=>function R$(n,e){return new M$(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(IV).initialize()})),(0,Wu._registerComponent)(new v_.wA(IV,n=>function k$(n){return{getToken:e=>cI(n,e),addTokenListener:e=>function mk(n,e,t,r){const{app:i}=n,o=Hr(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&vy(o.token)){const h=o.token;Promise.resolve().then(()=>{t({token:h.token}),gV(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>gV(n))}(n,"INTERNAL",e),removeTokenListener:e=>_k(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wu.registerVersion)("@firebase/app-check","0.7.0")}();class wk{constructor(){return(0,Lr.vb)("app-check")}}typeof window<"u"&&window;var TV=N(9260);const AV=new u.OlP("angularfire2.auth.use-emulator"),xV=new u.OlP("angularfire2.auth.settings"),MV=new u.OlP("angularfire2.auth.tenant-id"),RV=new u.OlP("angularfire2.auth.langugage-code"),kV=new u.OlP("angularfire2.auth.use-device-language"),PV=new u.OlP("angularfire.auth.persistence"),OV=(n,e,t,r,i,o,c,h)=>(0,jo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,o&&_.useDeviceLanguage(),c)for(const[b,D]of Object.entries(c))_.settings[b]=D;return h&&_.setPersistence(h),_},[t,r,i,o,c,h]);let Ck=(()=>{class n{constructor(t,r,i,o,c,h,_,b,D,M,F,H){const Q=new ut.x,ae=ot(void 0).pipe((0,nI.Q)(c.outsideAngular),tr(()=>o.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,3042)))),(0,gt.U)(()=>(0,jo.on)(t,o,r)),(0,gt.U)(ye=>OV(ye,o,h,b,D,M,_,F)),iV({bufferSize:1,refCount:!1}));if(kl(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ot(null);else{ae.pipe(rs()).subscribe();const We=ae.pipe(tr(Et=>Et.getRedirectResult().then(qt=>qt,()=>null)),Lr.iC,iV({bufferSize:1,refCount:!1})),st=ae.pipe(tr(Et=>new wr.y(qt=>({unsubscribe:o.runOutsideAngular(()=>Et.onAuthStateChanged(Qt=>qt.next(Qt),Qt=>qt.error(Qt),()=>qt.complete()))})))),tt=ae.pipe(tr(Et=>new wr.y(qt=>({unsubscribe:o.runOutsideAngular(()=>Et.onIdTokenChanged(Qt=>qt.next(Qt),Qt=>qt.error(Qt),()=>qt.complete()))}))));this.authState=We.pipe(sV(st),(0,JR.R)(c.outsideAngular),(0,nI.Q)(c.insideAngular)),this.user=We.pipe(sV(tt),(0,JR.R)(c.outsideAngular),(0,nI.Q)(c.insideAngular)),this.idToken=this.user.pipe(tr(Et=>Et?(0,mn.D)(Et.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe(tr(Et=>Et?(0,mn.D)(Et.getIdTokenResult()):ot(null))),this.credential=(0,Xp.T)(We,Q,this.authState.pipe(Yn(Et=>!Et))).pipe((0,gt.U)(Et=>Et?.user?Et:null),(0,JR.R)(c.outsideAngular),(0,nI.Q)(c.insideAngular))}return(0,jo.pX)(this,ae,o,{spy:{apply:(ye,We,st)=>{(ye.startsWith("signIn")||ye.startsWith("createUser"))&&st.then(tt=>Q.next(tt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jo.Dh),u.LFG(jo.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Lr.HU),u.LFG(AV,8),u.LFG(xV,8),u.LFG(MV,8),u.LFG(RV,8),u.LFG(kV,8),u.LFG(PV,8),u.LFG(wk,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Y$=(()=>{class n{constructor(){TV.Z.registerVersion("angularfire",Lr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Ck]}),n})();function NV(n,e){return function Q$(n,e=Ch.z){return new wr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function Dk(n,e){return NV(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}function dI(n,e){return Dk(n,e).pipe(si(void 0),Ho(),(0,gt.U)(([t,r])=>{const i=r.payload.docChanges(),o=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,h)=>{const _=i.find(D=>D.doc.ref.isEqual(c.ref)),b=t?.payload.docs.find(D=>D.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),o}))}function FV(n,e,t){return dI(n,t).pipe(lo((r,i)=>function J$(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function e4(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ik(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Ik(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ik(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),UE(),(0,gt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Ik(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function LV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class VV{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=dI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(si(void 0),Ho(),Yn(([r,i])=>i.length>0||!r),(0,gt.U)(([r,i])=>i),Lr.iC)}auditTrail(e){return this.stateChanges(e).pipe(lo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LV(e);return FV(this.query,t,this.afs.schedulers.outsideAngular).pipe(Lr.iC)}valueChanges(e={}){return Dk(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Lr.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(Lr.iC)}add(e){return this.ref.add(e)}doc(e){return new BV(this.ref.doc(e),this.afs)}}class BV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=jV(r,t);return new VV(i,o,this.afs)}snapshotChanges(){return function X$(n,e){return NV(n,e).pipe(si(void 0),Ho(),(0,gt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Lr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,mn.D)(this.ref.get(e)).pipe(Lr.iC)}}class t4{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?dI(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Yn(t=>t.length>0),Lr.iC):dI(this.query,this.afs.schedulers.outsideAngular).pipe(Lr.iC)}auditTrail(e){return this.stateChanges(e).pipe(lo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=LV(e);return FV(this.query,t,this.afs.schedulers.outsideAngular).pipe(Lr.iC)}valueChanges(e={}){return Dk(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Lr.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(Lr.iC)}}const UV=new u.OlP("angularfire2.enableFirestorePersistence"),HV=new u.OlP("angularfire2.firestore.persistenceSettings"),n4=new u.OlP("angularfire2.firestore.settings"),r4=new u.OlP("angularfire2.firestore.use-emulator");function jV(n,e=(t=>t)){return{query:e(n),ref:n}}let f0=(()=>{class n{constructor(t,r,i,o,c,h,_,b,D,M,F,H,Q,ae,ye,We,st){this.schedulers=_;const tt=(0,jo.on)(t,h,r),Et=D;M&&OV(tt,h,F,Q,ae,ye,H,We),[this.firestore,this.persistenceEnabled$]=(0,jo.cc)(`${tt.name}.firestore`,"AngularFirestore",tt.name,()=>{const qt=h.runOutsideAngular(()=>tt.firestore());if(o&&qt.settings(o),Et&&qt.useEmulator(...Et),i&&!kl(c)){const Qt=()=>{try{return(0,mn.D)(qt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(An){return typeof console<"u"&&console.warn(An),ot(!1)}};return[qt,h.runOutsideAngular(Qt)]}return[qt,ot(!1)]},[o,Et,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:c}=jV(i,r),h=this.schedulers.ngZone.run(()=>o);return new VV(h,c,this)}collectionGroup(t,r){const i=r||(c=>c),o=this.firestore.collectionGroup(t);return new t4(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new BV(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jo.Dh),u.LFG(jo.xv,8),u.LFG(UV,8),u.LFG(n4,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Lr.HU),u.LFG(HV,8),u.LFG(r4,8),u.LFG(Ck,8),u.LFG(AV,8),u.LFG(xV,8),u.LFG(MV,8),u.LFG(RV,8),u.LFG(kV,8),u.LFG(PV,8),u.LFG(wk,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),i4=(()=>{class n{constructor(){TV.Z.registerVersion("angularfire",Lr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:UV,useValue:!0},{provide:HV,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[f0]}),n})(),hI=(()=>{class n{constructor(t){this.db=t}createSprintsForMonth(t,r){var i=this;return(0,ve.Z)(function*(){const c=["Sprint 1","Sprint 2"].map(h=>i.createSprint(t,r,{boardId:t,monthId:r,name:h}));yield Promise.all(c)})()}createSprint(t,r,i){var o=this;return(0,ve.Z)(function*(){yield o.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").add(i)})()}getSprints(t,r){return this.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").valueChanges({idField:"id"})}updateSprint(t,r,i,o){return this.db.collection("boards").doc(r).collection("months").doc(i).collection("sprints").doc(t).update(o)}deleteSprint(t,r,i){return this.db.collection("boards").doc(r).collection("months").doc(i).collection("sprints").doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(f0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zV=(()=>{class n{constructor(t,r){this.db=t,this.sprintService=r}createDefaultMonths(t){var r=this;return(0,ve.Z)(function*(){const i=[{boardId:t,name:"January"},{boardId:t,name:"February"},{boardId:t,name:"March"}],o=i.map(h=>r.db.collection("boards").doc(t).collection("months").add(h));return(yield Promise.all(o)).map((h,_)=>({id:h.id,...i[_]}))})()}createMonth(t,r){var i=this;return(0,ve.Z)(function*(){const c=yield i.db.collection("boards").doc(t).collection("months").add(r);yield i.sprintService.createSprintsForMonth(t,c.id)})()}getMonths(t){return this.db.collection("boards").doc(t).collection("months").valueChanges({idField:"id"})}updateMonth(t,r,i){return this.db.collection("boards").doc(r).collection("months").doc(t).update(i)}deleteMonth(t,r){return this.db.collection("boards").doc(r).collection("months").doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(f0),u.LFG(hI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$V=(()=>{class n{constructor(t,r,i){this.db=t,this.monthService=r,this.sprintService=i}createNewBoard(t,r){var i=this;return(0,ve.Z)(function*(){const o={name:t,code:r},c=yield i.db.collection("boards").add(o),h=yield i.monthService.createDefaultMonths(c.id);for(const _ of h)yield i.sprintService.createSprintsForMonth(c.id,_.id);return c.id})()}getBoard(t){return this.db.collection("boards").doc(t).valueChanges().pipe((0,gt.U)(r=>{if(!r)throw new Error("Board not found");return{id:t,...r}}))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(f0),u.LFG(zV),u.LFG(hI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GV(n,e=Ch.z){return(0,or.e)((t,r)=>{let i=null,o=null,c=null;const h=()=>{if(i){i.unsubscribe(),i=null;const b=o;o=null,r.next(b)}};function _(){const b=c+n,D=e.now();if(D<b)return i=this.schedule(void 0,b-D),void r.add(i);h()}t.subscribe((0,Nn.x)(r,b=>{o=b,c=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{o=i=null}))})}let qV=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s4=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=nr(t);return new wr.y(i=>{const c=this._observeElement(r).subscribe(i);return()=>{c.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new ut.x,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(qV))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o4=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ts(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=wh(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(GV(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(s4),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),a4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[qV]}),n})();const l4=["connectionContainer"],c4=["inputContainer"],u4=["label"];function d4(n,e){1&n&&(u.ynx(0),u.TgZ(1,"div",14),u._UZ(2,"div",15)(3,"div",16)(4,"div",17),u.qZA(),u.TgZ(5,"div",18),u._UZ(6,"div",15)(7,"div",16)(8,"div",17),u.qZA(),u.BQk())}function h4(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19),u.NdJ("cdkObserveContent",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.updateOutlineGap())}),u.Hsn(1,1),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function f4(n,e){if(1&n&&(u.ynx(0),u.Hsn(1,2),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.BQk()),2&n){const t=u.oxw(2);u.xp6(3),u.Oqu(t._control.placeholder)}}function p4(n,e){1&n&&u.Hsn(0,3,["*ngSwitchCase","true"])}function g4(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," *"),u.qZA())}function m4(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"label",20,21),u.NdJ("cdkObserveContent",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.updateOutlineGap())}),u.YNc(2,f4,4,1,"ng-container",12),u.YNc(3,p4,1,0,"ng-content",12),u.YNc(4,g4,2,0,"span",22),u.qZA()}if(2&n){const t=u.oxw();u.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),u.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),u.uIk("for",t._control.id)("aria-owns",t._control.id),u.xp6(2),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function _4(n,e){1&n&&(u.TgZ(0,"div",24),u.Hsn(1,4),u.qZA())}function y4(n,e){if(1&n&&(u.TgZ(0,"div",25),u._UZ(1,"span",26),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function v4(n,e){if(1&n&&(u.TgZ(0,"div"),u.Hsn(1,5),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState)}}function b4(n,e){if(1&n&&(u.TgZ(0,"div",30),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.Q6J("id",t._hintLabelId),u.xp6(1),u.Oqu(t.hintLabel)}}function w4(n,e){if(1&n&&(u.TgZ(0,"div",27),u.YNc(1,b4,2,2,"div",28),u.Hsn(2,6),u._UZ(3,"div",29),u.Hsn(4,7),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",t.hintLabel)}}const E4=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],C4=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],D4=new u.OlP("MatError"),I4={transitionMessages:fC("transitionMessages",[__("enter",_o({opacity:1,transform:"translateY(0%)"})),ug("void => enter",[_o({opacity:0,transform:"translateY(-5px)"}),qu("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Sk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})(),S4=0;const WV=new u.OlP("MatHint");let T4=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+S4++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,r){2&t&&(u.uIk("id",r.id)("align",null),u.ekj("mat-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},features:[u._Bn([{provide:WV,useExisting:n}])]}),n})(),fI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-label"]]}),n})(),A4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const KV=new u.OlP("MatPrefix");let x4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","matPrefix",""]],features:[u._Bn([{provide:KV,useExisting:n}])]}),n})();const M4=new u.OlP("MatSuffix");let ZV=0;const k4=g_(class{constructor(n){this._elementRef=n}},"primary"),P4=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),QV=new u.OlP("MatFormField");let XV=(()=>{class n extends k4{constructor(t,r,i,o,c,h,_){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=o,this._platform=c,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ut.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+ZV++,this._labelId="mat-form-field-label-"+ZV++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=o&&o.appearance?o.appearance:"legacy",this._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ts(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(si(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Bo(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Bo(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Xp.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(si(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(si(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Bo(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Wm(this._label.nativeElement,"transitionend").pipe(Nr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const D=r.querySelectorAll(`${i}, ${o}`);for(let M=0;M<D.length;M++)D[M].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,h=0;const _=r.querySelectorAll(i),b=r.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const D=r.getBoundingClientRect();if(0===D.width&&0===D.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const M=this._getStartEnd(D),F=t.children,H=this._getStartEnd(F[0].getBoundingClientRect());let Q=0;for(let ae=0;ae<F.length;ae++)Q+=F[ae].offsetWidth;c=Math.abs(H-M)-5,h=Q>0?.75*Q+10:0}for(let D=0;D<_.length;D++)_[D].style.width=`${c}px`;for(let D=0;D<b.length;D++)b[D].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Vi,8),u.Y36(P4,8),u.Y36(Li),u.Y36(u.R0b),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,Sk,5),u.Suo(i,Sk,7),u.Suo(i,fI,5),u.Suo(i,fI,7),u.Suo(i,A4,5),u.Suo(i,D4,5),u.Suo(i,WV,5),u.Suo(i,KV,5),u.Suo(i,M4,5)),2&t){let o;u.iGM(o=u.CRH())&&(r._controlNonStatic=o.first),u.iGM(o=u.CRH())&&(r._controlStatic=o.first),u.iGM(o=u.CRH())&&(r._labelChildNonStatic=o.first),u.iGM(o=u.CRH())&&(r._labelChildStatic=o.first),u.iGM(o=u.CRH())&&(r._placeholderChild=o.first),u.iGM(o=u.CRH())&&(r._errorChildren=o),u.iGM(o=u.CRH())&&(r._hintChildren=o),u.iGM(o=u.CRH())&&(r._prefixChildren=o),u.iGM(o=u.CRH())&&(r._suffixChildren=o)}},viewQuery:function(t,r){if(1&t&&(u.Gf(l4,7),u.Gf(c4,5),u.Gf(u4,5)),2&t){let i;u.iGM(i=u.CRH())&&(r._connectionContainerRef=i.first),u.iGM(i=u.CRH())&&(r._inputContainerRef=i.first),u.iGM(i=u.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&u.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:QV,useExisting:n}]),u.qOj],ngContentSelectors:C4,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(u.F$t(E4),u.TgZ(0,"div",0)(1,"div",1,2),u.NdJ("click",function(o){return r._control.onContainerClick&&r._control.onContainerClick(o)}),u.YNc(3,d4,9,0,"ng-container",3),u.YNc(4,h4,2,1,"div",4),u.TgZ(5,"div",5,6),u.Hsn(7),u.TgZ(8,"span",7),u.YNc(9,m4,5,16,"label",8),u.qZA()(),u.YNc(10,_4,2,0,"div",9),u.qZA(),u.YNc(11,y4,2,4,"div",10),u.TgZ(12,"div",11),u.YNc(13,v4,2,1,"div",12),u.YNc(14,w4,5,2,"div",13),u.qZA()()),2&t&&(u.xp6(3),u.Q6J("ngIf","outline"==r.appearance),u.xp6(1),u.Q6J("ngIf",r._prefixChildren.length),u.xp6(5),u.Q6J("ngIf",r._hasFloatingLabel()),u.xp6(1),u.Q6J("ngIf",r._suffixChildren.length),u.xp6(1),u.Q6J("ngIf","outline"!=r.appearance),u.xp6(1),u.Q6J("ngSwitch",r._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},dependencies:[qn,o4,so,Jo],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[I4.transitionMessages]},changeDetection:0}),n})(),p0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Qi,Zr,a4],Zr]}),n})();const JV=Sc({passive:!0});let O4=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ki.E;const r=nr(t),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new ut.x,c="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||r.classList.contains(c)?"cdk-text-field-autofill-end"===_.animationName&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!1}))):(r.classList.add(c),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",h,JV),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",h,JV)}}),o}stopMonitoring(t){const r=nr(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Li),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const N4=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),F4=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let L4=0;const V4=eC(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let tB=(()=>{class n extends V4{constructor(t,r,i,o,c,h,_,b,D,M){super(h,o,c,i),this._elementRef=t,this._platform=r,this._autofillMonitor=b,this._formField=M,this._uid="mat-input-"+L4++,this.focused=!1,this.stateChanges=new ut.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Q=>fE().has(Q)),this._iOSKeyupListener=Q=>{const ae=Q.target;!ae.value&&0===ae.selectionStart&&0===ae.selectionEnd&&(ae.setSelectionRange(1,1),ae.setSelectionRange(0,0))};const F=this._elementRef.nativeElement,H=F.nodeName.toLowerCase();this._inputValueAccessor=_||F,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&D.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===H,this._isTextarea="textarea"===H,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=F.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ts(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(vi.required)??!1}set required(t){this._required=Ts(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&fE().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ts(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){F4.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Li),u.Y36(Da,10),u.Y36(Zs,8),u.Y36(_h,8),u.Y36(jA),u.Y36(N4,10),u.Y36(O4),u.Y36(u.R0b),u.Y36(QV,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&u.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(u.Ikx("disabled",r.disabled)("required",r.required),u.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),u.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[u._Bn([{provide:Sk,useExisting:n}]),u.qOj,u.TTD]}),n})(),Tk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[jA],imports:[[eB,p0,Zr],eB,p0]}),n})();const B4=function(n){return{"cancel-button":n}},U4=["*"];let Ak=(()=>{class n{constructor(){this.width=277,this.height=44,this.disabled=!1,this.buttonType=""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-custom-button"]],inputs:{width:"width",height:"height",disabled:"disabled",buttonType:"buttonType"},ngContentSelectors:U4,decls:2,vars:10,consts:[[1,"custom-button",3,"ngClass","disabled"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"button",0),u.Hsn(1),u.qZA()),2&t&&(u.Udp("width",r.width,"px")("height",r.height,"px"),u.ekj("disabled",r.disabled),u.Q6J("ngClass",u.VKq(8,B4,"cancel-button"===r.buttonType))("disabled",r.disabled))},dependencies:[gn],styles:[".custom-button[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Inter,Raleway,sans-serif;font-size:18px;background:#ecf3fc;border:1px solid #4388dd;box-shadow:0 4px 180px #00000040;border-radius:6px;cursor:pointer;transition:all .3s ease}.custom-button[_ngcontent-%COMP%]:hover{background:#4388dd;border-color:#4388dd;color:#fff;box-shadow:0 6px 180px #00000059;transform:translateY(-2px)}.custom-button[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 4px 180px #00000040}.custom-button.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.custom-button.cancel-button[_ngcontent-%COMP%]{background:#f44336;border:1px solid #f44336;color:#fff}.custom-button.cancel-button[_ngcontent-%COMP%]:hover{background:#d32f2f;border:1px solid #d32f2f;color:#fff;box-shadow:0 6px 180px #00000059;transform:translateY(-2px)}@media (max-width: 767px){.custom-button[_ngcontent-%COMP%]{font-size:16px}}"]}),n})();const H4=["inputElem"];function j4(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"mat-form-field",14)(1,"input",15,16),u.NdJ("input",function(i){const c=u.CHM(t).index,h=u.oxw();return u.KtG(h.onInput(i,c))})("keyup",function(i){const c=u.CHM(t).index,h=u.oxw();return u.KtG(h.onKeyUp(i,c))}),u.qZA()()}if(2&n){const t=e.index;u.xp6(1),u.MGl("formControlName","roadmapCode",t,"")}}function z4(n,e){1&n&&(u.TgZ(0,"div",17),u._uU(1," Only digits are accepted. "),u.qZA())}let $4=(()=>{class n{constructor(t,r,i,o){this.formBuilder=t,this.dialogRef=r,this.boardService=i,this.router=o,this.controlsArray=[],this.invalidInput=!1,this.subscriptions=new Or.w0}ngOnInit(){this.roadmapCodeForm=this.formBuilder.group({boardName:["",vi.required],roadmapCode0:["",[vi.required,vi.pattern("\\d")]],roadmapCode1:["",[vi.required,vi.pattern("\\d")]],roadmapCode2:["",[vi.required,vi.pattern("\\d")]],roadmapCode3:["",[vi.required,vi.pattern("\\d")]],roadmapCode4:["",[vi.required,vi.pattern("\\d")]],roadmapCode5:["",[vi.required,vi.pattern("\\d")]]}),this.controlsArray=Object.values(this.roadmapCodeForm.controls).filter(t=>t!==this.roadmapCodeForm.controls.boardName)}ngOnDestroy(){this.subscriptions.unsubscribe()}onInput(t,r){const i=t.target,o=i.value;o.length>1&&(i.value=o.slice(0,1)),/\d/.test(o)?(this.invalidInput=!1,r<this.controlsArray.length-1&&this.controlsArray[r+1].enable()):""===o?this.invalidInput=!1:(i.value="",this.invalidInput=!0)}onKeyUp(t,r){if(1!==t.key.length||isNaN(Number(t.key))){if("Backspace"===t.key||"Delete"===t.key){this.invalidInput=!1;const i=r-1;i>=0&&this.inputElements.toArray()[i].nativeElement.focus()}}else{const i=r+1;i<this.inputElements.length&&setTimeout(()=>{this.inputElements.toArray()[i].nativeElement.focus()},50)}}onSubmit(){if(this.roadmapCodeForm.valid){const t=this.roadmapCodeForm.controls.boardName.value,r=this.controlsArray.map(o=>o.value).join(""),i=(0,Kw.sha256)(r);this.boardService.createNewBoard(t,i).then(o=>{this.dialogRef.close(),this.router.navigate(["/board",o,"editor"])}).catch(o=>{console.error("Error creating new board:",o)})}}onCancel(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wv),u.Y36(Rh),u.Y36($V),u.Y36(kn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-roadmap-popup"]],viewQuery:function(t,r){if(1&t&&u.Gf(H4,5),2&t){let i;u.iGM(i=u.CRH())&&(r.inputElements=i)}},decls:21,vars:4,consts:[[1,"popup-container"],[1,"setup-title"],[1,"content-container"],[1,"title"],[1,"description"],[1,"pin-code-form",3,"formGroup"],[1,"board-name-input"],["matInput","","formControlName","boardName","required",""],[1,"pin-inputs"],["class","pin-input",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],[1,"popup-actions"],[3,"disabled","click"],["buttonType","cancel-button",3,"click"],[1,"pin-input"],["matInput","","type","password","maxlength","1","pattern","\\d","required","",3,"formControlName","input","keyup"],["inputElem",""],[1,"error-message"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._uU(2,"Setup a Pin Code"),u.qZA(),u.TgZ(3,"div",2)(4,"h2",3),u._uU(5,"To obtain editor rights"),u.qZA(),u.TgZ(6,"p",4),u._uU(7,"Please enter the 6 digit code pin that will ensure your admin rights:"),u.qZA(),u.TgZ(8,"form",5)(9,"mat-form-field",6)(10,"mat-label"),u._uU(11,"Board Name"),u.qZA(),u._UZ(12,"input",7),u.qZA(),u.TgZ(13,"div",8),u.YNc(14,j4,3,1,"mat-form-field",9),u.qZA()(),u.YNc(15,z4,2,0,"div",10),u.qZA(),u.TgZ(16,"div",11)(17,"app-custom-button",12),u.NdJ("click",function(){return r.onSubmit()}),u._uU(18,"Validate"),u.qZA(),u.TgZ(19,"app-custom-button",13),u.NdJ("click",function(){return r.onCancel()}),u._uU(20,"Cancel"),u.qZA()()()),2&t&&(u.xp6(8),u.Q6J("formGroup",r.roadmapCodeForm),u.xp6(6),u.Q6J("ngForOf",r.controlsArray),u.xp6(1),u.Q6J("ngIf",r.invalidInput),u.xp6(2),u.Q6J("disabled",!r.roadmapCodeForm.valid))},dependencies:[un,qn,Op,hh,bw,ww,Qs,yl,Ic,_h,zm,XV,fI,tB,Ak],styles:[".popup-container[_ngcontent-%COMP%]{box-sizing:border-box;background:#323232;border:1px solid #323232;box-shadow:0 4px 20px #0009;border-radius:5px;padding:20px;height:100%;width:100%}.setup-title[_ngcontent-%COMP%]{width:100%;height:50px;font-size:18px;line-height:24px;color:#fff}.content-container[_ngcontent-%COMP%]{background:#e8f0fb;border-radius:5px;padding:20px;position:relative}.title[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:700;font-size:20px;line-height:150%;color:#000;margin-bottom:20px}.description[_ngcontent-%COMP%]{width:250px;height:39px;font-family:Roboto;font-style:normal;font-weight:400;font-size:16px;line-height:19px;color:#000}.board-name-input[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.pin-inputs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.pin-input[_ngcontent-%COMP%]{width:42px}.pin-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:55px;margin:3px;padding:0;background:#ecf3fc;border:1px solid #000000;border-radius:10px;display:flex;justify-content:center;align-items:center}@media (max-width: 480px){.popup-container[_ngcontent-%COMP%]{padding:10px}.setup-title[_ngcontent-%COMP%]{font-size:14px;height:40px}.title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.description[_ngcontent-%COMP%]{width:100%;font-size:14px;line-height:17px}.pin-input[_ngcontent-%COMP%]{width:35px}.pin-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:40px}input[type=password][_ngcontent-%COMP%]{font-size:46px}input[type=password][_ngcontent-%COMP%]::-webkit-text-security{font-size:50px}}input[type=password][_ngcontent-%COMP%]{text-align:center;font-size:62px}input[type=password][_ngcontent-%COMP%]::-webkit-text-security{font-size:66px}.popup-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;padding:20px}.error-message[_ngcontent-%COMP%]{color:red;font-size:14px;text-align:center;margin-top:8px}"]}),n})();function G4(n,e){if(1&n&&(u.O4$(),u._UZ(0,"circle",4)),2&n){const t=u.oxw(),r=u.MAs(1);u.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),u.uIk("r",t._getCircleRadius())}}function q4(n,e){if(1&n&&(u.O4$(),u._UZ(0,"circle",4)),2&n){const t=u.oxw(),r=u.MAs(1);u.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),u.uIk("r",t._getCircleRadius())}}const K4=g_(class{constructor(n){this._elementRef=n}},"primary"),Z4=new u.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Y4(){return{diameter:100}}});class ld extends K4{constructor(e,t,r,i,o,c,h,_){super(e),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=Or.w0.EMPTY,this.mode="determinate";const b=ld._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),b.has(r.head)||b.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),t.isBrowser&&t.SAFARI&&h&&c&&_&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&_.run(()=>c.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=wh(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=wh(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,wh(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=qp(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){const t=50*(e.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=ld._diameters;let i=r.get(e);if(!i||!i.has(t)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),e.appendChild(o),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}ld._diameters=new WeakMap,ld.\u0275fac=function(e){return new(e||ld)(u.Y36(u.SBq),u.Y36(Li),u.Y36(ee,8),u.Y36(u.QbO,8),u.Y36(Z4),u.Y36(u.sBO),u.Y36(Zp),u.Y36(u.R0b))},ld.\u0275cmp=u.Xpm({type:ld,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(u.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),u.Udp("width",t.diameter,"px")("height",t.diameter,"px"),u.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[u.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(u.O4$(),u.TgZ(0,"svg",0,1),u.YNc(2,G4,1,11,"circle",2),u.YNc(3,q4,1,9,"circle",3),u.qZA()),2&e&&(u.Udp("width",t.diameter,"px")("height",t.diameter,"px"),u.Q6J("ngSwitch","indeterminate"===t.mode),u.uIk("viewBox",t._getViewBox()),u.xp6(2),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngSwitchCase",!1))},dependencies:[so,Jo],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let nB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Zr,Qi],Zr]}),n})(),rB=(()=>{class n{constructor(){this.diameter=50,this.strokeWidth=5}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-circle-loader"]],inputs:{diameter:"diameter",strokeWidth:"strokeWidth"},decls:2,vars:2,consts:[[1,"loader-container"],["mode","indeterminate","color","accent",1,"circle-loader",3,"diameter","strokeWidth"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"mat-progress-spinner",1),u.qZA()),2&t&&(u.xp6(1),u.Q6J("diameter",r.diameter)("strokeWidth",r.strokeWidth))},dependencies:[ld],styles:[".loader-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.circle-loader[_ngcontent-%COMP%]{transform-origin:center;animation:rotation 2s linear infinite}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();function X4(n,e){1&n&&u._UZ(0,"app-circle-loader",4)}let J4=(()=>{class n{constructor(t){this.dialog=t,this.loading=!1}openPopup(){this.dialog.open($4,{width:"390px",height:"542px",panelClass:"custom-popup"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(fg))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-landing"]],decls:8,vars:3,consts:[["class","loading",4,"ngIf"],[1,"landing-page"],[1,"landing-page__welcome"],[1,"landing-page__button",3,"width","height","click"],[1,"loading"]],template:function(t,r){1&t&&(u.YNc(0,X4,1,0,"app-circle-loader",0),u.TgZ(1,"div",1)(2,"div",2),u._uU(3," Welcome to ROR, the easiest roadmap builder to really"),u._UZ(4,"br"),u._uU(5," Get Sh!t Done "),u.qZA(),u.TgZ(6,"app-custom-button",3),u.NdJ("click",function(){return r.openPopup()}),u._uU(7,"Create a roadmap"),u.qZA()()),2&t&&(u.Q6J("ngIf",r.loading),u.xp6(6),u.Q6J("width",277)("height",44))},dependencies:[qn,rB,Ak],styles:[".landing-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;height:100%;width:100%}.landing-page__welcome[_ngcontent-%COMP%]{max-width:730px;font-family:Inter,sans-serif;font-style:normal;font-weight:600;font-size:40px;line-height:44px;color:#373f41}.landing-page__button[_ngcontent-%COMP%]{margin-top:4.18rem}.loading[_ngcontent-%COMP%]{height:60vh;display:flex;justify-content:center;align-items:center}.popup[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:#323232;border:1px solid #323232;box-shadow:0 4px 20px #0009;border-radius:5px}@media screen and (max-width: 767px){.landing-page__welcome[_ngcontent-%COMP%]{font-size:28px;line-height:32px}.landing-page__button[_ngcontent-%COMP%]{margin-top:2rem}}@media screen and (max-width: 480px){.landing-page__welcome[_ngcontent-%COMP%]{font-size:24px;line-height:28px}.popup[_ngcontent-%COMP%]{width:90%;height:auto}}"]}),n})();function pI(n,e){localStorage.setItem(`lastViewedMonthIndex_${n}`,e.toString())}const tG=["mat-button",""],nG=["*"],iG=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],sG=g_(LA(jv(class{constructor(n){this._elementRef=n}})));let g0=(()=>{class n extends sG{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of iG)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Uv),u.Y36(u.QbO,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&u.Gf($v,5),2&t){let i;u.iGM(i=u.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:tG,ngContentSelectors:nG,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1)(3,"span",2)),2&t&&(u.xp6(2),u.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[$v],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),by=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[dC,Zr],Zr]}),n})();class oG{}class rf{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof rf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new rf;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof rf?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===o.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class aG{encodeKey(e){return iB(e)}encodeValue(e){return iB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const cG=/%(\d[a-f0-9])/gi,uG={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iB(n){return encodeURIComponent(n).replace(cG,(e,t)=>uG[t]??e)}function gI(n){return`${n}`}class sf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new aG,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function lG(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[c,h]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],_=t.get(c)||[];_.push(h),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(gI):[gI(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new sf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(gI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(gI(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class dG{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function sB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function oB(n){return typeof Blob<"u"&&n instanceof Blob}function aB(n){return typeof FormData<"u"&&n instanceof FormData}class m0{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function hG(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new rf),this.context||(this.context=new dG),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new sf,this.urlWithParams=t}serializeBody(){return null===this.body?null:sB(this.body)||oB(this.body)||aB(this.body)||function fG(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof sf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||aB(this.body)?null:oB(this.body)?this.body.type||null:sB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof sf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,b=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((M,F)=>M.set(F,e.setHeaders[F]),_)),e.setParams&&(b=Object.keys(e.setParams).reduce((M,F)=>M.set(F,e.setParams[F]),b)),new m0(t,r,o,{params:b,headers:_,context:D,reportProgress:h,responseType:i,withCredentials:c})}}var fs=(()=>((fs=fs||{})[fs.Sent=0]="Sent",fs[fs.UploadProgress=1]="UploadProgress",fs[fs.ResponseHeader=2]="ResponseHeader",fs[fs.DownloadProgress=3]="DownloadProgress",fs[fs.Response=4]="Response",fs[fs.User=5]="User",fs))();class Mk extends class pG{constructor(e,t=200,r="OK"){this.headers=e.headers||new rf,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=fs.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Mk({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Rk(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let cB=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof m0)o=t;else{let _,b;_=i.headers instanceof rf?i.headers:new rf(i.headers),i.params&&(b=i.params instanceof sf?i.params:new sf({fromObject:i.params})),o=new m0(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:b,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=ot(o).pipe(Pi(_=>this.handler.handle(_)));if(t instanceof m0||"events"===i.observe)return c;const h=c.pipe(Yn(_=>_ instanceof Mk));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,gt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,gt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,gt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,gt.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new sf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Rk(i,r))}post(t,r,i={}){return this.request("POST",t,Rk(i,r))}put(t,r,i={}){return this.request("PUT",t,Rk(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const mG=["*"];let mI;function _0(n){return function _G(){if(void 0===mI&&(mI=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(mI=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return mI}()?.createHTML(n)||n}function uB(n){return Error(`Unable to find icon with the name "${n}"`)}function dB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function hB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class $g{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let _I=(()=>{class n{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new $g(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){const c=this._sanitizer.sanitize(u.q3G.HTML,i);if(!c)throw hB(i);const h=_0(c);return this._addSvgIconConfig(t,r,new $g("",h,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new $g(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const o=this._sanitizer.sanitize(u.q3G.HTML,r);if(!o)throw hB(r);const c=_0(o);return this._addSvgIconSetConfig(t,new $g("",c,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!r)throw dB(t);const i=this._cachedIconsByUrl.get(r);return i?ot(yI(i)):this._loadSvgIconFromConfig(new $g(t,null)).pipe((0,zn.b)(o=>this._cachedIconsByUrl.set(r,o)),(0,gt.U)(o=>yI(o)))}getNamedSvgIcon(t,r=""){const i=fB(r,t);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(t,c):_i(uB(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ot(yI(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,gt.U)(r=>yI(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?ot(i):Qy(r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(is(h=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,c.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(b)),ot(null)})))).pipe((0,gt.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,r);if(!c)throw uB(t);return c}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(c,t,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,zn.b)(r=>t.svgText=r),(0,gt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ot(null):this._fetchIcon(t).pipe((0,zn.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const o=t.querySelector(`[id="${r}"]`);if(!o)return null;const c=o.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,i);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),i);const h=this._svgElementFromString(_0("<svg></svg>"));return h.appendChild(c),this._setSvgAttributes(h,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(_0("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){const{name:c,value:h}=i[o];"id"!==c&&r.setAttribute(c,h)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw function yG(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const c=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,r);if(!c)throw dB(r);const h=this._inProgressUrlFetches.get(c);if(h)return h;const _=this._httpClient.get(c,{responseType:"text",withCredentials:o}).pipe((0,gt.U)(b=>_0(b)),cc(()=>this._inProgressUrlFetches.delete(c)),(0,rV.B)());return this._inProgressUrlFetches.set(c,_),_}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(fB(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,t);if(o)return bG(o)?new $g(o.url,null,o.options):new $g(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(cB,8),u.LFG(Po),u.LFG(ee,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yI(n){return n.cloneNode(!0)}function fB(n,e){return n+":"+e}function bG(n){return!(!n.url||!n.options)}const wG=g_(class{constructor(n){this._elementRef=n}}),EG=new u.OlP("mat-icon-location",{providedIn:"root",factory:function CG(){const n=(0,u.f3M)(ee),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),pB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],DG=pB.map(n=>`[${n}]`).join(", "),IG=/^url\(['"]?#(.*?)['"]?\)$/;let vI=(()=>{class n extends wG{constructor(t,r,i,o,c){super(t),this._iconRegistry=r,this._location=o,this._errorHandler=c,this._inline=!1,this._currentIconFetch=Or.w0.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Ts(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(c=>{o.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(DG),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)pB.forEach(c=>{const h=r[o],_=h.getAttribute(c),b=_?_.match(IG):null;if(b){let D=i.get(h);D||(D=[],i.set(h,D)),D.push({name:c,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Nr(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(_I),u.$8M("aria-hidden"),u.Y36(EG),u.Y36(u.qLn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),u.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:mG,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),y0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Zr],Zr]}),n})();function kk(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];i?n.setProperty(r,i,t?.has(r)?"important":""):n.removeProperty(r)}return n}function wy(n,e){const t=e?"":"none";kk(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function gB(n,e,t){kk(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function bI(n,e){return e&&"none"!=e?n+" "+e:n}function mB(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function Pk(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}function Ok(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Nk(n,e,t){const{top:r,bottom:i,left:o,right:c}=n;return t>=r&&t<=i&&e>=o&&e<=c}function v0(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function _B(n,e,t,r){const{top:i,right:o,bottom:c,left:h,width:_,height:b}=n,D=_*e,M=b*e;return r>i-M&&r<c+M&&t>h-D&&t<o+D}class yB{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Ok(t)})})}handleScroll(e){const t=Js(e),r=this.positions.get(t);if(!r)return null;const i=r.scrollPosition;let o,c;if(t===this._document){const b=this.getViewportScrollPosition();o=b.top,c=b.left}else o=t.scrollTop,c=t.scrollLeft;const h=i.top-o,_=i.left-c;return this.positions.forEach((b,D)=>{b.clientRect&&t!==D&&t.contains(D)&&v0(b.clientRect,h,_)}),i.top=o,i.left=c,{top:h,left:_}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function vB(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return"canvas"===r?EB(n,e):("input"===r||"select"===r||"textarea"===r)&&wB(n,e),bB("canvas",n,e,EB),bB("input, textarea, select",n,e,wB),e}function bB(n,e,t,r){const i=e.querySelectorAll(n);if(i.length){const o=t.querySelectorAll(n);for(let c=0;c<i.length;c++)r(i[c],o[c])}}let AG=0;function wB(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${AG++}`)}function EB(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}const CB=Sc({passive:!0}),wI=Sc({passive:!1}),Fk=new Set(["position"]);class MG{constructor(e,t,r,i,o,c){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=c,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new ut.x,this._pointerMoveSubscription=Or.w0.EMPTY,this._pointerUpSubscription=Or.w0.EMPTY,this._scrollSubscription=Or.w0.EMPTY,this._resizeSubscription=Or.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ut.x,this.started=new ut.x,this.released=new ut.x,this.ended=new ut.x,this.entered=new ut.x,this.exited=new ut.x,this.dropped=new ut.x,this.moved=this._moveEvents,this._pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const _=this._getTargetHandle(h);_&&!this._disabledHandles.has(_)&&!this.disabled&&this._initializeDragSequence(_,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)},this._pointerMove=h=>{const _=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging){if(Math.abs(_.x-this._pickupPositionOnPage.x)+Math.abs(_.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const H=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),Q=this._dropContainer;if(!H)return void this._endDragSequence(h);(!Q||!Q.isDragging()&&!Q.isReceiving())&&(h.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(h)))}return}h.preventDefault();const b=this._getConstrainedPointerPosition(_);if(this._hasMoved=!0,this._lastKnownPointerPosition=_,this._updatePointerDirectionDelta(b),this._dropContainer)this._updateActiveDropContainer(b,_);else{const D=this._activeTransform;D.x=b.x-this._pickupPositionOnPage.x+this._passiveTransform.x,D.y=b.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(D.x,D.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:b,event:h,distance:this._getDragDistance(b),delta:this._pointerDirectionDelta})})},this._pointerUp=h=>{this._endDragSequence(h)},this._nativeDragStart=h=>{if(this._handles.length){const _=this._getTargetHandle(h);_&&!this._disabledHandles.has(_)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new yB(r),c.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=Ts(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>wy(r,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>nr(r)),this._handles.forEach(r=>wy(r,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=nr(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,wI),t.addEventListener("touchstart",this._pointerDown,CB),t.addEventListener("dragstart",this._nativeDragStart,wI)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?nr(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),wy(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),wy(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){b0(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const r=this._rootElement,i=r.parentNode,o=this._placeholder=this._createPlaceholderElement(),c=this._anchor=this._anchor||this._document.createComment(""),h=this._getShadowRoot();i.insertBefore(c,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),gB(r,!1,Fk),this._document.body.appendChild(i.replaceChild(o,r)),this._getPreviewInsertionPoint(i,h).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const r=this.isDragging(),i=b0(t),o=!i&&0!==t.button,c=this._rootElement,h=Js(t),_=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),b=i?rg(t):KE(t);if(h&&h.draggable&&"mousedown"===t.type&&t.preventDefault(),r||o||_||b)return;if(this._handles.length){const F=c.style;this._rootElementTapHighlight=F.webkitTapHighlightColor||"",F.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(F=>this._updateOnScroll(F)),this._boundaryElement&&(this._boundaryRect=Ok(this._boundaryElement));const D=this._previewTemplate;this._pickupPositionInElement=D&&D.template&&!D.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const M=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:M.x,y:M.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){gB(this._rootElement,!0,Fk),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(i),c=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:c,distance:o,dropPoint:i}),t.drop(this,r,this._initialIndex,this._initialContainer,c,o,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,r=e?e.template:null;let i;if(r&&e){const o=e.matchSize?this._rootElement.getBoundingClientRect():null,c=e.viewContainer.createEmbeddedView(r,e.context);c.detectChanges(),i=IB(c,this._document),this._previewRef=c,e.matchSize?SB(i,o):i.style.transform=EI(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const o=this._rootElement;i=vB(o),SB(i,o.getBoundingClientRect()),this._initialTransform&&(i.style.transform=this._initialTransform)}return kk(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Fk),wy(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>i.classList.add(o)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function TG(n){const e=getComputedStyle(n),t=Pk(e,"transition-property"),r=t.find(h=>"transform"===h||"all"===h);if(!r)return 0;const i=t.indexOf(r),o=Pk(e,"transition-duration"),c=Pk(e,"transition-delay");return mB(o[i])+mB(c[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=c=>{(!c||Js(c)===this._preview&&"transform"===c.propertyName)&&(this._preview?.removeEventListener("transitionend",i),r(),clearTimeout(o))},o=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=IB(this._placeholderRef,this._document)):r=vB(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t){const r=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,o=i?i.getBoundingClientRect():r,c=b0(t)?t.targetTouches[0]:t,h=this._getViewportScrollPosition();return{x:o.left-r.left+(c.pageX-o.left-h.left),y:o.top-r.top+(c.pageY-o.top-h.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),r=b0(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,o=r.pageY-t.top;if(this._ownerSVGElement){const c=this._ownerSVGElement.getScreenCTM();if(c){const h=this._ownerSVGElement.createSVGPoint();return h.x=i,h.y=o,h.matrixTransform(c.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:c}=this._pickupPositionInElement,h=this._boundaryRect,{width:_,height:b}=this._getPreviewRect(),D=h.top+c,M=h.bottom-(b-c);r=DB(r,h.left+o,h.right-(_-o)),i=DB(i,D,M)}return{x:r,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:r}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,c=Math.abs(t-o.x),h=Math.abs(r-o.y);return c>this._config.pointerDirectionChangeThreshold&&(i.x=t>o.x?1:-1,o.x=t),h>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,wy(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,wI),e.removeEventListener("touchstart",this._pointerDown,CB),e.removeEventListener("dragstart",this._nativeDragStart,wI)}_applyRootElementTransform(e,t){const r=EI(e,t),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=bI(r,this._initialTransform)}_applyPreviewTransform(e,t){const r=this._previewTemplate?.template?void 0:this._initialTransform,i=EI(e,t);this._preview.style.transform=bI(i,r)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,c=i.right-r.right,h=r.top-i.top,_=i.bottom-r.bottom;r.width>i.width?(o>0&&(e+=o),c>0&&(e-=c)):e=0,r.height>i.height?(h>0&&(t+=h),_>0&&(t-=_)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:b0(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const r=Js(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&v0(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=qp(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const r=this._previewContainer||"global";if("parent"===r)return e;if("global"===r){const i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return nr(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function EI(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function DB(n,e,t){return Math.max(e,Math.min(t,n))}function b0(n){return"t"===n.type[0]}function IB(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function SB(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=EI(e.left,e.top)}function TB(n,e,t){const r=w0(e,n.length-1),i=w0(t,n.length-1);if(r===i)return;const o=n[r],c=i<r?-1:1;for(let h=r;h!==i;h+=c)n[h]=n[h+c];n[i]=o}function w0(n,e){return Math.max(0,Math.min(e,n))}class kG{constructor(e,t,r,i,o){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ut.x,this.entered=new ut.x,this.exited=new ut.x,this.dropped=new ut.x,this.sorted=new ut.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Or.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new ut.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function SG(n=0,e=Ch.z){return n<0&&(n=0),uE(n,n,e)}(0,eE).pipe(Bo(this._stopScrollTimers)).subscribe(()=>{const c=this._scrollNode,h=this.autoScrollStep;1===this._verticalScrollDirection?c.scrollBy(0,-h):2===this._verticalScrollDirection&&c.scrollBy(0,h),1===this._horizontalScrollDirection?c.scrollBy(-h,0):2===this._horizontalScrollDirection&&c.scrollBy(h,0)})},this.element=nr(e),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new yB(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){let o;this._draggingStarted(),null==i?(o=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===o&&(o=this._getItemIndexFromPointerPosition(e,t,r))):o=i;const c=this._activeDraggables,h=c.indexOf(e),_=e.getPlaceholderElement();let b=c[o];if(b===e&&(b=c[o+1]),!b&&(null==o||-1===o||o<c.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(b=c[0]),h>-1&&c.splice(h,1),b&&!this._dragDropRegistry.isDragging(b)){const D=b.getRootElement();D.parentElement.insertBefore(_,D),c.splice(o,0,e)}else nr(this.element).appendChild(_),c.push(e);_.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,o,c,h){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:c,dropPoint:h})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>-1===e.indexOf(i))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=nr(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._clientRect||!_B(this._clientRect,.05,t,r))return;const o=this._itemPositions,c=this._getItemIndexFromPointerPosition(e,t,r,i);if(-1===c&&o.length>0)return;const h="horizontal"===this._orientation,_=o.findIndex(ye=>ye.drag===e),b=o[c],M=b.clientRect,F=_>c?1:-1,H=this._getItemOffsetPx(o[_].clientRect,M,F),Q=this._getSiblingOffsetPx(_,o,F),ae=o.slice();TB(o,_,c),this.sorted.next({previousIndex:_,currentIndex:c,container:this,item:e}),o.forEach((ye,We)=>{if(ae[We]===ye)return;const st=ye.drag===e,tt=st?H:Q,Et=st?e.getPlaceholderElement():ye.drag.getRootElement();ye.offset+=tt,h?(Et.style.transform=bI(`translate3d(${Math.round(ye.offset)}px, 0, 0)`,ye.initialTransform),v0(ye.clientRect,0,tt)):(Et.style.transform=bI(`translate3d(0, ${Math.round(ye.offset)}px, 0)`,ye.initialTransform),v0(ye.clientRect,tt,0))}),this._previousSwap.overlaps=Nk(M,t,r),this._previousSwap.drag=b.drag,this._previousSwap.delta=h?i.x:i.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=0,o=0;if(this._parentPositions.positions.forEach((c,h)=>{h===this._document||!c.clientRect||r||_B(c.clientRect,.05,e,t)&&([i,o]=function PG(n,e,t,r){const i=MB(e,r),o=RB(e,t);let c=0,h=0;if(i){const _=n.scrollTop;1===i?_>0&&(c=1):n.scrollHeight-_>n.clientHeight&&(c=2)}if(o){const _=n.scrollLeft;1===o?_>0&&(h=1):n.scrollWidth-_>n.clientWidth&&(h=2)}return[c,h]}(h,c.clientRect,e,t),(i||o)&&(r=h))}),!i&&!o){const{width:c,height:h}=this._viewportRuler.getViewportSize(),_={width:c,height:h,top:0,right:c,bottom:h,left:0};i=MB(_,t),o=RB(_,e),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=nr(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=nr(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:Ok(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const e=nr(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const r=t.getRootElement();if(r){const i=this._itemPositions.find(o=>o.drag===t)?.initialTransform;r.style.transform=i||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,r){const i="horizontal"===this._orientation,o=t[e].clientRect,c=t[e+-1*r];let h=o[i?"width":"height"]*r;if(c){const _=i?"left":"top",b=i?"right":"bottom";-1===r?h-=c.clientRect[_]-o[b]:h+=o[_]-c.clientRect[b]}return h}_getItemOffsetPx(e,t,r){const i="horizontal"===this._orientation;let o=i?t.left-e.left:t.top-e.top;return-1===r&&(o+=i?t.width-e.width:t.height-e.height),o}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const c=r[r.length-1].clientRect;return i?e>=c.right:t>=c.bottom}{const c=r[0].clientRect;return i?e<=c.left:t<=c.top}}_getItemIndexFromPointerPosition(e,t,r,i){const o="horizontal"===this._orientation,c=this._itemPositions.findIndex(({drag:h,clientRect:_})=>{if(h===e)return!1;if(i){const b=o?i.x:i.y;if(h===this._previousSwap.drag&&this._previousSwap.overlaps&&b===this._previousSwap.delta)return!1}return o?t>=Math.floor(_.left)&&t<Math.floor(_.right):r>=Math.floor(_.top)&&r<Math.floor(_.bottom)});return-1!==c&&this.sortPredicate(c,e,this)?c:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&Nk(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._clientRect||!Nk(this._clientRect,t,r)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,r);if(!i)return!1;const o=nr(this.element);return i===o||o.contains(i)}_startReceiving(e,t){const r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:r})=>{v0(r,t.top,t.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=qp(nr(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function MB(n,e){const{top:t,bottom:r,height:i}=n,o=.05*i;return e>=t-o&&e<=t+o?1:e>=r-o&&e<=r+o?2:0}function RB(n,e){const{left:t,right:r,width:i}=n,o=.05*i;return e>=t-o&&e<=t+o?1:e>=r-o&&e<=r+o?2:0}const CI=Sc({passive:!1,capture:!0});let OG=(()=>{class n{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new ut.x,this.pointerUp=new ut.x,this.scroll=new ut.x,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,CI)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,CI)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:CI}),i||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:CI}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,c)=>{this._document.addEventListener(c,o.handler,o.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new wr.y(i=>this._ngZone.runOutsideAngular(()=>{const c=h=>{this._activeDragInstances.length&&i.next(h)};return t.addEventListener("scroll",c,!0),()=>{t.removeEventListener("scroll",c,!0)}}))),(0,Xp.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NG={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Lk=(()=>{class n{constructor(t,r,i,o){this._document=t,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=o}createDrag(t,r=NG){return new MG(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new kG(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ee),u.LFG(u.R0b),u.LFG(Zp),u.LFG(OG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kB=new u.OlP("CDK_DRAG_PARENT"),Vk=new u.OlP("CdkDropListGroup");let FG=(()=>{class n{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Ts(t)}ngOnDestroy(){this._items.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[u._Bn([{provide:Vk,useExisting:n}])]}),n})();const PB=new u.OlP("CDK_DRAG_CONFIG");let LG=0;const OB=new u.OlP("CdkDropList");let VG=(()=>{class n{constructor(t,r,i,o,c,h,_){this.element=t,this._changeDetectorRef=i,this._scrollDispatcher=o,this._dir=c,this._group=h,this._destroyed=new ut.x,this.connectedTo=[],this.id="cdk-drop-list-"+LG++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new u.vpe,this.entered=new u.vpe,this.exited=new u.vpe,this.sorted=new u.vpe,this._unsortedItems=new Set,this._dropListRef=r.createDropList(t),this._dropListRef.data=this,_&&this._assignDefaults(_),this._dropListRef.enterPredicate=(b,D)=>this.enterPredicate(b.data,D.data),this._dropListRef.sortPredicate=(b,D,M)=>this.sortPredicate(b,D.data,M.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),h&&h._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Ts(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,r)=>t._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(si(this._dir.value),Bo(this._destroyed)).subscribe(r=>t.withDirection(r)),t.beforeStarted.subscribe(()=>{const r=Hp(this.connectedTo).map(i=>"string"==typeof i?n._dropLists.find(c=>c.id===i):i);if(this._group&&this._group._items.forEach(i=>{-1===r.indexOf(i)&&r.push(i)}),!this._scrollableParentsResolved){const i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=Ts(this.sortingDisabled),t.autoScrollDisabled=Ts(this.autoScrollDisabled),t.autoScrollStep=wh(this.autoScrollStep,2),t.connectedTo(r.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:r,draggingDisabled:i,sortingDisabled:o,listAutoScrollDisabled:c,listOrientation:h}=t;this.disabled=i??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=c??!1,this.orientation=h||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return n._dropLists=[],n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Lk),u.Y36(u.sBO),u.Y36(mE),u.Y36(Vi,8),u.Y36(Vk,12),u.Y36(PB,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("id",r.id),u.ekj("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[u._Bn([{provide:Vk,useValue:void 0},{provide:OB,useExisting:n}])]}),n})();const NB=new u.OlP("CdkDragHandle"),BG=new u.OlP("CdkDragPlaceholder"),UG=new u.OlP("CdkDragPreview");let jG=(()=>{class n{constructor(t,r,i,o,c,h,_,b,D,M,F){this.element=t,this.dropContainer=r,this._ngZone=o,this._viewContainerRef=c,this._dir=_,this._changeDetectorRef=D,this._selfHandle=M,this._parentDrag=F,this._destroyed=new ut.x,this.started=new u.vpe,this.released=new u.vpe,this.ended=new u.vpe,this.entered=new u.vpe,this.exited=new u.vpe,this.dropped=new u.vpe,this.moved=new wr.y(H=>{const Q=this._dragRef.moved.pipe((0,gt.U)(ae=>({source:this,pointerPosition:ae.pointerPosition,event:ae.event,delta:ae.delta,distance:ae.distance}))).subscribe(H);return()=>{Q.unsubscribe()}}),this._dragRef=b.createDrag(t,{dragStartThreshold:h&&null!=h.dragStartThreshold?h.dragStartThreshold:5,pointerDirectionChangeThreshold:h&&null!=h.pointerDirectionChangeThreshold?h.pointerDirectionChangeThreshold:5,zIndex:h?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),h&&this._assignDefaults(h),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Ts(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Nr(1),Bo(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let r=t;this.rootElementSelector&&(r=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):nr(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const r=this._dir,i=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,c=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:wh(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(c).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(Nr(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){t.withParent(n._dragInstances.find(i=>i.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(t){const{lockAxis:r,dragStartDelay:i,constrainPosition:o,previewClass:c,boundaryElement:h,draggingDisabled:_,rootElementSelector:b,previewContainer:D}=t;this.disabled=_??!1,this.dragStartDelay=i||0,r&&(this.lockAxis=r),o&&(this.constrainPosition=o),c&&(this.previewClass=c),h&&(this.boundaryElement=h),b&&(this.rootElementSelector=b),D&&(this.previewContainer=D)}_setupHandlesListener(){this._handles.changes.pipe(si(this._handles),(0,zn.b)(t=>{const r=t.filter(i=>i._parentDrag===this).map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),tr(t=>(0,Xp.T)(...t.map(r=>r._stateChanges.pipe(si(r))))),Bo(this._destroyed)).subscribe(t=>{const r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(OB,12),u.Y36(ee),u.Y36(u.R0b),u.Y36(u.s_b),u.Y36(PB,8),u.Y36(Vi,8),u.Y36(Lk),u.Y36(u.sBO),u.Y36(NB,10),u.Y36(kB,12))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,UG,5),u.Suo(i,BG,5),u.Suo(i,NB,5)),2&t){let o;u.iGM(o=u.CRH())&&(r._previewTemplate=o.first),u.iGM(o=u.CRH())&&(r._placeholderTemplate=o.first),u.iGM(o=u.CRH())&&(r._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){2&t&&u.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[u._Bn([{provide:kB,useExisting:n}]),u.TTD]}),n})(),E0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Lk],imports:[Yp]}),n})();var DI=(()=>(function(n){n.Todo="todo",n.InProgress="in_progress",n.Done="done"}(DI||(DI={})),DI))(),cd=(()=>(function(n){n.Low="low",n.Medium="medium",n.High="high"}(cd||(cd={})),cd))();const FB=new Set;let Ey,zG=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):GG}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function $G(n){if(!FB.has(n))try{Ey||(Ey=document.createElement("style"),Ey.setAttribute("type","text/css"),document.head.appendChild(Ey)),Ey.sheet&&(Ey.sheet.insertRule(`@media ${n} {body{ }}`,0),FB.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Li))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GG(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let LB=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new ut.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return VB(Hp(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=js(VB(Hp(t)).map(c=>this._registerQuery(c).observable));return o=Es(o.pipe(Nr(1)),o.pipe(BE(1),GV(0))),o.pipe((0,gt.U)(c=>{const h={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:b})=>{h.matches=h.matches||_,h.breakpoints[b]=_}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new wr.y(c=>{const h=_=>this._zone.run(()=>c.next(_));return r.addListener(h),()=>{r.removeListener(h)}}).pipe(si(r),(0,gt.U)(({matches:c})=>({query:t,matches:c})),Bo(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(zG),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VB(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function WG(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",2)(1,"button",3),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.action())}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(2),u.Oqu(t.data.action)}}function KG(n,e){}const BB=new u.OlP("MatSnackBarData");class II{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const ZG=Math.pow(2,31)-1;class Bk{constructor(e,t){this._overlayRef=t,this._afterDismissed=new ut.x,this._afterOpened=new ut.x,this._onAction=new ut.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,ZG))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let YG=(()=>{class n{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Bk),u.Y36(BB))},n.\u0275cmp=u.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"span",0),u._uU(1),u.qZA(),u.YNc(2,WG,3,1,"div",1)),2&t&&(u.xp6(1),u.Oqu(r.data.message),u.xp6(1),u.Q6J("ngIf",r.hasAction))},dependencies:[g0,qn],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const QG={snackBarState:fC("state",[__("void, hidden",_o({transform:"scale(0.8)",opacity:0})),__("visible",_o({transform:"scale(1)",opacity:1})),ug("* => visible",qu("150ms cubic-bezier(0, 0, 0.2, 1)")),ug("* => void, * => hidden",qu("75ms cubic-bezier(0.4, 0.0, 1, 1)",_o({opacity:0})))])};let XG=(()=>{class n extends n_{constructor(t,r,i,o,c){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=i,this._platform=o,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ut.x,this._onExit=new ut.x,this._onEnter=new ut.x,this._animationState="void",this.attachDomPortal=h=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(h)),this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:r,toState:i}=t;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Nr(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>t.classList.add(i)):t.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Li),u.Y36(II))},n.\u0275cmp=u.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,r){if(1&t&&u.Gf(r_,7),2&t){let i;u.iGM(i=u.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,r){1&t&&u.WFA("@state.done",function(o){return r.onAnimationEnd(o)}),2&t&&u.d8E("@state",r._animationState)},features:[u.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.YNc(1,KG,0,0,"ng-template",1),u.qZA(),u._UZ(2,"div")),2&t&&(u.xp6(2),u.uIk("aria-live",r._live)("role",r._role))},dependencies:[r_],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[QG.snackBarState]}}),n})(),UB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[kv,Sv,Qi,by,Zr],Zr]}),n})();const HB=new u.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function JG(){return new II}});let e5=(()=>{class n{constructor(t,r,i,o,c,h){this._overlay=t,this._live=r,this._injector=i,this._breakpointObserver=o,this._parentSnackBar=c,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){const o={...this._defaultConfig,...i};return o.data={message:t,action:r},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const o=u.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:II,useValue:r}]}),c=new Sh(this.snackBarContainerComponent,r.viewContainerRef,o),h=t.attach(c);return h.instance.snackBarConfig=r,h.instance}_attach(t,r){const i={...new II,...this._defaultConfig,...r},o=this._createOverlay(i),c=this._attachSnackBarContainer(o,i),h=new Bk(c,o);if(t instanceof u.Rgc){const _=new Iv(t,null,{$implicit:i.data,snackBarRef:h});h.instance=c.attachTemplatePortal(_)}else{const _=this._createInjector(i,h),b=new Sh(t,void 0,_),D=c.attachComponentPortal(b);h.instance=D.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Bo(o.detachments())).subscribe(_=>{o.overlayElement.classList.toggle(this.handsetCssClass,_.matches)}),i.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(h,i),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new s_;r.direction=t.direction;let i=this._overlay.position().global();const o="rtl"===t.direction,c="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!o||"end"===t.horizontalPosition&&o,h=!c&&"center"!==t.horizontalPosition;return c?i.left("0"):h?i.right("0"):i.centerHorizontally(),"top"===t.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){return u.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Bk,useValue:r},{provide:BB,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bl),u.LFG(Bv),u.LFG(u.zs3),u.LFG(LB),u.LFG(n,12),u.LFG(HB))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),t5=(()=>{class n extends e5{constructor(t,r,i,o,c,h){super(t,r,i,o,c,h),this.simpleSnackBarComponent=YG,this.snackBarContainerComponent=XG,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bl),u.LFG(Bv),u.LFG(u.zs3),u.LFG(LB),u.LFG(n,12),u.LFG(HB))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:UB}),n})(),n5=(()=>{class n{constructor(t){this.snackBar=t}showSuccess(t,r=3e3){this.snackBar.open(t,"Close",{duration:r,panelClass:["snackbar-success"]})}showError(t,r=3e3){this.snackBar.open(t,"Close",{duration:r,panelClass:["snackbar-error"]})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(t5))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var r5=N(930);let jB=(()=>{class n{constructor(t){this.db=t}createTicket(t,r,i,o,c){var h=this;return(0,ve.Z)(function*(){if(!t||!r||!i)throw new Error("Required fields are missing");const _=h.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").doc(i).collection("tickets").doc();yield _.set({...o,id:_.ref.id,position:c})})()}getTickets(t,r,i){return this.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").doc(i).collection("tickets").valueChanges({idField:"id"})}getTicketsPromise(t,r,i){var o=this;return(0,ve.Z)(function*(){return(yield o.db.collection("boards").doc(t).collection("months").doc(r).collection("sprints").doc(i).collection("tickets").ref.get()).docs.map(h=>({...h.data(),id:h.id}))})()}updateTicket(t,r){var i=this;return(0,ve.Z)(function*(){if(!r.boardId||!r.monthId||!r.sprintId)throw console.log(r.boardId,r.monthId,r.sprintId),console.log("PARAMS:",t,r),new Error("Required fields are missing");yield i.db.collection("boards").doc(r.boardId).collection("months").doc(r.monthId).collection("sprints").doc(r.sprintId).collection("tickets").doc(r.id).update({...r,boardId:r.boardId,monthId:r.monthId,sprintId:r.sprintId})})()}deleteTicket(t,r,i,o){return this.db.collection("boards").doc(r).collection("months").doc(i).collection("sprints").doc(o).collection("tickets").doc(t).delete()}getNewTicketPosition(t,r,i){var o=this;return(0,ve.Z)(function*(){const c=o.getTickets(t,r,i),_=(yield function s5(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const o=new r5.Hp({next:c=>{r(c),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new ha)}});n.subscribe(o)})}(c)).map(D=>D.position);return(_.length?Math.max(..._):0)+1})()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(f0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o5=(()=>{class n{constructor(t,r,i,o,c){this.dialogRef=t,this.data=r,this.fb=i,this.snackbarService=o,this.ticketService=c,this.ticketForm=this.fb.group({title:["",vi.required],description:["",vi.maxLength(280)],priority:[cd.Low],link:[""]})}ngOnInit(){}getTicketsSafe(){var t=this;return(0,ve.Z)(function*(){return(yield t.ticketService.getTicketsPromise(t.data.boardId,t.data.monthId,t.data.sprintId))||[]})()}onSubmit(){var t=this;return(0,ve.Z)(function*(){if(t.data.boardId&&t.data.sprintId&&t.data.monthId){if(t.ticketForm.valid){const r=t.ticketForm.value,i={title:r.title,boardId:t.data.boardId,monthId:t.data.monthId,sprintId:t.data.sprintId,description:r.description,status:DI.Todo,priority:r.priority?cd.High:cd.Low,createdAt:new Date,updatedAt:new Date,link:r.link,assignee:""},o=yield t.getTicketsSafe(),c=yield t.ticketService.getNewTicketPosition(t.data.boardId,t.data.monthId,t.data.sprintId);for(const[h,_]of o.entries())h>=c&&(console.log("for const",_),_.position=h+1,yield t.ticketService.updateTicket(_.id,_));i.position=c;try{yield t.ticketService.createTicket(t.data.boardId,t.data.monthId,t.data.sprintId,i,c),t.dialogRef.close(),t.snackbarService.showSuccess("Ticket created successfully")}catch(h){console.error(h),t.snackbarService.showError("An error occurred while creating the ticket")}}}else t.snackbarService.showError("Required data is missing")})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Rh),u.Y36(eo),u.Y36(wv),u.Y36(n5),u.Y36(jB))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-ticket-creation-dialog"]],decls:35,vars:5,consts:[[1,"dialog-container"],["mat-dialog-title",""],["mat-icon-button","",1,"close-button",3,"click"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","title","placeholder","Issue title","cdkFocusInitial",""],["matInput","","formControlName","description","placeholder","Add description...","maxlength","280"],["align","end"],[1,"toggle-priority"],[1,"switch"],["type","checkbox","formControlName","priority"],[1,"slider","round"],["matInput","","formControlName","link","placeholder","Paste a link"],["matPrefix",""],[1,"save-button"],["type","submit",3,"width","height","disabled"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h1",1),u._uU(2,"Create a new ticket"),u.qZA(),u.TgZ(3,"button",2),u.NdJ("click",function(){return r.dialogRef.close()}),u.TgZ(4,"mat-icon"),u._uU(5,"close"),u.qZA()(),u.TgZ(6,"mat-dialog-content")(7,"form",3),u.NdJ("ngSubmit",function(){return r.onSubmit()}),u.TgZ(8,"mat-form-field",4)(9,"mat-label"),u._uU(10,"Issue title"),u.qZA(),u._UZ(11,"input",5),u.qZA(),u.TgZ(12,"mat-form-field",4)(13,"mat-label"),u._uU(14,"Add description..."),u.qZA(),u._UZ(15,"textarea",6),u.TgZ(16,"mat-hint",7),u._uU(17),u.qZA()(),u.TgZ(18,"div",8)(19,"label",9),u._UZ(20,"input",10)(21,"span",11),u.qZA(),u.TgZ(22,"span"),u._uU(23,"This item is a "),u.TgZ(24,"strong"),u._uU(25,"must have"),u.qZA()()(),u.TgZ(26,"mat-form-field",4)(27,"mat-label"),u._uU(28,"Paste a link"),u.qZA(),u._UZ(29,"input",12),u.TgZ(30,"mat-icon",13),u._uU(31,"link"),u.qZA()(),u.TgZ(32,"div",14)(33,"app-custom-button",15),u._uU(34," Save "),u.qZA()()()()()),2&t&&(u.xp6(7),u.Q6J("formGroup",r.ticketForm),u.xp6(10),u.hij("",r.ticketForm.controls.description.value.length,"/280"),u.xp6(16),u.Q6J("width",277)("height",44)("disabled",!r.ticketForm.valid))},dependencies:[Op,hh,Xy,bw,ww,yl,_h,zm,g0,vI,tx,bC,XV,T4,fI,x4,tB,Ak],styles:['[_nghost-%COMP%]{font-family:Inter;position:relative;display:flex;flex-direction:column}.dialog-container[_ngcontent-%COMP%]{position:relative}.close-button[_ngcontent-%COMP%]{position:absolute;top:-16px;right:-16px;z-index:10}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;border-radius:50%;transition:background-color .3s ease}mat-form-field[_ngcontent-%COMP%]{width:100%}.toggle-priority[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:16px;margin-bottom:16px;gap:8px}.toggle-priority[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:500;font-size:17.3264px;line-height:25px;color:#323232}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:36px;height:14px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:12px;width:12px;left:1px;bottom:1px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ff4581e6}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(22px)}.slider.round[_ngcontent-%COMP%]{border-radius:14px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.save-button[_ngcontent-%COMP%]{margin-top:16px;display:flex;justify-content:center}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{font-family:Inter;font-weight:500}.form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.select-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}h1[_ngcontent-%COMP%]{text-align:center}']}),n})();function a5(n,e){if(1&n&&(u.TgZ(0,"div",2),u._uU(1),u.ALo(2,"titlecase"),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.hij(" ",u.lcZ(2,1,t.ticket.priority)," ")}}let l5=(()=>{class n{constructor(){}ngOnInit(){}getPriorityClass(t){switch(t){case cd.Low:return"low-priority";case cd.Medium:return"medium-priority";case cd.High:return"high-priority";default:return""}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-ticket"]],inputs:{ticket:"ticket"},decls:4,vars:3,consts:[[1,"ticket",3,"ngClass"],["class","priority-indicator",4,"ngIf"],[1,"priority-indicator"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h4"),u._uU(2),u.qZA(),u.YNc(3,a5,3,3,"div",1),u.qZA()),2&t&&(u.Q6J("ngClass",r.getPriorityClass(r.ticket.priority)),u.xp6(2),u.Oqu(r.ticket.title),u.xp6(1),u.Q6J("ngIf",r.ticket.priority))},dependencies:[gn,qn,Hc],styles:[".ticket[_ngcontent-%COMP%]{position:relative;background-color:#f5f5f5;border-radius:3px;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;padding:15px;margin:10px;transition:.3s;display:flex;flex-direction:column;justify-content:space-between}.ticket[_ngcontent-%COMP%]:hover{box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.ticket[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:5px;font-family:Helvetica;font-style:normal;font-weight:400;font-size:14px;line-height:18px;color:#000;flex:none;order:1;flex-grow:1}.ticket[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#333;margin-bottom:10px}.priority-indicator[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background-color:#fff;padding:2px 6px;border-radius:3px;font-size:10px;font-weight:700;text-transform:uppercase}.low-priority[_ngcontent-%COMP%]   .priority-indicator[_ngcontent-%COMP%]{border:2px solid #ffc107;color:#ffc107}.medium-priority[_ngcontent-%COMP%]   .priority-indicator[_ngcontent-%COMP%]{border:2px solid #ff9800;color:#ff9800}.high-priority[_ngcontent-%COMP%]   .priority-indicator[_ngcontent-%COMP%]{border:2px solid #f44336;color:#f44336}"]}),n})();function c5(n,e){if(1&n&&(u.ynx(0),u._UZ(1,"app-ticket",5),u.BQk()),2&n){const t=e.$implicit;u.xp6(1),u.Q6J("ticket",t)("cdkDragData",t)}}const u5=function(n,e){return{tickets:n,monthId:e}};let d5=(()=>{class n{constructor(t,r,i){this.dialog=t,this.sprintService=r,this.ticketService=i,this.tickets=[],this.subscriptions=new Or.w0}ngOnInit(){this.sprint.boardId&&this.sprint.id&&this.monthId&&this.fetchTickets()}ngOnDestroy(){this.subscriptions.unsubscribe()}fetchTickets(){const t=this.ticketService.getTickets(this.sprint.boardId,this.monthId,this.sprint.id).subscribe(r=>{this.tickets=r.sort((i,o)=>(i.position??0)-(o.position??0))});this.subscriptions.add(t)}openTicketCreationDialog(){this.sprint.boardId&&this.sprint.id&&this.monthId&&this.dialog.open(o5,{width:"400px",data:{boardId:this.sprint.boardId,sprintId:this.sprint.id,monthId:this.monthId}})}drop(t){var r=this;return(0,ve.Z)(function*(){if(t.previousContainer===t.container)TB(t.container.data.tickets,t.previousIndex,t.currentIndex),r.monthId&&r.updateTicketOrder(t.container.data.tickets,r.sprint.id,r.monthId);else if(function RG(n,e,t,r){const i=w0(t,n.length-1),o=w0(r,e.length);n.length&&e.splice(o,0,n.splice(i,1)[0])}(t.previousContainer.data.tickets,t.container.data.tickets,t.previousIndex,t.currentIndex),r.monthId&&t.previousContainer.data.monthId&&t.container.data.monthId){yield r.ticketService.deleteTicket(t.item.data.id,r.boardId,t.previousContainer.data.monthId,t.previousContainer.id);const i={...t.item.data,position:t.currentIndex};yield r.ticketService.createTicket(r.boardId,t.container.data.monthId,t.container.id,i,t.currentIndex),r.updateTicketOrder(t.previousContainer.data.tickets,t.previousContainer.id,t.previousContainer.data.monthId),r.updateTicketOrder(t.container.data.tickets,r.sprint.id,r.monthId)}})()}updateTicketOrder(t,r,i){var o=this;return(0,ve.Z)(function*(){t.forEach(function(){var c=(0,ve.Z)(function*(h,_){const b={...h,position:_};yield o.ticketService.updateTicket(b.id,{...b,boardId:o.boardId,sprintId:r,monthId:i})});return function(h,_){return c.apply(this,arguments)}}())})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(fg),u.Y36(hI),u.Y36(jB))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-sprint"]],inputs:{boardId:"boardId",sprint:"sprint",monthId:"monthId"},decls:9,vars:7,consts:[["cdkDropList","",1,"sprint",3,"id","cdkDropListData","cdkDropListDropped"],[1,"tickets"],[4,"ngFor","ngForOf"],[1,"create-ticket-button-container"],["mat-icon-button","",1,"create-ticket-button",3,"click"],["cdkDrag","",3,"ticket","cdkDragData"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.NdJ("cdkDropListDropped",function(o){return r.drop(o)}),u.TgZ(1,"h3"),u._uU(2),u.qZA(),u.TgZ(3,"div",1),u.YNc(4,c5,2,2,"ng-container",2),u.qZA(),u.TgZ(5,"div",3)(6,"button",4),u.NdJ("click",function(){return r.openTicketCreationDialog()}),u.TgZ(7,"mat-icon"),u._uU(8,"add"),u.qZA()()()()),2&t&&(u.Q6J("id",r.sprint.id||"defaultId")("cdkDropListData",u.WLB(4,u5,r.tickets,r.monthId)),u.xp6(2),u.Oqu(r.sprint.name),u.xp6(2),u.Q6J("ngForOf",r.tickets))},dependencies:[un,g0,vI,VG,jG,l5],styles:["app-ticket[_ngcontent-%COMP%]{width:100%}.sprint[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border:1px solid #ccc;width:210px;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:10px 12px;background:#ffffff;border-radius:8px;box-shadow:0 2px 6px #00000024,0 1px 2px #00000014,0 0 1px #0000000f,0 0 #0000000a;flex:none;order:1;flex-grow:0}.sprint[_ngcontent-%COMP%]   .tickets[_ngcontent-%COMP%]{width:100%;margin-top:6px;border:1px solid #ccc;min-height:150px;display:flex;flex-direction:column;justify-content:flex-start;padding:12px 0;border-radius:4px;background:#FFFFFF;box-shadow:0 4px 17px #0000001a}.create-ticket-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;bottom:10px}.create-ticket-button[_ngcontent-%COMP%]{width:13px;height:13px;background:#ff4581;border:1px solid #fffdfd;border-radius:50%;display:flex;justify-content:center;align-items:center;padding:10px}.create-ticket-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:13px;color:#fffdfd}h3[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:16px;line-height:16px;text-align:center;letter-spacing:.02em;color:#005aa0;flex:none;order:0;flex-grow:0;margin:0}app-ticket[_ngcontent-%COMP%]{transition:transform .12s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .12s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{position:relative;z-index:100;box-sizing:border-box}.cdk-drag-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{pointer-events:none}.cdk-drag-handle[_ngcontent-%COMP%]{-webkit-user-drag:none;touch-action:none}"]}),n})();function h5(n,e){if(1&n&&u._UZ(0,"app-sprint",3),2&n){const t=e.$implicit,r=u.oxw();u.Q6J("sprint",t)("boardId",r.boardId)("monthId",r.month.id)}}let f5=(()=>{class n{constructor(t){this.sprintService=t,this.sprints=[],this.subscriptions=new Or.w0}ngOnInit(){this.fetchSprints()}ngOnDestroy(){this.subscriptions.unsubscribe()}fetchSprints(){const t=this.sprintService.getSprints(this.boardId,this.month.id).subscribe(r=>{this.sprints=r.filter(i=>null!=i&&null!=i.name).sort((i,o)=>i.name.localeCompare(o.name))});this.subscriptions.add(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(hI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-month"]],inputs:{month:"month",boardId:"boardId"},decls:5,vars:2,consts:[[1,"month"],[1,"sprints"],[3,"sprint","boardId","monthId",4,"ngFor","ngForOf"],[3,"sprint","boardId","monthId"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h2"),u._uU(2),u.qZA(),u.TgZ(3,"div",1),u.YNc(4,h5,1,3,"app-sprint",2),u.qZA()()),2&t&&(u.xp6(2),u.Oqu(r.month.name),u.xp6(2),u.Q6J("ngForOf",r.sprints))},dependencies:[un,d5],styles:['@import"https://fonts.googleapis.com/css2?family=Assistant:wght@200;400;600;700&family=Inter:wght@200;400;500;700&family=Quicksand:wght@300;400;600;700&display=swap";h2[_ngcontent-%COMP%]{font-family:Assistant;border:1px solid #4388dd;border-radius:6px;text-align:center;box-shadow:0 4px 180px #00000040}.month[_ngcontent-%COMP%]{margin-right:1rem;width:100%}.sprints[_ngcontent-%COMP%]{display:flex;justify-content:space-between}']}),n})();function p5(n,e){if(1&n&&(u.ynx(0),u._UZ(1,"app-month",5),u.BQk()),2&n){const t=e.$implicit,r=u.oxw();u.xp6(1),u.Q6J("month",t)("boardId",r.boardId)}}let Uk=(()=>{class n{constructor(){this.months=[],this.boardId="",this.currentIndex=0}ngOnInit(){}ngOnDestroy(){pI(this.boardId,this.currentIndex)}ngOnChanges(t){if(t.months){const r=function eG(n){const e=localStorage.getItem(`lastViewedMonthIndex_${n}`);return null!==e?parseInt(e,10):null}(this.boardId);this.currentIndex=null!==r&&r<=this.months.length-3?r:Math.max(0,this.months.length-3)}}visibleMonths(){return this.months.slice(this.currentIndex,this.currentIndex+3)}hasPrevious(){return this.currentIndex>0}hasNext(){return this.currentIndex<this.months.length-3}previous(){this.hasPrevious()&&(this.currentIndex--,pI(this.boardId,this.currentIndex))}next(){this.hasNext()&&(this.currentIndex++,pI(this.boardId,this.currentIndex))}showLastCreatedMonth(){this.currentIndex=Math.max(0,this.months.length-3),pI(this.boardId,this.currentIndex)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-carousel"]],inputs:{months:"months",boardId:"boardId"},features:[u.TTD],decls:9,vars:5,consts:[[1,"carousel"],["mat-icon-button","",1,"nav-button","nav-button-left",3,"click"],["cdkDropListGroup","",1,"carousel-content"],[4,"ngFor","ngForOf"],["mat-icon-button","",1,"nav-button","nav-button-right",3,"click"],[3,"month","boardId"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"button",1),u.NdJ("click",function(){return r.previous()}),u.TgZ(2,"mat-icon"),u._uU(3,"navigate_before"),u.qZA()(),u.TgZ(4,"div",2),u.YNc(5,p5,2,2,"ng-container",3),u.qZA(),u.TgZ(6,"button",4),u.NdJ("click",function(){return r.next()}),u.TgZ(7,"mat-icon"),u._uU(8,"navigate_next"),u.qZA()()()),2&t&&(u.xp6(1),u.ekj("hidden",!r.hasPrevious()),u.xp6(4),u.Q6J("ngForOf",r.visibleMonths()),u.xp6(1),u.ekj("hidden",!r.hasNext()))},dependencies:[un,g0,vI,FG,f5],styles:[".carousel[_ngcontent-%COMP%]{display:flex}.carousel[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{border:none;background-color:transparent;cursor:pointer;color:#0000008a}.carousel[_ngcontent-%COMP%]   .nav-button.hidden[_ngcontent-%COMP%]{visibility:hidden}.carousel[_ngcontent-%COMP%]   .nav-button-left[_ngcontent-%COMP%]{margin-right:1rem;margin-top:-2px}.carousel[_ngcontent-%COMP%]   .nav-button-right[_ngcontent-%COMP%]{margin-left:1rem;margin-top:-5px}.carousel[_ngcontent-%COMP%]   .carousel-content[_ngcontent-%COMP%]{display:flex;gap:1rem}"]}),n})();const Hk=["January","February","March","April","May","June","July","August","September","October","November","December"];function g5(n,e){}function m5(n,e){1&n&&(u.ynx(0),u.YNc(1,g5,0,0,"ng-template",11),u.BQk())}function _5(n,e){1&n&&u._UZ(0,"app-circle-loader",12)}let zB=(()=>{class n{constructor(t,r,i){this.boardService=t,this.route=r,this.monthService=i,this.carousel=new Uk,this.boardName="",this.months=[],this.boardId="",this.loading=!1,this.subscriptions=new Or.w0}ngOnInit(){const t=this.route.snapshot.paramMap.get("boardId");t&&(this.boardId=t,this.fetchBoard())}ngOnDestroy(){this.subscriptions.unsubscribe()}fetchBoard(){if(this.loading=!0,this.boardId){const t=this.boardService.getBoard(this.boardId).subscribe(i=>{this.boardName=i.name||""}),r=this.monthService.getMonths(this.boardId).subscribe(i=>{this.months=i.sort((o,c)=>Hk.indexOf(o.name)-Hk.indexOf(c.name)),this.loading=!1});this.subscriptions.add(t),this.subscriptions.add(r)}}toggleEditorView(){}addMonth(){const t=this.months.length;t<12&&this.monthService.createMonth(this.boardId,{boardId:this.boardId,name:Hk[t]}).then(()=>{this.fetchBoard(),this.carousel.showLastCreatedMonth()})}isAddMonthDisabled(){return this.months.length>=12}}return n.\u0275fac=function(t){return new(t||n)(u.Y36($V),u.Y36(Kr),u.Y36(zV))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-board"]],viewQuery:function(t,r){if(1&t&&u.Gf(Uk,5),2&t){let i;u.iGM(i=u.CRH())&&(r.carousel=i.first)}},decls:15,vars:7,consts:[[1,"board"],[1,"container"],[1,"content-header"],[1,"title"],[1,"title-line"],["mat-icon-button","",1,"editor-view-button",3,"click"],[1,"content-body"],[3,"months","boardId"],[4,"ngFor","ngForOf"],["mat-icon-button","",1,"add-button",3,"disabled","click"],["class","loading",4,"ngIf"],["carouselItem",""],[1,"loading"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),u._uU(4," User facing Roadmap of Release "),u._UZ(5,"div",4),u.qZA(),u.TgZ(6,"button",5),u.NdJ("click",function(){return r.toggleEditorView()}),u._uU(7," Editor view "),u.qZA()(),u.TgZ(8,"div",6)(9,"app-carousel",7),u.YNc(10,m5,2,0,"ng-container",8),u.qZA(),u.TgZ(11,"button",9),u.NdJ("click",function(){return r.addMonth()}),u.TgZ(12,"mat-icon"),u._uU(13,"add"),u.qZA()(),u.YNc(14,_5,1,0,"app-circle-loader",10),u.qZA()()()),2&t&&(u.xp6(9),u.Q6J("months",r.months)("boardId",r.boardId),u.xp6(1),u.Q6J("ngForOf",r.months),u.xp6(1),u.Udp("display",r.isAddMonthDisabled()||r.loading?"none":"block"),u.Q6J("disabled",r.isAddMonthDisabled()||r.loading),u.xp6(3),u.Q6J("ngIf",r.loading))},dependencies:[un,qn,rB,g0,vI,Uk],styles:[".board[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.container[_ngcontent-%COMP%]{padding:4.25rem 6.25rem 0}.content-header[_ngcontent-%COMP%]{display:flex;text-align:center;margin-top:68px;color:#373f41}.content-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:600;font-size:40px;line-height:44px;color:#373f41}.content-body[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:50px}.add-button[_ngcontent-%COMP%]{position:relative;top:-5px;right:62px}.add-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4388dd}.title-line[_ngcontent-%COMP%]{width:539.02px;height:5px;margin-top:10px;background:linear-gradient(270deg,#ff4581 -.22%,#4388dd 99.78%)}.editor-view-button[_ngcontent-%COMP%]{width:91px;height:35px;background:#ecf3fc;border:1px solid #ff4581;box-shadow:0 4px 180px #00000040;border-radius:6px;font-family:Inter,sans-serif;font-style:normal;font-weight:600;font-size:14px;line-height:44px;display:flex;align-items:center;justify-content:center;color:#ff4581;text-transform:none;margin-left:20px}"]}),n})();const y5=[{path:"",component:J4},{path:"board/:boardId",component:zB},{path:"board/:boardId/editor",component:zB}];let v5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mp.forRoot(y5),mp]}),n})(),b5=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"hexagon-container"],[1,"hexagon"],[1,"hexagon-2"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"div",1)(2,"div",2),u.qZA())},styles:[".hexagon-container[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:50%;overflow:hidden;z-index:-99}.hexagon[_ngcontent-%COMP%]{position:absolute;width:232.72px;height:201.58px;left:-16.12px;bottom:0;transform:matrix(0,1,1,0,0,0);clip-path:polygon(25% 0%,75% 0%,100% 50%,75% 100%,25% 100%,0% 50%);background:linear-gradient(49.11deg,rgba(67,136,221,.09) 12.62%,rgba(67,136,221,.084) 16.08%,rgba(67,136,221,.063) 29.29%,rgba(67,136,221,.045) 42.43%,rgba(67,136,221,.021) 55.37%,rgba(67,136,221,0) 67.87%)}.hexagon-2[_ngcontent-%COMP%]{position:absolute;width:232.72px;height:201.57px;left:-48px;bottom:0;transform:matrix(0,1,1,0,0,0);clip-path:polygon(25% 0%,75% 0%,100% 50%,75% 100%,25% 100%,0% 50%);background:linear-gradient(49.11deg,rgba(67,136,221,.09) 12.62%,rgba(67,136,221,.075) 16.07%,rgba(67,136,221,.045) 29.29%,rgba(67,136,221,.0405) 42.43%,rgba(67,136,221,.021) 55.37%,rgba(67,136,221,0) 67.87%)}"]}),n})(),w5=(()=>{class n{constructor(){this.title="Azera "}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"page"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"router-outlet"),u.qZA(),u._UZ(2,"app-footer"))},dependencies:[p,b5]}),n})();const $B_firebaseConfig={apiKey:"AIzaSyCoFK8wf2T_Cjmq1HGd78wMkq1r1e6LumY",authDomain:"rorr-1124e.firebaseapp.com",projectId:"rorr-1124e",storageBucket:"rorr-1124e.appspot.com",messagingSenderId:"1023753832713",appId:"1:1023753832713:web:b5f7e7d0960d2477126bd8",measurementId:"G-0Q1J784GZB"};function GB(n){return new u.vHH(3e3,!1)}function n8(){return typeof window<"u"&&typeof window.document<"u"}function jk(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function af(n){switch(n.length){case 0:return new hg;case 1:return n[0];default:return new gC(n)}}function qB(n,e,t,r,i=new Map,o=new Map){const c=[],h=[];let _=-1,b=null;if(r.forEach(D=>{const M=D.get("offset"),F=M==_,H=F&&b||new Map;D.forEach((Q,ae)=>{let ye=ae,We=Q;if("offset"!==ae)switch(ye=e.normalizePropertyName(ye,c),We){case"!":We=i.get(ae);break;case Ma:We=o.get(ae);break;default:We=e.normalizeStyleValue(ae,ye,We,c)}H.set(ye,We)}),F||h.push(H),b=H,_=M}),c.length)throw function $5(n){return new u.vHH(3502,!1)}();return h}function zk(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&$k(t,"start",n)));break;case"done":n.onDone(()=>r(t&&$k(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&$k(t,"destroy",n)))}}function $k(n,e,t){const o=Gk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(o._data=c),o}function Gk(n,e,t,r,i="",o=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!c}}function qo(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function WB(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let qk=(n,e)=>!1,KB=(n,e,t)=>[],ZB=null;function Wk(n){const e=n.parentNode||n.host;return e===ZB?null:e}(jk()||typeof Element<"u")&&(n8()?(ZB=(()=>document.documentElement)(),qk=(n,e)=>{for(;e;){if(e===n)return!0;e=Wk(e)}return!1}):qk=(n,e)=>n.contains(e),KB=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Gg=null,YB=!1;const QB=qk,XB=KB;let JB=(()=>{class n{validateStyleProperty(t){return function i8(n){Gg||(Gg=function s8(){return typeof document<"u"?document.body:null}()||{},YB=!!Gg.style&&"WebkitAppearance"in Gg.style);let e=!0;return Gg.style&&!function r8(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Gg.style,!e&&YB&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Gg.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return QB(t,r)}getParentElement(t){return Wk(t)}query(t,r,i){return XB(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,c,h=[],_){return new hg(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Kk=(()=>{class n{}return n.NOOP=new JB,n})();const Zk="ng-enter",SI="ng-leave",TI="ng-trigger",AI=".ng-trigger",tU="ng-animating",Yk=".ng-animating";function ud(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Qk(parseFloat(e[1]),e[2])}function Qk(n,e){return"s"===e?1e3*n:n}function xI(n,e,t){return n.hasOwnProperty("duration")?n:function l8(n,e,t){let i,o=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(GB()),{duration:0,delay:0,easing:""};i=Qk(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(o=Qk(parseFloat(_),h[4]));const b=h[5];b&&(c=b)}else i=n;if(!t){let h=!1,_=e.length;i<0&&(e.push(function E5(){return new u.vHH(3100,!1)}()),h=!0),o<0&&(e.push(function C5(){return new u.vHH(3101,!1)}()),h=!0),h&&e.splice(_,0,GB())}return{duration:i,delay:o,easing:c}}(n,e,t)}function C0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function nU(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function lf(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function iU(n,e,t){return t?e+":"+t+";":""}function sU(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=iU(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=iU(0,h8(t),n.style[t]));n.setAttribute("style",e)}function Fc(n,e,t){n.style&&(e.forEach((r,i)=>{const o=Jk(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),jk()&&sU(n))}function qg(n,e){n.style&&(e.forEach((t,r)=>{const i=Jk(r);n.style[i]=""}),jk()&&sU(n))}function D0(n){return Array.isArray(n)?1==n.length?n[0]:pC(n):n}const Xk=new RegExp("{{\\s*(.+?)\\s*}}","g");function oU(n){let e=[];if("string"==typeof n){let t;for(;t=Xk.exec(n);)e.push(t[1]);Xk.lastIndex=0}return e}function I0(n,e,t){const r=n.toString(),i=r.replace(Xk,(o,c)=>{let h=e[c];return null==h&&(t.push(function I5(n){return new u.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function MI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const d8=/-+([a-z0-9])/g;function Jk(n){return n.replace(d8,(...e)=>e[1].toUpperCase())}function h8(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function S5(n){return new u.vHH(3004,!1)}()}}function aU(n,e){return window.getComputedStyle(n)[e]}function y8(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function v8(n,e,t){if(":"==n[0]){const _=function b8(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function U5(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function B5(n){return new u.vHH(3015,!1)}()),e;const i=r[1],o=r[2],c=r[3];e.push(lU(i,c));"<"==o[0]&&!("*"==i&&"*"==c)&&e.push(lU(c,i))}(r,t,e)):t.push(n),t}const OI=new Set(["true","1"]),NI=new Set(["false","0"]);function lU(n,e){const t=OI.has(n)||NI.has(n),r=OI.has(e)||NI.has(e);return(i,o)=>{let c="*"==n||n==i,h="*"==e||e==o;return!c&&t&&"boolean"==typeof i&&(c=i?OI.has(n):NI.has(n)),!h&&r&&"boolean"==typeof o&&(h=o?OI.has(e):NI.has(e)),c&&h}}const w8=new RegExp("s*:selfs*,?","g");function eP(n,e,t,r){return new E8(n).build(e,t,r)}class E8{constructor(e){this._driver=e}build(e,t,r){const i=new I8(t);return this._resetContextStyleTimingState(i),Wo(this,D0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function A5(){return new u.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const _=h,b=_.name;b.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,o.push(this.visitState(_,t))}),_.name=b}else if(1==h.type){const _=this.visitTransition(h,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function x5(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,c=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(_=>{oU(_).forEach(b=>{c.hasOwnProperty(b)||o.add(b)})})}),o.size&&(MI(o.values()),t.errors.push(function M5(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Wo(this,D0(e.animation),t);return{type:1,matchers:y8(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Wg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Wo(this,r,t)),options:Wg(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(c=>{t.currentTime=r;const h=Wo(this,c,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:o,options:Wg(e.options)}}visitAnimate(e,t){const r=function T8(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return tP(xI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=tP(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=xI(t,e);return tP(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:_o({});if(5==o.type)i=this.visitKeyframes(o,t);else{let c=e.styles,h=!1;if(!c){h=!0;const b={};r.easing&&(b.easing=r.easing),c=_o(b)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=h,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===Ma?r.push(h):t.errors.push(new u.vHH(3002,!1)):r.push(nU(h));let o=!1,c=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!o))for(let _ of h.values())if(_.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),D=b.get(_);let M=!0;D&&(o!=i&&o>=D.startTime&&i<=D.endTime&&(t.errors.push(function k5(n,e,t,r,i){return new u.vHH(3010,!1)}()),M=!1),o=D.startTime),M&&b.set(_,{startTime:o,endTime:i}),t.options&&function u8(n,e,t){const r=e.params||{},i=oU(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function D5(n){return new u.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function P5(){return new u.vHH(3011,!1)}()),r;let o=0;const c=[];let h=!1,_=!1,b=0;const D=e.steps.map(We=>{const st=this._makeStyleAst(We,t);let tt=null!=st.offset?st.offset:function S8(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(st.styles),Et=0;return null!=tt&&(o++,Et=st.offset=tt),_=_||Et<0||Et>1,h=h||Et<b,b=Et,c.push(Et),st});_&&t.errors.push(function O5(){return new u.vHH(3012,!1)}()),h&&t.errors.push(function N5(){return new u.vHH(3200,!1)}());const M=e.steps.length;let F=0;o>0&&o<M?t.errors.push(function F5(){return new u.vHH(3202,!1)}()):0==o&&(F=1/(M-1));const H=M-1,Q=t.currentTime,ae=t.currentAnimateTimings,ye=ae.duration;return D.forEach((We,st)=>{const tt=F>0?st==H?1:F*st:c[st],Et=tt*ye;t.currentTime=Q+ae.delay+Et,ae.duration=Et,this._validateStyleAst(We,t),We.offset=tt,r.styles.push(We)}),r}visitReference(e,t){return{type:8,animation:Wo(this,D0(e.animation),t),options:Wg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Wg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Wg(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,c]=function C8(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(w8,"")),n=n.replace(/@\*/g,AI).replace(/@\w+/g,t=>AI+"-"+t.slice(1)).replace(/:animating/g,Yk),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,qo(t.collectedStyles,t.currentQuerySelector,new Map);const h=Wo(this,D0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:Wg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function L5(){return new u.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:xI(e.timings,t.errors,!0);return{type:12,animation:Wo(this,D0(e.animation),t),timings:r,options:null}}}class I8{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wg(n){return n?(n=C0(n)).params&&(n.params=function D8(n){return n?C0(n):null}(n.params)):n={},n}function tP(n,e,t){return{duration:n,delay:e,easing:t}}function nP(n,e,t,r,i,o,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:c,subTimeline:h}}class FI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const M8=new RegExp(":enter","g"),k8=new RegExp(":leave","g");function rP(n,e,t,r,i,o=new Map,c=new Map,h,_,b=[]){return(new P8).buildKeyframes(n,e,t,r,i,o,c,h,_,b)}class P8{buildKeyframes(e,t,r,i,o,c,h,_,b,D=[]){b=b||new FI;const M=new iP(e,t,b,i,o,D,[]);M.options=_;const F=_.delay?ud(_.delay):0;M.currentTimeline.delayNextStep(F),M.currentTimeline.setStyles([c],null,M.errors,_),Wo(this,r,M);const H=M.timelines.filter(Q=>Q.containsAnimation());if(H.length&&h.size){let Q;for(let ae=H.length-1;ae>=0;ae--){const ye=H[ae];if(ye.element===t){Q=ye;break}}Q&&!Q.allowOnlyTimelineStyles()&&Q.setStyles([h],null,M.errors,_)}return H.length?H.map(Q=>Q.buildKeyframes()):[nP(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);o!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const c="number"==typeof o?o:ud(I0(o,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const c=null!=r.duration?ud(r.duration):null,h=null!=r.delay?ud(r.delay):null;return 0!==c&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,c,h);o=Math.max(o,b.duration+b.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Wo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=LI);const c=ud(o.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Wo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?ud(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);o&&h.delayNextStep(o),Wo(this,c,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return xI(t.params?I0(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(_=>{h.forwardTime((_.offset||0)*o),h.setStyles(_.styles,_.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?ud(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=LI);let c=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let _=null;h.forEach((b,D)=>{t.currentQueryIndex=D;const M=t.createSubContext(e.options,b);o&&M.delayNextStep(o),b===t.element&&(_=M.currentTimeline),Wo(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,c=Math.abs(o.duration),h=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":_=h-_;break;case"full":_=r.currentStaggerTime}const D=t.currentTimeline;_&&D.delayNextStep(_);const M=D.currentTime;Wo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const LI={};class iP{constructor(e,t,r,i,o,c,h,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=LI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new VI(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ud(r.duration)),null!=r.delay&&(i.delay=ud(r.delay));const o=r.params;if(o){let c=i.params;c||(c=this.options.params={}),Object.keys(o).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=I0(o[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new iP(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=LI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new O8(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,c){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(M8,"."+this._enterClassName)).replace(k8,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),h.push(...b)}return!o&&0==h.length&&c.push(function V5(n){return new u.vHH(3014,!1)}()),h}}class VI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new VI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ma),this._currentKeyframe.set(t,Ma);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},c=function N8(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,Ma)}else lf(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,_]of c){const b=I0(_,o,r);this._pendingStyles.set(h,b),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Ma),this._updateStyle(h,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,_)=>{const b=lf(h,new Map,this._backFill);b.forEach((D,M)=>{"!"===D?e.add(M):D===Ma&&t.add(M)}),r||b.set("offset",_/this.duration),i.push(b)});const o=e.size?MI(e.values()):[],c=t.size?MI(t.values()):[];if(r){const h=i[0],_=new Map(h);h.set("offset",0),_.set("offset",1),i=[h,_]}return nP(this.element,i,o,c,this.duration,this.startTime,this.easing,!1)}}class O8 extends VI{constructor(e,t,r,i,o,c,h=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],c=r+t,h=t/c,_=lf(e[0]);_.set("offset",0),o.push(_);const b=lf(e[0]);b.set("offset",dU(h)),o.push(b);const D=e.length-1;for(let M=1;M<=D;M++){let F=lf(e[M]);const H=F.get("offset");F.set("offset",dU((t+H*r)/c)),o.push(F)}r=c,t=0,i="",e=o}return nP(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function dU(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class sP{}const F8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class L8 extends sP{normalizePropertyName(e,t){return Jk(e)}normalizeStyleValue(e,t,r,i){let o="";const c=r.toString().trim();if(F8.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function T5(n,e){return new u.vHH(3005,!1)}())}return c+o}}function hU(n,e,t,r,i,o,c,h,_,b,D,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:c,timelines:h,queriedElements:_,preStyleProps:b,postStyleProps:D,totalTime:M,errors:F}}const oP={};class fU{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function V8(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,c,h,_,b,D){const M=[],F=this.ast.options&&this.ast.options.params||oP,Q=this.buildStyles(r,h&&h.params||oP,M),ae=_&&_.params||oP,ye=this.buildStyles(i,ae,M),We=new Set,st=new Map,tt=new Map,Et="void"===i,qt={params:B8(ae,F),delay:this.ast.options?.delay},Qt=D?[]:rP(e,t,this.ast.animation,o,c,Q,ye,qt,b,M);let An=0;if(Qt.forEach(dd=>{An=Math.max(dd.duration+dd.delay,An)}),M.length)return hU(t,this._triggerName,r,i,Et,Q,ye,[],[],st,tt,An,M);Qt.forEach(dd=>{const hd=dd.element,xU=qo(st,hd,new Set);dd.preStyleProps.forEach(Kg=>xU.add(Kg));const T0=qo(tt,hd,new Set);dd.postStyleProps.forEach(Kg=>T0.add(Kg)),hd!==t&&We.add(hd)});const zi=MI(We.values());return hU(t,this._triggerName,r,i,Et,Q,ye,Qt,zi,st,tt,An)}}function B8(n,e){const t=C0(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class U8{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=C0(this.defaultParams);return Object.keys(e).forEach(o=>{const c=e[o];null!==c&&(i[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,h)=>{c&&(c=I0(c,i,t));const _=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,_,c,t),r.set(_,c)})}),r}}class j8{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new U8(i.style,i.options&&i.options.params||{},r))}),pU(this.states,"true","1"),pU(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new fU(e,i,this.states))}),this.fallbackTransition=function z8(n,e,t){return new fU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function pU(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const $8=new FI;class G8{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=eP(this._driver,t,r,[]);if(r.length)throw function G5(n){return new u.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=qB(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let c;const h=new Map;if(o?(c=rP(this._driver,t,o,Zk,SI,new Map,new Map,r,$8,i),c.forEach(D=>{const M=qo(h,D.element,new Map);D.postStyleProps.forEach(F=>M.set(F,null))})):(i.push(function q5(){return new u.vHH(3300,!1)}()),c=[]),i.length)throw function W5(n){return new u.vHH(3504,!1)}();h.forEach((D,M)=>{D.forEach((F,H)=>{D.set(H,this._driver.computeStyle(M,H,Ma))})});const b=af(c.map(D=>{const M=h.get(D.element);return this._buildPlayer(D,new Map,M)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function K5(n){return new u.vHH(3301,!1)}();return t}listen(e,t,r,i){const o=Gk(t,"","","");return zk(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const gU="ng-animate-queued",aP="ng-animate-disabled",Y8=[],mU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Q8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fa="__ng_removed";class lP{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function tq(n){return n??null}(r?e.value:e),r){const o=C0(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const S0="void",cP=new lP(S0);class X8{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,La(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Z5(n,e){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function Y5(n){return new u.vHH(3303,!1)}();if(!function nq(n){return"start"==n||"done"==n}(r))throw function Q5(n,e){return new u.vHH(3400,!1)}();const o=qo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};o.push(c);const h=qo(this._engine.statesByElement,e,new Map);return h.has(t)||(La(e,TI),La(e,TI+"-"+t),h.set(t,cP)),()=>{this._engine.afterFlush(()=>{const _=o.indexOf(c);_>=0&&o.splice(_,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function X5(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),c=new uP(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(La(e,TI),La(e,TI+"-"+t),this._engine.statesByElement.set(e,h=new Map));let _=h.get(t);const b=new lP(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),h.set(t,b),_||(_=cP),b.value!==S0&&_.value===b.value){if(!function sq(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(_.params,b.params)){const ae=[],ye=o.matchStyles(_.value,_.params,ae),We=o.matchStyles(b.value,b.params,ae);ae.length?this._engine.reportError(ae):this._engine.afterFlush(()=>{qg(e,ye),Fc(e,We)})}return}const F=qo(this._engine.playersByElement,e,[]);F.forEach(ae=>{ae.namespaceId==this.id&&ae.triggerName==t&&ae.queued&&ae.destroy()});let H=o.matchTransition(_.value,b.value,e,b.params),Q=!1;if(!H){if(!i)return;H=o.fallbackTransition,Q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:_,toState:b,player:c,isFallbackTransition:Q}),Q||(La(e,gU),c.onStart(()=>{Cy(e,gU)})),c.onDone(()=>{let ae=this.players.indexOf(c);ae>=0&&this.players.splice(ae,1);const ye=this._engine.playersByElement.get(e);if(ye){let We=ye.indexOf(c);We>=0&&ye.splice(We,1)}}),this.players.push(c),F.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,AI,!0);r.forEach(i=>{if(i[Fa])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),c=new Map;if(o){const h=[];if(o.forEach((_,b)=>{if(c.set(b,_.value),this._triggers.has(b)){const D=this.trigger(e,b,S0,i);D&&h.push(D)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&af(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const c=o.name;if(i.has(c))return;i.add(c);const _=this._triggers.get(c).fallbackTransition,b=r.get(c)||cP,D=new lP(S0),M=new uP(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:b,toState:D,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Fa];(!o||o===mU)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){La(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,c=this._elementListeners.get(o);c&&c.forEach(h=>{if(h.name==r.triggerName){const _=Gk(o,r.triggerName,r.fromState.value,r.toState.value);_._data=e,zk(r.player,h.phase,_,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class J8{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new X8(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const _=i.get(h);if(_){const b=r.indexOf(_);r.splice(b+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(BI(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!BI(t))return;const o=t[Fa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),La(e,aP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Cy(e,aP))}removeNode(e,t,r,i){if(BI(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Fa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return BI(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,AI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Yk,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return af(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Fa];if(t&&t.setForRemoval){if(e[Fa]=mU,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(aP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)La(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?af(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function J5(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new FI,i=[],o=new Map,c=[],h=new Map,_=new Map,b=new Map,D=new Set;this.disabledNodes.forEach(It=>{D.add(It);const Bt=this.driver.query(It,".ng-animate-queued",!0);for(let $t=0;$t<Bt.length;$t++)D.add(Bt[$t])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),H=vU(F,this.collectedEnterElements),Q=new Map;let ae=0;H.forEach((It,Bt)=>{const $t=Zk+ae++;Q.set(Bt,$t),It.forEach(Sn=>La(Sn,$t))});const ye=[],We=new Set,st=new Set;for(let It=0;It<this.collectedLeaveElements.length;It++){const Bt=this.collectedLeaveElements[It],$t=Bt[Fa];$t&&$t.setForRemoval&&(ye.push(Bt),We.add(Bt),$t.hasAnimation?this.driver.query(Bt,".ng-star-inserted",!0).forEach(Sn=>We.add(Sn)):st.add(Bt))}const tt=new Map,Et=vU(F,Array.from(We));Et.forEach((It,Bt)=>{const $t=SI+ae++;tt.set(Bt,$t),It.forEach(Sn=>La(Sn,$t))}),e.push(()=>{H.forEach((It,Bt)=>{const $t=Q.get(Bt);It.forEach(Sn=>Cy(Sn,$t))}),Et.forEach((It,Bt)=>{const $t=tt.get(Bt);It.forEach(Sn=>Cy(Sn,$t))}),ye.forEach(It=>{this.processLeaveNode(It)})});const qt=[],Qt=[];for(let It=this._namespaceList.length-1;It>=0;It--)this._namespaceList[It].drainQueuedTransitions(t).forEach($t=>{const Sn=$t.player,$i=$t.element;if(qt.push(Sn),this.collectedEnterElements.length){const ks=$i[Fa];if(ks&&ks.setForMove){if(ks.previousTriggersValues&&ks.previousTriggersValues.has($t.triggerName)){const Zg=ks.previousTriggersValues.get($t.triggerName),Va=this.statesByElement.get($t.element);if(Va&&Va.has($t.triggerName)){const jI=Va.get($t.triggerName);jI.value=Zg,Va.set($t.triggerName,jI)}}return void Sn.destroy()}}const Lc=!M||!this.driver.containsElement(M,$i),Ko=tt.get($i),cf=Q.get($i),Ir=this._buildInstruction($t,r,cf,Ko,Lc);if(Ir.errors&&Ir.errors.length)return void Qt.push(Ir);if(Lc)return Sn.onStart(()=>qg($i,Ir.fromStyles)),Sn.onDestroy(()=>Fc($i,Ir.toStyles)),void i.push(Sn);if($t.isFallbackTransition)return Sn.onStart(()=>qg($i,Ir.fromStyles)),Sn.onDestroy(()=>Fc($i,Ir.toStyles)),void i.push(Sn);const kU=[];Ir.timelines.forEach(ks=>{ks.stretchStartingKeyframe=!0,this.disabledNodes.has(ks.element)||kU.push(ks)}),Ir.timelines=kU,r.append($i,Ir.timelines),c.push({instruction:Ir,player:Sn,element:$i}),Ir.queriedElements.forEach(ks=>qo(h,ks,[]).push(Sn)),Ir.preStyleProps.forEach((ks,Zg)=>{if(ks.size){let Va=_.get(Zg);Va||_.set(Zg,Va=new Set),ks.forEach((jI,pP)=>Va.add(pP))}}),Ir.postStyleProps.forEach((ks,Zg)=>{let Va=b.get(Zg);Va||b.set(Zg,Va=new Set),ks.forEach((jI,pP)=>Va.add(pP))})});if(Qt.length){const It=[];Qt.forEach(Bt=>{It.push(function e8(n,e){return new u.vHH(3505,!1)}())}),qt.forEach(Bt=>Bt.destroy()),this.reportError(It)}const An=new Map,zi=new Map;c.forEach(It=>{const Bt=It.element;r.has(Bt)&&(zi.set(Bt,Bt),this._beforeAnimationBuild(It.player.namespaceId,It.instruction,An))}),i.forEach(It=>{const Bt=It.element;this._getPreviousPlayers(Bt,!1,It.namespaceId,It.triggerName,null).forEach(Sn=>{qo(An,Bt,[]).push(Sn),Sn.destroy()})});const dd=ye.filter(It=>wU(It,_,b)),hd=new Map;yU(hd,this.driver,st,b,Ma).forEach(It=>{wU(It,_,b)&&dd.push(It)});const T0=new Map;H.forEach((It,Bt)=>{yU(T0,this.driver,new Set(It),_,"!")}),dd.forEach(It=>{const Bt=hd.get(It),$t=T0.get(It);hd.set(It,new Map([...Array.from(Bt?.entries()??[]),...Array.from($t?.entries()??[])]))});const Kg=[],MU=[],RU={};c.forEach(It=>{const{element:Bt,player:$t,instruction:Sn}=It;if(r.has(Bt)){if(D.has(Bt))return $t.onDestroy(()=>Fc(Bt,Sn.toStyles)),$t.disabled=!0,$t.overrideTotalTime(Sn.totalTime),void i.push($t);let $i=RU;if(zi.size>1){let Ko=Bt;const cf=[];for(;Ko=Ko.parentNode;){const Ir=zi.get(Ko);if(Ir){$i=Ir;break}cf.push(Ko)}cf.forEach(Ir=>zi.set(Ir,$i))}const Lc=this._buildAnimation($t.namespaceId,Sn,An,o,T0,hd);if($t.setRealPlayer(Lc),$i===RU)Kg.push($t);else{const Ko=this.playersByElement.get($i);Ko&&Ko.length&&($t.parentPlayer=af(Ko)),i.push($t)}}else qg(Bt,Sn.fromStyles),$t.onDestroy(()=>Fc(Bt,Sn.toStyles)),MU.push($t),D.has(Bt)&&i.push($t)}),MU.forEach(It=>{const Bt=o.get(It.element);if(Bt&&Bt.length){const $t=af(Bt);It.setRealPlayer($t)}}),i.forEach(It=>{It.parentPlayer?It.syncPlayerEvents(It.parentPlayer):It.destroy()});for(let It=0;It<ye.length;It++){const Bt=ye[It],$t=Bt[Fa];if(Cy(Bt,SI),$t&&$t.hasAnimation)continue;let Sn=[];if(h.size){let Lc=h.get(Bt);Lc&&Lc.length&&Sn.push(...Lc);let Ko=this.driver.query(Bt,Yk,!0);for(let cf=0;cf<Ko.length;cf++){let Ir=h.get(Ko[cf]);Ir&&Ir.length&&Sn.push(...Ir)}}const $i=Sn.filter(Lc=>!Lc.destroyed);$i.length?rq(this,Bt,$i):this.processLeaveNode(Bt)}return ye.length=0,Kg.forEach(It=>{this.players.push(It),It.onDone(()=>{It.destroy();const Bt=this.players.indexOf(It);this.players.splice(Bt,1)}),It.play()}),Kg}elementContainsData(e,t){let r=!1;const i=t[Fa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const _=!o||o==S0;h.forEach(b=>{b.queued||!_&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),c}_beforeAnimationBuild(e,t,r){const o=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,D=b!==o,M=qo(r,b,[]);this._getPreviousPlayers(b,D,c,h,t.toState).forEach(H=>{const Q=H.getRealPlayer();Q.beforeDestroy&&Q.beforeDestroy(),H.destroy(),M.push(H)})}qg(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,c){const h=t.triggerName,_=t.element,b=[],D=new Set,M=new Set,F=t.timelines.map(Q=>{const ae=Q.element;D.add(ae);const ye=ae[Fa];if(ye&&ye.removedBeforeQueried)return new hg(Q.duration,Q.delay);const We=ae!==_,st=function iq(n){const e=[];return bU(n,e),e}((r.get(ae)||Y8).map(An=>An.getRealPlayer())).filter(An=>!!An.element&&An.element===ae),tt=o.get(ae),Et=c.get(ae),qt=qB(0,this._normalizer,0,Q.keyframes,tt,Et),Qt=this._buildPlayer(Q,qt,st);if(Q.subTimeline&&i&&M.add(ae),We){const An=new uP(e,h,ae);An.setRealPlayer(Qt),b.push(An)}return Qt});b.forEach(Q=>{qo(this.playersByQueriedElement,Q.element,[]).push(Q),Q.onDone(()=>function eq(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Q.element,Q))}),D.forEach(Q=>La(Q,tU));const H=af(F);return H.onDestroy(()=>{D.forEach(Q=>Cy(Q,tU)),Fc(_,t.toStyles)}),M.forEach(Q=>{qo(i,Q,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new hg(e.duration,e.delay)}}class uP{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new hg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>zk(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){qo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function BI(n){return n&&1===n.nodeType}function _U(n,e){const t=n.style.display;return n.style.display=e??"none",t}function yU(n,e,t,r,i){const o=[];t.forEach(_=>o.push(_U(_)));const c=[];r.forEach((_,b)=>{const D=new Map;_.forEach(M=>{const F=e.computeStyle(b,M,i);D.set(M,F),(!F||0==F.length)&&(b[Fa]=Q8,c.push(b))}),n.set(b,D)});let h=0;return t.forEach(_=>_U(_,o[h++])),c}function vU(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),o=new Map;function c(h){if(!h)return 1;let _=o.get(h);if(_)return _;const b=h.parentNode;return _=t.has(b)?b:i.has(b)?1:c(b),o.set(h,_),_}return e.forEach(h=>{const _=c(h);1!==_&&t.get(_).push(h)}),t}function La(n,e){n.classList?.add(e)}function Cy(n,e){n.classList?.remove(e)}function rq(n,e,t){af(t).onDone(()=>n.processLeaveNode(e))}function bU(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof gC?bU(r.players,e):e.push(r)}}function wU(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class UI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new J8(e,t,r),this._timelineEngine=new G8(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const c=e+"-"+i;let h=this._triggerCache[c];if(!h){const _=[],D=eP(this._driver,o,_,[]);if(_.length)throw function z5(n,e){return new u.vHH(3404,!1)}();h=function H8(n,e,t){return new j8(n,e,t)}(i,D,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,c]=WB(r);this._timelineEngine.command(o,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[c,h]=WB(r);return this._timelineEngine.listen(c,t,h,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let aq=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Fc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fc(this._element,this._initialStyles),this._endStyles&&(Fc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(qg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qg(this._element,this._endStyles),this._endStyles=null),Fc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function dP(n){let e=null;return n.forEach((t,r)=>{(function lq(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class EU{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:aU(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class cq{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return QB(e,t)}getParentElement(e){return Wk(e)}query(e,t,r){return XB(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(_.easing=o);const b=new Map,D=c.filter(H=>H instanceof EU);(function f8(n,e){return 0===n||0===e})(r,i)&&D.forEach(H=>{H.currentSnapshot.forEach((Q,ae)=>b.set(ae,Q))});let M=function c8(n){return n.length?n[0]instanceof Map?n:n.map(e=>nU(e)):[]}(t).map(H=>lf(H));M=function p8(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,c)=>{r.has(c)||i.push(c),r.set(c,o)}),i.length)for(let o=1;o<e.length;o++){let c=e[o];i.forEach(h=>c.set(h,aU(n,h)))}}return e}(e,M,b);const F=function oq(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=dP(e[0]),e.length>1&&(r=dP(e[e.length-1]))):e instanceof Map&&(t=dP(e)),t||r?new aq(n,t,r):null}(e,M);return new EU(e,M,_,F)}}let uq=(()=>{class n extends cg{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?pC(t):t;return CU(this._renderer,null,r,"register",[i]),new dq(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class dq extends class hC{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new hq(this._id,e,t||{},this._renderer)}}class hq{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return CU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function CU(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const DU="@.disabled";let fq=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,c)=>{const h=c?.parentNode(o);h&&c.removeChild(h,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(o);return D||(D=new IU("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,D)),D}const c=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(c,h,t,D.name,D)};return r.data.animation.forEach(_),new pq(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,h]=o;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(UI),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class IU{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==DU?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class pq extends IU{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==DU?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function gq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function mq(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let _q=(()=>{class n extends UI{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ee),u.LFG(Kk),u.LFG(sP),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const SU=[{provide:cg,useClass:uq},{provide:sP,useFactory:function yq(){return new L8}},{provide:UI,useClass:_q},{provide:u.FYo,useFactory:function vq(n,e,t){return new fq(n,e,t)},deps:[la,UI,u.R0b]}],hP=[{provide:Kk,useFactory:()=>new cq},{provide:u.QbO,useValue:"BrowserAnimations"},...SU],TU=[{provide:Kk,useClass:JB},{provide:u.QbO,useValue:"NoopAnimations"},...SU];let bq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?TU:hP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:hP,imports:[Ql]}),n})(),fP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Zr],Zr]}),n})(),AU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qi,$u,vl,mp,fP,by,y0,Ra,p0,Tk,nB,E0,by,y0,E0,Qi,$u,vl,mp,fP,by,y0,Ra,p0,Tk,E0,by,y0,E0]}),n})(),wq=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[wq],imports:[Qi]}),n})(),Cq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qi,AU]}),n})(),Dq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[w5]}),n.\u0275inj=u.cJS({imports:[Ql,Qi,mp,v5,jo.hO.initializeApp($B_firebaseConfig),Y$,i4,bq,AU,Eq,Cq,nB,Ra,vl,p0,Tk,by,y0,fP,E0,UB]}),n})();(0,u.G48)(),Yl().bootstrapModule(Dq).catch(n=>console.error(n))},1520:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(ie){return"[object Array]"===Object.prototype.toString.call(ie)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(ie){return"object"==typeof ie&&ie.buffer&&ie.buffer.constructor===ArrayBuffer});var createOutputMethod=function(ie,re){return function(N){return new Sha256(re,!0).update(N)[ie]()}},createMethod=function(ie){var re=createOutputMethod("hex",ie);NODE_JS&&(re=nodeWrap(re,ie)),re.create=function(){return new Sha256(ie)},re.update=function(q){return re.create().update(q)};for(var N=0;N<OUTPUT_TYPES.length;++N){var u=OUTPUT_TYPES[N];re[u]=createOutputMethod(u,ie)}return re},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(ie){if("string"==typeof ie)return crypto.createHash(algorithm).update(ie,"utf8").digest("hex");if(null==ie)throw new Error(ERROR);return ie.constructor===ArrayBuffer&&(ie=new Uint8Array(ie)),Array.isArray(ie)||ArrayBuffer.isView(ie)||ie.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(ie)).digest("hex"):method(ie)};return nodeMethod},createHmacOutputMethod=function(ie,re){return function(N,u){return new HmacSha256(N,re,!0).update(u)[ie]()}},createHmacMethod=function(ie){var re=createHmacOutputMethod("hex",ie);re.create=function(q){return new HmacSha256(q,ie)},re.update=function(q,O){return re.create(q).update(O)};for(var N=0;N<OUTPUT_TYPES.length;++N){var u=OUTPUT_TYPES[N];re[u]=createHmacOutputMethod(u,ie)}return re};function Sha256(ie,re){re?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ie?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=ie}function HmacSha256(ie,re,N){var u,q=typeof ie;if("string"===q){var oe,O=[],te=ie.length,G=0;for(u=0;u<te;++u)(oe=ie.charCodeAt(u))<128?O[G++]=oe:oe<2048?(O[G++]=192|oe>>6,O[G++]=128|63&oe):oe<55296||oe>=57344?(O[G++]=224|oe>>12,O[G++]=128|oe>>6&63,O[G++]=128|63&oe):(oe=65536+((1023&oe)<<10|1023&ie.charCodeAt(++u)),O[G++]=240|oe>>18,O[G++]=128|oe>>12&63,O[G++]=128|oe>>6&63,O[G++]=128|63&oe);ie=O}else{if("object"!==q)throw new Error(ERROR);if(null===ie)throw new Error(ERROR);if(ARRAY_BUFFER&&ie.constructor===ArrayBuffer)ie=new Uint8Array(ie);else if(!(Array.isArray(ie)||ARRAY_BUFFER&&ArrayBuffer.isView(ie)))throw new Error(ERROR)}ie.length>64&&(ie=new Sha256(re,!0).update(ie).array());var ee=[],be=[];for(u=0;u<64;++u){var ge=ie[u]||0;ee[u]=92^ge,be[u]=54^ge}Sha256.call(this,re,N),this.update(be),this.oKeyPad=ee,this.inner=!0,this.sharedMemory=N}Sha256.prototype.update=function(ie){if(!this.finalized){var re,N=typeof ie;if("string"!==N){if("object"!==N)throw new Error(ERROR);if(null===ie)throw new Error(ERROR);if(ARRAY_BUFFER&&ie.constructor===ArrayBuffer)ie=new Uint8Array(ie);else if(!(Array.isArray(ie)||ARRAY_BUFFER&&ArrayBuffer.isView(ie)))throw new Error(ERROR);re=!0}for(var u,O,q=0,te=ie.length,G=this.blocks;q<te;){if(this.hashed&&(this.hashed=!1,G[0]=this.block,G[16]=G[1]=G[2]=G[3]=G[4]=G[5]=G[6]=G[7]=G[8]=G[9]=G[10]=G[11]=G[12]=G[13]=G[14]=G[15]=0),re)for(O=this.start;q<te&&O<64;++q)G[O>>2]|=ie[q]<<SHIFT[3&O++];else for(O=this.start;q<te&&O<64;++q)(u=ie.charCodeAt(q))<128?G[O>>2]|=u<<SHIFT[3&O++]:u<2048?(G[O>>2]|=(192|u>>6)<<SHIFT[3&O++],G[O>>2]|=(128|63&u)<<SHIFT[3&O++]):u<55296||u>=57344?(G[O>>2]|=(224|u>>12)<<SHIFT[3&O++],G[O>>2]|=(128|u>>6&63)<<SHIFT[3&O++],G[O>>2]|=(128|63&u)<<SHIFT[3&O++]):(u=65536+((1023&u)<<10|1023&ie.charCodeAt(++q)),G[O>>2]|=(240|u>>18)<<SHIFT[3&O++],G[O>>2]|=(128|u>>12&63)<<SHIFT[3&O++],G[O>>2]|=(128|u>>6&63)<<SHIFT[3&O++],G[O>>2]|=(128|63&u)<<SHIFT[3&O++]);this.lastByteIndex=O,this.bytes+=O-this.start,O>=64?(this.block=G[16],this.start=O-64,this.hash(),this.hashed=!0):this.start=O}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var ie=this.blocks,re=this.lastByteIndex;ie[16]=this.block,ie[re>>2]|=EXTRA[3&re],this.block=ie[16],re>=56&&(this.hashed||this.hash(),ie[0]=this.block,ie[16]=ie[1]=ie[2]=ie[3]=ie[4]=ie[5]=ie[6]=ie[7]=ie[8]=ie[9]=ie[10]=ie[11]=ie[12]=ie[13]=ie[14]=ie[15]=0),ie[14]=this.hBytes<<3|this.bytes>>>29,ie[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var ee,B,Me,Ae,rt,Ee,ie=this.h0,re=this.h1,N=this.h2,u=this.h3,q=this.h4,O=this.h5,te=this.h6,G=this.h7,oe=this.blocks;for(ee=16;ee<64;++ee)oe[ee]=oe[ee-16]+(((B=oe[ee-15])>>>7|B<<25)^(B>>>18|B<<14)^B>>>3)+oe[ee-7]+(((B=oe[ee-2])>>>17|B<<15)^(B>>>19|B<<13)^B>>>10)<<0;for(Ee=re&N,ee=0;ee<64;ee+=4)this.first?(this.is224?(Me=300032,G=(B=oe[0]-1413257819)-150054599<<0,u=B+24177077<<0):(Me=704751109,G=(B=oe[0]-210244248)-1521486534<<0,u=B+143694565<<0),this.first=!1):(G=u+(B=G+((q>>>6|q<<26)^(q>>>11|q<<21)^(q>>>25|q<<7))+(q&O^~q&te)+K[ee]+oe[ee])<<0,u=B+(((ie>>>2|ie<<30)^(ie>>>13|ie<<19)^(ie>>>22|ie<<10))+((Me=ie&re)^ie&N^Ee))<<0),te=N+(B=te+((G>>>6|G<<26)^(G>>>11|G<<21)^(G>>>25|G<<7))+(G&q^~G&O)+K[ee+1]+oe[ee+1])<<0,N=B+(((u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10))+((Ae=u&ie)^u&re^Me))<<0,O=re+(B=O+((te>>>6|te<<26)^(te>>>11|te<<21)^(te>>>25|te<<7))+(te&G^~te&q)+K[ee+2]+oe[ee+2])<<0,re=B+(((N>>>2|N<<30)^(N>>>13|N<<19)^(N>>>22|N<<10))+((rt=N&u)^N&ie^Ae))<<0,q=ie+(B=q+((O>>>6|O<<26)^(O>>>11|O<<21)^(O>>>25|O<<7))+(O&te^~O&G)+K[ee+3]+oe[ee+3])<<0,ie=B+(((re>>>2|re<<30)^(re>>>13|re<<19)^(re>>>22|re<<10))+((Ee=re&N)^re&u^rt))<<0;this.h0=this.h0+ie<<0,this.h1=this.h1+re<<0,this.h2=this.h2+N<<0,this.h3=this.h3+u<<0,this.h4=this.h4+q<<0,this.h5=this.h5+O<<0,this.h6=this.h6+te<<0,this.h7=this.h7+G<<0},Sha256.prototype.hex=function(){this.finalize();var ie=this.h0,re=this.h1,N=this.h2,u=this.h3,q=this.h4,O=this.h5,te=this.h6,G=this.h7,oe=HEX_CHARS[ie>>28&15]+HEX_CHARS[ie>>24&15]+HEX_CHARS[ie>>20&15]+HEX_CHARS[ie>>16&15]+HEX_CHARS[ie>>12&15]+HEX_CHARS[ie>>8&15]+HEX_CHARS[ie>>4&15]+HEX_CHARS[15&ie]+HEX_CHARS[re>>28&15]+HEX_CHARS[re>>24&15]+HEX_CHARS[re>>20&15]+HEX_CHARS[re>>16&15]+HEX_CHARS[re>>12&15]+HEX_CHARS[re>>8&15]+HEX_CHARS[re>>4&15]+HEX_CHARS[15&re]+HEX_CHARS[N>>28&15]+HEX_CHARS[N>>24&15]+HEX_CHARS[N>>20&15]+HEX_CHARS[N>>16&15]+HEX_CHARS[N>>12&15]+HEX_CHARS[N>>8&15]+HEX_CHARS[N>>4&15]+HEX_CHARS[15&N]+HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[15&u]+HEX_CHARS[q>>28&15]+HEX_CHARS[q>>24&15]+HEX_CHARS[q>>20&15]+HEX_CHARS[q>>16&15]+HEX_CHARS[q>>12&15]+HEX_CHARS[q>>8&15]+HEX_CHARS[q>>4&15]+HEX_CHARS[15&q]+HEX_CHARS[O>>28&15]+HEX_CHARS[O>>24&15]+HEX_CHARS[O>>20&15]+HEX_CHARS[O>>16&15]+HEX_CHARS[O>>12&15]+HEX_CHARS[O>>8&15]+HEX_CHARS[O>>4&15]+HEX_CHARS[15&O]+HEX_CHARS[te>>28&15]+HEX_CHARS[te>>24&15]+HEX_CHARS[te>>20&15]+HEX_CHARS[te>>16&15]+HEX_CHARS[te>>12&15]+HEX_CHARS[te>>8&15]+HEX_CHARS[te>>4&15]+HEX_CHARS[15&te];return this.is224||(oe+=HEX_CHARS[G>>28&15]+HEX_CHARS[G>>24&15]+HEX_CHARS[G>>20&15]+HEX_CHARS[G>>16&15]+HEX_CHARS[G>>12&15]+HEX_CHARS[G>>8&15]+HEX_CHARS[G>>4&15]+HEX_CHARS[15&G]),oe},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var ie=this.h0,re=this.h1,N=this.h2,u=this.h3,q=this.h4,O=this.h5,te=this.h6,G=this.h7,oe=[ie>>24&255,ie>>16&255,ie>>8&255,255&ie,re>>24&255,re>>16&255,re>>8&255,255&re,N>>24&255,N>>16&255,N>>8&255,255&N,u>>24&255,u>>16&255,u>>8&255,255&u,q>>24&255,q>>16&255,q>>8&255,255&q,O>>24&255,O>>16&255,O>>8&255,255&O,te>>24&255,te>>16&255,te>>8&255,255&te];return this.is224||oe.push(G>>24&255,G>>16&255,G>>8&255,255&G),oe},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var ie=new ArrayBuffer(this.is224?28:32),re=new DataView(ie);return re.setUint32(0,this.h0),re.setUint32(4,this.h1),re.setUint32(8,this.h2),re.setUint32(12,this.h3),re.setUint32(16,this.h4),re.setUint32(20,this.h5),re.setUint32(24,this.h6),this.is224||re.setUint32(28,this.h7),ie},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var ie=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(ie),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},9751:(ie,re,N)=>{"use strict";N.d(re,{y:()=>be});var u=N(930),q=N(727),O=N(8822),te=N(9635),G=N(2416),oe=N(576),ee=N(2806);let be=(()=>{class X{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Ae=new X;return Ae.source=this,Ae.operator=Me,Ae}subscribe(Me,Ae,rt){const Ee=function B(X){return X&&X instanceof u.Lv||function $(X){return X&&(0,oe.m)(X.next)&&(0,oe.m)(X.error)&&(0,oe.m)(X.complete)}(X)&&(0,q.Nn)(X)}(Me)?Me:new u.Hp(Me,Ae,rt);return(0,ee.x)(()=>{const{operator:Ie,source:Ct}=this;Ee.add(Ie?Ie.call(Ee,Ct):Ct?this._subscribe(Ee):this._trySubscribe(Ee))}),Ee}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Ae){Me.error(Ae)}}forEach(Me,Ae){return new(Ae=ge(Ae))((rt,Ee)=>{const Ie=new u.Hp({next:Ct=>{try{Me(Ct)}catch(xt){Ee(xt),Ie.unsubscribe()}},error:Ee,complete:rt});this.subscribe(Ie)})}_subscribe(Me){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(Me)}[O.L](){return this}pipe(...Me){return(0,te.U)(Me)(this)}toPromise(Me){return new(Me=ge(Me))((Ae,rt)=>{let Ee;this.subscribe(Ie=>Ee=Ie,Ie=>rt(Ie),()=>Ae(Ee))})}}return X.create=$e=>new X($e),X})();function ge(X){var $e;return null!==($e=X??G.v.Promise)&&void 0!==$e?$e:Promise}},7579:(ie,re,N)=>{"use strict";N.d(re,{x:()=>ee});var u=N(9751),q=N(727);const te=(0,N(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var G=N(8737),oe=N(2806);let ee=(()=>{class ge extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const X=new be(this,this);return X.operator=B,X}_throwIfClosed(){if(this.closed)throw new te}next(B){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(B)}})}error(B){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:X}=this;for(;X.length;)X.shift().error(B)}})}complete(){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:X,isStopped:$e,observers:Me}=this;return X||$e?q.Lc:(this.currentObservers=null,Me.push(B),new q.w0(()=>{this.currentObservers=null,(0,G.P)(Me,B)}))}_checkFinalizedStatuses(B){const{hasError:X,thrownError:$e,isStopped:Me}=this;X?B.error($e):Me&&B.complete()}asObservable(){const B=new u.y;return B.source=this,B}}return ge.create=($,B)=>new be($,B),ge})();class be extends ee{constructor($,B){super(),this.destination=$,this.source=B}next($){var B,X;null===(X=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===X||X.call(B,$)}error($){var B,X;null===(X=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===X||X.call(B,$)}complete(){var $,B;null===(B=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===B||B.call($)}_subscribe($){var B,X;return null!==(X=null===(B=this.source)||void 0===B?void 0:B.subscribe($))&&void 0!==X?X:q.Lc}}},930:(ie,re,N)=>{"use strict";N.d(re,{Hp:()=>rt,Lv:()=>X});var u=N(576),q=N(727),O=N(2416),te=N(7849),G=N(5032);const oe=ge("C",void 0,void 0);function ge(Le,Se,Ce){return{kind:Le,value:Se,error:Ce}}var $=N(3410),B=N(2806);class X extends q.w0{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,q.Nn)(Se)&&Se.add(this)):this.destination=xt}static create(Se,Ce,Ye){return new rt(Se,Ce,Ye)}next(Se){this.isStopped?Ct(function be(Le){return ge("N",Le,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?Ct(function ee(Le){return ge("E",void 0,Le)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?Ct(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Me(Le,Se){return $e.call(Le,Se)}class Ae{constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Se)}catch(Ye){Ee(Ye)}}error(Se){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Se)}catch(Ye){Ee(Ye)}else Ee(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(Ce){Ee(Ce)}}}class rt extends X{constructor(Se,Ce,Ye){let qe;if(super(),(0,u.m)(Se)||!Se)qe={next:Se??void 0,error:Ce??void 0,complete:Ye??void 0};else{let lt;this&&O.v.useDeprecatedNextContext?(lt=Object.create(Se),lt.unsubscribe=()=>this.unsubscribe(),qe={next:Se.next&&Me(Se.next,lt),error:Se.error&&Me(Se.error,lt),complete:Se.complete&&Me(Se.complete,lt)}):qe=Se}this.destination=new Ae(qe)}}function Ee(Le){O.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(Le):(0,te.h)(Le)}function Ct(Le,Se){const{onStoppedNotification:Ce}=O.v;Ce&&$.z.setTimeout(()=>Ce(Le,Se))}const xt={closed:!0,next:G.Z,error:function Ie(Le){throw Le},complete:G.Z}},727:(ie,re,N)=>{"use strict";N.d(re,{Lc:()=>oe,w0:()=>G,Nn:()=>ee});var u=N(576);const O=(0,N(3888).d)(ge=>function(B){ge(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((X,$e)=>`${$e+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var te=N(8737);class G{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Me of B)Me.remove(this);else B.remove(this);const{initialTeardown:X}=this;if((0,u.m)(X))try{X()}catch(Me){$=Me instanceof O?Me.errors:[Me]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Me of $e)try{be(Me)}catch(Ae){$=$??[],Ae instanceof O?$=[...$,...Ae.errors]:$.push(Ae)}}if($)throw new O($)}}add($){var B;if($&&$!==this)if(this.closed)be($);else{if($ instanceof G){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push($)}}_hasParent($){const{_parentage:B}=this;return B===$||Array.isArray(B)&&B.includes($)}_addParent($){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push($),B):B?[B,$]:$}_removeParent($){const{_parentage:B}=this;B===$?this._parentage=null:Array.isArray(B)&&(0,te.P)(B,$)}remove($){const{_finalizers:B}=this;B&&(0,te.P)(B,$),$ instanceof G&&$._removeParent(this)}}G.EMPTY=(()=>{const ge=new G;return ge.closed=!0,ge})();const oe=G.EMPTY;function ee(ge){return ge instanceof G||ge&&"closed"in ge&&(0,u.m)(ge.remove)&&(0,u.m)(ge.add)&&(0,u.m)(ge.unsubscribe)}function be(ge){(0,u.m)(ge)?ge():ge.unsubscribe()}},2416:(ie,re,N)=>{"use strict";N.d(re,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ie,re,N)=>{"use strict";N.d(re,{E:()=>q});const q=new(N(9751).y)(G=>G.complete())},8996:(ie,re,N)=>{"use strict";N.d(re,{D:()=>Se});var u=N(8421),q=N(5363),O=N(9468),oe=N(9751),be=N(2202),ge=N(576),$=N(9672);function X(Ce,Ye){if(!Ce)throw new Error("Iterable cannot be null");return new oe.y(qe=>{(0,$.f)(qe,Ye,()=>{const lt=Ce[Symbol.asyncIterator]();(0,$.f)(qe,Ye,()=>{lt.next().then(de=>{de.done?qe.complete():qe.next(de.value)})},0,!0)})})}var $e=N(3670),Me=N(8239),Ae=N(1144),rt=N(6495),Ee=N(2206),Ie=N(4532),Ct=N(3260);function Se(Ce,Ye){return Ye?function Le(Ce,Ye){if(null!=Ce){if((0,$e.c)(Ce))return function te(Ce,Ye){return(0,u.Xf)(Ce).pipe((0,O.R)(Ye),(0,q.Q)(Ye))}(Ce,Ye);if((0,Ae.z)(Ce))return function ee(Ce,Ye){return new oe.y(qe=>{let lt=0;return Ye.schedule(function(){lt===Ce.length?qe.complete():(qe.next(Ce[lt++]),qe.closed||this.schedule())})})}(Ce,Ye);if((0,Me.t)(Ce))return function G(Ce,Ye){return(0,u.Xf)(Ce).pipe((0,O.R)(Ye),(0,q.Q)(Ye))}(Ce,Ye);if((0,Ee.D)(Ce))return X(Ce,Ye);if((0,rt.T)(Ce))return function B(Ce,Ye){return new oe.y(qe=>{let lt;return(0,$.f)(qe,Ye,()=>{lt=Ce[be.h](),(0,$.f)(qe,Ye,()=>{let de,Nt;try{({value:de,done:Nt}=lt.next())}catch(_t){return void qe.error(_t)}Nt?qe.complete():qe.next(de)},0,!0)}),()=>(0,ge.m)(lt?.return)&&lt.return()})}(Ce,Ye);if((0,Ct.L)(Ce))return function xt(Ce,Ye){return X((0,Ct.Q)(Ce),Ye)}(Ce,Ye)}throw(0,Ie.z)(Ce)}(Ce,Ye):(0,u.Xf)(Ce)}},8421:(ie,re,N)=>{"use strict";N.d(re,{Xf:()=>$e});var u=N(655),q=N(1144),O=N(8239),te=N(9751),G=N(3670),oe=N(2206),ee=N(4532),be=N(6495),ge=N(3260),$=N(576),B=N(7849),X=N(8822);function $e(Le){if(Le instanceof te.y)return Le;if(null!=Le){if((0,G.c)(Le))return function Me(Le){return new te.y(Se=>{const Ce=Le[X.L]();if((0,$.m)(Ce.subscribe))return Ce.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,q.z)(Le))return function Ae(Le){return new te.y(Se=>{for(let Ce=0;Ce<Le.length&&!Se.closed;Ce++)Se.next(Le[Ce]);Se.complete()})}(Le);if((0,O.t)(Le))return function rt(Le){return new te.y(Se=>{Le.then(Ce=>{Se.closed||(Se.next(Ce),Se.complete())},Ce=>Se.error(Ce)).then(null,B.h)})}(Le);if((0,oe.D)(Le))return Ie(Le);if((0,be.T)(Le))return function Ee(Le){return new te.y(Se=>{for(const Ce of Le)if(Se.next(Ce),Se.closed)return;Se.complete()})}(Le);if((0,ge.L)(Le))return function Ct(Le){return Ie((0,ge.Q)(Le))}(Le)}throw(0,ee.z)(Le)}function Ie(Le){return new te.y(Se=>{(function xt(Le,Se){var Ce,Ye,qe,lt;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,u.KL)(Le);!(Ye=yield Ce.next()).done;)if(Se.next(Ye.value),Se.closed)return}catch(de){qe={error:de}}finally{try{Ye&&!Ye.done&&(lt=Ce.return)&&(yield lt.call(Ce))}finally{if(qe)throw qe.error}}Se.complete()})})(Le,Se).catch(Ce=>Se.error(Ce))})}},6451:(ie,re,N)=>{"use strict";N.d(re,{T:()=>oe});var u=N(8189),q=N(8421),O=N(515),te=N(3269),G=N(8996);function oe(...ee){const be=(0,te.yG)(ee),ge=(0,te._6)(ee,1/0),$=ee;return $.length?1===$.length?(0,q.Xf)($[0]):(0,u.J)(ge)((0,G.D)($,be)):O.E}},5403:(ie,re,N)=>{"use strict";N.d(re,{x:()=>q});var u=N(930);function q(te,G,oe,ee,be){return new O(te,G,oe,ee,be)}class O extends u.Lv{constructor(G,oe,ee,be,ge,$){super(G),this.onFinalize=ge,this.shouldUnsubscribe=$,this._next=oe?function(B){try{oe(B)}catch(X){G.error(X)}}:super._next,this._error=be?function(B){try{be(B)}catch(X){G.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=ee?function(){try{ee()}catch(B){G.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var G;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(G=this.onFinalize)||void 0===G||G.call(this))}}}},4004:(ie,re,N)=>{"use strict";N.d(re,{U:()=>O});var u=N(4482),q=N(5403);function O(te,G){return(0,u.e)((oe,ee)=>{let be=0;oe.subscribe((0,q.x)(ee,ge=>{ee.next(te.call(G,ge,be++))}))})}},8189:(ie,re,N)=>{"use strict";N.d(re,{J:()=>O});var u=N(5577),q=N(4671);function O(te=1/0){return(0,u.z)(q.y,te)}},5577:(ie,re,N)=>{"use strict";N.d(re,{z:()=>be});var u=N(4004),q=N(8421),O=N(4482),te=N(9672),G=N(5403),ee=N(576);function be(ge,$,B=1/0){return(0,ee.m)($)?be((X,$e)=>(0,u.U)((Me,Ae)=>$(X,Me,$e,Ae))((0,q.Xf)(ge(X,$e))),B):("number"==typeof $&&(B=$),(0,O.e)((X,$e)=>function oe(ge,$,B,X,$e,Me,Ae,rt){const Ee=[];let Ie=0,Ct=0,xt=!1;const Le=()=>{xt&&!Ee.length&&!Ie&&$.complete()},Se=Ye=>Ie<X?Ce(Ye):Ee.push(Ye),Ce=Ye=>{Me&&$.next(Ye),Ie++;let qe=!1;(0,q.Xf)(B(Ye,Ct++)).subscribe((0,G.x)($,lt=>{$e?.(lt),Me?Se(lt):$.next(lt)},()=>{qe=!0},void 0,()=>{if(qe)try{for(Ie--;Ee.length&&Ie<X;){const lt=Ee.shift();Ae?(0,te.f)($,Ae,()=>Ce(lt)):Ce(lt)}Le()}catch(lt){$.error(lt)}}))};return ge.subscribe((0,G.x)($,Se,()=>{xt=!0,Le()})),()=>{rt?.()}}(X,$e,ge,B)))}},5363:(ie,re,N)=>{"use strict";N.d(re,{Q:()=>te});var u=N(9672),q=N(4482),O=N(5403);function te(G,oe=0){return(0,q.e)((ee,be)=>{ee.subscribe((0,O.x)(be,ge=>(0,u.f)(be,G,()=>be.next(ge),oe),()=>(0,u.f)(be,G,()=>be.complete(),oe),ge=>(0,u.f)(be,G,()=>be.error(ge),oe)))})}},3099:(ie,re,N)=>{"use strict";N.d(re,{B:()=>G});var u=N(8421),q=N(7579),O=N(930),te=N(4482);function G(ee={}){const{connector:be=(()=>new q.x),resetOnError:ge=!0,resetOnComplete:$=!0,resetOnRefCountZero:B=!0}=ee;return X=>{let $e,Me,Ae,rt=0,Ee=!1,Ie=!1;const Ct=()=>{Me?.unsubscribe(),Me=void 0},xt=()=>{Ct(),$e=Ae=void 0,Ee=Ie=!1},Le=()=>{const Se=$e;xt(),Se?.unsubscribe()};return(0,te.e)((Se,Ce)=>{rt++,!Ie&&!Ee&&Ct();const Ye=Ae=Ae??be();Ce.add(()=>{rt--,0===rt&&!Ie&&!Ee&&(Me=oe(Le,B))}),Ye.subscribe(Ce),!$e&&rt>0&&($e=new O.Hp({next:qe=>Ye.next(qe),error:qe=>{Ie=!0,Ct(),Me=oe(xt,ge,qe),Ye.error(qe)},complete:()=>{Ee=!0,Ct(),Me=oe(xt,$),Ye.complete()}}),(0,u.Xf)(Se).subscribe($e))})(X)}}function oe(ee,be,...ge){if(!0===be)return void ee();if(!1===be)return;const $=new O.Hp({next:()=>{$.unsubscribe(),ee()}});return be(...ge).subscribe($)}},9468:(ie,re,N)=>{"use strict";N.d(re,{R:()=>q});var u=N(4482);function q(O,te=0){return(0,u.e)((G,oe)=>{oe.add(O.schedule(()=>G.subscribe(oe),te))})}},8505:(ie,re,N)=>{"use strict";N.d(re,{b:()=>G});var u=N(576),q=N(4482),O=N(5403),te=N(4671);function G(oe,ee,be){const ge=(0,u.m)(oe)||ee||be?{next:oe,error:ee,complete:be}:oe;return ge?(0,q.e)(($,B)=>{var X;null===(X=ge.subscribe)||void 0===X||X.call(ge);let $e=!0;$.subscribe((0,O.x)(B,Me=>{var Ae;null===(Ae=ge.next)||void 0===Ae||Ae.call(ge,Me),B.next(Me)},()=>{var Me;$e=!1,null===(Me=ge.complete)||void 0===Me||Me.call(ge),B.complete()},Me=>{var Ae;$e=!1,null===(Ae=ge.error)||void 0===Ae||Ae.call(ge,Me),B.error(Me)},()=>{var Me,Ae;$e&&(null===(Me=ge.unsubscribe)||void 0===Me||Me.call(ge)),null===(Ae=ge.finalize)||void 0===Ae||Ae.call(ge)}))}):te.y}},4408:(ie,re,N)=>{"use strict";N.d(re,{o:()=>G});var u=N(727);class q extends u.w0{constructor(ee,be){super()}schedule(ee,be=0){return this}}const O={setInterval(oe,ee,...be){const{delegate:ge}=O;return ge?.setInterval?ge.setInterval(oe,ee,...be):setInterval(oe,ee,...be)},clearInterval(oe){const{delegate:ee}=O;return(ee?.clearInterval||clearInterval)(oe)},delegate:void 0};var te=N(8737);class G extends q{constructor(ee,be){super(ee,be),this.scheduler=ee,this.work=be,this.pending=!1}schedule(ee,be=0){var ge;if(this.closed)return this;this.state=ee;const $=this.id,B=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(B,$,be)),this.pending=!0,this.delay=be,this.id=null!==(ge=this.id)&&void 0!==ge?ge:this.requestAsyncId(B,this.id,be),this}requestAsyncId(ee,be,ge=0){return O.setInterval(ee.flush.bind(ee,this),ge)}recycleAsyncId(ee,be,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return be;null!=be&&O.clearInterval(be)}execute(ee,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ee,be);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,be){let $,ge=!1;try{this.work(ee)}catch(B){ge=!0,$=B||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ee,scheduler:be}=this,{actions:ge}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(ge,this),null!=ee&&(this.id=this.recycleAsyncId(be,ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(ie,re,N)=>{"use strict";N.d(re,{v:()=>O});var u=N(6063);class q{constructor(G,oe=q.now){this.schedulerActionCtor=G,this.now=oe}schedule(G,oe=0,ee){return new this.schedulerActionCtor(this,G).schedule(ee,oe)}}q.now=u.l.now;class O extends q{constructor(G,oe=q.now){super(G,oe),this.actions=[],this._active=!1}flush(G){const{actions:oe}=this;if(this._active)return void oe.push(G);let ee;this._active=!0;do{if(ee=G.execute(G.state,G.delay))break}while(G=oe.shift());if(this._active=!1,ee){for(;G=oe.shift();)G.unsubscribe();throw ee}}}},4986:(ie,re,N)=>{"use strict";N.d(re,{P:()=>te,z:()=>O});var u=N(4408);const O=new(N(7565).v)(u.o),te=O},6063:(ie,re,N)=>{"use strict";N.d(re,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(ie,re,N)=>{"use strict";N.d(re,{z:()=>u});const u={setTimeout(q,O,...te){const{delegate:G}=u;return G?.setTimeout?G.setTimeout(q,O,...te):setTimeout(q,O,...te)},clearTimeout(q){const{delegate:O}=u;return(O?.clearTimeout||clearTimeout)(q)},delegate:void 0}},2202:(ie,re,N)=>{"use strict";N.d(re,{h:()=>q});const q=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ie,re,N)=>{"use strict";N.d(re,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ie,re,N)=>{"use strict";N.d(re,{_6:()=>oe,jO:()=>te,yG:()=>G});var u=N(576),q=N(3532);function O(ee){return ee[ee.length-1]}function te(ee){return(0,u.m)(O(ee))?ee.pop():void 0}function G(ee){return(0,q.K)(O(ee))?ee.pop():void 0}function oe(ee,be){return"number"==typeof O(ee)?ee.pop():be}},8737:(ie,re,N)=>{"use strict";function u(q,O){if(q){const te=q.indexOf(O);0<=te&&q.splice(te,1)}}N.d(re,{P:()=>u})},3888:(ie,re,N)=>{"use strict";function u(q){const te=q(G=>{Error.call(G),G.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}N.d(re,{d:()=>u})},2806:(ie,re,N)=>{"use strict";N.d(re,{O:()=>te,x:()=>O});var u=N(2416);let q=null;function O(G){if(u.v.useDeprecatedSynchronousErrorHandling){const oe=!q;if(oe&&(q={errorThrown:!1,error:null}),G(),oe){const{errorThrown:ee,error:be}=q;if(q=null,ee)throw be}}else G()}function te(G){u.v.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=G)}},9672:(ie,re,N)=>{"use strict";function u(q,O,te,G=0,oe=!1){const ee=O.schedule(function(){te(),oe?q.add(this.schedule(null,G)):this.unsubscribe()},G);if(q.add(ee),!oe)return ee}N.d(re,{f:()=>u})},4671:(ie,re,N)=>{"use strict";function u(q){return q}N.d(re,{y:()=>u})},1144:(ie,re,N)=>{"use strict";N.d(re,{z:()=>u});const u=q=>q&&"number"==typeof q.length&&"function"!=typeof q},2206:(ie,re,N)=>{"use strict";N.d(re,{D:()=>q});var u=N(576);function q(O){return Symbol.asyncIterator&&(0,u.m)(O?.[Symbol.asyncIterator])}},576:(ie,re,N)=>{"use strict";function u(q){return"function"==typeof q}N.d(re,{m:()=>u})},3670:(ie,re,N)=>{"use strict";N.d(re,{c:()=>O});var u=N(8822),q=N(576);function O(te){return(0,q.m)(te[u.L])}},6495:(ie,re,N)=>{"use strict";N.d(re,{T:()=>O});var u=N(2202),q=N(576);function O(te){return(0,q.m)(te?.[u.h])}},8239:(ie,re,N)=>{"use strict";N.d(re,{t:()=>q});var u=N(576);function q(O){return(0,u.m)(O?.then)}},3260:(ie,re,N)=>{"use strict";N.d(re,{L:()=>te,Q:()=>O});var u=N(655),q=N(576);function O(G){return(0,u.FC)(this,arguments,function*(){const ee=G.getReader();try{for(;;){const{value:be,done:ge}=yield(0,u.qq)(ee.read());if(ge)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(be)}}finally{ee.releaseLock()}})}function te(G){return(0,q.m)(G?.getReader)}},3532:(ie,re,N)=>{"use strict";N.d(re,{K:()=>q});var u=N(576);function q(O){return O&&(0,u.m)(O.schedule)}},4482:(ie,re,N)=>{"use strict";N.d(re,{A:()=>q,e:()=>O});var u=N(576);function q(te){return(0,u.m)(te?.lift)}function O(te){return G=>{if(q(G))return G.lift(function(oe){try{return te(oe,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ie,re,N)=>{"use strict";function u(){}N.d(re,{Z:()=>u})},9635:(ie,re,N)=>{"use strict";N.d(re,{U:()=>O,z:()=>q});var u=N(4671);function q(...te){return O(te)}function O(te){return 0===te.length?u.y:1===te.length?te[0]:function(oe){return te.reduce((ee,be)=>be(ee),oe)}}},7849:(ie,re,N)=>{"use strict";N.d(re,{h:()=>O});var u=N(2416),q=N(3410);function O(te){q.z.setTimeout(()=>{const{onUnhandledError:G}=u.v;if(!G)throw te;G(te)})}},4532:(ie,re,N)=>{"use strict";function u(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(re,{z:()=>u})},655:(ie,re,N)=>{"use strict";function te(we,De){var ke={};for(var Pe in we)Object.prototype.hasOwnProperty.call(we,Pe)&&De.indexOf(Pe)<0&&(ke[Pe]=we[Pe]);if(null!=we&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(Pe=Object.getOwnPropertySymbols(we);Ue<Pe.length;Ue++)De.indexOf(Pe[Ue])<0&&Object.prototype.propertyIsEnumerable.call(we,Pe[Ue])&&(ke[Pe[Ue]]=we[Pe[Ue]])}return ke}function X(we,De,ke,Pe){return new(ke||(ke=Promise))(function(xe,Lt){function on(Zt){try{Ge(Pe.next(Zt))}catch(Jt){Lt(Jt)}}function Ht(Zt){try{Ge(Pe.throw(Zt))}catch(Jt){Lt(Jt)}}function Ge(Zt){Zt.done?xe(Zt.value):function Ue(xe){return xe instanceof ke?xe:new ke(function(Lt){Lt(xe)})}(Zt.value).then(on,Ht)}Ge((Pe=Pe.apply(we,De||[])).next())})}function Le(we){return this instanceof Le?(this.v=we,this):new Le(we)}function Se(we,De,ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,Pe=ke.apply(we,De||[]),xe=[];return Ue={},Lt("next"),Lt("throw"),Lt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function Lt(rn){Pe[rn]&&(Ue[rn]=function(Pn){return new Promise(function($n,jr){xe.push([rn,Pn,$n,jr])>1||on(rn,Pn)})})}function on(rn,Pn){try{!function Ht(rn){rn.value instanceof Le?Promise.resolve(rn.value.v).then(Ge,Zt):Jt(xe[0][2],rn)}(Pe[rn](Pn))}catch($n){Jt(xe[0][3],$n)}}function Ge(rn){on("next",rn)}function Zt(rn){on("throw",rn)}function Jt(rn,Pn){rn(Pn),xe.shift(),xe.length&&on(xe[0][0],xe[0][1])}}function Ye(we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,De=we[Symbol.asyncIterator];return De?De.call(we):(we=function rt(we){var De="function"==typeof Symbol&&Symbol.iterator,ke=De&&we[De],Pe=0;if(ke)return ke.call(we);if(we&&"number"==typeof we.length)return{next:function(){return we&&Pe>=we.length&&(we=void 0),{value:we&&we[Pe++],done:!we}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(we),ke={},Pe("next"),Pe("throw"),Pe("return"),ke[Symbol.asyncIterator]=function(){return this},ke);function Pe(xe){ke[xe]=we[xe]&&function(Lt){return new Promise(function(on,Ht){!function Ue(xe,Lt,on,Ht){Promise.resolve(Ht).then(function(Ge){xe({value:Ge,done:on})},Lt)}(on,Ht,(Lt=we[xe](Lt)).done,Lt.value)})}}}N.d(re,{FC:()=>Se,KL:()=>Ye,_T:()=>te,mG:()=>X,qq:()=>Le})},4650:(ie,re,N)=>{"use strict";N.d(re,{$8M:()=>Zl,$Z:()=>vi,AFp:()=>hC,ALo:()=>gA,AaK:()=>be,BQk:()=>Km,CHM:()=>Ll,CRH:()=>xA,CZH:()=>cg,CqO:()=>Jw,D6c:()=>px,EJc:()=>A1,EiD:()=>sp,EpF:()=>Xw,F$t:()=>rE,F4k:()=>Eh,FYo:()=>Ly,FiY:()=>js,G48:()=>CC,Gf:()=>ig,GfV:()=>Vy,Gpc:()=>B,Hsn:()=>YS,Ikx:()=>xv,JOm:()=>ss,JVY:()=>ih,KtG:()=>Wc,L6k:()=>gm,LAX:()=>mm,LFG:()=>Zn,LSH:()=>Au,Lbi:()=>pC,Lck:()=>KO,MAs:()=>Dr,MGl:()=>Xm,MMx:()=>LE,NdJ:()=>Ym,O4$:()=>Jc,OlP:()=>vn,Oqu:()=>Yp,PXZ:()=>Wu,Q6J:()=>nr,QGY:()=>Zm,QP$:()=>Pt,QbO:()=>S1,Qsj:()=>z0,R0b:()=>eo,RDi:()=>hm,Rgc:()=>ng,SBq:()=>hp,Sil:()=>gC,Suo:()=>Uv,TTD:()=>Ai,TgZ:()=>Gm,Udp:()=>Js,VKq:()=>lA,WFA:()=>Cv,WLB:()=>cA,X6Q:()=>rx,XFs:()=>yt,Xpm:()=>Bn,Xts:()=>oh,Y36:()=>fh,YKP:()=>JT,YNc:()=>Zw,Yjl:()=>J,Yz7:()=>Ge,Z0I:()=>Pn,ZZ4:()=>yg,_Bn:()=>XT,_UZ:()=>Ev,_Vd:()=>dp,_c5:()=>sb,_uU:()=>lT,aQg:()=>P_,c2e:()=>ug,cJS:()=>Jt,cg1:()=>Mv,d8E:()=>wE,dDg:()=>tx,dqk:()=>En,eBb:()=>sh,eFA:()=>yo,ekj:()=>Wp,eoX:()=>bC,f3M:()=>gt,g9A:()=>qv,h0i:()=>eg,hGG:()=>OC,hij:()=>Qp,iGM:()=>QE,ifc:()=>St,ip1:()=>qA,jDz:()=>tA,kL8:()=>DE,lG2:()=>U,lcZ:()=>mA,lqb:()=>ku,lri:()=>vC,mCW:()=>w,n5z:()=>Rn,oAB:()=>ui,oxw:()=>zp,pB0:()=>_m,q3G:()=>lr,q4F:()=>q0,qLn:()=>fp,qOj:()=>Fp,qZA:()=>qm,qzn:()=>po,rWj:()=>ex,sBO:()=>sx,sIi:()=>yh,s_b:()=>h_,soG:()=>dg,tb:()=>_o,tp0:()=>Fo,uIk:()=>yv,vHH:()=>Ae,vpe:()=>xa,wAp:()=>Ft,xp6:()=>Wy,ynx:()=>jp,z2F:()=>E_,z3N:()=>ar,zSh:()=>ap,zs3:()=>Ec});var u=N(7579),q=N(727),O=N(9751),te=N(6451),G=N(3099);function oe(s){for(let a in s)if(s[a]===oe)return a;throw Error("Could not find renamed property on target object.")}function ee(s,a){for(const l in a)a.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=a[l])}function be(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(be).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function ge(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const $=oe({__forward_ref__:oe});function B(s){return s.__forward_ref__=B,s.toString=function(){return be(this())},s}function X(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===B}class Ae extends Error{constructor(a,l){super(function rt(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function Ee(s){return"string"==typeof s?s:null==s?"":String(s)}function Se(s,a){throw new Ae(-201,!1)}function Ue(s,a){null==s&&function xe(s,a,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function Ge(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Jt(s){return{providers:s.providers||[],imports:s.imports||[]}}function rn(s){return $n(s,ps)||$n(s,Ba)}function Pn(s){return null!==rn(s)}function $n(s,a){return s.hasOwnProperty(a)?s[a]:null}function Sr(s){return s&&(s.hasOwnProperty(Gi)||s.hasOwnProperty(Zo))?s[Gi]:null}const ps=oe({\u0275prov:oe}),Gi=oe({\u0275inj:oe}),Ba=oe({ngInjectableDef:oe}),Zo=oe({ngInjectorDef:oe});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let ei;function ti(s){const a=ei;return ei=s,a}function Yo(s,a,l){const d=rn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&yt.Optional?null:void 0!==a?a:void Se(be(s))}function fr(s){return{toString:s}.toString()}var xn=(()=>((xn=xn||{})[xn.OnPush=0]="OnPush",xn[xn.Default=1]="Default",xn))(),St=(()=>{return(s=St||(St={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",St;var s})();const En=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ir={},kt=[],Tr=oe({\u0275cmp:oe}),yn=oe({\u0275dir:oe}),Qo=oe({\u0275pipe:oe}),ln=oe({\u0275mod:oe}),pr=oe({\u0275fac:oe}),Ar=oe({__NG_ELEMENT_ID__:oe});let Wi=0;function Bn(s){return fr(()=>{const l=!0===s.standalone,d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===xn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||kt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||St.Emulated,id:"c"+Wi++,styles:s.styles||kt,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.dependencies,v=s.features;return f.inputs=j(s.inputs,d),f.outputs=j(s.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(ms).filter(Gn):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(Qe).filter(Gn):null,f})}function ms(s){return pe(s)||le(s)}function Gn(s){return null!==s}function ui(s){return fr(()=>({type:s.type,bootstrap:s.bootstrap||kt,declarations:s.declarations||kt,imports:s.imports||kt,exports:s.exports||kt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function j(s,a){if(null==s)return ir;const l={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),l[f]=d,a&&(a[f]=m)}return l}const U=Bn;function J(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function pe(s){return s[Tr]||null}function le(s){return s[yn]||null}function Qe(s){return s[Qo]||null}function Pt(s){const a=pe(s)||le(s)||Qe(s);return null!==a&&a.standalone}function jt(s,a){const l=s[ln]||null;if(!l&&!0===a)throw new Error(`Type ${be(s)} does not have '\u0275mod' property.`);return l}function gr(s){return Array.isArray(s)&&"object"==typeof s[1]}function ri(s){return Array.isArray(s)&&!0===s[1]}function so(s){return 0!=(8&s.flags)}function Jo(s){return 2==(2&s.flags)}function Ps(s){return 1==(1&s.flags)}function Zi(s){return null!==s.template}function ea(s){return 0!=(256&s[2])}function Os(s,a){return s.hasOwnProperty(pr)?s[pr]:null}class pf{constructor(a,l,d){this.previousValue=a,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ai(){return Ed}function Ed(s){return s.type.prototype.ngOnChanges&&(s.setInput=$c),Ha}function Ha(){const s=gf(this),a=s?.current;if(a){const l=s.previous;if(l===ir)s.previous=a;else for(let d in a)l[d]=a[d];s.current=null,this.ngOnChanges(a)}}function $c(s,a,l,d){const f=gf(s)||function Qi(s,a){return s[Ml]=a}(s,{previous:ir,current:null}),m=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[l],S=v[C];m[C]=new pf(S&&S.currentValue,a,v===ir),s[d]=a}Ai.ngInherit=!0;const Ml="__ngSimpleChanges__";function gf(s){return s[Ml]||null}function Wn(s){for(;Array.isArray(s);)s=s[0];return s}function xi(s,a){return Wn(a[s])}function ii(s,a){return Wn(a[s.index])}function Nl(s,a){return s.data[a]}function ta(s,a){return s[a]}function Kn(s,a){const l=a[s];return gr(l)?l:l[0]}function Eo(s){return 64==(64&s[2])}function hi(s,a){return null==a?null:s[a]}function oo(s){s[18]=0}function kr(s,a){s[5]+=a;let l=s,d=s[3];for(;null!==d&&(1===a&&1===l[5]||-1===a&&0===l[5]);)d[5]+=a,l=d,d=d[3]}const Ot={lFrame:Xc(null),bindingsEnabled:!0};function Td(){return Ot.bindingsEnabled}function Re(){return Ot.lFrame.lView}function Yt(){return Ot.lFrame.tView}function Ll(s){return Ot.lFrame.contextLView=s,s[8]}function Wc(s){return Ot.lFrame.contextLView=null,s}function Un(){let s=Vl();for(;null!==s&&64===s.type;)s=s.parent;return s}function Vl(){return Ot.lFrame.currentTNode}function fi(s,a){const l=Ot.lFrame;l.currentTNode=s,l.isParent=a}function na(){return Ot.lFrame.isParent}function Kc(){Ot.lFrame.isParent=!1}function $r(){const s=Ot.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Fs(){return Ot.lFrame.bindingIndex++}function Xg(s,a){const l=Ot.lFrame;l.bindingIndex=l.bindingRootIndex=s,Yc(a)}function Yc(s){Ot.lFrame.currentDirectiveIndex=s}function za(s){const a=Ot.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function Bl(){return Ot.lFrame.currentQueryIndex}function Gr(s){Ot.lFrame.currentQueryIndex=s}function Qc(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function $a(s,a,l){if(l&yt.SkipSelf){let f=a,m=s;for(;!(f=f.parent,null!==f||l&yt.Host||(f=Qc(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,s=m}const d=Ot.lFrame=Io();return d.currentTNode=a,d.lView=s,!0}function Ga(s){const a=Io(),l=s[1];Ot.lFrame=a,a.currentTNode=l.firstChild,a.lView=s,a.tView=l,a.contextLView=s,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function Io(){const s=Ot.lFrame,a=null===s?null:s.child;return null===a?Xc(s):a}function Xc(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function qa(){const s=Ot.lFrame;return Ot.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const xd=qa;function ia(){const s=qa();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function dn(){return Ot.lFrame.selectedIndex}function Ls(s){Ot.lFrame.selectedIndex=s}function Mn(){const s=Ot.lFrame;return Nl(s.tView,s.selectedIndex)}function Jc(){Ot.lFrame.currentNamespace="svg"}function So(s,a){for(let l=a.directiveStart,d=a.directiveEnd;l<d;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:S,ngAfterViewChecked:x,ngOnDestroy:P}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),C&&((s.contentHooks||(s.contentHooks=[])).push(l,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,C)),S&&(s.viewHooks||(s.viewHooks=[])).push(-l,S),x&&((s.viewHooks||(s.viewHooks=[])).push(l,x),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,x)),null!=P&&(s.destroyHooks||(s.destroyHooks=[])).push(l,P)}}function Wa(s,a,l){Ka(s,a,3,l)}function sa(s,a,l,d){(3&s[2])===l&&Ka(s,a,l,d)}function kd(s,a){let l=s[2];(3&l)===a&&(l&=2047,l+=1,s[2]=l)}function Ka(s,a,l,d){const m=d??-1,v=a.length-1;let C=0;for(let S=void 0!==d?65535&s[18]:0;S<v;S++)if("number"==typeof a[S+1]){if(C=a[S],null!=d&&C>=d)break}else a[S]<0&&(s[18]+=65536),(C<m||-1==m)&&(bf(s,l,a,S),s[18]=(4294901760&s[18])+S+2),S++}function bf(s,a,l,d){const f=l[d]<0,m=l[d+1],C=s[f?-l[d]:l[d]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class Za{constructor(a,l,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function $l(s,a,l){let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const m=l[d++],v=l[d++],C=l[d++];s.setAttribute(a,v,C,m)}else{const m=f,v=l[++d];Cf(m)?s.setProperty(a,m,v):s.setAttribute(a,m,v),d++}}return d}function Gl(s){return 3===s||4===s||6===s}function Cf(s){return 64===s.charCodeAt(0)}function oa(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let l=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?l=f:0===l||Od(s,l,f,null,-1===l||2===l?a[++d]:null)}}return s}function Od(s,a,l,d,f){let m=0,v=s.length;if(-1===a)v=-1;else for(;m<s.length;){const C=s[m++];if("number"==typeof C){if(C===a){v=-1;break}if(C>a){v=m-1;break}}}for(;m<s.length;){const C=s[m];if("number"==typeof C)break;if(C===l){if(null===d)return void(null!==f&&(s[m+1]=f));if(d===s[m+1])return void(s[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(s.splice(v,0,a),m=v+1),s.splice(m++,0,l),null!==d&&s.splice(m++,0,d),null!==f&&s.splice(m++,0,f)}function iu(s){return-1!==s}function Ya(s){return 32767&s}function ys(s,a){let l=function Df(s){return s>>16}(s),d=a;for(;l>0;)d=d[15],l--;return d}let Qa=!0;function Bs(s){const a=Qa;return Qa=s,a}let Xa=0;const Mi={};function aa(s,a){const l=Ao(s,a);if(-1!==l)return l;const d=a[1];d.firstCreatePass&&(s.injectorIndex=a.length,ou(d.data,s),ou(a,null),ou(d.blueprint,null));const f=xo(s,a),m=s.injectorIndex;if(iu(f)){const v=Ya(f),C=ys(f,a),S=C[1].data;for(let x=0;x<8;x++)a[m+x]=C[v+x]|S[v+x]}return a[m+8]=f,m}function ou(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Ao(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function xo(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,f=a;for(;null!==f;){if(d=Tf(f),null===d)return-1;if(l++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Ja(s,a,l){!function su(s,a,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Ar)&&(d=l[Ar]),null==d&&(d=l[Ar]=Xa++);const f=255&d;a.data[s+(f>>5)]|=1<<f}(s,a,l)}function Wl(s,a,l){if(l&yt.Optional||void 0!==s)return s;Se()}function If(s,a,l,d){if(l&yt.Optional&&void 0===d&&(d=null),0==(l&(yt.Self|yt.Host))){const f=s[9],m=ti(void 0);try{return f?f.get(a,d,l&yt.Optional):Yo(a,d,l&yt.Optional)}finally{ti(m)}}return Wl(d,0,l)}function la(s,a,l,d=yt.Default,f){if(null!==s){if(1024&a[2]){const v=function tl(s,a,l,d,f){let m=s,v=a;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=ca(m,v,l,d|yt.Self,Mi);if(C!==Mi)return C;let S=m.parent;if(!S){const x=v[21];if(x){const P=x.get(l,Mi,d);if(P!==Mi)return P}S=Tf(v),v=v[15]}m=S}return f}(s,a,l,d,Mi);if(v!==Mi)return v}const m=ca(s,a,l,d,Mi);if(m!==Mi)return m}return If(a,l,d,f)}function ca(s,a,l,d,f){const m=function Ro(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Ar)?s[Ar]:void 0;return"number"==typeof a?a>=0?255&a:tm:a}(l);if("function"==typeof m){if(!$a(a,s,d))return d&yt.Host?Wl(f,0,d):If(a,l,d,f);try{const v=m(d);if(null!=v||d&yt.Optional)return v;Se()}finally{xd()}}else if("number"==typeof m){let v=null,C=Ao(s,a),S=-1,x=d&yt.Host?a[16][6]:null;for((-1===C||d&yt.SkipSelf)&&(S=-1===C?xo(s,a):a[C+8],-1!==S&&Kl(d,!1)?(v=a[1],C=Ya(S),a=ys(S,a)):C=-1);-1!==C;){const P=a[1];if(Sf(m,C,P.data)){const V=em(C,a,l,v,d,x);if(V!==Mi)return V}S=a[C+8],-1!==S&&Kl(d,a[1].data[C+8]===x)&&Sf(m,C,a)?(v=P,C=Ya(S),a=ys(S,a)):C=-1}}return f}function em(s,a,l,d,f,m){const v=a[1],C=v.data[s+8],P=bs(C,v,l,null==d?Jo(C)&&Qa:d!=v&&0!=(3&C.type),f&yt.Host&&m===C);return null!==P?el(a,v,P,C):Mi}function bs(s,a,l,d,f){const m=s.providerIndexes,v=a.data,C=1048575&m,S=s.directiveStart,P=m>>20,Y=f?C+P:s.directiveEnd;for(let ce=d?C:C+P;ce<Y;ce++){const Te=v[ce];if(ce<S&&l===Te||ce>=S&&Te.type===l)return ce}if(f){const ce=v[S];if(ce&&Zi(ce)&&ce.type===l)return S}return null}function el(s,a,l,d){let f=s[l];const m=a.data;if(function jl(s){return s instanceof Za}(f)){const v=f;v.resolving&&function Ct(s,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Ie(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ee(s)}(m[l]));const C=Bs(v.canSeeViewProviders);v.resolving=!0;const S=v.injectImpl?ti(v.injectImpl):null;$a(s,d,yt.Default);try{f=s[l]=v.factory(void 0,m,s,d),a.firstCreatePass&&l>=d.directiveStart&&function tu(s,a,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(d){const v=Ed(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,f),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],a)}finally{null!==S&&ti(S),Bs(C),v.resolving=!1,xd()}}return f}function Sf(s,a,l){return!!(l[a+(s>>5)]&1<<s)}function Kl(s,a){return!(s&yt.Self||s&yt.Host&&a)}class ws{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,d){return la(this._tNode,this._lView,a,d,l)}}function tm(){return new ws(Un(),Re())}function Rn(s){return fr(()=>{const a=s.prototype.constructor,l=a[pr]||au(a),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const m=f[pr]||au(f);if(m&&m!==l)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function au(s){return $e(s)?()=>{const a=au(X(s));return a&&a()}:Os(s)}function Tf(s){const a=s[1],l=a.type;return 2===l?a.declTNode:1===l?s[6]:null}function Zl(s){return function Mo(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const l=s.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const m=l[f];if(Gl(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(m===a)return l[f+1];f+=2}}}return null}(Un(),s)}const jn="__parameters__";function Hs(s,a,l){return fr(()=>{const d=function ua(s){return function(...l){if(s){const d=s(...l);for(const f in d)this[f]=d[f]}}}(a);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return C.annotation=v,C;function C(S,x,P){const V=S.hasOwnProperty(jn)?S[jn]:Object.defineProperty(S,jn,{value:[]})[jn];for(;V.length<=P;)V.push(null);return(V[P]=V[P]||[]).push(v),S}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class vn{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Ge({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Jn(s,a){void 0===a&&(a=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(a===s&&(a=s.slice(0,l)),Jn(d,a)):a!==s&&a.push(d)}return a}function ts(s,a){s.forEach(l=>Array.isArray(l)?ts(l,a):a(l))}function cu(s,a,l){a>=s.length?s.push(l):s.splice(a,0,l)}function uu(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function da(s,a){const l=[];for(let d=0;d<s;d++)l.push(a);return l}function mi(s,a,l){let d=il(s,a);return d>=0?s[1|d]=l:(d=~d,function nm(s,a,l,d){let f=s.length;if(f==a)s.push(l,d);else if(1===f)s.push(d,s[0]),s[0]=l;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=l,s[a+1]=d}}(s,d,a,l)),d}function tc(s,a){const l=il(s,a);if(l>=0)return s[1|l]}function il(s,a){return function Of(s,a,l){let d=0,f=s.length>>l;for(;f!==d;){const m=d+(f-d>>1),v=s[m<<l];if(a===v)return m<<l;v>a?f=m:d=m+1}return~(f<<l)}(s,a,1)}const ut={},er="__NG_DI_FLAG__",qr="ngTempTokenPath",wr=/\n/gm,ol="__source";let Oo;function Wr(s){const a=Oo;return Oo=s,a}function sc(s,a=yt.Default){if(void 0===Oo)throw new Ae(-203,!1);return null===Oo?Yo(s,void 0,a):Oo.get(s,a&yt.Optional?null:void 0,a)}function Zn(s,a=yt.Default){return(function qi(){return ei}()||sc)(X(s),a)}function gt(s,a=yt.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),Zn(s,a)}function Bd(s){const a=[];for(let l=0;l<s.length;l++){const d=X(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Ae(900,!1);let f,m=yt.Default;for(let v=0;v<d.length;v++){const C=d[v],S=al(C);"number"==typeof S?-1===S?f=C.token:m|=S:f=C}a.push(Zn(f,m))}else a.push(Zn(d))}return a}function No(s,a){return s[er]=a,s.prototype[er]=a,s}function al(s){return s[er]}const js=No(Hs("Optional"),8),Fo=No(Hs("SkipSelf"),4);var ss=(()=>((ss=ss||{})[ss.Important=1]="Important",ss[ss.DashCase=2]="DashCase",ss))();const L=new Map;let W=0;const In="__ngContext__";function wt(s,a){gr(a)?(s[In]=a[20],function me(s){L.set(s[20],s)}(a)):s[In]=a}function hc(s,a){return undefined(s,a)}function _u(s){const a=s[3];return ri(a)?a[3]:a}function fc(s){return va(s[13])}function am(s){return va(s[4])}function va(s){for(;null!==s&&!ri(s);)s=s[4];return s}function pc(s,a,l,d,f){if(null!=d){let m,v=!1;ri(d)?m=d:gr(d)&&(v=!0,d=d[0]);const C=Wn(d);0===s&&null!==l?null==f?bu(a,l,C):Vo(a,l,C,f||null,!0):1===s&&null!==l?Vo(a,l,C,f||null,!0):2===s?function Yf(s,a,l){const d=Kd(s,a);d&&function qf(s,a,l,d){s.removeChild(a,l,d)}(s,d,a,l)}(a,C,v):3===s&&a.destroyNode(C),null!=m&&function Jf(s,a,l,d,f){const m=l[7];m!==Wn(l)&&pc(a,s,d,m,f);for(let C=10;C<l.length;C++){const S=l[C];wu(S[1],S,s,a,d,m)}}(a,s,m,l,f)}}function zf(s,a,l){return s.createElement(a,l)}function mc(s,a){const l=s[9],d=l.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,kr(f,-1)),l.splice(d,1)}function dl(s,a){if(s.length<=10)return;const l=10+a,d=s[l];if(d){const f=d[17];null!==f&&f!==s&&mc(f,d),a>0&&(s[l-1][4]=d[4]);const m=uu(s,10+a);!function ul(s,a){wu(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function hl(s,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&wu(s,a,l,3,null,null),function Ay(s){let a=s[13];if(!a)return qd(s[1],s);for(;a;){let l=null;if(gr(a))l=a[13];else{const d=a[10];d&&(l=d)}if(!l){for(;a&&!a[4]&&a!==s;)gr(a)&&qd(a[1],a),a=a[3];null===a&&(a=s),gr(a)&&qd(a[1],a),l=a&&a[4]}a=l}}(a)}}function qd(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Wd(s,a){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const f=a[l[d]];if(!(f instanceof Za)){const m=l[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=f[m[v]],S=m[v+1];try{S.call(C)}finally{}}else try{m.call(f)}finally{}}}}(s,a),function Gf(s,a){const l=s.cleanup,d=a[7];let f=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],C="function"==typeof v?v(a):Wn(a[v]),S=d[f=l[m+2]],x=l[m+3];"boolean"==typeof x?C.removeEventListener(l[m],S,x):x>=0?d[f=x]():d[f=-x].unsubscribe(),m+=2}else{const v=d[f=l[m+1]];l[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&ri(a[3])){l!==a[3]&&mc(l,a);const d=a[19];null!==d&&d.detachView(s)}!function Ke(s){L.delete(s[20])}(a)}}function fl(s,a,l){return function lm(s,a,l){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return l[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===St.None||f===St.Emulated)return null}return ii(d,l)}(s,a.parent,l)}function Vo(s,a,l,d,f){s.insertBefore(a,l,d,f)}function bu(s,a,l){s.appendChild(a,l)}function cm(s,a,l,d,f){null!==d?Vo(s,a,l,d,f):bu(s,a,l)}function Kd(s,a){return s.parentNode(a)}function um(s,a,l){return Kf(s,a,l)}let _c,fo,Kf=function Zd(s,a,l){return 40&s.type?ii(s,l):null};function ho(s,a,l,d){const f=fl(s,d,a),m=a[11],C=um(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(l))for(let S=0;S<l.length;S++)cm(m,f,l[S],C,!1);else cm(m,f,l,C,!1)}function qs(s,a){if(null!==a){const l=a.type;if(3&l)return ii(a,s);if(4&l)return Qd(-1,s[a.index]);if(8&l){const d=a.child;if(null!==d)return qs(s,d);{const f=s[a.index];return ri(f)?Qd(-1,f):Wn(f)}}if(32&l)return hc(a,s)()||Wn(s[a.index]);{const d=Zf(s,a);return null!==d?Array.isArray(d)?d[0]:qs(_u(s[16]),d):qs(s,a.next)}}return null}function Zf(s,a){return null!==a?s[16][6].projection[a.projection]:null}function Qd(s,a){const l=10+s+1;if(l<a.length){const d=a[l],f=d[1].firstChild;if(null!==f)return qs(d,f)}return a[7]}function Qf(s,a,l,d,f,m,v){for(;null!=l;){const C=d[l.index],S=l.type;if(v&&0===a&&(C&&wt(Wn(C),d),l.flags|=4),64!=(64&l.flags))if(8&S)Qf(s,a,l.child,d,f,m,!1),pc(a,s,f,C,m);else if(32&S){const x=hc(l,d);let P;for(;P=x();)pc(a,s,f,P,m);pc(a,s,f,C,m)}else 16&S?Xf(s,a,d,l,f,m):pc(a,s,f,C,m);l=v?l.projectionNext:l.next}}function wu(s,a,l,d,f,m){Qf(l,d,s.firstChild,a,f,m,!1)}function Xf(s,a,l,d,f,m){const v=l[16],S=v[6].projection[d.projection];if(Array.isArray(S))for(let x=0;x<S.length;x++)pc(a,s,f,S[x],m);else Qf(s,a,S,v[3],f,m,!0)}function tp(s,a,l){s.setAttribute(a,"style",l)}function np(s,a,l){""===l?s.removeAttribute(a,"class"):s.setAttribute(a,"class",l)}function Cr(s){return function Xd(){if(void 0===_c&&(_c=null,En.trustedTypes))try{_c=En.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return _c}()?.createHTML(s)||s}function hm(s){fo=s}class ba{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class rh extends ba{getTypeName(){return"HTML"}}class yi extends ba{getTypeName(){return"Style"}}class Cu extends ba{getTypeName(){return"Script"}}class Du extends ba{getTypeName(){return"URL"}}class Ry extends ba{getTypeName(){return"ResourceURL"}}function ar(s){return s instanceof ba?s.changingThisBreaksApplicationSecurity:s}function po(s,a){const l=function pm(s){return s instanceof ba&&s.getTypeName()||null}(s);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}function ih(s){return new rh(s)}function gm(s){return new yi(s)}function sh(s){return new Cu(s)}function mm(s){return new Du(s)}function _m(s){return new Ry(s)}class Iu{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(Cr(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch{return null}}}class y{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(a){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Cr(a),l;const d=this.inertDocument.createElement("body");return d.innerHTML=Cr(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const l=a.attributes;for(let f=l.length-1;0<f;f--){const v=l.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function w(s){return(s=String(s)).match(g)?s:"unsafe:"+s}function T(s){const a={};for(const l of s.split(","))a[l]=!0;return a}function k(...s){const a={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(a[d]=!0);return a}const z=T("area,br,col,hr,img,wbr"),se=T("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ne=T("rp,rt"),Fn=k(z,k(se,T("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),k(Ne,T("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),k(Ne,se)),as=T("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Tu=k(as,T("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),T("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vc=T("script,style,template");class vm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!Fn.hasOwnProperty(l))return this.sanitizedSomething=!0,!vc.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=a.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,C=v.toLowerCase();if(!Tu.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let S=m.value;as[C]&&(S=w(S)),this.buf.push(" ",v,'="',bc(S),'"')}return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();Fn.hasOwnProperty(l)&&!z.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(bc(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const rp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ip=/([^\#-~ |!])/g;function bc(s){return s.replace(/&/g,"&amp;").replace(rp,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(ip,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wc;function sp(s,a){let l=null;try{wc=wc||function ym(s){const a=new y(s);return function p(){try{return!!(new window.DOMParser).parseFromString(Cr(""),"text/html")}catch{return!1}}()?new Iu(a):a}(s);let d=a?String(a):"";l=wc.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=l.innerHTML,l=wc.getInertBodyElement(d)}while(d!==m);return Cr((new vm).sanitizeChildren(wa(l)||l))}finally{if(l){const d=wa(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function wa(s){return"content"in s&&function gl(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var lr=(()=>((lr=lr||{})[lr.NONE=0]="NONE",lr[lr.HTML=1]="HTML",lr[lr.STYLE=2]="STYLE",lr[lr.SCRIPT=3]="SCRIPT",lr[lr.URL=4]="URL",lr[lr.RESOURCE_URL=5]="RESOURCE_URL",lr))();function Au(s){const a=function xu(){const s=Re();return s&&s[12]}();return a?a.sanitize(lr.URL,s)||"":po(s,"URL")?ar(s):w(Ee(s))}const oh=new vn("ENVIRONMENT_INITIALIZER"),Mu=new vn("INJECTOR",-1),k0=new vn("INJECTOR_DEF_TYPES");class P0{get(a,l=ut){if(l===ut){const d=new Error(`NullInjectorError: No provider for ${be(a)}!`);throw d.name="NullInjectorError",d}return l}}function ZI(...s){return{\u0275providers:O0(0,s)}}function O0(s,...a){const l=[],d=new Set;let f;return ts(a,m=>{const v=m;ky(v,l,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&N0(f,l),l}function N0(s,a){for(let l=0;l<s.length;l++){const{providers:f}=s[l];ts(f,m=>{a.push(m)})}}function ky(s,a,l,d){if(!(s=X(s)))return!1;let f=null,m=Sr(s);const v=!m&&pe(s);if(m||v){if(v&&!v.standalone)return!1;f=s}else{const S=s.ngModule;if(m=Sr(S),!m)return!1;f=S}const C=d.has(f);if(v){if(C)return!1;if(d.add(f),v.dependencies){const S="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const x of S)ky(x,a,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let x;d.add(f);try{ts(m.imports,P=>{ky(P,a,l,d)&&(x||(x=[]),x.push(P))})}finally{}void 0!==x&&N0(x,a)}if(!C){const x=Os(f)||(()=>new f);a.push({provide:f,useFactory:x,deps:kt},{provide:k0,useValue:f,multi:!0},{provide:oh,useValue:()=>Zn(f),multi:!0})}const S=m.providers;null==S||C||ts(S,P=>{a.push(P)})}}return f!==s&&void 0!==s.providers}const YI=oe({provide:String,useValue:oe});function Py(s){return null!==s&&"object"==typeof s&&YI in s}function ml(s){return"function"==typeof s}const ap=new vn("Set Injector scope."),Ru={},QI={};let Ny;function bm(){return void 0===Ny&&(Ny=new P0),Ny}class ku{}class lp extends ku{constructor(a,l,d,f){super(),this.parent=l,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fy(a,v=>this.processProvider(v)),this.records.set(Mu,Pu(void 0,this)),f.has("environment")&&this.records.set(ku,Pu(void 0,this));const m=this.records.get(ap);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(k0.multi,kt,yt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=Wr(this),d=ti(void 0);try{return a()}finally{Wr(l),ti(d)}}get(a,l=ut,d=yt.Default){this.assertNotDestroyed();const f=Wr(this),m=ti(void 0);try{if(!(d&yt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const S=function XI(s){return"function"==typeof s||"object"==typeof s&&s instanceof vn}(a)&&rn(a);C=S&&this.injectableDefInScope(S)?Pu(wm(a),Ru):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&yt.Self?bm():this.parent).get(a,l=d&yt.Optional&&l===ut?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[qr]=v[qr]||[]).unshift(be(a)),f)throw v;return function oc(s,a,l,d){const f=s[qr];throw a[ol]&&f.unshift(a[ol]),s.message=function Nn(s,a,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=be(a);if(Array.isArray(a))f=a.map(be).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let C=a[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):be(C)))}f=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${s.replace(wr,"\n  ")}`}("\n"+s.message,f,l,d),s.ngTokenPath=f,s[qr]=null,s}(v,a,"R3InjectorError",this.source)}throw v}finally{ti(m),Wr(f)}}resolveInjectorInitializers(){const a=Wr(this),l=ti(void 0);try{const d=this.get(oh.multi,kt,yt.Self);for(const f of d)f()}finally{Wr(a),ti(l)}}toString(){const a=[],l=this.records;for(const d of l.keys())a.push(be(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(a){let l=ml(a=X(a))?a:X(a&&a.provide);const d=function Em(s){return Py(s)?Pu(void 0,s.useValue):Pu(cp(s),Ru)}(a);if(ml(a)||!0!==a.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Pu(void 0,Ru,!0),f.factory=()=>Bd(f.multi),this.records.set(l,f)),l=a,f.multi.push(a)}this.records.set(l,d)}hydrate(a,l){return l.value===Ru&&(l.value=QI,l.value=l.factory()),"object"==typeof l.value&&l.value&&function B0(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=X(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function wm(s){const a=rn(s),l=null!==a?a.factory:Os(s);if(null!==l)return l;if(s instanceof vn)throw new Ae(204,!1);if(s instanceof Function)return function V0(s){const a=s.length;if(a>0)throw da(a,"?"),new Ae(204,!1);const l=function jr(s){const a=s&&(s[ps]||s[Ba]);if(a){const l=function li(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ae(204,!1)}function cp(s,a,l){let d;if(ml(s)){const f=X(s);return Os(f)||wm(f)}if(Py(s))d=()=>X(s.useValue);else if(function F0(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Bd(s.deps||[]));else if(function Oy(s){return!(!s||!s.useExisting)}(s))d=()=>Zn(X(s.useExisting));else{const f=X(s&&(s.useClass||s.provide));if(!function up(s){return!!s.deps}(s))return Os(f)||wm(f);d=()=>new f(...Bd(s.deps))}return d}function Pu(s,a,l=!1){return{factory:s,value:a,multi:l?[]:void 0}}function JI(s){return!!s.\u0275providers}function Fy(s,a){for(const l of s)Array.isArray(l)?Fy(l,a):JI(l)?Fy(l.\u0275providers,a):a(l)}class U0{}class tS{resolveComponentFactory(a){throw function Cm(s){const a=Error(`No component factory found for ${be(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let dp=(()=>{class s{}return s.NULL=new tS,s})();function nS(){return ah(Un(),Re())}function ah(s,a){return new hp(ii(s,a))}let hp=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=nS,s})();function j0(s){return s instanceof hp?s.nativeElement:s}class Ly{}let z0=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function $0(){const s=Re(),l=Kn(Un().index,s);return(gr(l)?l:s)[11]}(),s})(),G0=(()=>{class s{}return s.\u0275prov=Ge({token:s,providedIn:"root",factory:()=>null}),s})();class Vy{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const q0=new Vy("14.3.0"),By={};function Hy(s){return s.ngOriginalError}class fp{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&Hy(a);for(;l&&Hy(l);)l=Hy(l);return l||null}}function _l(s){return s instanceof Function?s():s}function pp(s,a,l){let d=s.length;for(;;){const f=s.indexOf(a,l);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const m=a.length;if(f+m===d||s.charCodeAt(f+m)<=32)return f}l=f+1}}const ew="ng-template";function oS(s,a,l){let d=0;for(;d<s.length;){let f=s[d++];if(l&&"class"===f){if(f=s[d],-1!==pp(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function tw(s){return 4===s.type&&s.value!==ew}function aS(s,a,l){return a===(4!==s.type||l?s.value:ew)}function nw(s,a,l){let d=4;const f=s.attrs||[],m=function Gy(s){for(let a=0;a<s.length;a++)if(Gl(s[a]))return a;return s.length}(f);let v=!1;for(let C=0;C<a.length;C++){const S=a[C];if("number"!=typeof S){if(!v)if(4&d){if(d=2|1&d,""!==S&&!aS(s,S,l)||""===S&&1===a.length){if(kn(d))return!1;v=!0}}else{const x=8&d?S:a[++C];if(8&d&&null!==s.attrs){if(!oS(s.attrs,x,l)){if(kn(d))return!1;v=!0}continue}const V=lS(8&d?"class":S,f,tw(s),l);if(-1===V){if(kn(d))return!1;v=!0;continue}if(""!==x){let Y;Y=V>m?"":f[V+1].toLowerCase();const ce=8&d?Y:null;if(ce&&-1!==pp(ce,x,0)||2&d&&x!==Y){if(kn(d))return!1;v=!0}}}}else{if(!v&&!kn(d)&&!kn(S))return!1;if(v&&kn(S))continue;v=!1,d=S|1&d}}return kn(d)||v}function kn(s){return 0==(1&s)}function lS(s,a,l,d){if(null===a)return-1;let f=0;if(d||!l){let m=!1;for(;f<a.length;){const v=a[f];if(v===s)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function cS(s,a){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===a)return l;l++}return-1}(a,s)}function zy(s,a,l=!1){for(let d=0;d<a.length;d++)if(nw(s,a[d],l))return!0;return!1}function uS(s,a){e:for(let l=0;l<a.length;l++){const d=a[l];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function qy(s,a){return s?":not("+a.trim()+")":a}function EP(s){let a=s[0],l=1,d=2,f="",m=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const C=s[++l];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!kn(v)&&(a+=qy(m,f),f=""),d=v,m=m||!kn(d);l++}return""!==f&&(a+=qy(m,f)),a}const Gt={};function Wy(s){gp(Yt(),Re(),dn()+s,!1)}function gp(s,a,l,d){if(!d)if(3==(3&a[2])){const m=s.preOrderCheckHooks;null!==m&&Wa(a,m,l)}else{const m=s.preOrderHooks;null!==m&&sa(a,m,0,l)}Ls(l)}function sw(s,a=null,l=null,d){const f=ow(s,a,l,d);return f.resolveInjectorInitializers(),f}function ow(s,a=null,l=null,d,f=new Set){const m=[l||kt,ZI(s)];return d=d||("object"==typeof s?void 0:be(s)),new lp(m,a||bm(),d||null,f)}let Ec=(()=>{class s{static create(l,d){if(Array.isArray(l))return sw({name:""},d,l,"");{const f=l.name??"";return sw({name:f},l.parent,l.providers,f)}}}return s.THROW_IF_NOT_FOUND=ut,s.NULL=new P0,s.\u0275prov=Ge({token:s,providedIn:"any",factory:()=>Zn(Mu)}),s.__NG_ELEMENT_ID__=-1,s})();function fh(s,a=yt.Default){const l=Re();return null===l?Zn(s,a):la(Un(),l,X(s),a)}function vi(){throw new Error("invalid")}function _p(s,a){return s<<17|a<<2}function go(s){return s>>17&32767}function Am(s){return 2|s}function Ca(s){return(131068&s)>>2}function xm(s,a){return-131069&s|a<<2}function Mm(s){return 1|s}function Cp(s,a){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d],m=l[d+1];if(-1!==m){const v=s.data[m];Gr(f),v.contentQueries(2,a[m],m)}}}function gh(s,a,l,d,f,m,v,C,S,x,P){const V=a.blueprint.slice();return V[0]=f,V[2]=76|d,(null!==P||s&&1024&s[2])&&(V[2]|=1024),oo(V),V[3]=V[15]=s,V[8]=l,V[10]=v||s&&s[10],V[11]=C||s&&s[11],V[12]=S||s&&s[12]||null,V[9]=x||s&&s[9]||null,V[6]=m,V[20]=function ne(){return W++}(),V[21]=P,V[16]=2==a.type?s[16]:V,V}function Vu(s,a,l,d,f){let m=s.data[a];if(null===m)m=function Ip(s,a,l,d,f){const m=Vl(),v=na(),S=s.data[a]=function Fm(s,a,l,d,f,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,a,d,f);return null===s.firstChild&&(s.firstChild=S),null!==m&&(v?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S)),S}(s,a,l,d,f),function Ad(){return Ot.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=f;const v=function Co(){const s=Ot.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return fi(m,!0),m}function Bu(s,a,l,d){if(0===l)return-1;const f=a.length;for(let m=0;m<l;m++)a.push(d),s.blueprint.push(d),s.data.push(null);return f}function mh(s,a,l){Ga(a);try{const d=s.viewQuery;null!==d&&Op(1,d,l);const f=s.template;null!==f&&ov(s,a,f,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Cp(s,a),s.staticViewQueries&&Op(2,s.viewQuery,l);const m=s.components;null!==m&&function Dp(s,a){for(let l=0;l<a.length;l++)BP(s,a[l])}(a,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[2]&=-5,ia()}}function Sp(s,a,l,d){const f=a[2];if(128!=(128&f)){Ga(a);try{oo(a),function Ji(s){return Ot.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&ov(s,a,l,2,d);const v=3==(3&f);if(v){const x=s.preOrderCheckHooks;null!==x&&Wa(a,x,null)}else{const x=s.preOrderHooks;null!==x&&sa(a,x,0,null),kd(a,0)}if(function LP(s){for(let a=fc(s);null!==a;a=am(a)){if(!a[2])continue;const l=a[9];for(let d=0;d<l.length;d++){const f=l[d],m=f[3];0==(512&f[2])&&kr(m,1),f[2]|=512}}}(a),function Lw(s){for(let a=fc(s);null!==a;a=am(a))for(let l=10;l<a.length;l++){const d=a[l],f=d[1];Eo(d)&&Sp(f,d,f.template,d[8])}}(a),null!==s.contentQueries&&Cp(s,a),v){const x=s.contentCheckHooks;null!==x&&Wa(a,x)}else{const x=s.contentHooks;null!==x&&sa(a,x,1),kd(a,1)}!function Ep(s,a){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)Ls(~f);else{const m=f,v=l[++d],C=l[++d];Xg(v,m),C(2,a[m])}}}finally{Ls(-1)}}(s,a);const C=s.components;null!==C&&function ph(s,a){for(let l=0;l<a.length;l++)VP(s,a[l])}(a,C);const S=s.viewQuery;if(null!==S&&Op(2,S,d),v){const x=s.viewCheckHooks;null!==x&&Wa(a,x)}else{const x=s.viewHooks;null!==x&&sa(a,x,2),kd(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,kr(a[3],-1))}finally{ia()}}}function ov(s,a,l,d,f){const m=dn(),v=2&d;try{Ls(-1),v&&a.length>22&&gp(s,a,22,!1),l(d,f)}finally{Ls(m)}}function Tp(s,a,l){if(so(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function Uu(s,a,l){!Td()||(function Pw(s,a,l,d){const f=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||aa(l,a),wt(d,a);const v=l.initialInputs;for(let C=f;C<m;C++){const S=s.data[C],x=Zi(S);x&&Mp(a,l,S);const P=el(a,s,C,l);wt(P,a),null!==v&&Nw(0,C-f,P,S,0,v),x&&(Kn(l.index,a)[8]=P)}}(s,a,l,ii(l,a)),128==(128&l.flags)&&function FP(s,a,l){const d=l.directiveStart,f=l.directiveEnd,m=l.index,v=function ra(){return Ot.lFrame.currentDirectiveIndex}();try{Ls(m);for(let C=d;C<f;C++){const S=s.data[C],x=a[C];Yc(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Bm(S,x)}}finally{Ls(-1),Yc(v)}}(s,a,l))}function Aw(s,a,l=ii){const d=a.localNames;if(null!==d){let f=a.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],C=-1===v?l(a,s):s[v];s[f++]=C}}}function IS(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Nm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Nm(s,a,l,d,f,m,v,C,S,x){const P=22+d,V=P+f,Y=function OP(s,a){const l=[];for(let d=0;d<a;d++)l.push(d<s?null:Gt);return l}(P,V),ce="function"==typeof x?x():x;return Y[1]={type:s,blueprint:Y,template:l,queries:null,viewQuery:C,declTNode:a,data:Y.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:S,consts:ce,incompleteFirstPass:!1}}function xp(s,a,l,d){const f=hv(a);null===l?f.push(d):(f.push(l),s.firstCreatePass&&Bw(s).push(d,f.length-1))}function xw(s,a,l){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(a,f):l[d]=[a,f]}return l}function Lm(s,a){const d=a.directiveEnd,f=s.data,m=a.attrs,v=[];let C=null,S=null;for(let x=a.directiveStart;x<d;x++){const P=f[x],V=P.inputs,Y=null===m||tw(a)?null:Rp(V,m);v.push(Y),C=xw(V,x,C),S=xw(P.outputs,x,S)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=C,a.outputs=S}function Ks(s,a,l,d,f,m,v,C){const S=ii(a,l);let P,x=a.inputs;!C&&null!=x&&(P=x[d])?(pv(s,l,P,d,f),Jo(a)&&Mw(l,a.index)):3&a.type&&(d=function Vm(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=v?v(f,a.value||"",d):f,m.setProperty(S,d,f))}function Mw(s,a){const l=Kn(a,s);16&l[2]||(l[2]|=32)}function lv(s,a,l,d){let f=!1;if(Td()){const m=function AS(s,a,l){const d=s.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];zy(l,v.selectors,!1)&&(f||(f=[]),Ja(aa(l,a),s,v.type),Zi(v)?(cv(s,l),f.unshift(v)):f.push(v))}return f}(s,a,l),v=null===d?null:{"":-1};if(null!==m){f=!0,MS(l,s.data.length,m.length);for(let P=0;P<m.length;P++){const V=m[P];V.providersResolver&&V.providersResolver(V)}let C=!1,S=!1,x=Bu(s,a,m.length,null);for(let P=0;P<m.length;P++){const V=m[P];l.mergedAttrs=oa(l.mergedAttrs,V.hostAttrs),Ow(s,l,a,x,V),xS(x,V,v),null!==V.contentQueries&&(l.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(l.flags|=128);const Y=V.type.prototype;!C&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),C=!0),!S&&(Y.ngOnChanges||Y.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),S=!0),x++}Lm(s,l)}v&&function uv(s,a,l){if(a){const d=s.localNames=[];for(let f=0;f<a.length;f+=2){const m=l[a[f+1]];if(null==m)throw new Ae(-301,!1);d.push(a[f],m)}}}(l,d,v)}return l.mergedAttrs=oa(l.mergedAttrs,l.attrs),f}function SS(s,a,l,d,f,m){const v=m.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const S=~a.index;(function TS(s){let a=s.length;for(;a>0;){const l=s[--a];if("number"==typeof l&&l<0)return l}return 0})(C)!=S&&C.push(S),C.push(d,f,v)}}function Bm(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function cv(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function xS(s,a,l){if(l){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)l[a.exportAs[d]]=s;Zi(a)&&(l[""]=s)}}function MS(s,a,l){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+l,s.providerIndexes=a}function Ow(s,a,l,d,f){s.data[d]=f;const m=f.factory||(f.factory=Os(f.type)),v=new Za(m,Zi(f),fh);s.blueprint[d]=v,l[d]=v,SS(s,a,0,d,Bu(s,l,f.hostVars,Gt),f)}function Mp(s,a,l){const d=ii(a,s),f=IS(l),m=s[10],v=kp(s,gh(s,f,null,l.onPush?32:16,d,a,m,m.createRenderer(d,l),null,null,null));s[a.index]=v}function Zs(s,a,l,d,f,m){const v=ii(s,a);!function Um(s,a,l,d,f,m,v){if(null==m)s.removeAttribute(a,f,l);else{const C=null==v?Ee(m):v(m,d||"",f);s.setAttribute(a,f,C,l)}}(a[11],v,m,s.value,l,d,f)}function Nw(s,a,l,d,f,m){const v=m[a];if(null!==v){const C=d.setInput;for(let S=0;S<v.length;){const x=v[S++],P=v[S++],V=v[S++];null!==C?d.setInput(l,V,x,P):l[P]=V}}}function Rp(s,a){let l=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,s[f],a[d+1])),d+=2}else d+=2;else d+=4}return l}function Fw(s,a,l,d){return new Array(s,!0,!1,a,null,0,d,l,null,null)}function VP(s,a){const l=Kn(a,s);if(Eo(l)){const d=l[1];48&l[2]?Sp(d,l,d.template,l[8]):l[5]>0&&Vw(l)}}function Vw(s){for(let d=fc(s);null!==d;d=am(d))for(let f=10;f<d.length;f++){const m=d[f];if(Eo(m))if(512&m[2]){const v=m[1];Sp(v,m,v.template,m[8])}else m[5]>0&&Vw(m)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const f=Kn(l[d],s);Eo(f)&&f[5]>0&&Vw(f)}}function BP(s,a){const l=Kn(a,s),d=l[1];(function RS(s,a){for(let l=a.length;l<s.blueprint.length;l++)a.push(s.blueprint[l])})(d,l),mh(d,l,l[8])}function kp(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function dv(s){for(;s;){s[2]|=32;const a=_u(s);if(ea(s)&&!a)return s;s=a}return null}function Pp(s,a,l,d=!0){const f=a[10];f.begin&&f.begin();try{Sp(s,a,s.template,l)}catch(v){throw d&&fv(a,v),v}finally{f.end&&f.end()}}function Op(s,a,l){Gr(0),a(s,l)}function hv(s){return s[7]||(s[7]=[])}function Bw(s){return s.cleanup||(s.cleanup=[])}function PS(s,a,l){return(null===s||Zi(s))&&(l=function Ns(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[a.index])),l[11]}function fv(s,a){const l=s[9],d=l?l.get(fp,null):null;d&&d.handleError(a)}function pv(s,a,l,d,f){for(let m=0;m<l.length;){const v=l[m++],C=l[m++],S=a[v],x=s.data[v];null!==x.setInput?x.setInput(S,f,d,C):S[C]=f}}function Hm(s,a,l){let d=l?s.styles:null,f=l?s.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const C=a[v];"number"==typeof C?m=C:1==m?f=ge(f,C):2==m&&(d=ge(d,C+": "+a[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=f:s.classesWithoutHost=f}function Np(s,a,l,d,f=!1){for(;null!==l;){const m=a[l.index];if(null!==m&&d.push(Wn(m)),ri(m))for(let C=10;C<m.length;C++){const S=m[C],x=S[1].firstChild;null!==x&&Np(S[1],S,x,d)}const v=l.type;if(8&v)Np(s,a,l.child,d);else if(32&v){const C=hc(l,a);let S;for(;S=C();)d.push(S)}else if(16&v){const C=Zf(a,l);if(Array.isArray(C))d.push(...C);else{const S=_u(a[16]);Np(S[1],S,C,d,!0)}}l=f?l.projectionNext:l.next}return d}class Hu{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return Np(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(ri(a)){const l=a[8],d=l?l.indexOf(this):-1;d>-1&&(dl(a,d),uu(l,d))}this._attachedToViewContainer=!1}hl(this._lView[1],this._lView)}onDestroy(a){xp(this._lView[1],this._lView,null,a)}markForCheck(){dv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Pp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function M0(s,a){wu(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=a}}class OS extends Hu{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Pp(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class jm extends dp{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=pe(a);return new ju(l,this.ngModule)}}function Uw(s){const a=[];for(let l in s)s.hasOwnProperty(l)&&a.push({propName:s[l],templateName:l});return a}class NS{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,d){const f=this.injector.get(a,By,d);return f!==By||l===By?f:this.parentInjector.get(a,l,d)}}class ju extends U0{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function CP(s){return s.map(EP).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Uw(this.componentDef.inputs)}get outputs(){return Uw(this.componentDef.outputs)}create(a,l,d,f){let m=(f=f||this.ngModule)instanceof ku?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new NS(a,m):a,C=v.get(Ly,null);if(null===C)throw new Ae(407,!1);const S=v.get(G0,null),x=C.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",V=d?function Ap(s,a,l){return s.selectRootElement(a,l===St.ShadowDom)}(x,d,this.componentDef.encapsulation):zf(x,P,function _h(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(P)),Y=this.componentDef.onPush?288:272,ce=Nm(0,null,null,1,0,null,null,null,null,null),Te=gh(null,ce,null,Y,null,null,C,x,S,v,null);let ze,Je;Ga(Te);try{const bt=function zm(s,a,l,d,f,m){const v=l[1];l[22]=s;const S=Vu(v,22,2,"#host",null),x=S.mergedAttrs=a.hostAttrs;null!==x&&(Hm(S,x,!0),null!==s&&($l(f,s,x),null!==S.classes&&np(f,s,S.classes),null!==S.styles&&tp(f,s,S.styles)));const P=d.createRenderer(s,a),V=gh(l,IS(a),null,a.onPush?32:16,l[22],S,d,P,m||null,null,null);return v.firstCreatePass&&(Ja(aa(S,l),v,a.type),cv(v,S),MS(S,l.length,1)),kp(l,V),l[22]=V}(V,this.componentDef,Te,C,x);if(V)if(d)$l(x,V,["ng-version",q0.full]);else{const{attrs:Tt,classes:Oe}=function dS(s){const a=[],l=[];let d=1,f=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===f?""!==m&&a.push(m,s[++d]):8===f&&l.push(m);else{if(!kn(f))break;f=m}d++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);Tt&&$l(x,V,Tt),Oe&&Oe.length>0&&np(x,V,Oe.join(" "))}if(Je=Nl(ce,22),void 0!==l){const Tt=Je.projection=[];for(let Oe=0;Oe<this.ngContentSelectors.length;Oe++){const Ut=l[Oe];Tt.push(null!=Ut?Array.from(Ut):null)}}ze=function LS(s,a,l,d){const f=l[1],m=function kw(s,a,l){const d=Un();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Ow(s,d,a,Bu(s,a,1,null),l),Lm(s,d));const f=el(a,s,d.directiveStart,d);wt(f,a);const m=ii(d,a);return m&&wt(m,a),f}(f,l,a);if(s[8]=l[8]=m,null!==d)for(const C of d)C(m,a);if(a.contentQueries){const C=Un();a.contentQueries(1,m,C.directiveStart)}const v=Un();return!f.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Ls(v.index),SS(l[1],v,0,v.directiveStart,v.directiveEnd,a),Bm(a,m)),m}(bt,this.componentDef,Te,[zw]),mh(ce,Te,null)}finally{ia()}return new jw(this.componentType,ze,ah(Je,Te),Te,Je)}}class jw extends class eS{}{constructor(a,l,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new OS(f),this.componentType=a}setInput(a,l){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const m=this._rootLView;pv(m[1],m,f,a,l),Mw(m,this._tNode.index)}}get injector(){return new ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function zw(){const s=Un();So(Re()[1],s)}function Fp(s){let a=function $w(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;a;){let f;if(Zi(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ae(903,!1);f=a.\u0275dir}if(f){if(l){d.push(f);const v=s;v.inputs=gv(s.inputs),v.declaredInputs=gv(s.declaredInputs),v.outputs=gv(s.outputs);const C=f.hostBindings;C&&jP(s,C);const S=f.viewQuery,x=f.contentQueries;if(S&&Gw(s,S),x&&BS(s,x),ee(s.inputs,f.inputs),ee(s.declaredInputs,f.declaredInputs),ee(s.outputs,f.outputs),Zi(f)&&f.data.animation){const P=s.data;P.animation=(P.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(s),C===Fp&&(l=!1)}}a=Object.getPrototypeOf(a)}!function VS(s){let a=0,l=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=a+=f.hostVars,f.hostAttrs=oa(f.hostAttrs,l=oa(l,f.hostAttrs))}}(d)}function gv(s){return s===ir?{}:s===kt?[]:s}function Gw(s,a){const l=s.viewQuery;s.viewQuery=l?(d,f)=>{a(d,f),l(d,f)}:a}function BS(s,a){const l=s.contentQueries;s.contentQueries=l?(d,f,m)=>{a(d,f,m),l(d,f,m)}:a}function jP(s,a){const l=s.hostBindings;s.hostBindings=l?(d,f)=>{a(d,f),l(d,f)}:a}let Lp=null;function Ys(){if(!Lp){const s=En.Symbol;if(s&&s.iterator)Lp=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const d=a[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Lp=d)}}}return Lp}function yh(s){return!!_v(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ys()in s)}function _v(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Qs(s,a,l){return s[a]=l}function Fi(s,a,l){return!Object.is(s[a],l)&&(s[a]=l,!0)}function yv(s,a,l,d){const f=Re();return Fi(f,Fs(),a)&&(Yt(),Zs(Mn(),f,s,a,l,d)),yv}function bh(s,a,l,d){return Fi(s,Fs(),l)?a+Ee(l)+d:Gt}function Zw(s,a,l,d,f,m,v,C){const S=Re(),x=Yt(),P=s+22,V=x.firstCreatePass?function wh(s,a,l,d,f,m,v,C,S){const x=a.consts,P=Vu(a,s,4,v||null,hi(x,C));lv(a,l,P,hi(x,S)),So(a,P);const V=P.tViews=Nm(2,P,d,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,x);return null!==a.queries&&(a.queries.template(a,P),V.queries=a.queries.embeddedTView(P)),P}(P,x,S,a,l,d,f,m,v):x.data[P];fi(V,!1);const Y=S[11].createComment("");ho(x,S,Y,V),wt(Y,S),kp(S,S[P]=Fw(Y,S,Y,V)),Ps(V)&&Uu(x,S,V),null!=v&&Aw(S,V,C)}function Dr(s){return ta(function Hn(){return Ot.lFrame.contextLView}(),22+s)}function nr(s,a,l){const d=Re();return Fi(d,Fs(),a)&&Ks(Yt(),Mn(),d,s,a,d[11],l,!1),nr}function Yw(s,a,l,d,f){const v=f?"class":"style";pv(s,l,a.inputs[v],v,d)}function Gm(s,a,l,d){const f=Re(),m=Yt(),v=22+s,C=f[11],S=f[v]=zf(C,a,function Hl(){return Ot.lFrame.currentNamespace}()),x=m.firstCreatePass?function KS(s,a,l,d,f,m,v){const C=a.consts,x=Vu(a,s,2,f,hi(C,m));return lv(a,l,x,hi(C,v)),null!==x.attrs&&Hm(x,x.attrs,!1),null!==x.mergedAttrs&&Hm(x,x.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,x),x}(v,m,f,0,a,l,d):m.data[v];fi(x,!0);const P=x.mergedAttrs;null!==P&&$l(C,S,P);const V=x.classes;null!==V&&np(C,S,V);const Y=x.styles;return null!==Y&&tp(C,S,Y),64!=(64&x.flags)&&ho(m,f,S,x),0===function ja(){return Ot.lFrame.elementDepthCount}()&&wt(S,f),function Id(){Ot.lFrame.elementDepthCount++}(),Ps(x)&&(Uu(m,f,x),Tp(m,x,f)),null!==d&&Aw(f,x),Gm}function qm(){let s=Un();na()?Kc():(s=s.parent,fi(s,!1));const a=s;!function Sd(){Ot.lFrame.elementDepthCount--}();const l=Yt();return l.firstCreatePass&&(So(l,s),so(s)&&l.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Pd(s){return 0!=(16&s.flags)}(a)&&Yw(l,a,Re(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Ef(s){return 0!=(32&s.flags)}(a)&&Yw(l,a,Re(),a.stylesWithoutHost,!1),qm}function Ev(s,a,l,d){return Gm(s,a,l,d),qm(),Ev}function jp(s,a,l){const d=Re(),f=Yt(),m=s+22,v=f.firstCreatePass?function Wm(s,a,l,d,f){const m=a.consts,v=hi(m,d),C=Vu(a,s,8,"ng-container",v);return null!==v&&Hm(C,v,!0),lv(a,l,C,hi(m,f)),null!==a.queries&&a.queries.elementStart(a,C),C}(m,f,d,a,l):f.data[m];fi(v,!0);const C=d[m]=d[11].createComment("");return ho(f,d,C,v),wt(C,d),Ps(v)&&(Uu(f,d,v),Tp(f,v,d)),null!=l&&Aw(d,v),jp}function Km(){let s=Un();const a=Yt();return na()?Kc():(s=s.parent,fi(s,!1)),a.firstCreatePass&&(So(a,s),so(s)&&a.queries.elementEnd(s)),Km}function Xw(){return Re()}function Zm(s){return!!s&&"function"==typeof s.then}function Eh(s){return!!s&&"function"==typeof s.subscribe}const Jw=Eh;function Ym(s,a,l,d){const f=Re(),m=Yt(),v=Un();return ZS(m,f,f[11],v,s,a,0,d),Ym}function Cv(s,a){const l=Un(),d=Re(),f=Yt();return ZS(f,d,PS(za(f.data),l,d),l,s,a),Cv}function ZS(s,a,l,d,f,m,v,C){const S=Ps(d),P=s.firstCreatePass&&Bw(s),V=a[8],Y=hv(a);let ce=!0;if(3&d.type||C){const Je=ii(d,a),bt=C?C(Je):Je,Tt=Y.length,Oe=C?sn=>C(Wn(sn[d.index])):d.index;let Ut=null;if(!C&&S&&(Ut=function eE(s,a,l,d){const f=s.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===l&&f[m+1]===d){const C=a[7],S=f[m+2];return C.length>S?C[S]:null}"string"==typeof v&&(m+=2)}return null}(s,a,f,d.index)),null!==Ut)(Ut.__ngLastListenerFn__||Ut).__ngNextListenerFn__=m,Ut.__ngLastListenerFn__=m,ce=!1;else{m=Qm(d,a,V,m,!1);const sn=l.listen(bt,f,m);Y.push(m,sn),P&&P.push(f,Oe,Tt,Tt+1)}}else m=Qm(d,a,V,m,!1);const Te=d.outputs;let ze;if(ce&&null!==Te&&(ze=Te[f])){const Je=ze.length;if(Je)for(let bt=0;bt<Je;bt+=2){const Xn=a[ze[bt]][ze[bt+1]].subscribe(m),ka=Y.length;Y.push(m,Xn),P&&P.push(f,d.index,ka,-(ka+1))}}}function tE(s,a,l,d){try{return!1!==l(d)}catch(f){return fv(s,f),!1}}function Qm(s,a,l,d,f){return function m(v){if(v===Function)return d;dv(2&s.flags?Kn(s.index,a):a);let S=tE(a,0,d,v),x=m.__ngNextListenerFn__;for(;x;)S=tE(a,0,x,v)&&S,x=x.__ngNextListenerFn__;return f&&!1===S&&(v.preventDefault(),v.returnValue=!1),S}}function zp(s=1){return function Ul(s){return(Ot.lFrame.contextLView=function Jg(s,a){for(;s>0;)a=a[15],s--;return a}(s,Ot.lFrame.contextLView))[8]}(s)}function nE(s,a){let l=null;const d=function $y(s){const a=s.attrs;if(null!=a){const l=a.indexOf(5);if(0==(1&l))return a[l+1]}return null}(s);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===d?zy(s,m,!0):uS(d,m))return f}else l=f}return l}function rE(s){const a=Re()[16][6];if(!a.projection){const d=a.projection=da(s?s.length:1,null),f=d.slice();let m=a.child;for(;null!==m;){const v=s?nE(m,s):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function YS(s,a=0,l){const d=Re(),f=Yt(),m=Vu(f,22+s,16,null,l||null);null===m.projection&&(m.projection=a),Kc(),64!=(64&m.flags)&&function My(s,a,l){Xf(a[11],0,a,l,fl(s,l,a),um(l.parent||a[6],l,a))}(f,d,m)}function Xm(s,a,l,d,f){const m=Re(),v=bh(m,a,l,d);return v!==Gt&&Ks(Yt(),Mn(),m,s,v,m[11],f,!1),Xm}function Jm(s,a,l,d,f){const m=s[l+1],v=null===a;let C=d?go(m):Ca(m),S=!1;for(;0!==C&&(!1===S||v);){const P=s[C+1];Li(s[C],a)&&(S=!0,s[C+1]=d?Mm(P):Am(P)),C=d?go(P):Ca(P)}S&&(s[l+1]=d?Am(m):Mm(m))}function Li(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&il(s,a)>=0}function Js(s,a,l){return Vi(s,a,l,!1),Js}function Wp(s,a){return Vi(s,a,null,!0),Wp}function Vi(s,a,l,d){const f=Re(),m=Yt(),v=function gi(s){const a=Ot.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,l}(2);m.firstUpdatePass&&function rT(s,a,l,d){const f=s.data;if(null===f[l+1]){const m=f[dn()],v=function Ih(s,a){return a>=s.expandoStartIndex}(s,l);(function aT(s,a){return 0!=(s.flags&(a?16:32))})(m,d)&&null===a&&!v&&(a=!1),a=function qP(s,a,l,d){const f=za(s);let m=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(l=Kp(l=gE(null,s,a,l,d),a.attrs,d),m=null);else{const v=a.directiveStylingLast;if(-1===v||s[v]!==f)if(l=gE(f,s,a,l,d),null===m){let S=function WP(s,a,l){const d=l?a.classBindings:a.styleBindings;if(0!==Ca(d))return s[go(d)]}(s,a,d);void 0!==S&&Array.isArray(S)&&(S=gE(null,s,a,S[1],d),S=Kp(S,a.attrs,d),function KP(s,a,l,d){s[go(l?a.classBindings:a.styleBindings)]=d}(s,a,d,S))}else m=function ZP(s,a,l){let d;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)d=Kp(d,s[m].hostAttrs,l);return Kp(d,a.attrs,l)}(s,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),l}(f,m,a,d),function uE(s,a,l,d,f,m){let v=m?a.classBindings:a.styleBindings,C=go(v),S=Ca(v);s[d]=l;let P,x=!1;if(Array.isArray(l)){const V=l;P=V[1],(null===P||il(V,P)>0)&&(x=!0)}else P=l;if(f)if(0!==S){const Y=go(s[C+1]);s[d+1]=_p(Y,C),0!==Y&&(s[Y+1]=xm(s[Y+1],d)),s[C+1]=function hw(s,a){return 131071&s|a<<17}(s[C+1],d)}else s[d+1]=_p(C,0),0!==C&&(s[C+1]=xm(s[C+1],d)),C=d;else s[d+1]=_p(S,0),0===C?C=d:s[S+1]=xm(s[S+1],d),S=d;x&&(s[d+1]=Am(s[d+1])),Jm(s,P,d,!0),Jm(s,P,d,!1),function dE(s,a,l,d,f){const m=f?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof a&&il(m,a)>=0&&(l[d+1]=Mm(l[d+1]))}(a,P,s,d,m),v=_p(C,S),m?a.classBindings=v:a.styleBindings=v}(f,m,a,l,v,d)}}(m,s,v,d),a!==Gt&&Fi(f,v,a)&&function Zp(s,a,l,d,f,m,v,C){if(!(3&a.type))return;const S=s.data,x=S[C+1];Dv(function yp(s){return 1==(1&s)}(x)?oT(S,a,l,f,Ca(x),v):void 0)||(Dv(m)||function tv(s){return 2==(2&s)}(x)&&(m=oT(S,null,l,f,C,v)),function ep(s,a,l,d,f){if(a)f?s.addClass(l,d):s.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:ss.DashCase;null==f?s.removeStyle(l,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=ss.Important),s.setStyle(l,d,f,m))}}(d,v,xi(dn(),l),f,m))}(m,m.data[dn()],f,f[11],s,f[v+1]=function YP(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=be(ar(s)))),s}(a,l),d,v)}function gE(s,a,l,d,f){let m=null;const v=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<v&&(m=a[C],d=Kp(d,m.hostAttrs,f),m!==s);)C++;return null!==s&&(l.directiveStylingLast=C),d}function Kp(s,a,l){const d=l?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?f=v:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),mi(s,v,!!l||a[++m]))}return void 0===s?null:s}function oT(s,a,l,d,f,m){const v=null===a;let C;for(;f>0;){const S=s[f],x=Array.isArray(S),P=x?S[1]:S,V=null===P;let Y=l[f+1];Y===Gt&&(Y=V?kt:void 0);let ce=V?tc(Y,d):P===d?Y:void 0;if(x&&!Dv(ce)&&(ce=tc(S,d)),Dv(ce)&&(C=ce,v))return C;const Te=s[f+1];f=v?go(Te):Ca(Te)}if(null!==a){let S=m?a.residualClasses:a.residualStyles;null!=S&&(C=tc(S,d))}return C}function Dv(s){return void 0!==s}function lT(s,a=""){const l=Re(),d=Yt(),f=s+22,m=d.firstCreatePass?Vu(d,f,1,a,null):d.data[f],v=l[f]=function yu(s,a){return s.createText(a)}(l[11],a);ho(d,l,v,m),fi(m,!1)}function Yp(s){return Qp("",s,""),Yp}function Qp(s,a,l){const d=Re(),f=bh(d,s,a,l);return f!==Gt&&function Ia(s,a,l){const d=xi(a,s);!function Gd(s,a,l){s.setValue(a,l)}(s[11],d,l)}(d,dn(),f),Qp}function xv(s,a,l){const d=Re();return Fi(d,Fs(),a)&&Ks(Yt(),Mn(),d,s,a,d[11],l,!0),xv}function wE(s,a,l){const d=Re();if(Fi(d,Fs(),a)){const m=Yt(),v=Mn();Ks(m,v,d,s,a,PS(za(m.data),v,d),l,!0)}return wE}const Th=void 0;var wT=["en",[["a","p"],["AM","PM"],Th],[["AM","PM"],Th,Th],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Th,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Th,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Th,"{1} 'at' {0}",Th],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function EE(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Ah={};function Mv(s){const a=function SE(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=IE(a);if(l)return l;const d=a.split("-")[0];if(l=IE(d),l)return l;if("en"===d)return wT;throw new Ae(701,!1)}function DE(s){return Mv(s)[Ft.PluralCase]}function IE(s){return s in Ah||(Ah[s]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[s]),Ah[s]}var Ft=(()=>((Ft=Ft||{})[Ft.LocaleId=0]="LocaleId",Ft[Ft.DayPeriodsFormat=1]="DayPeriodsFormat",Ft[Ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ft[Ft.DaysFormat=3]="DaysFormat",Ft[Ft.DaysStandalone=4]="DaysStandalone",Ft[Ft.MonthsFormat=5]="MonthsFormat",Ft[Ft.MonthsStandalone=6]="MonthsStandalone",Ft[Ft.Eras=7]="Eras",Ft[Ft.FirstDayOfWeek=8]="FirstDayOfWeek",Ft[Ft.WeekendRange=9]="WeekendRange",Ft[Ft.DateFormat=10]="DateFormat",Ft[Ft.TimeFormat=11]="TimeFormat",Ft[Ft.DateTimeFormat=12]="DateTimeFormat",Ft[Ft.NumberSymbols=13]="NumberSymbols",Ft[Ft.NumberFormats=14]="NumberFormats",Ft[Ft.CurrencyCode=15]="CurrencyCode",Ft[Ft.CurrencySymbol=16]="CurrencySymbol",Ft[Ft.CurrencyName=17]="CurrencyName",Ft[Ft.Currencies=18]="Currencies",Ft[Ft.Directionality=19]="Directionality",Ft[Ft.PluralCase=20]="PluralCase",Ft[Ft.ExtraData=21]="ExtraData",Ft))();const Mh="en-US";let IT=Mh;function kE(s,a,l,d,f){if(s=X(s),Array.isArray(s))for(let m=0;m<s.length;m++)kE(s[m],a,l,d,f);else{const m=Yt(),v=Re();let C=ml(s)?s:X(s.provide),S=cp(s);const x=Un(),P=1048575&x.providerIndexes,V=x.directiveStart,Y=x.providerIndexes>>20;if(ml(s)||!s.multi){const ce=new Za(S,f,fh),Te=OE(C,a,f?P:P+Y,V);-1===Te?(Ja(aa(x,v),m,C),PE(m,s,a.length),a.push(C),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),l.push(ce),v.push(ce)):(l[Te]=ce,v[Te]=ce)}else{const ce=OE(C,a,P+Y,V),Te=OE(C,a,P,P+Y),ze=ce>=0&&l[ce],Je=Te>=0&&l[Te];if(f&&!Je||!f&&!ze){Ja(aa(x,v),m,C);const bt=function WO(s,a,l,d,f){const m=new Za(s,l,fh);return m.multi=[],m.index=a,m.componentProviders=0,QT(m,f,d&&!l),m}(f?qO:GO,l.length,f,d,S);!f&&Je&&(l[Te].providerFactory=bt),PE(m,s,a.length,0),a.push(C),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),l.push(bt),v.push(bt)}else PE(m,s,ce>-1?ce:Te,QT(l[f?Te:ce],S,!f&&d));!f&&d&&Je&&l[Te].componentProviders++}}}function PE(s,a,l,d){const f=ml(a),m=function L0(s){return!!s.useClass}(a);if(f||m){const S=(m?X(a.useClass):a).prototype.ngOnDestroy;if(S){const x=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const P=x.indexOf(l);-1===P?x.push(l,[d,S]):x[P+1].push(d,S)}else x.push(l,S)}}}function QT(s,a,l){return l&&s.componentProviders++,s.multi.push(a)-1}function OE(s,a,l,d){for(let f=l;f<d;f++)if(a[f]===s)return f;return-1}function GO(s,a,l,d){return NE(this.multi,[])}function qO(s,a,l,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=el(l,l[1],this.providerFactory.index,d);m=C.slice(0,v),NE(f,m);for(let S=v;S<C.length;S++)m.push(C[S])}else m=[],NE(f,m);return m}function NE(s,a){for(let l=0;l<s.length;l++)a.push((0,s[l])());return a}function XT(s,a=[]){return l=>{l.providersResolver=(d,f)=>function $O(s,a,l){const d=Yt();if(d.firstCreatePass){const f=Zi(s);kE(l,d.data,d.blueprint,f,!0),kE(a,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,a)}}class eg{}class JT{}function KO(s,a){return new eA(s,a??null)}class eA extends eg{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jm(this);const d=jt(a);this._bootstrapComponents=_l(d.bootstrap),this._r3Injector=ow(a,l,[{provide:eg,useValue:this},{provide:dp,useValue:this.componentFactoryResolver}],be(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class FE extends JT{constructor(a){super(),this.moduleType=a}create(a){return new eA(this.moduleType,a)}}class ZO extends eg{constructor(a,l,d){super(),this.componentFactoryResolver=new jm(this),this.instance=null;const f=new lp([...a,{provide:eg,useValue:this},{provide:dp,useValue:this.componentFactoryResolver}],l||bm(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function LE(s,a,l=null){return new ZO(s,a,l).injector}let YO=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=O0(0,l.type),f=d.length>0?LE([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Ge({token:s,providedIn:"environment",factory:()=>new s(Zn(ku))}),s})();function tA(s){s.getStandaloneInjector=a=>a.get(YO).getOrCreateStandaloneInjector(s)}function lA(s,a,l,d){return Nv(Re(),$r(),s,a,l,d)}function cA(s,a,l,d,f){return function fA(s,a,l,d,f,m,v){const C=a+l;return function Dc(s,a,l,d){const f=Fi(s,a,l);return Fi(s,a+1,d)||f}(s,C,f,m)?Qs(s,C+2,v?d.call(v,f,m):d(f,m)):u_(s,C+2)}(Re(),$r(),s,a,l,d,f)}function u_(s,a){const l=s[a];return l===Gt?void 0:l}function Nv(s,a,l,d,f,m){const v=a+l;return Fi(s,v,f)?Qs(s,v+1,m?d.call(m,f):d(f)):u_(s,v+1)}function gA(s,a){const l=Yt();let d;const f=s+22;l.firstCreatePass?(d=function l1(s,a){if(a)for(let l=a.length-1;l>=0;l--){const d=a[l];if(s===d.name)return d}}(a,l.pipeRegistry),l.data[f]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(f,d.onDestroy)):d=l.data[f];const m=d.factory||(d.factory=Os(d.type)),v=ti(fh);try{const C=Bs(!1),S=m();return Bs(C),function Hp(s,a,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),a[l]=d}(l,Re(),f,S),S}finally{ti(v)}}function mA(s,a,l){const d=s+22,f=Re(),m=ta(f,d);return function tg(s,a){return s[1].data[a].pure}(f,d)?Nv(f,$r(),a,m.transform,l,m):m.transform(l)}function Fv(s){return a=>{setTimeout(s,void 0,a)}}const xa=class _A extends u.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,d){let f=a,m=l||(()=>null),v=d;if(a&&"object"==typeof a){const S=a;f=S.next?.bind(S),m=S.error?.bind(S),v=S.complete?.bind(S)}this.__isAsync&&(m=Fv(m),f&&(f=Fv(f)),v&&(v=Fv(v)));const C=super.subscribe({next:f,error:m,complete:v});return a instanceof q.w0&&a.add(C),C}};function yA(){return this._results[Ys()]()}class Lv{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Ys(),d=Lv.prototype;d[l]||(d[l]=yA)}get changes(){return this._changes||(this._changes=new xa)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const d=this;d.dirty=!1;const f=Jn(a);(this._changesDetected=!function kf(s,a,l){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],m=a[d];if(l&&(f=l(f),m=l(m)),m!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ng=(()=>{class s{}return s.__NG_ELEMENT_ID__=vA,s})();const GE=ng,qE=class extends GE{constructor(a,l,d){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(a,l){const d=this._declarationTContainer.tViews,f=gh(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),mh(d,f,a),new Hu(f)}};function vA(){return d_(Un(),Re())}function d_(s,a){return 4&s.type?new qE(a,s,ah(s,a)):null}let h_=(()=>{class s{}return s.__NG_ELEMENT_ID__=bA,s})();function bA(){return DA(Un(),Re())}const wA=h_,EA=class extends wA{constructor(a,l,d){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=d}get element(){return ah(this._hostTNode,this._hostLView)}get injector(){return new ws(this._hostTNode,this._hostLView)}get parentInjector(){const a=xo(this._hostTNode,this._hostLView);if(iu(a)){const l=ys(a,this._hostLView),d=Ya(a);return new ws(l[1].data[d+8],l)}return new ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=CA(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const v=a.createEmbeddedView(l||{},m);return this.insert(v,f),v}createComponent(a,l,d,f,m){const v=a&&!function Ri(s){return"function"==typeof s}(a);let C;if(v)C=l;else{const V=l||{};C=V.index,d=V.injector,f=V.projectableNodes,m=V.environmentInjector||V.ngModuleRef}const S=v?a:new ju(pe(a)),x=d||this.parentInjector;if(!m&&null==S.ngModule){const Y=(v?x:this.parentInjector).get(ku,null);Y&&(m=Y)}const P=S.create(x,f,void 0,m);return this.insert(P.hostView,C),P}insert(a,l){const d=a._lView,f=d[1];if(function qc(s){return ri(s[3])}(d)){const P=this.indexOf(a);if(-1!==P)this.detach(P);else{const V=d[3],Y=new EA(V,V[6],V[3]);Y.detach(Y.indexOf(a))}}const m=this._adjustIndex(l),v=this._lContainer;!function $f(s,a,l,d){const f=10+d,m=l.length;d>0&&(l[f-1][4]=a),d<m-10?(a[4]=l[f],cu(l,10+d,a)):(l.push(a),a[4]=null),a[3]=l;const v=a[17];null!==v&&l!==v&&function xy(s,a){const l=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===l?s[9]=[a]:l.push(a)}(v,a);const C=a[19];null!==C&&C.insertView(s),a[2]|=64}(f,d,v,m);const C=Qd(m,v),S=d[11],x=Kd(S,v[7]);return null!==x&&function vu(s,a,l,d,f,m){d[0]=f,d[6]=a,wu(s,d,l,1,f,m)}(f,v[6],S,d,x,C),a.attachToViewContainerRef(),cu(WE(v),m,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=CA(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),d=dl(this._lContainer,l);d&&(uu(WE(this._lContainer),l),hl(d[1],d))}detach(a){const l=this._adjustIndex(a,-1),d=dl(this._lContainer,l);return d&&null!=uu(WE(this._lContainer),l)?new Hu(d):null}_adjustIndex(a,l=0){return a??this.length+l}};function CA(s){return s[8]}function WE(s){return s[8]||(s[8]=[])}function DA(s,a){let l;const d=a[s.index];if(ri(d))l=d;else{let f;if(8&s.type)f=Wn(d);else{const m=a[11];f=m.createComment("");const v=ii(s,a);Vo(m,Kd(m,v),f,function Wf(s,a){return s.nextSibling(a)}(m,v),!1)}a[s.index]=l=Fw(d,a,f,s),kp(a,l)}return new EA(l,s,a)}class rg{constructor(a){this.queryList=a,this.matches=null}clone(){return new rg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vv{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const d=null!==a.contentQueries?a.contentQueries[0]:l.length,f=[];for(let m=0;m<d;m++){const v=l.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new Vv(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==RA(a,l).matches&&this.queries[l].setDirty()}}class ZE{constructor(a,l,d=null){this.predicate=a,this.flags=l,this.read=d}}class f_{constructor(a=[]){this.queries=a}elementStart(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(a,f);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new f_(l):null}template(a,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Tc{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new Tc(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(a,l,IA(l,m)),this.matchTNodeWithReadOption(a,l,bs(l,a,m,!1,!1))}else d===ng?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,bs(l,a,d,!1,!1))}matchTNodeWithReadOption(a,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===hp||f===h_||f===ng&&4&l.type)this.addMatch(l.index,-2);else{const m=bs(l,a,f,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function IA(s,a){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===a)return l[d+1];return null}function TA(s,a,l,d){return-1===l?function SA(s,a){return 11&s.type?ah(s,a):4&s.type?d_(s,a):null}(a,s):-2===l?function AA(s,a,l){return l===hp?ah(a,s):l===ng?d_(a,s):l===h_?DA(a,s):void 0}(s,a,d):el(s,s[1],l,a)}function Bv(s,a,l,d){const f=a[19].queries[d];if(null===f.matches){const m=s.data,v=l.matches,C=[];for(let S=0;S<v.length;S+=2){const x=v[S];C.push(x<0?null:TA(a,m[x],v[S+1],l.metadata.read))}f.matches=C}return f.matches}function YE(s,a,l,d){const f=s.queries.getByIndex(l),m=f.matches;if(null!==m){const v=Bv(s,a,f,l);for(let C=0;C<m.length;C+=2){const S=m[C];if(S>0)d.push(v[C/2]);else{const x=m[C+1],P=a[-S];for(let V=10;V<P.length;V++){const Y=P[V];Y[17]===Y[3]&&YE(Y[1],Y,x,d)}if(null!==P[9]){const V=P[9];for(let Y=0;Y<V.length;Y++){const ce=V[Y];YE(ce[1],ce,x,d)}}}}}return d}function QE(s){const a=Re(),l=Yt(),d=Bl();Gr(d+1);const f=RA(l,d);if(s.dirty&&function Qg(s){return 4==(4&s[2])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const m=f.crossesNgTemplate?YE(l,a,d,[]):Bv(l,a,f,d);s.reset(m,j0),s.notifyOnChanges()}return!0}return!1}function ig(s,a,l){const d=Yt();d.firstCreatePass&&(p_(d,new ZE(s,a,l),-1),2==(2&a)&&(d.staticViewQueries=!0)),Hv(d,Re(),a)}function Uv(s,a,l,d){const f=Yt();if(f.firstCreatePass){const m=Un();p_(f,new ZE(a,l,d),m.index),function MA(s,a){const l=s.contentQueries||(s.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,a)}(f,s),2==(2&l)&&(f.staticContentQueries=!0)}Hv(f,Re(),l)}function xA(){return function XE(s,a){return s[19].queries[a].queryList}(Re(),Bl())}function Hv(s,a,l){const d=new Lv(4==(4&l));xp(s,a,d,d.destroy),null===a[19]&&(a[19]=new Vv),a[19].queries.push(new rg(d))}function p_(s,a,l){null===s.queries&&(s.queries=new f_),s.queries.track(new Tc(a,l))}function RA(s,a){return s.queries.getByIndex(a)}function Gv(...s){}const qA=new vn("Application Initializer");let cg=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Gv,this.reject=Gv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Zm(m))l.push(m);else if(Jw(m)){const v=new Promise((C,S)=>{m.subscribe({complete:C,error:S})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Zn(qA,8))},s.\u0275prov=Ge({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const hC=new vn("AppId",{providedIn:"root",factory:function Ma(){return`${qu()}${qu()}${qu()}`}});function qu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qv=new vn("Platform Initializer"),pC=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_o=new vn("appBootstrapListener"),S1=new vn("AnimationModuleType");let ug=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Ge({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const dg=new vn("LocaleId",{providedIn:"root",factory:()=>gt(dg,yt.Optional|yt.SkipSelf)||function T1(){return typeof $localize<"u"&&$localize.locale||Mh}()}),A1=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class hg{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let gC=(()=>{class s{compileModuleSync(l){return new FE(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=_l(jt(l).declarations).reduce((v,C)=>{const S=pe(C);return S&&v.push(new ju(S)),v},[]);return new hg(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Ge({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const YA=(()=>Promise.resolve(0))();function Rh(s){typeof Zone>"u"?YA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class eo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xa(!1),this.onMicrotaskEmpty=new xa(!1),this.onStable=new xa(!1),this.onError=new xa(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function _C(){let s=En.requestAnimationFrame,a=En.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function XA(s){const a=()=>{!function R1(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(En,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Zv(s),s.isCheckStableRunning=!0,y_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Zv(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,m,v,C)=>{try{return yC(s),l.invokeTask(f,m,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&a(),fg(s)}},onInvoke:(l,d,f,m,v,C,S)=>{try{return yC(s),l.invoke(f,m,v,C,S)}finally{s.shouldCoalesceRunChangeDetection&&a(),fg(s)}},onHasTask:(l,d,f,m)=>{l.hasTask(f,m),d===f&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Zv(s),y_(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,f,m)=>(l.handleError(f,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!eo.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(eo.isInAngularZone())throw new Ae(909,!1)}run(a,l,d){return this._inner.run(a,l,d)}runTask(a,l,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,a,QA,Gv,Gv);try{return m.runTask(v,l,d)}finally{m.cancelTask(v)}}runGuarded(a,l,d){return this._inner.runGuarded(a,l,d)}runOutsideAngular(a){return this._outer.run(a)}}const QA={};function y_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Zv(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function yC(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function fg(s){s._nesting--,y_(s)}class JA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xa,this.onMicrotaskEmpty=new xa,this.onStable=new xa,this.onError=new xa}run(a,l,d){return a.apply(l,d)}runGuarded(a,l,d){return a.apply(l,d)}runOutsideAngular(a){return a()}runTask(a,l,d,f){return a.apply(l,d)}}const vC=new vn(""),ex=new vn("");let Yv,tx=(()=>{class s{constructor(l,d,f){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Yv||(function k1(s){Yv=s}(f),f.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{eo.assertNotInAngularZone(),Rh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rh(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,f){return[]}}return s.\u0275fac=function(l){return new(l||s)(Zn(eo),Zn(bC),Zn(ex))},s.\u0275prov=Ge({token:s,factory:s.\u0275fac}),s})(),bC=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return Yv?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Ge({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Ra=null;const ve=new vn("AllowMultipleToken"),Lr=new vn("PlatformDestroyListeners");class Wu{constructor(a,l){this.name=a,this.token=l}}function yo(s,a,l=[]){const d=`Platform: ${a}`,f=new vn(d);return(m=[])=>{let v=kh();if(!v||v.injector.get(ve,!1)){const C=[...l,...m,{provide:f,useValue:!0}];s?s(C):function v_(s){if(Ra&&!Ra.get(ve,!1))throw new Ae(400,!1);Ra=s;const a=s.get(pg);(function _n(s){const a=s.get(qv,null);a&&a.forEach(l=>l())})(s)}(function b_(s=[],a){return Ec.create({name:a,providers:[{provide:ap,useValue:"platform"},{provide:Lr,useValue:new Set([()=>Ra=null])},...s]})}(C,d))}return function at(s){const a=kh();if(!a)throw new Ae(401,!1);return a}()}}function kh(){return Ra?.get(pg)??null}let pg=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const f=function wC(s,a){let l;return l="noop"===s?new JA:("zone.js"===s?void 0:s)||new eo(a),l}(d?.ngZone,function Ph(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:eo,useValue:f}];return f.run(()=>{const v=Ec.create({providers:m,parent:this.injector,name:l.moduleType.name}),C=l.create(v),S=C.injector.get(fp,null);if(!S)throw new Ae(402,!1);return f.runOutsideAngular(()=>{const x=f.onError.subscribe({next:P=>{S.handleError(P)}});C.onDestroy(()=>{C_(this._modules,C),x.unsubscribe()})}),function w_(s,a,l){try{const d=l();return Zm(d)?d.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(S,f,()=>{const x=C.injector.get(cg);return x.runInitializers(),x.donePromise.then(()=>(function AE(s){Ue(s,"Expected localeId to be defined"),"string"==typeof s&&(IT=s.toLowerCase().replace(/_/g,"-"))}(C.injector.get(dg,Mh)||Mh),this._moduleDoBootstrap(C),C))})})}bootstrapModule(l,d=[]){const f=EC({},d);return function jo(s,a,l){const d=new FE(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(l){const d=l.injector.get(E_);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Ae(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(Lr,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Zn(Ec))},s.\u0275prov=Ge({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function EC(s,a){return Array.isArray(a)?a.reduce(EC,s):{...s,...a}}let E_=(()=>{class s{constructor(l,d,f){this._zone=l,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new O.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new O.y(C=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{eo.assertNotInAngularZone(),Rh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{eo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{S.unsubscribe(),x.unsubscribe()}});this.isStable=(0,te.T)(m,v.pipe((0,G.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const f=l instanceof U0;if(!this._injector.get(cg).done)throw!f&&Pt(l),new Ae(405,false);let v;v=f?l:this._injector.get(dp).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const C=function nx(s){return s.isBoundToModule}(v)?void 0:this._injector.get(eg),x=v.create(Ec.NULL,[],d||v.selector,C),P=x.location.nativeElement,V=x.injector.get(vC,null);return V?.registerApplication(P),x.onDestroy(()=>{this.detachView(x.hostView),C_(this.components,x),V?.unregisterApplication(P)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;C_(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(_o,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>C_(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ae(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(Zn(eo),Zn(ku),Zn(fp))},s.\u0275prov=Ge({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function C_(s,a){const l=s.indexOf(a);l>-1&&s.splice(l,1)}let Yr=!0,wl=!1;function rx(){return wl=!0,Yr}function CC(){if(wl)throw new Error("Cannot enable prod mode after platform setup.");Yr=!1}let sx=(()=>{class s{}return s.__NG_ELEMENT_ID__=I_,s})();function I_(s){return function IC(s,a,l){if(Jo(s)&&!l){const d=Kn(s.index,a);return new Hu(d,d)}return 47&s.type?new Hu(a[16],a):null}(Un(),Re(),16==(16&s))}class MC{constructor(){}supports(a){return yh(a)}create(a){return new cx(a)}}const _g=(s,a)=>a;class cx{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||_g}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,d=this._removalsHead,f=0,m=null;for(;l||d;){const v=!d||l&&l.currentIndex<rb(d,f,m)?l:d,C=rb(v,f,m),S=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)f++;else{m||(m=[]);const x=C-f,P=S-f;if(x!=P){for(let Y=0;Y<x;Y++){const ce=Y<m.length?m[Y]:m[Y]=0,Te=ce+Y;P<=Te&&Te<x&&(m[Y]=ce+1)}m[v.previousIndex]=P-x}}C!==S&&a(v,C,S)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!yh(a))throw new Ae(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,v,l=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)m=a[C],v=this._trackByFn(C,m),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,m,v,C)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,C),d=!0),l=l._next}else f=0,function Ww(s,a){if(Array.isArray(s))for(let l=0;l<s.length;l++)a(s[l]);else{const l=s[Ys()]();let d;for(;!(d=l.next()).done;)a(d.value)}}(a,C=>{v=this._trackByFn(f,C),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,C,v,f)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,v,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,d,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,m,f)):a=this._addAfter(new ux(l,d),m,f),a}_verifyReinsertion(a,l,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,l,d),this._addToMoves(a,d),a}_moveAfter(a,l,d){return this._unlink(a),this._insertAfter(a,l,d),this._addToMoves(a,d),a}_addAfter(a,l,d){return this._insertAfter(a,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,d){const f=null===l?this._itHead:l._next;return a._next=f,a._prev=l,null===f?this._itTail=a:f._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new x_),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,d=a._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new x_),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class ux{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class A_{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const l=a._prevDup,d=a._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class x_{constructor(){this.map=new Map}put(a){const l=a.trackById;let d=this.map.get(l);d||(d=new A_,this.map.set(l,d)),d.add(a)}get(a,l){const f=this.map.get(a);return f?f.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rb(s,a,l){const d=s.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+a+f}class ib{constructor(){}supports(a){return a instanceof Map||_v(a)}create(){return new RC}}class RC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||_v(a)))throw new Ae(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const d=a._prev;return l._next=a,l._prev=d,a._prev=l,d&&(d._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,l);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new M_(a);return this._records.set(a,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(d=>l(a[d],d))}}class M_{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function R_(){return new yg([new MC])}let yg=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||R_()),deps:[[s,new Fo,new js]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new Ae(901,!1)}}return s.\u0275prov=Ge({token:s,providedIn:"root",factory:R_}),s})();function k_(){return new P_([new ib])}let P_=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||k_()),deps:[[s,new Fo,new js]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new Ae(901,!1)}}return s.\u0275prov=Ge({token:s,providedIn:"root",factory:k_}),s})();const sb=yo(null,"core",[]);let OC=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Zn(E_))},s.\u0275mod=ui({type:s}),s.\u0275inj=Jt({}),s})();function px(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ie,re,N)=>{"use strict";N.d(re,{Z:()=>Ae});var u=N(2090),q=N(4859),O=N(6881),te=N(1877);class G{constructor(Ee,Ie){this._delegate=Ee,this.firebase=Ie,(0,O._addComponent)(Ee,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Ee,Ie=O._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const xt=this._delegate.container.getProvider(Ee);return!xt.isInitialized()&&"EXPLICIT"===(null===(Ct=xt.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&xt.initialize(),xt.getImmediate({identifier:Ie})}_removeServiceInstance(Ee,Ie=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(Ie)}_addComponent(Ee){(0,O._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,O._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ee=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ge(){const rt=function be(rt){const Ee={},Ie={__esModule:!0,initializeApp:function Le(qe,lt={}){const de=O.initializeApp(qe,lt);if((0,u.r3)(Ee,de.name))return Ee[de.name];const Nt=new rt(de,Ie);return Ee[de.name]=Nt,Nt},app:xt,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ce(qe){const lt=qe.name,de=lt.replace("-compat","");if(O._registerComponent(qe)&&"PUBLIC"===qe.type){const Nt=(_t=xt())=>{if("function"!=typeof _t[de])throw ee.create("invalid-app-argument",{appName:lt});return _t[de]()};void 0!==qe.serviceProps&&(0,u.ZB)(Nt,qe.serviceProps),Ie[de]=Nt,rt.prototype[de]=function(..._t){return this._getService.bind(this,lt).apply(this,qe.multipleInstances?_t:[])}}return"PUBLIC"===qe.type?Ie[de]:null},removeApp:function Ct(qe){delete Ee[qe]},useAsService:function Ye(qe,lt){return"serverAuth"===lt?null:lt},modularAPIs:O}};function xt(qe){if(!(0,u.r3)(Ee,qe=qe||O._DEFAULT_ENTRY_NAME))throw ee.create("no-app",{appName:qe});return Ee[qe]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function Se(){return Object.keys(Ee).map(qe=>Ee[qe])}}),xt.App=rt,Ie}(G);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function Ee(Ie){(0,u.ZB)(rt,Ie)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),rt}(),B=new te.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=$;!function Me(rt){(0,O.registerVersion)("@firebase/app-compat","0.2.9",rt)}()},6881:(ie,re,N)=>{"use strict";N.r(re),N.d(re,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>Qo,_DEFAULT_ENTRY_NAME:()=>Si,_addComponent:()=>ct,_addOrOverwriteComponent:()=>St,_apps:()=>xn,_clearComponents:()=>ir,_components:()=>an,_getProvider:()=>gs,_registerComponent:()=>En,_removeServiceInstance:()=>ci,deleteApp:()=>Wi,getApp:()=>pr,getApps:()=>Ar,initializeApp:()=>ln,onLog:()=>ms,registerVersion:()=>xr,setLogLevel:()=>Gn});var u=N(5861),q=N(4859),O=N(1877),te=N(2090);let oe,ee;const $=new WeakMap,B=new WeakMap,X=new WeakMap,$e=new WeakMap,Me=new WeakMap;let Ee={get(he,ue,Ve){if(he instanceof IDBTransaction){if("done"===ue)return B.get(he);if("objectStoreNames"===ue)return he.objectStoreNames||X.get(he);if("store"===ue)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return Le(he[ue])},set:(he,ue,Ve)=>(he[ue]=Ve,!0),has:(he,ue)=>he instanceof IDBTransaction&&("done"===ue||"store"===ue)||ue in he};function xt(he){return"function"==typeof he?function Ct(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...ue){return he.apply(Se(this),ue),Le($.get(this))}:function(...ue){return Le(he.apply(Se(this),ue))}:function(ue,...Ve){const Be=he.call(Se(this),ue,...Ve);return X.set(Be,ue.sort?ue.sort():[ue]),Le(Be)}}(he):(he instanceof IDBTransaction&&function rt(he){if(B.has(he))return;const ue=new Promise((Ve,Be)=>{const Mt=()=>{he.removeEventListener("complete",zt),he.removeEventListener("error",cn),he.removeEventListener("abort",cn)},zt=()=>{Ve(),Mt()},cn=()=>{Be(he.error||new DOMException("AbortError","AbortError")),Mt()};he.addEventListener("complete",zt),he.addEventListener("error",cn),he.addEventListener("abort",cn)});B.set(he,ue)}(he),((he,ue)=>ue.some(Ve=>he instanceof Ve))(he,function be(){return oe||(oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Ee):he)}function Le(he){if(he instanceof IDBRequest)return function Ae(he){const ue=new Promise((Ve,Be)=>{const Mt=()=>{he.removeEventListener("success",zt),he.removeEventListener("error",cn)},zt=()=>{Ve(Le(he.result)),Mt()},cn=()=>{Be(he.error),Mt()};he.addEventListener("success",zt),he.addEventListener("error",cn)});return ue.then(Ve=>{Ve instanceof IDBCursor&&$.set(Ve,he)}).catch(()=>{}),Me.set(ue,he),ue}(he);if($e.has(he))return $e.get(he);const ue=xt(he);return ue!==he&&($e.set(he,ue),Me.set(ue,he)),ue}const Se=he=>Me.get(he),qe=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],de=new Map;function Nt(he,ue){if(!(he instanceof IDBDatabase)||ue in he||"string"!=typeof ue)return;if(de.get(ue))return de.get(ue);const Ve=ue.replace(/FromIndex$/,""),Be=ue!==Ve,Mt=lt.includes(Ve);if(!(Ve in(Be?IDBIndex:IDBObjectStore).prototype)||!Mt&&!qe.includes(Ve))return;const zt=function(){var cn=(0,u.Z)(function*(On,...tn){const Rr=this.transaction(On,Mt?"readwrite":"readonly");let Ti=Rr.store;return Be&&(Ti=Ti.index(tn.shift())),(yield Promise.all([Ti[Ve](...tn),Mt&&Rr.done]))[0]});return function(tn){return cn.apply(this,arguments)}}();return de.set(ue,zt),zt}!function Ie(he){Ee=he(Ee)}(he=>({...he,get:(ue,Ve,Be)=>Nt(ue,Ve)||he.get(ue,Ve,Be),has:(ue,Ve)=>!!Nt(ue,Ve)||he.has(ue,Ve)}));class _t{constructor(ue){this.container=ue}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function Xt(he){return"VERSION"===he.getComponent()?.type}(Ve)){const Be=Ve.getImmediate();return`${Be.library}/${Be.version}`}return null}).filter(Ve=>Ve).join(" ")}}const ft="@firebase/app",De=new O.Yd("@firebase/app"),Si="[DEFAULT]",fr={[ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xn=new Map,an=new Map;function ct(he,ue){try{he.container.addComponent(ue)}catch(Ve){De.debug(`Component ${ue.name} failed to register with FirebaseApp ${he.name}`,Ve)}}function St(he,ue){he.container.addOrOverwriteComponent(ue)}function En(he){const ue=he.name;if(an.has(ue))return De.debug(`There were multiple attempts to register component ${ue}.`),!1;an.set(ue,he);for(const Ve of xn.values())ct(Ve,he);return!0}function gs(he,ue){const Ve=he.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),he.container.getProvider(ue)}function ci(he,ue,Ve=Si){gs(he,ue).clearInstance(Ve)}function ir(){an.clear()}const Tr=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yn{constructor(ue,Ve,Be){this._isDeleted=!1,this._options=Object.assign({},ue),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=Be,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ue){this._isDeleted=ue}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}const Qo="9.21.0";function ln(he,ue={}){let Ve=he;"object"!=typeof ue&&(ue={name:ue});const Be=Object.assign({name:Si,automaticDataCollectionEnabled:!1},ue),Mt=Be.name;if("string"!=typeof Mt||!Mt)throw Tr.create("bad-app-name",{appName:String(Mt)});if(Ve||(Ve=(0,te.aH)()),!Ve)throw Tr.create("no-options");const zt=xn.get(Mt);if(zt){if((0,te.vZ)(Ve,zt.options)&&(0,te.vZ)(Be,zt.config))return zt;throw Tr.create("duplicate-app",{appName:Mt})}const cn=new q.H0(Mt);for(const tn of an.values())cn.addComponent(tn);const On=new yn(Ve,Be,cn);return xn.set(Mt,On),On}function pr(he=Si){const ue=xn.get(he);if(!ue&&he===Si)return ln();if(!ue)throw Tr.create("no-app",{appName:he});return ue}function Ar(){return Array.from(xn.values())}function Wi(he){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(he){const ue=he.name;xn.has(ue)&&(xn.delete(ue),yield Promise.all(he.container.getProviders().map(Ve=>Ve.delete())),he.isDeleted=!0)})).apply(this,arguments)}function xr(he,ue,Ve){var Be;let Mt=null!==(Be=fr[he])&&void 0!==Be?Be:he;Ve&&(Mt+=`-${Ve}`);const zt=Mt.match(/\s|\//),cn=ue.match(/\s|\//);if(zt||cn){const On=[`Unable to register library "${Mt}" with version "${ue}":`];return zt&&On.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),zt&&cn&&On.push("and"),cn&&On.push(`version name "${ue}" contains illegal characters (whitespace or "/")`),void De.warn(On.join(" "))}En(new q.wA(`${Mt}-version`,()=>({library:Mt,version:ue}),"VERSION"))}function ms(he,ue){if(null!==he&&"function"!=typeof he)throw Tr.create("invalid-log-argument");(0,O.Am)(he,ue)}function Gn(he){(0,O.Ub)(he)}const j="firebase-heartbeat-store";let U=null;function J(){return U||(U=function Ce(he,ue,{blocked:Ve,upgrade:Be,blocking:Mt,terminated:zt}={}){const cn=indexedDB.open(he,ue),On=Le(cn);return Be&&cn.addEventListener("upgradeneeded",tn=>{Be(Le(cn.result),tn.oldVersion,tn.newVersion,Le(cn.transaction),tn)}),Ve&&cn.addEventListener("blocked",tn=>Ve(tn.oldVersion,tn.newVersion,tn)),On.then(tn=>{zt&&tn.addEventListener("close",()=>zt()),Mt&&tn.addEventListener("versionchange",Rr=>Mt(Rr.oldVersion,Rr.newVersion,Rr))}).catch(()=>{}),On}("firebase-heartbeat-database",1,{upgrade:(he,ue)=>{0===ue&&he.createObjectStore(j)}}).catch(he=>{throw Tr.create("idb-open",{originalErrorMessage:he.message})})),U}function le(){return(le=(0,u.Z)(function*(he){try{return(yield J()).transaction(j).objectStore(j).get(jt(he))}catch(ue){if(ue instanceof te.ZR)De.warn(ue.message);else{const Ve=Tr.create("idb-get",{originalErrorMessage:ue?.message});De.warn(Ve.message)}}})).apply(this,arguments)}function Qe(he,ue){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,u.Z)(function*(he,ue){try{const Be=(yield J()).transaction(j,"readwrite");return yield Be.objectStore(j).put(ue,jt(he)),Be.done}catch(Ve){if(Ve instanceof te.ZR)De.warn(Ve.message);else{const Be=Tr.create("idb-set",{originalErrorMessage:Ve?.message});De.warn(Be.message)}}})).apply(this,arguments)}function jt(he){return`${he.name}!${he.options.appId}`}class pt{constructor(ue){this.container=ue,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new Mr(Ve),this._heartbeatsCachePromise=this._storage.read().then(Be=>(this._heartbeatsCache=Be,Be))}triggerHeartbeat(){var ue=this;return(0,u.Z)(function*(){const Be=ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=Dt();if(null===ue._heartbeatsCache&&(ue._heartbeatsCache=yield ue._heartbeatsCachePromise),ue._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!ue._heartbeatsCache.heartbeats.some(zt=>zt.date===Mt))return ue._heartbeatsCache.heartbeats.push({date:Mt,agent:Be}),ue._heartbeatsCache.heartbeats=ue._heartbeatsCache.heartbeats.filter(zt=>{const cn=new Date(zt.date).valueOf();return Date.now()-cn<=2592e6}),ue._storage.overwrite(ue._heartbeatsCache)})()}getHeartbeatsHeader(){var ue=this;return(0,u.Z)(function*(){if(null===ue._heartbeatsCache&&(yield ue._heartbeatsCachePromise),null===ue._heartbeatsCache||0===ue._heartbeatsCache.heartbeats.length)return"";const Ve=Dt(),{heartbeatsToSend:Be,unsentEntries:Mt}=function Cn(he,ue=1024){const Ve=[];let Be=he.slice();for(const Mt of he){const zt=Ve.find(cn=>cn.agent===Mt.agent);if(zt){if(zt.dates.push(Mt.date),Dn(Ve)>ue){zt.dates.pop();break}}else if(Ve.push({agent:Mt.agent,dates:[Mt.date]}),Dn(Ve)>ue){Ve.pop();break}Be=Be.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:Be}}(ue._heartbeatsCache.heartbeats),zt=(0,te.L)(JSON.stringify({version:2,heartbeats:Be}));return ue._heartbeatsCache.lastSentHeartbeatDate=Ve,Mt.length>0?(ue._heartbeatsCache.heartbeats=Mt,yield ue._storage.overwrite(ue._heartbeatsCache)):(ue._heartbeatsCache.heartbeats=[],ue._storage.overwrite(ue._heartbeatsCache)),zt})()}}function Dt(){return(new Date).toISOString().substring(0,10)}class Mr{constructor(ue){this.app=ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ue=this;return(0,u.Z)(function*(){return(yield ue._canUseIndexedDBPromise)&&(yield function pe(he){return le.apply(this,arguments)}(ue.app))||{heartbeats:[]}})()}overwrite(ue){var Ve=this;return(0,u.Z)(function*(){var Be;if(yield Ve._canUseIndexedDBPromise){const zt=yield Ve.read();return Qe(Ve.app,{lastSentHeartbeatDate:null!==(Be=ue.lastSentHeartbeatDate)&&void 0!==Be?Be:zt.lastSentHeartbeatDate,heartbeats:ue.heartbeats})}})()}add(ue){var Ve=this;return(0,u.Z)(function*(){var Be;if(yield Ve._canUseIndexedDBPromise){const zt=yield Ve.read();return Qe(Ve.app,{lastSentHeartbeatDate:null!==(Be=ue.lastSentHeartbeatDate)&&void 0!==Be?Be:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...ue.heartbeats]})}})()}}function Dn(he){return(0,te.L)(JSON.stringify({version:2,heartbeats:he})).length}!function Ki(he){En(new q.wA("platform-logger",ue=>new _t(ue),"PRIVATE")),En(new q.wA("heartbeat",ue=>new pt(ue),"PRIVATE")),xr(ft,"0.9.9",he),xr(ft,"0.9.9","esm2017"),xr("fire-js","")}("")},4859:(ie,re,N)=>{"use strict";N.d(re,{H0:()=>be,wA:()=>O});var u=N(5861),q=N(2090);class O{constructor($,B,X){this.name=$,this.instanceFactory=B,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const te="[DEFAULT]";class G{constructor($,B){this.name=$,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const B=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(B)){const X=new q.BH;if(this.instancesDeferred.set(B,X),this.isInitialized(B)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:B});$e&&X.resolve($e)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate($){var B;const X=this.normalizeInstanceIdentifier($?.identifier),$e=null!==(B=$?.optional)&&void 0!==B&&B;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Me){if($e)return null;throw Me}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ee(ge){return"EAGER"===ge.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[B,X]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(B);try{const Me=this.getOrInitializeService({instanceIdentifier:$e});X.resolve(Me)}catch{}}}}clearInstance($=te){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,u.Z)(function*(){const B=Array.from($.instances.values());yield Promise.all([...B.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...B.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=te){return this.instances.has($)}getOptions($=te){return this.instancesOptions.get($)||{}}initialize($={}){const{options:B={}}=$,X=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:X,options:B});for(const[Me,Ae]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Me)&&Ae.resolve($e);return $e}onInit($,B){var X;const $e=this.normalizeInstanceIdentifier(B),Me=null!==(X=this.onInitCallbacks.get($e))&&void 0!==X?X:new Set;Me.add($),this.onInitCallbacks.set($e,Me);const Ae=this.instances.get($e);return Ae&&$(Ae,$e),()=>{Me.delete($)}}invokeOnInitCallbacks($,B){const X=this.onInitCallbacks.get(B);if(X)for(const $e of X)try{$e($,B)}catch{}}getOrInitializeService({instanceIdentifier:$,options:B={}}){let X=this.instances.get($);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=$,ge===te?void 0:ge),options:B}),this.instances.set($,X),this.instancesOptions.set($,B),this.invokeOnInitCallbacks(X,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,X)}catch{}var ge;return X||null}normalizeInstanceIdentifier($=te){return this.component?this.component.multipleInstances?$:te:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor($){this.name=$,this.providers=new Map}addComponent($){const B=this.getProvider($.name);if(B.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);B.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const B=new G($,this);return this.providers.set($,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(ie,re,N)=>{"use strict";N.d(re,{Am:()=>ge,Ub:()=>be,Yd:()=>ee,in:()=>q});const u=[];var q=(()=>{return($=q||(q={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",q;var $})();const O={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},te=q.INFO,G={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},oe=($,B,...X)=>{if(B<$.logLevel)return;const $e=(new Date).toISOString(),Me=G[B];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Me](`[${$e}]  ${$.name}:`,...X)};class ee{constructor(B){this.name=B,this._logLevel=te,this._logHandler=oe,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in q))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?O[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...B),this._logHandler(this,q.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...B),this._logHandler(this,q.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,q.INFO,...B),this._logHandler(this,q.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,q.WARN,...B),this._logHandler(this,q.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...B),this._logHandler(this,q.ERROR,...B)}}function be($){u.forEach(B=>{B.setLogLevel($)})}function ge($,B){for(const X of u){let $e=null;B&&B.level&&($e=O[B.level]),X.userLogHandler=null===$?null:(Me,Ae,...rt)=>{const Ee=rt.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch{return null}}).filter(Ie=>Ie).join(" ");Ae>=($e??Me.logLevel)&&$({level:q[Ae].toLowerCase(),message:Ee,args:rt,type:Me.name})}}}},259:(ie,re,N)=>{"use strict";N.d(re,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=N(6881);(0,u.registerVersion)("firebase","9.21.0","app")},9260:(ie,re,N)=>{"use strict";N.d(re,{Z:()=>u.Z});var u=N(3942);u.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(ie,re,N)=>{"use strict";N.r(re);var u=N(5861),q=N(3942),O=N(2090),te=N(6881),G=N(655),oe=N(1877),ee=N(4859);const Ae=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},rt=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ee=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ct=new oe.Yd("@firebase/auth");function Le(y,...p){Ct.logLevel<=oe.in.ERROR&&Ct.error(`Auth (${te.SDK_VERSION}): ${y}`,...p)}function Se(y,...p){throw lt(y,...p)}function Ce(y,...p){return lt(y,...p)}function Ye(y,p,g){const w=Object.assign(Object.assign({},rt()),{[p]:g});return new O.LL("auth","Firebase",w).create(p,{appName:y.name})}function qe(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Se(y,"argument-error"),Ye(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(y,...p){if("string"!=typeof y){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return Ee.create(y,...p)}function de(y,p,...g){if(!y)throw lt(p,...g)}function Nt(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Le(p),new Error(p)}function _t(y,p){y||Nt(p)}function Xt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ft(){return"http:"===we()||"https:"===we()}function we(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Pe{constructor(p,g){this.shortDelay=p,this.longDelay=g,_t(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function De(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ft()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ue(y,p){_t(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class xe{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},on=new Pe(3e4,6e4);function Ht(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Ge(y,p,g,w){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(y,p,g,w,T={}){return Jt(y,T,(0,u.Z)(function*(){let k={},z={};w&&("GET"===p?z=w:k={body:JSON.stringify(w)});const se=(0,O.xO)(Object.assign({key:y.config.apiKey},z)).slice(1),Ne=yield y._getAdditionalHeaders();return Ne["Content-Type"]="application/json",y.languageCode&&(Ne["X-Firebase-Locale"]=y.languageCode),xe.fetch()(jr(y,y.config.apiHost,g,se),Object.assign({method:p,headers:Ne,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Jt(y,p,g){return rn.apply(this,arguments)}function rn(){return(rn=(0,u.Z)(function*(y,p,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Lt),p);try{const T=new li(y),k=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const z=yield k.json();if("needConfirmation"in z)throw Sr(y,"account-exists-with-different-credential",z);if(k.ok&&!("errorMessage"in z))return z;{const se=k.ok?z.errorMessage:z.error.message,[Ne,Ze]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw Sr(y,"credential-already-in-use",z);if("EMAIL_EXISTS"===Ne)throw Sr(y,"email-already-in-use",z);if("USER_DISABLED"===Ne)throw Sr(y,"user-disabled",z);const it=w[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(Ze)throw Ye(y,it,Ze);Se(y,it)}}catch(T){if(T instanceof O.ZR)throw T;Se(y,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function Pn(y,p,g,w){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(y,p,g,w,T={}){const k=yield Ge(y,p,g,w,T);return"mfaPendingCredential"in k&&Se(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function jr(y,p,g,w){const T=`${p}${g}?${w}`;return y.config.emulator?Ue(y.config,T):`${y.config.apiScheme}://${T}`}class li{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Ce(this.auth,"network-request-failed")),on.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sr(y,p,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const T=Ce(y,p,w);return T.customData._tokenResponse=g,T}function Gi(){return(Gi=(0,u.Z)(function*(y,p){return Ge(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ba(y,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,u.Z)(function*(y,p){return Ge(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function yt(y,p){return ei.apply(this,arguments)}function ei(){return(ei=(0,u.Z)(function*(y,p){return Ge(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function qi(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Si(){return(Si=(0,u.Z)(function*(y,p=!1){const g=(0,O.m9)(y),w=yield g.getIdToken(p),T=xn(w);de(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const k="object"==typeof T.firebase?T.firebase:void 0,z=k?.sign_in_provider;return{claims:T,token:w,authTime:qi(fr(T.auth_time)),issuedAtTime:qi(fr(T.iat)),expirationTime:qi(fr(T.exp)),signInProvider:z||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function fr(y){return 1e3*Number(y)}function xn(y){const[p,g,w]=y.split(".");if(void 0===p||void 0===g||void 0===w)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(g);return T?JSON.parse(T):(Le("Failed to decode base64 JWT payload"),null)}catch(T){return Le("Caught error parsing JWT payload as JSON",T?.toString()),null}}function ct(y,p){return St.apply(this,arguments)}function St(){return(St=(0,u.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof O.ZR&&En(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function En({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class gs{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class ci{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=qi(this.lastLoginAt),this.creationTime=qi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ir(y){return kt.apply(this,arguments)}function kt(){return(kt=(0,u.Z)(function*(y){var p;const g=y.auth,w=yield y.getIdToken(),T=yield ct(y,yt(g,{idToken:w}));de(T?.users.length,g,"internal-error");const k=T.users[0];y._notifyReloadListener(k);const z=null!==(p=k.providerUserInfo)&&void 0!==p&&p.length?ln(k.providerUserInfo):[],se=Qo(y.providerData,z),it=!!y.isAnonymous&&!(y.email&&k.passwordHash||se?.length),dt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:se,metadata:new ci(k.createdAt,k.lastLoginAt),isAnonymous:it};Object.assign(y,dt)})).apply(this,arguments)}function yn(){return(yn=(0,u.Z)(function*(y){const p=(0,O.m9)(y);yield ir(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Qo(y,p){return[...y.filter(w=>!p.some(T=>T.providerId===w.providerId)),...p]}function ln(y){return y.map(p=>{var{providerId:g}=p,w=(0,G._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Ar(){return(Ar=(0,u.Z)(function*(y,p){const g=yield Jt(y,{},(0,u.Z)(function*(){const w=(0,O.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:k}=y.config,z=jr(y,T,"/v1/token",`key=${k}`),se=yield y._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",xe.fetch()(z,{method:"POST",headers:se,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Wi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){de(p.idToken,"internal-error"),de(typeof p.idToken<"u","internal-error"),de(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function an(y){const p=xn(y);return de(p,"internal-error"),de(typeof p.exp<"u","internal-error"),de(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,u.Z)(function*(){return de(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,u.Z)(function*(){const{accessToken:T,refreshToken:k,expiresIn:z}=yield function pr(y,p){return Ar.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(T,k,Number(z))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:T,expirationTime:k}=g,z=new Wi;return w&&(de("string"==typeof w,"internal-error",{appName:p}),z.refreshToken=w),T&&(de("string"==typeof T,"internal-error",{appName:p}),z.accessToken=T),k&&(de("number"==typeof k,"internal-error",{appName:p}),z.expirationTime=k),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Wi,this.toJSON())}_performRefresh(){return Nt("not implemented")}}function Bn(y,p){de("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class xr{constructor(p){var{uid:g,auth:w,stsTokenManager:T}=p,k=(0,G._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new ci(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const w=yield ct(g,g.stsTokenManager.getToken(g.auth,p));return de(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function Yo(y){return Si.apply(this,arguments)}(this,p)}reload(){return function Tr(y){return yn.apply(this,arguments)}(this)}_assign(p){this!==p&&(de(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new xr(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,u.Z)(function*(){let T=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),T=!0),g&&(yield ir(w)),yield w.auth._persistUserIfCurrent(w),T&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield ct(p,function ps(y,p){return Gi.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,T,k,z,se,Ne,Ze,it;const dt=null!==(w=g.displayName)&&void 0!==w?w:void 0,Fn=null!==(T=g.email)&&void 0!==T?T:void 0,as=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,Su=null!==(z=g.photoURL)&&void 0!==z?z:void 0,Ss=null!==(se=g.tenantId)&&void 0!==se?se:void 0,Tu=null!==(Ne=g._redirectEventId)&&void 0!==Ne?Ne:void 0,vc=null!==(Ze=g.createdAt)&&void 0!==Ze?Ze:void 0,vm=null!==(it=g.lastLoginAt)&&void 0!==it?it:void 0,{uid:rp,emailVerified:ip,isAnonymous:bc,providerData:wc,stsTokenManager:sp}=g;de(rp&&sp,p,"internal-error");const wa=Wi.fromJSON(this.name,sp);de("string"==typeof rp,p,"internal-error"),Bn(dt,p.name),Bn(Fn,p.name),de("boolean"==typeof ip,p,"internal-error"),de("boolean"==typeof bc,p,"internal-error"),Bn(as,p.name),Bn(Su,p.name),Bn(Ss,p.name),Bn(Tu,p.name),Bn(vc,p.name),Bn(vm,p.name);const gl=new xr({uid:rp,auth:p,email:Fn,emailVerified:ip,displayName:dt,isAnonymous:bc,photoURL:Su,phoneNumber:as,tenantId:Ss,stsTokenManager:wa,createdAt:vc,lastLoginAt:vm});return wc&&Array.isArray(wc)&&(gl.providerData=wc.map(lr=>Object.assign({},lr))),Tu&&(gl._redirectEventId=Tu),gl}static _fromIdTokenResponse(p,g,w=!1){return(0,u.Z)(function*(){const T=new Wi;T.updateFromServerResponse(g);const k=new xr({uid:g.localId,auth:p,stsTokenManager:T,isAnonymous:w});return yield ir(k),k})()}}const ms=new Map;function Gn(y){_t(y instanceof Function,"Expected a class definition");let p=ms.get(y);return p?(_t(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ms.set(y,p),p)}const ni=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,w){var T=this;return(0,u.Z)(function*(){T.storage[g]=w})()}_get(g){var w=this;return(0,u.Z)(function*(){const T=w.storage[g];return void 0===T?null:T})()}_remove(g){var w=this;return(0,u.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function j(y,p,g){return`firebase:${y}:${p}:${g}`}class U{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:T,name:k}=this.auth;this.fullUserKey=j(this.userKey,T.apiKey,k),this.fullPersistenceKey=j("persistence",T.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?xr._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,u.Z)(function*(){if(!g.length)return new U(Gn(ni),p,w);const T=(yield Promise.all(g.map(function(){var Ze=(0,u.Z)(function*(it){if(yield it._isAvailable())return it});return function(it){return Ze.apply(this,arguments)}}()))).filter(Ze=>Ze);let k=T[0]||Gn(ni);const z=j(w,p.config.apiKey,p.name);let se=null;for(const Ze of g)try{const it=yield Ze._get(z);if(it){const dt=xr._fromJSON(p,it);Ze!==k&&(se=dt),k=Ze;break}}catch{}const Ne=T.filter(Ze=>Ze._shouldAllowMigration);return k._shouldAllowMigration&&Ne.length?(k=Ne[0],se&&(yield k._set(z,se.toJSON())),yield Promise.all(g.map(function(){var Ze=(0,u.Z)(function*(it){if(it!==k)try{yield it._remove(z)}catch{}});return function(it){return Ze.apply(this,arguments)}}())),new U(k,p,w)):new U(k,p,w)})()}}function J(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Pt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(pe(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(pn(p))return"Blackberry";if(He(p))return"Webos";if(le(p))return"Safari";if((p.includes("chrome/")||Qe(p))&&!p.includes("edge/"))return"Chrome";if(jt(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function pe(y=(0,O.z$)()){return/firefox\//i.test(y)}function le(y=(0,O.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Qe(y=(0,O.z$)()){return/crios\//i.test(y)}function Pt(y=(0,O.z$)()){return/iemobile/i.test(y)}function jt(y=(0,O.z$)()){return/android/i.test(y)}function pn(y=(0,O.z$)()){return/blackberry/i.test(y)}function He(y=(0,O.z$)()){return/webos/i.test(y)}function pt(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Dn(y=(0,O.z$)()){return pt(y)||jt(y)||He(y)||pn(y)||/windows phone/i.test(y)||Pt(y)}function he(y,p=[]){let g;switch(y){case"Browser":g=J((0,O.z$)());break;case"Worker":g=`${J((0,O.z$)())}-${y}`;break;default:g=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${te.SDK_VERSION}/${w}`}function Ve(){return(Ve=(0,u.Z)(function*(y){return(yield Ge(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Be(y,p){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*(y,p){return Ge(y,"GET","/v2/recaptchaConfig",Ht(y,p))})).apply(this,arguments)}function zt(y){return void 0!==y&&void 0!==y.getResponse}function cn(y){return void 0!==y&&void 0!==y.enterprise}class On{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Rr(y){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=T=>{const k=Ce("internal-error");k.customData=T,g(k)},w.type="text/javascript",w.charset="UTF-8",function tn(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Ti(y){return`__${y}${Math.floor(1e6*Math.random())}`}class gn{constructor(p){this.type="recaptcha-enterprise",this.auth=un(p)}verify(p="verify",g=!1){var w=this;return(0,u.Z)(function*(){function k(){return k=(0,u.Z)(function*(se){if(!g){if(null==se.tenantId&&null!=se._agentRecaptchaConfig)return se._agentRecaptchaConfig.siteKey;if(null!=se.tenantId&&void 0!==se._tenantRecaptchaConfigs[se.tenantId])return se._tenantRecaptchaConfigs[se.tenantId].siteKey}return new Promise(function(){var Ne=(0,u.Z)(function*(Ze,it){Be(se,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(dt=>{if(void 0!==dt.recaptchaKey){const Fn=new On(dt);return null==se.tenantId?se._agentRecaptchaConfig=Fn:se._tenantRecaptchaConfigs[se.tenantId]=Fn,Ze(Fn.siteKey)}it(new Error("recaptcha Enterprise site key undefined"))}).catch(dt=>{it(dt)})});return function(Ze,it){return Ne.apply(this,arguments)}}())}),k.apply(this,arguments)}function z(se,Ne,Ze){const it=window.grecaptcha;cn(it)?it.enterprise.ready(()=>{it.enterprise.execute(se,{action:p}).then(dt=>{Ne(dt)}).catch(()=>{Ne("NO_RECAPTCHA")})}):Ze(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((se,Ne)=>{(function T(se){return k.apply(this,arguments)})(w.auth).then(Ze=>{if(!g&&cn(window.grecaptcha))z(Ze,se,Ne);else{if(typeof window>"u")return void Ne(new Error("RecaptchaVerifier is only supported in browser"));Rr("https://www.google.com/recaptcha/enterprise.js?render="+Ze).then(()=>{z(Ze,se,Ne)}).catch(it=>{Ne(it)})}}).catch(Ze=>{Ne(Ze)})})})()}}function _s(y,p,g){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,u.Z)(function*(y,p,g,w=!1){const T=new gn(y);let k;try{k=yield T.verify(g)}catch{k=yield T.verify(g,!0)}const z=Object.assign({},p);return Object.assign(z,w?{captchaResp:k}:{captchaResponse:k}),Object.assign(z,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(z,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),z})).apply(this,arguments)}class wo{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const w=k=>new Promise((z,se)=>{try{z(p(k))}catch(Ne){se(Ne)}});w.onAbort=g,this.queue.push(w);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,u.Z)(function*(){if(g.auth.currentUser===p)return;const w=[];try{for(const T of g.queue)yield T(p),T.onAbort&&w.push(T.onAbort)}catch(T){w.reverse();for(const k of w)try{k()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class Vc{constructor(p,g,w,T){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new io(this),this.idTokenSubscription=new io(this),this.beforeStateQueue=new wo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ee,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=Gn(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var T,k;if(!w._deleted&&(w.persistenceManager=yield U.create(w,p),!w._deleted)){if(null!==(T=w._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(k=w.currentUser)||void 0===k?void 0:k.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var w;const T=yield g.assertedPersistence.getCurrentUser();let k=T,z=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const se=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Ne=k?._redirectEventId,Ze=yield g.tryRedirectSignIn(p);(!se||se===Ne)&&Ze?.user&&(k=Ze.user,z=!0)}if(!k)return g.directlySetCurrentUser(null);if(!k._redirectEventId){if(z)try{yield g.beforeStateQueue.runMiddleware(k)}catch(se){k=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(se))}return k?g.reloadAndSetCurrentUserOrClear(k):g.directlySetCurrentUser(null)}return de(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===k._redirectEventId?g.directlySetCurrentUser(k):g.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){try{yield ir(p)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ke(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const w=p?(0,O.m9)(p):null;return w&&de(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p,g=!1){var w=this;return(0,u.Z)(function*(){if(!w._deleted)return p&&de(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,u.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(Gn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,u.Z)(function*(){const g=yield Be(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new On(g);null==p.tenantId?p._agentRecaptchaConfig=w:p._tenantRecaptchaConfigs[p.tenantId]=w,w.emailPasswordEnabled&&new gn(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new O.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,u.Z)(function*(){const T=yield w.getOrInitRedirectPersistenceManager(g);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&Gn(p)||g._popupRedirectResolver;de(w,g,"argument-error"),g.redirectPersistenceManager=yield U.create(g,[Gn(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var w,T;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,T){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),z=this._isInitialized?Promise.resolve():this._initializationPromise;return de(z,this,"internal-error"),z.then(()=>k(this.currentUser)),"function"==typeof g?p.addObserver(g,w,T):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=he(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const T=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();T&&(w["X-Firebase-Client"]=T);const k=yield p._getAppCheckToken();return k&&(w["X-Firebase-AppCheck"]=k),w})()}_getAppCheckToken(){var p=this;return(0,u.Z)(function*(){var g;const w=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function xt(y,...p){Ct.logLevel<=oe.in.WARN&&Ct.warn(`Auth (${te.SDK_VERSION}): ${y}`,...p)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function un(y){return(0,O.m9)(y)}class io{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function so(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Ps{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Nt("not implemented")}_getIdTokenResponse(p){return Nt("not implemented")}_linkToIdToken(p,g){return Nt("not implemented")}_getReauthenticationResolver(p){return Nt("not implemented")}}function Zi(y,p){return ea.apply(this,arguments)}function ea(){return(ea=(0,u.Z)(function*(y,p){return Ge(y,"POST","/v1/accounts:resetPassword",Ht(y,p))})).apply(this,arguments)}function pd(y,p){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,u.Z)(function*(y,p){return Ge(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function gd(y,p){return uf.apply(this,arguments)}function uf(){return(uf=(0,u.Z)(function*(y,p){return Ge(y,"POST","/v1/accounts:update",Ht(y,p))})).apply(this,arguments)}function Tn(y,p){return md.apply(this,arguments)}function md(){return(md=(0,u.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signInWithPassword",Ht(y,p))})).apply(this,arguments)}function Uc(y,p){return _d.apply(this,arguments)}function _d(){return(_d=(0,u.Z)(function*(y,p){return Ge(y,"POST","/v1/accounts:sendOobCode",Ht(y,p))})).apply(this,arguments)}function df(y,p){return yd.apply(this,arguments)}function yd(){return(yd=(0,u.Z)(function*(y,p){return Uc(y,p)})).apply(this,arguments)}function Al(y,p){return hf.apply(this,arguments)}function hf(){return(hf=(0,u.Z)(function*(y,p){return Uc(y,p)})).apply(this,arguments)}function Hc(y,p){return xl.apply(this,arguments)}function xl(){return(xl=(0,u.Z)(function*(y,p){return Uc(y,p)})).apply(this,arguments)}function Yg(y,p){return vd.apply(this,arguments)}function vd(){return(vd=(0,u.Z)(function*(y,p){return Uc(y,p)})).apply(this,arguments)}function jc(){return(jc=(0,u.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signInWithEmailLink",Ht(y,p))})).apply(this,arguments)}function ff(){return(ff=(0,u.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signInWithEmailLink",Ht(y,p))})).apply(this,arguments)}class zc extends Ps{constructor(p,g,w,T=null){super("password",w),this._email=p,this._password=g,this._tenantId=T}static _fromEmailAndPassword(p,g){return new zc(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new zc(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){var w;switch(g.signInMethod){case"password":const T={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=p._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const k=yield _s(p,T,"signInWithPassword");return Tn(p,k)}return Tn(p,T).catch(function(){var k=(0,u.Z)(function*(z){if("auth/missing-recaptcha-token"===z.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const se=yield _s(p,T,"signInWithPassword");return Tn(p,se)}return Promise.reject(z)});return function(z){return k.apply(this,arguments)}}());case"emailLink":return function bd(y,p){return jc.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Se(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,u.Z)(function*(){switch(w.signInMethod){case"password":return pd(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function wd(y,p){return ff.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Se(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Yi(y,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,u.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signInWithIdp",Ht(y,p))})).apply(this,arguments)}class Ai extends Ps{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Ai(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:T}=g,k=(0,G._T)(g,["providerId","signInMethod"]);if(!w||!T)return null;const z=new Ai(w,T);return z.idToken=k.idToken||void 0,z.accessToken=k.accessToken||void 0,z.secret=k.secret,z.nonce=k.nonce,z.pendingToken=k.pendingToken||null,z}_getIdTokenResponse(p){return Yi(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Yi(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Yi(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,O.xO)(g)}return p}}function Ed(y,p){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,u.Z)(function*(y,p){return Ge(y,"POST","/v1/accounts:sendVerificationCode",Ht(y,p))})).apply(this,arguments)}function Ml(){return(Ml=(0,u.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,p))})).apply(this,arguments)}function Qi(){return(Qi=(0,u.Z)(function*(y,p){const g=yield Pn(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,p));if(g.temporaryProof)throw Sr(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Rl={USER_NOT_FOUND:"user-not-found"};function br(){return(br=(0,u.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signInWithPhoneNumber",Ht(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Rl)})).apply(this,arguments)}class zr extends Ps{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new zr({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new zr({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function $c(y,p){return Ml.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function gf(y,p){return Qi.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function mf(y,p){return br.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:T}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:k}=p;return w||g||T||k?new zr({verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:k}):null}}class Pl{constructor(p){var g,w,T,k,z,se;const Ne=(0,O.zd)((0,O.pd)(p)),Ze=null!==(g=Ne.apiKey)&&void 0!==g?g:null,it=null!==(w=Ne.oobCode)&&void 0!==w?w:null,dt=function _f(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ne.mode)&&void 0!==T?T:null);de(Ze&&it&&dt,"argument-error"),this.apiKey=Ze,this.operation=dt,this.code=it,this.continueUrl=null!==(k=Ne.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(z=Ne.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(se=Ne.tenantId)&&void 0!==se?se:null}static parseLink(p){const g=function kl(y){const p=(0,O.zd)((0,O.pd)(y)).link,g=p?(0,O.zd)((0,O.pd)(p)).deep_link_id:null,w=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(w?(0,O.zd)((0,O.pd)(w)).link:null)||w||g||p||y}(p);try{return new Pl(g)}catch{return null}}}let Wn=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return zc._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const T=Pl.parseLink(w);return de(T,"argument-error"),zc._fromEmailAndCode(g,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ns{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ol extends Ns{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class xi extends Ol{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return de("providerId"in g&&"signInMethod"in g,"argument-error"),Ai._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return de(p.idToken||p.accessToken,"argument-error"),Ai._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return xi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return xi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:T,pendingToken:k,nonce:z,providerId:se}=p;if(!w&&!T&&!g&&!k||!se)return null;try{return new xi(se)._credential({idToken:g,accessToken:w,nonce:z,pendingToken:k})}catch{return null}}}let ii=(()=>{class y extends Ol{constructor(){super("facebook.com")}static credential(g){return Ai._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Gc=(()=>{class y extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Ai._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:T}=g;if(!w&&!T)return null;try{return y.credential(w,T)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Nl=(()=>{class y extends Ol{constructor(){super("github.com")}static credential(g){return Ai._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Kn extends Ps{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Yi(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,Yi(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Yi(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:T,pendingToken:k}=g;return w&&T&&k&&w===T?new Kn(w,k):null}static _create(p,g){return new Kn(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Eo extends Ns{constructor(p){de(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Eo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Eo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Kn.fromJSON(p);return de(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return Kn._create(w,g)}catch{return null}}}let qc=(()=>{class y extends Ol{constructor(){super("twitter.com")}static credential(g,w){return Ai._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:T}=g;if(!w||!T)return null;try{return y.credential(w,T)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function hi(y,p){return oo.apply(this,arguments)}function oo(){return(oo=(0,u.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signUp",Ht(y,p))})).apply(this,arguments)}class kr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,T=!1){return(0,u.Z)(function*(){const k=yield xr._fromIdTokenResponse(p,w,T),z=Ot(w);return new kr({user:k,providerId:z,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const T=Ot(w);return new kr({user:p,providerId:T,_tokenResponse:w,operationType:g})})()}}function Ot(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Dd(){return(Dd=(0,u.Z)(function*(y){var p;const g=un(y);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new kr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield hi(g,{returnSecureToken:!0}),T=yield kr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class ja extends O.ZR{constructor(p,g,w,T){var k;super(g.code,g.message),this.operationType=w,this.user=T,Object.setPrototypeOf(this,ja.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,T){return new ja(p,g,w,T)}}function Id(y,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?ja._fromErrorAndOperation(y,k,p,w):k})}function Sd(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Xi(){return(Xi=(0,u.Z)(function*(y,p){const g=(0,O.m9)(y);yield Yt(!0,g,p);const{providerUserInfo:w}=yield Ba(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),T=Sd(w||[]);return g.providerData=g.providerData.filter(k=>T.has(k.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Fl(y,p){return Re.apply(this,arguments)}function Re(){return(Re=(0,u.Z)(function*(y,p,g=!1){const w=yield ct(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return kr._forOperation(y,"link",w)})).apply(this,arguments)}function Yt(y,p,g){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,u.Z)(function*(y,p,g){yield ir(p);const T=!1===y?"provider-already-linked":"no-such-provider";de(Sd(p.providerData).has(g)===y,p.auth,T)})).apply(this,arguments)}function Wc(y,p){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(y,p,g=!1){const{auth:w}=y,T="reauthenticate";try{const k=yield ct(y,Id(w,T,p,y),g);de(k.idToken,w,"internal-error");const z=xn(k.idToken);de(z,w,"internal-error");const{sub:se}=z;return de(y.uid===se,w,"user-mismatch"),kr._forOperation(y,T,k)}catch(k){throw"auth/user-not-found"===k?.code&&Se(w,"user-mismatch"),k}})).apply(this,arguments)}function Vl(y,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,u.Z)(function*(y,p,g=!1){const w="signIn",T=yield Id(y,w,p),k=yield kr._fromIdTokenResponse(y,w,T);return g||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function fi(y,p){return na.apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(y,p){return Vl(un(y),p)})).apply(this,arguments)}function Kc(y,p){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,u.Z)(function*(y,p){const g=(0,O.m9)(y);return yield Yt(!1,g,p.providerId),Fl(g,p)})).apply(this,arguments)}function Hn(y,p){return yf.apply(this,arguments)}function yf(){return(yf=(0,u.Z)(function*(y,p){return Wc((0,O.m9)(y),p)})).apply(this,arguments)}function vf(y,p){return $r.apply(this,arguments)}function $r(){return($r=(0,u.Z)(function*(y,p){return Pn(y,"POST","/v1/accounts:signInWithCustomToken",Ht(y,p))})).apply(this,arguments)}function Ji(){return(Ji=(0,u.Z)(function*(y,p){const g=un(y),w=yield vf(g,{token:p,returnSecureToken:!0}),T=yield kr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Fs{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?gi._fromServerResponse(p,g):"totpInfo"in g?Ad._fromServerResponse(p,g):Se(p,"internal-error")}}class gi extends Fs{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new gi(g)}}class Ad extends Fs{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new Ad(g)}}function Do(y,p,g){var w;de((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),de(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(de(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(de(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function ra(){return ra=(0,u.Z)(function*(y,p,g){var w;const T=un(y),k={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const z=yield _s(T,k,"getOobCode",!0);g&&Do(T,z,g),yield Al(T,z)}else g&&Do(T,k,g),yield Al(T,k).catch(function(){var z=(0,u.Z)(function*(se){if("auth/missing-recaptcha-token"!==se.code)return Promise.reject(se);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ne=yield _s(T,k,"getOobCode",!0);g&&Do(T,Ne,g),yield Al(T,Ne)}});return function(se){return z.apply(this,arguments)}}())}),ra.apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(y,p,g){yield Zi((0,O.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Gr(){return(Gr=(0,u.Z)(function*(y,p){yield gd((0,O.m9)(y),{oobCode:p})})).apply(this,arguments)}function Qc(y,p){return $a.apply(this,arguments)}function $a(){return($a=(0,u.Z)(function*(y,p){const g=(0,O.m9)(y),w=yield Zi(g,{oobCode:p}),T=w.requestType;switch(de(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(w.mfaInfo,g,"internal-error");default:de(w.email,g,"internal-error")}let k=null;return w.mfaInfo&&(k=Fs._fromServerResponse(un(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:T}})).apply(this,arguments)}function Io(){return(Io=(0,u.Z)(function*(y,p){const{data:g}=yield Qc((0,O.m9)(y),p);return g.email})).apply(this,arguments)}function qa(){return qa=(0,u.Z)(function*(y,p,g){var w;const T=un(y),k={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let z;if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Ze=yield _s(T,k,"signUpPassword");z=hi(T,Ze)}else z=hi(T,k).catch(function(){var Ze=(0,u.Z)(function*(it){if("auth/missing-recaptcha-token"===it.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const dt=yield _s(T,k,"signUpPassword");return hi(T,dt)}return Promise.reject(it)});return function(it){return Ze.apply(this,arguments)}}());const se=yield z.catch(Ze=>Promise.reject(Ze)),Ne=yield kr._fromIdTokenResponse(T,"signIn",se);return yield T._updateCurrentUser(Ne.user),Ne}),qa.apply(this,arguments)}function Ul(){return Ul=(0,u.Z)(function*(y,p,g){var w;const T=un(y),k={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function z(se,Ne){de(Ne.handleCodeInApp,T,"argument-error"),Ne&&Do(T,se,Ne)}if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const se=yield _s(T,k,"getOobCode",!0);z(se,g),yield Hc(T,se)}else z(k,g),yield Hc(T,k).catch(function(){var se=(0,u.Z)(function*(Ne){if("auth/missing-recaptcha-token"!==Ne.code)return Promise.reject(Ne);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ze=yield _s(T,k,"getOobCode",!0);z(Ze,g),yield Hc(T,Ze)}});return function(Ne){return se.apply(this,arguments)}}())}),Ul.apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(y,p,g){const w=(0,O.m9)(y),T=Wn.credentialWithLink(p,g||Xt());return de(T._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),fi(w,T)})).apply(this,arguments)}function Mn(y,p){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,u.Z)(function*(y,p){return Ge(y,"POST","/v1/accounts:createAuthUri",Ht(y,p))})).apply(this,arguments)}function eu(){return(eu=(0,u.Z)(function*(y,p){const w={identifier:p,continueUri:ft()?Xt():"http://localhost"},{signinMethods:T}=yield Mn((0,O.m9)(y),w);return T||[]})).apply(this,arguments)}function Hl(){return(Hl=(0,u.Z)(function*(y,p){const g=(0,O.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Do(g.auth,T,p);const{email:k}=yield df(g.auth,T);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function So(){return(So=(0,u.Z)(function*(y,p,g){const w=(0,O.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Do(w.auth,k,g);const{email:z}=yield Yg(w.auth,k);z!==y.email&&(yield y.reload())})).apply(this,arguments)}function Wa(y,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(y,p){return Ge(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ka(){return(Ka=(0,u.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,O.m9)(y),k={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},z=yield ct(w,Wa(w.auth,k));w.displayName=z.displayName||null,w.photoURL=z.photoUrl||null;const se=w.providerData.find(({providerId:Ne})=>"password"===Ne);se&&(se.displayName=w.displayName,se.photoURL=w.photoURL),yield w._updateTokensIfNecessary(z)})).apply(this,arguments)}function Za(y,p,g){return jl.apply(this,arguments)}function jl(){return(jl=(0,u.Z)(function*(y,p,g){const{auth:w}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(k.email=p),g&&(k.password=g);const z=yield ct(y,pd(w,k));yield y._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class es{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class nu extends es{constructor(p,g,w,T){super(p,g,w),this.username=T}}class Pd extends es{constructor(p,g){super(p,"facebook.com",g)}}class Ef extends nu{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class ru extends es{constructor(p,g){super(p,"google.com",g)}}class zl extends nu{constructor(p,g,w){super(p,"twitter.com",g,w)}}function $l(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function wf(y){var p,g;if(!y)return null;const{providerId:w}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const z=null===(g=null===(p=xn(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(z)return new es(k,"anonymous"!==z&&"custom"!==z?z:null)}if(!w)return null;switch(w){case"facebook.com":return new Pd(k,T);case"github.com":return new Ef(k,T);case"google.com":return new ru(k,T);case"twitter.com":return new zl(k,T,y.screenName||null);case"custom":case"anonymous":return new es(k,null);default:return new es(k,w,T)}}(g)}class To{constructor(p,g,w){this.type=p,this.credential=g,this.auth=w}static _fromIdtoken(p,g){return new To("enroll",p,g)}static _fromMfaPendingCredential(p){return new To("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return To._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return To._fromIdtoken(p.multiFactorSession.idToken)}return null}}class vs{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=un(p),T=g.customData._serverResponse,k=(T.mfaInfo||[]).map(se=>Fs._fromServerResponse(w,se));de(T.mfaPendingCredential,w,"internal-error");const z=To._fromMfaPendingCredential(T.mfaPendingCredential);return new vs(z,k,function(){var se=(0,u.Z)(function*(Ne){const Ze=yield Ne._process(w,z);delete T.mfaInfo,delete T.mfaPendingCredential;const it=Object.assign(Object.assign({},T),{idToken:Ze.idToken,refreshToken:Ze.refreshToken});switch(g.operationType){case"signIn":const dt=yield kr._fromIdTokenResponse(w,g.operationType,it);return yield w._updateCurrentUser(dt.user),dt;case"reauthenticate":return de(g.user,w,"internal-error"),kr._forOperation(g.user,g.operationType,it);default:Se(w,"internal-error")}});return function(Ne){return se.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function Xa(y,p){return Ge(y,"POST","/v2/accounts/mfaEnrollment:start",Ht(y,p))}class Ao{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Fs._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Ao(p)}getSession(){var p=this;return(0,u.Z)(function*(){return To._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var w=this;return(0,u.Z)(function*(){const T=p,k=yield w.getSession(),z=yield ct(w.user,T._process(w.user.auth,k,g));return yield w.user._updateTokensIfNecessary(z),w.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){const w="string"==typeof p?p:p.uid,T=yield g.user.getIdToken();try{const k=yield ct(g.user,function ou(y,p){return Ge(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(y,p))}(g.user.auth,{idToken:T,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:z})=>z!==w),yield g.user._updateTokensIfNecessary(k),yield g.user.reload()}catch(k){throw k}})()}}const xo=new WeakMap,Mo="__sak";class Wl{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Mo,"1"),this.storage.removeItem(Mo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const bs=(()=>{class y extends Wl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function If(){const y=(0,O.z$)();return le(y)||pt(y)}()&&function Ki(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Dn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const T=this.storage.getItem(w),k=this.localCache[w];T!==k&&g(w,k,T)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((se,Ne,Ze)=>{this.notifyListeners(se,Ze)});const T=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(T);if(g.newValue!==se)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!w)return}const k=()=>{const se=this.storage.getItem(T);!w&&this.localCache[T]===se||this.notifyListeners(T,se)},z=this.storage.getItem(T);!function Mr(){return(0,O.w1)()&&10===document.documentMode}()||z===g.newValue||g.newValue===g.oldValue?k():setTimeout(k,10)}notifyListeners(g,w){this.localCache[g]=w;const T=this.listeners[g];if(T)for(const k of Array.from(T))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var T=()=>super._set,k=this;return(0,u.Z)(function*(){yield T().call(k,g,w),k.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,T=this;return(0,u.Z)(function*(){const k=yield w().call(T,g);return T.localCache[g]=JSON.stringify(k),k})()}_remove(g){var w=()=>super._remove,T=this;return(0,u.Z)(function*(){yield w().call(T,g),delete T.localCache[g]})()}}return y.type="LOCAL",y})(),Ro=(()=>{class y extends Wl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let Kl=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(k=>k.isListeningto(g));if(w)return w;const T=new y(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,u.Z)(function*(){const T=g,{eventId:k,eventType:z,data:se}=T.data,Ne=w.handlersMap[z];if(!Ne?.size)return;T.ports[0].postMessage({status:"ack",eventId:k,eventType:z});const Ze=Array.from(Ne).map(function(){var dt=(0,u.Z)(function*(Fn){return Fn(T.origin,se)});return function(Fn){return dt.apply(this,arguments)}}()),it=yield function Sf(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(Ze);T.ports[0].postMessage({status:"done",eventId:k,eventType:z,response:it})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ws(y="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return y+g}class tm{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var T=this;return(0,u.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let z,se;return new Promise((Ne,Ze)=>{const it=ws("",20);k.port1.start();const dt=setTimeout(()=>{Ze(new Error("unsupported_event"))},w);se={messageChannel:k,onMessage(Fn){const as=Fn;if(as.data.eventId===it)switch(as.data.status){case"ack":clearTimeout(dt),z=setTimeout(()=>{Ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Ne(as.data.response);break;default:clearTimeout(dt),clearTimeout(z),Ze(new Error("invalid_response"))}}},T.handlers.add(se),k.port1.addEventListener("message",se.onMessage),T.target.postMessage({eventType:p,eventId:it,data:g},[k.port2])}).finally(()=>{se&&T.removeMessageHandler(se)})})()}}function Rn(){return window}function tl(){return typeof Rn().WorkerGlobalScope<"u"&&"function"==typeof Rn().importScripts}function Zl(){return(Zl=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ko="firebaseLocalStorageDb",ua="firebaseLocalStorage",Hs="fbase_key";class Yl{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function nl(y,p){return y.transaction([ua],p?"readwrite":"readonly").objectStore(ua)}function lu(){const y=indexedDB.open(ko,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(ua,{keyPath:Hs})}catch(T){g(T)}}),y.addEventListener("success",(0,u.Z)(function*(){const w=y.result;w.objectStoreNames.contains(ua)?p(w):(w.close(),yield function vn(){const y=indexedDB.deleteDatabase(ko);return new Yl(y).toPromise()}(),p(yield lu()))}))})}function Ql(y,p,g){return Af.apply(this,arguments)}function Af(){return(Af=(0,u.Z)(function*(y,p,g){const w=nl(y,!0).put({[Hs]:p,value:g});return new Yl(w).toPromise()})).apply(this,arguments)}function xf(){return(xf=(0,u.Z)(function*(y,p){const g=nl(y,!1).get(p),w=yield new Yl(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Mf(y,p){const g=nl(y,!0).delete(p);return new Yl(g).toPromise()}const Xl=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield lu()),g.db})()}_withRetries(g){var w=this;return(0,u.Z)(function*(){let T=0;for(;;)try{const k=yield w._openDb();return yield g(k)}catch(k){if(T++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return tl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Kl._getInstance(function jn(){return tl()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,u.Z)(function*(T,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(T,k){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,u.Z)(function*(T,k){return["keyChanged"]});return function(T,k){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var w,T;if(g.activeServiceWorker=yield function Tf(){return Zl.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new tm(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);!k||(null===(w=k[0])||void 0===w?void 0:w.fulfilled)&&(null===(T=k[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,u.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Us(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield lu();return yield Ql(g,Mo,"1"),yield Mf(g,Mo),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,u.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(k=>Ql(k,g,w)),T.localCache[g]=w,T.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,u.Z)(function*(){const T=yield w._withRetries(k=>function Nd(y,p){return xf.apply(this,arguments)}(k,g));return w.localCache[g]=T,T})()}_remove(g){var w=this;return(0,u.Z)(function*(){return w._withPendingWrite((0,u.Z)(function*(){return yield w._withRetries(T=>Mf(T,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const w=yield g._withRetries(z=>{const se=nl(z,!1).getAll();return new Yl(se).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const T=[],k=new Set;for(const{fbase_key:z,value:se}of w)k.add(z),JSON.stringify(g.localCache[z])!==JSON.stringify(se)&&(g.notifyListeners(z,se),T.push(z));for(const z of Object.keys(g.localCache))g.localCache[z]&&!k.has(z)&&(g.notifyListeners(z,null),T.push(z));return T})()}notifyListeners(g,w){this.localCache[g]=w;const T=this.listeners[g];if(T)for(const k of Array.from(T))k(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function sr(y,p){return Ge(y,"POST","/v2/accounts/mfaSignIn:start",Ht(y,p))}const Jn=1e12;class ts{constructor(p){this.auth=p,this.counter=Jn,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new cu(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||Jn;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Jn))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var w;return null===(w=g._widgets.get(p||Jn))||void 0===w||w.execute(),""})()}}class cu{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;de(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function uu(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const da=Ti("rcb"),Ld=new Pe(3e4,6e4);class nm{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Rn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return de(function Pf(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&zt(Rn().grecaptcha)?Promise.resolve(Rn().grecaptcha):new Promise((w,T)=>{const k=Rn().setTimeout(()=>{T(Ce(p,"network-request-failed"))},Ld.get());Rn()[da]=()=>{Rn().clearTimeout(k),delete Rn()[da];const se=Rn().grecaptcha;if(!se||!zt(se))return void T(Ce(p,"internal-error"));const Ne=se.render;se.render=(Ze,it)=>{const dt=Ne(Ze,it);return this.counter++,dt},this.hostLanguage=g,w(se)},Rr(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:da,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),T(Ce(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Rn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Iy{load(p){return(0,u.Z)(function*(){return new ts(p)})()}clearedOneInstance(){}}const ec="recaptcha",mi={theme:"light",type:"image"};class tc{constructor(p,g=Object.assign({},mi),w){this.parameters=g,this.type=ec,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=un(w),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;de(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Iy:new nm,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(k=>{const z=se=>{!se||(p.tokenChangeListeners.delete(z),k(se))};p.tokenChangeListeners.add(z),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=Rn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){de(ft()&&!tl(),p.auth,"internal-error"),yield function il(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function ue(y){return Ve.apply(this,arguments)}(p.auth);de(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class du{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=zr._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function nc(){return(nc=(0,u.Z)(function*(y,p,g){const w=un(y),T=yield rc(w,p,(0,O.m9)(g));return new du(T,k=>fi(w,k))})).apply(this,arguments)}function Po(){return(Po=(0,u.Z)(function*(y,p,g){const w=(0,O.m9)(y);yield Yt(!1,w,"phone");const T=yield rc(w.auth,p,(0,O.m9)(g));return new du(T,k=>Kc(w,k))})).apply(this,arguments)}function sl(){return(sl=(0,u.Z)(function*(y,p,g){const w=(0,O.m9)(y),T=yield rc(w.auth,p,(0,O.m9)(g));return new du(T,k=>Hn(w,k))})).apply(this,arguments)}function rc(y,p,g){return mn.apply(this,arguments)}function mn(){return(mn=(0,u.Z)(function*(y,p,g){var w;const T=yield g.verify();try{let k;if(de("string"==typeof T,y,"argument-error"),de(g.type===ec,y,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const z=k.session;if("phoneNumber"in k)return de("enroll"===z.type,y,"internal-error"),(yield Xa(y,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{de("signin"===z.type,y,"internal-error");const se=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return de(se,y,"missing-multi-factor-info"),(yield sr(y,{mfaPendingCredential:z.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield Ed(y,{phoneNumber:k.phoneNumber,recaptchaToken:T});return z}}finally{g._reset()}})).apply(this,arguments)}function ot(){return(ot=(0,u.Z)(function*(y,p){yield Fl((0,O.m9)(y),p)})).apply(this,arguments)}let ut=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=un(g)}verifyPhoneNumber(g,w){return rc(this.auth,g,(0,O.m9)(w))}static credential(g,w){return zr._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:T}=g;return w&&T?zr._fromTokenResponse(w,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function er(y,p){return p?Gn(p):(de(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class qr extends Ps{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Yi(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Yi(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Yi(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function ha(y){return Vl(y.auth,new qr(y),y.bypassAuthState)}function wr(y){const{auth:p,user:g}=y;return de(g,p,"internal-error"),Wc(g,new qr(y),y.bypassAuthState)}function ic(y){return ol.apply(this,arguments)}function ol(){return(ol=(0,u.Z)(function*(y){const{auth:p,user:g}=y;return de(g,p,"internal-error"),Fl(g,new qr(y),y.bypassAuthState)})).apply(this,arguments)}class Oo{constructor(p,g,w,T,k=!1){this.auth=p,this.resolver=w,this.user=T,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(w,T){p.pendingPromise={resolve:w,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(w,T){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:w,sessionId:T,postBody:k,tenantId:z,error:se,type:Ne}=p;if(se)return void g.reject(se);const Ze={auth:g.auth,requestUri:w,sessionId:T,tenantId:z||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ne)(Ze))}catch(it){g.reject(it)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ha;case"linkViaPopup":case"linkViaRedirect":return ic;case"reauthViaPopup":case"reauthViaRedirect":return wr;default:Se(this.auth,"internal-error")}}resolve(p){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wr=new Pe(2e3,1e4);function Zn(){return(Zn=(0,u.Z)(function*(y,p,g){const w=un(y);qe(y,p,Ns);const T=er(w,g);return new al(w,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function gt(){return(gt=(0,u.Z)(function*(y,p,g){const w=(0,O.m9)(y);qe(w.auth,p,Ns);const T=er(w.auth,g);return new al(w.auth,"reauthViaPopup",p,T,w).executeNotNull()})).apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(y,p,g){const w=(0,O.m9)(y);qe(w.auth,p,Ns);const T=er(w.auth,g);return new al(w.auth,"linkViaPopup",p,T,w).executeNotNull()})).apply(this,arguments)}let al=(()=>{class y extends Oo{constructor(g,w,T,k,z){super(g,w,k,z),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const w=yield g.execute();return de(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,u.Z)(function*(){_t(1===g.filter.length,"Popup operations only handle one event");const w=ws();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(Ce(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,T;this.pollId=null!==(T=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Wr.get())};g()}}return y.currentPopupAction=null,y})();const Nn=new Map;class Ud extends Oo{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let w=Nn.get(g.auth._key());if(!w){try{const k=(yield function js(y,p){return fu.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(k)}catch(T){w=()=>Promise.reject(T)}Nn.set(g.auth._key(),w)}return g.bypassAuthState||Nn.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const T=yield w.auth._redirectUserForId(p.eventId);if(T)return w.user=T,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function fu(){return(fu=(0,u.Z)(function*(y,p){const g=ga(p),w=Cs(y);if(!(yield w._isAvailable()))return!1;const T="true"===(yield w._get(g));return yield w._remove(g),T})).apply(this,arguments)}function Fo(y,p){return pa.apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(y,p){return Cs(y)._set(ga(p),"true")})).apply(this,arguments)}function Es(y,p){Nn.set(y._key(),p)}function Cs(y){return Gn(y._redirectPersistence)}function ga(y){return j("pendingRedirect",y.config.apiKey,y.name)}function _i(){return(_i=(0,u.Z)(function*(y,p,g){const w=un(y);qe(y,p,Ns),yield w._initializationPromise;const T=er(w,g);return yield Fo(T,w),T._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(y,p,g){const w=(0,O.m9)(y);qe(w.auth,p,Ns),yield w.auth._initializationPromise;const T=er(w.auth,g);yield Fo(T,w.auth);const k=yield ao(w);return T._openRedirect(w.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(y,p,g){const w=(0,O.m9)(y);qe(w.auth,p,Ns),yield w.auth._initializationPromise;const T=er(w.auth,g);yield Yt(!1,w,p.providerId),yield Fo(T,w.auth);const k=yield ao(w);return T._openRedirect(w.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(y,p){return yield un(y)._initializationPromise,Yn(y,p,!1)})).apply(this,arguments)}function Yn(y,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,u.Z)(function*(y,p,g=!1){const w=un(y),T=er(w,p),z=yield new Ud(w,T,g).execute();return z&&!g&&(delete z.user._redirectEventId,yield w._persistUserIfCurrent(z.user),yield w._setRedirectUser(null,p)),z})).apply(this,arguments)}function ao(y){return ma.apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(y){const p=ws(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class rs{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function is(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zn(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!zn(p)){const T=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Ce(this.auth,T))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pi(p))}saveEventToCache(p){this.cachedEventUids.add(Pi(p)),this.lastProcessedEventTime=Date.now()}}function Pi(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function zn({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function Lf(y){return lo.apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(y,p={}){return Ge(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Vf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bf=/^https?/;function Lo(){return(Lo=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Lf(y);for(const g of p)try{if(cc(g))return}catch{}Se(y,"unauthorized-domain")})).apply(this,arguments)}function cc(y){const p=Xt(),{protocol:g,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const z=new URL(y);return""===z.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&z.hostname===w}if(!Bf.test(g))return!1;if(Vf.test(y))return w===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(w)}const en=new Pe(3e4,6e4);function ll(){const y=Rn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let zs=null;function co(y){return zs=zs||function _a(y){return new Promise((p,g)=>{var w,T,k;function z(){ll(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ll(),g(Ce(y,"network-request-failed"))},timeout:en.get()})}if(null!==(T=null===(w=Rn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==T&&T.Iframe)p(gapi.iframes.getContext());else{if(null===(k=Rn().gapi)||void 0===k||!k.load){const se=Ti("iframefcb");return Rn()[se]=()=>{gapi.load?z():g(Ce(y,"network-request-failed"))},Rr(`https://apis.google.com/js/api.js?onload=${se}`).catch(Ne=>g(Ne))}z()}}).catch(p=>{throw zs=null,p})}(y),zs}const jd=new Pe(5e3,15e3),gu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ss=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sy(y){const p=y.config;de(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Ue(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:te.SDK_VERSION},T=ss.get(y.config.apiHost);T&&(w.eid=T);const k=y._getFrameworks();return k.length&&(w.fw=k.join(",")),`${g}?${(0,O.xO)(w).slice(1)}`}function I(){return I=(0,u.Z)(function*(y){const p=yield co(y),g=Rn().gapi;return de(g,y,"internal-error"),p.open({where:document.body,url:Sy(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gu,dontclear:!0},w=>new Promise(function(){var T=(0,u.Z)(function*(k,z){yield w.restyle({setHideOnLeave:!1});const se=Ce(y,"network-request-failed"),Ne=Rn().setTimeout(()=>{z(se)},jd.get());function Ze(){Rn().clearTimeout(Ne),k(w)}w.ping(Ze).then(Ze,()=>{z(se)})});return function(k,z){return T.apply(this,arguments)}}()))}),I.apply(this,arguments)}const R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xe{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Fr=encodeURIComponent("fac");function In(y,p,g,w,T,k){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(y,p,g,w,T,k){de(y.config.authDomain,y,"auth-domain-config-required"),de(y.config.apiKey,y,"invalid-api-key");const z={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:te.SDK_VERSION,eventId:T};if(p instanceof Ns){p.setDefaultLanguage(y.languageCode),z.providerId=p.providerId||"",(0,O.xb)(p.getCustomParameters())||(z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[it,dt]of Object.entries(k||{}))z[it]=dt}if(p instanceof Ol){const it=p.getScopes().filter(dt=>""!==dt);it.length>0&&(z.scopes=it.join(","))}y.tenantId&&(z.tid=y.tenantId);const se=z;for(const it of Object.keys(se))void 0===se[it]&&delete se[it];const Ne=yield y._getAppCheckToken(),Ze=Ne?`#${Fr}=${encodeURIComponent(Ne)}`:"";return`${os(y)}?${(0,O.xO)(se).slice(1)}${Ze}`})).apply(this,arguments)}function os({config:y}){return y.emulator?Ue(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const uo="webStorageSupport";class mu extends class dc{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return Nt("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new mu(p)}_finalizeEnroll(p,g,w){return function Mi(y,p){return Ge(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(y,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Jl(y,p){return Ge(y,"POST","/v2/accounts/mfaSignIn:finalize",Ht(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let im=(()=>{class y{constructor(){}static assertion(g){return mu._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var zd="@firebase/auth";class $d{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function va(){return window}function yu(){return(yu=(0,u.Z)(function*(y,p,g){var w;const{BuildInfo:T}=va();_t(p.sessionId,"AuthEvent did not contain a session ID");const k=yield Ay(p.sessionId),z={};return pt()?z.ibi=T.packageName:jt()?z.apn=T.packageName:Se(y,"operation-not-supported-in-this-environment"),T.displayName&&(z.appDisplayName=T.displayName),z.sessionId=k,In(y,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,z)})).apply(this,arguments)}function gc(){return(gc=(0,u.Z)(function*(y){const{BuildInfo:p}=va(),g={};pt()?g.iosBundleId=p.packageName:jt()?g.androidPackageName=p.packageName:Se(y,"operation-not-supported-in-this-environment"),yield Lf(y,g)})).apply(this,arguments)}function vu(){return(vu=(0,u.Z)(function*(y,p,g){const{cordova:w}=va();let T=()=>{};try{yield new Promise((k,z)=>{let se=null;function Ne(){var dt;k();const Fn=null===(dt=w.plugins.browsertab)||void 0===dt?void 0:dt.close;"function"==typeof Fn&&Fn(),"function"==typeof g?.close&&g.close()}function Ze(){se||(se=window.setTimeout(()=>{z(Ce(y,"redirect-cancelled-by-user"))},2e3))}function it(){"visible"===document?.visibilityState&&Ze()}p.addPassiveListener(Ne),document.addEventListener("resume",Ze,!1),jt()&&document.addEventListener("visibilitychange",it,!1),T=()=>{p.removePassiveListener(Ne),document.removeEventListener("resume",Ze,!1),document.removeEventListener("visibilitychange",it,!1),se&&window.clearTimeout(se)}})}finally{T()}})).apply(this,arguments)}function Ay(y){return $f.apply(this,arguments)}function $f(){return($f=(0,u.Z)(function*(y){const p=xy(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function xy(y){if(_t(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}(0,O.Pz)("authIdTokenMaxAge"),function sm(y){(0,te._registerComponent)(new ee.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),T=p.getProvider("heartbeat"),k=p.getProvider("app-check-internal"),{apiKey:z,authDomain:se}=w.options;de(z&&!z.includes(":"),"invalid-api-key",{appName:w.name}),de(!se?.includes(":"),"argument-error",{appName:w.name});const Ne={apiKey:z,authDomain:se,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:he(y)},Ze=new Vc(w,T,k,Ne);return function qn(y,p){const g=p?.persistence||[],w=(Array.isArray(g)?g:[g]).map(Gn);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(Ze,g),Ze},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new ee.wA("auth-internal",p=>{const g=un(p.getProvider("auth").getImmediate());return new $d(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(zd,"0.23.1",function jf(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,te.registerVersion)(zd,"0.23.1","esm2017")}("Browser");class dl extends rs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function Gf(y){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,u.Z)(function*(y){const p=yield Vo()._get(bu(y));return p&&(yield Vo()._remove(bu(y))),p})).apply(this,arguments)}function lm(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function Vo(){return Gn(bs)}function bu(y){return j("authEvent",y.config.apiKey,y.name)}function pl(y){if(!y?.includes("?"))return{};const[p,...g]=y.split("?");return(0,O.zd)(g.join("?"))}function Zd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function qs(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Qd(y=(0,O.z$)()){return!("file:"!==qs()&&"ionic:"!==qs()&&"capacitor:"!==qs()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xf(){try{const y=self.localStorage,p=ws();if(y)return y.setItem(p,"1"),y.removeItem(p),!function My(y=(0,O.z$)()){return function Qf(){return(0,O.w1)()&&11===document?.documentMode}()||function wu(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return Jf()&&(0,O.hl)()}return!1}function Jf(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ep(){return(function Zf(){return"http:"===qs()||"https:"===qs()}()||(0,O.ru)()||Qd())&&!function Yf(){return(0,O.b$)()||(0,O.UG)()}()&&Xf()&&!Jf()}function tp(){return Qd()&&typeof document<"u"}function _c(){return(_c=(0,u.Z)(function*(){return!!tp()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Cr={LOCAL:"local",NONE:"none",SESSION:"session"},yc=de,Jd="persistence";function Ws(y){return fo.apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(y){yield y._initializationPromise;const p=eh(),g=j(Jd,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function eh(){var y;try{return(null===(y=function Xd(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const th=de;class Kr{constructor(){this.browserResolver=Gn(class Er{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ro,this._completeRedirectFn=Yn,this._overrideRedirectResult=Es}_openPopup(p,g,w,T){var k=this;return(0,u.Z)(function*(){var z;_t(null===(z=k.eventManagers[p._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const se=yield In(p,g,w,Xt(),T);return function Ke(y,p,g,w=500,T=600){const k=Math.max((window.screen.availHeight-T)/2,0).toString(),z=Math.max((window.screen.availWidth-w)/2,0).toString();let se="";const Ne=Object.assign(Object.assign({},R),{width:w.toString(),height:T.toString(),top:k,left:z}),Ze=(0,O.z$)().toLowerCase();g&&(se=Qe(Ze)?"_blank":g),pe(Ze)&&(p=p||"http://localhost",Ne.scrollbars="yes");const it=Object.entries(Ne).reduce((Fn,[as,Su])=>`${Fn}${as}=${Su},`,"");if(function Cn(y=(0,O.z$)()){var p;return pt(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Ze)&&"_self"!==se)return function mt(y,p){const g=document.createElement("a");g.href=y,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",se),new Xe(null);const dt=window.open(p||"",se,it);de(dt,y,"popup-blocked");try{dt.focus()}catch{}return new Xe(dt)}(p,se,ws())})()}_openRedirect(p,g,w,T){var k=this;return(0,u.Z)(function*(){return yield k._originValidation(p),function au(y){Rn().location.href=y}(yield In(p,g,w,Xt(),T)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:T,promise:k}=this.eventManagers[g];return T?Promise.resolve(T):(_t(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const w=yield function E(y){return I.apply(this,arguments)}(p),T=new rs(p);return w.register("authEvent",k=>(de(k?.authEvent,p,"invalid-auth-event"),{status:T.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:T},g.iframes[p._key()]=w,T})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(uo,{type:uo},T=>{var k;const z=null===(k=T?.[0])||void 0===k?void 0:k[uo];void 0!==z&&g(!!z),Se(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function pu(y){return Lo.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Dn()||le()||pt()}}),this.cordovaResolver=Gn(class Wf{constructor(){this._redirectPersistence=Ro,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Yn,this._overrideRedirectResult=Es}_initialize(p){var g=this;return(0,u.Z)(function*(){const w=p._key();let T=g.eventManagers.get(w);return T||(T=new dl(p),g.eventManagers.set(w,T),g.attachCallbackListeners(p,T)),T})()}_openPopup(p){Se(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,T){var k=this;return(0,u.Z)(function*(){!function M0(y){var p,g,w,T,k,z,se,Ne,Ze,it;const dt=va();de("function"==typeof(null===(p=dt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),de(typeof(null===(g=dt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),de("function"==typeof(null===(k=null===(T=null===(w=dt?.cordova)||void 0===w?void 0:w.plugins)||void 0===T?void 0:T.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de("function"==typeof(null===(Ne=null===(se=null===(z=dt?.cordova)||void 0===z?void 0:z.plugins)||void 0===se?void 0:se.browsertab)||void 0===Ne?void 0:Ne.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de("function"==typeof(null===(it=null===(Ze=dt?.cordova)||void 0===Ze?void 0:Ze.InAppBrowser)||void 0===it?void 0:it.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const z=yield k._initialize(p);yield z.initialized(),z.resetRedirect(),function Nf(){Nn.clear()}(),yield k._originValidation(p);const se=function hl(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:lm(),postBody:null,tenantId:y.tenantId,error:Ce(y,"no-auth-event")}}(p,w,T);yield function qd(y,p){return Vo()._set(bu(y),p)}(p,se);const Ne=yield function pc(y,p,g){return yu.apply(this,arguments)}(p,se,g),Ze=yield function zf(y){const{cordova:p}=va();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let T=null;w?p.plugins.browsertab.openUrl(y):T=p.InAppBrowser.open(y,function Dt(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(T)})})}(Ne);return function ul(y,p,g){return vu.apply(this,arguments)}(p,z,Ze)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Gd(y){return gc.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:T,BuildInfo:k}=va(),z=setTimeout((0,u.Z)(function*(){yield Gf(p),g.onEvent(Zd())}),500),se=function(){var it=(0,u.Z)(function*(dt){clearTimeout(z);const Fn=yield Gf(p);let as=null;Fn&&dt?.url&&(as=function fl(y,p){var g,w;const T=function qf(y){const p=pl(y),g=p.link?decodeURIComponent(p.link):void 0,w=pl(g).link,T=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return pl(T).link||T||w||g||y}(p);if(T.includes("/__/auth/callback")){const k=pl(T),z=k.firebaseError?function cm(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(k.firebaseError)):null,se=null===(w=null===(g=z?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Ne=se?Ce(se):null;return Ne?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(Fn,dt.url)),g.onEvent(as||Zd())});return function(Fn){return it.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,se);const Ne=T,Ze=`${k.packageName.toLowerCase()}://`;va().handleOpenURL=function(){var it=(0,u.Z)(function*(dt){if(dt.toLowerCase().startsWith(Ze)&&se({url:dt}),"function"==typeof Ne)try{Ne(dt)}catch(Fn){console.error(Fn)}});return function(dt){return it.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ro,this._completeRedirectFn=Yn,this._overrideRedirectResult=Es}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,T){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,g,w,T)})()}_openRedirect(p,g,w,T){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,g,w,T)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return tp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return th(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function np(){return _c.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function nh(y){return y.unwrap()}function Eu(y){return rh(y)}function rh(y){const{_tokenResponse:p}=y instanceof O.ZR?y.customData:y;if(!p)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return ut.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=Gc;break;case"facebook.com":w=ii;break;case"github.com":w=Nl;break;case"twitter.com":w=qc;break;default:const{oauthIdToken:T,oauthAccessToken:k,oauthTokenSecret:z,pendingToken:se,nonce:Ne}=p;return k||z||T||se?se?g.startsWith("saml.")?Kn._create(g,se):Ai._fromParams({providerId:g,signInMethod:g,pendingToken:se,idToken:T,accessToken:k}):new xi(g).credential({idToken:T,accessToken:k,rawNonce:Ne}):null}return y instanceof O.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function yi(y,p){return p.catch(g=>{throw g instanceof O.ZR&&function ba(y,p){var g;const w=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Ry(y,function ql(y,p){var g;const w=(0,O.m9)(y),T=p;return de(p.customData.operationType,w,"argument-error"),de(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),vs._fromError(w,T)}(y,p));else if(w){const T=rh(p),k=p;T&&(k.credential=T,k.tenantId=w.tenantId||void 0,k.email=w.email||void 0,k.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:Eu(g),additionalUserInfo:$l(g),user:ar.getOrCreate(T)}})}function Cu(y,p){return Du.apply(this,arguments)}function Du(){return(Du=(0,u.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>yi(y,g.confirm(w))}})).apply(this,arguments)}class Ry{constructor(p,g){this.resolver=g,this.auth=function fm(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return yi(nh(this.auth),this.resolver.resolveSignIn(p))}}class ar{constructor(p){this._delegate=p,this.multiFactor=function Ja(y){const p=(0,O.m9)(y);return xo.has(p)||xo.set(p,Ao._fromUser(p)),xo.get(p)}(p)}static getOrCreate(p){return ar.USER_MAP.has(p)||ar.USER_MAP.set(p,new ar(p)),ar.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return yi(g.auth,Kc(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,u.Z)(function*(){return Cu(w.auth,function rm(y,p,g){return Po.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return yi(g.auth,function Bd(y,p,g){return No.apply(this,arguments)}(g._delegate,p,Kr))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield Ws(un(g.auth)),function ac(y,p,g){return function Ff(y,p,g){return tr.apply(this,arguments)}(y,p,g)}(g._delegate,p,Kr)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return yi(g.auth,Hn(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Cu(this.auth,function hu(y,p,g){return sl.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return yi(this.auth,function fa(y,p,g){return gt.apply(this,arguments)}(this._delegate,p,Kr))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield Ws(un(g.auth)),function ki(y,p,g){return function Or(y,p,g){return or.apply(this,arguments)}(y,p,g)}(g._delegate,p,Kr)})()}sendEmailVerification(p){return function Rd(y,p){return Hl.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function Td(y,p){return Xi.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function bf(y,p){return Za((0,O.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Vs(y,p){return Za((0,O.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function ns(y,p){return ot.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function kd(y,p){return Ka.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function tu(y,p,g){return So.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ar.USER_MAP=new WeakMap;const po=de;let pm=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;po(T,"invalid-api-key",{appName:g.name}),po(T,"invalid-api-key",{appName:g.name});const k=typeof window<"u"?Kr:void 0;this._delegate=w.initialize({options:{persistence:gm(T,g.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Ae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ar.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function fd(y,p,g){const w=un(y);de(w._canInitEmulator,w,"emulator-config-failed"),de(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const T=!!g?.disableWarnings,k=gr(p),{host:z,port:se}=function ri(y){const p=gr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(w);if(T){const k=T[1];return{host:k,port:so(w.substr(k.length+1))}}{const[k,z]=w.split(":");return{host:k,port:so(z)}}}(p);w.config.emulator={url:`${k}//${z}${null===se?"":`:${se}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:z,port:se,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Jo(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function Bl(y,p){return Gr.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Qc(this._delegate,g)}confirmPasswordReset(g,w){return function Yc(y,p,g){return za.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var T=this;return(0,u.Z)(function*(){return yi(T._delegate,function Xc(y,p,g){return qa.apply(this,arguments)}(T._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Md(y,p){return eu.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Jg(y,p){return"EMAIL_SIGNIN"===Pl.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){po(ep(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function Nr(y,p){return si.apply(this,arguments)}(g._delegate,Kr);return w?yi(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Kf(y,p){un(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,T){const{next:k,error:z,complete:se}=ih(g,w,T);return this._delegate.onAuthStateChanged(k,z,se)}onIdTokenChanged(g,w,T){const{next:k,error:z,complete:se}=ih(g,w,T);return this._delegate.onIdTokenChanged(k,z,se)}sendSignInLinkToEmail(g,w){return function ia(y,p,g){return Ul.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function Xg(y,p,g){return ra.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,u.Z)(function*(){let T;switch(function dm(y,p){yc(Object.values(Cr).includes(p),y,"invalid-persistence-type"),(0,O.b$)()?yc(p!==Cr.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?yc(p===Cr.NONE,y,"unsupported-persistence-type"):Jf()?yc(p===Cr.NONE||p===Cr.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):yc(p===Cr.NONE||Xf(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Cr.SESSION:T=Ro;break;case Cr.LOCAL:T=(yield Gn(Xl)._isAvailable())?Xl:bs;break;case Cr.NONE:T=ni;break;default:return Se("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return yi(this._delegate,function Cd(y){return Dd.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return yi(this._delegate,fi(this._delegate,g))}signInWithCustomToken(g){return yi(this._delegate,function pi(y,p){return Ji.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return yi(this._delegate,function xd(y,p,g){return fi((0,O.m9)(y),Wn.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return yi(this._delegate,function dn(y,p,g){return Ls.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Cu(this._delegate,function Of(y,p,g){return nc.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,u.Z)(function*(){return po(ep(),w._delegate,"operation-not-supported-in-this-environment"),yi(w._delegate,function sc(y,p,g){return Zn.apply(this,arguments)}(w._delegate,g,Kr))})()}signInWithRedirect(g){var w=this;return(0,u.Z)(function*(){return po(ep(),w._delegate,"operation-not-supported-in-this-environment"),yield Ws(w._delegate),function Hd(y,p,g){return function Ds(y,p,g){return _i.apply(this,arguments)}(y,p,g)}(w._delegate,g,Kr)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Ga(y,p){return Io.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Cr,y})();function ih(y,p,g){let w=y;"function"!=typeof y&&({next:w,error:p,complete:g}=y);const T=w;return{next:z=>T(z&&ar.getOrCreate(z)),error:p,complete:g}}function gm(y,p){const g=function hm(y,p){const g=eh();if(!g)return[];const w=j(Jd,y,p);switch(g.getItem(w)){case Cr.NONE:return[ni];case Cr.LOCAL:return[Xl,Ro];case Cr.SESSION:return[Ro];default:return[]}}(y,p);if(typeof self<"u"&&!g.includes(Xl)&&g.push(Xl),typeof window<"u")for(const w of[bs,Ro])g.includes(w)||g.push(w);return g.includes(ni)||g.push(ni),g}class sh{constructor(){this.providerId="phone",this._delegate=new ut(nh(q.Z.auth()))}static credential(p,g){return ut.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}sh.PHONE_SIGN_IN_METHOD=ut.PHONE_SIGN_IN_METHOD,sh.PROVIDER_ID=ut.PROVIDER_ID;const mm=de;class _m{constructor(p,g,w=q.Z.app()){var T;mm(null===(T=w.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new tc(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Iu(y){y.INTERNAL.registerComponent(new ee.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new pm(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Wn,FacebookAuthProvider:ii,GithubAuthProvider:Nl,GoogleAuthProvider:Gc,OAuthProvider:xi,SAMLAuthProvider:Eo,PhoneAuthProvider:sh,PhoneMultiFactorGenerator:im,RecaptchaVerifier:_m,TwitterAuthProvider:qc,Auth:pm,AuthCredential:Ps,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.1")}(q.Z)},5861:(ie,re,N)=>{"use strict";function u(O,te,G,oe,ee,be,ge){try{var $=O[be](ge),B=$.value}catch(X){return void G(X)}$.done?te(B):Promise.resolve(B).then(oe,ee)}function q(O){return function(){var te=this,G=arguments;return new Promise(function(oe,ee){var be=O.apply(te,G);function ge(B){u(be,oe,ee,ge,$,"next",B)}function $(B){u(be,oe,ee,ge,$,"throw",B)}ge(void 0)})}}N.d(re,{Z:()=>q})}},ie=>{ie(ie.s=6358)}]);